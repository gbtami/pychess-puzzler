"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));

  // node_modules/mousetrap/mousetrap.js
  var require_mousetrap = __commonJS({
    "node_modules/mousetrap/mousetrap.js"(exports, module) {
      (function(window2, document2, undefined2) {
        if (!window2) {
          return;
        }
        var _MAP = {
          8: "backspace",
          9: "tab",
          13: "enter",
          16: "shift",
          17: "ctrl",
          18: "alt",
          20: "capslock",
          27: "esc",
          32: "space",
          33: "pageup",
          34: "pagedown",
          35: "end",
          36: "home",
          37: "left",
          38: "up",
          39: "right",
          40: "down",
          45: "ins",
          46: "del",
          91: "meta",
          93: "meta",
          224: "meta"
        };
        var _KEYCODE_MAP = {
          106: "*",
          107: "+",
          109: "-",
          110: ".",
          111: "/",
          186: ";",
          187: "=",
          188: ",",
          189: "-",
          190: ".",
          191: "/",
          192: "`",
          219: "[",
          220: "\\",
          221: "]",
          222: "'"
        };
        var _SHIFT_MAP = {
          "~": "`",
          "!": "1",
          "@": "2",
          "#": "3",
          "$": "4",
          "%": "5",
          "^": "6",
          "&": "7",
          "*": "8",
          "(": "9",
          ")": "0",
          "_": "-",
          "+": "=",
          ":": ";",
          '"': "'",
          "<": ",",
          ">": ".",
          "?": "/",
          "|": "\\"
        };
        var _SPECIAL_ALIASES = {
          "option": "alt",
          "command": "meta",
          "return": "enter",
          "escape": "esc",
          "plus": "+",
          "mod": /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl"
        };
        var _REVERSE_MAP;
        for (var i = 1; i < 20; ++i) {
          _MAP[111 + i] = "f" + i;
        }
        for (i = 0; i <= 9; ++i) {
          _MAP[i + 96] = i.toString();
        }
        function _addEvent(object, type, callback) {
          if (object.addEventListener) {
            object.addEventListener(type, callback, false);
            return;
          }
          object.attachEvent("on" + type, callback);
        }
        function _characterFromEvent(e) {
          if (e.type == "keypress") {
            var character = String.fromCharCode(e.which);
            if (!e.shiftKey) {
              character = character.toLowerCase();
            }
            return character;
          }
          if (_MAP[e.which]) {
            return _MAP[e.which];
          }
          if (_KEYCODE_MAP[e.which]) {
            return _KEYCODE_MAP[e.which];
          }
          return String.fromCharCode(e.which).toLowerCase();
        }
        function _modifiersMatch(modifiers1, modifiers2) {
          return modifiers1.sort().join(",") === modifiers2.sort().join(",");
        }
        function _eventModifiers(e) {
          var modifiers = [];
          if (e.shiftKey) {
            modifiers.push("shift");
          }
          if (e.altKey) {
            modifiers.push("alt");
          }
          if (e.ctrlKey) {
            modifiers.push("ctrl");
          }
          if (e.metaKey) {
            modifiers.push("meta");
          }
          return modifiers;
        }
        function _preventDefault(e) {
          if (e.preventDefault) {
            e.preventDefault();
            return;
          }
          e.returnValue = false;
        }
        function _stopPropagation(e) {
          if (e.stopPropagation) {
            e.stopPropagation();
            return;
          }
          e.cancelBubble = true;
        }
        function _isModifier(key) {
          return key == "shift" || key == "ctrl" || key == "alt" || key == "meta";
        }
        function _getReverseMap() {
          if (!_REVERSE_MAP) {
            _REVERSE_MAP = {};
            for (var key in _MAP) {
              if (key > 95 && key < 112) {
                continue;
              }
              if (_MAP.hasOwnProperty(key)) {
                _REVERSE_MAP[_MAP[key]] = key;
              }
            }
          }
          return _REVERSE_MAP;
        }
        function _pickBestAction(key, modifiers, action) {
          if (!action) {
            action = _getReverseMap()[key] ? "keydown" : "keypress";
          }
          if (action == "keypress" && modifiers.length) {
            action = "keydown";
          }
          return action;
        }
        function _keysFromString(combination) {
          if (combination === "+") {
            return ["+"];
          }
          combination = combination.replace(/\+{2}/g, "+plus");
          return combination.split("+");
        }
        function _getKeyInfo(combination, action) {
          var keys;
          var key;
          var i2;
          var modifiers = [];
          keys = _keysFromString(combination);
          for (i2 = 0; i2 < keys.length; ++i2) {
            key = keys[i2];
            if (_SPECIAL_ALIASES[key]) {
              key = _SPECIAL_ALIASES[key];
            }
            if (action && action != "keypress" && _SHIFT_MAP[key]) {
              key = _SHIFT_MAP[key];
              modifiers.push("shift");
            }
            if (_isModifier(key)) {
              modifiers.push(key);
            }
          }
          action = _pickBestAction(key, modifiers, action);
          return {
            key,
            modifiers,
            action
          };
        }
        function _belongsTo(element, ancestor) {
          if (element === null || element === document2) {
            return false;
          }
          if (element === ancestor) {
            return true;
          }
          return _belongsTo(element.parentNode, ancestor);
        }
        function Mousetrap2(targetElement) {
          var self2 = this;
          targetElement = targetElement || document2;
          if (!(self2 instanceof Mousetrap2)) {
            return new Mousetrap2(targetElement);
          }
          self2.target = targetElement;
          self2._callbacks = {};
          self2._directMap = {};
          var _sequenceLevels = {};
          var _resetTimer;
          var _ignoreNextKeyup = false;
          var _ignoreNextKeypress = false;
          var _nextExpectedAction = false;
          function _resetSequences(doNotReset) {
            doNotReset = doNotReset || {};
            var activeSequences = false, key;
            for (key in _sequenceLevels) {
              if (doNotReset[key]) {
                activeSequences = true;
                continue;
              }
              _sequenceLevels[key] = 0;
            }
            if (!activeSequences) {
              _nextExpectedAction = false;
            }
          }
          function _getMatches(character, modifiers, e, sequenceName, combination, level) {
            var i2;
            var callback;
            var matches = [];
            var action = e.type;
            if (!self2._callbacks[character]) {
              return [];
            }
            if (action == "keyup" && _isModifier(character)) {
              modifiers = [character];
            }
            for (i2 = 0; i2 < self2._callbacks[character].length; ++i2) {
              callback = self2._callbacks[character][i2];
              if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {
                continue;
              }
              if (action != callback.action) {
                continue;
              }
              if (action == "keypress" && !e.metaKey && !e.ctrlKey || _modifiersMatch(modifiers, callback.modifiers)) {
                var deleteCombo = !sequenceName && callback.combo == combination;
                var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;
                if (deleteCombo || deleteSequence) {
                  self2._callbacks[character].splice(i2, 1);
                }
                matches.push(callback);
              }
            }
            return matches;
          }
          function _fireCallback(callback, e, combo, sequence) {
            if (self2.stopCallback(e, e.target || e.srcElement, combo, sequence)) {
              return;
            }
            if (callback(e, combo) === false) {
              _preventDefault(e);
              _stopPropagation(e);
            }
          }
          self2._handleKey = function(character, modifiers, e) {
            var callbacks = _getMatches(character, modifiers, e);
            var i2;
            var doNotReset = {};
            var maxLevel = 0;
            var processedSequenceCallback = false;
            for (i2 = 0; i2 < callbacks.length; ++i2) {
              if (callbacks[i2].seq) {
                maxLevel = Math.max(maxLevel, callbacks[i2].level);
              }
            }
            for (i2 = 0; i2 < callbacks.length; ++i2) {
              if (callbacks[i2].seq) {
                if (callbacks[i2].level != maxLevel) {
                  continue;
                }
                processedSequenceCallback = true;
                doNotReset[callbacks[i2].seq] = 1;
                _fireCallback(callbacks[i2].callback, e, callbacks[i2].combo, callbacks[i2].seq);
                continue;
              }
              if (!processedSequenceCallback) {
                _fireCallback(callbacks[i2].callback, e, callbacks[i2].combo);
              }
            }
            var ignoreThisKeypress = e.type == "keypress" && _ignoreNextKeypress;
            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {
              _resetSequences(doNotReset);
            }
            _ignoreNextKeypress = processedSequenceCallback && e.type == "keydown";
          };
          function _handleKeyEvent(e) {
            if (typeof e.which !== "number") {
              e.which = e.keyCode;
            }
            var character = _characterFromEvent(e);
            if (!character) {
              return;
            }
            if (e.type == "keyup" && _ignoreNextKeyup === character) {
              _ignoreNextKeyup = false;
              return;
            }
            self2.handleKey(character, _eventModifiers(e), e);
          }
          function _resetSequenceTimer() {
            clearTimeout(_resetTimer);
            _resetTimer = setTimeout(_resetSequences, 1e3);
          }
          function _bindSequence(combo, keys, callback, action) {
            _sequenceLevels[combo] = 0;
            function _increaseSequence(nextAction) {
              return function() {
                _nextExpectedAction = nextAction;
                ++_sequenceLevels[combo];
                _resetSequenceTimer();
              };
            }
            function _callbackAndReset(e) {
              _fireCallback(callback, e, combo);
              if (action !== "keyup") {
                _ignoreNextKeyup = _characterFromEvent(e);
              }
              setTimeout(_resetSequences, 10);
            }
            for (var i2 = 0; i2 < keys.length; ++i2) {
              var isFinal = i2 + 1 === keys.length;
              var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i2 + 1]).action);
              _bindSingle(keys[i2], wrappedCallback, action, combo, i2);
            }
          }
          function _bindSingle(combination, callback, action, sequenceName, level) {
            self2._directMap[combination + ":" + action] = callback;
            combination = combination.replace(/\s+/g, " ");
            var sequence = combination.split(" ");
            var info;
            if (sequence.length > 1) {
              _bindSequence(combination, sequence, callback, action);
              return;
            }
            info = _getKeyInfo(combination, action);
            self2._callbacks[info.key] = self2._callbacks[info.key] || [];
            _getMatches(info.key, info.modifiers, { type: info.action }, sequenceName, combination, level);
            self2._callbacks[info.key][sequenceName ? "unshift" : "push"]({
              callback,
              modifiers: info.modifiers,
              action: info.action,
              seq: sequenceName,
              level,
              combo: combination
            });
          }
          self2._bindMultiple = function(combinations, callback, action) {
            for (var i2 = 0; i2 < combinations.length; ++i2) {
              _bindSingle(combinations[i2], callback, action);
            }
          };
          _addEvent(targetElement, "keypress", _handleKeyEvent);
          _addEvent(targetElement, "keydown", _handleKeyEvent);
          _addEvent(targetElement, "keyup", _handleKeyEvent);
        }
        Mousetrap2.prototype.bind = function(keys, callback, action) {
          var self2 = this;
          keys = keys instanceof Array ? keys : [keys];
          self2._bindMultiple.call(self2, keys, callback, action);
          return self2;
        };
        Mousetrap2.prototype.unbind = function(keys, action) {
          var self2 = this;
          return self2.bind.call(self2, keys, function() {
          }, action);
        };
        Mousetrap2.prototype.trigger = function(keys, action) {
          var self2 = this;
          if (self2._directMap[keys + ":" + action]) {
            self2._directMap[keys + ":" + action]({}, keys);
          }
          return self2;
        };
        Mousetrap2.prototype.reset = function() {
          var self2 = this;
          self2._callbacks = {};
          self2._directMap = {};
          return self2;
        };
        Mousetrap2.prototype.stopCallback = function(e, element) {
          var self2 = this;
          if ((" " + element.className + " ").indexOf(" mousetrap ") > -1) {
            return false;
          }
          if (_belongsTo(element, self2.target)) {
            return false;
          }
          if ("composedPath" in e && typeof e.composedPath === "function") {
            var initialEventTarget = e.composedPath()[0];
            if (initialEventTarget !== e.target) {
              element = initialEventTarget;
            }
          }
          return element.tagName == "INPUT" || element.tagName == "SELECT" || element.tagName == "TEXTAREA" || element.isContentEditable;
        };
        Mousetrap2.prototype.handleKey = function() {
          var self2 = this;
          return self2._handleKey.apply(self2, arguments);
        };
        Mousetrap2.addKeycodes = function(object) {
          for (var key in object) {
            if (object.hasOwnProperty(key)) {
              _MAP[key] = object[key];
            }
          }
          _REVERSE_MAP = null;
        };
        Mousetrap2.init = function() {
          var documentMousetrap = Mousetrap2(document2);
          for (var method in documentMousetrap) {
            if (method.charAt(0) !== "_") {
              Mousetrap2[method] = function(method2) {
                return function() {
                  return documentMousetrap[method2].apply(documentMousetrap, arguments);
                };
              }(method);
            }
          }
        };
        Mousetrap2.init();
        window2.Mousetrap = Mousetrap2;
        if (typeof module !== "undefined" && module.exports) {
          module.exports = Mousetrap2;
        }
        if (typeof define === "function" && define.amd) {
          define(function() {
            return Mousetrap2;
          });
        }
      })(typeof window !== "undefined" ? window : null, typeof window !== "undefined" ? document : null);
    }
  });

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound2 = self2._howls[i]._soundById(ids[j]);
                    if (sound2 && sound2._node) {
                      sound2._node.volume = sound2._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound2 = self2._howls[i]._soundById(ids[j]);
                  if (sound2 && sound2._node) {
                    sound2._node.muted = muted ? true : sound2._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/([0-6].)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound2 = self2._howls[i]._soundById(ids[j]);
                    if (sound2 && sound2._node && !sound2._node._unlocked) {
                      sound2._node._unlocked = true;
                      sound2._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl3 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl3.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str = self2._src[i];
                if (typeof str !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound2 = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound2) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound2._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound2._sprite = sprite;
              sound2._ended = false;
              var soundId = sound2._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound2._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound2._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound2._seek > 0 ? sound2._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout = duration * 1e3 / Math.abs(sound2._rate);
            var start4 = self2._sprite[sprite][0] / 1e3;
            var stop2 = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound2._sprite = sprite;
            sound2._ended = false;
            var setParams = function() {
              sound2._paused = false;
              sound2._seek = seek;
              sound2._start = start4;
              sound2._stop = stop2;
              sound2._loop = !!(sound2._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop2) {
              self2._ended(sound2);
              return;
            }
            var node = sound2._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound2);
                var vol = sound2._muted || self2._muted ? 0 : sound2._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound2._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound2._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound2._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout !== Infinity) {
                  self2._endTimers[sound2._id] = setTimeout(self2._ended.bind(self2, sound2), timeout);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound2._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound2._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound2._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound2._volume * Howler2.volume();
                node.playbackRate = sound2._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound2._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound2._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound2._ended = true;
                      sound2._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound2._id);
                  }
                  node.playbackRate = sound2._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound2._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound2._loop) {
                    self2._endTimers[sound2._id] = setTimeout(self2._ended.bind(self2, sound2), timeout);
                  } else {
                    self2._endTimers[sound2._id] = function() {
                      self2._ended(sound2);
                      node.removeEventListener("ended", self2._endTimers[sound2._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound2._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound2._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound2._id);
              }
            }
            return sound2._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound2 = self2._soundById(ids[i]);
              if (sound2 && !sound2._paused) {
                sound2._seek = self2.seek(ids[i]);
                sound2._rateSeek = 0;
                sound2._paused = true;
                self2._stopFade(ids[i]);
                if (sound2._node) {
                  if (self2._webAudio) {
                    if (!sound2._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound2._node.bufferSource.stop === "undefined") {
                      sound2._node.bufferSource.noteOff(0);
                    } else {
                      sound2._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound2._node);
                  } else if (!isNaN(sound2._node.duration) || sound2._node.duration === Infinity) {
                    sound2._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound2 ? sound2._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound2 = self2._soundById(ids[i]);
              if (sound2) {
                sound2._seek = sound2._start || 0;
                sound2._rateSeek = 0;
                sound2._paused = true;
                sound2._ended = true;
                self2._stopFade(ids[i]);
                if (sound2._node) {
                  if (self2._webAudio) {
                    if (sound2._node.bufferSource) {
                      if (typeof sound2._node.bufferSource.stop === "undefined") {
                        sound2._node.bufferSource.noteOff(0);
                      } else {
                        sound2._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound2._node);
                    }
                  } else if (!isNaN(sound2._node.duration) || sound2._node.duration === Infinity) {
                    sound2._node.currentTime = sound2._start || 0;
                    sound2._node.pause();
                    if (sound2._node.duration === Infinity) {
                      self2._clearSound(sound2._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound2._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound2 = self2._soundById(ids[i]);
              if (sound2) {
                sound2._muted = muted;
                if (sound2._interval) {
                  self2._stopFade(sound2._id);
                }
                if (self2._webAudio && sound2._node) {
                  sound2._node.gain.setValueAtTime(muted ? 0 : sound2._volume, Howler2.ctx.currentTime);
                } else if (sound2._node) {
                  sound2._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound2._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound2;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound2 = self2._soundById(id[i]);
                if (sound2) {
                  sound2._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound2._node && !sound2._muted) {
                    sound2._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound2._node && !sound2._muted) {
                    sound2._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound2._id);
                }
              }
            } else {
              sound2 = id ? self2._soundById(id) : self2._sounds[0];
              return sound2 ? sound2._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len = parseFloat(len);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound2 = self2._soundById(ids[i]);
              if (sound2) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound2._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end3 = currentTime + len / 1e3;
                  sound2._volume = from;
                  sound2._node.gain.setValueAtTime(from, currentTime);
                  sound2._node.gain.linearRampToValueAtTime(to, end3);
                }
                self2._startFadeInterval(sound2, from, to, len, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound2, from, to, len, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff2 = to - from;
            var steps = Math.abs(diff2 / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len / steps : len);
            var lastTick = Date.now();
            sound2._fadeTo = to;
            sound2._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len;
              lastTick = Date.now();
              vol += diff2 * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff2 < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound2._volume = vol;
              } else {
                self2.volume(vol, sound2._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound2._interval);
                sound2._interval = null;
                sound2._fadeTo = null;
                self2.volume(to, sound2._id);
                self2._emit("fade", sound2._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound2 = self2._soundById(id);
            if (sound2 && sound2._interval) {
              if (self2._webAudio) {
                sound2._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound2._interval);
              sound2._interval = null;
              self2.volume(sound2._fadeTo, id);
              sound2._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound2;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound2 = self2._soundById(parseInt(args[0], 10));
                return sound2 ? sound2._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound2 = self2._soundById(ids[i]);
              if (sound2) {
                sound2._loop = loop;
                if (self2._webAudio && sound2._node && sound2._node.bufferSource) {
                  sound2._node.bufferSource.loop = loop;
                  if (loop) {
                    sound2._node.bufferSource.loopStart = sound2._start || 0;
                    sound2._node.bufferSource.loopEnd = sound2._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound2;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound2 = self2._soundById(id[i]);
                if (sound2) {
                  if (self2.playing(id[i])) {
                    sound2._rateSeek = self2.seek(id[i]);
                    sound2._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound2._playStart;
                  }
                  sound2._rate = rate;
                  if (self2._webAudio && sound2._node && sound2._node.bufferSource) {
                    sound2._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound2._node) {
                    sound2._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound2._sprite][0] + self2._sprite[sound2._sprite][1]) / 1e3 - seek;
                  var timeout = duration * 1e3 / Math.abs(sound2._rate);
                  if (self2._endTimers[id[i]] || !sound2._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound2), timeout);
                  }
                  self2._emit("rate", sound2._id);
                }
              }
            } else {
              sound2 = self2._soundById(id);
              return sound2 ? sound2._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound2 = self2._soundById(id);
            if (sound2) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound2._seek = seek;
                sound2._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound2._node && !isNaN(sound2._node.duration)) {
                  sound2._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound2._playStart : 0;
                  var rateSeek = sound2._rateSeek ? sound2._rateSeek - sound2._seek : 0;
                  return sound2._seek + (rateSeek + realTime * Math.abs(sound2._rate));
                } else {
                  return sound2._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound2 = self2._soundById(id);
              return sound2 ? !sound2._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound2 = self2._soundById(id);
            if (sound2) {
              duration = self2._sprite[sound2._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound2) {
            var self2 = this;
            var sprite = sound2._sprite;
            if (!self2._webAudio && sound2._node && !sound2._node.paused && !sound2._node.ended && sound2._node.currentTime < sound2._stop) {
              setTimeout(self2._ended.bind(self2, sound2), 100);
              return self2;
            }
            var loop = !!(sound2._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound2._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound2._id, true).play(sound2._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound2._id);
              sound2._seek = sound2._start || 0;
              sound2._rateSeek = 0;
              sound2._playStart = Howler2.ctx.currentTime;
              var timeout = (sound2._stop - sound2._start) * 1e3 / Math.abs(sound2._rate);
              self2._endTimers[sound2._id] = setTimeout(self2._ended.bind(self2, sound2), timeout);
            }
            if (self2._webAudio && !loop) {
              sound2._paused = true;
              sound2._ended = true;
              sound2._seek = sound2._start || 0;
              sound2._rateSeek = 0;
              self2._clearTimer(sound2._id);
              self2._cleanBuffer(sound2._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound2._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound2 = self2._soundById(id);
                if (sound2 && sound2._node) {
                  sound2._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound2) {
            var self2 = this;
            sound2._node.bufferSource = Howler2.ctx.createBufferSource();
            sound2._node.bufferSource.buffer = cache[self2._src];
            if (sound2._panner) {
              sound2._node.bufferSource.connect(sound2._panner);
            } else {
              sound2._node.bufferSource.connect(sound2._node);
            }
            sound2._node.bufferSource.loop = sound2._loop;
            if (sound2._loop) {
              sound2._node.bufferSource.loopStart = sound2._start || 0;
              sound2._node.bufferSource.loopEnd = sound2._stop || 0;
            }
            sound2._node.bufferSource.playbackRate.setValueAtTime(sound2._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl3
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl3;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl3;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl3;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or2 = self2._orientation;
          y = typeof y !== "number" ? or2[1] : y;
          z = typeof z !== "number" ? or2[2] : z;
          xUp = typeof xUp !== "number" ? or2[3] : xUp;
          yUp = typeof yUp !== "number" ? or2[4] : yUp;
          zUp = typeof zUp !== "number" ? or2[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or2;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound2 = self2._soundById(ids[i]);
            if (sound2) {
              if (typeof pan === "number") {
                sound2._stereo = pan;
                sound2._pos = [pan, 0, 0];
                if (sound2._node) {
                  sound2._pannerAttr.panningModel = "equalpower";
                  if (!sound2._panner || !sound2._panner.pan) {
                    setupPanner(sound2, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound2._panner.positionX !== "undefined") {
                      sound2._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound2._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound2._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound2._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound2._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound2._id);
              } else {
                return sound2._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound2 = self2._soundById(ids[i]);
            if (sound2) {
              if (typeof x === "number") {
                sound2._pos = [x, y, z];
                if (sound2._node) {
                  if (!sound2._panner || sound2._panner.pan) {
                    setupPanner(sound2, "spatial");
                  }
                  if (typeof sound2._panner.positionX !== "undefined") {
                    sound2._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound2._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound2._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound2._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound2._id);
              } else {
                return sound2._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound2 = self2._soundById(ids[i]);
            if (sound2) {
              if (typeof x === "number") {
                sound2._orientation = [x, y, z];
                if (sound2._node) {
                  if (!sound2._panner) {
                    if (!sound2._pos) {
                      sound2._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound2, "spatial");
                  }
                  if (typeof sound2._panner.orientationX !== "undefined") {
                    sound2._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound2._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound2._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound2._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound2._id);
              } else {
                return sound2._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound2;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound2 = self2._soundById(parseInt(args[0], 10));
              return sound2 ? sound2._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound2 = self2._soundById(ids[i]);
            if (sound2) {
              var pa = sound2._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound2._panner;
              if (panner) {
                panner.coneInnerAngle = pa.coneInnerAngle;
                panner.coneOuterAngle = pa.coneOuterAngle;
                panner.coneOuterGain = pa.coneOuterGain;
                panner.distanceModel = pa.distanceModel;
                panner.maxDistance = pa.maxDistance;
                panner.refDistance = pa.refDistance;
                panner.rolloffFactor = pa.rolloffFactor;
                panner.panningModel = pa.panningModel;
              } else {
                if (!sound2._pos) {
                  sound2._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound2, "spatial");
              }
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound2, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound2._panner = Howler.ctx.createPanner();
            sound2._panner.coneInnerAngle = sound2._pannerAttr.coneInnerAngle;
            sound2._panner.coneOuterAngle = sound2._pannerAttr.coneOuterAngle;
            sound2._panner.coneOuterGain = sound2._pannerAttr.coneOuterGain;
            sound2._panner.distanceModel = sound2._pannerAttr.distanceModel;
            sound2._panner.maxDistance = sound2._pannerAttr.maxDistance;
            sound2._panner.refDistance = sound2._pannerAttr.refDistance;
            sound2._panner.rolloffFactor = sound2._pannerAttr.rolloffFactor;
            sound2._panner.panningModel = sound2._pannerAttr.panningModel;
            if (typeof sound2._panner.positionX !== "undefined") {
              sound2._panner.positionX.setValueAtTime(sound2._pos[0], Howler.ctx.currentTime);
              sound2._panner.positionY.setValueAtTime(sound2._pos[1], Howler.ctx.currentTime);
              sound2._panner.positionZ.setValueAtTime(sound2._pos[2], Howler.ctx.currentTime);
            } else {
              sound2._panner.setPosition(sound2._pos[0], sound2._pos[1], sound2._pos[2]);
            }
            if (typeof sound2._panner.orientationX !== "undefined") {
              sound2._panner.orientationX.setValueAtTime(sound2._orientation[0], Howler.ctx.currentTime);
              sound2._panner.orientationY.setValueAtTime(sound2._orientation[1], Howler.ctx.currentTime);
              sound2._panner.orientationZ.setValueAtTime(sound2._orientation[2], Howler.ctx.currentTime);
            } else {
              sound2._panner.setOrientation(sound2._orientation[0], sound2._orientation[1], sound2._orientation[2]);
            }
          } else {
            sound2._panner = Howler.ctx.createStereoPanner();
            sound2._panner.pan.setValueAtTime(sound2._stereo, Howler.ctx.currentTime);
          }
          sound2._panner.connect(sound2._node);
          if (!sound2._paused) {
            sound2._parent.pause(sound2._id, true).play(sound2._id, true);
          }
        };
      })();
    }
  });

  // node_modules/snabbdom/build/htmldomapi.js
  function createElement(tagName2, options) {
    return document.createElement(tagName2, options);
  }
  function createElementNS(namespaceURI, qualifiedName, options) {
    return document.createElementNS(namespaceURI, qualifiedName, options);
  }
  function createDocumentFragment() {
    return parseFragment(document.createDocumentFragment());
  }
  function createTextNode(text) {
    return document.createTextNode(text);
  }
  function createComment(text) {
    return document.createComment(text);
  }
  function insertBefore(parentNode2, newNode, referenceNode) {
    if (isDocumentFragment(parentNode2)) {
      let node = parentNode2;
      while (node && isDocumentFragment(node)) {
        const fragment2 = parseFragment(node);
        node = fragment2.parent;
      }
      parentNode2 = node !== null && node !== void 0 ? node : parentNode2;
    }
    if (isDocumentFragment(newNode)) {
      newNode = parseFragment(newNode, parentNode2);
    }
    if (referenceNode && isDocumentFragment(referenceNode)) {
      referenceNode = parseFragment(referenceNode).firstChildNode;
    }
    parentNode2.insertBefore(newNode, referenceNode);
  }
  function removeChild(node, child) {
    node.removeChild(child);
  }
  function appendChild(node, child) {
    if (isDocumentFragment(child)) {
      child = parseFragment(child, node);
    }
    node.appendChild(child);
  }
  function parentNode(node) {
    if (isDocumentFragment(node)) {
      while (node && isDocumentFragment(node)) {
        const fragment2 = parseFragment(node);
        node = fragment2.parent;
      }
      return node !== null && node !== void 0 ? node : null;
    }
    return node.parentNode;
  }
  function nextSibling(node) {
    var _a2;
    if (isDocumentFragment(node)) {
      const fragment2 = parseFragment(node);
      const parent = parentNode(fragment2);
      if (parent && fragment2.lastChildNode) {
        const children = Array.from(parent.childNodes);
        const index = children.indexOf(fragment2.lastChildNode);
        return (_a2 = children[index + 1]) !== null && _a2 !== void 0 ? _a2 : null;
      }
      return null;
    }
    return node.nextSibling;
  }
  function tagName(elm) {
    return elm.tagName;
  }
  function setTextContent(node, text) {
    node.textContent = text;
  }
  function getTextContent(node) {
    return node.textContent;
  }
  function isElement(node) {
    return node.nodeType === 1;
  }
  function isText(node) {
    return node.nodeType === 3;
  }
  function isComment(node) {
    return node.nodeType === 8;
  }
  function isDocumentFragment(node) {
    return node.nodeType === 11;
  }
  function parseFragment(fragmentNode, parentNode2) {
    var _a2, _b, _c;
    const fragment2 = fragmentNode;
    (_a2 = fragment2.parent) !== null && _a2 !== void 0 ? _a2 : fragment2.parent = parentNode2 !== null && parentNode2 !== void 0 ? parentNode2 : null;
    (_b = fragment2.firstChildNode) !== null && _b !== void 0 ? _b : fragment2.firstChildNode = fragmentNode.firstChild;
    (_c = fragment2.lastChildNode) !== null && _c !== void 0 ? _c : fragment2.lastChildNode = fragmentNode.lastChild;
    return fragment2;
  }
  var htmlDomApi = {
    createElement,
    createElementNS,
    createTextNode,
    createDocumentFragment,
    createComment,
    insertBefore,
    removeChild,
    appendChild,
    parentNode,
    nextSibling,
    tagName,
    setTextContent,
    getTextContent,
    isElement,
    isText,
    isComment,
    isDocumentFragment
  };

  // node_modules/snabbdom/build/vnode.js
  function vnode(sel, data, children, text, elm) {
    const key = data === void 0 ? void 0 : data.key;
    return { sel, data, children, text, elm, key };
  }

  // node_modules/snabbdom/build/is.js
  var array = Array.isArray;
  function primitive(s) {
    return typeof s === "string" || typeof s === "number" || s instanceof String || s instanceof Number;
  }

  // node_modules/snabbdom/build/init.js
  function isUndef(s) {
    return s === void 0;
  }
  function isDef(s) {
    return s !== void 0;
  }
  var emptyNode = vnode("", {}, [], void 0, void 0);
  function sameVnode(vnode1, vnode2) {
    var _a2, _b;
    const isSameKey = vnode1.key === vnode2.key;
    const isSameIs = ((_a2 = vnode1.data) === null || _a2 === void 0 ? void 0 : _a2.is) === ((_b = vnode2.data) === null || _b === void 0 ? void 0 : _b.is);
    const isSameSel = vnode1.sel === vnode2.sel;
    const isSameTextOrFragment = !vnode1.sel && vnode1.sel === vnode2.sel ? typeof vnode1.text === typeof vnode2.text : true;
    return isSameSel && isSameKey && isSameIs && isSameTextOrFragment;
  }
  function documentFragmentIsNotSupported() {
    throw new Error("The document fragment is not supported on this platform.");
  }
  function isElement2(api, vnode2) {
    return api.isElement(vnode2);
  }
  function isDocumentFragment2(api, vnode2) {
    return api.isDocumentFragment(vnode2);
  }
  function createKeyToOldIdx(children, beginIdx, endIdx) {
    var _a2;
    const map = {};
    for (let i = beginIdx; i <= endIdx; ++i) {
      const key = (_a2 = children[i]) === null || _a2 === void 0 ? void 0 : _a2.key;
      if (key !== void 0) {
        map[key] = i;
      }
    }
    return map;
  }
  var hooks = [
    "create",
    "update",
    "remove",
    "destroy",
    "pre",
    "post"
  ];
  function init(modules, domApi, options) {
    const cbs = {
      create: [],
      update: [],
      remove: [],
      destroy: [],
      pre: [],
      post: []
    };
    const api = domApi !== void 0 ? domApi : htmlDomApi;
    for (const hook of hooks) {
      for (const module of modules) {
        const currentHook = module[hook];
        if (currentHook !== void 0) {
          cbs[hook].push(currentHook);
        }
      }
    }
    function emptyNodeAt(elm) {
      const id = elm.id ? "#" + elm.id : "";
      const classes = elm.getAttribute("class");
      const c = classes ? "." + classes.split(" ").join(".") : "";
      return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], void 0, elm);
    }
    function emptyDocumentFragmentAt(frag) {
      return vnode(void 0, {}, [], void 0, frag);
    }
    function createRmCb(childElm, listeners) {
      return function rmCb() {
        if (--listeners === 0) {
          const parent = api.parentNode(childElm);
          api.removeChild(parent, childElm);
        }
      };
    }
    function createElm(vnode2, insertedVnodeQueue) {
      var _a2, _b, _c, _d;
      let i;
      let data = vnode2.data;
      if (data !== void 0) {
        const init2 = (_a2 = data.hook) === null || _a2 === void 0 ? void 0 : _a2.init;
        if (isDef(init2)) {
          init2(vnode2);
          data = vnode2.data;
        }
      }
      const children = vnode2.children;
      const sel = vnode2.sel;
      if (sel === "!") {
        if (isUndef(vnode2.text)) {
          vnode2.text = "";
        }
        vnode2.elm = api.createComment(vnode2.text);
      } else if (sel !== void 0) {
        const hashIdx = sel.indexOf("#");
        const dotIdx = sel.indexOf(".", hashIdx);
        const hash2 = hashIdx > 0 ? hashIdx : sel.length;
        const dot = dotIdx > 0 ? dotIdx : sel.length;
        const tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash2, dot)) : sel;
        const elm = vnode2.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag, data) : api.createElement(tag, data);
        if (hash2 < dot)
          elm.setAttribute("id", sel.slice(hash2 + 1, dot));
        if (dotIdx > 0)
          elm.setAttribute("class", sel.slice(dot + 1).replace(/\./g, " "));
        for (i = 0; i < cbs.create.length; ++i)
          cbs.create[i](emptyNode, vnode2);
        if (array(children)) {
          for (i = 0; i < children.length; ++i) {
            const ch = children[i];
            if (ch != null) {
              api.appendChild(elm, createElm(ch, insertedVnodeQueue));
            }
          }
        } else if (primitive(vnode2.text)) {
          api.appendChild(elm, api.createTextNode(vnode2.text));
        }
        const hook = vnode2.data.hook;
        if (isDef(hook)) {
          (_b = hook.create) === null || _b === void 0 ? void 0 : _b.call(hook, emptyNode, vnode2);
          if (hook.insert) {
            insertedVnodeQueue.push(vnode2);
          }
        }
      } else if (((_c = options === null || options === void 0 ? void 0 : options.experimental) === null || _c === void 0 ? void 0 : _c.fragments) && vnode2.children) {
        vnode2.elm = ((_d = api.createDocumentFragment) !== null && _d !== void 0 ? _d : documentFragmentIsNotSupported)();
        for (i = 0; i < cbs.create.length; ++i)
          cbs.create[i](emptyNode, vnode2);
        for (i = 0; i < vnode2.children.length; ++i) {
          const ch = vnode2.children[i];
          if (ch != null) {
            api.appendChild(vnode2.elm, createElm(ch, insertedVnodeQueue));
          }
        }
      } else {
        vnode2.elm = api.createTextNode(vnode2.text);
      }
      return vnode2.elm;
    }
    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {
      for (; startIdx <= endIdx; ++startIdx) {
        const ch = vnodes[startIdx];
        if (ch != null) {
          api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);
        }
      }
    }
    function invokeDestroyHook(vnode2) {
      var _a2, _b;
      const data = vnode2.data;
      if (data !== void 0) {
        (_b = (_a2 = data === null || data === void 0 ? void 0 : data.hook) === null || _a2 === void 0 ? void 0 : _a2.destroy) === null || _b === void 0 ? void 0 : _b.call(_a2, vnode2);
        for (let i = 0; i < cbs.destroy.length; ++i)
          cbs.destroy[i](vnode2);
        if (vnode2.children !== void 0) {
          for (let j = 0; j < vnode2.children.length; ++j) {
            const child = vnode2.children[j];
            if (child != null && typeof child !== "string") {
              invokeDestroyHook(child);
            }
          }
        }
      }
    }
    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {
      var _a2, _b;
      for (; startIdx <= endIdx; ++startIdx) {
        let listeners;
        let rm;
        const ch = vnodes[startIdx];
        if (ch != null) {
          if (isDef(ch.sel)) {
            invokeDestroyHook(ch);
            listeners = cbs.remove.length + 1;
            rm = createRmCb(ch.elm, listeners);
            for (let i = 0; i < cbs.remove.length; ++i)
              cbs.remove[i](ch, rm);
            const removeHook = (_b = (_a2 = ch === null || ch === void 0 ? void 0 : ch.data) === null || _a2 === void 0 ? void 0 : _a2.hook) === null || _b === void 0 ? void 0 : _b.remove;
            if (isDef(removeHook)) {
              removeHook(ch, rm);
            } else {
              rm();
            }
          } else if (ch.children) {
            invokeDestroyHook(ch);
            removeVnodes(parentElm, ch.children, 0, ch.children.length - 1);
          } else {
            api.removeChild(parentElm, ch.elm);
          }
        }
      }
    }
    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {
      let oldStartIdx = 0;
      let newStartIdx = 0;
      let oldEndIdx = oldCh.length - 1;
      let oldStartVnode = oldCh[0];
      let oldEndVnode = oldCh[oldEndIdx];
      let newEndIdx = newCh.length - 1;
      let newStartVnode = newCh[0];
      let newEndVnode = newCh[newEndIdx];
      let oldKeyToIdx;
      let idxInOld;
      let elmToMove;
      let before;
      while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
        if (oldStartVnode == null) {
          oldStartVnode = oldCh[++oldStartIdx];
        } else if (oldEndVnode == null) {
          oldEndVnode = oldCh[--oldEndIdx];
        } else if (newStartVnode == null) {
          newStartVnode = newCh[++newStartIdx];
        } else if (newEndVnode == null) {
          newEndVnode = newCh[--newEndIdx];
        } else if (sameVnode(oldStartVnode, newStartVnode)) {
          patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);
          oldStartVnode = oldCh[++oldStartIdx];
          newStartVnode = newCh[++newStartIdx];
        } else if (sameVnode(oldEndVnode, newEndVnode)) {
          patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);
          oldEndVnode = oldCh[--oldEndIdx];
          newEndVnode = newCh[--newEndIdx];
        } else if (sameVnode(oldStartVnode, newEndVnode)) {
          patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);
          api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));
          oldStartVnode = oldCh[++oldStartIdx];
          newEndVnode = newCh[--newEndIdx];
        } else if (sameVnode(oldEndVnode, newStartVnode)) {
          patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);
          api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);
          oldEndVnode = oldCh[--oldEndIdx];
          newStartVnode = newCh[++newStartIdx];
        } else {
          if (oldKeyToIdx === void 0) {
            oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);
          }
          idxInOld = oldKeyToIdx[newStartVnode.key];
          if (isUndef(idxInOld)) {
            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
          } else {
            elmToMove = oldCh[idxInOld];
            if (elmToMove.sel !== newStartVnode.sel) {
              api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
            } else {
              patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);
              oldCh[idxInOld] = void 0;
              api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);
            }
          }
          newStartVnode = newCh[++newStartIdx];
        }
      }
      if (newStartIdx <= newEndIdx) {
        before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;
        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);
      }
      if (oldStartIdx <= oldEndIdx) {
        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);
      }
    }
    function patchVnode(oldVnode, vnode2, insertedVnodeQueue) {
      var _a2, _b, _c, _d, _e, _f, _g, _h;
      const hook = (_a2 = vnode2.data) === null || _a2 === void 0 ? void 0 : _a2.hook;
      (_b = hook === null || hook === void 0 ? void 0 : hook.prepatch) === null || _b === void 0 ? void 0 : _b.call(hook, oldVnode, vnode2);
      const elm = vnode2.elm = oldVnode.elm;
      if (oldVnode === vnode2)
        return;
      if (vnode2.data !== void 0 || isDef(vnode2.text) && vnode2.text !== oldVnode.text) {
        (_c = vnode2.data) !== null && _c !== void 0 ? _c : vnode2.data = {};
        (_d = oldVnode.data) !== null && _d !== void 0 ? _d : oldVnode.data = {};
        for (let i = 0; i < cbs.update.length; ++i)
          cbs.update[i](oldVnode, vnode2);
        (_g = (_f = (_e = vnode2.data) === null || _e === void 0 ? void 0 : _e.hook) === null || _f === void 0 ? void 0 : _f.update) === null || _g === void 0 ? void 0 : _g.call(_f, oldVnode, vnode2);
      }
      const oldCh = oldVnode.children;
      const ch = vnode2.children;
      if (isUndef(vnode2.text)) {
        if (isDef(oldCh) && isDef(ch)) {
          if (oldCh !== ch)
            updateChildren(elm, oldCh, ch, insertedVnodeQueue);
        } else if (isDef(ch)) {
          if (isDef(oldVnode.text))
            api.setTextContent(elm, "");
          addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);
        } else if (isDef(oldCh)) {
          removeVnodes(elm, oldCh, 0, oldCh.length - 1);
        } else if (isDef(oldVnode.text)) {
          api.setTextContent(elm, "");
        }
      } else if (oldVnode.text !== vnode2.text) {
        if (isDef(oldCh)) {
          removeVnodes(elm, oldCh, 0, oldCh.length - 1);
        }
        api.setTextContent(elm, vnode2.text);
      }
      (_h = hook === null || hook === void 0 ? void 0 : hook.postpatch) === null || _h === void 0 ? void 0 : _h.call(hook, oldVnode, vnode2);
    }
    return function patch2(oldVnode, vnode2) {
      let i, elm, parent;
      const insertedVnodeQueue = [];
      for (i = 0; i < cbs.pre.length; ++i)
        cbs.pre[i]();
      if (isElement2(api, oldVnode)) {
        oldVnode = emptyNodeAt(oldVnode);
      } else if (isDocumentFragment2(api, oldVnode)) {
        oldVnode = emptyDocumentFragmentAt(oldVnode);
      }
      if (sameVnode(oldVnode, vnode2)) {
        patchVnode(oldVnode, vnode2, insertedVnodeQueue);
      } else {
        elm = oldVnode.elm;
        parent = api.parentNode(elm);
        createElm(vnode2, insertedVnodeQueue);
        if (parent !== null) {
          api.insertBefore(parent, vnode2.elm, api.nextSibling(elm));
          removeVnodes(parent, [oldVnode], 0, 0);
        }
      }
      for (i = 0; i < insertedVnodeQueue.length; ++i) {
        insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);
      }
      for (i = 0; i < cbs.post.length; ++i)
        cbs.post[i]();
      return vnode2;
    };
  }

  // node_modules/snabbdom/build/h.js
  function addNS(data, children, sel) {
    data.ns = "http://www.w3.org/2000/svg";
    if (sel !== "foreignObject" && children !== void 0) {
      for (let i = 0; i < children.length; ++i) {
        const child = children[i];
        if (typeof child === "string")
          continue;
        const childData = child.data;
        if (childData !== void 0) {
          addNS(childData, child.children, child.sel);
        }
      }
    }
  }
  function h(sel, b, c) {
    let data = {};
    let children;
    let text;
    let i;
    if (c !== void 0) {
      if (b !== null) {
        data = b;
      }
      if (array(c)) {
        children = c;
      } else if (primitive(c)) {
        text = c.toString();
      } else if (c && c.sel) {
        children = [c];
      }
    } else if (b !== void 0 && b !== null) {
      if (array(b)) {
        children = b;
      } else if (primitive(b)) {
        text = b.toString();
      } else if (b && b.sel) {
        children = [b];
      } else {
        data = b;
      }
    }
    if (children !== void 0) {
      for (i = 0; i < children.length; ++i) {
        if (primitive(children[i]))
          children[i] = vnode(void 0, void 0, void 0, children[i], void 0);
      }
    }
    if (sel[0] === "s" && sel[1] === "v" && sel[2] === "g" && (sel.length === 3 || sel[3] === "." || sel[3] === "#")) {
      addNS(data, children, sel);
    }
    return vnode(sel, data, children, text, void 0);
  }

  // node_modules/snabbdom/build/tovnode.js
  function toVNode(node, domApi) {
    const api = domApi !== void 0 ? domApi : htmlDomApi;
    let text;
    if (api.isElement(node)) {
      const id = node.id ? "#" + node.id : "";
      const cn = node.getAttribute("class");
      const c = cn ? "." + cn.split(" ").join(".") : "";
      const sel = api.tagName(node).toLowerCase() + id + c;
      const attrs = {};
      const dataset = {};
      const data = {};
      const children = [];
      let name;
      let i, n;
      const elmAttrs = node.attributes;
      const elmChildren = node.childNodes;
      for (i = 0, n = elmAttrs.length; i < n; i++) {
        name = elmAttrs[i].nodeName;
        if (name[0] === "d" && name[1] === "a" && name[2] === "t" && name[3] === "a" && name[4] === "-") {
          dataset[name.slice(5)] = elmAttrs[i].nodeValue || "";
        } else if (name !== "id" && name !== "class") {
          attrs[name] = elmAttrs[i].nodeValue;
        }
      }
      for (i = 0, n = elmChildren.length; i < n; i++) {
        children.push(toVNode(elmChildren[i], domApi));
      }
      if (Object.keys(attrs).length > 0)
        data.attrs = attrs;
      if (Object.keys(dataset).length > 0)
        data.dataset = dataset;
      if (sel[0] === "s" && sel[1] === "v" && sel[2] === "g" && (sel.length === 3 || sel[3] === "." || sel[3] === "#")) {
        addNS(data, children, sel);
      }
      return vnode(sel, data, children, void 0, node);
    } else if (api.isText(node)) {
      text = api.getTextContent(node);
      return vnode(void 0, void 0, void 0, text, node);
    } else if (api.isComment(node)) {
      text = api.getTextContent(node);
      return vnode("!", {}, [], text, node);
    } else {
      return vnode("", {}, [], void 0, node);
    }
  }

  // node_modules/snabbdom/build/modules/attributes.js
  var xlinkNS = "http://www.w3.org/1999/xlink";
  var xmlNS = "http://www.w3.org/XML/1998/namespace";
  var colonChar = 58;
  var xChar = 120;
  function updateAttrs(oldVnode, vnode2) {
    let key;
    const elm = vnode2.elm;
    let oldAttrs = oldVnode.data.attrs;
    let attrs = vnode2.data.attrs;
    if (!oldAttrs && !attrs)
      return;
    if (oldAttrs === attrs)
      return;
    oldAttrs = oldAttrs || {};
    attrs = attrs || {};
    for (key in attrs) {
      const cur = attrs[key];
      const old = oldAttrs[key];
      if (old !== cur) {
        if (cur === true) {
          elm.setAttribute(key, "");
        } else if (cur === false) {
          elm.removeAttribute(key);
        } else {
          if (key.charCodeAt(0) !== xChar) {
            elm.setAttribute(key, cur);
          } else if (key.charCodeAt(3) === colonChar) {
            elm.setAttributeNS(xmlNS, key, cur);
          } else if (key.charCodeAt(5) === colonChar) {
            elm.setAttributeNS(xlinkNS, key, cur);
          } else {
            elm.setAttribute(key, cur);
          }
        }
      }
    }
    for (key in oldAttrs) {
      if (!(key in attrs)) {
        elm.removeAttribute(key);
      }
    }
  }
  var attributesModule = {
    create: updateAttrs,
    update: updateAttrs
  };

  // node_modules/snabbdom/build/modules/class.js
  function updateClass(oldVnode, vnode2) {
    let cur;
    let name;
    const elm = vnode2.elm;
    let oldClass = oldVnode.data.class;
    let klass = vnode2.data.class;
    if (!oldClass && !klass)
      return;
    if (oldClass === klass)
      return;
    oldClass = oldClass || {};
    klass = klass || {};
    for (name in oldClass) {
      if (oldClass[name] && !Object.prototype.hasOwnProperty.call(klass, name)) {
        elm.classList.remove(name);
      }
    }
    for (name in klass) {
      cur = klass[name];
      if (cur !== oldClass[name]) {
        elm.classList[cur ? "add" : "remove"](name);
      }
    }
  }
  var classModule = { create: updateClass, update: updateClass };

  // node_modules/snabbdom/build/modules/eventlisteners.js
  function invokeHandler(handler, vnode2, event) {
    if (typeof handler === "function") {
      handler.call(vnode2, event, vnode2);
    } else if (typeof handler === "object") {
      for (let i = 0; i < handler.length; i++) {
        invokeHandler(handler[i], vnode2, event);
      }
    }
  }
  function handleEvent(event, vnode2) {
    const name = event.type;
    const on = vnode2.data.on;
    if (on && on[name]) {
      invokeHandler(on[name], vnode2, event);
    }
  }
  function createListener() {
    return function handler(event) {
      handleEvent(event, handler.vnode);
    };
  }
  function updateEventListeners(oldVnode, vnode2) {
    const oldOn = oldVnode.data.on;
    const oldListener = oldVnode.listener;
    const oldElm = oldVnode.elm;
    const on = vnode2 && vnode2.data.on;
    const elm = vnode2 && vnode2.elm;
    let name;
    if (oldOn === on) {
      return;
    }
    if (oldOn && oldListener) {
      if (!on) {
        for (name in oldOn) {
          oldElm.removeEventListener(name, oldListener, false);
        }
      } else {
        for (name in oldOn) {
          if (!on[name]) {
            oldElm.removeEventListener(name, oldListener, false);
          }
        }
      }
    }
    if (on) {
      const listener = vnode2.listener = oldVnode.listener || createListener();
      listener.vnode = vnode2;
      if (!oldOn) {
        for (name in on) {
          elm.addEventListener(name, listener, false);
        }
      } else {
        for (name in on) {
          if (!oldOn[name]) {
            elm.addEventListener(name, listener, false);
          }
        }
      }
    }
  }
  var eventListenersModule = {
    create: updateEventListeners,
    update: updateEventListeners,
    destroy: updateEventListeners
  };

  // node_modules/snabbdom/build/modules/props.js
  function updateProps(oldVnode, vnode2) {
    let key;
    let cur;
    let old;
    const elm = vnode2.elm;
    let oldProps = oldVnode.data.props;
    let props = vnode2.data.props;
    if (!oldProps && !props)
      return;
    if (oldProps === props)
      return;
    oldProps = oldProps || {};
    props = props || {};
    for (key in props) {
      cur = props[key];
      old = oldProps[key];
      if (old !== cur && (key !== "value" || elm[key] !== cur)) {
        elm[key] = cur;
      }
    }
  }
  var propsModule = { create: updateProps, update: updateProps };

  // node_modules/snabbdom/build/modules/style.js
  var raf = typeof window !== "undefined" && window.requestAnimationFrame.bind(window) || setTimeout;
  var nextFrame = function(fn) {
    raf(function() {
      raf(fn);
    });
  };
  var reflowForced = false;
  function setNextFrame(obj, prop, val) {
    nextFrame(function() {
      obj[prop] = val;
    });
  }
  function updateStyle(oldVnode, vnode2) {
    let cur;
    let name;
    const elm = vnode2.elm;
    let oldStyle = oldVnode.data.style;
    let style = vnode2.data.style;
    if (!oldStyle && !style)
      return;
    if (oldStyle === style)
      return;
    oldStyle = oldStyle || {};
    style = style || {};
    const oldHasDel = "delayed" in oldStyle;
    for (name in oldStyle) {
      if (!style[name]) {
        if (name[0] === "-" && name[1] === "-") {
          elm.style.removeProperty(name);
        } else {
          elm.style[name] = "";
        }
      }
    }
    for (name in style) {
      cur = style[name];
      if (name === "delayed" && style.delayed) {
        for (const name2 in style.delayed) {
          cur = style.delayed[name2];
          if (!oldHasDel || cur !== oldStyle.delayed[name2]) {
            setNextFrame(elm.style, name2, cur);
          }
        }
      } else if (name !== "remove" && cur !== oldStyle[name]) {
        if (name[0] === "-" && name[1] === "-") {
          elm.style.setProperty(name, cur);
        } else {
          elm.style[name] = cur;
        }
      }
    }
  }
  function applyDestroyStyle(vnode2) {
    let style;
    let name;
    const elm = vnode2.elm;
    const s = vnode2.data.style;
    if (!s || !(style = s.destroy))
      return;
    for (name in style) {
      elm.style[name] = style[name];
    }
  }
  function applyRemoveStyle(vnode2, rm) {
    const s = vnode2.data.style;
    if (!s || !s.remove) {
      rm();
      return;
    }
    if (!reflowForced) {
      vnode2.elm.offsetLeft;
      reflowForced = true;
    }
    let name;
    const elm = vnode2.elm;
    let i = 0;
    const style = s.remove;
    let amount = 0;
    const applied = [];
    for (name in style) {
      applied.push(name);
      elm.style[name] = style[name];
    }
    const compStyle = getComputedStyle(elm);
    const props = compStyle["transition-property"].split(", ");
    for (; i < props.length; ++i) {
      if (applied.indexOf(props[i]) !== -1)
        amount++;
    }
    elm.addEventListener("transitionend", function(ev) {
      if (ev.target === elm)
        --amount;
      if (amount === 0)
        rm();
    });
  }
  function forceReflow() {
    reflowForced = false;
  }
  var styleModule = {
    pre: forceReflow,
    create: updateStyle,
    update: updateStyle,
    destroy: applyDestroyStyle,
    remove: applyRemoveStyle
  };

  // client/document.ts
  var patch = init([classModule, attributesModule, propsModule, eventListenersModule, styleModule]);
  function getDocumentData(name) {
    const elm = document.getElementById("pychess-variants");
    if (elm) {
      return elm.getAttribute("data-" + name.toLowerCase());
    } else {
      return "";
    }
  }
  function changeCSS(cssLinkIndex, cssFile) {
    document.getElementsByTagName("link").item(cssLinkIndex).setAttribute("href", cssFile);
  }
  var BOARD_CSS_IDX = 1;
  var PIECE_CSS_IDX = 2;
  function changeBoardCSS(assetUrl, family, cssFile) {
    const sheet = document.styleSheets[BOARD_CSS_IDX];
    const cssRules = sheet.cssRules;
    for (let i = 0; i < cssRules.length; i++) {
      const rule = cssRules[i];
      if (!(rule instanceof CSSStyleRule)) {
        continue;
      }
      if (rule.selectorText === `.${family} cg-board`) {
        sheet.deleteRule(i);
        const newRule = `.${family} cg-board {background-image: url(${assetUrl}/images/board/${cssFile})}`;
        sheet.insertRule(newRule, i);
        break;
      }
    }
  }
  function changePieceCSS(assetUrl, family, cssFile) {
    let cssLinkIndex = PIECE_CSS_IDX;
    switch (family) {
      case "standard":
        break;
      case "seirawan":
        cssLinkIndex += 1;
        break;
      case "makruk":
        cssLinkIndex += 2;
        break;
      case "sittuyin":
        cssLinkIndex += 3;
        break;
      case "asean":
        cssLinkIndex += 4;
        break;
      case "shogi":
        cssLinkIndex += 5;
        break;
      case "kyoto":
        cssLinkIndex += 6;
        break;
      case "tori":
        cssLinkIndex += 7;
        break;
      case "xiangqi":
        cssLinkIndex += 8;
        break;
      case "capa":
        cssLinkIndex += 9;
        break;
      case "shako":
        cssLinkIndex += 10;
        break;
      case "shogun":
        cssLinkIndex += 11;
        break;
      case "janggi":
        cssLinkIndex += 12;
        break;
      case "orda":
        cssLinkIndex += 13;
        break;
      case "synochess":
        cssLinkIndex += 14;
        break;
      case "hoppel":
        cssLinkIndex += 15;
        break;
      case "dobutsu":
        cssLinkIndex += 16;
        break;
      case "shinobi":
        cssLinkIndex += 17;
        break;
      case "empire":
        cssLinkIndex += 18;
        break;
      case "ordamirror":
        cssLinkIndex += 19;
        break;
      case "chak":
        cssLinkIndex += 20;
        break;
      case "chennis":
        cssLinkIndex += 21;
        break;
      case "spartan":
        cssLinkIndex += 22;
        break;
      default:
        throw "Unknown piece family " + family;
    }
    const newUrl = `${assetUrl}/piece/${family}/${cssFile}.css`;
    changeCSS(cssLinkIndex, newUrl);
  }
  function bind(eventName, f, redraw) {
    return {
      insert(vnode2) {
        var _a2;
        (_a2 = vnode2.elm) == null ? void 0 : _a2.addEventListener(eventName, (e) => {
          const res = f(e);
          if (redraw)
            redraw();
          return res;
        });
      }
    };
  }

  // node_modules/chessgroundx/types.js
  var Notation;
  (function(Notation3) {
    Notation3[Notation3["ALGEBRAIC"] = 0] = "ALGEBRAIC";
    Notation3[Notation3["SHOGI_ENGLET"] = 1] = "SHOGI_ENGLET";
    Notation3[Notation3["SHOGI_ARBNUM"] = 2] = "SHOGI_ARBNUM";
    Notation3[Notation3["SHOGI_HANNUM"] = 3] = "SHOGI_HANNUM";
    Notation3[Notation3["JANGGI"] = 4] = "JANGGI";
    Notation3[Notation3["XIANGQI_ARBNUM"] = 5] = "XIANGQI_ARBNUM";
    Notation3[Notation3["XIANGQI_HANNUM"] = 6] = "XIANGQI_HANNUM";
    Notation3[Notation3["THAI_ALGEBRAIC"] = 7] = "THAI_ALGEBRAIC";
  })(Notation || (Notation = {}));
  var colors = ["white", "black"];
  var files = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"];
  var ranks = ["1", "2", "3", "4", "5", "6", "7", "8", "9", ":", ";", "<", "=", ">", "?", "@"];
  var letters = [
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
    "g",
    "h",
    "i",
    "j",
    "k",
    "l",
    "m",
    "n",
    "o",
    "p",
    "q",
    "r",
    "s",
    "t",
    "u",
    "v",
    "w",
    "x",
    "y",
    "z"
  ];

  // node_modules/chessgroundx/util.js
  var invRanks = [...ranks].reverse();
  function files2(n) {
    return files.slice(0, n);
  }
  function ranks2(n) {
    return ranks.slice(0, n);
  }
  function allKeys(bd) {
    return Array.prototype.concat(...files2(bd.width).map((c) => ranks2(bd.height).map((r) => c + r)));
  }
  function allPos(bd) {
    return allKeys(bd).map(key2pos);
  }
  var pos2key = (pos) => files[pos[0]] + ranks[pos[1]];
  var key2pos = (k) => [k.charCodeAt(0) - 97, k.charCodeAt(1) - 49];
  function roleOf(letter) {
    return letter.replace("+", "p").replace("*", "_").replace("@", "").toLowerCase() + "-piece";
  }
  function letterOf(role, uppercase = false) {
    const letterPart = role.slice(0, role.indexOf("-"));
    const letter = (letterPart.length > 1 ? letterPart.replace("p", "+") : letterPart).replace("_", "*");
    return uppercase ? letter.toUpperCase() : letter;
  }
  function dropOrigOf(role) {
    return letterOf(role, true) + "@";
  }
  function isDropOrig(orig) {
    return orig[0] === orig[0].toUpperCase();
  }
  function isKey(selectable) {
    return typeof selectable === "string" && selectable[0] === selectable[0].toLowerCase();
  }
  function isPiece(selectable) {
    return typeof selectable !== "string";
  }
  function isSame(lhs, rhs) {
    if (isPiece(lhs) && isPiece(rhs))
      return samePiece(lhs, rhs);
    else
      return lhs === rhs;
  }
  function changeNumber(map, key, num) {
    var _a2;
    map.set(key, ((_a2 = map.get(key)) !== null && _a2 !== void 0 ? _a2 : 0) + num);
  }
  function memo(f) {
    let v;
    const ret = () => {
      if (v === void 0)
        v = f();
      return v;
    };
    ret.clear = () => {
      v = void 0;
    };
    return ret;
  }
  var timer = () => {
    let startAt;
    return {
      start() {
        startAt = performance.now();
      },
      cancel() {
        startAt = void 0;
      },
      stop() {
        if (!startAt)
          return 0;
        const time = performance.now() - startAt;
        startAt = void 0;
        return time;
      }
    };
  };
  var opposite = (c) => c === "white" ? "black" : "white";
  var samePiece = (p1, p2) => p1.role === p2.role && p1.color === p2.color && !!p1.promoted === !!p2.promoted;
  var pieceSide = (p, o) => p.color === o ? "ally" : "enemy";
  var pieceClasses = (p, o) => `${p.color} ${pieceSide(p, o)} ${p.promoted ? "promoted " : ""}${p.role}`;
  var distanceSq = (pos1, pos2) => {
    const dx = pos1[0] - pos2[0], dy = pos1[1] - pos2[1];
    return dx * dx + dy * dy;
  };
  var posToTranslate = (bounds, bd) => (pos, asWhite) => [
    (asWhite ? pos[0] : bd.width - 1 - pos[0]) * bounds.width / bd.width,
    (asWhite ? bd.height - 1 - pos[1] : pos[1]) * bounds.height / bd.height
  ];
  var translate = (el, pos) => {
    el.style.transform = `translate(${pos[0]}px,${pos[1]}px)`;
  };
  var translateAndScale = (el, pos, scale = 1) => {
    el.style.transform = `translate(${pos[0]}px,${pos[1]}px) scale(${scale})`;
  };
  var setVisible = (el, v) => {
    el.style.visibility = v ? "visible" : "hidden";
  };
  var eventPosition = (e) => {
    var _a2;
    if (e.clientX || e.clientX === 0)
      return [e.clientX, e.clientY];
    if ((_a2 = e.targetTouches) === null || _a2 === void 0 ? void 0 : _a2[0])
      return [e.targetTouches[0].clientX, e.targetTouches[0].clientY];
    return;
  };
  var isRightButton = (e) => e.buttons === 2 || e.button === 2;
  var createEl = (tagName2, className) => {
    const el = document.createElement(tagName2);
    if (className)
      el.className = className;
    return el;
  };
  var isMiniBoard = (el) => {
    return Array.from(el.classList).includes("mini");
  };
  function computeSquareCenter(key, asWhite, bounds, bd) {
    const pos = key2pos(key);
    if (!asWhite) {
      pos[0] = bd.width - 1 - pos[0];
      pos[1] = bd.height - 1 - pos[1];
    }
    return [
      bounds.left + bounds.width * (pos[0] + 0.5) / bd.width,
      bounds.top + bounds.height * (bd.height - pos[1] - 0.5) / bd.height
    ];
  }

  // node_modules/gettext.js/lib/gettext.js
  var i18n = function(options) {
    options = options || {};
    this && (this.__version = "1.1.1");
    var defaults2 = {
      domain: "messages",
      locale: (typeof document !== "undefined" ? document.documentElement.getAttribute("lang") : false) || "en",
      plural_func: function(n) {
        return { nplurals: 2, plural: n != 1 ? 1 : 0 };
      },
      ctxt_delimiter: String.fromCharCode(4)
      // \u0004
    };
    var _2 = {
      isObject: function(obj) {
        var type = typeof obj;
        return type === "function" || type === "object" && !!obj;
      },
      isArray: function(obj) {
        return toString.call(obj) === "[object Array]";
      }
    };
    var _plural_funcs = {}, _locale = options.locale || defaults2.locale, _domain = options.domain || defaults2.domain, _dictionary = {}, _plural_forms = {}, _ctxt_delimiter = options.ctxt_delimiter || defaults2.ctxt_delimiter;
    if (options.messages) {
      _dictionary[_domain] = {};
      _dictionary[_domain][_locale] = options.messages;
    }
    if (options.plural_forms) {
      _plural_forms[_locale] = options.plural_forms;
    }
    var strfmt = function(fmt) {
      var args = arguments;
      return fmt.replace(/%%/g, "%% ").replace(/%(\d+)/g, function(str, p1) {
        return args[p1];
      }).replace(/%% /g, "%");
    };
    var removeContext = function(str) {
      if (str.indexOf(_ctxt_delimiter) !== -1) {
        var parts = str.split(_ctxt_delimiter);
        return parts[1];
      }
      return str;
    };
    var expand_locale = function(locale) {
      var locales = [locale], i = locale.lastIndexOf("-");
      while (i > 0) {
        locale = locale.slice(0, i);
        locales.push(locale);
        i = locale.lastIndexOf("-");
      }
      return locales;
    };
    var normalizeLocale = function(locale) {
      locale = locale.replace("_", "-");
      var i = locale.search(/[.@]/);
      if (i != -1)
        locale = locale.slice(0, i);
      return locale;
    };
    var getPluralFunc = function(plural_form) {
      var pf_re = new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");
      if (!pf_re.test(plural_form))
        throw new Error(strfmt('The plural form "%1" is not valid', plural_form));
      return new Function("n", "var plural, nplurals; " + plural_form + " return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };");
    };
    var t = function(messages, n, options2) {
      if (!options2.plural_form)
        return strfmt.apply(this, [removeContext(messages[0])].concat(Array.prototype.slice.call(arguments, 3)));
      var plural;
      if (options2.plural_func) {
        plural = options2.plural_func(n);
      } else if (!_plural_funcs[_locale]) {
        _plural_funcs[_locale] = getPluralFunc(_plural_forms[_locale]);
        plural = _plural_funcs[_locale](n);
      } else {
        plural = _plural_funcs[_locale](n);
      }
      if ("undefined" === typeof plural.plural || plural.plural > plural.nplurals || messages.length <= plural.plural)
        plural.plural = 0;
      return strfmt.apply(this, [removeContext(messages[plural.plural]), n].concat(Array.prototype.slice.call(arguments, 3)));
    };
    return {
      strfmt,
      // expose strfmt util
      expand_locale,
      // expose expand_locale util
      // Declare shortcuts
      __: function() {
        return this.gettext.apply(this, arguments);
      },
      _n: function() {
        return this.ngettext.apply(this, arguments);
      },
      _p: function() {
        return this.pgettext.apply(this, arguments);
      },
      setMessages: function(domain, locale, messages, plural_forms) {
        if (!domain || !locale || !messages)
          throw new Error("You must provide a domain, a locale and messages");
        if ("string" !== typeof domain || "string" !== typeof locale || !_2.isObject(messages))
          throw new Error("Invalid arguments");
        locale = normalizeLocale(locale);
        if (plural_forms)
          _plural_forms[locale] = plural_forms;
        if (!_dictionary[domain])
          _dictionary[domain] = {};
        _dictionary[domain][locale] = messages;
        return this;
      },
      loadJSON: function(jsonData, domain) {
        if (!_2.isObject(jsonData))
          jsonData = JSON.parse(jsonData);
        if (!jsonData[""] || !jsonData[""]["language"] || !jsonData[""]["plural-forms"])
          throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');
        var headers = jsonData[""];
        delete jsonData[""];
        return this.setMessages(domain || defaults2.domain, headers["language"], jsonData, headers["plural-forms"]);
      },
      setLocale: function(locale) {
        _locale = normalizeLocale(locale);
        return this;
      },
      getLocale: function() {
        return _locale;
      },
      // getter/setter for domain
      textdomain: function(domain) {
        if (!domain)
          return _domain;
        _domain = domain;
        return this;
      },
      gettext: function(msgid) {
        return this.dcnpgettext.apply(this, [void 0, void 0, msgid, void 0, void 0].concat(Array.prototype.slice.call(arguments, 1)));
      },
      ngettext: function(msgid, msgid_plural, n) {
        return this.dcnpgettext.apply(this, [void 0, void 0, msgid, msgid_plural, n].concat(Array.prototype.slice.call(arguments, 3)));
      },
      pgettext: function(msgctxt, msgid) {
        return this.dcnpgettext.apply(this, [void 0, msgctxt, msgid, void 0, void 0].concat(Array.prototype.slice.call(arguments, 2)));
      },
      dcnpgettext: function(domain, msgctxt, msgid, msgid_plural, n) {
        domain = domain || _domain;
        if ("string" !== typeof msgid)
          throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string', msgid));
        var translation, options2 = { plural_form: false }, key = msgctxt ? msgctxt + _ctxt_delimiter + msgid : msgid, exist, locale, locales = expand_locale(_locale);
        for (var i in locales) {
          locale = locales[i];
          exist = _dictionary[domain] && _dictionary[domain][locale] && _dictionary[domain][locale][key];
          if (msgid_plural) {
            exist = exist && "string" !== typeof _dictionary[domain][locale][key];
          } else {
            exist = exist && "string" === typeof _dictionary[domain][locale][key];
          }
          if (exist) {
            break;
          }
        }
        if (!exist) {
          translation = msgid;
          options2.plural_func = defaults2.plural_func;
        } else {
          translation = _dictionary[domain][locale][key];
        }
        if (!msgid_plural)
          return t.apply(this, [[translation], n, options2].concat(Array.prototype.slice.call(arguments, 5)));
        options2.plural_form = true;
        return t.apply(this, [exist ? translation : [msgid, msgid_plural], n, options2].concat(Array.prototype.slice.call(arguments, 5)));
      }
    };
  };
  var gettext_default = i18n;

  // client/settings.ts
  var Settings = class {
    constructor(name) {
      this.name = name;
    }
    get value() {
      return this._value;
    }
    set value(value) {
      localStorage[this.name] = value;
      this._value = value;
      this.update();
    }
  };
  var StringSettings = class extends Settings {
    constructor(name, defaultValue) {
      var _a2, _b;
      super(name);
      this._value = (_b = (_a2 = getDocumentData(name)) != null ? _a2 : localStorage[name]) != null ? _b : defaultValue;
    }
  };
  var NumberSettings = class extends Settings {
    constructor(name, defaultValue) {
      var _a2, _b;
      super(name);
      this._value = Number((_b = getDocumentData(name)) != null ? _b : (_a2 = localStorage[name]) != null ? _a2 : defaultValue);
    }
  };
  var BooleanSettings = class extends Settings {
    constructor(name, defaultValue) {
      super(name);
      if (getDocumentData(name))
        this._value = getDocumentData(name) === "True";
      else if (localStorage[name])
        this._value = localStorage[name] === "true";
      else
        this._value = defaultValue;
    }
  };

  // node_modules/idb-keyval/dist/index.js
  function promisifyRequest(request) {
    return new Promise((resolve, reject) => {
      request.oncomplete = request.onsuccess = () => resolve(request.result);
      request.onabort = request.onerror = () => reject(request.error);
    });
  }
  function createStore(dbName, storeName) {
    const request = indexedDB.open(dbName);
    request.onupgradeneeded = () => request.result.createObjectStore(storeName);
    const dbp = promisifyRequest(request);
    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));
  }
  var defaultGetStoreFunc;
  function defaultGetStore() {
    if (!defaultGetStoreFunc) {
      defaultGetStoreFunc = createStore("keyval-store", "keyval");
    }
    return defaultGetStoreFunc;
  }
  function get(key, customStore = defaultGetStore()) {
    return customStore("readonly", (store) => promisifyRequest(store.get(key)));
  }
  function set(key, value, customStore = defaultGetStore()) {
    return customStore("readwrite", (store) => {
      store.put(value, key);
      return promisifyRequest(store.transaction);
    });
  }
  function del(key, customStore = defaultGetStore()) {
    return customStore("readwrite", (store) => {
      store.delete(key);
      return promisifyRequest(store.transaction);
    });
  }

  // client/view.ts
  function radioList(settings, name, options, onchange) {
    const result = [];
    Object.keys(options).forEach((key) => {
      const id = name + "-" + key;
      result.push(h(`input#${id}`, {
        props: { name, type: "radio", value: key },
        attrs: { checked: settings.value === key },
        on: { change: (evt) => onchange(evt, key) }
      }));
      result.push(h("label", { attrs: { for: id } }, options[key]));
    });
    return result;
  }
  function slider(settings, name, min = 0, max = 100, step2 = 1, text) {
    const id = name;
    return [
      h(`input#${id}.slider`, {
        props: { name, type: "range", min, max, step: step2, value: settings.value },
        on: { input: (e) => settings.value = Number(e.target.value) }
      }),
      h("label", { attrs: { for: id } }, text)
    ];
  }
  function checkbox(settings, name, text) {
    const id = name;
    return [
      h(`input#${id}`, {
        props: { name, type: "checkbox" },
        attrs: { checked: settings.value },
        on: { change: (evt) => settings.value = evt.target.checked }
      }),
      h("label", { attrs: { for: id } }, text)
    ];
  }
  function nnueFile(settings, name, text, variant2) {
    const id = name;
    return [
      h(`input#${id}`, {
        props: { name, type: "file", accept: "*.nnue", title: _("Page reload required after change") },
        on: { change: (evt) => {
          const files3 = evt.target.files;
          if (files3 && files3.length > 0) {
            const fileName = files3[0].name;
            if (possibleNnueFile(fileName, variant2)) {
              settings.value = "";
              console.log("Selected file:", fileName);
              get(`${variant2}--nnue-file`).then((nnuefile) => {
                if (nnuefile === void 0) {
                  saveNnueFileToIdb(settings, variant2, files3[0]);
                } else {
                  if (nnuefile === fileName) {
                    console.log(variant2, "is already in idb.");
                  } else {
                    del(`${variant2}--nnue-file`);
                    saveNnueFileToIdb(settings, variant2, files3[0]);
                  }
                }
              });
            }
          }
        } }
      }),
      h("label", { attrs: { for: id } }, text)
    ];
  }
  function saveNnueFileToIdb(settings, variant2, file) {
    const fileName = file.name;
    var fileReader = new FileReader();
    fileReader.onload = function(event) {
      set(`${variant2}--nnue-data`, event.target.result).then(() => {
        set(`${variant2}--nnue-file`, fileName).then((nnuefile) => {
          settings.value = fileName;
          console.log(`${nnuefile} saved!`);
        }).catch((err) => {
          alert(err);
        });
      }).catch((err) => {
        alert(err);
      });
    };
    fileReader.readAsArrayBuffer(file);
  }
  function possibleNnueFile(fileName, variant2) {
    let possible;
    let prefix;
    switch (variant2) {
      case "chess":
      case "placement":
        prefix = "nn";
        break;
      case "cambodian":
        prefix = "makruk";
        break;
      default:
        prefix = variant2;
    }
    possible = fileName.startsWith(`${prefix}-`);
    if (!possible) {
      alert(`.nnue file name required to start with ${prefix}-`);
    }
    return possible;
  }

  // client/i18n.ts
  var i18n2 = gettext_default();
  function _(msgid, ...vars) {
    return i18n2.gettext(msgid, vars);
  }
  var LANGUAGES = {
    en: "English",
    de: "Deutsch",
    es: "Espa\xF1ol",
    fr: "Fran\xE7ais",
    gl_ES: "Galego",
    hu: "Magyar",
    it: "Italiano",
    ja: "\u65E5\u672C\u8A9E",
    ko: "\uD55C\uAD6D\uC5B4",
    nl: "Nederlands",
    pl: "Polskie",
    pt: "Portugu\xEAs",
    ru: "P\u0443\u0441\u0441\u043A\u0438\u0439",
    th: "\u0E44\u0E17\u0E22",
    tr: "T\xFCrk\xE7e",
    zh_CN: "\u7B80\u4F53\u4E2D\u6587",
    zh_TW: "\u7E41\u9AD4\u4E2D\u6587"
  };
  var LANGUAGETEXT = {
    en: "Language",
    de: "Sprache",
    es: "Idioma",
    fr: "Langue",
    gl_ES: "Lingua",
    hu: "Nyelv",
    it: "Lingua",
    ja: "\u8A00\u8A9E",
    ko: "\uC5B8\uC5B4",
    nl: "Taal",
    pl: "J\u0119zyk ",
    pt: "Lingua",
    ru: "\u042F\u0437\u044B\u043A",
    th: "\u0E20\u0E32\u0E29\u0E32",
    tr: "Dil",
    zh_CN: "\u8BED\u8A00",
    zh_TW: "\u8A9E\u8A00"
  };
  var preferredLang = window.navigator.language.slice(0, 2);
  var _a;
  var translatedLanguage = (_a = LANGUAGETEXT[preferredLang]) != null ? _a : "Language";
  var translatedColorNames = [
    _("White"),
    _("Black"),
    _("Red"),
    _("Blue"),
    _("Gold"),
    _("Pink"),
    _("Green")
  ];
  var translatedVariantDisplayNames = [
    _("chess"),
    _("crazyhouse"),
    _("placement"),
    _("atomic"),
    _("makruk"),
    _("makpong"),
    _("ouk chaktrang"),
    _("sittuyin"),
    _("asean"),
    _("shogi"),
    _("minishogi"),
    _("kyoto shogi"),
    _("dobutsu"),
    _("gorogoro"),
    _("gorogoro+"),
    _("tori shogi"),
    _("xiangqi"),
    _("manchu"),
    _("janggi"),
    _("minixiangqi"),
    _("capablanca"),
    _("capahouse"),
    _("s-chess"),
    _("s-house"),
    _("grand"),
    _("grandhouse"),
    _("shako"),
    _("shogun"),
    _("hoppel-poppel"),
    _("orda"),
    _("synochess"),
    _("shinobi"),
    _("empire"),
    _("orda mirror"),
    _("chak"),
    _("chennis")
  ];
  var translatedCustomStartPositions = [
    _("PawnsPushed"),
    _("PawnsPassed"),
    _("UpsideDown"),
    _("Theban"),
    _("No castle"),
    _("Lance HC"),
    _("Bishop HC"),
    _("Rook HC"),
    _("Rook+Lance HC"),
    _("2-Piece HC"),
    _("4-Piece HC"),
    _("6-Piece HC"),
    _("8-Piece HC"),
    _("9-Piece HC"),
    _("10-Piece HC"),
    _("Gorogoro Plus N+L"),
    _("Original (No N+L)"),
    _("Left Quail HC"),
    _("Falcon HC"),
    _("Falcon + Left Quail HC"),
    _("Falcon + Both Quails HC"),
    _("Bird"),
    _("Carrera"),
    _("Gothic"),
    _("Embassy"),
    _("Conservative")
  ];
  var translatedTooltips = [
    _("Chess, unmodified, as it's played by FIDE standards."),
    _("Take captured pieces and drop them back on to the board as your own."),
    _("Choose where your pieces start."),
    _("Pieces explode upon capture."),
    _("The duck must be moved to a new square after every turn."),
    _("Thai Chess. A game closely resembling the original Chaturanga. Similar to Chess but with a different queen and bishop."),
    _("Makruk variant where kings cannot move to escape out of check."),
    _("Cambodian Chess. Makruk with a few additional opening abilities."),
    _("Burmese Chess. Similar to Makruk, but pieces are placed at the start of the match."),
    _("Makruk using the board/pieces from International Chess as well as pawn promotion rules."),
    _("Japanese Chess, and the standard 9x9 version played today with drops and promotions. "),
    _("5x5 Shogi for more compact and faster games. There are no knights or lances."),
    _("A wild Shogi variant on a 5x5 board where pieces flip into a different piece after each move."),
    _("3x4 game with cute animals, designed to teach children how to play Shogi."),
    _("5x6 Shogi designed to introduce tactics with the generals."),
    _("A confrontational 7x7 variant with unique pieces each named after different birds."),
    _("Chinese Chess, one of the oldest and most played board games in the world."),
    _("Xiangqi variant where one side has a chariot that can also move as a cannon or horse."),
    _("Korean Chess, similar to Xiangqi but plays much differently. Tournament rules are used."),
    _("Compact version of Xiangqi played on a 7x7 board without a river."),
    _("Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a 10x8 board."),
    _("Capablanca with Crazyhouse drop rules."),
    _("Hybrid pieces, the hawk (B+N) and elephant (R+N), can enter the board after moving a back rank piece."),
    _("S-Chess with Crazyhouse drop rules."),
    _("Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a grand 10x10 board."),
    _("Grand Chess with Crazyhouse drop rules."),
    _("Introduces the cannon and elephant from Xiangqi into a 10x10 chess board."),
    _("Pieces promote and can be dropped, similar to Shogi."),
    _("Knights capture as bishops; bishops  capture as knights."),
    _("Asymmetric variant where one army has pieces that move like knights but capture differently."),
    _("Asymmetric East vs. West variant which pits the western Chess army against a Xiangqi and Janggi-styled army."),
    _("Asymmetric variant which pits the western Chess army against a drop-based, Shogi-styled army."),
    _("Asymmetric variant where one army has pieces that move like queens but capture as usual."),
    _("Orda Chess variant with two Horde armies. The Falcon replaces the Yurt."),
    _("Mayan chess. Inspired by cultural elements of Mesoamerica."),
    _("Pieces alternate between two forms with each move."),
    _("Like Capablanca Chess but with Grand starting setup."),
    _("Embassy with Crazyhouse drop rules."),
    _("Like Capablanca Chess but with a different starting setup."),
    _("Gothic with Crazyhouse drop rules.")
  ];
  var LanguageSettings = class extends StringSettings {
    constructor() {
      super("lang", "en");
    }
    update() {
    }
    view() {
      const langList = radioList(
        this,
        "lang",
        LANGUAGES,
        (evt, key) => {
          this.value = key;
          evt.target.form.submit();
        }
      );
      return h("div#settings-lang", [
        h("form.radio-list", { props: { method: "post", action: "/translation/select" } }, langList)
      ]);
    }
  };
  var languageSettings = new LanguageSettings();

  // node_modules/chessgroundx/fen.js
  var initial = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";
  function read(fen, bd) {
    const piecesPart = fen.split(" ")[0];
    const bracketIdx = piecesPart.indexOf("[");
    let boardPart;
    let pocketPart;
    if (bracketIdx > -1) {
      boardPart = piecesPart.slice(0, bracketIdx);
      pocketPart = piecesPart.slice(bracketIdx + 1, piecesPart.indexOf("]"));
    } else {
      const ranks3 = piecesPart.split("/");
      boardPart = ranks3.slice(0, bd.height).join("/");
      pocketPart = ranks3.length > bd.height ? ranks3[bd.height] : void 0;
    }
    return {
      pieces: readBoard(boardPart),
      pockets: readPockets(pocketPart)
    };
  }
  function readBoard(fen) {
    if (fen === "start")
      fen = initial;
    const pieces = /* @__PURE__ */ new Map();
    let row = fen.split("/").length - 1;
    let col = 0;
    let promoted = false;
    let num = 0;
    for (const c of fen) {
      switch (c) {
        case " ":
        case "[":
          return pieces;
        case "/":
          --row;
          if (row < 0)
            return pieces;
          col = 0;
          num = 0;
          break;
        case "+":
          promoted = true;
          break;
        case "~": {
          const piece = pieces.get(pos2key([col - 1, row]));
          if (piece)
            piece.promoted = true;
          break;
        }
        default: {
          const nb = c.charCodeAt(0);
          if (48 <= nb && nb < 58) {
            num = 10 * num + nb - 48;
          } else {
            col += num;
            num = 0;
            const letter = c.toLowerCase();
            const piece = {
              role: roleOf(letter),
              color: c === letter ? "black" : "white"
            };
            if (promoted) {
              piece.role = "p" + piece.role;
              piece.promoted = true;
              promoted = false;
            }
            pieces.set(pos2key([col, row]), piece);
            ++col;
          }
        }
      }
    }
    return pieces;
  }
  function readPockets(pocketStr) {
    if (pocketStr !== void 0) {
      const whitePocket = /* @__PURE__ */ new Map();
      const blackPocket = /* @__PURE__ */ new Map();
      for (const p of pocketStr) {
        const role = roleOf(p);
        if (/[A-Z]/.test(p))
          changeNumber(whitePocket, role, 1);
        else if (/[a-z]/.test(p))
          changeNumber(blackPocket, role, 1);
      }
      return {
        white: whitePocket,
        black: blackPocket
      };
    } else {
      return void 0;
    }
  }
  function write(boardState, bd) {
    return writeBoard(boardState.pieces, bd) + writePockets(boardState.pockets);
  }
  function writeBoard(pieces, bd) {
    return invRanks.slice(-bd.height).map((y) => files.slice(0, bd.width).map((x) => {
      const piece = pieces.get(x + y);
      if (piece) {
        let p = letterOf(piece.role, piece.color === "white");
        if (piece.promoted && p.charAt(0) !== "+")
          p += "~";
        return p;
      } else
        return "1";
    }).join("")).join("/").replace(/1{2,}/g, (s) => s.length.toString());
  }
  function writePockets(pockets) {
    if (pockets)
      return "[" + writePocket(pockets.white, true) + writePocket(pockets.black, false) + "]";
    else
      return "";
  }
  function writePocket(pocket, asWhite) {
    const letters2 = [];
    for (const [r, n] of pocket.entries())
      letters2.push(letterOf(r, asWhite).repeat(n));
    return letters2.join("");
  }

  // client/material.ts
  function equivalentRole(role, equivalences, captureToHand) {
    if (captureToHand) {
      if (role.indexOf("-") > 1)
        return role.slice(1);
      else
        return role;
    } else {
      if (role in equivalences)
        return equivalences[role];
      else
        return role;
    }
  }
  function calculateDiff(fen, dimensions, equivalences, captureToHand) {
    var _a2, _b, _c;
    const materialDiff = /* @__PURE__ */ new Map();
    const boardState = read(fen, dimensions);
    for (const [_2, piece] of boardState.pieces) {
      const role = equivalentRole(piece.role, equivalences, captureToHand);
      const num = (_a2 = materialDiff.get(role)) != null ? _a2 : 0;
      materialDiff.set(role, piece.color === "white" ? num - 1 : num + 1);
    }
    if (boardState.pockets) {
      for (const [r, c] of boardState.pockets.white.entries()) {
        const role = equivalentRole(r, equivalences, captureToHand);
        const num = (_b = materialDiff.get(role)) != null ? _b : 0;
        materialDiff.set(role, num - c);
      }
      for (const [r, c] of boardState.pockets.black.entries()) {
        const role = equivalentRole(r, equivalences, captureToHand);
        const num = (_c = materialDiff.get(role)) != null ? _c : 0;
        materialDiff.set(role, num + c);
      }
    }
    return materialDiff;
  }

  // client/variants.ts
  var BOARD_FAMILIES = {
    standard8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["8x8brown.svg", "8x8blue.svg", "8x8green.svg", "8x8maple.jpg", "8x8olive.jpg", "8x8santa.png", "8x8wood2.jpg", "8x8wood4.jpg", "8x8ic.svg", "8x8purple.svg"] },
    standard10x8: { dimensions: { width: 10, height: 8 }, cg: "cg-640", boardCSS: ["10x8brown.svg", "10x8blue.svg", "10x8green.svg", "10x8maple.jpg", "10x8olive.jpg"] },
    standard10x10: { dimensions: { width: 10, height: 10 }, cg: "cg-640-640", boardCSS: ["10x10brown.svg", "10x10blue.svg", "10x10green.svg", "10x10maple.jpg", "10x10olive.jpg"] },
    grand10x10: { dimensions: { width: 10, height: 10 }, cg: "cg-640-640", boardCSS: ["Grandboard.svg", "10x10brown.svg", "10x10blue.svg", "10x10green.svg", "10x10maple.jpg", "10x10mapleGrand.png"] },
    makruk8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["makruk2.svg", "makruk.svg", "makrukWhite.svg", "makruk.jpg", "makrukWood.png"] },
    sittuyin8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["sittuyin2.svg", "sittuyin.svg", "sittuyin.jpg", "sittuyingreen.svg", "sittuyinGrainBrown.svg", "sittuyinWood.png"] },
    shogi9x9: { dimensions: { width: 9, height: 9 }, cg: "cg-576", boardCSS: ["shogi.svg", "Shogiban1.png", "Shogiban2.png", "shogic.svg", "ShogiMaple.png", "ShogiGrayTexture.png", "ShogiSpace1.svg", "dobutsu.png", "ShogiOak.png"] },
    shogi7x7: { dimensions: { width: 7, height: 7 }, cg: "cg-448-516", boardCSS: ["ToriPlain.svg", "ToriWood.svg", "ToriDaySky.svg", "ToriNightSky.svg"] },
    shogi5x5: { dimensions: { width: 5, height: 5 }, cg: "cg-260", boardCSS: ["minishogi.svg", "MiniboardWood1.png", "MiniboardWood2.png", "MinishogiDobutsu.svg", "MinishogiDobutsu2.svg"] },
    shogi5x6: { dimensions: { width: 5, height: 6 }, cg: "cg-260-360", boardCSS: ["gorogoro.svg", "gorogoroboard.svg", "gorogoro2.svg", "GorogoroWood.png"] },
    shogi3x4: { dimensions: { width: 3, height: 4 }, cg: "cg-156", boardCSS: ["doubutsuboard.svg", "dobutsu3x4.svg"] },
    xiangqi9x10: { dimensions: { width: 9, height: 10 }, cg: "cg-576-640", boardCSS: ["xiangqi.svg", "xiangqic.svg", "xiangqiCTexture.png", "xiangqiPaper.png", "xiangqiWood.png", "xiangqiDark.svg", "xiangqiWikimedia.svg", "xiangqiLightWood.png", "xiangqiSand.svg"] },
    xiangqi7x7: { dimensions: { width: 7, height: 7 }, cg: "cg-448", boardCSS: ["minixiangqi.svg", "minixiangqiw.png", "minixqlg.svg"] },
    janggi9x10: { dimensions: { width: 9, height: 10 }, cg: "cg-576-640", boardCSS: ["JanggiBrown.svg", "JanggiPaper.png", "JanggiWood.png", "JanggiDark.svg", "JanggiWoodDark.svg", "JanggiStone.svg"] },
    shogun8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["ShogunPlain.svg", "ShogunMaple.png", "ShogunMaple2.png", "ShogunBlue.svg", "8x8brown.svg", "8x8maple.jpg"] },
    chak9x9: { dimensions: { width: 9, height: 9 }, cg: "cg-540", boardCSS: ["StandardChakBoard.svg", "ColoredChakBoard.svg", "ChakArt.jpg"] },
    chennis7x7: { dimensions: { width: 7, height: 7 }, cg: "cg-448", boardCSS: ["WimbledonBoard.svg", "FrenchOpenBoard.svg", "USOpenBoard.svg"] }
  };
  var PIECE_FAMILIES = {
    standard: { pieceCSS: ["standard", "green", "alpha", "chess_kaneo", "santa", "maestro", "dubrovny", "disguised", "atopdown"] },
    capa: { pieceCSS: ["capa0", "capa1", "capa2", "capa3", "capa4", "capa5", "disguised"] },
    seirawan: { pieceCSS: ["seir1", "seir0", "seir2", "seir3", "seir4", "seir5", "disguised"] },
    makruk: { pieceCSS: ["makrukwb", "makrukwr", "makruk", "makruks", "makruki", "makrukc", "disguised"] },
    sittuyin: { pieceCSS: ["sittuyins", "sittuyinkagr", "sittuyinkabr", "sittuyinm", "sittuyini", "sittuyincb", "disguised"] },
    asean: { pieceCSS: ["aseani", "aseanm", "aseanc", "aseans", "aseancb", "disguised"] },
    shogi: { pieceCSS: ["shogik", "shogi", "shogiw", "shogip", "shogim", "shogip3d", "shogikw3d", "shogid", "shogiim", "shogibw", "portk", "porti", "disguised"] },
    kyoto: { pieceCSS: ["kyoto", "kyotok", "kyotoks", "kyotoi", "kyotod", "disguised"] },
    dobutsu: { pieceCSS: ["dobutsu", "disguised"] },
    tori: { pieceCSS: ["torii", "torik", "torim", "porti", "disguised"] },
    xiangqi: { pieceCSS: ["xiangqi2d", "xiangqi2di", "xiangqi", "xiangqict3", "xiangqihnz", "xiangqict2", "xiangqihnzw", "xiangqict2w", "xiangqiwikim", "xiangqiKa", "xiangqittxqhnz", "xiangqittxqintl", "disguised", "euro"] },
    janggi: { pieceCSS: ["janggihb", "janggihg", "janggiikak", "janggiikaw", "janggikak", "janggikaw", "janggiib", "janggiig", "disguised"] },
    shako: { pieceCSS: ["shako0", "shako1", "shako2", "disguised"] },
    shogun: { pieceCSS: ["shogun0", "shogun1", "shogun2", "shogun3", "shogun4", "shogun5", "disguised"] },
    orda: { pieceCSS: ["orda0", "orda1", "disguised"] },
    synochess: { pieceCSS: ["synochess0", "synochess1", "synochess2", "synochess3", "synochess4", "synochess5", "disguised"] },
    hoppel: { pieceCSS: ["hoppel0", "hoppel1", "hoppel2", "disguised"] },
    shinobi: { pieceCSS: ["shinobi0", "shinobi1", "disguised"] },
    empire: { pieceCSS: ["empire0", "empire1", "disguised"] },
    ordamirror: { pieceCSS: ["ordamirror0", "ordamirror1", "disguised"] },
    chak: { pieceCSS: ["chak0", "disguised"] },
    chennis: { pieceCSS: ["chennis0", "chennis1", "chennis2", "disguised"] },
    spartan: { pieceCSS: ["spartan0", "disguised"] }
  };
  function variant(config) {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G;
    return {
      name: config.name,
      _displayName: (_a2 = config.displayName) != null ? _a2 : config.name,
      displayName: function(chess960 = false) {
        return _(this._displayName).toUpperCase() + (chess960 ? "960" : "");
      },
      _tooltip: config.tooltip,
      get tooltip() {
        return _(this._tooltip);
      },
      chess960: !!config.chess960,
      _icon: config.icon,
      _icon960: (_b = config.icon960) != null ? _b : config.icon,
      icon: function(chess960 = false) {
        return chess960 ? this._icon960 : this._icon;
      },
      startFen: config.startFen,
      boardFamily: config.boardFamily,
      board: BOARD_FAMILIES[config.boardFamily],
      pieceFamily: config.pieceFamily,
      piece: PIECE_FAMILIES[config.pieceFamily],
      colors: (_c = config.colors) != null ? _c : { first: "White", second: "Black" },
      pieceRow: Array.isArray(config.pieceRow) ? {
        white: config.pieceRow.map(roleOf),
        black: config.pieceRow.map(roleOf)
      } : {
        white: config.pieceRow.white.map(roleOf),
        black: config.pieceRow.black.map(roleOf)
      },
      kingRoles: ((_d = config.kingRoles) != null ? _d : ["k"]).map(roleOf),
      pocket: config.pocket ? {
        roles: Array.isArray(config.pocket.roles) ? {
          white: config.pocket.roles.map(roleOf),
          black: config.pocket.roles.map(roleOf)
        } : {
          white: config.pocket.roles.white.map(roleOf),
          black: config.pocket.roles.black.map(roleOf)
        },
        captureToHand: config.pocket.captureToHand
      } : void 0,
      promotion: {
        type: (_f = (_e = config.promotion) == null ? void 0 : _e.type) != null ? _f : "regular",
        order: (_i = (_g = config.promotion) == null ? void 0 : _g.order) != null ? _i : ((_h = config.promotion) == null ? void 0 : _h.type) === "shogi" ? ["+", ""] : ["q", "c", "e", "a", "h", "n", "r", "b", "p"],
        roles: ((_k = (_j = config.promotion) == null ? void 0 : _j.roles) != null ? _k : ["p"]).map(roleOf),
        strict: (_l = config.promotion) == null ? void 0 : _l.strict,
        get autoPromoteable() {
          return this.order.length > 2;
        }
      },
      rules: {
        defaultTimeControl: (_n = (_m = config.rules) == null ? void 0 : _m.defaultTimeControl) != null ? _n : "incremental",
        enPassant: !!((_o = config.rules) == null ? void 0 : _o.enPassant),
        gate: !!((_p = config.rules) == null ? void 0 : _p.gate),
        duck: !!((_q = config.rules) == null ? void 0 : _q.duck),
        pass: !!((_r = config.rules) == null ? void 0 : _r.pass),
        setup: !!((_s = config.rules) == null ? void 0 : _s.setup)
      },
      material: {
        showDiff: !((_t = config.pocket) == null ? void 0 : _t.captureToHand),
        initialDiff: calculateDiff(config.startFen, BOARD_FAMILIES[config.boardFamily].dimensions, (_v = (_u = config.material) == null ? void 0 : _u.equivalences) != null ? _v : {}, !!((_w = config.pocket) == null ? void 0 : _w.captureToHand)),
        equivalences: (_y = (_x = config.material) == null ? void 0 : _x.equivalences) != null ? _y : {}
      },
      ui: {
        counting: (_z = config.ui) == null ? void 0 : _z.counting,
        materialPoint: (_A = config.ui) == null ? void 0 : _A.materialPoint,
        showPromoted: (_C = (_B = config.ui) == null ? void 0 : _B.showPromoted) != null ? _C : false,
        pieceSound: (_E = (_D = config.ui) == null ? void 0 : _D.pieceSound) != null ? _E : "regular",
        boardMark: (_G = (_F = config.ui) == null ? void 0 : _F.boardMark) != null ? _G : ""
      },
      alternateStart: config.alternateStart
    };
  }
  var VARIANTS = {
    chess: variant({
      name: "chess",
      tooltip: "Chess, unmodified, as it's played by FIDE standards.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      chess960: true,
      icon: "M",
      icon960: "V",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "PawnsPushed": "rnbqkbnr/8/8/pppppppp/PPPPPPPP/8/8/RNBQKBNR w KQkq - 0 1",
        "PawnsPassed": "rnbqkbnr/8/8/PPPPPPPP/pppppppp/8/8/RNBQKBNR w KQkq - 0 1",
        "UpsideDown": "RNBKQBNR/PPPPPPPP/8/8/8/8/pppppppp/rnbkqbnr w - - 0 1",
        "Theban": "1p6/2p3kn/3p2pp/4pppp/5ppp/8/PPPPPPPP/PPPPPPKN w - - 0 1",
        "No castle": "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w - - 0 1"
      }
    }),
    crazyhouse: variant({
      name: "crazyhouse",
      tooltip: "Take captured pieces and drop them back on to the board as your own.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR[] w KQkq - 0 1",
      chess960: true,
      icon: "+",
      icon960: "%",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      pocket: {
        roles: ["p", "n", "b", "r", "q"],
        captureToHand: true
      },
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "PawnsPushed": "rnbqkbnr/8/8/pppppppp/PPPPPPPP/8/8/RNBQKBNR w - - 0 1",
        "PawnsPassed": "rnbqkbnr/8/8/PPPPPPPP/pppppppp/8/8/RNBQKBNR w - - 0 1",
        "UpsideDown": "RNBQKBNR/PPPPPPPP/8/8/8/8/pppppppp/rnbqkbnr w - - 0 1",
        "Theban": "1p6/2p3kn/3p2pp/4pppp/5ppp/8/PPPPPPPP/PPPPPPKN w - - 0 1",
        "No castle": "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w - - 0 1"
      }
    }),
    placement: variant({
      name: "placement",
      tooltip: "Choose where your pieces start.",
      startFen: "8/pppppppp/8/8/8/8/PPPPPPPP/8[KQRRBBNNkqrrbbnn] w - - 0 1",
      icon: "S",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      pocket: { roles: ["n", "b", "r", "q", "k"], captureToHand: false },
      rules: { enPassant: true }
    }),
    atomic: variant({
      name: "atomic",
      tooltip: "Pieces explode upon capture.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      chess960: true,
      icon: "~",
      icon960: "\\",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      rules: { enPassant: true },
      ui: { pieceSound: "atomic" }
    }),
    duck: variant({
      name: "duck",
      tooltip: "The duck must be moved to a new square after every turn.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      icon: "\u{1F986}",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: { white: ["k", "q", "r", "b", "n", "p", "*"], black: ["k", "q", "r", "b", "n", "p"] },
      rules: { enPassant: true, duck: true }
    }),
    makruk: variant({
      name: "makruk",
      tooltip: "Thai Chess. A game closely resembling the original Chaturanga. Similar to Chess but with a different queen and bishop.",
      startFen: "rnsmksnr/8/pppppppp/8/8/PPPPPPPP/8/RNSKMSNR w - - 0 1",
      icon: "Q",
      boardFamily: "makruk8x8",
      pieceFamily: "makruk",
      pieceRow: ["k", "s", "m", "n", "r", "p", "m~"],
      promotion: { type: "regular", order: ["m"] },
      ui: { counting: "makruk", showPromoted: true }
    }),
    makpong: variant({
      name: "makpong",
      tooltip: _("Makruk variant where kings cannot move to escape out of check."),
      startFen: "rnsmksnr/8/pppppppp/8/8/PPPPPPPP/8/RNSKMSNR w - - 0 1",
      icon: "O",
      boardFamily: "makruk8x8",
      pieceFamily: "makruk",
      pieceRow: ["k", "s", "m", "n", "r", "p", "m~"],
      promotion: { type: "regular", order: ["m"] },
      ui: { counting: "makruk", showPromoted: true }
    }),
    cambodian: variant({
      name: "cambodian",
      displayName: "ouk chaktrang",
      tooltip: "Cambodian Chess. Makruk with a few additional opening abilities.",
      startFen: "rnsmksnr/8/pppppppp/8/8/PPPPPPPP/8/RNSKMSNR w DEde - 0 1",
      icon: "!",
      boardFamily: "makruk8x8",
      pieceFamily: "makruk",
      pieceRow: ["k", "s", "m", "n", "r", "p", "m~"],
      promotion: { type: "regular", order: ["m"] },
      ui: { counting: "makruk", showPromoted: true }
    }),
    sittuyin: variant({
      name: "sittuyin",
      tooltip: "Burmese Chess. Similar to Makruk, but pieces are placed at the start of the match.",
      startFen: "8/8/4pppp/pppp4/4PPPP/PPPP4/8/8[KFRRSSNNkfrrssnn] w - - 0 1",
      icon: ":",
      boardFamily: "sittuyin8x8",
      pieceFamily: "sittuyin",
      colors: { first: "Red", second: "Black" },
      pieceRow: ["k", "f", "s", "n", "r", "p"],
      pocket: { roles: ["r", "n", "s", "f", "k"], captureToHand: false },
      promotion: { type: "regular", order: ["f"] }
    }),
    asean: variant({
      name: "asean",
      tooltip: "Makruk using the board/pieces from International Chess as well as pawn promotion rules.",
      startFen: "rnbqkbnr/8/pppppppp/8/8/PPPPPPPP/8/RNBQKBNR w - - 0 1",
      icon: "\u267B",
      boardFamily: "standard8x8",
      pieceFamily: "asean",
      pieceRow: ["k", "q", "b", "n", "r", "p"],
      promotion: { type: "regular", order: ["r", "n", "b", "q"] },
      ui: { counting: "asean" }
    }),
    shogi: variant({
      name: "shogi",
      tooltip: _("Japanese Chess, and the standard 9x9 version played today with drops and promotions. "),
      startFen: "lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] w 0 1",
      icon: "K",
      boardFamily: "shogi9x9",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "r", "b", "s", "n", "l", "p"],
      pocket: { roles: ["p", "l", "n", "s", "g", "b", "r"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "l", "n", "s", "r", "b"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" },
      alternateStart: {
        "": "",
        "Lance HC": "lnsgkgsn1/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "Bishop HC": "lnsgkgsnl/1r7/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "Rook HC": "lnsgkgsnl/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "Rook+Lance HC": "lnsgkgsn1/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "2-Piece HC": "lnsgkgsnl/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "4-Piece HC": "1nsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "6-Piece HC": "2sgkgs2/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "8-Piece HC": "3gkg3/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "9-Piece HC": "3gk4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "10-Piece HC": "4k4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1"
      }
    }),
    minishogi: variant({
      name: "minishogi",
      tooltip: "5x5 Shogi for more compact and faster games. There are no knights or lances.",
      startFen: "rbsgk/4p/5/P4/KGSBR[-] w 0 1",
      icon: "6",
      boardFamily: "shogi5x5",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "r", "b", "s", "p"],
      pocket: { roles: ["p", "s", "g", "b", "r"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "s", "r", "b"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    kyotoshogi: variant({
      name: "kyotoshogi",
      displayName: "kyoto shogi",
      tooltip: "A wild Shogi variant on a 5x5 board where pieces flip into a different piece after each move.",
      startFen: "p+nks+l/5/5/5/+LSK+NP[-] w 0 1",
      icon: ")",
      boardFamily: "shogi5x5",
      pieceFamily: "kyoto",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "l", "s", "n", "p"],
      pocket: { roles: ["p", "l", "n", "s"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "l", "n", "s"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    dobutsu: variant({
      name: "dobutsu",
      tooltip: _("3x4 game with cute animals, designed to teach children how to play Shogi."),
      startFen: "gle/1c1/1C1/ELG[-] w 0 1",
      icon: "8",
      boardFamily: "shogi3x4",
      pieceFamily: "dobutsu",
      colors: { first: "Black", second: "White" },
      pieceRow: ["l", "g", "e", "c"],
      kingRoles: ["l"],
      pocket: { roles: ["e", "g", "c"], captureToHand: true },
      promotion: { type: "shogi", roles: ["c"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    gorogoro: variant({
      name: "gorogoro",
      tooltip: "5x6 Shogi designed to introduce tactics with the generals.",
      startFen: "sgkgs/5/1ppp1/1PPP1/5/SGKGS[-] w 0 1",
      icon: "\u{1F431}",
      boardFamily: "shogi5x6",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "s", "p"],
      pocket: { roles: ["p", "s", "g"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "s"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    gorogoroplus: variant({
      name: "gorogoroplus",
      displayName: "gorogoro+",
      tooltip: "5x6 Shogi designed to introduce tactics with the generals.",
      startFen: "sgkgs/5/1ppp1/1PPP1/5/SGKGS[LNln] w 0 1",
      icon: "\u{1F431}",
      boardFamily: "shogi5x6",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "s", "n", "l", "p"],
      pocket: { roles: ["p", "l", "n", "s", "g"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "s", "n", "l"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" },
      alternateStart: {
        "Gorogoro Plus N+L": "",
        "Original (No N+L)": "sgkgs/5/1ppp1/1PPP1/5/SGKGS[-] w 0 1"
      }
    }),
    torishogi: variant({
      name: "torishogi",
      displayName: "tori shogi",
      tooltip: "A confrontational 7x7 variant with unique pieces each named after different birds.",
      startFen: "rpckcpl/3f3/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[-] w 0 1",
      icon: "\u{1F426}",
      boardFamily: "shogi7x7",
      pieceFamily: "tori",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "c", "p", "l", "r", "f", "s"],
      pocket: { roles: ["s", "p", "l", "r", "c", "f"], captureToHand: true },
      promotion: { type: "shogi", roles: ["s", "f"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" },
      alternateStart: {
        "": "",
        "Left Quail HC": "rpckcp1/3f3/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1",
        "Falcon HC": "rpckcpl/7/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1",
        "Falcon + Left Quail HC": "rpckcp1/7/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1",
        "Falcon + Both Quails HC": "1pckcp1/7/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1"
      }
    }),
    xiangqi: variant({
      name: "xiangqi",
      tooltip: "Chinese Chess, one of the oldest and most played board games in the world.",
      startFen: "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1",
      icon: "|",
      boardFamily: "xiangqi9x10",
      pieceFamily: "xiangqi",
      colors: { first: "Red", second: "Black" },
      pieceRow: ["k", "a", "c", "r", "b", "n", "p"],
      promotion: { type: "regular", roles: [] }
    }),
    manchu: variant({
      name: "manchu",
      tooltip: "Xiangqi variant where one side has a chariot that can also move as a cannon or horse.",
      startFen: "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/9/9/M1BAKAB2 w - - 0 1",
      icon: "{",
      boardFamily: "xiangqi9x10",
      pieceFamily: "xiangqi",
      colors: { first: "Red", second: "Black" },
      pieceRow: { white: ["k", "a", "m", "b", "p"], black: ["k", "a", "c", "r", "b", "n", "p"] },
      promotion: { type: "regular", roles: [] }
    }),
    janggi: variant({
      name: "janggi",
      tooltip: "Korean Chess, similar to Xiangqi but plays much differently. Tournament rules are used.",
      startFen: "rnba1abnr/4k4/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/4K4/RNBA1ABNR w - - 0 1",
      icon: "=",
      boardFamily: "janggi9x10",
      pieceFamily: "janggi",
      colors: { first: "Blue", second: "Red" },
      pieceRow: ["k", "a", "c", "r", "b", "n", "p"],
      promotion: { type: "regular", roles: [] },
      rules: { defaultTimeControl: "byoyomi", pass: true, setup: true },
      ui: { materialPoint: "janggi" }
    }),
    minixiangqi: variant({
      name: "minixiangqi",
      tooltip: "Compact version of Xiangqi played on a 7x7 board without a river.",
      startFen: "rcnkncr/p1ppp1p/7/7/7/P1PPP1P/RCNKNCR w - - 0 1",
      icon: "7",
      boardFamily: "xiangqi7x7",
      pieceFamily: "xiangqi",
      colors: { first: "Red", second: "Black" },
      pieceRow: ["k", "c", "r", "n", "p"],
      promotion: { type: "regular", roles: [] }
    }),
    capablanca: variant({
      name: "capablanca",
      tooltip: "Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a 10x8 board.",
      startFen: "rnabqkbcnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNABQKBCNR w KQkq - 0 1",
      chess960: true,
      icon: "P",
      icon960: ",",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "Bird": "rnbcqkabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBCQKABNR w KQkq - 0 1",
        "Carrera": "rcnbqkbnar/pppppppppp/10/10/10/10/PPPPPPPPPP/RCNBQKBNAR w KQkq - 0 1",
        "Conservative": "arnbqkbnrc/pppppppppp/10/10/10/10/PPPPPPPPPP/ARNBQKBNRC w KQkq - 0 1",
        "Embassy": "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR w KQkq - 0 1",
        "Gothic": "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR w KQkq - 0 1",
        "Schoolbook": "rqnbakbncr/pppppppppp/10/10/10/10/PPPPPPPPPP/RQNBAKBNCR w KQkq - 0 1"
      }
    }),
    capahouse: variant({
      name: "capahouse",
      tooltip: _("Capablanca with Crazyhouse drop rules."),
      startFen: "rnabqkbcnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNABQKBCNR[] w KQkq - 0 1",
      chess960: true,
      icon: "&",
      icon960: "'",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "Bird": "rnbcqkabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBCQKABNR[] w KQkq - 0 1",
        "Carrera": "rcnbqkbnar/pppppppppp/10/10/10/10/PPPPPPPPPP/RCNBQKBNAR[] w KQkq - 0 1",
        "Conservative": "arnbqkbnrc/pppppppppp/10/10/10/10/PPPPPPPPPP/ARNBQKBNRC[] w KQkq - 0 1",
        "Embassy": "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR[] w KQkq - 0 1",
        "Gothic": "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR[] w KQkq - 0 1",
        "Schoolbook": "rqnbakbncr/pppppppppp/10/10/10/10/PPPPPPPPPP/RQNBAKBNCR[] w KQkq - 0 1"
      }
    }),
    seirawan: variant({
      name: "seirawan",
      displayName: "s-chess",
      tooltip: "Hybrid pieces, the hawk (B+N) and elephant (R+N), can enter the board after moving a back rank piece.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR[HEhe] w KQBCDFGkqbcdfg - 0 1",
      icon: "L",
      chess960: true,
      icon960: "}",
      boardFamily: "standard8x8",
      pieceFamily: "seirawan",
      pieceRow: ["k", "q", "e", "h", "r", "b", "n", "p"],
      pocket: { roles: ["h", "e"], captureToHand: false },
      rules: { enPassant: true, gate: true }
    }),
    shouse: variant({
      name: "shouse",
      displayName: "s-house",
      tooltip: "S-Chess with Crazyhouse drop rules.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR[HEhe] w KQBCDFGkqbcdfg - 0 1",
      icon: "$",
      boardFamily: "standard8x8",
      pieceFamily: "seirawan",
      pieceRow: ["k", "q", "e", "h", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "h", "e", "q"], captureToHand: true },
      rules: { enPassant: true, gate: true }
    }),
    grand: variant({
      name: "grand",
      tooltip: _("Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a grand 10x10 board."),
      startFen: "r8r/1nbqkcabn1/pppppppppp/10/10/10/10/PPPPPPPPPP/1NBQKCABN1/R8R w - - 0 1",
      icon: "(",
      boardFamily: "grand10x10",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    grandhouse: variant({
      name: "grandhouse",
      tooltip: "Grand Chess with Crazyhouse drop rules.",
      startFen: "r8r/1nbqkcabn1/pppppppppp/10/10/10/10/PPPPPPPPPP/1NBQKCABN1/R8R[] w - - 0 1",
      icon: "*",
      boardFamily: "grand10x10",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true }
    }),
    shako: variant({
      name: "shako",
      tooltip: "Introduces the cannon and elephant from Xiangqi into a 10x10 chess board.",
      startFen: "c8c/ernbqkbnre/pppppppppp/10/10/10/10/PPPPPPPPPP/ERNBQKBNRE/C8C w KQkq - 0 1",
      icon: "9",
      boardFamily: "standard10x10",
      pieceFamily: "shako",
      pieceRow: ["k", "q", "e", "c", "r", "b", "n", "p"],
      promotion: { type: "regular", order: ["q", "n", "c", "r", "e", "b"] },
      rules: { enPassant: true }
    }),
    shogun: variant({
      name: "shogun",
      tooltip: "Pieces promote and can be dropped, similar to Shogi.",
      startFen: "rnb+fkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNB+FKBNR w KQkq - 0 1",
      icon: "-",
      boardFamily: "shogun8x8",
      pieceFamily: "shogun",
      pieceRow: ["k", "f", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "f"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "f", "r", "b", "n"] },
      rules: { defaultTimeControl: "byoyomi", enPassant: true }
    }),
    hoppelpoppel: variant({
      name: "hoppelpoppel",
      displayName: "hoppel-poppel",
      tooltip: "Knights capture as bishops; bishops  capture as knights.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      icon: "`",
      boardFamily: "standard8x8",
      pieceFamily: "hoppel",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    orda: variant({
      name: "orda",
      tooltip: "Asymmetric variant where one army has pieces that move like knights but capture differently.",
      startFen: "lhaykahl/8/pppppppp/8/8/8/PPPPPPPP/RNBQKBNR w KQ - 0 1",
      icon: "R",
      boardFamily: "standard8x8",
      pieceFamily: "orda",
      colors: { first: "White", second: "Gold" },
      pieceRow: { white: ["k", "q", "r", "b", "n", "p", "h"], black: ["k", "y", "l", "a", "h", "p", "q"] },
      promotion: { type: "regular", order: ["q", "h"] },
      rules: { enPassant: true },
      ui: { boardMark: "campmate" }
    }),
    synochess: variant({
      name: "synochess",
      tooltip: _("Asymmetric East vs. West variant which pits the western Chess army against a Xiangqi and Janggi-styled army."),
      startFen: "rneakenr/8/1c4c1/1ss2ss1/8/8/PPPPPPPP/RNBQKBNR[ss] w KQ - 0 1",
      icon: "_",
      boardFamily: "standard8x8",
      pieceFamily: "synochess",
      colors: { first: "White", second: "Red" },
      pieceRow: { white: ["k", "q", "r", "b", "n", "p"], black: ["k", "a", "c", "r", "e", "n", "s"] },
      pocket: { roles: { white: [], black: ["s"] }, captureToHand: false },
      ui: { boardMark: "campmate" }
    }),
    shinobi: variant({
      name: "shinobi",
      tooltip: "Asymmetric variant which pits the western Chess army against a drop-based, Shogi-styled army.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/LH1CK1HL[LHMMDJ] w kq - 0 1",
      icon: "\u{1F422}",
      boardFamily: "standard8x8",
      pieceFamily: "shinobi",
      colors: { first: "Pink", second: "Black" },
      pieceRow: { white: ["k", "d", "j", "c", "l", "h", "m", "p"], black: ["k", "q", "r", "b", "n", "p"] },
      pocket: { roles: { white: ["l", "h", "m", "d", "j"], black: [] }, captureToHand: false },
      promotion: { type: "shogi", roles: ["p", "l", "h", "m"] },
      rules: { enPassant: true },
      ui: { boardMark: "campmate" },
      material: {
        equivalences: {
          "pl-piece": "r-piece",
          "ph-piece": "n-piece",
          "pm-piece": "b-piece",
          "pp-piece": "c-piece"
        }
      }
    }),
    empire: variant({
      name: "empire",
      tooltip: _("Asymmetric variant where one army has pieces that move like queens but capture as usual."),
      startFen: "rnbqkbnr/pppppppp/8/8/8/PPPSSPPP/8/TECDKCET w kq - 0 1",
      icon: "\u265A",
      boardFamily: "standard8x8",
      pieceFamily: "empire",
      colors: { first: "Gold", second: "Black" },
      pieceRow: { white: ["k", "d", "t", "c", "e", "p", "s", "q"], black: ["k", "q", "r", "b", "n", "p"] },
      rules: { enPassant: true },
      ui: { boardMark: "campmate" }
    }),
    ordamirror: variant({
      name: "ordamirror",
      displayName: "orda mirror",
      tooltip: _("Orda Chess variant with two Horde armies. The Falcon replaces the Yurt."),
      startFen: "lhafkahl/8/pppppppp/8/8/PPPPPPPP/8/LHAFKAHL w - - 0 1",
      icon: "\u25E9",
      boardFamily: "standard8x8",
      pieceFamily: "ordamirror",
      colors: { first: "White", second: "Gold" },
      pieceRow: ["k", "f", "l", "a", "h", "p"],
      promotion: { type: "regular", order: ["h", "l", "f", "a"] },
      ui: { boardMark: "campmate" }
    }),
    chak: variant({
      name: "chak",
      tooltip: "Mayan chess. Inspired by cultural elements of Mesoamerica.",
      startFen: "rvsqkjsvr/4o4/p1p1p1p1p/9/9/9/P1P1P1P1P/4O4/RVSJKQSVR w - - 0 1",
      icon: "\u{1F42C}",
      boardFamily: "chak9x9",
      pieceFamily: "chak",
      colors: { first: "White", second: "Green" },
      pieceRow: ["k", "j", "q", "r", "v", "s", "o", "p"],
      kingRoles: ["k", "+k"],
      promotion: {
        type: "shogi",
        roles: ["p", "k"],
        strict: {
          isPromoted: (piece, pos) => {
            switch (piece.role) {
              case "p-piece":
              case "pp-piece":
              case "k-piece":
              case "pk-piece":
                return piece.color === "white" && pos[1] >= 4 || piece.color === "black" && pos[1] <= 4;
              default:
                return false;
            }
          }
        }
      },
      material: {
        equivalences: {
          "pk-piece": "k-piece"
        }
      }
    }),
    chennis: variant({
      name: "chennis",
      tooltip: "Pieces alternate between two forms with each move.",
      startFen: "1fkm3/1p1s3/7/7/7/3S1P1/3MKF1[] w - 0 1",
      icon: "\u{1F3BE}",
      boardFamily: "chennis7x7",
      pieceFamily: "chennis",
      pieceRow: ["k", "p", "m", "s", "f"],
      pocket: { roles: ["p", "m", "s", "f"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "m", "s", "f"] }
    }),
    spartan: variant({
      name: "spartan",
      tooltip: _("Asymmetric Spartans vs. Persians variant."),
      startFen: "lgkcckwl/hhhhhhhh/8/8/8/8/PPPPPPPP/RNBQKBNR w KQ - 0 1",
      icon: "\u237A",
      boardFamily: "standard8x8",
      pieceFamily: "spartan",
      pieceRow: { white: ["k", "q", "r", "b", "n", "p"], black: ["k", "g", "w", "l", "c", "h"] }
    }),
    // We support the functionality to import/store/analyze some variants
    // but don't want to add them to leaderboard page
    embassy: variant({
      name: "embassy",
      tooltip: "Like Capablanca Chess but with Grand starting setup.",
      startFen: "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR w KQkq - 0 1",
      icon: "P",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    embassyhouse: variant({
      name: "embassyhouse",
      tooltip: "Embassy with Crazyhouse drop rules.",
      startFen: "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR[] w KQkq - 0 1",
      icon: "&",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true }
    }),
    gothic: variant({
      name: "gothic",
      tooltip: "Like Capablanca Chess but with a different starting setup.",
      startFen: "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR w KQkq - 0 1",
      icon: "P",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    gothhouse: variant({
      name: "gothhouse",
      tooltip: _("Gothic with Crazyhouse drop rules."),
      startFen: "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR[] w KQkq - 0 1",
      icon: "&",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true }
    })
  };
  var variants = Object.keys(VARIANTS);
  var disabledVariants = ["gothic", "gothhouse", "embassy", "embassyhouse", "gorogoro"];
  var enabledVariants = variants.filter((v) => !disabledVariants.includes(v));
  var variantGroups = {
    standard: { variants: ["chess", "crazyhouse", "placement", "atomic", "duck"] },
    sea: { variants: ["makruk", "makpong", "cambodian", "sittuyin", "asean"] },
    shogi: { variants: ["shogi", "minishogi", "kyotoshogi", "dobutsu", "gorogoroplus", "torishogi"] },
    xiangqi: { variants: ["xiangqi", "manchu", "janggi", "minixiangqi"] },
    fairy: { variants: ["capablanca", "capahouse", "seirawan", "shouse", "grand", "grandhouse", "shako", "shogun", "hoppelpoppel"] },
    army: { variants: ["orda", "synochess", "shinobi", "empire", "ordamirror", "chak", "chennis", "spartan"] }
  };
  function variantGroupLabel(group) {
    const groups = {
      standard: _("Chess Variants"),
      sea: _("Makruk Variants"),
      shogi: _("Shogi Variants"),
      xiangqi: _("Xiangqi Variants"),
      fairy: _("Fairy Piece Variants"),
      army: _("New Army Variants")
    };
    return groups[group];
  }
  function selectVariant(id, selected, onChange2, hookInsert) {
    return h(
      "select#" + id,
      {
        props: { name: id },
        on: { change: onChange2 },
        hook: { insert: hookInsert }
      },
      Object.keys(variantGroups).map((g) => {
        const group = variantGroups[g];
        return h("optgroup", { props: { label: variantGroupLabel(g) } }, group.variants.map((v) => {
          const variant2 = VARIANTS[v];
          return h("option", {
            props: { value: v, title: variant2.tooltip },
            attrs: { selected: v === selected }
          }, variant2.displayName(false));
        }));
      })
    );
  }
  function moddedVariant(variantName, chess960, pieces, castling) {
    if (!chess960 && ["capablanca", "capahouse"].includes(variantName)) {
      const whiteKing = pieces.get("e1");
      const blackKing = pieces.get("e8");
      if (castling !== "-" && (!castling.includes("K") && !castling.includes("Q") || whiteKing && samePiece(whiteKing, { role: "k-piece", color: "white" })) && (!castling.includes("k") && !castling.includes("q") || blackKing && samePiece(blackKing, { role: "k-piece", color: "black" })))
        return variantName.includes("house") ? "embassyhouse" : "embassy";
    }
    return variantName;
  }
  function notation(variant2) {
    let cgNotation = Notation.ALGEBRAIC;
    switch (variant2.name) {
      case "janggi":
        cgNotation = Notation.JANGGI;
        break;
      case "shogi":
      case "minishogi":
      case "kyotoshogi":
      case "dobutsu":
      case "gorogoro":
      case "gorogoroplus":
      case "torishogi":
        cgNotation = Notation.SHOGI_ARBNUM;
        break;
      case "xiangqi":
      case "minixiangqi":
        cgNotation = Notation.XIANGQI_ARBNUM;
        break;
    }
    return cgNotation;
  }

  // client/puzzlerCtrl.ts
  var Mousetrap = __toESM(require_mousetrap());

  // client/chess.ts
  function uci2cg(move3) {
    return move3.replace(/10/g, ":");
  }
  function uci2LastMove(move3) {
    if (!move3)
      return void 0;
    let moveStr = uci2cg(move3);
    if (moveStr.startsWith("+"))
      moveStr = moveStr.slice(1);
    const comma = moveStr.indexOf(",");
    const lastMove = [moveStr.slice(0, 2), moveStr.slice(2, 4)];
    if (comma > -1)
      lastMove.push(moveStr.slice(-2));
    return lastMove;
  }
  function cg2uci(move3) {
    return move3.replace(/:/g, "10");
  }
  function getCounting(fen) {
    const parts = fen.split(" ");
    let countingPly = Number(parts[4]);
    if (isNaN(countingPly))
      countingPly = 0;
    let countingLimit = Number(parts[3]);
    if (isNaN(countingLimit))
      countingLimit = 0;
    const board = parts[0];
    const whitePieces = (board.match(/[A-Z]/g) || []).length;
    const blackPieces = (board.match(/[a-z]/g) || []).length;
    const pawns = (board.match(/[Pp]/g) || []).length;
    const countingType = countingLimit === 0 ? "none" : pawns === 0 && (whitePieces <= 1 || blackPieces <= 1) ? "piece" : "board";
    const sideToMove = parts[1];
    const opponent = sideToMove === "w" ? "b" : "w";
    const countingSide = countingType === "none" || countingPly === 0 ? "" : countingPly % 2 === 0 ? sideToMove : opponent;
    return [countingPly, countingLimit, countingSide, countingType];
  }
  function getJanggiPoints(board) {
    let choPoint = 0;
    let hanPoint = 1.5;
    for (const c of board) {
      switch (c) {
        case "P":
          choPoint += 2;
          break;
        case "A":
        case "B":
          choPoint += 3;
          break;
        case "N":
          choPoint += 5;
          break;
        case "C":
          choPoint += 7;
          break;
        case "R":
          choPoint += 13;
          break;
        case "p":
          hanPoint += 2;
          break;
        case "a":
        case "b":
          hanPoint += 3;
          break;
        case "n":
          hanPoint += 5;
          break;
        case "c":
          hanPoint += 7;
          break;
        case "r":
          hanPoint += 13;
          break;
      }
    }
    return [choPoint, hanPoint];
  }
  function unpromotedRole(variant2, piece) {
    if (piece.promoted) {
      if (variant2.promotion.type === "shogi")
        return piece.role.slice(1);
      else
        return "p-piece";
    } else {
      return piece.role;
    }
  }
  function promotedRole(variant2, piece) {
    if (!piece.promoted && variant2.promotion.roles.includes(piece.role)) {
      if (variant2.promotion.type === "shogi")
        return "p" + piece.role;
      else
        return roleOf(variant2.promotion.order[0]);
    } else {
      return piece.role;
    }
  }
  function moveDests(legalMoves) {
    const dests = /* @__PURE__ */ new Map();
    legalMoves.map(uci2cg).forEach((move3) => {
      const orig = move3.slice(0, 2);
      const dest = move3.slice(2, 4);
      if (dests.has(orig))
        dests.get(orig).push(dest);
      else
        dests.set(orig, [dest]);
    });
    return dests;
  }
  function promotionSuffix(move3) {
    if (move3.startsWith("+")) {
      return "+";
    } else {
      const comma = move3.indexOf(",");
      if (comma > -1)
        move3 = move3.substring(0, comma);
      const last = move3.slice(-1);
      if (last.match(/[a-z+-]/))
        return last;
      else
        return "";
    }
  }
  function colorCase(color, str) {
    if (color === "white")
      return str.toUpperCase();
    else
      return str.toLowerCase();
  }

  // client/input/input.ts
  var ExtraInput = class {
    constructor(ctrl) {
      this.ctrl = ctrl;
    }
    next(suffix) {
      if (this.data)
        this.ctrl.processInput(this.data.piece, this.data.orig, this.data.dest, this.data.meta, suffix, this.type);
      this.data = void 0;
    }
  };

  // client/input/gating.ts
  var GatingInput = class extends ExtraInput {
    constructor(ctrl) {
      super(ctrl);
      this.type = "gating";
      this.choices = {};
    }
    /*
     * NOTE: This code only works with S-Chess, S-Chess960, and S-House
     *       Some parts assume an 8x8 board
     *       Please modify as you see fit if other gating variants come along
     */
    start(piece, orig, dest, meta) {
      this.data = { piece, orig, dest, meta };
      if (!this.ctrl.variant.rules.gate || isDropOrig(orig) || !this.canGate(orig)) {
        this.next("-");
        return;
      }
      this.choices = {};
      this.choices[orig] = this.gatingChoices(orig, dest);
      if (piece.role === "k-piece" && orig[1] === dest[1]) {
        const rookOrig = this.ctrl.chess960 ? dest : (dest[0] === "g" ? "h" : "a") + orig[1];
        const rookChoices = this.gatingChoices(rookOrig, orig);
        if (rookChoices.length > 0) {
          rookChoices.push("");
          this.choices[rookOrig] = rookChoices;
          if (this.choices[orig].length <= 1)
            delete this.choices[orig];
        }
      }
      const keys = Object.keys(this.choices);
      if (keys.length === 1 && this.choices[keys[0]].length === 1)
        this.finish("", orig);
      else
        this.drawGating(piece.color, this.ctrl.chessground.state.orientation);
    }
    canGate(orig) {
      const fen = this.ctrl.fullfen;
      const parts = fen.split(" ");
      const castling = parts[2];
      const color = parts[1] === "w" ? "white" : "black";
      const gateRank = color === "white" ? "1" : "8";
      if (orig[1] === gateRank) {
        if (castling.includes(colorCase(color, orig[0]))) {
          return true;
        }
        if (!this.ctrl.chess960) {
          if (orig[0] === "e" || orig[0] === "h") {
            if (castling.includes(colorCase(color, "K")))
              return true;
          }
          if (orig[0] === "e" || orig[0] === "a") {
            if (castling.includes(colorCase(color, "Q")))
              return true;
          }
        }
      }
      return false;
    }
    gatingChoices(orig, dest) {
      const possibleGating = this.ctrl.legalMoves().filter((move3) => move3.includes(orig + dest));
      return possibleGating.map(promotionSuffix).map((s) => s === "" ? "" : roleOf(s));
    }
    gate(piece, key) {
      this.ctrl.chessground.newPiece(piece, key, true);
    }
    drawGating(color, orientation) {
      const container = toVNode(document.querySelector("extension"));
      patch(container, this.view(color, orientation));
    }
    drawNoGating() {
      const container = document.getElementById("extension_choice");
      if (container)
        patch(container, h("extension"));
    }
    finish(role, key) {
      if (this.data) {
        console.log(role, key);
        this.drawNoGating();
        const letter = role === "" ? "" : letterOf(role);
        if (role === "") {
          this.next("");
        } else {
          this.gate({ role, color: this.data.piece.color }, key);
          if (key === this.data.orig)
            this.next(letter);
          else
            this.castlingNext(letter, key);
        }
        this.choices = {};
      }
    }
    castlingNext(suffix, key) {
      if (this.data)
        this.ctrl.processInput(this.data.piece, key, this.data.orig, this.data.meta, suffix, this.type);
      this.data = void 0;
    }
    cancel() {
      this.drawNoGating();
      this.ctrl.goPly(this.ctrl.ply);
    }
    squareView(orig, color, orientation) {
      const leftFile = key2pos(orig)[0];
      const left = (orientation === "white" ? leftFile : 7 - leftFile) * 12.5;
      return this.choices[orig].map((role, i) => {
        const top = (color === orientation ? 7 - i : i) * 12.5;
        console.log(role, orig);
        return h("square", {
          style: { top: top + "%", left: left + "%" },
          hook: bind("click", (e) => {
            e.stopPropagation();
            this.finish(role, orig);
          }, null)
        }, [
          h("piece." + role + "." + color)
        ]);
      });
    }
    view(color, orientation) {
      const direction = color === orientation ? "top" : "bottom";
      let squares = [];
      const pocket = this.ctrl.variant.pocket.roles[color];
      let orig;
      for (orig in this.choices) {
        this.choices[orig].sort((a, b) => pocket.indexOf(a) - pocket.indexOf(b));
        squares.push(...this.squareView(orig, color, orientation));
      }
      return h(
        "div#extension_choice." + direction,
        {
          hook: {
            insert: (vnode2) => {
              const el = vnode2.elm;
              el.addEventListener("click", () => this.cancel());
              el.addEventListener("contextmenu", (e) => {
                e.preventDefault();
                return false;
              });
            }
          }
        },
        squares
      );
    }
  };

  // client/input/promotion.ts
  var PromotionInput = class extends ExtraInput {
    constructor(ctrl) {
      super(ctrl);
      this.type = "promotion";
      this.choices = {};
    }
    start(piece, orig, dest, meta) {
      this.data = { piece, orig, dest, meta };
      if (this.ctrl.chessground.state.boardState.pieces.get(dest) === void 0) {
        this.next("");
        return;
      }
      const choices = this.promotionChoices(piece, orig, dest);
      const autoSuffix = this.ctrl.variant.promotion.order[0];
      const autoRole = this.ctrl.variant.promotion.type === "shogi" ? void 0 : roleOf(autoSuffix);
      const disableAutoPromote = meta.ctrlKey;
      if (this.ctrl.variant.promotion.autoPromoteable && this.ctrl.autoPromote && !disableAutoPromote && autoRole && autoSuffix && choices[autoRole] === autoSuffix)
        this.choices = { [autoRole]: autoSuffix };
      else
        this.choices = choices;
      if (Object.keys(this.choices).length === 1) {
        const role = Object.keys(this.choices)[0];
        this.finish(role);
      } else {
        this.drawPromo(dest, piece.color);
      }
    }
    promotionChoices(piece, orig, dest) {
      const variant2 = this.ctrl.variant;
      const possiblePromotions = this.ctrl.legalMoves().filter((move3) => move3.includes(orig + dest));
      const choices = {};
      possiblePromotions.map(promotionSuffix).forEach((suffix) => {
        let role;
        if (suffix === "+")
          role = promotedRole(variant2, piece);
        else if (suffix === "-")
          role = unpromotedRole(variant2, piece);
        else if (suffix === "")
          role = piece.role;
        else
          role = roleOf(suffix);
        choices[role] = suffix;
      });
      return choices;
    }
    promote(key, role) {
      const ground = this.ctrl.chessground;
      const piece = ground.state.boardState.pieces.get(key);
      if (piece && piece.role !== role) {
        ground.setPieces(/* @__PURE__ */ new Map([[key, {
          color: piece.color,
          role,
          promoted: true
        }]]));
      }
    }
    drawPromo(dest, color) {
      const container = toVNode(document.querySelector("extension"));
      patch(container, this.view(dest, color, this.ctrl.chessground.state.orientation));
    }
    drawNoPromo() {
      const container = document.getElementById("extension_choice");
      if (container)
        patch(container, h("extension"));
    }
    finish(role) {
      if (this.data) {
        this.drawNoPromo();
        this.promote(this.data.dest, role);
        if (isDropOrig(this.data.orig))
          this.dropNext(role);
        else
          this.next(this.choices[role]);
      }
    }
    dropNext(role) {
      if (this.data)
        this.ctrl.processInput(this.data.piece, dropOrigOf(role), this.data.dest, this.data.meta, "", "promotion");
      this.data = void 0;
    }
    cancel() {
      this.drawNoPromo();
      this.ctrl.goPly(this.ctrl.ply);
    }
    view(dest, color, orientation) {
      const variant2 = this.ctrl.variant;
      const width = variant2.board.dimensions.width;
      const height = variant2.board.dimensions.height;
      const pos = key2pos(dest);
      const choices = Object.keys(this.choices);
      choices.sort((a, b) => variant2.promotion.order.indexOf(this.choices[a]) - variant2.promotion.order.indexOf(this.choices[b]));
      const direction = color === orientation ? "bottom" : "top";
      const leftFile = orientation === "white" ? pos[0] : width - 1 - pos[0];
      const left = leftFile * (100 / width);
      const topRank = orientation === "white" ? height - 1 - pos[1] : pos[1];
      const side = color === orientation ? "ally" : "enemy";
      return h(
        "div#extension_choice",
        {
          hook: {
            insert: (vnode2) => {
              const el = vnode2.elm;
              el.addEventListener("click", () => this.cancel());
              el.addEventListener("contextmenu", (e) => {
                e.preventDefault();
                return false;
              });
            }
          }
        },
        choices.map((role, i) => {
          const rank = topRank + (direction === "bottom" ? i : -i);
          const top = rank * (100 / height);
          return h(
            "square",
            {
              style: { top: top + "%", left: left + "%" },
              hook: bind("click", (e) => {
                e.stopPropagation();
                this.finish(role);
              }, null)
            },
            [h(`piece.${role}.${color}.${side}`)]
          );
        })
      );
    }
  };

  // client/input/duck.ts
  var DuckInput = class extends ExtraInput {
    constructor(ctrl) {
      super(ctrl);
      this.type = "duck";
      this.inputState = void 0;
      this.duckDests = [];
    }
    start(piece, orig, dest, meta) {
      this.data = { piece, orig, dest, meta };
      if (!this.ctrl.variant.rules.duck) {
        this.next("");
        return;
      }
      this.duckDests = this.ctrl.legalMoves().filter((move3) => move3.includes(orig + dest)).map((move3) => move3.slice(-2));
      let duckKey;
      const pieces = this.ctrl.chessground.state.boardState.pieces;
      for (const [k, p] of pieces) {
        if (p.role === "_-piece") {
          duckKey = k;
          break;
        }
      }
      if (meta.captured && this.ctrl.variant.kingRoles.includes(meta.captured.role)) {
        this.finish(orig);
        return;
      }
      const undo = document.getElementById("undo");
      if (undo && undo.tagName === "DIV") {
        patch(
          undo,
          h("button#undo", { on: { click: () => this.ctrl.undo() }, props: { title: _("Undo") } }, [h("i", { class: { "icon": true, "icon-reply": true } })])
        );
      }
      if (!duckKey) {
        this.inputState = "click";
      } else {
        this.ctrl.chessground.state.boardState.pieces.get(duckKey).color = piece.color;
        this.ctrl.chessground.set({
          turnColor: piece.color,
          movable: {
            dests: /* @__PURE__ */ new Map([[duckKey, this.duckDests]])
          }
        });
        this.inputState = "move";
      }
    }
    finish(key) {
      if (this.duckDests.includes(key) && this.data) {
        this.ctrl.chessground.state.lastMove = [this.data.orig, this.data.dest, key];
        this.next("," + this.data.dest + key);
        this.inputState = void 0;
        this.data = void 0;
      }
    }
  };

  // node_modules/chessgroundx/premove.js
  var diff = (a, b) => Math.abs(a - b);
  var pawn = (color) => (x1, y1, x2, y2) => diff(x1, x2) < 2 && (color === "white" ? (
    // allow 2 squares from first two ranks, for horde
    y2 === y1 + 1 || y1 <= 1 && y2 === y1 + 2 && x1 === x2
  ) : y2 === y1 - 1 || y1 >= 6 && y2 === y1 - 2 && x1 === x2);
  var knight = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 && yd === 2 || xd === 2 && yd === 1;
  };
  var bishop = (x1, y1, x2, y2) => {
    return diff(x1, x2) === diff(y1, y2);
  };
  var rook = (x1, y1, x2, y2) => {
    return x1 === x2 || y1 === y2;
  };
  var queen = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);
  };
  var king = (color, rookFiles, canCastle) => (x1, y1, x2, y2) => diff(x1, x2) < 2 && diff(y1, y2) < 2 || canCastle && y1 === y2 && y1 === (color === "white" ? 0 : 7) && (x1 === 4 && (x2 === 2 && rookFiles.includes(0) || x2 === 6 && rookFiles.includes(7)) || rookFiles.includes(x2));
  function rookFilesOf(pieces, color) {
    const backrank2 = color === "white" ? "1" : "8";
    const files3 = [];
    for (const [key, piece] of pieces) {
      if (key[1] === backrank2 && piece.color === color && piece.role === "r-piece") {
        files3.push(key2pos(key)[0]);
      }
    }
    return files3;
  }
  function and(...ms) {
    return (x1, y1, x2, y2) => ms.map((m) => m(x1, y1, x2, y2)).reduce((a, b) => a && b);
  }
  function or(...ms) {
    return (x1, y1, x2, y2) => ms.map((m) => m(x1, y1, x2, y2)).reduce((a, b) => a || b);
  }
  function _distance(dist) {
    return (x1, y1, x2, y2) => Math.max(diff(x1, x2), diff(y1, y2)) <= dist;
  }
  function memoizeDistance() {
    const cache = {};
    return (dist) => {
      const key = `${dist}`;
      if (!(key in cache))
        cache[key] = _distance(dist);
      return cache[key];
    };
  }
  var distance = memoizeDistance();
  function backrank(color) {
    return color === "white" ? 0 : 7;
  }
  var kingNoCastling = (x1, y1, x2, y2) => {
    return diff(x1, x2) < 2 && diff(y1, y2) < 2;
  };
  function king960(color, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && y1 === y2 && y1 === backrank(color) && rookFiles.includes(x2);
  }
  function kingCapa(color, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && y1 === y2 && y1 === backrank(color) && x1 === 5 && (x2 === 8 && rookFiles.includes(9) || x2 === 2 && rookFiles.includes(0));
  }
  function kingShako(color, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && y1 === y2 && y1 === (color === "white" ? 1 : 8) && x1 === 5 && (x2 === 7 && rookFiles.includes(8) || x2 === 3 && rookFiles.includes(1));
  }
  function rookFilesOfShako(pieces, color) {
    const backrank2 = color === "white" ? "2" : "9";
    const files3 = [];
    for (const [key, piece] of pieces) {
      if (key[1] === backrank2 && piece.color === color && piece.role === "r-piece") {
        files3.push(key2pos(key)[0]);
      }
    }
    return files3;
  }
  function kingOuk(color, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && (color === "white" ? x1 === 3 && y1 === 0 && (x2 === 1 || x2 === 5) && y2 === 1 : x1 === 4 && y1 === 7 && (x2 === 6 || x2 === 2) && y2 === 6);
  }
  function pawnNoDoubleStep(color) {
    return (x1, y1, x2, y2) => diff(x1, x2) < 2 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function pawnGrand(color) {
    return (x1, y1, x2, y2) => diff(x1, x2) < 2 && (color === "white" ? y2 === y1 + 1 || y1 <= 2 && y2 === y1 + 2 && x1 === x2 : y2 === y1 - 1 || y1 >= 7 && y2 === y1 - 2 && x1 === x2);
  }
  function pawnSittuyin(pieces, color) {
    return (x1, y1, x2, y2) => {
      let canPromote = (color === "white" ? y1 >= 4 : y1 <= 3) && (x1 === y1 || 7 - x1 === y1);
      if (!canPromote) {
        let pawnCount = 0;
        for (const p of pieces.values())
          if (p.role === "p-piece" && p.color === color)
            pawnCount += 1;
        canPromote || (canPromote = pawnCount === 1);
      }
      return pawnNoDoubleStep(color)(x1, y1, x2, y2) || canPromote && ferz(x1, y1, x2, y2);
    };
  }
  function pawnBerolina(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? (
        // allow 2 squares from first two ranks, for horde
        y2 === y1 + 1 && xd <= 1 || y1 <= 1 && y2 === y1 + 2 && xd === 2
      ) : y2 === y1 - 1 && xd <= 1 || y1 >= 6 && y2 === y1 - 2 && xd === 2;
    };
  }
  var sideways = (x1, y1, x2, y2) => {
    return y1 === y2 && diff(x1, x2) <= 1;
  };
  var wazir = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 && yd === 0 || xd === 0 && yd === 1;
  };
  var ferz = (x1, y1, x2, y2) => diff(x1, x2) === diff(y1, y2) && diff(x1, x2) === 1;
  function ferzOuk(color) {
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) || (color === "white" ? x1 === 4 && y1 === 0 && x2 === 4 && y2 === 2 : x1 === 3 && y1 === 7 && x2 === 3 && y2 === 5);
  }
  var elephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === yd && xd === 2;
  };
  var archbishop = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  var chancellor = (x1, y1, x2, y2) => {
    return rook(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  var amazon = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  var centaur = (x1, y1, x2, y2) => {
    return kingNoCastling(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  function shogiLance(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 > y1 : y2 < y1);
  }
  function shogiSilver(color) {
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) || x1 === x2 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function shogiGold(color) {
    return (x1, y1, x2, y2) => wazir(x1, y1, x2, y2) || diff(x1, x2) < 2 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function shogiPawn(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function shogiKnight(color) {
    return (x1, y1, x2, y2) => (x2 === x1 - 1 || x2 === x1 + 1) && (color === "white" ? y2 === y1 + 2 : y2 === y1 - 2);
  }
  var shogiDragon = (x1, y1, x2, y2) => {
    return rook(x1, y1, x2, y2) || ferz(x1, y1, x2, y2);
  };
  var shogiHorse = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || wazir(x1, y1, x2, y2);
  };
  function _palace(bd, color) {
    const middleFile = Math.floor(bd.width / 2);
    const startingRank = color === "white" ? 0 : bd.height - 3;
    return [
      [middleFile - 1, startingRank + 2],
      [middleFile, startingRank + 2],
      [middleFile + 1, startingRank + 2],
      [middleFile - 1, startingRank + 1],
      [middleFile, startingRank + 1],
      [middleFile + 1, startingRank + 1],
      [middleFile - 1, startingRank],
      [middleFile, startingRank],
      [middleFile + 1, startingRank]
    ];
  }
  function memoizePalace() {
    const cache = {};
    return (bd, color) => {
      const key = `${bd.width}x${bd.height}${color.slice(0, 1)}`;
      if (!(key in cache))
        cache[key] = _palace(bd, color);
      return cache[key];
    };
  }
  var palace = memoizePalace();
  function xiangqiPawn(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1) || y2 === y1 && diff(x1, x2) < 2 && (color === "white" ? y1 > 4 : y1 < 5);
  }
  function minixiangqiPawn(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1) || y2 === y1 && diff(x1, x2) < 2;
  }
  function xiangqiElephant(color) {
    return (x1, y1, x2, y2) => elephant(x1, y1, x2, y2) && (color === "white" ? y2 < 5 : y2 > 4);
  }
  function xiangqiAdvisor(color, bd) {
    const p = palace(bd, color);
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) && p.some((point) => point[0] === x2 && point[1] === y2);
  }
  function xiangqiKing(color, bd) {
    const p = palace(bd, color);
    return (x1, y1, x2, y2) => wazir(x1, y1, x2, y2) && p.some((point) => point[0] === x2 && point[1] === y2);
  }
  var shakoElephant = (x1, y1, x2, y2) => {
    return diff(x1, x2) === diff(y1, y2) && diff(x1, x2) < 3;
  };
  var janggiElephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 2 && yd === 3 || xd === 3 && yd === 2;
  };
  function janggiPawn(color, bd) {
    const oppPalace = palace(bd, opposite(color));
    return (x1, y1, x2, y2) => {
      const palacePos = oppPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      let additionalMobility;
      switch (palacePos) {
        case 0:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && color === "black" && y22 === y12 - 1;
          break;
        case 2:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && color === "black" && y22 === y12 - 1;
          break;
        case 4:
          additionalMobility = (x12, y12, x22, y22) => diff(x12, x22) === 1 && (color === "white" ? y22 === y12 + 1 : y22 === y12 - 1);
          break;
        case 6:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && color === "white" && y22 === y12 + 1;
          break;
        case 8:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && color === "white" && y22 === y12 + 1;
          break;
        default:
          additionalMobility = () => false;
      }
      return minixiangqiPawn(color)(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2);
    };
  }
  function janggiRook(bd) {
    const wPalace = palace(bd, "white");
    const bPalace = palace(bd, "black");
    return (x1, y1, x2, y2) => {
      let additionalMobility;
      const wPalacePos = wPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      const bPalacePos = bPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      const palacePos = wPalacePos !== -1 ? wPalacePos : bPalacePos;
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      switch (palacePos) {
        case 0:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 > x12 && x22 <= x12 + 2 && y22 < y12 && y22 >= y12 - 2;
          break;
        case 2:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 < x12 && x22 >= x12 - 2 && y22 < y12 && y22 >= y12 - 2;
          break;
        case 4:
          additionalMobility = ferz;
          break;
        case 6:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 > x12 && x22 <= x12 + 2 && y22 > y12 && y22 <= y12 + 2;
          break;
        case 8:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 < x12 && x22 >= x12 - 2 && y22 > y12 && y22 <= y12 + 2;
          break;
        default:
          additionalMobility = () => false;
      }
      return rook(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2);
    };
  }
  function janggiKing(color, bd) {
    const ownPalace = palace(bd, color);
    return (x1, y1, x2, y2) => {
      const palacePos = ownPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      let additionalMobility;
      switch (palacePos) {
        case 0:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && y22 === y12 - 1;
          break;
        case 2:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && y22 === y12 - 1;
          break;
        case 4:
          additionalMobility = ferz;
          break;
        case 6:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && y22 === y12 + 1;
          break;
        case 8:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && y22 === y12 + 1;
          break;
        default:
          additionalMobility = () => false;
      }
      return (wazir(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2)) && ownPalace.some((point) => point[0] === x2 && point[1] === y2);
    };
  }
  var musketeerLeopard = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === 1 || xd === 2) && (yd === 1 || yd === 2);
  };
  var musketeerHawk = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 0 && (yd === 2 || yd === 3) || yd === 0 && (xd === 2 || xd === 3) || xd === yd && (xd === 2 || xd === 3);
  };
  var musketeerElephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 || yd === 1 || xd === 2 && (yd === 0 || yd === 2) || xd === 0 && yd === 2;
  };
  var musketeerCannon = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd < 3 && (yd < 2 || yd === 2 && xd === 0);
  };
  var musketeerUnicorn = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return knight(x1, y1, x2, y2) || xd === 1 && yd === 3 || xd === 3 && yd === 1;
  };
  var musketeerDragon = (x1, y1, x2, y2) => {
    return knight(x1, y1, x2, y2) || queen(x1, y1, x2, y2);
  };
  var musketeerFortress = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === yd && xd < 4 || yd === 0 && xd === 2 || yd === 2 && xd < 2;
  };
  var musketeerSpider = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd < 3 && yd < 3 && !(xd === 1 && yd === 0) && !(xd === 0 && yd === 1);
  };
  function toriGoose(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? xd === 2 && y2 === y1 + 2 || xd === 0 && y2 === y1 - 2 : xd === 2 && y2 === y1 - 2 || xd === 0 && y2 === y1 + 2;
    };
  }
  function toriLeftQuail(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return color === "white" ? x2 === x1 && y2 > y1 || xd === yd && x2 > x1 && y2 < y1 || x2 === x1 - 1 && y2 === y1 - 1 : x2 === x1 && y2 < y1 || xd === yd && x2 < x1 && y2 > y1 || x2 === x1 + 1 && y2 === y1 + 1;
    };
  }
  function toriRightQuail(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return color === "white" ? x2 === x1 && y2 > y1 || xd === yd && x2 < x1 && y2 < y1 || x2 === x1 + 1 && y2 === y1 - 1 : x2 === x1 && y2 < y1 || xd === yd && x2 > x1 && y2 > y1 || x2 === x1 - 1 && y2 === y1 + 1;
    };
  }
  function toriPheasant(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? x2 === x1 && y2 === y1 + 2 || xd === 1 && y2 === y1 - 1 : x2 === x1 && y2 === y1 - 2 || xd === 1 && y2 === y1 + 1;
    };
  }
  var toriCrane = (x1, y1, x2, y2) => {
    return kingNoCastling(x1, y1, x2, y2) && y2 !== y1;
  };
  function toriFalcon(color) {
    return (x1, y1, x2, y2) => {
      return color === "white" ? kingNoCastling(x1, y1, x2, y2) && !(x2 === x1 && y2 === y1 - 1) : kingNoCastling(x1, y1, x2, y2) && !(x2 === x1 && y2 === y1 + 1);
    };
  }
  function toriEagle(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return color === "white" ? kingNoCastling(x1, y1, x2, y2) || xd === yd && (y2 > y1 || y2 < y1 && yd <= 2) || x2 === x1 && y2 < y1 : kingNoCastling(x1, y1, x2, y2) || xd === yd && (y2 < y1 || y2 > y1 && yd <= 2) || x2 === x1 && y2 > y1;
    };
  }
  function pawnChak(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? y2 >= y1 && y2 - y1 <= 1 && xd <= 1 : y1 >= y2 && y1 - y2 <= 1 && xd <= 1;
    };
  }
  function chakWarrior(color) {
    return (x1, y1, x2, y2) => toriCrane(x1, y1, x2, y2) && (color === "white" ? y2 >= 4 : y2 <= 4);
  }
  function chakDivineKing(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return queen(x1, y1, x2, y2) && xd <= 2 && yd <= 2 && (color === "white" ? y2 >= 4 : y2 <= 4);
    };
  }
  function kingChennis(color) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) && x2 >= 1 && x2 <= 5 && (color === "white" ? y2 <= 3 : y2 >= 3);
  }
  var noMove = () => false;
  function premove(variant2, chess960, bd) {
    const mobility = builtinMobility(variant2, chess960, bd);
    return (boardState, key, canCastle) => {
      const pos = key2pos(key);
      return allPos(bd).filter((pos2) => (pos[0] !== pos2[0] || pos[1] !== pos2[1]) && mobility(boardState, key, canCastle)(pos[0], pos[1], pos2[0], pos2[1])).map(pos2key);
    };
  }
  function builtinMobility(variant2, chess960, bd) {
    switch (variant2) {
      case "xiangqi":
      case "manchu":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return xiangqiPawn(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return xiangqiElephant(color);
            case "a-piece":
              return xiangqiAdvisor(color, bd);
            case "k-piece":
              return xiangqiKing(color, bd);
            case "m-piece":
              return chancellor;
            default:
              return noMove;
          }
        };
      case "janggi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return janggiPawn(color, bd);
            case "c-piece":
            case "r-piece":
              return janggiRook(bd);
            case "n-piece":
              return knight;
            case "b-piece":
              return janggiElephant;
            case "a-piece":
            case "k-piece":
              return janggiKing(color, bd);
            default:
              return noMove;
          }
        };
      case "minixiangqi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return minixiangqiPawn(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "k-piece":
              return xiangqiKing(color, bd);
            default:
              return noMove;
          }
        };
      case "shogi":
      case "minishogi":
      case "gorogoro":
      case "gorogoroplus":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return shogiPawn(color);
            case "l-piece":
              return shogiLance(color);
            case "n-piece":
              return shogiKnight(color);
            case "k-piece":
              return kingNoCastling;
            case "s-piece":
              return shogiSilver(color);
            case "g-piece":
            case "pp-piece":
            case "pl-piece":
            case "pn-piece":
            case "ps-piece":
              return shogiGold(color);
            case "b-piece":
              return bishop;
            case "r-piece":
              return rook;
            case "pr-piece":
              return shogiDragon;
            case "pb-piece":
              return shogiHorse;
            default:
              return noMove;
          }
        };
      case "kyotoshogi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "l-piece":
              return shogiLance(color);
            case "pl-piece":
              return shogiGold(color);
            case "s-piece":
              return shogiSilver(color);
            case "ps-piece":
              return bishop;
            case "n-piece":
              return shogiKnight(color);
            case "pn-piece":
              return shogiGold(color);
            case "p-piece":
              return shogiPawn(color);
            case "pp-piece":
              return rook;
            case "k-piece":
              return kingNoCastling;
            default:
              return noMove;
          }
        };
      case "dobutsu":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "c-piece":
              return shogiPawn(color);
            case "e-piece":
              return ferz;
            case "g-piece":
              return wazir;
            case "l-piece":
              return kingNoCastling;
            case "pc-piece":
              return shogiGold(color);
            default:
              return noMove;
          }
        };
      case "torishogi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "s-piece":
              return shogiPawn(color);
            case "ps-piece":
              return toriGoose(color);
            case "l-piece":
              return toriLeftQuail(color);
            case "r-piece":
              return toriRightQuail(color);
            case "p-piece":
              return toriPheasant(color);
            case "c-piece":
              return toriCrane;
            case "f-piece":
              return toriFalcon(color);
            case "pf-piece":
              return toriEagle(color);
            case "k-piece":
              return kingNoCastling;
            default:
              return noMove;
          }
        };
      case "makruk":
      case "makpong":
      case "sittuyin":
      case "cambodian":
      case "asean":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return variant2 === "sittuyin" ? pawnSittuyin(boardState.pieces, color) : pawnNoDoubleStep(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
            case "s-piece":
              return shogiSilver(color);
            case "q-piece":
            case "f-piece":
            case "m-piece":
              return variant2 === "cambodian" ? ferzOuk(color) : ferz;
            case "k-piece":
              return variant2 === "cambodian" ? kingOuk(color, canCastle) : kingNoCastling;
            default:
              return noMove;
          }
        };
      case "grand":
      case "grandhouse":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnGrand(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "c-piece":
              return chancellor;
            case "a-piece":
              return archbishop;
            case "k-piece":
              return kingNoCastling;
            default:
              return noMove;
          }
        };
      case "shako":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnGrand(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "e-piece":
              return shakoElephant;
            case "k-piece":
              return kingShako(color, rookFilesOfShako(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "shogun":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "pp-piece":
              return kingNoCastling;
            case "r-piece":
              return rook;
            case "pr-piece":
              return chancellor;
            case "n-piece":
              return knight;
            case "pn-piece":
              return centaur;
            case "b-piece":
              return bishop;
            case "pb-piece":
              return archbishop;
            case "f-piece":
              return ferz;
            case "pf-piece":
              return queen;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "orda":
      case "ordamirror":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "l-piece":
              return chancellor;
            case "h-piece":
              return centaur;
            case "a-piece":
              return archbishop;
            case "y-piece":
              return shogiSilver(color);
            case "f-piece":
              return amazon;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "synochess":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "s-piece":
              return minixiangqiPawn(color);
            case "e-piece":
              return shakoElephant;
            case "a-piece":
              return kingNoCastling;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle && color === "white");
            default:
              return noMove;
          }
        };
      case "musketeer":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "l-piece":
              return musketeerLeopard;
            case "o-piece":
              return musketeerCannon;
            case "u-piece":
              return musketeerUnicorn;
            case "d-piece":
              return musketeerDragon;
            case "c-piece":
              return chancellor;
            case "a-piece":
              return archbishop;
            case "e-piece":
              return musketeerElephant;
            case "h-piece":
              return musketeerHawk;
            case "f-piece":
              return musketeerFortress;
            case "s-piece":
              return musketeerSpider;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "hoppelpoppel":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
            case "b-piece":
              return archbishop;
            case "q-piece":
              return queen;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "shinobi":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "pl-piece":
            case "r-piece":
              return rook;
            case "ph-piece":
            case "n-piece":
              return knight;
            case "pm-piece":
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "pp-piece":
            case "c-piece":
              return kingNoCastling;
            case "l-piece":
              return shogiLance(color);
            case "h-piece":
              return shogiKnight(color);
            case "m-piece":
              return ferz;
            case "d-piece":
              return shogiDragon;
            case "j-piece":
              return archbishop;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "empire":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "s-piece":
              return minixiangqiPawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
            case "d-piece":
            case "t-piece":
            case "c-piece":
              return queen;
            case "e-piece":
              return amazon;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "chak":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnChak(color);
            case "pp-piece":
              return chakWarrior(color);
            case "r-piece":
              return rook;
            case "v-piece":
              return knight;
            case "s-piece":
              return toriCrane;
            case "j-piece":
              return centaur;
            case "q-piece":
              return queen;
            case "k-piece":
              return kingNoCastling;
            case "pk-piece":
              return chakDivineKing(color);
            case "o-piece":
            default:
              return noMove;
          }
        };
      case "chennis":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnNoDoubleStep(color);
            case "pp-piece":
              return rook;
            case "s-piece":
              return minixiangqiPawn(color);
            case "ps-piece":
              return bishop;
            case "f-piece":
              return ferz;
            case "pf-piece":
              return rook;
            case "m-piece":
              return kingNoCastling;
            case "pm-piece":
              return knight;
            case "k-piece":
              return kingChennis(color);
            default:
              return noMove;
          }
        };
      case "spartan":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "h-piece":
              return pawnBerolina(color);
            case "g-piece":
              return shogiDragon;
            case "w-piece":
              return archbishop;
            case "c-piece":
              return and(rook, distance(2));
            case "l-piece":
              return or(and(bishop, distance(2)), sideways);
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "k-piece":
              return chess960 ? king960(color, rookFilesOf(boardState.pieces, color), canCastle) : king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "capablanca":
      case "capahouse":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "c-piece":
              return chancellor;
            case "a-piece":
              return archbishop;
            case "k-piece":
              return chess960 ? king960(color, rookFilesOf(boardState.pieces, color), canCastle) : kingCapa(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      default:
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "e-piece":
            case "c-piece":
              return chancellor;
            case "h-piece":
            case "a-piece":
              return archbishop;
            case "k-piece":
              return chess960 ? king960(color, rookFilesOf(boardState.pieces, color), canCastle) : king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
    }
  }

  // node_modules/chessgroundx/board.js
  function callUserFunction(f, ...args) {
    if (f)
      setTimeout(() => f(...args), 1);
  }
  function toggleOrientation(state) {
    state.orientation = opposite(state.orientation);
    state.animation.current = state.draggable.current = state.selectable.selected = void 0;
  }
  function setPieces(state, pieces) {
    for (const [key, piece] of pieces) {
      if (piece)
        state.boardState.pieces.set(key, piece);
      else
        state.boardState.pieces.delete(key);
    }
  }
  function setCheck(state, color) {
    state.check = void 0;
    if (color === true)
      color = state.turnColor;
    if (color)
      for (const [k, p] of state.boardState.pieces) {
        if (state.kingRoles.includes(p.role) && p.color === color) {
          state.check = k;
          break;
        }
      }
  }
  function setPremove(state, orig, dest, meta) {
    state.premovable.current = [orig, dest];
    callUserFunction(state.premovable.events.set, orig, dest, meta);
  }
  function unsetPremove(state) {
    if (state.premovable.current) {
      state.premovable.current = void 0;
      callUserFunction(state.premovable.events.unset);
    }
  }
  function tryAutoCastle(state, orig, dest) {
    if (!state.autoCastle)
      return false;
    const king2 = state.boardState.pieces.get(orig);
    if (!king2 || king2.role !== "k-piece")
      return false;
    const origPos = key2pos(orig);
    const destPos = key2pos(dest);
    if (origPos[1] !== 0 && origPos[1] !== 7 || origPos[1] !== destPos[1])
      return false;
    if (origPos[0] === 4 && !state.boardState.pieces.has(dest)) {
      if (destPos[0] === 6)
        dest = pos2key([7, destPos[1]]);
      else if (destPos[0] === 2)
        dest = pos2key([0, destPos[1]]);
    }
    const rook2 = state.boardState.pieces.get(dest);
    if (!rook2 || rook2.color !== king2.color || rook2.role !== "r-piece")
      return false;
    state.boardState.pieces.delete(orig);
    state.boardState.pieces.delete(dest);
    if (origPos[0] < destPos[0]) {
      state.boardState.pieces.set(pos2key([6, destPos[1]]), king2);
      state.boardState.pieces.set(pos2key([5, destPos[1]]), rook2);
    } else {
      state.boardState.pieces.set(pos2key([2, destPos[1]]), king2);
      state.boardState.pieces.set(pos2key([3, destPos[1]]), rook2);
    }
    return true;
  }
  function baseMove(state, orig, dest) {
    const origPiece = state.boardState.pieces.get(orig), destPiece = state.boardState.pieces.get(dest);
    if (orig === dest || !origPiece)
      return false;
    const captured = destPiece && destPiece.color !== origPiece.color ? destPiece : void 0;
    if (dest === state.selectable.selected)
      unselect(state);
    callUserFunction(state.events.move, orig, dest, captured);
    if (!tryAutoCastle(state, orig, dest)) {
      state.boardState.pieces.set(dest, origPiece);
      state.boardState.pieces.delete(orig);
    }
    state.lastMove = [orig, dest];
    state.check = void 0;
    callUserFunction(state.events.change);
    return captured || true;
  }
  function baseNewPiece(state, piece, dest, fromPocket, force) {
    if (state.boardState.pieces.has(dest)) {
      if (force)
        state.boardState.pieces.delete(dest);
      else
        return false;
    }
    callUserFunction(state.events.dropNewPiece, piece, dest);
    state.boardState.pieces.set(dest, piece);
    if (fromPocket)
      changeNumber(state.boardState.pockets[piece.color], piece.role, -1);
    state.lastMove = [dropOrigOf(piece.role), dest];
    state.check = void 0;
    callUserFunction(state.events.change);
    state.movable.dests = void 0;
    state.turnColor = opposite(state.turnColor);
    return true;
  }
  function baseUserMove(state, orig, dest, fromPocket, force) {
    const result = isKey(orig) ? baseMove(state, orig, dest) : baseNewPiece(state, orig, dest, fromPocket, force);
    if (result) {
      state.movable.dests = void 0;
      state.turnColor = opposite(state.turnColor);
      state.animation.current = void 0;
    }
    return result;
  }
  function userMove(state, orig, dest, fromPocket, force) {
    if (canMove(state, orig, dest, fromPocket) || force) {
      const result = baseUserMove(state, orig, dest, fromPocket, force);
      if (result) {
        const holdTime = state.hold.stop();
        unselect(state);
        const metadata = {
          premove: false,
          ctrlKey: state.stats.ctrlKey,
          holdTime
        };
        if (result !== true)
          metadata.captured = result;
        if (isKey(orig))
          callUserFunction(state.movable.events.after, orig, dest, metadata);
        else
          callUserFunction(state.movable.events.afterNewPiece, orig, dest, metadata);
        return true;
      }
    } else if (canPremove(state, orig, dest, fromPocket)) {
      setPremove(state, isKey(orig) ? orig : dropOrigOf(orig.role), dest, {
        ctrlKey: state.stats.ctrlKey
      });
      unselect(state);
      return true;
    }
    unselect(state);
    return false;
  }
  function select(state, selected, force) {
    if (isKey(selected))
      callUserFunction(state.events.select, selected);
    else
      callUserFunction(state.events.selectPocket, selected);
    if (state.selectable.selected) {
      if (isSame(state.selectable.selected, selected) && !state.draggable.enabled) {
        unselect(state);
        state.hold.cancel();
        return;
      } else if ((state.selectable.enabled || force) && isKey(selected) && state.selectable.selected !== selected) {
        if (userMove(state, state.selectable.selected, selected, !!state.selectable.fromPocket)) {
          state.stats.dragged = false;
          return;
        }
      }
    }
    if ((state.selectable.enabled || state.draggable.enabled) && (isMovable(state, selected, true) || isPremovable(state, selected, true))) {
      setSelected(state, selected, true);
      state.hold.start();
    }
  }
  function setSelected(state, selected, fromPocket) {
    if (isKey(selected))
      setSelectedKey(state, selected);
    else
      setDropMode(state, selected, !!fromPocket);
  }
  function setSelectedKey(state, key) {
    state.selectable.selected = key;
    state.selectable.fromPocket = false;
    if (isPremovable(state, key, false)) {
      state.premovable.dests = state.premovable.premoveFunc(state.boardState, key, state.premovable.castle);
    } else {
      state.premovable.dests = void 0;
    }
  }
  function setDropMode(state, piece, fromPocket) {
    state.selectable.selected = piece;
    state.selectable.fromPocket = fromPocket;
    if (isPremovable(state, piece, fromPocket)) {
      state.premovable.dests = state.premovable.predropFunc(state.boardState, piece);
    } else {
      state.premovable.dests = void 0;
    }
  }
  function unselect(state) {
    state.selectable.selected = void 0;
    state.premovable.dests = void 0;
    state.hold.cancel();
  }
  function pieceAvailability(state, orig, fromPocket) {
    var _a2, _b;
    let piece;
    let available = false;
    if (isKey(orig)) {
      piece = state.boardState.pieces.get(orig);
      available = !!piece;
    } else {
      piece = orig;
      const num = (_b = (_a2 = state.boardState.pockets) === null || _a2 === void 0 ? void 0 : _a2[piece.color].get(piece.role)) !== null && _b !== void 0 ? _b : 0;
      available = !fromPocket || num > 0;
    }
    return [piece, available];
  }
  function isMovable(state, orig, fromPocket) {
    const [piece, available] = pieceAvailability(state, orig, fromPocket);
    return available && (state.movable.color === "both" || state.movable.color === piece.color && state.turnColor === piece.color);
  }
  var canMove = (state, orig, dest, fromPocket) => {
    var _a2, _b;
    return orig !== dest && isMovable(state, orig, fromPocket) && (state.movable.free || !!((_b = (_a2 = state.movable.dests) === null || _a2 === void 0 ? void 0 : _a2.get(isKey(orig) ? orig : dropOrigOf(orig.role))) === null || _b === void 0 ? void 0 : _b.includes(dest)));
  };
  function isPremovable(state, orig, fromPocket) {
    const [piece, available] = pieceAvailability(state, orig, fromPocket);
    return available && state.premovable.enabled && state.movable.color === piece.color && state.turnColor !== piece.color;
  }
  var canPremove = (state, orig, dest, fromPocket) => orig !== dest && isPremovable(state, orig, fromPocket) && (isKey(orig) ? state.premovable.premoveFunc(state.boardState, orig, state.premovable.castle).includes(dest) : state.premovable.predropFunc(state.boardState, orig).includes(dest));
  function isDraggable(state, orig, fromPocket) {
    const [piece, available] = pieceAvailability(state, orig, fromPocket);
    return available && state.draggable.enabled && (state.movable.color === "both" || state.movable.color === piece.color && (state.turnColor === piece.color || state.premovable.enabled));
  }
  function playPremove(state) {
    const move3 = state.premovable.current;
    if (!move3)
      return false;
    const orig = isKey(move3[0]) ? move3[0] : { role: roleOf(move3[0]), color: state.turnColor };
    const dest = move3[1];
    let success = false;
    if (canMove(state, orig, dest, true)) {
      const result = baseUserMove(state, orig, dest, true);
      if (result) {
        const metadata = { premove: true };
        if (result !== true)
          metadata.captured = result;
        if (isKey(orig))
          callUserFunction(state.movable.events.after, orig, dest, metadata);
        else
          callUserFunction(state.movable.events.afterNewPiece, orig, dest, metadata);
        success = true;
      }
    }
    unsetPremove(state);
    return success;
  }
  function cancelMove(state) {
    unsetPremove(state);
    unselect(state);
  }
  function stop(state) {
    state.movable.color = state.movable.dests = state.animation.current = void 0;
    cancelMove(state);
  }
  function getKeyAtDomPos(pos, asWhite, bounds, bd) {
    let file = Math.floor(bd.width * (pos[0] - bounds.left) / bounds.width);
    if (!asWhite)
      file = bd.width - 1 - file;
    let rank = bd.height - 1 - Math.floor(bd.height * (pos[1] - bounds.top) / bounds.height);
    if (!asWhite)
      rank = bd.height - 1 - rank;
    return file >= 0 && file < bd.width && rank >= 0 && rank < bd.height ? pos2key([file, rank]) : void 0;
  }
  function getSnappedKeyAtDomPos(orig, pos, asWhite, bounds, bd) {
    const origPos = key2pos(orig);
    const validSnapPos = allPos(bd).filter((pos2) => {
      return queen(origPos[0], origPos[1], pos2[0], pos2[1]) || knight(origPos[0], origPos[1], pos2[0], pos2[1]) || // Only apply this to 9x10 board to avoid interfering with other variants beside Janggi
      bd.width === 9 && bd.height === 10 && janggiElephant(origPos[0], origPos[1], pos2[0], pos2[1]);
    });
    const validSnapCenters = validSnapPos.map((pos2) => computeSquareCenter(pos2key(pos2), asWhite, bounds, bd));
    const validSnapDistances = validSnapCenters.map((pos2) => distanceSq(pos, pos2));
    const [, closestSnapIndex] = validSnapDistances.reduce((a, b, index) => a[0] < b ? a : [b, index], [validSnapDistances[0], 0]);
    return pos2key(validSnapPos[closestSnapIndex]);
  }
  var whitePov = (s) => s.orientation === "white";

  // node_modules/chessgroundx/config.js
  function applyAnimation(state, config) {
    if (config.animation) {
      deepMerge(state.animation, config.animation);
      if ((state.animation.duration || 0) < 70)
        state.animation.enabled = false;
    }
  }
  function configure(state, config) {
    var _a2, _b, _c;
    if ((_a2 = config.movable) === null || _a2 === void 0 ? void 0 : _a2.dests)
      state.movable.dests = void 0;
    if ((_b = config.drawable) === null || _b === void 0 ? void 0 : _b.autoShapes)
      state.drawable.autoShapes = [];
    deepMerge(state, config);
    if (config.fen) {
      const boardState = read(config.fen, state.dimensions);
      const draggedPiece = state.boardState.pieces.get("a0");
      if (draggedPiece !== void 0)
        boardState.pieces.set("a0", draggedPiece);
      if (state.pocketRoles)
        boardState.pockets = (_c = boardState.pockets) !== null && _c !== void 0 ? _c : { white: /* @__PURE__ */ new Map(), black: /* @__PURE__ */ new Map() };
      else
        boardState.pockets = void 0;
      state.boardState = boardState;
      state.drawable.shapes = [];
    }
    if ("check" in config || "kingRoles" in config)
      setCheck(state, config.check || false);
    if ("lastMove" in config && !config.lastMove)
      state.lastMove = void 0;
    else if (config.lastMove)
      state.lastMove = config.lastMove;
    if (state.selectable.selected)
      setSelected(state, state.selectable.selected, state.selectable.fromPocket);
    applyAnimation(state, config);
    if (!state.movable.rookCastle && state.movable.dests) {
      const rank = state.movable.color === "white" ? "1" : "8", kingStartPos = "e" + rank, dests = state.movable.dests.get(kingStartPos), king2 = state.boardState.pieces.get(kingStartPos);
      if (!dests || !king2 || king2.role !== "k-piece")
        return;
      state.movable.dests.set(kingStartPos, dests.filter((d) => !(d === "a" + rank && dests.includes("c" + rank)) && !(d === "h" + rank && dests.includes("g" + rank))));
    }
  }
  function deepMerge(base, extend) {
    for (const key in extend) {
      if (Object.prototype.hasOwnProperty.call(extend, key)) {
        if (Object.prototype.hasOwnProperty.call(base, key) && isPlainObject(base[key]) && isPlainObject(extend[key]))
          deepMerge(base[key], extend[key]);
        else
          base[key] = extend[key];
      }
    }
  }
  function isPlainObject(o) {
    if (typeof o !== "object" || o === null)
      return false;
    const proto = Object.getPrototypeOf(o);
    return proto === Object.prototype || proto === null;
  }

  // node_modules/chessgroundx/anim.js
  var anim = (mutation, state) => state.animation.enabled ? animate(mutation, state) : render(mutation, state);
  function render(mutation, state) {
    const result = mutation(state);
    state.dom.redraw();
    return result;
  }
  var makePiece = (key, piece) => ({
    key,
    pos: key2pos(key),
    piece
  });
  var closer = (piece, pieces) => pieces.sort((p1, p2) => distanceSq(piece.pos, p1.pos) - distanceSq(piece.pos, p2.pos))[0];
  function computePlan(prevPieces, current) {
    const anims = /* @__PURE__ */ new Map(), animedOrigs = [], fadings = /* @__PURE__ */ new Map(), missings = [], news = [], prePieces = /* @__PURE__ */ new Map();
    let curP, preP, vector;
    for (const [k, p] of prevPieces) {
      prePieces.set(k, makePiece(k, p));
    }
    for (const key of allKeys(current.dimensions)) {
      curP = current.boardState.pieces.get(key);
      preP = prePieces.get(key);
      if (curP) {
        if (preP) {
          if (!samePiece(curP, preP.piece)) {
            missings.push(preP);
            news.push(makePiece(key, curP));
          }
        } else
          news.push(makePiece(key, curP));
      } else if (preP)
        missings.push(preP);
    }
    for (const newP of news) {
      preP = closer(newP, missings.filter((p) => samePiece(newP.piece, p.piece)));
      if (preP) {
        vector = [preP.pos[0] - newP.pos[0], preP.pos[1] - newP.pos[1]];
        anims.set(newP.key, vector.concat(vector));
        animedOrigs.push(preP.key);
      }
    }
    for (const p of missings) {
      if (!animedOrigs.includes(p.key))
        fadings.set(p.key, p.piece);
    }
    return {
      anims,
      fadings
    };
  }
  function step(state, now) {
    const cur = state.animation.current;
    if (cur === void 0) {
      if (!state.dom.destroyed)
        state.dom.redrawNow();
      return;
    }
    const rest = 1 - (now - cur.start) * cur.frequency;
    if (rest <= 0) {
      state.animation.current = void 0;
      state.dom.redrawNow();
    } else {
      const ease = easing(rest);
      for (const cfg of cur.plan.anims.values()) {
        cfg[2] = cfg[0] * ease;
        cfg[3] = cfg[1] * ease;
      }
      state.dom.redrawNow(true);
      requestAnimationFrame((now2 = performance.now()) => step(state, now2));
    }
  }
  function animate(mutation, state) {
    const prevPieces = new Map(state.boardState.pieces);
    const result = mutation(state);
    const plan = computePlan(prevPieces, state);
    if (plan.anims.size || plan.fadings.size) {
      const alreadyRunning = state.animation.current && state.animation.current.start;
      state.animation.current = {
        start: performance.now(),
        frequency: 1 / state.animation.duration,
        plan
      };
      if (!alreadyRunning)
        step(state, performance.now());
    } else {
      state.dom.redraw();
    }
    return result;
  }
  var easing = (t) => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;

  // node_modules/chessgroundx/draw.js
  var brushes = ["green", "red", "blue", "yellow"];
  function start(state, e) {
    if (e.touches && e.touches.length > 1)
      return;
    e.stopPropagation();
    e.preventDefault();
    e.ctrlKey ? unselect(state) : cancelMove(state);
    const pos = eventPosition(e), orig = getKeyAtDomPos(pos, whitePov(state), state.dom.bounds(), state.dimensions);
    if (!orig)
      return;
    state.drawable.current = {
      orig,
      pos,
      brush: eventBrush(e),
      snapToValidMove: state.drawable.defaultSnapToValidMove
    };
    processDraw(state);
  }
  function processDraw(state) {
    requestAnimationFrame(() => {
      const cur = state.drawable.current;
      if (cur) {
        const keyAtDomPos = getKeyAtDomPos(cur.pos, whitePov(state), state.dom.bounds(), state.dimensions);
        if (!keyAtDomPos) {
          cur.snapToValidMove = false;
        }
        const mouseSq = cur.snapToValidMove ? getSnappedKeyAtDomPos(cur.orig, cur.pos, whitePov(state), state.dom.bounds(), state.dimensions) : keyAtDomPos;
        if (mouseSq !== cur.mouseSq) {
          cur.mouseSq = mouseSq;
          cur.dest = mouseSq !== cur.orig ? mouseSq : void 0;
          state.dom.redrawNow();
        }
        processDraw(state);
      }
    });
  }
  function move(state, e) {
    if (state.drawable.current)
      state.drawable.current.pos = eventPosition(e);
  }
  function end(state) {
    const cur = state.drawable.current;
    if (cur) {
      if (cur.mouseSq)
        addShape(state.drawable, cur);
      cancel(state);
    }
  }
  function cancel(state) {
    if (state.drawable.current) {
      state.drawable.current = void 0;
      state.dom.redraw();
    }
  }
  function clear(state) {
    if (state.drawable.shapes.length) {
      state.drawable.shapes = [];
      state.dom.redraw();
      onChange(state.drawable);
    }
  }
  function eventBrush(e) {
    var _a2;
    const modA = (e.shiftKey || e.ctrlKey) && isRightButton(e);
    const modB = e.altKey || e.metaKey || ((_a2 = e.getModifierState) === null || _a2 === void 0 ? void 0 : _a2.call(e, "AltGraph"));
    return brushes[(modA ? 1 : 0) + (modB ? 2 : 0)];
  }
  function addShape(drawable, cur) {
    const sameShape = (s) => s.orig === cur.orig && s.dest === cur.dest;
    const similar = drawable.shapes.find(sameShape);
    if (similar)
      drawable.shapes = drawable.shapes.filter((s) => !sameShape(s));
    if (!similar || similar.brush !== cur.brush)
      drawable.shapes.push(cur);
    onChange(drawable);
  }
  function onChange(drawable) {
    if (drawable.onChange)
      drawable.onChange(drawable.shapes);
  }

  // node_modules/chessgroundx/drag.js
  function start2(s, e) {
    if (!e.isTrusted || e.button !== void 0 && e.button !== 0)
      return;
    if (e.touches && e.touches.length > 1)
      return;
    const bounds = s.dom.bounds(), position = eventPosition(e), orig = getKeyAtDomPos(position, whitePov(s), bounds, s.dimensions);
    if (!orig)
      return;
    const piece = s.boardState.pieces.get(orig);
    const previouslySelected = s.selectable.selected;
    if (!previouslySelected && s.drawable.enabled && (s.drawable.eraseOnClick || !piece || piece.color !== s.turnColor))
      clear(s);
    if (e.cancelable !== false && (!e.touches || s.blockTouchScroll || piece || previouslySelected || pieceCloseTo(s, position)))
      e.preventDefault();
    const hadPremove = !!s.premovable.current;
    s.stats.ctrlKey = e.ctrlKey;
    if (s.selectable.selected && canMove(s, s.selectable.selected, orig, !!s.selectable.fromPocket)) {
      anim((state) => select(state, orig), s);
    } else {
      select(s, orig);
    }
    const stillSelected = s.selectable.selected === orig;
    const element = pieceElementByKey(s, orig);
    if (piece && element && stillSelected && isDraggable(s, orig, false)) {
      s.draggable.current = {
        orig,
        piece,
        origPos: position,
        pos: position,
        started: s.draggable.autoDistance && s.stats.dragged,
        element,
        previouslySelected,
        originTarget: e.target,
        keyHasChanged: false
      };
      element.cgDragging = true;
      element.classList.add("dragging");
      const ghost = s.dom.elements.ghost;
      if (ghost) {
        ghost.className = "ghost " + pieceClasses(piece, s.orientation);
        translate(ghost, posToTranslate(bounds, s.dimensions)(key2pos(orig), whitePov(s)));
        setVisible(ghost, true);
      }
      processDrag(s);
    } else {
      if (hadPremove)
        unsetPremove(s);
    }
    s.dom.redraw();
  }
  function pieceCloseTo(s, pos) {
    const asWhite = whitePov(s), bounds = s.dom.bounds(), radiusSq = Math.pow(bounds.width / s.dimensions.width, 2);
    for (const key of s.boardState.pieces.keys()) {
      const center = computeSquareCenter(key, asWhite, bounds, s.dimensions);
      if (distanceSq(center, pos) <= radiusSq)
        return true;
    }
    return false;
  }
  function dragNewPiece(s, piece, fromPocket, e, previouslySelected, force) {
    s.dom.redraw();
    const position = eventPosition(e);
    s.boardState.pieces.set("a0", piece);
    s.draggable.current = {
      orig: "a0",
      piece,
      origPos: position,
      pos: position,
      started: true,
      element: () => pieceElementByKey(s, "a0"),
      previouslySelected,
      originTarget: e.target,
      fromPocket,
      force: !!force,
      keyHasChanged: false
    };
    processDrag(s);
  }
  function processDrag(s) {
    requestAnimationFrame(() => {
      var _a2;
      const cur = s.draggable.current;
      if (!cur)
        return;
      if ((_a2 = s.animation.current) === null || _a2 === void 0 ? void 0 : _a2.plan.anims.has(cur.orig))
        s.animation.current = void 0;
      const origPiece = s.boardState.pieces.get(cur.orig);
      if (!samePiece(origPiece, cur.piece))
        cancel2(s);
      else {
        if (!cur.started && distanceSq(cur.pos, cur.origPos) >= Math.pow(s.draggable.distance, 2))
          cur.started = true;
        if (cur.started) {
          if (typeof cur.element === "function") {
            const found = cur.element();
            if (!found)
              return;
            found.cgDragging = true;
            found.classList.add("dragging");
            cur.element = found;
          }
          const bounds = s.dom.bounds();
          translate(cur.element, [
            cur.pos[0] - bounds.left - bounds.width / (2 * s.dimensions.width),
            cur.pos[1] - bounds.top - bounds.height / (2 * s.dimensions.height)
          ]);
          if (cur.orig !== "a0")
            cur.keyHasChanged || (cur.keyHasChanged = cur.orig !== getKeyAtDomPos(cur.pos, whitePov(s), bounds, s.dimensions));
        }
      }
      processDrag(s);
    });
  }
  function move2(s, e) {
    if (s.draggable.current && (!e.touches || e.touches.length < 2)) {
      s.draggable.current.pos = eventPosition(e);
    }
  }
  function end2(s, e) {
    var _a2;
    const cur = s.draggable.current;
    if (!cur)
      return;
    if (e.type === "touchend" && e.cancelable !== false)
      e.preventDefault();
    if (e.type === "touchend" && cur.originTarget !== e.target) {
      s.draggable.current = void 0;
      return;
    }
    unsetPremove(s);
    const eventPos = eventPosition(e) || cur.pos;
    const dest = getKeyAtDomPos(eventPos, whitePov(s), s.dom.bounds(), s.dimensions);
    const target = e.target;
    const onPocket = Number((_a2 = target.getAttribute("data-nb")) !== null && _a2 !== void 0 ? _a2 : -1) >= 0;
    const targetPiece = onPocket ? { role: target.getAttribute("data-role"), color: target.getAttribute("data-color") } : void 0;
    if (dest && cur.started && cur.orig !== dest) {
      s.stats.ctrlKey = e.ctrlKey;
      if (userMove(s, cur.orig !== "a0" ? cur.orig : cur.piece, dest, !!cur.fromPocket))
        s.stats.dragged = true;
    } else if (s.draggable.deleteOnDropOff && !dest) {
      s.boardState.pieces.delete(cur.orig);
      if (cur.fromPocket)
        changeNumber(s.boardState.pockets[cur.piece.color], cur.piece.role, -1);
      callUserFunction(s.events.change);
    }
    if ((cur.previouslySelected && (cur.orig === cur.previouslySelected || isSame(cur.piece, cur.previouslySelected)) || cur.keyHasChanged) && (cur.orig === dest || !dest))
      unselect(s);
    if (cur.orig === "a0" && (!targetPiece || !samePiece(cur.piece, targetPiece)))
      unselect(s);
    else if (!s.selectable.enabled)
      unselect(s);
    if (cur.orig === "a0")
      s.boardState.pieces.delete("a0");
    removeDragElements(s);
    s.draggable.current = void 0;
    s.dom.redraw();
  }
  function cancel2(s) {
    const cur = s.draggable.current;
    if (cur) {
      s.draggable.current = void 0;
      s.boardState.pieces.delete("a0");
      unselect(s);
      removeDragElements(s);
      s.dom.redraw();
    }
  }
  function removeDragElements(s) {
    const e = s.dom.elements;
    if (e.ghost)
      setVisible(e.ghost, false);
  }
  function pieceElementByKey(s, key) {
    let el = s.dom.elements.board.firstChild;
    while (el) {
      if (el.cgKey === key && el.tagName === "PIECE")
        return el;
      el = el.nextSibling;
    }
    return;
  }

  // node_modules/chessgroundx/explosion.js
  function explosion(state, keys) {
    state.exploding = { stage: 1, keys };
    state.dom.redraw();
    setTimeout(() => {
      setStage(state, 2);
      setTimeout(() => setStage(state, void 0), 120);
    }, 120);
  }
  function setStage(state, stage) {
    if (state.exploding) {
      if (stage)
        state.exploding.stage = stage;
      else
        state.exploding = void 0;
      state.dom.redraw();
    }
  }

  // node_modules/chessgroundx/api.js
  function start3(state, redrawAll) {
    function toggleOrientation2() {
      toggleOrientation(state);
      redrawAll();
    }
    return {
      set(config) {
        if (config.orientation && config.orientation !== state.orientation)
          toggleOrientation2();
        applyAnimation(state, config);
        (config.fen ? anim : render)((state2) => configure(state2, config), state);
      },
      state,
      getFen: () => write(state.boardState, state.dimensions),
      toggleOrientation: toggleOrientation2,
      setPieces(pieces) {
        anim((state2) => setPieces(state2, pieces), state);
      },
      changePocket(piece, num) {
        var _a2;
        if ((_a2 = state.pocketRoles) === null || _a2 === void 0 ? void 0 : _a2[piece.color].includes(piece.role)) {
          changeNumber(state.boardState.pockets[piece.color], piece.role, num);
          state.dom.redraw();
        }
      },
      selectSquare(key, force) {
        if (key)
          anim((state2) => select(state2, key, force), state);
        else if (state.selectable.selected) {
          unselect(state);
          state.dom.redraw();
        }
      },
      selectPocket(piece) {
        if (piece)
          anim((state2) => select(state2, piece), state);
        else if (state.selectable.selected) {
          unselect(state);
          state.dom.redraw();
        }
      },
      unselect() {
        unselect(state);
      },
      move(orig, dest) {
        if (isDropOrig(orig))
          baseNewPiece(state, { role: roleOf(orig), color: state.turnColor }, dest, true);
        else
          anim((state2) => baseMove(state2, orig, dest), state);
      },
      newPiece(piece, key, fromPocket) {
        anim((state2) => baseNewPiece(state2, piece, key, fromPocket), state);
      },
      playPremove() {
        if (state.premovable.current) {
          if (anim(playPremove, state))
            return true;
          state.dom.redraw();
        }
        return false;
      },
      cancelPremove() {
        render(unsetPremove, state);
      },
      cancelMove() {
        render((state2) => {
          cancelMove(state2);
          cancel2(state2);
        }, state);
      },
      stop() {
        render((state2) => {
          stop(state2);
          cancel2(state2);
        }, state);
      },
      explode(keys) {
        explosion(state, keys);
      },
      setAutoShapes(shapes) {
        render((state2) => state2.drawable.autoShapes = shapes, state);
      },
      setShapes(shapes) {
        render((state2) => state2.drawable.shapes = shapes, state);
      },
      getKeyAtDomPos(pos) {
        return getKeyAtDomPos(pos, whitePov(state), state.dom.bounds(), state.dimensions);
      },
      redrawAll,
      dragNewPiece(piece, fromPocket, event, force) {
        dragNewPiece(state, piece, fromPocket, event, void 0, force);
      },
      destroy() {
        stop(state);
        state.dom.unbind && state.dom.unbind();
        state.dom.destroyed = true;
      }
    };
  }

  // node_modules/chessgroundx/predrop.js
  var wholeBoard = () => true;
  function rankRange(from, to, color, bd) {
    if (from < 0)
      from += bd.height;
    if (to < 0)
      to += bd.height;
    return (_x, y) => {
      if (color === "black")
        y = bd.height - 1 - y;
      return from <= y && y < to;
    };
  }
  function predrop(variant2, bd) {
    const mobility = builtinMobility2(variant2, bd);
    return (boardState, piece) => allPos(bd).filter((pos) => {
      var _a2;
      return ((_a2 = boardState.pieces.get(pos2key(pos))) === null || _a2 === void 0 ? void 0 : _a2.color) !== piece.color && mobility(piece)(pos[0], pos[1]);
    }).map(pos2key);
  }
  function builtinMobility2(variant2, bd) {
    switch (variant2) {
      case "crazyhouse":
      case "shouse":
      case "capahouse":
      case "gothhouse":
        return (piece) => piece.role === "p-piece" ? rankRange(1, -1, piece.color, bd) : wholeBoard;
      case "placement":
        return (piece) => rankRange(0, 1, piece.color, bd);
      case "sittuyin":
        return (piece) => piece.role === "r-piece" ? rankRange(0, 1, piece.color, bd) : rankRange(0, 3, piece.color, bd);
      case "shogi":
      case "minishogi":
      case "gorogoro":
      case "gorogoroplus":
        return (piece) => {
          switch (piece.role) {
            case "p-piece":
            case "l-piece":
              return rankRange(0, -1, piece.color, bd);
            case "n-piece":
              return rankRange(0, -2, piece.color, bd);
            default:
              return wholeBoard;
          }
        };
      case "torishogi":
        return (piece) => piece.role === "s-piece" ? rankRange(0, -1, piece.color, bd) : wholeBoard;
      case "grandhouse":
        return (piece) => piece.role === "p-piece" ? rankRange(1, 7, piece.color, bd) : wholeBoard;
      case "shogun":
        return (piece) => rankRange(0, 5, piece.color, bd);
      case "synochess":
        return () => (_x, y) => y === 4;
      case "shinobi":
        return () => (_x, y) => y <= 3;
      case "kyotoshogi":
      case "dobutsu":
      case "chennis":
      default:
        return () => wholeBoard;
    }
  }

  // node_modules/chessgroundx/state.js
  function defaults() {
    return {
      boardState: read(initial, { width: 8, height: 8 }),
      orientation: "white",
      turnColor: "white",
      coordinates: true,
      ranksPosition: "right",
      autoCastle: true,
      viewOnly: false,
      disableContextMenu: false,
      addPieceZIndex: false,
      blockTouchScroll: false,
      pieceKey: false,
      highlight: {
        lastMove: true,
        check: true
      },
      animation: {
        enabled: true,
        duration: 200
      },
      movable: {
        free: true,
        color: "both",
        showDests: true,
        events: {},
        rookCastle: true
      },
      premovable: {
        enabled: true,
        premoveFunc: premove("chess", false, { width: 8, height: 8 }),
        predropFunc: predrop("chess", { width: 8, height: 8 }),
        castle: true,
        events: {}
      },
      draggable: {
        enabled: true,
        distance: 3,
        autoDistance: true,
        showGhost: true,
        deleteOnDropOff: false
      },
      selectable: {
        enabled: true
      },
      stats: {
        // on touchscreen, default to "tap-tap" moves
        // instead of drag
        dragged: !("ontouchstart" in window)
      },
      events: {},
      drawable: {
        enabled: true,
        visible: true,
        defaultSnapToValidMove: true,
        eraseOnClick: true,
        shapes: [],
        autoShapes: [],
        brushes: {
          green: { key: "g", color: "#15781B", opacity: 1, lineWidth: 10 },
          red: { key: "r", color: "#882020", opacity: 1, lineWidth: 10 },
          blue: { key: "b", color: "#003088", opacity: 1, lineWidth: 10 },
          yellow: { key: "y", color: "#e68f00", opacity: 1, lineWidth: 10 },
          paleBlue: { key: "pb", color: "#003088", opacity: 0.4, lineWidth: 15 },
          paleGreen: { key: "pg", color: "#15781B", opacity: 0.4, lineWidth: 15 },
          paleRed: { key: "pr", color: "#882020", opacity: 0.4, lineWidth: 15 },
          paleGrey: {
            key: "pgr",
            color: "#4a4a4a",
            opacity: 0.35,
            lineWidth: 15
          }
        },
        prevSvgHash: ""
      },
      hold: timer(),
      dimensions: { width: 8, height: 8 },
      notation: Notation.ALGEBRAIC,
      kingRoles: ["k-piece"]
    };
  }

  // node_modules/chessgroundx/sync.js
  function syncShapes(shapes, root, renderShape3) {
    const hashesInDom = /* @__PURE__ */ new Map(), toRemove = [];
    for (const sc of shapes)
      hashesInDom.set(sc.hash, false);
    let el = root.firstChild, elHash;
    while (el) {
      elHash = el.getAttribute("cgHash");
      if (hashesInDom.has(elHash))
        hashesInDom.set(elHash, true);
      else
        toRemove.push(el);
      el = el.nextSibling;
    }
    for (const el2 of toRemove)
      root.removeChild(el2);
    for (const sc of shapes) {
      if (!hashesInDom.get(sc.hash))
        root.appendChild(renderShape3(sc));
    }
  }

  // node_modules/chessgroundx/svg.js
  function createElement2(tagName2) {
    return document.createElementNS("http://www.w3.org/2000/svg", tagName2);
  }
  function renderSvg(state, svg, customSvg) {
    const d = state.drawable, curD = d.current, cur = curD && curD.mouseSq ? curD : void 0, arrowDests = /* @__PURE__ */ new Map(), bounds = state.dom.bounds(), nonPieceAutoShapes = d.autoShapes.filter((autoShape) => !autoShape.piece);
    for (const s of d.shapes.concat(nonPieceAutoShapes).concat(cur ? [cur] : [])) {
      if (s.dest)
        arrowDests.set(s.dest, (arrowDests.get(s.dest) || 0) + 1);
    }
    const shapes = d.shapes.concat(nonPieceAutoShapes).map((s) => {
      return {
        shape: s,
        current: false,
        hash: shapeHash(s, arrowDests, false, bounds)
      };
    });
    if (cur)
      shapes.push({
        shape: cur,
        current: true,
        hash: shapeHash(cur, arrowDests, true, bounds)
      });
    const fullHash = shapes.map((sc) => sc.hash).join(";");
    if (fullHash === state.drawable.prevSvgHash)
      return;
    state.drawable.prevSvgHash = fullHash;
    const defsEl = svg.querySelector("defs");
    const shapesEl = svg.querySelector("g");
    const customSvgsEl = customSvg.querySelector("g");
    syncDefs(d, shapes, defsEl);
    syncShapes(shapes.filter((s) => !s.shape.customSvg), shapesEl, (shape) => renderShape(state, shape, d.brushes, arrowDests, bounds));
    syncShapes(shapes.filter((s) => s.shape.customSvg), customSvgsEl, (shape) => renderShape(state, shape, d.brushes, arrowDests, bounds));
  }
  function syncDefs(d, shapes, defsEl) {
    const brushes2 = /* @__PURE__ */ new Map();
    let brush;
    for (const s of shapes) {
      if (s.shape.dest) {
        brush = d.brushes[s.shape.brush];
        if (s.shape.modifiers)
          brush = makeCustomBrush(brush, s.shape.modifiers);
        brushes2.set(brush.key, brush);
      }
    }
    const keysInDom = /* @__PURE__ */ new Set();
    let el = defsEl.firstChild;
    while (el) {
      keysInDom.add(el.getAttribute("cgKey"));
      el = el.nextSibling;
    }
    for (const [key, brush2] of brushes2.entries()) {
      if (!keysInDom.has(key))
        defsEl.appendChild(renderMarker(brush2));
    }
  }
  function shapeHash({ orig, dest, brush, piece, modifiers, customSvg }, arrowDests, current, bounds) {
    return [
      bounds.width,
      bounds.height,
      current,
      orig,
      dest,
      brush,
      dest && (arrowDests.get(dest) || 0) > 1,
      piece && pieceHash(piece),
      modifiers && modifiersHash(modifiers),
      customSvg && customSvgHash(customSvg)
    ].filter((x) => x).join(",");
  }
  function pieceHash(piece) {
    return [piece.color, piece.role, piece.promoted, piece.scale].filter((x) => x).join(",");
  }
  function modifiersHash(m) {
    return "" + (m.lineWidth || "");
  }
  function customSvgHash(s) {
    let h2 = 0;
    for (let i = 0; i < s.length; i++) {
      h2 = (h2 << 5) - h2 + s.charCodeAt(i) >>> 0;
    }
    return "custom-" + h2.toString();
  }
  function renderShape(state, { shape, current, hash: hash2 }, brushes2, arrowDests, bounds) {
    let el;
    const orig = orient(key2pos(shape.orig), state.orientation, state.dimensions);
    if (shape.customSvg) {
      el = renderCustomSvg(shape.customSvg, orig, bounds, state.dimensions);
    } else {
      if (shape.dest) {
        let brush = brushes2[shape.brush];
        if (shape.modifiers)
          brush = makeCustomBrush(brush, shape.modifiers);
        el = renderArrow(brush, orig, orient(key2pos(shape.dest), state.orientation, state.dimensions), current, (arrowDests.get(shape.dest) || 0) > 1, bounds, state.dimensions);
      } else
        el = renderCircle(brushes2[shape.brush], orig, current, bounds, state.dimensions);
    }
    el.setAttribute("cgHash", hash2);
    return el;
  }
  function renderCustomSvg(customSvg, pos, bounds, bd) {
    const [x, y] = pos2user(pos, bounds, bd);
    const g = setAttributes(createElement2("g"), { transform: `translate(${x},${y})` });
    const svg = setAttributes(createElement2("svg"), { width: 1, height: 1, viewBox: "0 0 100 100" });
    g.appendChild(svg);
    svg.innerHTML = customSvg;
    return g;
  }
  function renderCircle(brush, pos, current, bounds, bd) {
    const o = pos2user(pos, bounds, bd), widths = circleWidth(), radius = (bounds.width + bounds.height) / (4 * Math.max(bounds.width, bounds.height));
    return setAttributes(createElement2("circle"), {
      stroke: brush.color,
      "stroke-width": widths[current ? 0 : 1],
      fill: "none",
      opacity: opacity(brush, current),
      cx: o[0],
      cy: o[1],
      r: radius - widths[1] / 2
    });
  }
  function renderArrow(brush, orig, dest, current, shorten, bounds, bd) {
    const m = arrowMargin(shorten && !current), a = pos2user(orig, bounds, bd), b = pos2user(dest, bounds, bd), dx = b[0] - a[0], dy = b[1] - a[1], angle = Math.atan2(dy, dx), xo = Math.cos(angle) * m, yo = Math.sin(angle) * m;
    return setAttributes(createElement2("line"), {
      stroke: brush.color,
      "stroke-width": lineWidth(brush, current),
      "stroke-linecap": "round",
      "marker-end": "url(#arrowhead-" + brush.key + ")",
      opacity: opacity(brush, current),
      x1: a[0],
      y1: a[1],
      x2: b[0] - xo,
      y2: b[1] - yo
    });
  }
  function renderMarker(brush) {
    const marker = setAttributes(createElement2("marker"), {
      id: "arrowhead-" + brush.key,
      orient: "auto",
      markerWidth: 4,
      markerHeight: 8,
      refX: 2.05,
      refY: 2.01
    });
    marker.appendChild(setAttributes(createElement2("path"), {
      d: "M0,0 V4 L3,2 Z",
      fill: brush.color
    }));
    marker.setAttribute("cgKey", brush.key);
    return marker;
  }
  function setAttributes(el, attrs) {
    for (const key in attrs) {
      if (Object.prototype.hasOwnProperty.call(attrs, key))
        el.setAttribute(key, attrs[key]);
    }
    return el;
  }
  function orient(pos, color, bd) {
    return color === "white" ? pos : [bd.width - 1 - pos[0], bd.height - 1 - pos[1]];
  }
  function makeCustomBrush(base, modifiers) {
    return {
      color: base.color,
      opacity: Math.round(base.opacity * 10) / 10,
      lineWidth: Math.round(modifiers.lineWidth || base.lineWidth),
      key: [base.key, modifiers.lineWidth].filter((x) => x).join("")
    };
  }
  function circleWidth() {
    return [3 / 64, 4 / 64];
  }
  function lineWidth(brush, current) {
    return (brush.lineWidth || 10) * (current ? 0.85 : 1) / 64;
  }
  function opacity(brush, current) {
    return (brush.opacity || 1) * (current ? 0.9 : 1);
  }
  function arrowMargin(shorten) {
    return (shorten ? 20 : 10) / 64;
  }
  function pos2user(pos, bounds, bd) {
    const xScale = Math.min(1, bounds.width / bounds.height) * Math.max(1, bd.height / bd.width);
    const yScale = Math.min(1, bounds.height / bounds.width) * Math.max(1, bd.width / bd.height);
    return [(pos[0] - (bd.width - 1) / 2) * xScale, ((bd.height - 1) / 2 - pos[1]) * yScale];
  }

  // node_modules/chessgroundx/wrap.js
  var LETTER_ENGLISH = letters;
  var LETTER_THAI = ["\u0E01", "\u0E02", "\u0E04", "\u0E07", "\u0E08", "\u0E09", "\u0E0A", "\u0E0D", "\u0E15", "\u0E16", "\u0E17", "\u0E19", "\u0E1B", "\u0E1C", "\u0E1E", "\u0E21"];
  var NUMBER_ARABIC = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16"];
  var NUMBER_JANGGI = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "1", "2", "3", "4", "5", "6"];
  var NUMBER_HANZI = [
    "\u4E00",
    "\u4E8C",
    "\u4E09",
    "\u56DB",
    "\u4E94",
    "\u516D",
    "\u4E03",
    "\u516B",
    "\u4E5D",
    "\u5341",
    "\u5341\u4E00",
    "\u5341\u4E8C",
    "\u5341\u4E09",
    "\u5341\u56DB",
    "\u5341\u4E94",
    "\u5341\u516D"
  ];
  var NUMBER_THAI = ["\u0E51", "\u0E52", "\u0E53", "\u0E54", "\u0E55", "\u0E56", "\u0E57", "\u0E58", "\u0E59", "\u0E51\u0E50", "\u0E51\u0E51", "\u0E51\u0E52", "\u0E51\u0E53", "\u0E51\u0E54", "\u0E51\u0E55", "\u0E51\u0E56"];
  var coordFormat = {
    [Notation.ALGEBRAIC]: [
      {
        coords: LETTER_ENGLISH,
        position: "bottom",
        direction: "forward"
      },
      {
        coords: NUMBER_ARABIC,
        position: "side",
        direction: "forward"
      }
    ],
    [Notation.SHOGI_ENGLET]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "backward"
      },
      {
        coords: LETTER_ENGLISH,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.SHOGI_ARBNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "backward"
      },
      {
        coords: NUMBER_ARABIC,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.SHOGI_HANNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "backward"
      },
      {
        coords: NUMBER_HANZI,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.JANGGI]: [
      {
        coords: NUMBER_ARABIC,
        position: "bottom",
        direction: "forward"
      },
      {
        coords: NUMBER_JANGGI,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.XIANGQI_ARBNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "forward",
        noBlackReverse: true
      },
      {
        coords: NUMBER_ARABIC,
        position: "bottom",
        direction: "backward",
        noBlackReverse: true
      }
    ],
    [Notation.XIANGQI_HANNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "forward",
        noBlackReverse: true
      },
      {
        coords: NUMBER_HANZI,
        position: "bottom",
        direction: "backward",
        noBlackReverse: true
      }
    ],
    [Notation.THAI_ALGEBRAIC]: [
      {
        coords: LETTER_THAI,
        position: "bottom",
        direction: "forward"
      },
      {
        coords: NUMBER_THAI,
        position: "side",
        direction: "forward"
      }
    ]
  };
  function renderWrap(element, s) {
    element.innerHTML = "";
    element.classList.add("cg-wrap");
    for (const c of colors)
      element.classList.toggle("orientation-" + c, s.orientation === c);
    element.classList.toggle("manipulable", !s.viewOnly);
    const container = createEl("cg-container");
    element.appendChild(container);
    const extension = createEl("extension");
    container.appendChild(extension);
    const board = createEl("cg-board");
    container.appendChild(board);
    let pocketBottom, pocketTop;
    if (isMiniBoard(element)) {
      if (s.boardState.pockets) {
        pocketBottom = createEl("pocketBottom");
        pocketTop = createEl("pocketTop");
        container.insertBefore(s.orientation === "white" ? pocketTop : pocketBottom, board);
        container.insertBefore(s.orientation === "white" ? pocketBottom : pocketTop, board.nextSibling);
      }
    }
    let svg;
    let customSvg;
    let autoPieces;
    if (s.drawable.visible) {
      const width = s.dimensions.width;
      const height = s.dimensions.height;
      svg = setAttributes(createElement2("svg"), {
        class: "cg-shapes",
        viewBox: `${-width / 2} ${-height / 2} ${width} ${height}`,
        preserveAspectRatio: "xMidYMid slice"
      });
      svg.appendChild(createElement2("defs"));
      svg.appendChild(createElement2("g"));
      customSvg = setAttributes(createElement2("svg"), {
        class: "cg-custom-svgs",
        viewBox: `${-(width - 1) / 2} ${-(height - 1) / 2} ${width} ${height}`,
        preserveAspectRatio: "xMidYMid slice"
      });
      customSvg.appendChild(createElement2("g"));
      autoPieces = createEl("cg-auto-pieces");
      container.appendChild(svg);
      container.appendChild(customSvg);
      container.appendChild(autoPieces);
    }
    if (s.coordinates) {
      coordFormat[s.notation].forEach((f) => {
        const max = f.position === "side" ? s.dimensions.height : s.dimensions.width;
        const pos = f.position;
        const coords = f.coords.slice(0, max);
        container.appendChild(renderCoords(coords, `${pos} ${f.direction}${f.noBlackReverse ? "" : " " + s.orientation}`));
      });
    }
    let ghost;
    if (s.draggable.enabled && s.draggable.showGhost) {
      ghost = createEl("piece", "ghost");
      setVisible(ghost, false);
      container.appendChild(ghost);
    }
    return {
      pocketTop,
      pocketBottom,
      board,
      container,
      wrap: element,
      ghost,
      svg,
      customSvg,
      autoPieces
    };
  }
  function renderCoords(elems, className) {
    const el = createEl("coords", className);
    let f;
    for (const elem of elems) {
      f = createEl("coord");
      f.textContent = elem;
      el.appendChild(f);
    }
    return el;
  }

  // node_modules/chessgroundx/pocket.js
  function renderPocketsInitial(state, elements, pocketTop, pocketBottom) {
    if (pocketTop) {
      pocketTop.innerHTML = "";
      elements.pocketTop = pocketTop;
      pocketView(state, elements.pocketTop, "top");
    }
    if (pocketBottom) {
      pocketBottom.innerHTML = "";
      elements.pocketBottom = pocketBottom;
      pocketView(state, elements.pocketBottom, "bottom");
    }
  }
  function pocketView(state, pocketEl, position) {
    if (!state.pocketRoles)
      return;
    const color = position === "top" ? opposite(state.orientation) : state.orientation;
    const roles = state.pocketRoles[color];
    const pl = String(roles.length);
    const files3 = String(state.dimensions.width);
    const ranks3 = String(state.dimensions.height);
    pocketEl.setAttribute("style", `--pocketLength: ${pl}; --files: ${files3}; --ranks: ${ranks3}`);
    pocketEl.classList.add("pocket", position);
    roles.forEach((role) => {
      const pieceName = pieceClasses({ role, color }, state.orientation);
      const sq = createEl("square");
      const p = createEl("piece", pieceName);
      sq.appendChild(p);
      p.setAttribute("data-color", color);
      p.setAttribute("data-role", role);
      renderPiece(state, sq);
      pocketEl.appendChild(sq);
    });
  }
  function renderPockets(state) {
    renderPocket(state, state.dom.elements.pocketBottom);
    renderPocket(state, state.dom.elements.pocketTop);
  }
  function renderPocket(state, pocketEl) {
    if (pocketEl) {
      let sq = pocketEl.firstChild;
      if (sq && sq.firstChild) {
        const color = sq.firstChild.getAttribute("data-color");
        pocketEl.classList.toggle("usable", !state.viewOnly && (state.movable.free || state.movable.color === "both" || !!color && state.movable.color === color));
        while (sq) {
          renderPiece(state, sq);
          sq = sq.nextSibling;
        }
      }
    }
  }
  function renderPiece(state, sq) {
    var _a2, _b, _c;
    const p = sq.firstChild;
    const role = p.getAttribute("data-role");
    const color = p.getAttribute("data-color");
    p.setAttribute("data-nb", "" + ((_a2 = state.boardState.pockets[color].get(role)) !== null && _a2 !== void 0 ? _a2 : 0));
    const piece = { role, color };
    const selected = state.selectable.selected;
    sq.classList.toggle("selected-square", !!selected && isPiece(selected) && state.selectable.fromPocket && samePiece(selected, piece));
    const premoveOrig = (_b = state.premovable.current) === null || _b === void 0 ? void 0 : _b[0];
    sq.classList.toggle("premove", !!premoveOrig && isDropOrig(premoveOrig) && roleOf(premoveOrig) === role && state.turnColor !== color);
    sq.classList.toggle("last-move", state.highlight.lastMove && !!((_c = state.lastMove) === null || _c === void 0 ? void 0 : _c.includes(dropOrigOf(role))) && state.turnColor !== color);
  }
  function drag(s, e) {
    if (!e.isTrusted || e.button !== void 0 && e.button !== 0)
      return;
    if (e.touches && e.touches.length > 1)
      return;
    const el = e.target, role = el.getAttribute("data-role"), color = el.getAttribute("data-color"), n = Number(el.getAttribute("data-nb"));
    if (n === 0)
      return;
    const piece = { role, color };
    const previouslySelected = s.selectable.selected;
    if (!previouslySelected && s.drawable.enabled && (s.drawable.eraseOnClick || piece.color !== s.turnColor))
      clear(s);
    if (e.cancelable !== false)
      e.preventDefault();
    const hadPremove = !!s.premovable.current;
    s.stats.ctrlKey = e.ctrlKey;
    select(s, piece);
    const selected = s.selectable.selected;
    const stillSelected = selected && isSame(selected, piece);
    if (stillSelected && isDraggable(s, piece, true)) {
      dragNewPiece(s, piece, true, e, previouslySelected);
    } else {
      if (hadPremove)
        unsetPremove(s);
    }
    s.dom.redraw();
  }

  // node_modules/chessgroundx/events.js
  function bindBoard(s, onResize) {
    const boardEl = s.dom.elements.board;
    if ("ResizeObserver" in window)
      new ResizeObserver(onResize).observe(s.dom.elements.wrap);
    if (s.viewOnly)
      return;
    const onStart = startDragOrDraw(s);
    boardEl.addEventListener("touchstart", onStart, {
      passive: false
    });
    boardEl.addEventListener("mousedown", onStart, {
      passive: false
    });
    if (s.disableContextMenu || s.drawable.enabled) {
      boardEl.addEventListener("contextmenu", (e) => e.preventDefault());
    }
  }
  function bindDocument(s, onResize) {
    const unbinds = [];
    if (!("ResizeObserver" in window))
      unbinds.push(unbindable(document.body, "chessground.resize", onResize));
    if (!s.viewOnly) {
      const onmove = dragOrDraw(s, move2, move);
      const onend = dragOrDraw(s, end2, end);
      for (const ev of ["touchmove", "mousemove"])
        unbinds.push(unbindable(document, ev, onmove));
      for (const ev of ["touchend", "mouseup"])
        unbinds.push(unbindable(document, ev, onend));
      const onScroll = () => s.dom.bounds.clear();
      unbinds.push(unbindable(document, "scroll", onScroll, { capture: true, passive: true }));
      unbinds.push(unbindable(window, "resize", onScroll, { passive: true }));
      const pocketTop = s.dom.elements.pocketTop;
      const pocketBottom = s.dom.elements.pocketBottom;
      const pocketStart = startDragOrDrawPocket(s);
      [pocketTop, pocketBottom].forEach((el) => {
        if (el) {
          for (const ev of ["touchstart", "mousedown"])
            unbinds.push(unbindable(el, ev, pocketStart));
          if (s.disableContextMenu || s.drawable.enabled)
            unbinds.push(unbindable(el, "contextmenu", (e) => e.preventDefault()));
        }
      });
    }
    return () => unbinds.forEach((f) => f());
  }
  function unbindable(el, eventName, callback, options) {
    el.addEventListener(eventName, callback, options);
    return () => el.removeEventListener(eventName, callback, options);
  }
  var startDragOrDraw = (s) => (e) => {
    if (s.draggable.current)
      cancel2(s);
    else if (s.drawable.current)
      cancel(s);
    else if (e.shiftKey || isRightButton(e)) {
      if (s.drawable.enabled)
        start(s, e);
    } else if (!s.viewOnly) {
      start2(s, e);
    }
  };
  var startDragOrDrawPocket = (s) => (e) => {
    if (s.draggable.current)
      cancel2(s);
    else if (s.drawable.current)
      cancel(s);
    else if (e.shiftKey || isRightButton(e)) {
      if (s.drawable.enabled)
        start(s, e);
    } else if (!s.viewOnly) {
      drag(s, e);
    }
  };
  var dragOrDraw = (s, withDrag, withDraw) => (e) => {
    if (s.drawable.current) {
      if (s.drawable.enabled)
        withDraw(s, e);
    } else if (!s.viewOnly)
      withDrag(s, e);
  };

  // node_modules/chessgroundx/render.js
  function render2(s) {
    const asWhite = whitePov(s), posToTranslate2 = posToTranslate(s.dom.bounds(), s.dimensions), boardEl = s.dom.elements.board, pieces = s.boardState.pieces, curAnim = s.animation.current, anims = curAnim ? curAnim.plan.anims : /* @__PURE__ */ new Map(), fadings = curAnim ? curAnim.plan.fadings : /* @__PURE__ */ new Map(), curDrag = s.draggable.current, squares = computeSquareClasses(s), samePieces = /* @__PURE__ */ new Set(), sameSquares = /* @__PURE__ */ new Set(), movedPieces = /* @__PURE__ */ new Map(), movedSquares = /* @__PURE__ */ new Map();
    let k, el, pieceAtKey, elPieceName, anim2, fading, pMvdset, pMvd, sMvdset, sMvd;
    el = boardEl.firstChild;
    while (el) {
      k = el.cgKey;
      if (isPieceNode(el)) {
        pieceAtKey = pieces.get(k);
        anim2 = anims.get(k);
        fading = fadings.get(k);
        elPieceName = el.cgPiece;
        if (el.cgDragging && (!curDrag || curDrag.orig !== k)) {
          el.classList.remove("dragging");
          translate(el, posToTranslate2(key2pos(k), asWhite));
          el.cgDragging = false;
        }
        if (!fading && el.cgFading) {
          el.cgFading = false;
          el.classList.remove("fading");
        }
        if (pieceAtKey) {
          if (anim2 && el.cgAnimating && elPieceName === pieceClasses(pieceAtKey, s.orientation)) {
            const pos = key2pos(k);
            pos[0] += anim2[2];
            pos[1] += anim2[3];
            el.classList.add("anim");
            translate(el, posToTranslate2(pos, asWhite));
          } else if (el.cgAnimating) {
            el.cgAnimating = false;
            el.classList.remove("anim");
            translate(el, posToTranslate2(key2pos(k), asWhite));
            if (s.addPieceZIndex)
              el.style.zIndex = posZIndex(key2pos(k), asWhite);
          }
          if (elPieceName === pieceClasses(pieceAtKey, s.orientation) && (!fading || !el.cgFading)) {
            samePieces.add(k);
          } else {
            if (fading && elPieceName === pieceClasses(fading, s.orientation)) {
              el.classList.add("fading");
              el.cgFading = true;
            } else {
              appendValue(movedPieces, elPieceName, el);
            }
          }
        } else {
          appendValue(movedPieces, elPieceName, el);
        }
      } else if (isSquareNode(el)) {
        const cn = el.className;
        if (squares.get(k) === cn)
          sameSquares.add(k);
        else
          appendValue(movedSquares, cn, el);
      }
      el = el.nextSibling;
    }
    for (const [sk, className] of squares) {
      if (!sameSquares.has(sk)) {
        sMvdset = movedSquares.get(className);
        sMvd = sMvdset && sMvdset.pop();
        const translation = posToTranslate2(key2pos(sk), asWhite);
        if (sMvd) {
          sMvd.cgKey = sk;
          translate(sMvd, translation);
        } else {
          const squareNode = createEl("square", className);
          squareNode.cgKey = sk;
          translate(squareNode, translation);
          boardEl.insertBefore(squareNode, boardEl.firstChild);
        }
      }
    }
    for (const [k2, p] of pieces) {
      anim2 = anims.get(k2);
      if (!samePieces.has(k2)) {
        pMvdset = movedPieces.get(pieceClasses(p, s.orientation));
        pMvd = pMvdset && pMvdset.pop();
        if (pMvd) {
          pMvd.cgKey = k2;
          if (pMvd.cgFading) {
            pMvd.classList.remove("fading");
            pMvd.cgFading = false;
          }
          const pos = key2pos(k2);
          if (s.addPieceZIndex)
            pMvd.style.zIndex = posZIndex(pos, asWhite);
          if (anim2) {
            pMvd.cgAnimating = true;
            pMvd.classList.add("anim");
            pos[0] += anim2[2];
            pos[1] += anim2[3];
          }
          translate(pMvd, posToTranslate2(pos, asWhite));
        } else {
          const pieceName = pieceClasses(p, s.orientation), pieceNode = createEl("piece", pieceName), pos = key2pos(k2);
          pieceNode.cgPiece = pieceName;
          pieceNode.cgKey = k2;
          if (anim2) {
            pieceNode.cgAnimating = true;
            pos[0] += anim2[2];
            pos[1] += anim2[3];
          }
          translate(pieceNode, posToTranslate2(pos, asWhite));
          if (s.addPieceZIndex)
            pieceNode.style.zIndex = posZIndex(pos, asWhite);
          boardEl.appendChild(pieceNode);
        }
      }
    }
    for (const nodes of movedPieces.values())
      removeNodes(s, nodes);
    for (const nodes of movedSquares.values())
      removeNodes(s, nodes);
  }
  function renderResized(s) {
    const asWhite = whitePov(s), posToTranslate2 = posToTranslate(s.dom.bounds(), s.dimensions);
    let el = s.dom.elements.board.firstChild;
    while (el) {
      if (isPieceNode(el) && !el.cgAnimating || isSquareNode(el)) {
        translate(el, posToTranslate2(key2pos(el.cgKey), asWhite));
      }
      el = el.nextSibling;
    }
  }
  function updateBounds(s) {
    var _a2, _b, _c, _d, _e, _f;
    const bounds = s.dom.elements.wrap.getBoundingClientRect();
    const container = s.dom.elements.container;
    const ratio = bounds.height / bounds.width;
    const width = Math.floor(bounds.width * window.devicePixelRatio / s.dimensions.width) * s.dimensions.width / window.devicePixelRatio;
    const height = width * ratio;
    container.style.width = width + "px";
    container.style.height = height + "px";
    s.dom.bounds.clear();
    (_a2 = s.addDimensionsCssVarsTo) === null || _a2 === void 0 ? void 0 : _a2.style.setProperty("--cg-width", width + "px");
    (_b = s.addDimensionsCssVarsTo) === null || _b === void 0 ? void 0 : _b.style.setProperty("--cg-height", height + "px");
    (_c = s.dom.elements.pocketTop) === null || _c === void 0 ? void 0 : _c.style.setProperty("--cg-width", width + "px");
    (_d = s.dom.elements.pocketTop) === null || _d === void 0 ? void 0 : _d.style.setProperty("--cg-height", height + "px");
    (_e = s.dom.elements.pocketBottom) === null || _e === void 0 ? void 0 : _e.style.setProperty("--cg-width", width + "px");
    (_f = s.dom.elements.pocketBottom) === null || _f === void 0 ? void 0 : _f.style.setProperty("--cg-height", height + "px");
  }
  var isPieceNode = (el) => el.tagName === "PIECE";
  var isSquareNode = (el) => el.tagName === "SQUARE";
  function removeNodes(s, nodes) {
    for (const node of nodes)
      s.dom.elements.board.removeChild(node);
  }
  function posZIndex(pos, asWhite) {
    const minZ = 3;
    const rank = pos[1];
    const z = asWhite ? minZ + 7 - rank : minZ + rank;
    return `${z}`;
  }
  function computeSquareClasses(s) {
    var _a2;
    const squares = /* @__PURE__ */ new Map();
    if (s.lastMove && s.highlight.lastMove)
      for (const k of s.lastMove) {
        if (isKey(k) && k !== "a0")
          addSquare(squares, k, "last-move");
      }
    if (s.check && s.highlight.check)
      addSquare(squares, s.check, "check");
    const selected = s.selectable.selected;
    if (selected) {
      if (isKey(selected))
        addSquare(squares, selected, "selected");
      if (s.movable.showDests) {
        const dests = (_a2 = s.movable.dests) === null || _a2 === void 0 ? void 0 : _a2.get(isKey(selected) ? selected : dropOrigOf(selected.role));
        if (dests)
          for (const k of dests) {
            addSquare(squares, k, "move-dest" + (s.boardState.pieces.has(k) ? " oc" : ""));
          }
        const pDests = s.premovable.dests;
        if (pDests)
          for (const k of pDests) {
            addSquare(squares, k, "premove-dest" + (s.boardState.pieces.has(k) ? " oc" : ""));
          }
      }
    }
    const premove2 = s.premovable.current;
    if (premove2) {
      for (const k of premove2)
        if (isKey(k))
          addSquare(squares, k, "current-premove");
    }
    const o = s.exploding;
    if (o)
      for (const k of o.keys)
        addSquare(squares, k, "exploding" + o.stage);
    return squares;
  }
  function addSquare(squares, key, klass) {
    const classes = squares.get(key);
    if (classes)
      squares.set(key, `${classes} ${klass}`);
    else
      squares.set(key, klass);
  }
  function appendValue(map, key, value) {
    const arr = map.get(key);
    if (arr)
      arr.push(value);
    else
      map.set(key, [value]);
  }

  // node_modules/chessgroundx/autoPieces.js
  function render3(state, autoPieceEl) {
    const autoPieces = state.drawable.autoShapes.filter((autoShape) => autoShape.piece);
    const autoPieceShapes = autoPieces.map((s) => {
      return {
        shape: s,
        hash: hash(s),
        current: false
      };
    });
    syncShapes(autoPieceShapes, autoPieceEl, (shape) => renderShape2(state, shape, state.dom.bounds()));
  }
  function renderResized2(state) {
    var _a2;
    const asWhite = whitePov(state), posToTranslate2 = posToTranslate(state.dom.bounds(), state.dimensions);
    let el = (_a2 = state.dom.elements.autoPieces) === null || _a2 === void 0 ? void 0 : _a2.firstChild;
    while (el) {
      translateAndScale(el, posToTranslate2(key2pos(el.cgKey), asWhite), el.cgScale);
      el = el.nextSibling;
    }
  }
  function renderShape2(state, { shape, hash: hash2 }, bounds) {
    if (shape.piece) {
      const orig = shape.orig;
      const scale = shape.piece.scale;
      const pieceEl = createEl("piece", pieceClasses(shape.piece, state.orientation));
      pieceEl.setAttribute("cgHash", hash2);
      pieceEl.cgKey = orig;
      pieceEl.cgScale = scale;
      translateAndScale(pieceEl, posToTranslate(bounds, state.dimensions)(key2pos(orig), whitePov(state)), scale);
      return pieceEl;
    } else {
      return createEl("piece", "");
    }
  }
  var hash = (autoPiece) => {
    var _a2, _b, _c;
    return [autoPiece.orig, (_a2 = autoPiece.piece) === null || _a2 === void 0 ? void 0 : _a2.role, (_b = autoPiece.piece) === null || _b === void 0 ? void 0 : _b.color, (_c = autoPiece.piece) === null || _c === void 0 ? void 0 : _c.scale].join(",");
  };

  // node_modules/chessgroundx/chessground.js
  function Chessground(element, config, pocketTop, pocketBottom) {
    const maybeState = defaults();
    configure(maybeState, config || {});
    function redrawAll() {
      const prevUnbind = "dom" in maybeState ? maybeState.dom.unbind : void 0;
      const elements = renderWrap(element, maybeState), bounds = memo(() => elements.board.getBoundingClientRect()), redrawNow = (skipSvg) => {
        render2(state);
        renderPockets(state);
        if (elements.autoPieces)
          render3(state, elements.autoPieces);
        if (!skipSvg && elements.svg)
          renderSvg(state, elements.svg, elements.customSvg);
      }, onResize = () => {
        updateBounds(state);
        renderResized(state);
        if (elements.autoPieces)
          renderResized2(state);
      };
      if (elements.pocketTop)
        pocketTop = elements.pocketTop;
      if (elements.pocketBottom)
        pocketBottom = elements.pocketBottom;
      renderPocketsInitial(maybeState, elements, pocketTop, pocketBottom);
      const state = maybeState;
      state.dom = {
        elements,
        bounds,
        redraw: debounceRedraw(redrawNow),
        redrawNow,
        unbind: prevUnbind
      };
      state.drawable.prevSvgHash = "";
      updateBounds(state);
      redrawNow(false);
      bindBoard(state, onResize);
      if (!prevUnbind)
        state.dom.unbind = bindDocument(state, onResize);
      state.events.insert && state.events.insert(elements);
      return state;
    }
    return start3(redrawAll(), redrawAll);
  }
  function debounceRedraw(redrawNow) {
    let redrawing = false;
    return () => {
      if (redrawing)
        return;
      redrawing = true;
      requestAnimationFrame(() => {
        redrawNow();
        redrawing = false;
      });
    };
  }

  // node_modules/ffish-es6/ffish.js
  var Module = function() {
    var _scriptDir = typeof document !== "undefined" && document.currentScript ? document.currentScript.src : void 0;
    return function(Module2) {
      Module2 = Module2 || {};
      var Module2 = typeof Module2 !== "undefined" ? Module2 : {};
      var readyPromiseResolve, readyPromiseReject;
      Module2["ready"] = new Promise(function(resolve, reject) {
        readyPromiseResolve = resolve;
        readyPromiseReject = reject;
      });
      var moduleOverrides = {};
      var key;
      for (key in Module2) {
        if (Module2.hasOwnProperty(key)) {
          moduleOverrides[key] = Module2[key];
        }
      }
      var arguments_ = [];
      var thisProgram = "./this.program";
      var quit_ = function(status, toThrow) {
        throw toThrow;
      };
      var ENVIRONMENT_IS_WEB = typeof window === "object";
      var ENVIRONMENT_IS_WORKER = typeof importScripts === "function";
      var ENVIRONMENT_IS_NODE = typeof process === "object" && typeof process.versions === "object" && typeof process.versions.node === "string";
      var scriptDirectory = "";
      function locateFile(path) {
        if (Module2["locateFile"]) {
          return Module2["locateFile"](path, scriptDirectory);
        }
        return scriptDirectory + path;
      }
      var read_, readAsync, readBinary, setWindowTitle;
      if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {
        if (ENVIRONMENT_IS_WORKER) {
          scriptDirectory = self.location.href;
        } else if (typeof document !== "undefined" && document.currentScript) {
          scriptDirectory = document.currentScript.src;
        }
        if (_scriptDir) {
          scriptDirectory = _scriptDir;
        }
        if (scriptDirectory.indexOf("blob:") !== 0) {
          scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, "").lastIndexOf("/") + 1);
        } else {
          scriptDirectory = "";
        }
        {
          read_ = function(url) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, false);
            xhr.send(null);
            return xhr.responseText;
          };
          if (ENVIRONMENT_IS_WORKER) {
            readBinary = function(url) {
              var xhr = new XMLHttpRequest();
              xhr.open("GET", url, false);
              xhr.responseType = "arraybuffer";
              xhr.send(null);
              return new Uint8Array(xhr.response);
            };
          }
          readAsync = function(url, onload, onerror) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, true);
            xhr.responseType = "arraybuffer";
            xhr.onload = function() {
              if (xhr.status == 200 || xhr.status == 0 && xhr.response) {
                onload(xhr.response);
                return;
              }
              onerror();
            };
            xhr.onerror = onerror;
            xhr.send(null);
          };
        }
        setWindowTitle = function(title) {
          document.title = title;
        };
      } else {
      }
      var out = Module2["print"] || console.log.bind(console);
      var err = Module2["printErr"] || console.warn.bind(console);
      for (key in moduleOverrides) {
        if (moduleOverrides.hasOwnProperty(key)) {
          Module2[key] = moduleOverrides[key];
        }
      }
      moduleOverrides = null;
      if (Module2["arguments"])
        arguments_ = Module2["arguments"];
      if (Module2["thisProgram"])
        thisProgram = Module2["thisProgram"];
      if (Module2["quit"])
        quit_ = Module2["quit"];
      var tempRet0 = 0;
      var setTempRet0 = function(value) {
        tempRet0 = value;
      };
      var wasmBinary;
      if (Module2["wasmBinary"])
        wasmBinary = Module2["wasmBinary"];
      var noExitRuntime = Module2["noExitRuntime"] || true;
      if (typeof WebAssembly !== "object") {
        abort("no native wasm support detected");
      }
      var wasmMemory;
      var ABORT = false;
      var EXITSTATUS;
      function assert(condition, text) {
        if (!condition) {
          abort("Assertion failed: " + text);
        }
      }
      var UTF8Decoder = typeof TextDecoder !== "undefined" ? new TextDecoder("utf8") : void 0;
      function UTF8ArrayToString(heap, idx, maxBytesToRead) {
        var endIdx = idx + maxBytesToRead;
        var endPtr = idx;
        while (heap[endPtr] && !(endPtr >= endIdx))
          ++endPtr;
        if (endPtr - idx > 16 && heap.subarray && UTF8Decoder) {
          return UTF8Decoder.decode(heap.subarray(idx, endPtr));
        } else {
          var str = "";
          while (idx < endPtr) {
            var u0 = heap[idx++];
            if (!(u0 & 128)) {
              str += String.fromCharCode(u0);
              continue;
            }
            var u1 = heap[idx++] & 63;
            if ((u0 & 224) == 192) {
              str += String.fromCharCode((u0 & 31) << 6 | u1);
              continue;
            }
            var u2 = heap[idx++] & 63;
            if ((u0 & 240) == 224) {
              u0 = (u0 & 15) << 12 | u1 << 6 | u2;
            } else {
              u0 = (u0 & 7) << 18 | u1 << 12 | u2 << 6 | heap[idx++] & 63;
            }
            if (u0 < 65536) {
              str += String.fromCharCode(u0);
            } else {
              var ch = u0 - 65536;
              str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);
            }
          }
        }
        return str;
      }
      function UTF8ToString(ptr, maxBytesToRead) {
        return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : "";
      }
      function stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {
        if (!(maxBytesToWrite > 0))
          return 0;
        var startIdx = outIdx;
        var endIdx = outIdx + maxBytesToWrite - 1;
        for (var i = 0; i < str.length; ++i) {
          var u = str.charCodeAt(i);
          if (u >= 55296 && u <= 57343) {
            var u1 = str.charCodeAt(++i);
            u = 65536 + ((u & 1023) << 10) | u1 & 1023;
          }
          if (u <= 127) {
            if (outIdx >= endIdx)
              break;
            heap[outIdx++] = u;
          } else if (u <= 2047) {
            if (outIdx + 1 >= endIdx)
              break;
            heap[outIdx++] = 192 | u >> 6;
            heap[outIdx++] = 128 | u & 63;
          } else if (u <= 65535) {
            if (outIdx + 2 >= endIdx)
              break;
            heap[outIdx++] = 224 | u >> 12;
            heap[outIdx++] = 128 | u >> 6 & 63;
            heap[outIdx++] = 128 | u & 63;
          } else {
            if (outIdx + 3 >= endIdx)
              break;
            heap[outIdx++] = 240 | u >> 18;
            heap[outIdx++] = 128 | u >> 12 & 63;
            heap[outIdx++] = 128 | u >> 6 & 63;
            heap[outIdx++] = 128 | u & 63;
          }
        }
        heap[outIdx] = 0;
        return outIdx - startIdx;
      }
      function stringToUTF8(str, outPtr, maxBytesToWrite) {
        return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);
      }
      function lengthBytesUTF8(str) {
        var len = 0;
        for (var i = 0; i < str.length; ++i) {
          var u = str.charCodeAt(i);
          if (u >= 55296 && u <= 57343)
            u = 65536 + ((u & 1023) << 10) | str.charCodeAt(++i) & 1023;
          if (u <= 127)
            ++len;
          else if (u <= 2047)
            len += 2;
          else if (u <= 65535)
            len += 3;
          else
            len += 4;
        }
        return len;
      }
      var UTF16Decoder = typeof TextDecoder !== "undefined" ? new TextDecoder("utf-16le") : void 0;
      function UTF16ToString(ptr, maxBytesToRead) {
        var endPtr = ptr;
        var idx = endPtr >> 1;
        var maxIdx = idx + maxBytesToRead / 2;
        while (!(idx >= maxIdx) && HEAPU16[idx])
          ++idx;
        endPtr = idx << 1;
        if (endPtr - ptr > 32 && UTF16Decoder) {
          return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));
        } else {
          var str = "";
          for (var i = 0; !(i >= maxBytesToRead / 2); ++i) {
            var codeUnit = HEAP16[ptr + i * 2 >> 1];
            if (codeUnit == 0)
              break;
            str += String.fromCharCode(codeUnit);
          }
          return str;
        }
      }
      function stringToUTF16(str, outPtr, maxBytesToWrite) {
        if (maxBytesToWrite === void 0) {
          maxBytesToWrite = 2147483647;
        }
        if (maxBytesToWrite < 2)
          return 0;
        maxBytesToWrite -= 2;
        var startPtr = outPtr;
        var numCharsToWrite = maxBytesToWrite < str.length * 2 ? maxBytesToWrite / 2 : str.length;
        for (var i = 0; i < numCharsToWrite; ++i) {
          var codeUnit = str.charCodeAt(i);
          HEAP16[outPtr >> 1] = codeUnit;
          outPtr += 2;
        }
        HEAP16[outPtr >> 1] = 0;
        return outPtr - startPtr;
      }
      function lengthBytesUTF16(str) {
        return str.length * 2;
      }
      function UTF32ToString(ptr, maxBytesToRead) {
        var i = 0;
        var str = "";
        while (!(i >= maxBytesToRead / 4)) {
          var utf32 = HEAP32[ptr + i * 4 >> 2];
          if (utf32 == 0)
            break;
          ++i;
          if (utf32 >= 65536) {
            var ch = utf32 - 65536;
            str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);
          } else {
            str += String.fromCharCode(utf32);
          }
        }
        return str;
      }
      function stringToUTF32(str, outPtr, maxBytesToWrite) {
        if (maxBytesToWrite === void 0) {
          maxBytesToWrite = 2147483647;
        }
        if (maxBytesToWrite < 4)
          return 0;
        var startPtr = outPtr;
        var endPtr = startPtr + maxBytesToWrite - 4;
        for (var i = 0; i < str.length; ++i) {
          var codeUnit = str.charCodeAt(i);
          if (codeUnit >= 55296 && codeUnit <= 57343) {
            var trailSurrogate = str.charCodeAt(++i);
            codeUnit = 65536 + ((codeUnit & 1023) << 10) | trailSurrogate & 1023;
          }
          HEAP32[outPtr >> 2] = codeUnit;
          outPtr += 4;
          if (outPtr + 4 > endPtr)
            break;
        }
        HEAP32[outPtr >> 2] = 0;
        return outPtr - startPtr;
      }
      function lengthBytesUTF32(str) {
        var len = 0;
        for (var i = 0; i < str.length; ++i) {
          var codeUnit = str.charCodeAt(i);
          if (codeUnit >= 55296 && codeUnit <= 57343)
            ++i;
          len += 4;
        }
        return len;
      }
      function writeArrayToMemory(array2, buffer2) {
        HEAP8.set(array2, buffer2);
      }
      function writeAsciiToMemory(str, buffer2, dontAddNull) {
        for (var i = 0; i < str.length; ++i) {
          HEAP8[buffer2++ >> 0] = str.charCodeAt(i);
        }
        if (!dontAddNull)
          HEAP8[buffer2 >> 0] = 0;
      }
      function alignUp(x, multiple) {
        if (x % multiple > 0) {
          x += multiple - x % multiple;
        }
        return x;
      }
      var buffer, HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;
      function updateGlobalBufferAndViews(buf) {
        buffer = buf;
        Module2["HEAP8"] = HEAP8 = new Int8Array(buf);
        Module2["HEAP16"] = HEAP16 = new Int16Array(buf);
        Module2["HEAP32"] = HEAP32 = new Int32Array(buf);
        Module2["HEAPU8"] = HEAPU8 = new Uint8Array(buf);
        Module2["HEAPU16"] = HEAPU16 = new Uint16Array(buf);
        Module2["HEAPU32"] = HEAPU32 = new Uint32Array(buf);
        Module2["HEAPF32"] = HEAPF32 = new Float32Array(buf);
        Module2["HEAPF64"] = HEAPF64 = new Float64Array(buf);
      }
      var INITIAL_MEMORY = Module2["INITIAL_MEMORY"] || 33554432;
      var wasmTable;
      var __ATPRERUN__ = [];
      var __ATINIT__ = [];
      var __ATPOSTRUN__ = [];
      var runtimeInitialized = false;
      var runtimeExited = false;
      var runtimeKeepaliveCounter = 0;
      function keepRuntimeAlive() {
        return noExitRuntime || runtimeKeepaliveCounter > 0;
      }
      function preRun() {
        if (Module2["preRun"]) {
          if (typeof Module2["preRun"] == "function")
            Module2["preRun"] = [Module2["preRun"]];
          while (Module2["preRun"].length) {
            addOnPreRun(Module2["preRun"].shift());
          }
        }
        callRuntimeCallbacks(__ATPRERUN__);
      }
      function initRuntime() {
        runtimeInitialized = true;
        if (!Module2["noFSInit"] && !FS.init.initialized)
          FS.init();
        FS.ignorePermissions = false;
        TTY.init();
        callRuntimeCallbacks(__ATINIT__);
      }
      function exitRuntime() {
        runtimeExited = true;
      }
      function postRun() {
        if (Module2["postRun"]) {
          if (typeof Module2["postRun"] == "function")
            Module2["postRun"] = [Module2["postRun"]];
          while (Module2["postRun"].length) {
            addOnPostRun(Module2["postRun"].shift());
          }
        }
        callRuntimeCallbacks(__ATPOSTRUN__);
      }
      function addOnPreRun(cb) {
        __ATPRERUN__.unshift(cb);
      }
      function addOnInit(cb) {
        __ATINIT__.unshift(cb);
      }
      function addOnPostRun(cb) {
        __ATPOSTRUN__.unshift(cb);
      }
      var runDependencies = 0;
      var runDependencyWatcher = null;
      var dependenciesFulfilled = null;
      function getUniqueRunDependency(id) {
        return id;
      }
      function addRunDependency(id) {
        runDependencies++;
        if (Module2["monitorRunDependencies"]) {
          Module2["monitorRunDependencies"](runDependencies);
        }
      }
      function removeRunDependency(id) {
        runDependencies--;
        if (Module2["monitorRunDependencies"]) {
          Module2["monitorRunDependencies"](runDependencies);
        }
        if (runDependencies == 0) {
          if (runDependencyWatcher !== null) {
            clearInterval(runDependencyWatcher);
            runDependencyWatcher = null;
          }
          if (dependenciesFulfilled) {
            var callback = dependenciesFulfilled;
            dependenciesFulfilled = null;
            callback();
          }
        }
      }
      Module2["preloadedImages"] = {};
      Module2["preloadedAudios"] = {};
      function abort(what) {
        {
          if (Module2["onAbort"]) {
            Module2["onAbort"](what);
          }
        }
        what = "Aborted(" + what + ")";
        err(what);
        ABORT = true;
        EXITSTATUS = 1;
        what += ". Build with -s ASSERTIONS=1 for more info.";
        var e = new WebAssembly.RuntimeError(what);
        readyPromiseReject(e);
        throw e;
      }
      var dataURIPrefix = "data:application/octet-stream;base64,";
      function isDataURI(filename) {
        return filename.startsWith(dataURIPrefix);
      }
      var wasmBinaryFile;
      wasmBinaryFile = "ffish.wasm";
      if (!isDataURI(wasmBinaryFile)) {
        wasmBinaryFile = locateFile(wasmBinaryFile);
      }
      function getBinary(file) {
        try {
          if (file == wasmBinaryFile && wasmBinary) {
            return new Uint8Array(wasmBinary);
          }
          if (readBinary) {
            return readBinary(file);
          } else {
            throw "both async and sync fetching of the wasm failed";
          }
        } catch (err2) {
          abort(err2);
        }
      }
      function getBinaryPromise() {
        if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {
          if (typeof fetch === "function") {
            return fetch(wasmBinaryFile, { credentials: "same-origin" }).then(function(response) {
              if (!response["ok"]) {
                throw "failed to load wasm binary file at '" + wasmBinaryFile + "'";
              }
              return response["arrayBuffer"]();
            }).catch(function() {
              return getBinary(wasmBinaryFile);
            });
          }
        }
        return Promise.resolve().then(function() {
          return getBinary(wasmBinaryFile);
        });
      }
      function createWasm() {
        var info = { "a": asmLibraryArg };
        function receiveInstance(instance, module) {
          var exports2 = instance.exports;
          Module2["asm"] = exports2;
          wasmMemory = Module2["asm"]["M"];
          updateGlobalBufferAndViews(wasmMemory.buffer);
          wasmTable = Module2["asm"]["P"];
          addOnInit(Module2["asm"]["N"]);
          removeRunDependency("wasm-instantiate");
        }
        addRunDependency("wasm-instantiate");
        function receiveInstantiationResult(result) {
          receiveInstance(result["instance"]);
        }
        function instantiateArrayBuffer(receiver) {
          return getBinaryPromise().then(function(binary) {
            return WebAssembly.instantiate(binary, info);
          }).then(function(instance) {
            return instance;
          }).then(receiver, function(reason) {
            err("failed to asynchronously prepare wasm: " + reason);
            abort(reason);
          });
        }
        function instantiateAsync() {
          if (!wasmBinary && typeof WebAssembly.instantiateStreaming === "function" && !isDataURI(wasmBinaryFile) && typeof fetch === "function") {
            return fetch(wasmBinaryFile, { credentials: "same-origin" }).then(function(response) {
              var result = WebAssembly.instantiateStreaming(response, info);
              return result.then(receiveInstantiationResult, function(reason) {
                err("wasm streaming compile failed: " + reason);
                err("falling back to ArrayBuffer instantiation");
                return instantiateArrayBuffer(receiveInstantiationResult);
              });
            });
          } else {
            return instantiateArrayBuffer(receiveInstantiationResult);
          }
        }
        if (Module2["instantiateWasm"]) {
          try {
            var exports = Module2["instantiateWasm"](info, receiveInstance);
            return exports;
          } catch (e) {
            err("Module.instantiateWasm callback failed with error: " + e);
            return false;
          }
        }
        instantiateAsync().catch(readyPromiseReject);
        return {};
      }
      var tempDouble;
      var tempI64;
      function callRuntimeCallbacks(callbacks) {
        while (callbacks.length > 0) {
          var callback = callbacks.shift();
          if (typeof callback == "function") {
            callback(Module2);
            continue;
          }
          var func = callback.func;
          if (typeof func === "number") {
            if (callback.arg === void 0) {
              getWasmTableEntry(func)();
            } else {
              getWasmTableEntry(func)(callback.arg);
            }
          } else {
            func(callback.arg === void 0 ? null : callback.arg);
          }
        }
      }
      var wasmTableMirror = [];
      function getWasmTableEntry(funcPtr) {
        var func = wasmTableMirror[funcPtr];
        if (!func) {
          if (funcPtr >= wasmTableMirror.length)
            wasmTableMirror.length = funcPtr + 1;
          wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);
        }
        return func;
      }
      function ___cxa_allocate_exception(size) {
        return _malloc(size + 16) + 16;
      }
      function ExceptionInfo(excPtr) {
        this.excPtr = excPtr;
        this.ptr = excPtr - 16;
        this.set_type = function(type) {
          HEAP32[this.ptr + 4 >> 2] = type;
        };
        this.get_type = function() {
          return HEAP32[this.ptr + 4 >> 2];
        };
        this.set_destructor = function(destructor) {
          HEAP32[this.ptr + 8 >> 2] = destructor;
        };
        this.get_destructor = function() {
          return HEAP32[this.ptr + 8 >> 2];
        };
        this.set_refcount = function(refcount) {
          HEAP32[this.ptr >> 2] = refcount;
        };
        this.set_caught = function(caught) {
          caught = caught ? 1 : 0;
          HEAP8[this.ptr + 12 >> 0] = caught;
        };
        this.get_caught = function() {
          return HEAP8[this.ptr + 12 >> 0] != 0;
        };
        this.set_rethrown = function(rethrown) {
          rethrown = rethrown ? 1 : 0;
          HEAP8[this.ptr + 13 >> 0] = rethrown;
        };
        this.get_rethrown = function() {
          return HEAP8[this.ptr + 13 >> 0] != 0;
        };
        this.init = function(type, destructor) {
          this.set_type(type);
          this.set_destructor(destructor);
          this.set_refcount(0);
          this.set_caught(false);
          this.set_rethrown(false);
        };
        this.add_ref = function() {
          var value = HEAP32[this.ptr >> 2];
          HEAP32[this.ptr >> 2] = value + 1;
        };
        this.release_ref = function() {
          var prev = HEAP32[this.ptr >> 2];
          HEAP32[this.ptr >> 2] = prev - 1;
          return prev === 1;
        };
      }
      var exceptionLast = 0;
      var uncaughtExceptionCount = 0;
      function ___cxa_throw(ptr, type, destructor) {
        var info = new ExceptionInfo(ptr);
        info.init(type, destructor);
        exceptionLast = ptr;
        uncaughtExceptionCount++;
        throw ptr;
      }
      function setErrNo(value) {
        HEAP32[___errno_location() >> 2] = value;
        return value;
      }
      var PATH = { splitPath: function(filename) {
        var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
        return splitPathRe.exec(filename).slice(1);
      }, normalizeArray: function(parts, allowAboveRoot) {
        var up = 0;
        for (var i = parts.length - 1; i >= 0; i--) {
          var last = parts[i];
          if (last === ".") {
            parts.splice(i, 1);
          } else if (last === "..") {
            parts.splice(i, 1);
            up++;
          } else if (up) {
            parts.splice(i, 1);
            up--;
          }
        }
        if (allowAboveRoot) {
          for (; up; up--) {
            parts.unshift("..");
          }
        }
        return parts;
      }, normalize: function(path) {
        var isAbsolute = path.charAt(0) === "/", trailingSlash = path.substr(-1) === "/";
        path = PATH.normalizeArray(path.split("/").filter(function(p) {
          return !!p;
        }), !isAbsolute).join("/");
        if (!path && !isAbsolute) {
          path = ".";
        }
        if (path && trailingSlash) {
          path += "/";
        }
        return (isAbsolute ? "/" : "") + path;
      }, dirname: function(path) {
        var result = PATH.splitPath(path), root = result[0], dir = result[1];
        if (!root && !dir) {
          return ".";
        }
        if (dir) {
          dir = dir.substr(0, dir.length - 1);
        }
        return root + dir;
      }, basename: function(path) {
        if (path === "/")
          return "/";
        path = PATH.normalize(path);
        path = path.replace(/\/$/, "");
        var lastSlash = path.lastIndexOf("/");
        if (lastSlash === -1)
          return path;
        return path.substr(lastSlash + 1);
      }, extname: function(path) {
        return PATH.splitPath(path)[3];
      }, join: function() {
        var paths = Array.prototype.slice.call(arguments, 0);
        return PATH.normalize(paths.join("/"));
      }, join2: function(l, r) {
        return PATH.normalize(l + "/" + r);
      } };
      function getRandomDevice() {
        if (typeof crypto === "object" && typeof crypto["getRandomValues"] === "function") {
          var randomBuffer = new Uint8Array(1);
          return function() {
            crypto.getRandomValues(randomBuffer);
            return randomBuffer[0];
          };
        } else
          return function() {
            abort("randomDevice");
          };
      }
      var PATH_FS = { resolve: function() {
        var resolvedPath = "", resolvedAbsolute = false;
        for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
          var path = i >= 0 ? arguments[i] : FS.cwd();
          if (typeof path !== "string") {
            throw new TypeError("Arguments to path.resolve must be strings");
          } else if (!path) {
            return "";
          }
          resolvedPath = path + "/" + resolvedPath;
          resolvedAbsolute = path.charAt(0) === "/";
        }
        resolvedPath = PATH.normalizeArray(resolvedPath.split("/").filter(function(p) {
          return !!p;
        }), !resolvedAbsolute).join("/");
        return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
      }, relative: function(from, to) {
        from = PATH_FS.resolve(from).substr(1);
        to = PATH_FS.resolve(to).substr(1);
        function trim(arr) {
          var start4 = 0;
          for (; start4 < arr.length; start4++) {
            if (arr[start4] !== "")
              break;
          }
          var end3 = arr.length - 1;
          for (; end3 >= 0; end3--) {
            if (arr[end3] !== "")
              break;
          }
          if (start4 > end3)
            return [];
          return arr.slice(start4, end3 - start4 + 1);
        }
        var fromParts = trim(from.split("/"));
        var toParts = trim(to.split("/"));
        var length = Math.min(fromParts.length, toParts.length);
        var samePartsLength = length;
        for (var i = 0; i < length; i++) {
          if (fromParts[i] !== toParts[i]) {
            samePartsLength = i;
            break;
          }
        }
        var outputParts = [];
        for (var i = samePartsLength; i < fromParts.length; i++) {
          outputParts.push("..");
        }
        outputParts = outputParts.concat(toParts.slice(samePartsLength));
        return outputParts.join("/");
      } };
      var TTY = { ttys: [], init: function() {
      }, shutdown: function() {
      }, register: function(dev, ops) {
        TTY.ttys[dev] = { input: [], output: [], ops };
        FS.registerDevice(dev, TTY.stream_ops);
      }, stream_ops: { open: function(stream) {
        var tty = TTY.ttys[stream.node.rdev];
        if (!tty) {
          throw new FS.ErrnoError(43);
        }
        stream.tty = tty;
        stream.seekable = false;
      }, close: function(stream) {
        stream.tty.ops.flush(stream.tty);
      }, flush: function(stream) {
        stream.tty.ops.flush(stream.tty);
      }, read: function(stream, buffer2, offset, length, pos) {
        if (!stream.tty || !stream.tty.ops.get_char) {
          throw new FS.ErrnoError(60);
        }
        var bytesRead = 0;
        for (var i = 0; i < length; i++) {
          var result;
          try {
            result = stream.tty.ops.get_char(stream.tty);
          } catch (e) {
            throw new FS.ErrnoError(29);
          }
          if (result === void 0 && bytesRead === 0) {
            throw new FS.ErrnoError(6);
          }
          if (result === null || result === void 0)
            break;
          bytesRead++;
          buffer2[offset + i] = result;
        }
        if (bytesRead) {
          stream.node.timestamp = Date.now();
        }
        return bytesRead;
      }, write: function(stream, buffer2, offset, length, pos) {
        if (!stream.tty || !stream.tty.ops.put_char) {
          throw new FS.ErrnoError(60);
        }
        try {
          for (var i = 0; i < length; i++) {
            stream.tty.ops.put_char(stream.tty, buffer2[offset + i]);
          }
        } catch (e) {
          throw new FS.ErrnoError(29);
        }
        if (length) {
          stream.node.timestamp = Date.now();
        }
        return i;
      } }, default_tty_ops: { get_char: function(tty) {
        if (!tty.input.length) {
          var result = null;
          if (typeof window != "undefined" && typeof window.prompt == "function") {
            result = window.prompt("Input: ");
            if (result !== null) {
              result += "\n";
            }
          } else if (typeof readline == "function") {
            result = readline();
            if (result !== null) {
              result += "\n";
            }
          }
          if (!result) {
            return null;
          }
          tty.input = intArrayFromString(result, true);
        }
        return tty.input.shift();
      }, put_char: function(tty, val) {
        if (val === null || val === 10) {
          out(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        } else {
          if (val != 0)
            tty.output.push(val);
        }
      }, flush: function(tty) {
        if (tty.output && tty.output.length > 0) {
          out(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        }
      } }, default_tty1_ops: { put_char: function(tty, val) {
        if (val === null || val === 10) {
          err(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        } else {
          if (val != 0)
            tty.output.push(val);
        }
      }, flush: function(tty) {
        if (tty.output && tty.output.length > 0) {
          err(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        }
      } } };
      function zeroMemory(address, size) {
        HEAPU8.fill(0, address, address + size);
      }
      function alignMemory(size, alignment) {
        return Math.ceil(size / alignment) * alignment;
      }
      function mmapAlloc(size) {
        size = alignMemory(size, 65536);
        var ptr = _memalign(65536, size);
        if (!ptr)
          return 0;
        zeroMemory(ptr, size);
        return ptr;
      }
      var MEMFS = { ops_table: null, mount: function(mount) {
        return MEMFS.createNode(null, "/", 16384 | 511, 0);
      }, createNode: function(parent, name, mode, dev) {
        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {
          throw new FS.ErrnoError(63);
        }
        if (!MEMFS.ops_table) {
          MEMFS.ops_table = { dir: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr, lookup: MEMFS.node_ops.lookup, mknod: MEMFS.node_ops.mknod, rename: MEMFS.node_ops.rename, unlink: MEMFS.node_ops.unlink, rmdir: MEMFS.node_ops.rmdir, readdir: MEMFS.node_ops.readdir, symlink: MEMFS.node_ops.symlink }, stream: { llseek: MEMFS.stream_ops.llseek } }, file: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr }, stream: { llseek: MEMFS.stream_ops.llseek, read: MEMFS.stream_ops.read, write: MEMFS.stream_ops.write, allocate: MEMFS.stream_ops.allocate, mmap: MEMFS.stream_ops.mmap, msync: MEMFS.stream_ops.msync } }, link: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr, readlink: MEMFS.node_ops.readlink }, stream: {} }, chrdev: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr }, stream: FS.chrdev_stream_ops } };
        }
        var node = FS.createNode(parent, name, mode, dev);
        if (FS.isDir(node.mode)) {
          node.node_ops = MEMFS.ops_table.dir.node;
          node.stream_ops = MEMFS.ops_table.dir.stream;
          node.contents = {};
        } else if (FS.isFile(node.mode)) {
          node.node_ops = MEMFS.ops_table.file.node;
          node.stream_ops = MEMFS.ops_table.file.stream;
          node.usedBytes = 0;
          node.contents = null;
        } else if (FS.isLink(node.mode)) {
          node.node_ops = MEMFS.ops_table.link.node;
          node.stream_ops = MEMFS.ops_table.link.stream;
        } else if (FS.isChrdev(node.mode)) {
          node.node_ops = MEMFS.ops_table.chrdev.node;
          node.stream_ops = MEMFS.ops_table.chrdev.stream;
        }
        node.timestamp = Date.now();
        if (parent) {
          parent.contents[name] = node;
          parent.timestamp = node.timestamp;
        }
        return node;
      }, getFileDataAsTypedArray: function(node) {
        if (!node.contents)
          return new Uint8Array(0);
        if (node.contents.subarray)
          return node.contents.subarray(0, node.usedBytes);
        return new Uint8Array(node.contents);
      }, expandFileStorage: function(node, newCapacity) {
        var prevCapacity = node.contents ? node.contents.length : 0;
        if (prevCapacity >= newCapacity)
          return;
        var CAPACITY_DOUBLING_MAX = 1024 * 1024;
        newCapacity = Math.max(newCapacity, prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2 : 1.125) >>> 0);
        if (prevCapacity != 0)
          newCapacity = Math.max(newCapacity, 256);
        var oldContents = node.contents;
        node.contents = new Uint8Array(newCapacity);
        if (node.usedBytes > 0)
          node.contents.set(oldContents.subarray(0, node.usedBytes), 0);
      }, resizeFileStorage: function(node, newSize) {
        if (node.usedBytes == newSize)
          return;
        if (newSize == 0) {
          node.contents = null;
          node.usedBytes = 0;
        } else {
          var oldContents = node.contents;
          node.contents = new Uint8Array(newSize);
          if (oldContents) {
            node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes)));
          }
          node.usedBytes = newSize;
        }
      }, node_ops: { getattr: function(node) {
        var attr = {};
        attr.dev = FS.isChrdev(node.mode) ? node.id : 1;
        attr.ino = node.id;
        attr.mode = node.mode;
        attr.nlink = 1;
        attr.uid = 0;
        attr.gid = 0;
        attr.rdev = node.rdev;
        if (FS.isDir(node.mode)) {
          attr.size = 4096;
        } else if (FS.isFile(node.mode)) {
          attr.size = node.usedBytes;
        } else if (FS.isLink(node.mode)) {
          attr.size = node.link.length;
        } else {
          attr.size = 0;
        }
        attr.atime = new Date(node.timestamp);
        attr.mtime = new Date(node.timestamp);
        attr.ctime = new Date(node.timestamp);
        attr.blksize = 4096;
        attr.blocks = Math.ceil(attr.size / attr.blksize);
        return attr;
      }, setattr: function(node, attr) {
        if (attr.mode !== void 0) {
          node.mode = attr.mode;
        }
        if (attr.timestamp !== void 0) {
          node.timestamp = attr.timestamp;
        }
        if (attr.size !== void 0) {
          MEMFS.resizeFileStorage(node, attr.size);
        }
      }, lookup: function(parent, name) {
        throw FS.genericErrors[44];
      }, mknod: function(parent, name, mode, dev) {
        return MEMFS.createNode(parent, name, mode, dev);
      }, rename: function(old_node, new_dir, new_name) {
        if (FS.isDir(old_node.mode)) {
          var new_node;
          try {
            new_node = FS.lookupNode(new_dir, new_name);
          } catch (e) {
          }
          if (new_node) {
            for (var i in new_node.contents) {
              throw new FS.ErrnoError(55);
            }
          }
        }
        delete old_node.parent.contents[old_node.name];
        old_node.parent.timestamp = Date.now();
        old_node.name = new_name;
        new_dir.contents[new_name] = old_node;
        new_dir.timestamp = old_node.parent.timestamp;
        old_node.parent = new_dir;
      }, unlink: function(parent, name) {
        delete parent.contents[name];
        parent.timestamp = Date.now();
      }, rmdir: function(parent, name) {
        var node = FS.lookupNode(parent, name);
        for (var i in node.contents) {
          throw new FS.ErrnoError(55);
        }
        delete parent.contents[name];
        parent.timestamp = Date.now();
      }, readdir: function(node) {
        var entries = [".", ".."];
        for (var key2 in node.contents) {
          if (!node.contents.hasOwnProperty(key2)) {
            continue;
          }
          entries.push(key2);
        }
        return entries;
      }, symlink: function(parent, newname, oldpath) {
        var node = MEMFS.createNode(parent, newname, 511 | 40960, 0);
        node.link = oldpath;
        return node;
      }, readlink: function(node) {
        if (!FS.isLink(node.mode)) {
          throw new FS.ErrnoError(28);
        }
        return node.link;
      } }, stream_ops: { read: function(stream, buffer2, offset, length, position) {
        var contents = stream.node.contents;
        if (position >= stream.node.usedBytes)
          return 0;
        var size = Math.min(stream.node.usedBytes - position, length);
        if (size > 8 && contents.subarray) {
          buffer2.set(contents.subarray(position, position + size), offset);
        } else {
          for (var i = 0; i < size; i++)
            buffer2[offset + i] = contents[position + i];
        }
        return size;
      }, write: function(stream, buffer2, offset, length, position, canOwn) {
        if (buffer2.buffer === HEAP8.buffer) {
          canOwn = false;
        }
        if (!length)
          return 0;
        var node = stream.node;
        node.timestamp = Date.now();
        if (buffer2.subarray && (!node.contents || node.contents.subarray)) {
          if (canOwn) {
            node.contents = buffer2.subarray(offset, offset + length);
            node.usedBytes = length;
            return length;
          } else if (node.usedBytes === 0 && position === 0) {
            node.contents = buffer2.slice(offset, offset + length);
            node.usedBytes = length;
            return length;
          } else if (position + length <= node.usedBytes) {
            node.contents.set(buffer2.subarray(offset, offset + length), position);
            return length;
          }
        }
        MEMFS.expandFileStorage(node, position + length);
        if (node.contents.subarray && buffer2.subarray) {
          node.contents.set(buffer2.subarray(offset, offset + length), position);
        } else {
          for (var i = 0; i < length; i++) {
            node.contents[position + i] = buffer2[offset + i];
          }
        }
        node.usedBytes = Math.max(node.usedBytes, position + length);
        return length;
      }, llseek: function(stream, offset, whence) {
        var position = offset;
        if (whence === 1) {
          position += stream.position;
        } else if (whence === 2) {
          if (FS.isFile(stream.node.mode)) {
            position += stream.node.usedBytes;
          }
        }
        if (position < 0) {
          throw new FS.ErrnoError(28);
        }
        return position;
      }, allocate: function(stream, offset, length) {
        MEMFS.expandFileStorage(stream.node, offset + length);
        stream.node.usedBytes = Math.max(stream.node.usedBytes, offset + length);
      }, mmap: function(stream, address, length, position, prot, flags) {
        if (address !== 0) {
          throw new FS.ErrnoError(28);
        }
        if (!FS.isFile(stream.node.mode)) {
          throw new FS.ErrnoError(43);
        }
        var ptr;
        var allocated;
        var contents = stream.node.contents;
        if (!(flags & 2) && contents.buffer === buffer) {
          allocated = false;
          ptr = contents.byteOffset;
        } else {
          if (position > 0 || position + length < contents.length) {
            if (contents.subarray) {
              contents = contents.subarray(position, position + length);
            } else {
              contents = Array.prototype.slice.call(contents, position, position + length);
            }
          }
          allocated = true;
          ptr = mmapAlloc(length);
          if (!ptr) {
            throw new FS.ErrnoError(48);
          }
          HEAP8.set(contents, ptr);
        }
        return { ptr, allocated };
      }, msync: function(stream, buffer2, offset, length, mmapFlags) {
        if (!FS.isFile(stream.node.mode)) {
          throw new FS.ErrnoError(43);
        }
        if (mmapFlags & 2) {
          return 0;
        }
        var bytesWritten = MEMFS.stream_ops.write(stream, buffer2, 0, length, offset, false);
        return 0;
      } } };
      function asyncLoad(url, onload, onerror, noRunDep) {
        var dep = !noRunDep ? getUniqueRunDependency("al " + url) : "";
        readAsync(url, function(arrayBuffer) {
          assert(arrayBuffer, 'Loading data file "' + url + '" failed (no arrayBuffer).');
          onload(new Uint8Array(arrayBuffer));
          if (dep)
            removeRunDependency(dep);
        }, function(event) {
          if (onerror) {
            onerror();
          } else {
            throw 'Loading data file "' + url + '" failed.';
          }
        });
        if (dep)
          addRunDependency(dep);
      }
      var FS = { root: null, mounts: [], devices: {}, streams: [], nextInode: 1, nameTable: null, currentPath: "/", initialized: false, ignorePermissions: true, ErrnoError: null, genericErrors: {}, filesystems: null, syncFSRequests: 0, lookupPath: function(path, opts) {
        path = PATH_FS.resolve(FS.cwd(), path);
        opts = opts || {};
        if (!path)
          return { path: "", node: null };
        var defaults2 = { follow_mount: true, recurse_count: 0 };
        for (var key2 in defaults2) {
          if (opts[key2] === void 0) {
            opts[key2] = defaults2[key2];
          }
        }
        if (opts.recurse_count > 8) {
          throw new FS.ErrnoError(32);
        }
        var parts = PATH.normalizeArray(path.split("/").filter(function(p) {
          return !!p;
        }), false);
        var current = FS.root;
        var current_path = "/";
        for (var i = 0; i < parts.length; i++) {
          var islast = i === parts.length - 1;
          if (islast && opts.parent) {
            break;
          }
          current = FS.lookupNode(current, parts[i]);
          current_path = PATH.join2(current_path, parts[i]);
          if (FS.isMountpoint(current)) {
            if (!islast || islast && opts.follow_mount) {
              current = current.mounted.root;
            }
          }
          if (!islast || opts.follow) {
            var count = 0;
            while (FS.isLink(current.mode)) {
              var link = FS.readlink(current_path);
              current_path = PATH_FS.resolve(PATH.dirname(current_path), link);
              var lookup = FS.lookupPath(current_path, { recurse_count: opts.recurse_count });
              current = lookup.node;
              if (count++ > 40) {
                throw new FS.ErrnoError(32);
              }
            }
          }
        }
        return { path: current_path, node: current };
      }, getPath: function(node) {
        var path;
        while (true) {
          if (FS.isRoot(node)) {
            var mount = node.mount.mountpoint;
            if (!path)
              return mount;
            return mount[mount.length - 1] !== "/" ? mount + "/" + path : mount + path;
          }
          path = path ? node.name + "/" + path : node.name;
          node = node.parent;
        }
      }, hashName: function(parentid, name) {
        var hash2 = 0;
        for (var i = 0; i < name.length; i++) {
          hash2 = (hash2 << 5) - hash2 + name.charCodeAt(i) | 0;
        }
        return (parentid + hash2 >>> 0) % FS.nameTable.length;
      }, hashAddNode: function(node) {
        var hash2 = FS.hashName(node.parent.id, node.name);
        node.name_next = FS.nameTable[hash2];
        FS.nameTable[hash2] = node;
      }, hashRemoveNode: function(node) {
        var hash2 = FS.hashName(node.parent.id, node.name);
        if (FS.nameTable[hash2] === node) {
          FS.nameTable[hash2] = node.name_next;
        } else {
          var current = FS.nameTable[hash2];
          while (current) {
            if (current.name_next === node) {
              current.name_next = node.name_next;
              break;
            }
            current = current.name_next;
          }
        }
      }, lookupNode: function(parent, name) {
        var errCode = FS.mayLookup(parent);
        if (errCode) {
          throw new FS.ErrnoError(errCode, parent);
        }
        var hash2 = FS.hashName(parent.id, name);
        for (var node = FS.nameTable[hash2]; node; node = node.name_next) {
          var nodeName = node.name;
          if (node.parent.id === parent.id && nodeName === name) {
            return node;
          }
        }
        return FS.lookup(parent, name);
      }, createNode: function(parent, name, mode, rdev) {
        var node = new FS.FSNode(parent, name, mode, rdev);
        FS.hashAddNode(node);
        return node;
      }, destroyNode: function(node) {
        FS.hashRemoveNode(node);
      }, isRoot: function(node) {
        return node === node.parent;
      }, isMountpoint: function(node) {
        return !!node.mounted;
      }, isFile: function(mode) {
        return (mode & 61440) === 32768;
      }, isDir: function(mode) {
        return (mode & 61440) === 16384;
      }, isLink: function(mode) {
        return (mode & 61440) === 40960;
      }, isChrdev: function(mode) {
        return (mode & 61440) === 8192;
      }, isBlkdev: function(mode) {
        return (mode & 61440) === 24576;
      }, isFIFO: function(mode) {
        return (mode & 61440) === 4096;
      }, isSocket: function(mode) {
        return (mode & 49152) === 49152;
      }, flagModes: { "r": 0, "r+": 2, "w": 577, "w+": 578, "a": 1089, "a+": 1090 }, modeStringToFlags: function(str) {
        var flags = FS.flagModes[str];
        if (typeof flags === "undefined") {
          throw new Error("Unknown file open mode: " + str);
        }
        return flags;
      }, flagsToPermissionString: function(flag) {
        var perms = ["r", "w", "rw"][flag & 3];
        if (flag & 512) {
          perms += "w";
        }
        return perms;
      }, nodePermissions: function(node, perms) {
        if (FS.ignorePermissions) {
          return 0;
        }
        if (perms.includes("r") && !(node.mode & 292)) {
          return 2;
        } else if (perms.includes("w") && !(node.mode & 146)) {
          return 2;
        } else if (perms.includes("x") && !(node.mode & 73)) {
          return 2;
        }
        return 0;
      }, mayLookup: function(dir) {
        var errCode = FS.nodePermissions(dir, "x");
        if (errCode)
          return errCode;
        if (!dir.node_ops.lookup)
          return 2;
        return 0;
      }, mayCreate: function(dir, name) {
        try {
          var node = FS.lookupNode(dir, name);
          return 20;
        } catch (e) {
        }
        return FS.nodePermissions(dir, "wx");
      }, mayDelete: function(dir, name, isdir) {
        var node;
        try {
          node = FS.lookupNode(dir, name);
        } catch (e) {
          return e.errno;
        }
        var errCode = FS.nodePermissions(dir, "wx");
        if (errCode) {
          return errCode;
        }
        if (isdir) {
          if (!FS.isDir(node.mode)) {
            return 54;
          }
          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {
            return 10;
          }
        } else {
          if (FS.isDir(node.mode)) {
            return 31;
          }
        }
        return 0;
      }, mayOpen: function(node, flags) {
        if (!node) {
          return 44;
        }
        if (FS.isLink(node.mode)) {
          return 32;
        } else if (FS.isDir(node.mode)) {
          if (FS.flagsToPermissionString(flags) !== "r" || flags & 512) {
            return 31;
          }
        }
        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));
      }, MAX_OPEN_FDS: 4096, nextfd: function(fd_start, fd_end) {
        fd_start = fd_start || 0;
        fd_end = fd_end || FS.MAX_OPEN_FDS;
        for (var fd = fd_start; fd <= fd_end; fd++) {
          if (!FS.streams[fd]) {
            return fd;
          }
        }
        throw new FS.ErrnoError(33);
      }, getStream: function(fd) {
        return FS.streams[fd];
      }, createStream: function(stream, fd_start, fd_end) {
        if (!FS.FSStream) {
          FS.FSStream = function() {
          };
          FS.FSStream.prototype = { object: { get: function() {
            return this.node;
          }, set: function(val) {
            this.node = val;
          } }, isRead: { get: function() {
            return (this.flags & 2097155) !== 1;
          } }, isWrite: { get: function() {
            return (this.flags & 2097155) !== 0;
          } }, isAppend: { get: function() {
            return this.flags & 1024;
          } } };
        }
        var newStream = new FS.FSStream();
        for (var p in stream) {
          newStream[p] = stream[p];
        }
        stream = newStream;
        var fd = FS.nextfd(fd_start, fd_end);
        stream.fd = fd;
        FS.streams[fd] = stream;
        return stream;
      }, closeStream: function(fd) {
        FS.streams[fd] = null;
      }, chrdev_stream_ops: { open: function(stream) {
        var device = FS.getDevice(stream.node.rdev);
        stream.stream_ops = device.stream_ops;
        if (stream.stream_ops.open) {
          stream.stream_ops.open(stream);
        }
      }, llseek: function() {
        throw new FS.ErrnoError(70);
      } }, major: function(dev) {
        return dev >> 8;
      }, minor: function(dev) {
        return dev & 255;
      }, makedev: function(ma, mi) {
        return ma << 8 | mi;
      }, registerDevice: function(dev, ops) {
        FS.devices[dev] = { stream_ops: ops };
      }, getDevice: function(dev) {
        return FS.devices[dev];
      }, getMounts: function(mount) {
        var mounts = [];
        var check = [mount];
        while (check.length) {
          var m = check.pop();
          mounts.push(m);
          check.push.apply(check, m.mounts);
        }
        return mounts;
      }, syncfs: function(populate, callback) {
        if (typeof populate === "function") {
          callback = populate;
          populate = false;
        }
        FS.syncFSRequests++;
        if (FS.syncFSRequests > 1) {
          err("warning: " + FS.syncFSRequests + " FS.syncfs operations in flight at once, probably just doing extra work");
        }
        var mounts = FS.getMounts(FS.root.mount);
        var completed = 0;
        function doCallback(errCode) {
          FS.syncFSRequests--;
          return callback(errCode);
        }
        function done(errCode) {
          if (errCode) {
            if (!done.errored) {
              done.errored = true;
              return doCallback(errCode);
            }
            return;
          }
          if (++completed >= mounts.length) {
            doCallback(null);
          }
        }
        mounts.forEach(function(mount) {
          if (!mount.type.syncfs) {
            return done(null);
          }
          mount.type.syncfs(mount, populate, done);
        });
      }, mount: function(type, opts, mountpoint) {
        var root = mountpoint === "/";
        var pseudo = !mountpoint;
        var node;
        if (root && FS.root) {
          throw new FS.ErrnoError(10);
        } else if (!root && !pseudo) {
          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });
          mountpoint = lookup.path;
          node = lookup.node;
          if (FS.isMountpoint(node)) {
            throw new FS.ErrnoError(10);
          }
          if (!FS.isDir(node.mode)) {
            throw new FS.ErrnoError(54);
          }
        }
        var mount = { type, opts, mountpoint, mounts: [] };
        var mountRoot = type.mount(mount);
        mountRoot.mount = mount;
        mount.root = mountRoot;
        if (root) {
          FS.root = mountRoot;
        } else if (node) {
          node.mounted = mount;
          if (node.mount) {
            node.mount.mounts.push(mount);
          }
        }
        return mountRoot;
      }, unmount: function(mountpoint) {
        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });
        if (!FS.isMountpoint(lookup.node)) {
          throw new FS.ErrnoError(28);
        }
        var node = lookup.node;
        var mount = node.mounted;
        var mounts = FS.getMounts(mount);
        Object.keys(FS.nameTable).forEach(function(hash2) {
          var current = FS.nameTable[hash2];
          while (current) {
            var next = current.name_next;
            if (mounts.includes(current.mount)) {
              FS.destroyNode(current);
            }
            current = next;
          }
        });
        node.mounted = null;
        var idx = node.mount.mounts.indexOf(mount);
        node.mount.mounts.splice(idx, 1);
      }, lookup: function(parent, name) {
        return parent.node_ops.lookup(parent, name);
      }, mknod: function(path, mode, dev) {
        var lookup = FS.lookupPath(path, { parent: true });
        var parent = lookup.node;
        var name = PATH.basename(path);
        if (!name || name === "." || name === "..") {
          throw new FS.ErrnoError(28);
        }
        var errCode = FS.mayCreate(parent, name);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.mknod) {
          throw new FS.ErrnoError(63);
        }
        return parent.node_ops.mknod(parent, name, mode, dev);
      }, create: function(path, mode) {
        mode = mode !== void 0 ? mode : 438;
        mode &= 4095;
        mode |= 32768;
        return FS.mknod(path, mode, 0);
      }, mkdir: function(path, mode) {
        mode = mode !== void 0 ? mode : 511;
        mode &= 511 | 512;
        mode |= 16384;
        return FS.mknod(path, mode, 0);
      }, mkdirTree: function(path, mode) {
        var dirs = path.split("/");
        var d = "";
        for (var i = 0; i < dirs.length; ++i) {
          if (!dirs[i])
            continue;
          d += "/" + dirs[i];
          try {
            FS.mkdir(d, mode);
          } catch (e) {
            if (e.errno != 20)
              throw e;
          }
        }
      }, mkdev: function(path, mode, dev) {
        if (typeof dev === "undefined") {
          dev = mode;
          mode = 438;
        }
        mode |= 8192;
        return FS.mknod(path, mode, dev);
      }, symlink: function(oldpath, newpath) {
        if (!PATH_FS.resolve(oldpath)) {
          throw new FS.ErrnoError(44);
        }
        var lookup = FS.lookupPath(newpath, { parent: true });
        var parent = lookup.node;
        if (!parent) {
          throw new FS.ErrnoError(44);
        }
        var newname = PATH.basename(newpath);
        var errCode = FS.mayCreate(parent, newname);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.symlink) {
          throw new FS.ErrnoError(63);
        }
        return parent.node_ops.symlink(parent, newname, oldpath);
      }, rename: function(old_path, new_path) {
        var old_dirname = PATH.dirname(old_path);
        var new_dirname = PATH.dirname(new_path);
        var old_name = PATH.basename(old_path);
        var new_name = PATH.basename(new_path);
        var lookup, old_dir, new_dir;
        lookup = FS.lookupPath(old_path, { parent: true });
        old_dir = lookup.node;
        lookup = FS.lookupPath(new_path, { parent: true });
        new_dir = lookup.node;
        if (!old_dir || !new_dir)
          throw new FS.ErrnoError(44);
        if (old_dir.mount !== new_dir.mount) {
          throw new FS.ErrnoError(75);
        }
        var old_node = FS.lookupNode(old_dir, old_name);
        var relative = PATH_FS.relative(old_path, new_dirname);
        if (relative.charAt(0) !== ".") {
          throw new FS.ErrnoError(28);
        }
        relative = PATH_FS.relative(new_path, old_dirname);
        if (relative.charAt(0) !== ".") {
          throw new FS.ErrnoError(55);
        }
        var new_node;
        try {
          new_node = FS.lookupNode(new_dir, new_name);
        } catch (e) {
        }
        if (old_node === new_node) {
          return;
        }
        var isdir = FS.isDir(old_node.mode);
        var errCode = FS.mayDelete(old_dir, old_name, isdir);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        errCode = new_node ? FS.mayDelete(new_dir, new_name, isdir) : FS.mayCreate(new_dir, new_name);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!old_dir.node_ops.rename) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isMountpoint(old_node) || new_node && FS.isMountpoint(new_node)) {
          throw new FS.ErrnoError(10);
        }
        if (new_dir !== old_dir) {
          errCode = FS.nodePermissions(old_dir, "w");
          if (errCode) {
            throw new FS.ErrnoError(errCode);
          }
        }
        FS.hashRemoveNode(old_node);
        try {
          old_dir.node_ops.rename(old_node, new_dir, new_name);
        } catch (e) {
          throw e;
        } finally {
          FS.hashAddNode(old_node);
        }
      }, rmdir: function(path) {
        var lookup = FS.lookupPath(path, { parent: true });
        var parent = lookup.node;
        var name = PATH.basename(path);
        var node = FS.lookupNode(parent, name);
        var errCode = FS.mayDelete(parent, name, true);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.rmdir) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isMountpoint(node)) {
          throw new FS.ErrnoError(10);
        }
        parent.node_ops.rmdir(parent, name);
        FS.destroyNode(node);
      }, readdir: function(path) {
        var lookup = FS.lookupPath(path, { follow: true });
        var node = lookup.node;
        if (!node.node_ops.readdir) {
          throw new FS.ErrnoError(54);
        }
        return node.node_ops.readdir(node);
      }, unlink: function(path) {
        var lookup = FS.lookupPath(path, { parent: true });
        var parent = lookup.node;
        var name = PATH.basename(path);
        var node = FS.lookupNode(parent, name);
        var errCode = FS.mayDelete(parent, name, false);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.unlink) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isMountpoint(node)) {
          throw new FS.ErrnoError(10);
        }
        parent.node_ops.unlink(parent, name);
        FS.destroyNode(node);
      }, readlink: function(path) {
        var lookup = FS.lookupPath(path);
        var link = lookup.node;
        if (!link) {
          throw new FS.ErrnoError(44);
        }
        if (!link.node_ops.readlink) {
          throw new FS.ErrnoError(28);
        }
        return PATH_FS.resolve(FS.getPath(link.parent), link.node_ops.readlink(link));
      }, stat: function(path, dontFollow) {
        var lookup = FS.lookupPath(path, { follow: !dontFollow });
        var node = lookup.node;
        if (!node) {
          throw new FS.ErrnoError(44);
        }
        if (!node.node_ops.getattr) {
          throw new FS.ErrnoError(63);
        }
        return node.node_ops.getattr(node);
      }, lstat: function(path) {
        return FS.stat(path, true);
      }, chmod: function(path, mode, dontFollow) {
        var node;
        if (typeof path === "string") {
          var lookup = FS.lookupPath(path, { follow: !dontFollow });
          node = lookup.node;
        } else {
          node = path;
        }
        if (!node.node_ops.setattr) {
          throw new FS.ErrnoError(63);
        }
        node.node_ops.setattr(node, { mode: mode & 4095 | node.mode & ~4095, timestamp: Date.now() });
      }, lchmod: function(path, mode) {
        FS.chmod(path, mode, true);
      }, fchmod: function(fd, mode) {
        var stream = FS.getStream(fd);
        if (!stream) {
          throw new FS.ErrnoError(8);
        }
        FS.chmod(stream.node, mode);
      }, chown: function(path, uid, gid, dontFollow) {
        var node;
        if (typeof path === "string") {
          var lookup = FS.lookupPath(path, { follow: !dontFollow });
          node = lookup.node;
        } else {
          node = path;
        }
        if (!node.node_ops.setattr) {
          throw new FS.ErrnoError(63);
        }
        node.node_ops.setattr(node, { timestamp: Date.now() });
      }, lchown: function(path, uid, gid) {
        FS.chown(path, uid, gid, true);
      }, fchown: function(fd, uid, gid) {
        var stream = FS.getStream(fd);
        if (!stream) {
          throw new FS.ErrnoError(8);
        }
        FS.chown(stream.node, uid, gid);
      }, truncate: function(path, len) {
        if (len < 0) {
          throw new FS.ErrnoError(28);
        }
        var node;
        if (typeof path === "string") {
          var lookup = FS.lookupPath(path, { follow: true });
          node = lookup.node;
        } else {
          node = path;
        }
        if (!node.node_ops.setattr) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isDir(node.mode)) {
          throw new FS.ErrnoError(31);
        }
        if (!FS.isFile(node.mode)) {
          throw new FS.ErrnoError(28);
        }
        var errCode = FS.nodePermissions(node, "w");
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        node.node_ops.setattr(node, { size: len, timestamp: Date.now() });
      }, ftruncate: function(fd, len) {
        var stream = FS.getStream(fd);
        if (!stream) {
          throw new FS.ErrnoError(8);
        }
        if ((stream.flags & 2097155) === 0) {
          throw new FS.ErrnoError(28);
        }
        FS.truncate(stream.node, len);
      }, utime: function(path, atime, mtime) {
        var lookup = FS.lookupPath(path, { follow: true });
        var node = lookup.node;
        node.node_ops.setattr(node, { timestamp: Math.max(atime, mtime) });
      }, open: function(path, flags, mode, fd_start, fd_end) {
        if (path === "") {
          throw new FS.ErrnoError(44);
        }
        flags = typeof flags === "string" ? FS.modeStringToFlags(flags) : flags;
        mode = typeof mode === "undefined" ? 438 : mode;
        if (flags & 64) {
          mode = mode & 4095 | 32768;
        } else {
          mode = 0;
        }
        var node;
        if (typeof path === "object") {
          node = path;
        } else {
          path = PATH.normalize(path);
          try {
            var lookup = FS.lookupPath(path, { follow: !(flags & 131072) });
            node = lookup.node;
          } catch (e) {
          }
        }
        var created = false;
        if (flags & 64) {
          if (node) {
            if (flags & 128) {
              throw new FS.ErrnoError(20);
            }
          } else {
            node = FS.mknod(path, mode, 0);
            created = true;
          }
        }
        if (!node) {
          throw new FS.ErrnoError(44);
        }
        if (FS.isChrdev(node.mode)) {
          flags &= ~512;
        }
        if (flags & 65536 && !FS.isDir(node.mode)) {
          throw new FS.ErrnoError(54);
        }
        if (!created) {
          var errCode = FS.mayOpen(node, flags);
          if (errCode) {
            throw new FS.ErrnoError(errCode);
          }
        }
        if (flags & 512) {
          FS.truncate(node, 0);
        }
        flags &= ~(128 | 512 | 131072);
        var stream = FS.createStream({ node, path: FS.getPath(node), id: node.id, flags, mode: node.mode, seekable: true, position: 0, stream_ops: node.stream_ops, node_ops: node.node_ops, ungotten: [], error: false }, fd_start, fd_end);
        if (stream.stream_ops.open) {
          stream.stream_ops.open(stream);
        }
        if (Module2["logReadFiles"] && !(flags & 1)) {
          if (!FS.readFiles)
            FS.readFiles = {};
          if (!(path in FS.readFiles)) {
            FS.readFiles[path] = 1;
          }
        }
        return stream;
      }, close: function(stream) {
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if (stream.getdents)
          stream.getdents = null;
        try {
          if (stream.stream_ops.close) {
            stream.stream_ops.close(stream);
          }
        } catch (e) {
          throw e;
        } finally {
          FS.closeStream(stream.fd);
        }
        stream.fd = null;
      }, isClosed: function(stream) {
        return stream.fd === null;
      }, llseek: function(stream, offset, whence) {
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if (!stream.seekable || !stream.stream_ops.llseek) {
          throw new FS.ErrnoError(70);
        }
        if (whence != 0 && whence != 1 && whence != 2) {
          throw new FS.ErrnoError(28);
        }
        stream.position = stream.stream_ops.llseek(stream, offset, whence);
        stream.ungotten = [];
        return stream.position;
      }, read: function(stream, buffer2, offset, length, position) {
        if (length < 0 || position < 0) {
          throw new FS.ErrnoError(28);
        }
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if ((stream.flags & 2097155) === 1) {
          throw new FS.ErrnoError(8);
        }
        if (FS.isDir(stream.node.mode)) {
          throw new FS.ErrnoError(31);
        }
        if (!stream.stream_ops.read) {
          throw new FS.ErrnoError(28);
        }
        var seeking = typeof position !== "undefined";
        if (!seeking) {
          position = stream.position;
        } else if (!stream.seekable) {
          throw new FS.ErrnoError(70);
        }
        var bytesRead = stream.stream_ops.read(stream, buffer2, offset, length, position);
        if (!seeking)
          stream.position += bytesRead;
        return bytesRead;
      }, write: function(stream, buffer2, offset, length, position, canOwn) {
        if (length < 0 || position < 0) {
          throw new FS.ErrnoError(28);
        }
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if ((stream.flags & 2097155) === 0) {
          throw new FS.ErrnoError(8);
        }
        if (FS.isDir(stream.node.mode)) {
          throw new FS.ErrnoError(31);
        }
        if (!stream.stream_ops.write) {
          throw new FS.ErrnoError(28);
        }
        if (stream.seekable && stream.flags & 1024) {
          FS.llseek(stream, 0, 2);
        }
        var seeking = typeof position !== "undefined";
        if (!seeking) {
          position = stream.position;
        } else if (!stream.seekable) {
          throw new FS.ErrnoError(70);
        }
        var bytesWritten = stream.stream_ops.write(stream, buffer2, offset, length, position, canOwn);
        if (!seeking)
          stream.position += bytesWritten;
        return bytesWritten;
      }, allocate: function(stream, offset, length) {
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if (offset < 0 || length <= 0) {
          throw new FS.ErrnoError(28);
        }
        if ((stream.flags & 2097155) === 0) {
          throw new FS.ErrnoError(8);
        }
        if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {
          throw new FS.ErrnoError(43);
        }
        if (!stream.stream_ops.allocate) {
          throw new FS.ErrnoError(138);
        }
        stream.stream_ops.allocate(stream, offset, length);
      }, mmap: function(stream, address, length, position, prot, flags) {
        if ((prot & 2) !== 0 && (flags & 2) === 0 && (stream.flags & 2097155) !== 2) {
          throw new FS.ErrnoError(2);
        }
        if ((stream.flags & 2097155) === 1) {
          throw new FS.ErrnoError(2);
        }
        if (!stream.stream_ops.mmap) {
          throw new FS.ErrnoError(43);
        }
        return stream.stream_ops.mmap(stream, address, length, position, prot, flags);
      }, msync: function(stream, buffer2, offset, length, mmapFlags) {
        if (!stream || !stream.stream_ops.msync) {
          return 0;
        }
        return stream.stream_ops.msync(stream, buffer2, offset, length, mmapFlags);
      }, munmap: function(stream) {
        return 0;
      }, ioctl: function(stream, cmd, arg) {
        if (!stream.stream_ops.ioctl) {
          throw new FS.ErrnoError(59);
        }
        return stream.stream_ops.ioctl(stream, cmd, arg);
      }, readFile: function(path, opts) {
        opts = opts || {};
        opts.flags = opts.flags || 0;
        opts.encoding = opts.encoding || "binary";
        if (opts.encoding !== "utf8" && opts.encoding !== "binary") {
          throw new Error('Invalid encoding type "' + opts.encoding + '"');
        }
        var ret;
        var stream = FS.open(path, opts.flags);
        var stat = FS.stat(path);
        var length = stat.size;
        var buf = new Uint8Array(length);
        FS.read(stream, buf, 0, length, 0);
        if (opts.encoding === "utf8") {
          ret = UTF8ArrayToString(buf, 0);
        } else if (opts.encoding === "binary") {
          ret = buf;
        }
        FS.close(stream);
        return ret;
      }, writeFile: function(path, data, opts) {
        opts = opts || {};
        opts.flags = opts.flags || 577;
        var stream = FS.open(path, opts.flags, opts.mode);
        if (typeof data === "string") {
          var buf = new Uint8Array(lengthBytesUTF8(data) + 1);
          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);
          FS.write(stream, buf, 0, actualNumBytes, void 0, opts.canOwn);
        } else if (ArrayBuffer.isView(data)) {
          FS.write(stream, data, 0, data.byteLength, void 0, opts.canOwn);
        } else {
          throw new Error("Unsupported data type");
        }
        FS.close(stream);
      }, cwd: function() {
        return FS.currentPath;
      }, chdir: function(path) {
        var lookup = FS.lookupPath(path, { follow: true });
        if (lookup.node === null) {
          throw new FS.ErrnoError(44);
        }
        if (!FS.isDir(lookup.node.mode)) {
          throw new FS.ErrnoError(54);
        }
        var errCode = FS.nodePermissions(lookup.node, "x");
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        FS.currentPath = lookup.path;
      }, createDefaultDirectories: function() {
        FS.mkdir("/tmp");
        FS.mkdir("/home");
        FS.mkdir("/home/web_user");
      }, createDefaultDevices: function() {
        FS.mkdir("/dev");
        FS.registerDevice(FS.makedev(1, 3), { read: function() {
          return 0;
        }, write: function(stream, buffer2, offset, length, pos) {
          return length;
        } });
        FS.mkdev("/dev/null", FS.makedev(1, 3));
        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);
        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);
        FS.mkdev("/dev/tty", FS.makedev(5, 0));
        FS.mkdev("/dev/tty1", FS.makedev(6, 0));
        var random_device = getRandomDevice();
        FS.createDevice("/dev", "random", random_device);
        FS.createDevice("/dev", "urandom", random_device);
        FS.mkdir("/dev/shm");
        FS.mkdir("/dev/shm/tmp");
      }, createSpecialDirectories: function() {
        FS.mkdir("/proc");
        var proc_self = FS.mkdir("/proc/self");
        FS.mkdir("/proc/self/fd");
        FS.mount({ mount: function() {
          var node = FS.createNode(proc_self, "fd", 16384 | 511, 73);
          node.node_ops = { lookup: function(parent, name) {
            var fd = +name;
            var stream = FS.getStream(fd);
            if (!stream)
              throw new FS.ErrnoError(8);
            var ret = { parent: null, mount: { mountpoint: "fake" }, node_ops: { readlink: function() {
              return stream.path;
            } } };
            ret.parent = ret;
            return ret;
          } };
          return node;
        } }, {}, "/proc/self/fd");
      }, createStandardStreams: function() {
        if (Module2["stdin"]) {
          FS.createDevice("/dev", "stdin", Module2["stdin"]);
        } else {
          FS.symlink("/dev/tty", "/dev/stdin");
        }
        if (Module2["stdout"]) {
          FS.createDevice("/dev", "stdout", null, Module2["stdout"]);
        } else {
          FS.symlink("/dev/tty", "/dev/stdout");
        }
        if (Module2["stderr"]) {
          FS.createDevice("/dev", "stderr", null, Module2["stderr"]);
        } else {
          FS.symlink("/dev/tty1", "/dev/stderr");
        }
        var stdin = FS.open("/dev/stdin", 0);
        var stdout = FS.open("/dev/stdout", 1);
        var stderr = FS.open("/dev/stderr", 1);
      }, ensureErrnoError: function() {
        if (FS.ErrnoError)
          return;
        FS.ErrnoError = function ErrnoError(errno, node) {
          this.node = node;
          this.setErrno = function(errno2) {
            this.errno = errno2;
          };
          this.setErrno(errno);
          this.message = "FS error";
        };
        FS.ErrnoError.prototype = new Error();
        FS.ErrnoError.prototype.constructor = FS.ErrnoError;
        [44].forEach(function(code) {
          FS.genericErrors[code] = new FS.ErrnoError(code);
          FS.genericErrors[code].stack = "<generic error, no stack>";
        });
      }, staticInit: function() {
        FS.ensureErrnoError();
        FS.nameTable = new Array(4096);
        FS.mount(MEMFS, {}, "/");
        FS.createDefaultDirectories();
        FS.createDefaultDevices();
        FS.createSpecialDirectories();
        FS.filesystems = { "MEMFS": MEMFS };
      }, init: function(input, output, error) {
        FS.init.initialized = true;
        FS.ensureErrnoError();
        Module2["stdin"] = input || Module2["stdin"];
        Module2["stdout"] = output || Module2["stdout"];
        Module2["stderr"] = error || Module2["stderr"];
        FS.createStandardStreams();
      }, quit: function() {
        FS.init.initialized = false;
        var fflush = Module2["_fflush"];
        if (fflush)
          fflush(0);
        for (var i = 0; i < FS.streams.length; i++) {
          var stream = FS.streams[i];
          if (!stream) {
            continue;
          }
          FS.close(stream);
        }
      }, getMode: function(canRead, canWrite) {
        var mode = 0;
        if (canRead)
          mode |= 292 | 73;
        if (canWrite)
          mode |= 146;
        return mode;
      }, findObject: function(path, dontResolveLastLink) {
        var ret = FS.analyzePath(path, dontResolveLastLink);
        if (ret.exists) {
          return ret.object;
        } else {
          return null;
        }
      }, analyzePath: function(path, dontResolveLastLink) {
        try {
          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });
          path = lookup.path;
        } catch (e) {
        }
        var ret = { isRoot: false, exists: false, error: 0, name: null, path: null, object: null, parentExists: false, parentPath: null, parentObject: null };
        try {
          var lookup = FS.lookupPath(path, { parent: true });
          ret.parentExists = true;
          ret.parentPath = lookup.path;
          ret.parentObject = lookup.node;
          ret.name = PATH.basename(path);
          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });
          ret.exists = true;
          ret.path = lookup.path;
          ret.object = lookup.node;
          ret.name = lookup.node.name;
          ret.isRoot = lookup.path === "/";
        } catch (e) {
          ret.error = e.errno;
        }
        return ret;
      }, createPath: function(parent, path, canRead, canWrite) {
        parent = typeof parent === "string" ? parent : FS.getPath(parent);
        var parts = path.split("/").reverse();
        while (parts.length) {
          var part = parts.pop();
          if (!part)
            continue;
          var current = PATH.join2(parent, part);
          try {
            FS.mkdir(current);
          } catch (e) {
          }
          parent = current;
        }
        return current;
      }, createFile: function(parent, name, properties, canRead, canWrite) {
        var path = PATH.join2(typeof parent === "string" ? parent : FS.getPath(parent), name);
        var mode = FS.getMode(canRead, canWrite);
        return FS.create(path, mode);
      }, createDataFile: function(parent, name, data, canRead, canWrite, canOwn) {
        var path = name ? PATH.join2(typeof parent === "string" ? parent : FS.getPath(parent), name) : parent;
        var mode = FS.getMode(canRead, canWrite);
        var node = FS.create(path, mode);
        if (data) {
          if (typeof data === "string") {
            var arr = new Array(data.length);
            for (var i = 0, len = data.length; i < len; ++i)
              arr[i] = data.charCodeAt(i);
            data = arr;
          }
          FS.chmod(node, mode | 146);
          var stream = FS.open(node, 577);
          FS.write(stream, data, 0, data.length, 0, canOwn);
          FS.close(stream);
          FS.chmod(node, mode);
        }
        return node;
      }, createDevice: function(parent, name, input, output) {
        var path = PATH.join2(typeof parent === "string" ? parent : FS.getPath(parent), name);
        var mode = FS.getMode(!!input, !!output);
        if (!FS.createDevice.major)
          FS.createDevice.major = 64;
        var dev = FS.makedev(FS.createDevice.major++, 0);
        FS.registerDevice(dev, { open: function(stream) {
          stream.seekable = false;
        }, close: function(stream) {
          if (output && output.buffer && output.buffer.length) {
            output(10);
          }
        }, read: function(stream, buffer2, offset, length, pos) {
          var bytesRead = 0;
          for (var i = 0; i < length; i++) {
            var result;
            try {
              result = input();
            } catch (e) {
              throw new FS.ErrnoError(29);
            }
            if (result === void 0 && bytesRead === 0) {
              throw new FS.ErrnoError(6);
            }
            if (result === null || result === void 0)
              break;
            bytesRead++;
            buffer2[offset + i] = result;
          }
          if (bytesRead) {
            stream.node.timestamp = Date.now();
          }
          return bytesRead;
        }, write: function(stream, buffer2, offset, length, pos) {
          for (var i = 0; i < length; i++) {
            try {
              output(buffer2[offset + i]);
            } catch (e) {
              throw new FS.ErrnoError(29);
            }
          }
          if (length) {
            stream.node.timestamp = Date.now();
          }
          return i;
        } });
        return FS.mkdev(path, mode, dev);
      }, forceLoadFile: function(obj) {
        if (obj.isDevice || obj.isFolder || obj.link || obj.contents)
          return true;
        if (typeof XMLHttpRequest !== "undefined") {
          throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
        } else if (read_) {
          try {
            obj.contents = intArrayFromString(read_(obj.url), true);
            obj.usedBytes = obj.contents.length;
          } catch (e) {
            throw new FS.ErrnoError(29);
          }
        } else {
          throw new Error("Cannot load without read() or XMLHttpRequest.");
        }
      }, createLazyFile: function(parent, name, url, canRead, canWrite) {
        function LazyUint8Array() {
          this.lengthKnown = false;
          this.chunks = [];
        }
        LazyUint8Array.prototype.get = function LazyUint8Array_get(idx) {
          if (idx > this.length - 1 || idx < 0) {
            return void 0;
          }
          var chunkOffset = idx % this.chunkSize;
          var chunkNum = idx / this.chunkSize | 0;
          return this.getter(chunkNum)[chunkOffset];
        };
        LazyUint8Array.prototype.setDataGetter = function LazyUint8Array_setDataGetter(getter) {
          this.getter = getter;
        };
        LazyUint8Array.prototype.cacheLength = function LazyUint8Array_cacheLength() {
          var xhr = new XMLHttpRequest();
          xhr.open("HEAD", url, false);
          xhr.send(null);
          if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304))
            throw new Error("Couldn't load " + url + ". Status: " + xhr.status);
          var datalength = Number(xhr.getResponseHeader("Content-length"));
          var header;
          var hasByteServing = (header = xhr.getResponseHeader("Accept-Ranges")) && header === "bytes";
          var usesGzip = (header = xhr.getResponseHeader("Content-Encoding")) && header === "gzip";
          var chunkSize = 1024 * 1024;
          if (!hasByteServing)
            chunkSize = datalength;
          var doXHR = function(from, to) {
            if (from > to)
              throw new Error("invalid range (" + from + ", " + to + ") or no bytes requested!");
            if (to > datalength - 1)
              throw new Error("only " + datalength + " bytes available! programmer error!");
            var xhr2 = new XMLHttpRequest();
            xhr2.open("GET", url, false);
            if (datalength !== chunkSize)
              xhr2.setRequestHeader("Range", "bytes=" + from + "-" + to);
            if (typeof Uint8Array != "undefined")
              xhr2.responseType = "arraybuffer";
            if (xhr2.overrideMimeType) {
              xhr2.overrideMimeType("text/plain; charset=x-user-defined");
            }
            xhr2.send(null);
            if (!(xhr2.status >= 200 && xhr2.status < 300 || xhr2.status === 304))
              throw new Error("Couldn't load " + url + ". Status: " + xhr2.status);
            if (xhr2.response !== void 0) {
              return new Uint8Array(xhr2.response || []);
            } else {
              return intArrayFromString(xhr2.responseText || "", true);
            }
          };
          var lazyArray2 = this;
          lazyArray2.setDataGetter(function(chunkNum) {
            var start4 = chunkNum * chunkSize;
            var end3 = (chunkNum + 1) * chunkSize - 1;
            end3 = Math.min(end3, datalength - 1);
            if (typeof lazyArray2.chunks[chunkNum] === "undefined") {
              lazyArray2.chunks[chunkNum] = doXHR(start4, end3);
            }
            if (typeof lazyArray2.chunks[chunkNum] === "undefined")
              throw new Error("doXHR failed!");
            return lazyArray2.chunks[chunkNum];
          });
          if (usesGzip || !datalength) {
            chunkSize = datalength = 1;
            datalength = this.getter(0).length;
            chunkSize = datalength;
            out("LazyFiles on gzip forces download of the whole file when length is accessed");
          }
          this._length = datalength;
          this._chunkSize = chunkSize;
          this.lengthKnown = true;
        };
        if (typeof XMLHttpRequest !== "undefined") {
          if (!ENVIRONMENT_IS_WORKER)
            throw "Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";
          var lazyArray = new LazyUint8Array();
          Object.defineProperties(lazyArray, { length: { get: function() {
            if (!this.lengthKnown) {
              this.cacheLength();
            }
            return this._length;
          } }, chunkSize: { get: function() {
            if (!this.lengthKnown) {
              this.cacheLength();
            }
            return this._chunkSize;
          } } });
          var properties = { isDevice: false, contents: lazyArray };
        } else {
          var properties = { isDevice: false, url };
        }
        var node = FS.createFile(parent, name, properties, canRead, canWrite);
        if (properties.contents) {
          node.contents = properties.contents;
        } else if (properties.url) {
          node.contents = null;
          node.url = properties.url;
        }
        Object.defineProperties(node, { usedBytes: { get: function() {
          return this.contents.length;
        } } });
        var stream_ops = {};
        var keys = Object.keys(node.stream_ops);
        keys.forEach(function(key2) {
          var fn = node.stream_ops[key2];
          stream_ops[key2] = function forceLoadLazyFile() {
            FS.forceLoadFile(node);
            return fn.apply(null, arguments);
          };
        });
        stream_ops.read = function stream_ops_read(stream, buffer2, offset, length, position) {
          FS.forceLoadFile(node);
          var contents = stream.node.contents;
          if (position >= contents.length)
            return 0;
          var size = Math.min(contents.length - position, length);
          if (contents.slice) {
            for (var i = 0; i < size; i++) {
              buffer2[offset + i] = contents[position + i];
            }
          } else {
            for (var i = 0; i < size; i++) {
              buffer2[offset + i] = contents.get(position + i);
            }
          }
          return size;
        };
        node.stream_ops = stream_ops;
        return node;
      }, createPreloadedFile: function(parent, name, url, canRead, canWrite, onload, onerror, dontCreateFile, canOwn, preFinish) {
        Browser.init();
        var fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;
        var dep = getUniqueRunDependency("cp " + fullname);
        function processData(byteArray) {
          function finish(byteArray2) {
            if (preFinish)
              preFinish();
            if (!dontCreateFile) {
              FS.createDataFile(parent, name, byteArray2, canRead, canWrite, canOwn);
            }
            if (onload)
              onload();
            removeRunDependency(dep);
          }
          var handled = false;
          Module2["preloadPlugins"].forEach(function(plugin) {
            if (handled)
              return;
            if (plugin["canHandle"](fullname)) {
              plugin["handle"](byteArray, fullname, finish, function() {
                if (onerror)
                  onerror();
                removeRunDependency(dep);
              });
              handled = true;
            }
          });
          if (!handled)
            finish(byteArray);
        }
        addRunDependency(dep);
        if (typeof url == "string") {
          asyncLoad(url, function(byteArray) {
            processData(byteArray);
          }, onerror);
        } else {
          processData(url);
        }
      }, indexedDB: function() {
        return window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
      }, DB_NAME: function() {
        return "EM_FS_" + window.location.pathname;
      }, DB_VERSION: 20, DB_STORE_NAME: "FILE_DATA", saveFilesToDB: function(paths, onload, onerror) {
        onload = onload || function() {
        };
        onerror = onerror || function() {
        };
        var indexedDB2 = FS.indexedDB();
        try {
          var openRequest = indexedDB2.open(FS.DB_NAME(), FS.DB_VERSION);
        } catch (e) {
          return onerror(e);
        }
        openRequest.onupgradeneeded = function openRequest_onupgradeneeded() {
          out("creating db");
          var db = openRequest.result;
          db.createObjectStore(FS.DB_STORE_NAME);
        };
        openRequest.onsuccess = function openRequest_onsuccess() {
          var db = openRequest.result;
          var transaction = db.transaction([FS.DB_STORE_NAME], "readwrite");
          var files3 = transaction.objectStore(FS.DB_STORE_NAME);
          var ok = 0, fail = 0, total = paths.length;
          function finish() {
            if (fail == 0)
              onload();
            else
              onerror();
          }
          paths.forEach(function(path) {
            var putRequest = files3.put(FS.analyzePath(path).object.contents, path);
            putRequest.onsuccess = function putRequest_onsuccess() {
              ok++;
              if (ok + fail == total)
                finish();
            };
            putRequest.onerror = function putRequest_onerror() {
              fail++;
              if (ok + fail == total)
                finish();
            };
          });
          transaction.onerror = onerror;
        };
        openRequest.onerror = onerror;
      }, loadFilesFromDB: function(paths, onload, onerror) {
        onload = onload || function() {
        };
        onerror = onerror || function() {
        };
        var indexedDB2 = FS.indexedDB();
        try {
          var openRequest = indexedDB2.open(FS.DB_NAME(), FS.DB_VERSION);
        } catch (e) {
          return onerror(e);
        }
        openRequest.onupgradeneeded = onerror;
        openRequest.onsuccess = function openRequest_onsuccess() {
          var db = openRequest.result;
          try {
            var transaction = db.transaction([FS.DB_STORE_NAME], "readonly");
          } catch (e) {
            onerror(e);
            return;
          }
          var files3 = transaction.objectStore(FS.DB_STORE_NAME);
          var ok = 0, fail = 0, total = paths.length;
          function finish() {
            if (fail == 0)
              onload();
            else
              onerror();
          }
          paths.forEach(function(path) {
            var getRequest = files3.get(path);
            getRequest.onsuccess = function getRequest_onsuccess() {
              if (FS.analyzePath(path).exists) {
                FS.unlink(path);
              }
              FS.createDataFile(PATH.dirname(path), PATH.basename(path), getRequest.result, true, true, true);
              ok++;
              if (ok + fail == total)
                finish();
            };
            getRequest.onerror = function getRequest_onerror() {
              fail++;
              if (ok + fail == total)
                finish();
            };
          });
          transaction.onerror = onerror;
        };
        openRequest.onerror = onerror;
      } };
      var SYSCALLS = { mappings: {}, DEFAULT_POLLMASK: 5, calculateAt: function(dirfd, path, allowEmpty) {
        if (path[0] === "/") {
          return path;
        }
        var dir;
        if (dirfd === -100) {
          dir = FS.cwd();
        } else {
          var dirstream = FS.getStream(dirfd);
          if (!dirstream)
            throw new FS.ErrnoError(8);
          dir = dirstream.path;
        }
        if (path.length == 0) {
          if (!allowEmpty) {
            throw new FS.ErrnoError(44);
          }
          return dir;
        }
        return PATH.join2(dir, path);
      }, doStat: function(func, path, buf) {
        try {
          var stat = func(path);
        } catch (e) {
          if (e && e.node && PATH.normalize(path) !== PATH.normalize(FS.getPath(e.node))) {
            return -54;
          }
          throw e;
        }
        HEAP32[buf >> 2] = stat.dev;
        HEAP32[buf + 4 >> 2] = 0;
        HEAP32[buf + 8 >> 2] = stat.ino;
        HEAP32[buf + 12 >> 2] = stat.mode;
        HEAP32[buf + 16 >> 2] = stat.nlink;
        HEAP32[buf + 20 >> 2] = stat.uid;
        HEAP32[buf + 24 >> 2] = stat.gid;
        HEAP32[buf + 28 >> 2] = stat.rdev;
        HEAP32[buf + 32 >> 2] = 0;
        tempI64 = [stat.size >>> 0, (tempDouble = stat.size, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math.min(+Math.floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[buf + 40 >> 2] = tempI64[0], HEAP32[buf + 44 >> 2] = tempI64[1];
        HEAP32[buf + 48 >> 2] = 4096;
        HEAP32[buf + 52 >> 2] = stat.blocks;
        HEAP32[buf + 56 >> 2] = stat.atime.getTime() / 1e3 | 0;
        HEAP32[buf + 60 >> 2] = 0;
        HEAP32[buf + 64 >> 2] = stat.mtime.getTime() / 1e3 | 0;
        HEAP32[buf + 68 >> 2] = 0;
        HEAP32[buf + 72 >> 2] = stat.ctime.getTime() / 1e3 | 0;
        HEAP32[buf + 76 >> 2] = 0;
        tempI64 = [stat.ino >>> 0, (tempDouble = stat.ino, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math.min(+Math.floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[buf + 80 >> 2] = tempI64[0], HEAP32[buf + 84 >> 2] = tempI64[1];
        return 0;
      }, doMsync: function(addr, stream, len, flags, offset) {
        var buffer2 = HEAPU8.slice(addr, addr + len);
        FS.msync(stream, buffer2, offset, len, flags);
      }, doMkdir: function(path, mode) {
        path = PATH.normalize(path);
        if (path[path.length - 1] === "/")
          path = path.substr(0, path.length - 1);
        FS.mkdir(path, mode, 0);
        return 0;
      }, doMknod: function(path, mode, dev) {
        switch (mode & 61440) {
          case 32768:
          case 8192:
          case 24576:
          case 4096:
          case 49152:
            break;
          default:
            return -28;
        }
        FS.mknod(path, mode, dev);
        return 0;
      }, doReadlink: function(path, buf, bufsize) {
        if (bufsize <= 0)
          return -28;
        var ret = FS.readlink(path);
        var len = Math.min(bufsize, lengthBytesUTF8(ret));
        var endChar = HEAP8[buf + len];
        stringToUTF8(ret, buf, bufsize + 1);
        HEAP8[buf + len] = endChar;
        return len;
      }, doAccess: function(path, amode) {
        if (amode & ~7) {
          return -28;
        }
        var lookup = FS.lookupPath(path, { follow: true });
        var node = lookup.node;
        if (!node) {
          return -44;
        }
        var perms = "";
        if (amode & 4)
          perms += "r";
        if (amode & 2)
          perms += "w";
        if (amode & 1)
          perms += "x";
        if (perms && FS.nodePermissions(node, perms)) {
          return -2;
        }
        return 0;
      }, doDup: function(path, flags, suggestFD) {
        var suggest = FS.getStream(suggestFD);
        if (suggest)
          FS.close(suggest);
        return FS.open(path, flags, 0, suggestFD, suggestFD).fd;
      }, doReadv: function(stream, iov, iovcnt, offset) {
        var ret = 0;
        for (var i = 0; i < iovcnt; i++) {
          var ptr = HEAP32[iov + i * 8 >> 2];
          var len = HEAP32[iov + (i * 8 + 4) >> 2];
          var curr = FS.read(stream, HEAP8, ptr, len, offset);
          if (curr < 0)
            return -1;
          ret += curr;
          if (curr < len)
            break;
        }
        return ret;
      }, doWritev: function(stream, iov, iovcnt, offset) {
        var ret = 0;
        for (var i = 0; i < iovcnt; i++) {
          var ptr = HEAP32[iov + i * 8 >> 2];
          var len = HEAP32[iov + (i * 8 + 4) >> 2];
          var curr = FS.write(stream, HEAP8, ptr, len, offset);
          if (curr < 0)
            return -1;
          ret += curr;
        }
        return ret;
      }, varargs: void 0, get: function() {
        SYSCALLS.varargs += 4;
        var ret = HEAP32[SYSCALLS.varargs - 4 >> 2];
        return ret;
      }, getStr: function(ptr) {
        var ret = UTF8ToString(ptr);
        return ret;
      }, getStreamFromFD: function(fd) {
        var stream = FS.getStream(fd);
        if (!stream)
          throw new FS.ErrnoError(8);
        return stream;
      }, get64: function(low, high) {
        return low;
      } };
      function ___syscall_fcntl64(fd, cmd, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          switch (cmd) {
            case 0: {
              var arg = SYSCALLS.get();
              if (arg < 0) {
                return -28;
              }
              var newStream;
              newStream = FS.open(stream.path, stream.flags, 0, arg);
              return newStream.fd;
            }
            case 1:
            case 2:
              return 0;
            case 3:
              return stream.flags;
            case 4: {
              var arg = SYSCALLS.get();
              stream.flags |= arg;
              return 0;
            }
            case 5: {
              var arg = SYSCALLS.get();
              var offset = 0;
              HEAP16[arg + offset >> 1] = 2;
              return 0;
            }
            case 6:
            case 7:
              return 0;
            case 16:
            case 8:
              return -28;
            case 9:
              setErrNo(28);
              return -1;
            default: {
              return -28;
            }
          }
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_fstat64(fd, buf) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          return SYSCALLS.doStat(FS.stat, stream.path, buf);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_fstatat64(dirfd, path, buf, flags) {
        try {
          path = SYSCALLS.getStr(path);
          var nofollow = flags & 256;
          var allowEmpty = flags & 4096;
          flags = flags & ~4352;
          path = SYSCALLS.calculateAt(dirfd, path, allowEmpty);
          return SYSCALLS.doStat(nofollow ? FS.lstat : FS.stat, path, buf);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_ioctl(fd, op, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          switch (op) {
            case 21509:
            case 21505: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            case 21510:
            case 21511:
            case 21512:
            case 21506:
            case 21507:
            case 21508: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            case 21519: {
              if (!stream.tty)
                return -59;
              var argp = SYSCALLS.get();
              HEAP32[argp >> 2] = 0;
              return 0;
            }
            case 21520: {
              if (!stream.tty)
                return -59;
              return -28;
            }
            case 21531: {
              var argp = SYSCALLS.get();
              return FS.ioctl(stream, op, argp);
            }
            case 21523: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            case 21524: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            default:
              abort("bad ioctl syscall " + op);
          }
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function syscallMmap2(addr, len, prot, flags, fd, off) {
        off <<= 12;
        var ptr;
        var allocated = false;
        if ((flags & 16) !== 0 && addr % 65536 !== 0) {
          return -28;
        }
        if ((flags & 32) !== 0) {
          ptr = mmapAlloc(len);
          if (!ptr)
            return -48;
          allocated = true;
        } else {
          var info = FS.getStream(fd);
          if (!info)
            return -8;
          var res = FS.mmap(info, addr, len, off, prot, flags);
          ptr = res.ptr;
          allocated = res.allocated;
        }
        SYSCALLS.mappings[ptr] = { malloc: ptr, len, allocated, fd, prot, flags, offset: off };
        return ptr;
      }
      function ___syscall_mmap2(addr, len, prot, flags, fd, off) {
        try {
          return syscallMmap2(addr, len, prot, flags, fd, off);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function syscallMunmap(addr, len) {
        var info = SYSCALLS.mappings[addr];
        if (len === 0 || !info) {
          return -28;
        }
        if (len === info.len) {
          var stream = FS.getStream(info.fd);
          if (stream) {
            if (info.prot & 2) {
              SYSCALLS.doMsync(addr, stream, len, info.flags, info.offset);
            }
            FS.munmap(stream);
          }
          SYSCALLS.mappings[addr] = null;
          if (info.allocated) {
            _free(info.malloc);
          }
        }
        return 0;
      }
      function ___syscall_munmap(addr, len) {
        try {
          return syscallMunmap(addr, len);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_open(path, flags, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var pathname = SYSCALLS.getStr(path);
          var mode = varargs ? SYSCALLS.get() : 0;
          var stream = FS.open(pathname, flags, mode);
          return stream.fd;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_stat64(path, buf) {
        try {
          path = SYSCALLS.getStr(path);
          return SYSCALLS.doStat(FS.stat, path, buf);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function __embind_register_bigint(primitiveType, name, size, minRange, maxRange) {
      }
      function getShiftFromSize(size) {
        switch (size) {
          case 1:
            return 0;
          case 2:
            return 1;
          case 4:
            return 2;
          case 8:
            return 3;
          default:
            throw new TypeError("Unknown type size: " + size);
        }
      }
      function embind_init_charCodes() {
        var codes = new Array(256);
        for (var i = 0; i < 256; ++i) {
          codes[i] = String.fromCharCode(i);
        }
        embind_charCodes = codes;
      }
      var embind_charCodes = void 0;
      function readLatin1String(ptr) {
        var ret = "";
        var c = ptr;
        while (HEAPU8[c]) {
          ret += embind_charCodes[HEAPU8[c++]];
        }
        return ret;
      }
      var awaitingDependencies = {};
      var registeredTypes = {};
      var typeDependencies = {};
      var char_0 = 48;
      var char_9 = 57;
      function makeLegalFunctionName(name) {
        if (void 0 === name) {
          return "_unknown";
        }
        name = name.replace(/[^a-zA-Z0-9_]/g, "$");
        var f = name.charCodeAt(0);
        if (f >= char_0 && f <= char_9) {
          return "_" + name;
        } else {
          return name;
        }
      }
      function createNamedFunction(name, body) {
        name = makeLegalFunctionName(name);
        return new Function("body", "return function " + name + '() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(body);
      }
      function extendError(baseErrorType, errorName) {
        var errorClass = createNamedFunction(errorName, function(message) {
          this.name = errorName;
          this.message = message;
          var stack = new Error(message).stack;
          if (stack !== void 0) {
            this.stack = this.toString() + "\n" + stack.replace(/^Error(:[^\n]*)?\n/, "");
          }
        });
        errorClass.prototype = Object.create(baseErrorType.prototype);
        errorClass.prototype.constructor = errorClass;
        errorClass.prototype.toString = function() {
          if (this.message === void 0) {
            return this.name;
          } else {
            return this.name + ": " + this.message;
          }
        };
        return errorClass;
      }
      var BindingError = void 0;
      function throwBindingError(message) {
        throw new BindingError(message);
      }
      var InternalError = void 0;
      function throwInternalError(message) {
        throw new InternalError(message);
      }
      function whenDependentTypesAreResolved(myTypes, dependentTypes, getTypeConverters) {
        myTypes.forEach(function(type) {
          typeDependencies[type] = dependentTypes;
        });
        function onComplete(typeConverters2) {
          var myTypeConverters = getTypeConverters(typeConverters2);
          if (myTypeConverters.length !== myTypes.length) {
            throwInternalError("Mismatched type converter count");
          }
          for (var i = 0; i < myTypes.length; ++i) {
            registerType(myTypes[i], myTypeConverters[i]);
          }
        }
        var typeConverters = new Array(dependentTypes.length);
        var unregisteredTypes = [];
        var registered = 0;
        dependentTypes.forEach(function(dt, i) {
          if (registeredTypes.hasOwnProperty(dt)) {
            typeConverters[i] = registeredTypes[dt];
          } else {
            unregisteredTypes.push(dt);
            if (!awaitingDependencies.hasOwnProperty(dt)) {
              awaitingDependencies[dt] = [];
            }
            awaitingDependencies[dt].push(function() {
              typeConverters[i] = registeredTypes[dt];
              ++registered;
              if (registered === unregisteredTypes.length) {
                onComplete(typeConverters);
              }
            });
          }
        });
        if (0 === unregisteredTypes.length) {
          onComplete(typeConverters);
        }
      }
      function registerType(rawType, registeredInstance, options) {
        options = options || {};
        if (!("argPackAdvance" in registeredInstance)) {
          throw new TypeError("registerType registeredInstance requires argPackAdvance");
        }
        var name = registeredInstance.name;
        if (!rawType) {
          throwBindingError('type "' + name + '" must have a positive integer typeid pointer');
        }
        if (registeredTypes.hasOwnProperty(rawType)) {
          if (options.ignoreDuplicateRegistrations) {
            return;
          } else {
            throwBindingError("Cannot register type '" + name + "' twice");
          }
        }
        registeredTypes[rawType] = registeredInstance;
        delete typeDependencies[rawType];
        if (awaitingDependencies.hasOwnProperty(rawType)) {
          var callbacks = awaitingDependencies[rawType];
          delete awaitingDependencies[rawType];
          callbacks.forEach(function(cb) {
            cb();
          });
        }
      }
      function __embind_register_bool(rawType, name, size, trueValue, falseValue) {
        var shift = getShiftFromSize(size);
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": function(wt) {
          return !!wt;
        }, "toWireType": function(destructors, o) {
          return o ? trueValue : falseValue;
        }, "argPackAdvance": 8, "readValueFromPointer": function(pointer) {
          var heap;
          if (size === 1) {
            heap = HEAP8;
          } else if (size === 2) {
            heap = HEAP16;
          } else if (size === 4) {
            heap = HEAP32;
          } else {
            throw new TypeError("Unknown boolean type size: " + name);
          }
          return this["fromWireType"](heap[pointer >> shift]);
        }, destructorFunction: null });
      }
      function ClassHandle_isAliasOf(other) {
        if (!(this instanceof ClassHandle)) {
          return false;
        }
        if (!(other instanceof ClassHandle)) {
          return false;
        }
        var leftClass = this.$$.ptrType.registeredClass;
        var left = this.$$.ptr;
        var rightClass = other.$$.ptrType.registeredClass;
        var right = other.$$.ptr;
        while (leftClass.baseClass) {
          left = leftClass.upcast(left);
          leftClass = leftClass.baseClass;
        }
        while (rightClass.baseClass) {
          right = rightClass.upcast(right);
          rightClass = rightClass.baseClass;
        }
        return leftClass === rightClass && left === right;
      }
      function shallowCopyInternalPointer(o) {
        return { count: o.count, deleteScheduled: o.deleteScheduled, preservePointerOnDelete: o.preservePointerOnDelete, ptr: o.ptr, ptrType: o.ptrType, smartPtr: o.smartPtr, smartPtrType: o.smartPtrType };
      }
      function throwInstanceAlreadyDeleted(obj) {
        function getInstanceTypeName(handle) {
          return handle.$$.ptrType.registeredClass.name;
        }
        throwBindingError(getInstanceTypeName(obj) + " instance already deleted");
      }
      var finalizationGroup = false;
      function detachFinalizer(handle) {
      }
      function runDestructor($$) {
        if ($$.smartPtr) {
          $$.smartPtrType.rawDestructor($$.smartPtr);
        } else {
          $$.ptrType.registeredClass.rawDestructor($$.ptr);
        }
      }
      function releaseClassHandle($$) {
        $$.count.value -= 1;
        var toDelete = 0 === $$.count.value;
        if (toDelete) {
          runDestructor($$);
        }
      }
      function attachFinalizer(handle) {
        if ("undefined" === typeof FinalizationGroup) {
          attachFinalizer = function(handle2) {
            return handle2;
          };
          return handle;
        }
        finalizationGroup = new FinalizationGroup(function(iter) {
          for (var result = iter.next(); !result.done; result = iter.next()) {
            var $$ = result.value;
            if (!$$.ptr) {
              console.warn("object already deleted: " + $$.ptr);
            } else {
              releaseClassHandle($$);
            }
          }
        });
        attachFinalizer = function(handle2) {
          finalizationGroup.register(handle2, handle2.$$, handle2.$$);
          return handle2;
        };
        detachFinalizer = function(handle2) {
          finalizationGroup.unregister(handle2.$$);
        };
        return attachFinalizer(handle);
      }
      function ClassHandle_clone() {
        if (!this.$$.ptr) {
          throwInstanceAlreadyDeleted(this);
        }
        if (this.$$.preservePointerOnDelete) {
          this.$$.count.value += 1;
          return this;
        } else {
          var clone = attachFinalizer(Object.create(Object.getPrototypeOf(this), { $$: { value: shallowCopyInternalPointer(this.$$) } }));
          clone.$$.count.value += 1;
          clone.$$.deleteScheduled = false;
          return clone;
        }
      }
      function ClassHandle_delete() {
        if (!this.$$.ptr) {
          throwInstanceAlreadyDeleted(this);
        }
        if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {
          throwBindingError("Object already scheduled for deletion");
        }
        detachFinalizer(this);
        releaseClassHandle(this.$$);
        if (!this.$$.preservePointerOnDelete) {
          this.$$.smartPtr = void 0;
          this.$$.ptr = void 0;
        }
      }
      function ClassHandle_isDeleted() {
        return !this.$$.ptr;
      }
      var delayFunction = void 0;
      var deletionQueue = [];
      function flushPendingDeletes() {
        while (deletionQueue.length) {
          var obj = deletionQueue.pop();
          obj.$$.deleteScheduled = false;
          obj["delete"]();
        }
      }
      function ClassHandle_deleteLater() {
        if (!this.$$.ptr) {
          throwInstanceAlreadyDeleted(this);
        }
        if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {
          throwBindingError("Object already scheduled for deletion");
        }
        deletionQueue.push(this);
        if (deletionQueue.length === 1 && delayFunction) {
          delayFunction(flushPendingDeletes);
        }
        this.$$.deleteScheduled = true;
        return this;
      }
      function init_ClassHandle() {
        ClassHandle.prototype["isAliasOf"] = ClassHandle_isAliasOf;
        ClassHandle.prototype["clone"] = ClassHandle_clone;
        ClassHandle.prototype["delete"] = ClassHandle_delete;
        ClassHandle.prototype["isDeleted"] = ClassHandle_isDeleted;
        ClassHandle.prototype["deleteLater"] = ClassHandle_deleteLater;
      }
      function ClassHandle() {
      }
      var registeredPointers = {};
      function ensureOverloadTable(proto, methodName, humanName) {
        if (void 0 === proto[methodName].overloadTable) {
          var prevFunc = proto[methodName];
          proto[methodName] = function() {
            if (!proto[methodName].overloadTable.hasOwnProperty(arguments.length)) {
              throwBindingError("Function '" + humanName + "' called with an invalid number of arguments (" + arguments.length + ") - expects one of (" + proto[methodName].overloadTable + ")!");
            }
            return proto[methodName].overloadTable[arguments.length].apply(this, arguments);
          };
          proto[methodName].overloadTable = [];
          proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;
        }
      }
      function exposePublicSymbol(name, value, numArguments) {
        if (Module2.hasOwnProperty(name)) {
          if (void 0 === numArguments || void 0 !== Module2[name].overloadTable && void 0 !== Module2[name].overloadTable[numArguments]) {
            throwBindingError("Cannot register public name '" + name + "' twice");
          }
          ensureOverloadTable(Module2, name, name);
          if (Module2.hasOwnProperty(numArguments)) {
            throwBindingError("Cannot register multiple overloads of a function with the same number of arguments (" + numArguments + ")!");
          }
          Module2[name].overloadTable[numArguments] = value;
        } else {
          Module2[name] = value;
          if (void 0 !== numArguments) {
            Module2[name].numArguments = numArguments;
          }
        }
      }
      function RegisteredClass(name, constructor, instancePrototype, rawDestructor, baseClass, getActualType, upcast, downcast) {
        this.name = name;
        this.constructor = constructor;
        this.instancePrototype = instancePrototype;
        this.rawDestructor = rawDestructor;
        this.baseClass = baseClass;
        this.getActualType = getActualType;
        this.upcast = upcast;
        this.downcast = downcast;
        this.pureVirtualFunctions = [];
      }
      function upcastPointer(ptr, ptrClass, desiredClass) {
        while (ptrClass !== desiredClass) {
          if (!ptrClass.upcast) {
            throwBindingError("Expected null or instance of " + desiredClass.name + ", got an instance of " + ptrClass.name);
          }
          ptr = ptrClass.upcast(ptr);
          ptrClass = ptrClass.baseClass;
        }
        return ptr;
      }
      function constNoSmartPtrRawPointerToWireType(destructors, handle) {
        if (handle === null) {
          if (this.isReference) {
            throwBindingError("null is not a valid " + this.name);
          }
          return 0;
        }
        if (!handle.$$) {
          throwBindingError('Cannot pass "' + _embind_repr(handle) + '" as a ' + this.name);
        }
        if (!handle.$$.ptr) {
          throwBindingError("Cannot pass deleted object as a pointer of type " + this.name);
        }
        var handleClass = handle.$$.ptrType.registeredClass;
        var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);
        return ptr;
      }
      function genericPointerToWireType(destructors, handle) {
        var ptr;
        if (handle === null) {
          if (this.isReference) {
            throwBindingError("null is not a valid " + this.name);
          }
          if (this.isSmartPointer) {
            ptr = this.rawConstructor();
            if (destructors !== null) {
              destructors.push(this.rawDestructor, ptr);
            }
            return ptr;
          } else {
            return 0;
          }
        }
        if (!handle.$$) {
          throwBindingError('Cannot pass "' + _embind_repr(handle) + '" as a ' + this.name);
        }
        if (!handle.$$.ptr) {
          throwBindingError("Cannot pass deleted object as a pointer of type " + this.name);
        }
        if (!this.isConst && handle.$$.ptrType.isConst) {
          throwBindingError("Cannot convert argument of type " + (handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name) + " to parameter type " + this.name);
        }
        var handleClass = handle.$$.ptrType.registeredClass;
        ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);
        if (this.isSmartPointer) {
          if (void 0 === handle.$$.smartPtr) {
            throwBindingError("Passing raw pointer to smart pointer is illegal");
          }
          switch (this.sharingPolicy) {
            case 0:
              if (handle.$$.smartPtrType === this) {
                ptr = handle.$$.smartPtr;
              } else {
                throwBindingError("Cannot convert argument of type " + (handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name) + " to parameter type " + this.name);
              }
              break;
            case 1:
              ptr = handle.$$.smartPtr;
              break;
            case 2:
              if (handle.$$.smartPtrType === this) {
                ptr = handle.$$.smartPtr;
              } else {
                var clonedHandle = handle["clone"]();
                ptr = this.rawShare(ptr, Emval.toHandle(function() {
                  clonedHandle["delete"]();
                }));
                if (destructors !== null) {
                  destructors.push(this.rawDestructor, ptr);
                }
              }
              break;
            default:
              throwBindingError("Unsupporting sharing policy");
          }
        }
        return ptr;
      }
      function nonConstNoSmartPtrRawPointerToWireType(destructors, handle) {
        if (handle === null) {
          if (this.isReference) {
            throwBindingError("null is not a valid " + this.name);
          }
          return 0;
        }
        if (!handle.$$) {
          throwBindingError('Cannot pass "' + _embind_repr(handle) + '" as a ' + this.name);
        }
        if (!handle.$$.ptr) {
          throwBindingError("Cannot pass deleted object as a pointer of type " + this.name);
        }
        if (handle.$$.ptrType.isConst) {
          throwBindingError("Cannot convert argument of type " + handle.$$.ptrType.name + " to parameter type " + this.name);
        }
        var handleClass = handle.$$.ptrType.registeredClass;
        var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);
        return ptr;
      }
      function simpleReadValueFromPointer(pointer) {
        return this["fromWireType"](HEAPU32[pointer >> 2]);
      }
      function RegisteredPointer_getPointee(ptr) {
        if (this.rawGetPointee) {
          ptr = this.rawGetPointee(ptr);
        }
        return ptr;
      }
      function RegisteredPointer_destructor(ptr) {
        if (this.rawDestructor) {
          this.rawDestructor(ptr);
        }
      }
      function RegisteredPointer_deleteObject(handle) {
        if (handle !== null) {
          handle["delete"]();
        }
      }
      function downcastPointer(ptr, ptrClass, desiredClass) {
        if (ptrClass === desiredClass) {
          return ptr;
        }
        if (void 0 === desiredClass.baseClass) {
          return null;
        }
        var rv = downcastPointer(ptr, ptrClass, desiredClass.baseClass);
        if (rv === null) {
          return null;
        }
        return desiredClass.downcast(rv);
      }
      function getInheritedInstanceCount() {
        return Object.keys(registeredInstances).length;
      }
      function getLiveInheritedInstances() {
        var rv = [];
        for (var k in registeredInstances) {
          if (registeredInstances.hasOwnProperty(k)) {
            rv.push(registeredInstances[k]);
          }
        }
        return rv;
      }
      function setDelayFunction(fn) {
        delayFunction = fn;
        if (deletionQueue.length && delayFunction) {
          delayFunction(flushPendingDeletes);
        }
      }
      function init_embind() {
        Module2["getInheritedInstanceCount"] = getInheritedInstanceCount;
        Module2["getLiveInheritedInstances"] = getLiveInheritedInstances;
        Module2["flushPendingDeletes"] = flushPendingDeletes;
        Module2["setDelayFunction"] = setDelayFunction;
      }
      var registeredInstances = {};
      function getBasestPointer(class_, ptr) {
        if (ptr === void 0) {
          throwBindingError("ptr should not be undefined");
        }
        while (class_.baseClass) {
          ptr = class_.upcast(ptr);
          class_ = class_.baseClass;
        }
        return ptr;
      }
      function getInheritedInstance(class_, ptr) {
        ptr = getBasestPointer(class_, ptr);
        return registeredInstances[ptr];
      }
      function makeClassHandle(prototype, record) {
        if (!record.ptrType || !record.ptr) {
          throwInternalError("makeClassHandle requires ptr and ptrType");
        }
        var hasSmartPtrType = !!record.smartPtrType;
        var hasSmartPtr = !!record.smartPtr;
        if (hasSmartPtrType !== hasSmartPtr) {
          throwInternalError("Both smartPtrType and smartPtr must be specified");
        }
        record.count = { value: 1 };
        return attachFinalizer(Object.create(prototype, { $$: { value: record } }));
      }
      function RegisteredPointer_fromWireType(ptr) {
        var rawPointer = this.getPointee(ptr);
        if (!rawPointer) {
          this.destructor(ptr);
          return null;
        }
        var registeredInstance = getInheritedInstance(this.registeredClass, rawPointer);
        if (void 0 !== registeredInstance) {
          if (0 === registeredInstance.$$.count.value) {
            registeredInstance.$$.ptr = rawPointer;
            registeredInstance.$$.smartPtr = ptr;
            return registeredInstance["clone"]();
          } else {
            var rv = registeredInstance["clone"]();
            this.destructor(ptr);
            return rv;
          }
        }
        function makeDefaultHandle() {
          if (this.isSmartPointer) {
            return makeClassHandle(this.registeredClass.instancePrototype, { ptrType: this.pointeeType, ptr: rawPointer, smartPtrType: this, smartPtr: ptr });
          } else {
            return makeClassHandle(this.registeredClass.instancePrototype, { ptrType: this, ptr });
          }
        }
        var actualType = this.registeredClass.getActualType(rawPointer);
        var registeredPointerRecord = registeredPointers[actualType];
        if (!registeredPointerRecord) {
          return makeDefaultHandle.call(this);
        }
        var toType;
        if (this.isConst) {
          toType = registeredPointerRecord.constPointerType;
        } else {
          toType = registeredPointerRecord.pointerType;
        }
        var dp = downcastPointer(rawPointer, this.registeredClass, toType.registeredClass);
        if (dp === null) {
          return makeDefaultHandle.call(this);
        }
        if (this.isSmartPointer) {
          return makeClassHandle(toType.registeredClass.instancePrototype, { ptrType: toType, ptr: dp, smartPtrType: this, smartPtr: ptr });
        } else {
          return makeClassHandle(toType.registeredClass.instancePrototype, { ptrType: toType, ptr: dp });
        }
      }
      function init_RegisteredPointer() {
        RegisteredPointer.prototype.getPointee = RegisteredPointer_getPointee;
        RegisteredPointer.prototype.destructor = RegisteredPointer_destructor;
        RegisteredPointer.prototype["argPackAdvance"] = 8;
        RegisteredPointer.prototype["readValueFromPointer"] = simpleReadValueFromPointer;
        RegisteredPointer.prototype["deleteObject"] = RegisteredPointer_deleteObject;
        RegisteredPointer.prototype["fromWireType"] = RegisteredPointer_fromWireType;
      }
      function RegisteredPointer(name, registeredClass, isReference, isConst, isSmartPointer, pointeeType, sharingPolicy, rawGetPointee, rawConstructor, rawShare, rawDestructor) {
        this.name = name;
        this.registeredClass = registeredClass;
        this.isReference = isReference;
        this.isConst = isConst;
        this.isSmartPointer = isSmartPointer;
        this.pointeeType = pointeeType;
        this.sharingPolicy = sharingPolicy;
        this.rawGetPointee = rawGetPointee;
        this.rawConstructor = rawConstructor;
        this.rawShare = rawShare;
        this.rawDestructor = rawDestructor;
        if (!isSmartPointer && registeredClass.baseClass === void 0) {
          if (isConst) {
            this["toWireType"] = constNoSmartPtrRawPointerToWireType;
            this.destructorFunction = null;
          } else {
            this["toWireType"] = nonConstNoSmartPtrRawPointerToWireType;
            this.destructorFunction = null;
          }
        } else {
          this["toWireType"] = genericPointerToWireType;
        }
      }
      function replacePublicSymbol(name, value, numArguments) {
        if (!Module2.hasOwnProperty(name)) {
          throwInternalError("Replacing nonexistant public symbol");
        }
        if (void 0 !== Module2[name].overloadTable && void 0 !== numArguments) {
          Module2[name].overloadTable[numArguments] = value;
        } else {
          Module2[name] = value;
          Module2[name].argCount = numArguments;
        }
      }
      function dynCallLegacy(sig, ptr, args) {
        var f = Module2["dynCall_" + sig];
        return args && args.length ? f.apply(null, [ptr].concat(args)) : f.call(null, ptr);
      }
      function dynCall(sig, ptr, args) {
        if (sig.includes("j")) {
          return dynCallLegacy(sig, ptr, args);
        }
        return getWasmTableEntry(ptr).apply(null, args);
      }
      function getDynCaller(sig, ptr) {
        var argCache = [];
        return function() {
          argCache.length = arguments.length;
          for (var i = 0; i < arguments.length; i++) {
            argCache[i] = arguments[i];
          }
          return dynCall(sig, ptr, argCache);
        };
      }
      function embind__requireFunction(signature, rawFunction) {
        signature = readLatin1String(signature);
        function makeDynCaller() {
          if (signature.includes("j")) {
            return getDynCaller(signature, rawFunction);
          }
          return getWasmTableEntry(rawFunction);
        }
        var fp = makeDynCaller();
        if (typeof fp !== "function") {
          throwBindingError("unknown function pointer with signature " + signature + ": " + rawFunction);
        }
        return fp;
      }
      var UnboundTypeError = void 0;
      function getTypeName(type) {
        var ptr = ___getTypeName(type);
        var rv = readLatin1String(ptr);
        _free(ptr);
        return rv;
      }
      function throwUnboundTypeError(message, types) {
        var unboundTypes = [];
        var seen = {};
        function visit(type) {
          if (seen[type]) {
            return;
          }
          if (registeredTypes[type]) {
            return;
          }
          if (typeDependencies[type]) {
            typeDependencies[type].forEach(visit);
            return;
          }
          unboundTypes.push(type);
          seen[type] = true;
        }
        types.forEach(visit);
        throw new UnboundTypeError(message + ": " + unboundTypes.map(getTypeName).join([", "]));
      }
      function __embind_register_class(rawType, rawPointerType, rawConstPointerType, baseClassRawType, getActualTypeSignature, getActualType, upcastSignature, upcast, downcastSignature, downcast, name, destructorSignature, rawDestructor) {
        name = readLatin1String(name);
        getActualType = embind__requireFunction(getActualTypeSignature, getActualType);
        if (upcast) {
          upcast = embind__requireFunction(upcastSignature, upcast);
        }
        if (downcast) {
          downcast = embind__requireFunction(downcastSignature, downcast);
        }
        rawDestructor = embind__requireFunction(destructorSignature, rawDestructor);
        var legalFunctionName = makeLegalFunctionName(name);
        exposePublicSymbol(legalFunctionName, function() {
          throwUnboundTypeError("Cannot construct " + name + " due to unbound types", [baseClassRawType]);
        });
        whenDependentTypesAreResolved([rawType, rawPointerType, rawConstPointerType], baseClassRawType ? [baseClassRawType] : [], function(base) {
          base = base[0];
          var baseClass;
          var basePrototype;
          if (baseClassRawType) {
            baseClass = base.registeredClass;
            basePrototype = baseClass.instancePrototype;
          } else {
            basePrototype = ClassHandle.prototype;
          }
          var constructor = createNamedFunction(legalFunctionName, function() {
            if (Object.getPrototypeOf(this) !== instancePrototype) {
              throw new BindingError("Use 'new' to construct " + name);
            }
            if (void 0 === registeredClass.constructor_body) {
              throw new BindingError(name + " has no accessible constructor");
            }
            var body = registeredClass.constructor_body[arguments.length];
            if (void 0 === body) {
              throw new BindingError("Tried to invoke ctor of " + name + " with invalid number of parameters (" + arguments.length + ") - expected (" + Object.keys(registeredClass.constructor_body).toString() + ") parameters instead!");
            }
            return body.apply(this, arguments);
          });
          var instancePrototype = Object.create(basePrototype, { constructor: { value: constructor } });
          constructor.prototype = instancePrototype;
          var registeredClass = new RegisteredClass(name, constructor, instancePrototype, rawDestructor, baseClass, getActualType, upcast, downcast);
          var referenceConverter = new RegisteredPointer(name, registeredClass, true, false, false);
          var pointerConverter = new RegisteredPointer(name + "*", registeredClass, false, false, false);
          var constPointerConverter = new RegisteredPointer(name + " const*", registeredClass, false, true, false);
          registeredPointers[rawType] = { pointerType: pointerConverter, constPointerType: constPointerConverter };
          replacePublicSymbol(legalFunctionName, constructor);
          return [referenceConverter, pointerConverter, constPointerConverter];
        });
      }
      function heap32VectorToArray(count, firstElement) {
        var array2 = [];
        for (var i = 0; i < count; i++) {
          array2.push(HEAP32[(firstElement >> 2) + i]);
        }
        return array2;
      }
      function runDestructors(destructors) {
        while (destructors.length) {
          var ptr = destructors.pop();
          var del2 = destructors.pop();
          del2(ptr);
        }
      }
      function __embind_register_class_constructor(rawClassType, argCount, rawArgTypesAddr, invokerSignature, invoker, rawConstructor) {
        assert(argCount > 0);
        var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);
        invoker = embind__requireFunction(invokerSignature, invoker);
        whenDependentTypesAreResolved([], [rawClassType], function(classType) {
          classType = classType[0];
          var humanName = "constructor " + classType.name;
          if (void 0 === classType.registeredClass.constructor_body) {
            classType.registeredClass.constructor_body = [];
          }
          if (void 0 !== classType.registeredClass.constructor_body[argCount - 1]) {
            throw new BindingError("Cannot register multiple constructors with identical number of parameters (" + (argCount - 1) + ") for class '" + classType.name + "'! Overload resolution is currently only performed using the parameter count, not actual type info!");
          }
          classType.registeredClass.constructor_body[argCount - 1] = function unboundTypeHandler() {
            throwUnboundTypeError("Cannot construct " + classType.name + " due to unbound types", rawArgTypes);
          };
          whenDependentTypesAreResolved([], rawArgTypes, function(argTypes) {
            argTypes.splice(1, 0, null);
            classType.registeredClass.constructor_body[argCount - 1] = craftInvokerFunction(humanName, argTypes, null, invoker, rawConstructor);
            return [];
          });
          return [];
        });
      }
      function new_(constructor, argumentList) {
        if (!(constructor instanceof Function)) {
          throw new TypeError("new_ called with constructor type " + typeof constructor + " which is not a function");
        }
        var dummy = createNamedFunction(constructor.name || "unknownFunctionName", function() {
        });
        dummy.prototype = constructor.prototype;
        var obj = new dummy();
        var r = constructor.apply(obj, argumentList);
        return r instanceof Object ? r : obj;
      }
      function craftInvokerFunction(humanName, argTypes, classType, cppInvokerFunc, cppTargetFunc) {
        var argCount = argTypes.length;
        if (argCount < 2) {
          throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");
        }
        var isClassMethodFunc = argTypes[1] !== null && classType !== null;
        var needsDestructorStack = false;
        for (var i = 1; i < argTypes.length; ++i) {
          if (argTypes[i] !== null && argTypes[i].destructorFunction === void 0) {
            needsDestructorStack = true;
            break;
          }
        }
        var returns = argTypes[0].name !== "void";
        var argsList = "";
        var argsListWired = "";
        for (var i = 0; i < argCount - 2; ++i) {
          argsList += (i !== 0 ? ", " : "") + "arg" + i;
          argsListWired += (i !== 0 ? ", " : "") + "arg" + i + "Wired";
        }
        var invokerFnBody = "return function " + makeLegalFunctionName(humanName) + "(" + argsList + ") {\nif (arguments.length !== " + (argCount - 2) + ") {\nthrowBindingError('function " + humanName + " called with ' + arguments.length + ' arguments, expected " + (argCount - 2) + " args!');\n}\n";
        if (needsDestructorStack) {
          invokerFnBody += "var destructors = [];\n";
        }
        var dtorStack = needsDestructorStack ? "destructors" : "null";
        var args1 = ["throwBindingError", "invoker", "fn", "runDestructors", "retType", "classParam"];
        var args2 = [throwBindingError, cppInvokerFunc, cppTargetFunc, runDestructors, argTypes[0], argTypes[1]];
        if (isClassMethodFunc) {
          invokerFnBody += "var thisWired = classParam.toWireType(" + dtorStack + ", this);\n";
        }
        for (var i = 0; i < argCount - 2; ++i) {
          invokerFnBody += "var arg" + i + "Wired = argType" + i + ".toWireType(" + dtorStack + ", arg" + i + "); // " + argTypes[i + 2].name + "\n";
          args1.push("argType" + i);
          args2.push(argTypes[i + 2]);
        }
        if (isClassMethodFunc) {
          argsListWired = "thisWired" + (argsListWired.length > 0 ? ", " : "") + argsListWired;
        }
        invokerFnBody += (returns ? "var rv = " : "") + "invoker(fn" + (argsListWired.length > 0 ? ", " : "") + argsListWired + ");\n";
        if (needsDestructorStack) {
          invokerFnBody += "runDestructors(destructors);\n";
        } else {
          for (var i = isClassMethodFunc ? 1 : 2; i < argTypes.length; ++i) {
            var paramName = i === 1 ? "thisWired" : "arg" + (i - 2) + "Wired";
            if (argTypes[i].destructorFunction !== null) {
              invokerFnBody += paramName + "_dtor(" + paramName + "); // " + argTypes[i].name + "\n";
              args1.push(paramName + "_dtor");
              args2.push(argTypes[i].destructorFunction);
            }
          }
        }
        if (returns) {
          invokerFnBody += "var ret = retType.fromWireType(rv);\nreturn ret;\n";
        } else {
        }
        invokerFnBody += "}\n";
        args1.push(invokerFnBody);
        var invokerFunction = new_(Function, args1).apply(null, args2);
        return invokerFunction;
      }
      function __embind_register_class_function(rawClassType, methodName, argCount, rawArgTypesAddr, invokerSignature, rawInvoker, context, isPureVirtual) {
        var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);
        methodName = readLatin1String(methodName);
        rawInvoker = embind__requireFunction(invokerSignature, rawInvoker);
        whenDependentTypesAreResolved([], [rawClassType], function(classType) {
          classType = classType[0];
          var humanName = classType.name + "." + methodName;
          if (methodName.startsWith("@@")) {
            methodName = Symbol[methodName.substring(2)];
          }
          if (isPureVirtual) {
            classType.registeredClass.pureVirtualFunctions.push(methodName);
          }
          function unboundTypesHandler() {
            throwUnboundTypeError("Cannot call " + humanName + " due to unbound types", rawArgTypes);
          }
          var proto = classType.registeredClass.instancePrototype;
          var method = proto[methodName];
          if (void 0 === method || void 0 === method.overloadTable && method.className !== classType.name && method.argCount === argCount - 2) {
            unboundTypesHandler.argCount = argCount - 2;
            unboundTypesHandler.className = classType.name;
            proto[methodName] = unboundTypesHandler;
          } else {
            ensureOverloadTable(proto, methodName, humanName);
            proto[methodName].overloadTable[argCount - 2] = unboundTypesHandler;
          }
          whenDependentTypesAreResolved([], rawArgTypes, function(argTypes) {
            var memberFunction = craftInvokerFunction(humanName, argTypes, classType, rawInvoker, context);
            if (void 0 === proto[methodName].overloadTable) {
              memberFunction.argCount = argCount - 2;
              proto[methodName] = memberFunction;
            } else {
              proto[methodName].overloadTable[argCount - 2] = memberFunction;
            }
            return [];
          });
          return [];
        });
      }
      var emval_free_list = [];
      var emval_handle_array = [{}, { value: void 0 }, { value: null }, { value: true }, { value: false }];
      function __emval_decref(handle) {
        if (handle > 4 && 0 === --emval_handle_array[handle].refcount) {
          emval_handle_array[handle] = void 0;
          emval_free_list.push(handle);
        }
      }
      function count_emval_handles() {
        var count = 0;
        for (var i = 5; i < emval_handle_array.length; ++i) {
          if (emval_handle_array[i] !== void 0) {
            ++count;
          }
        }
        return count;
      }
      function get_first_emval() {
        for (var i = 5; i < emval_handle_array.length; ++i) {
          if (emval_handle_array[i] !== void 0) {
            return emval_handle_array[i];
          }
        }
        return null;
      }
      function init_emval() {
        Module2["count_emval_handles"] = count_emval_handles;
        Module2["get_first_emval"] = get_first_emval;
      }
      var Emval = { toValue: function(handle) {
        if (!handle) {
          throwBindingError("Cannot use deleted val. handle = " + handle);
        }
        return emval_handle_array[handle].value;
      }, toHandle: function(value) {
        switch (value) {
          case void 0: {
            return 1;
          }
          case null: {
            return 2;
          }
          case true: {
            return 3;
          }
          case false: {
            return 4;
          }
          default: {
            var handle = emval_free_list.length ? emval_free_list.pop() : emval_handle_array.length;
            emval_handle_array[handle] = { refcount: 1, value };
            return handle;
          }
        }
      } };
      function __embind_register_emval(rawType, name) {
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": function(handle) {
          var rv = Emval.toValue(handle);
          __emval_decref(handle);
          return rv;
        }, "toWireType": function(destructors, value) {
          return Emval.toHandle(value);
        }, "argPackAdvance": 8, "readValueFromPointer": simpleReadValueFromPointer, destructorFunction: null });
      }
      function enumReadValueFromPointer(name, shift, signed) {
        switch (shift) {
          case 0:
            return function(pointer) {
              var heap = signed ? HEAP8 : HEAPU8;
              return this["fromWireType"](heap[pointer]);
            };
          case 1:
            return function(pointer) {
              var heap = signed ? HEAP16 : HEAPU16;
              return this["fromWireType"](heap[pointer >> 1]);
            };
          case 2:
            return function(pointer) {
              var heap = signed ? HEAP32 : HEAPU32;
              return this["fromWireType"](heap[pointer >> 2]);
            };
          default:
            throw new TypeError("Unknown integer type: " + name);
        }
      }
      function __embind_register_enum(rawType, name, size, isSigned) {
        var shift = getShiftFromSize(size);
        name = readLatin1String(name);
        function ctor() {
        }
        ctor.values = {};
        registerType(rawType, { name, constructor: ctor, "fromWireType": function(c) {
          return this.constructor.values[c];
        }, "toWireType": function(destructors, c) {
          return c.value;
        }, "argPackAdvance": 8, "readValueFromPointer": enumReadValueFromPointer(name, shift, isSigned), destructorFunction: null });
        exposePublicSymbol(name, ctor);
      }
      function requireRegisteredType(rawType, humanName) {
        var impl = registeredTypes[rawType];
        if (void 0 === impl) {
          throwBindingError(humanName + " has unknown type " + getTypeName(rawType));
        }
        return impl;
      }
      function __embind_register_enum_value(rawEnumType, name, enumValue) {
        var enumType = requireRegisteredType(rawEnumType, "enum");
        name = readLatin1String(name);
        var Enum = enumType.constructor;
        var Value = Object.create(enumType.constructor.prototype, { value: { value: enumValue }, constructor: { value: createNamedFunction(enumType.name + "_" + name, function() {
        }) } });
        Enum.values[enumValue] = Value;
        Enum[name] = Value;
      }
      function _embind_repr(v) {
        if (v === null) {
          return "null";
        }
        var t = typeof v;
        if (t === "object" || t === "array" || t === "function") {
          return v.toString();
        } else {
          return "" + v;
        }
      }
      function floatReadValueFromPointer(name, shift) {
        switch (shift) {
          case 2:
            return function(pointer) {
              return this["fromWireType"](HEAPF32[pointer >> 2]);
            };
          case 3:
            return function(pointer) {
              return this["fromWireType"](HEAPF64[pointer >> 3]);
            };
          default:
            throw new TypeError("Unknown float type: " + name);
        }
      }
      function __embind_register_float(rawType, name, size) {
        var shift = getShiftFromSize(size);
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": function(value) {
          return value;
        }, "toWireType": function(destructors, value) {
          return value;
        }, "argPackAdvance": 8, "readValueFromPointer": floatReadValueFromPointer(name, shift), destructorFunction: null });
      }
      function __embind_register_function(name, argCount, rawArgTypesAddr, signature, rawInvoker, fn) {
        var argTypes = heap32VectorToArray(argCount, rawArgTypesAddr);
        name = readLatin1String(name);
        rawInvoker = embind__requireFunction(signature, rawInvoker);
        exposePublicSymbol(name, function() {
          throwUnboundTypeError("Cannot call " + name + " due to unbound types", argTypes);
        }, argCount - 1);
        whenDependentTypesAreResolved([], argTypes, function(argTypes2) {
          var invokerArgsArray = [argTypes2[0], null].concat(argTypes2.slice(1));
          replacePublicSymbol(name, craftInvokerFunction(name, invokerArgsArray, null, rawInvoker, fn), argCount - 1);
          return [];
        });
      }
      function integerReadValueFromPointer(name, shift, signed) {
        switch (shift) {
          case 0:
            return signed ? function readS8FromPointer(pointer) {
              return HEAP8[pointer];
            } : function readU8FromPointer(pointer) {
              return HEAPU8[pointer];
            };
          case 1:
            return signed ? function readS16FromPointer(pointer) {
              return HEAP16[pointer >> 1];
            } : function readU16FromPointer(pointer) {
              return HEAPU16[pointer >> 1];
            };
          case 2:
            return signed ? function readS32FromPointer(pointer) {
              return HEAP32[pointer >> 2];
            } : function readU32FromPointer(pointer) {
              return HEAPU32[pointer >> 2];
            };
          default:
            throw new TypeError("Unknown integer type: " + name);
        }
      }
      function __embind_register_integer(primitiveType, name, size, minRange, maxRange) {
        name = readLatin1String(name);
        if (maxRange === -1) {
          maxRange = 4294967295;
        }
        var shift = getShiftFromSize(size);
        var fromWireType = function(value) {
          return value;
        };
        if (minRange === 0) {
          var bitshift = 32 - 8 * size;
          fromWireType = function(value) {
            return value << bitshift >>> bitshift;
          };
        }
        var isUnsignedType = name.includes("unsigned");
        registerType(primitiveType, { name, "fromWireType": fromWireType, "toWireType": function(destructors, value) {
          if (typeof value !== "number" && typeof value !== "boolean") {
            throw new TypeError('Cannot convert "' + _embind_repr(value) + '" to ' + this.name);
          }
          if (value < minRange || value > maxRange) {
            throw new TypeError('Passing a number "' + _embind_repr(value) + '" from JS side to C/C++ side to an argument of type "' + name + '", which is outside the valid range [' + minRange + ", " + maxRange + "]!");
          }
          return isUnsignedType ? value >>> 0 : value | 0;
        }, "argPackAdvance": 8, "readValueFromPointer": integerReadValueFromPointer(name, shift, minRange !== 0), destructorFunction: null });
      }
      function __embind_register_memory_view(rawType, dataTypeIndex, name) {
        var typeMapping = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array];
        var TA = typeMapping[dataTypeIndex];
        function decodeMemoryView(handle) {
          handle = handle >> 2;
          var heap = HEAPU32;
          var size = heap[handle];
          var data = heap[handle + 1];
          return new TA(buffer, data, size);
        }
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": decodeMemoryView, "argPackAdvance": 8, "readValueFromPointer": decodeMemoryView }, { ignoreDuplicateRegistrations: true });
      }
      function __embind_register_std_string(rawType, name) {
        name = readLatin1String(name);
        var stdStringIsUTF8 = name === "std::string";
        registerType(rawType, { name, "fromWireType": function(value) {
          var length = HEAPU32[value >> 2];
          var str;
          if (stdStringIsUTF8) {
            var decodeStartPtr = value + 4;
            for (var i = 0; i <= length; ++i) {
              var currentBytePtr = value + 4 + i;
              if (i == length || HEAPU8[currentBytePtr] == 0) {
                var maxRead = currentBytePtr - decodeStartPtr;
                var stringSegment = UTF8ToString(decodeStartPtr, maxRead);
                if (str === void 0) {
                  str = stringSegment;
                } else {
                  str += String.fromCharCode(0);
                  str += stringSegment;
                }
                decodeStartPtr = currentBytePtr + 1;
              }
            }
          } else {
            var a = new Array(length);
            for (var i = 0; i < length; ++i) {
              a[i] = String.fromCharCode(HEAPU8[value + 4 + i]);
            }
            str = a.join("");
          }
          _free(value);
          return str;
        }, "toWireType": function(destructors, value) {
          if (value instanceof ArrayBuffer) {
            value = new Uint8Array(value);
          }
          var getLength;
          var valueIsOfTypeString = typeof value === "string";
          if (!(valueIsOfTypeString || value instanceof Uint8Array || value instanceof Uint8ClampedArray || value instanceof Int8Array)) {
            throwBindingError("Cannot pass non-string to std::string");
          }
          if (stdStringIsUTF8 && valueIsOfTypeString) {
            getLength = function() {
              return lengthBytesUTF8(value);
            };
          } else {
            getLength = function() {
              return value.length;
            };
          }
          var length = getLength();
          var ptr = _malloc(4 + length + 1);
          HEAPU32[ptr >> 2] = length;
          if (stdStringIsUTF8 && valueIsOfTypeString) {
            stringToUTF8(value, ptr + 4, length + 1);
          } else {
            if (valueIsOfTypeString) {
              for (var i = 0; i < length; ++i) {
                var charCode = value.charCodeAt(i);
                if (charCode > 255) {
                  _free(ptr);
                  throwBindingError("String has UTF-16 code units that do not fit in 8 bits");
                }
                HEAPU8[ptr + 4 + i] = charCode;
              }
            } else {
              for (var i = 0; i < length; ++i) {
                HEAPU8[ptr + 4 + i] = value[i];
              }
            }
          }
          if (destructors !== null) {
            destructors.push(_free, ptr);
          }
          return ptr;
        }, "argPackAdvance": 8, "readValueFromPointer": simpleReadValueFromPointer, destructorFunction: function(ptr) {
          _free(ptr);
        } });
      }
      function __embind_register_std_wstring(rawType, charSize, name) {
        name = readLatin1String(name);
        var decodeString, encodeString, getHeap, lengthBytesUTF, shift;
        if (charSize === 2) {
          decodeString = UTF16ToString;
          encodeString = stringToUTF16;
          lengthBytesUTF = lengthBytesUTF16;
          getHeap = function() {
            return HEAPU16;
          };
          shift = 1;
        } else if (charSize === 4) {
          decodeString = UTF32ToString;
          encodeString = stringToUTF32;
          lengthBytesUTF = lengthBytesUTF32;
          getHeap = function() {
            return HEAPU32;
          };
          shift = 2;
        }
        registerType(rawType, { name, "fromWireType": function(value) {
          var length = HEAPU32[value >> 2];
          var HEAP = getHeap();
          var str;
          var decodeStartPtr = value + 4;
          for (var i = 0; i <= length; ++i) {
            var currentBytePtr = value + 4 + i * charSize;
            if (i == length || HEAP[currentBytePtr >> shift] == 0) {
              var maxReadBytes = currentBytePtr - decodeStartPtr;
              var stringSegment = decodeString(decodeStartPtr, maxReadBytes);
              if (str === void 0) {
                str = stringSegment;
              } else {
                str += String.fromCharCode(0);
                str += stringSegment;
              }
              decodeStartPtr = currentBytePtr + charSize;
            }
          }
          _free(value);
          return str;
        }, "toWireType": function(destructors, value) {
          if (!(typeof value === "string")) {
            throwBindingError("Cannot pass non-string to C++ string type " + name);
          }
          var length = lengthBytesUTF(value);
          var ptr = _malloc(4 + length + charSize);
          HEAPU32[ptr >> 2] = length >> shift;
          encodeString(value, ptr + 4, length + charSize);
          if (destructors !== null) {
            destructors.push(_free, ptr);
          }
          return ptr;
        }, "argPackAdvance": 8, "readValueFromPointer": simpleReadValueFromPointer, destructorFunction: function(ptr) {
          _free(ptr);
        } });
      }
      function __embind_register_void(rawType, name) {
        name = readLatin1String(name);
        registerType(rawType, { isVoid: true, name, "argPackAdvance": 0, "fromWireType": function() {
          return void 0;
        }, "toWireType": function(destructors, o) {
          return void 0;
        } });
      }
      function _abort() {
        abort("");
      }
      var _emscripten_get_now;
      _emscripten_get_now = function() {
        return performance.now();
      };
      var _emscripten_get_now_is_monotonic = true;
      function _clock_gettime(clk_id, tp) {
        var now;
        if (clk_id === 0) {
          now = Date.now();
        } else if ((clk_id === 1 || clk_id === 4) && _emscripten_get_now_is_monotonic) {
          now = _emscripten_get_now();
        } else {
          setErrNo(28);
          return -1;
        }
        HEAP32[tp >> 2] = now / 1e3 | 0;
        HEAP32[tp + 4 >> 2] = now % 1e3 * 1e3 * 1e3 | 0;
        return 0;
      }
      function _emscripten_memcpy_big(dest, src, num) {
        HEAPU8.copyWithin(dest, src, src + num);
      }
      function emscripten_realloc_buffer(size) {
        try {
          wasmMemory.grow(size - buffer.byteLength + 65535 >>> 16);
          updateGlobalBufferAndViews(wasmMemory.buffer);
          return 1;
        } catch (e) {
        }
      }
      function _emscripten_resize_heap(requestedSize) {
        var oldSize = HEAPU8.length;
        requestedSize = requestedSize >>> 0;
        var maxHeapSize = 1073741824;
        if (requestedSize > maxHeapSize) {
          return false;
        }
        for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {
          var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);
          overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);
          var newSize = Math.min(maxHeapSize, alignUp(Math.max(requestedSize, overGrownHeapSize), 65536));
          var replacement = emscripten_realloc_buffer(newSize);
          if (replacement) {
            return true;
          }
        }
        return false;
      }
      var ENV = {};
      function getExecutableName() {
        return thisProgram || "./this.program";
      }
      function getEnvStrings() {
        if (!getEnvStrings.strings) {
          var lang = (typeof navigator === "object" && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8";
          var env = { "USER": "web_user", "LOGNAME": "web_user", "PATH": "/", "PWD": "/", "HOME": "/home/web_user", "LANG": lang, "_": getExecutableName() };
          for (var x in ENV) {
            if (ENV[x] === void 0)
              delete env[x];
            else
              env[x] = ENV[x];
          }
          var strings = [];
          for (var x in env) {
            strings.push(x + "=" + env[x]);
          }
          getEnvStrings.strings = strings;
        }
        return getEnvStrings.strings;
      }
      function _environ_get(__environ, environ_buf) {
        var bufSize = 0;
        getEnvStrings().forEach(function(string, i) {
          var ptr = environ_buf + bufSize;
          HEAP32[__environ + i * 4 >> 2] = ptr;
          writeAsciiToMemory(string, ptr);
          bufSize += string.length + 1;
        });
        return 0;
      }
      function _environ_sizes_get(penviron_count, penviron_buf_size) {
        var strings = getEnvStrings();
        HEAP32[penviron_count >> 2] = strings.length;
        var bufSize = 0;
        strings.forEach(function(string) {
          bufSize += string.length + 1;
        });
        HEAP32[penviron_buf_size >> 2] = bufSize;
        return 0;
      }
      function _exit(status) {
        exit(status);
      }
      function _fd_close(fd) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          FS.close(stream);
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _fd_read(fd, iov, iovcnt, pnum) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          var num = SYSCALLS.doReadv(stream, iov, iovcnt);
          HEAP32[pnum >> 2] = num;
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          var HIGH_OFFSET = 4294967296;
          var offset = offset_high * HIGH_OFFSET + (offset_low >>> 0);
          var DOUBLE_LIMIT = 9007199254740992;
          if (offset <= -DOUBLE_LIMIT || offset >= DOUBLE_LIMIT) {
            return -61;
          }
          FS.llseek(stream, offset, whence);
          tempI64 = [stream.position >>> 0, (tempDouble = stream.position, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math.min(+Math.floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[newOffset >> 2] = tempI64[0], HEAP32[newOffset + 4 >> 2] = tempI64[1];
          if (stream.getdents && offset === 0 && whence === 0)
            stream.getdents = null;
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _fd_write(fd, iov, iovcnt, pnum) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          var num = SYSCALLS.doWritev(stream, iov, iovcnt);
          HEAP32[pnum >> 2] = num;
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _setTempRet0(val) {
        setTempRet0(val);
      }
      function __isLeapYear(year) {
        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
      }
      function __arraySum(array2, index) {
        var sum = 0;
        for (var i = 0; i <= index; sum += array2[i++]) {
        }
        return sum;
      }
      var __MONTH_DAYS_LEAP = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      var __MONTH_DAYS_REGULAR = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      function __addDays(date, days) {
        var newDate = new Date(date.getTime());
        while (days > 0) {
          var leap = __isLeapYear(newDate.getFullYear());
          var currentMonth = newDate.getMonth();
          var daysInCurrentMonth = (leap ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR)[currentMonth];
          if (days > daysInCurrentMonth - newDate.getDate()) {
            days -= daysInCurrentMonth - newDate.getDate() + 1;
            newDate.setDate(1);
            if (currentMonth < 11) {
              newDate.setMonth(currentMonth + 1);
            } else {
              newDate.setMonth(0);
              newDate.setFullYear(newDate.getFullYear() + 1);
            }
          } else {
            newDate.setDate(newDate.getDate() + days);
            return newDate;
          }
        }
        return newDate;
      }
      function _strftime(s, maxsize, format, tm) {
        var tm_zone = HEAP32[tm + 40 >> 2];
        var date = { tm_sec: HEAP32[tm >> 2], tm_min: HEAP32[tm + 4 >> 2], tm_hour: HEAP32[tm + 8 >> 2], tm_mday: HEAP32[tm + 12 >> 2], tm_mon: HEAP32[tm + 16 >> 2], tm_year: HEAP32[tm + 20 >> 2], tm_wday: HEAP32[tm + 24 >> 2], tm_yday: HEAP32[tm + 28 >> 2], tm_isdst: HEAP32[tm + 32 >> 2], tm_gmtoff: HEAP32[tm + 36 >> 2], tm_zone: tm_zone ? UTF8ToString(tm_zone) : "" };
        var pattern = UTF8ToString(format);
        var EXPANSION_RULES_1 = { "%c": "%a %b %d %H:%M:%S %Y", "%D": "%m/%d/%y", "%F": "%Y-%m-%d", "%h": "%b", "%r": "%I:%M:%S %p", "%R": "%H:%M", "%T": "%H:%M:%S", "%x": "%m/%d/%y", "%X": "%H:%M:%S", "%Ec": "%c", "%EC": "%C", "%Ex": "%m/%d/%y", "%EX": "%H:%M:%S", "%Ey": "%y", "%EY": "%Y", "%Od": "%d", "%Oe": "%e", "%OH": "%H", "%OI": "%I", "%Om": "%m", "%OM": "%M", "%OS": "%S", "%Ou": "%u", "%OU": "%U", "%OV": "%V", "%Ow": "%w", "%OW": "%W", "%Oy": "%y" };
        for (var rule in EXPANSION_RULES_1) {
          pattern = pattern.replace(new RegExp(rule, "g"), EXPANSION_RULES_1[rule]);
        }
        var WEEKDAYS = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        var MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        function leadingSomething(value, digits, character) {
          var str = typeof value === "number" ? value.toString() : value || "";
          while (str.length < digits) {
            str = character[0] + str;
          }
          return str;
        }
        function leadingNulls(value, digits) {
          return leadingSomething(value, digits, "0");
        }
        function compareByDay(date1, date2) {
          function sgn(value) {
            return value < 0 ? -1 : value > 0 ? 1 : 0;
          }
          var compare;
          if ((compare = sgn(date1.getFullYear() - date2.getFullYear())) === 0) {
            if ((compare = sgn(date1.getMonth() - date2.getMonth())) === 0) {
              compare = sgn(date1.getDate() - date2.getDate());
            }
          }
          return compare;
        }
        function getFirstWeekStartDate(janFourth) {
          switch (janFourth.getDay()) {
            case 0:
              return new Date(janFourth.getFullYear() - 1, 11, 29);
            case 1:
              return janFourth;
            case 2:
              return new Date(janFourth.getFullYear(), 0, 3);
            case 3:
              return new Date(janFourth.getFullYear(), 0, 2);
            case 4:
              return new Date(janFourth.getFullYear(), 0, 1);
            case 5:
              return new Date(janFourth.getFullYear() - 1, 11, 31);
            case 6:
              return new Date(janFourth.getFullYear() - 1, 11, 30);
          }
        }
        function getWeekBasedYear(date2) {
          var thisDate = __addDays(new Date(date2.tm_year + 1900, 0, 1), date2.tm_yday);
          var janFourthThisYear = new Date(thisDate.getFullYear(), 0, 4);
          var janFourthNextYear = new Date(thisDate.getFullYear() + 1, 0, 4);
          var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);
          var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);
          if (compareByDay(firstWeekStartThisYear, thisDate) <= 0) {
            if (compareByDay(firstWeekStartNextYear, thisDate) <= 0) {
              return thisDate.getFullYear() + 1;
            } else {
              return thisDate.getFullYear();
            }
          } else {
            return thisDate.getFullYear() - 1;
          }
        }
        var EXPANSION_RULES_2 = { "%a": function(date2) {
          return WEEKDAYS[date2.tm_wday].substring(0, 3);
        }, "%A": function(date2) {
          return WEEKDAYS[date2.tm_wday];
        }, "%b": function(date2) {
          return MONTHS[date2.tm_mon].substring(0, 3);
        }, "%B": function(date2) {
          return MONTHS[date2.tm_mon];
        }, "%C": function(date2) {
          var year = date2.tm_year + 1900;
          return leadingNulls(year / 100 | 0, 2);
        }, "%d": function(date2) {
          return leadingNulls(date2.tm_mday, 2);
        }, "%e": function(date2) {
          return leadingSomething(date2.tm_mday, 2, " ");
        }, "%g": function(date2) {
          return getWeekBasedYear(date2).toString().substring(2);
        }, "%G": function(date2) {
          return getWeekBasedYear(date2);
        }, "%H": function(date2) {
          return leadingNulls(date2.tm_hour, 2);
        }, "%I": function(date2) {
          var twelveHour = date2.tm_hour;
          if (twelveHour == 0)
            twelveHour = 12;
          else if (twelveHour > 12)
            twelveHour -= 12;
          return leadingNulls(twelveHour, 2);
        }, "%j": function(date2) {
          return leadingNulls(date2.tm_mday + __arraySum(__isLeapYear(date2.tm_year + 1900) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, date2.tm_mon - 1), 3);
        }, "%m": function(date2) {
          return leadingNulls(date2.tm_mon + 1, 2);
        }, "%M": function(date2) {
          return leadingNulls(date2.tm_min, 2);
        }, "%n": function() {
          return "\n";
        }, "%p": function(date2) {
          if (date2.tm_hour >= 0 && date2.tm_hour < 12) {
            return "AM";
          } else {
            return "PM";
          }
        }, "%S": function(date2) {
          return leadingNulls(date2.tm_sec, 2);
        }, "%t": function() {
          return "	";
        }, "%u": function(date2) {
          return date2.tm_wday || 7;
        }, "%U": function(date2) {
          var janFirst = new Date(date2.tm_year + 1900, 0, 1);
          var firstSunday = janFirst.getDay() === 0 ? janFirst : __addDays(janFirst, 7 - janFirst.getDay());
          var endDate = new Date(date2.tm_year + 1900, date2.tm_mon, date2.tm_mday);
          if (compareByDay(firstSunday, endDate) < 0) {
            var februaryFirstUntilEndMonth = __arraySum(__isLeapYear(endDate.getFullYear()) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, endDate.getMonth() - 1) - 31;
            var firstSundayUntilEndJanuary = 31 - firstSunday.getDate();
            var days = firstSundayUntilEndJanuary + februaryFirstUntilEndMonth + endDate.getDate();
            return leadingNulls(Math.ceil(days / 7), 2);
          }
          return compareByDay(firstSunday, janFirst) === 0 ? "01" : "00";
        }, "%V": function(date2) {
          var janFourthThisYear = new Date(date2.tm_year + 1900, 0, 4);
          var janFourthNextYear = new Date(date2.tm_year + 1901, 0, 4);
          var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);
          var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);
          var endDate = __addDays(new Date(date2.tm_year + 1900, 0, 1), date2.tm_yday);
          if (compareByDay(endDate, firstWeekStartThisYear) < 0) {
            return "53";
          }
          if (compareByDay(firstWeekStartNextYear, endDate) <= 0) {
            return "01";
          }
          var daysDifference;
          if (firstWeekStartThisYear.getFullYear() < date2.tm_year + 1900) {
            daysDifference = date2.tm_yday + 32 - firstWeekStartThisYear.getDate();
          } else {
            daysDifference = date2.tm_yday + 1 - firstWeekStartThisYear.getDate();
          }
          return leadingNulls(Math.ceil(daysDifference / 7), 2);
        }, "%w": function(date2) {
          return date2.tm_wday;
        }, "%W": function(date2) {
          var janFirst = new Date(date2.tm_year, 0, 1);
          var firstMonday = janFirst.getDay() === 1 ? janFirst : __addDays(janFirst, janFirst.getDay() === 0 ? 1 : 7 - janFirst.getDay() + 1);
          var endDate = new Date(date2.tm_year + 1900, date2.tm_mon, date2.tm_mday);
          if (compareByDay(firstMonday, endDate) < 0) {
            var februaryFirstUntilEndMonth = __arraySum(__isLeapYear(endDate.getFullYear()) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, endDate.getMonth() - 1) - 31;
            var firstMondayUntilEndJanuary = 31 - firstMonday.getDate();
            var days = firstMondayUntilEndJanuary + februaryFirstUntilEndMonth + endDate.getDate();
            return leadingNulls(Math.ceil(days / 7), 2);
          }
          return compareByDay(firstMonday, janFirst) === 0 ? "01" : "00";
        }, "%y": function(date2) {
          return (date2.tm_year + 1900).toString().substring(2);
        }, "%Y": function(date2) {
          return date2.tm_year + 1900;
        }, "%z": function(date2) {
          var off = date2.tm_gmtoff;
          var ahead = off >= 0;
          off = Math.abs(off) / 60;
          off = off / 60 * 100 + off % 60;
          return (ahead ? "+" : "-") + String("0000" + off).slice(-4);
        }, "%Z": function(date2) {
          return date2.tm_zone;
        }, "%%": function() {
          return "%";
        } };
        for (var rule in EXPANSION_RULES_2) {
          if (pattern.includes(rule)) {
            pattern = pattern.replace(new RegExp(rule, "g"), EXPANSION_RULES_2[rule](date));
          }
        }
        var bytes = intArrayFromString(pattern, false);
        if (bytes.length > maxsize) {
          return 0;
        }
        writeArrayToMemory(bytes, s);
        return bytes.length - 1;
      }
      function _strftime_l(s, maxsize, format, tm) {
        return _strftime(s, maxsize, format, tm);
      }
      var FSNode = function(parent, name, mode, rdev) {
        if (!parent) {
          parent = this;
        }
        this.parent = parent;
        this.mount = parent.mount;
        this.mounted = null;
        this.id = FS.nextInode++;
        this.name = name;
        this.mode = mode;
        this.node_ops = {};
        this.stream_ops = {};
        this.rdev = rdev;
      };
      var readMode = 292 | 73;
      var writeMode = 146;
      Object.defineProperties(FSNode.prototype, { read: { get: function() {
        return (this.mode & readMode) === readMode;
      }, set: function(val) {
        val ? this.mode |= readMode : this.mode &= ~readMode;
      } }, write: { get: function() {
        return (this.mode & writeMode) === writeMode;
      }, set: function(val) {
        val ? this.mode |= writeMode : this.mode &= ~writeMode;
      } }, isFolder: { get: function() {
        return FS.isDir(this.mode);
      } }, isDevice: { get: function() {
        return FS.isChrdev(this.mode);
      } } });
      FS.FSNode = FSNode;
      FS.staticInit();
      embind_init_charCodes();
      BindingError = Module2["BindingError"] = extendError(Error, "BindingError");
      InternalError = Module2["InternalError"] = extendError(Error, "InternalError");
      init_ClassHandle();
      init_RegisteredPointer();
      init_embind();
      UnboundTypeError = Module2["UnboundTypeError"] = extendError(Error, "UnboundTypeError");
      init_emval();
      function intArrayFromString(stringy, dontAddNull, length) {
        var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;
        var u8array = new Array(len);
        var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);
        if (dontAddNull)
          u8array.length = numBytesWritten;
        return u8array;
      }
      var asmLibraryArg = { "l": ___cxa_allocate_exception, "k": ___cxa_throw, "m": ___syscall_fcntl64, "H": ___syscall_fstat64, "F": ___syscall_fstatat64, "A": ___syscall_ioctl, "J": ___syscall_mmap2, "I": ___syscall_munmap, "p": ___syscall_open, "G": ___syscall_stat64, "v": __embind_register_bigint, "L": __embind_register_bool, "s": __embind_register_class, "h": __embind_register_class_constructor, "a": __embind_register_class_function, "K": __embind_register_emval, "n": __embind_register_enum, "b": __embind_register_enum_value, "q": __embind_register_float, "c": __embind_register_function, "e": __embind_register_integer, "d": __embind_register_memory_view, "r": __embind_register_std_string, "j": __embind_register_std_wstring, "t": __embind_register_void, "g": _abort, "C": _clock_gettime, "x": _emscripten_memcpy_big, "y": _emscripten_resize_heap, "D": _environ_get, "E": _environ_sizes_get, "f": _exit, "i": _fd_close, "B": _fd_read, "u": _fd_seek, "o": _fd_write, "w": _setTempRet0, "z": _strftime_l };
      var asm = createWasm();
      var ___wasm_call_ctors = Module2["___wasm_call_ctors"] = function() {
        return (___wasm_call_ctors = Module2["___wasm_call_ctors"] = Module2["asm"]["N"]).apply(null, arguments);
      };
      var _malloc = Module2["_malloc"] = function() {
        return (_malloc = Module2["_malloc"] = Module2["asm"]["O"]).apply(null, arguments);
      };
      var _free = Module2["_free"] = function() {
        return (_free = Module2["_free"] = Module2["asm"]["Q"]).apply(null, arguments);
      };
      var ___getTypeName = Module2["___getTypeName"] = function() {
        return (___getTypeName = Module2["___getTypeName"] = Module2["asm"]["R"]).apply(null, arguments);
      };
      var ___embind_register_native_and_builtin_types = Module2["___embind_register_native_and_builtin_types"] = function() {
        return (___embind_register_native_and_builtin_types = Module2["___embind_register_native_and_builtin_types"] = Module2["asm"]["S"]).apply(null, arguments);
      };
      var ___errno_location = Module2["___errno_location"] = function() {
        return (___errno_location = Module2["___errno_location"] = Module2["asm"]["T"]).apply(null, arguments);
      };
      var _memalign = Module2["_memalign"] = function() {
        return (_memalign = Module2["_memalign"] = Module2["asm"]["U"]).apply(null, arguments);
      };
      var dynCall_viijii = Module2["dynCall_viijii"] = function() {
        return (dynCall_viijii = Module2["dynCall_viijii"] = Module2["asm"]["V"]).apply(null, arguments);
      };
      var dynCall_jiji = Module2["dynCall_jiji"] = function() {
        return (dynCall_jiji = Module2["dynCall_jiji"] = Module2["asm"]["W"]).apply(null, arguments);
      };
      var dynCall_iiiiij = Module2["dynCall_iiiiij"] = function() {
        return (dynCall_iiiiij = Module2["dynCall_iiiiij"] = Module2["asm"]["X"]).apply(null, arguments);
      };
      var dynCall_iiiiijj = Module2["dynCall_iiiiijj"] = function() {
        return (dynCall_iiiiijj = Module2["dynCall_iiiiijj"] = Module2["asm"]["Y"]).apply(null, arguments);
      };
      var dynCall_iiiiiijj = Module2["dynCall_iiiiiijj"] = function() {
        return (dynCall_iiiiiijj = Module2["dynCall_iiiiiijj"] = Module2["asm"]["Z"]).apply(null, arguments);
      };
      var calledRun;
      function ExitStatus(status) {
        this.name = "ExitStatus";
        this.message = "Program terminated with exit(" + status + ")";
        this.status = status;
      }
      dependenciesFulfilled = function runCaller() {
        if (!calledRun)
          run();
        if (!calledRun)
          dependenciesFulfilled = runCaller;
      };
      function run(args) {
        args = args || arguments_;
        if (runDependencies > 0) {
          return;
        }
        preRun();
        if (runDependencies > 0) {
          return;
        }
        function doRun() {
          if (calledRun)
            return;
          calledRun = true;
          Module2["calledRun"] = true;
          if (ABORT)
            return;
          initRuntime();
          readyPromiseResolve(Module2);
          if (Module2["onRuntimeInitialized"])
            Module2["onRuntimeInitialized"]();
          postRun();
        }
        if (Module2["setStatus"]) {
          Module2["setStatus"]("Running...");
          setTimeout(function() {
            setTimeout(function() {
              Module2["setStatus"]("");
            }, 1);
            doRun();
          }, 1);
        } else {
          doRun();
        }
      }
      Module2["run"] = run;
      function exit(status, implicit) {
        EXITSTATUS = status;
        if (keepRuntimeAlive()) {
        } else {
          exitRuntime();
        }
        procExit(status);
      }
      function procExit(code) {
        EXITSTATUS = code;
        if (!keepRuntimeAlive()) {
          if (Module2["onExit"])
            Module2["onExit"](code);
          ABORT = true;
        }
        quit_(code, new ExitStatus(code));
      }
      if (Module2["preInit"]) {
        if (typeof Module2["preInit"] == "function")
          Module2["preInit"] = [Module2["preInit"]];
        while (Module2["preInit"].length > 0) {
          Module2["preInit"].pop()();
        }
      }
      run();
      return Module2.ready;
    };
  }();
  var ffish_default = Module;

  // client/boardSettings.ts
  var BoardSettings = class {
    constructor() {
      this.settings = {};
      this.settings["animation"] = new AnimationSettings(this);
      this.settings["showDests"] = new ShowDestsSettings(this);
      this.settings["autoPromote"] = new AutoPromoteSettings(this);
      this.settings["arrow"] = new ArrowSettings(this);
      this.settings["multipv"] = new MultiPVSettings(this);
      this.settings["blindfold"] = new BlindfoldSettings(this);
      this.settings["materialDifference"] = new MaterialDifferenceSettings(this);
    }
    getSettings(settingsType, family) {
      const fullName = family + settingsType;
      if (!this.settings[fullName]) {
        switch (settingsType) {
          case "BoardStyle":
            this.settings[fullName] = new BoardStyleSettings(this, family);
            break;
          case "PieceStyle":
            this.settings[fullName] = new PieceStyleSettings(this, family);
            break;
          case "Zoom":
            this.settings[fullName] = new ZoomSettings(this, family);
            break;
          case "Nnue":
            this.settings[fullName] = new NnueSettings(this, family);
            break;
          default:
            throw "Unknown settings type " + settingsType;
        }
      }
      return this.settings[fullName];
    }
    updateBoardAndPieceStyles() {
      Object.keys(BOARD_FAMILIES).forEach((family) => this.updateBoardStyle(family));
      Object.keys(PIECE_FAMILIES).forEach((family) => this.updatePieceStyle(family));
    }
    updateBoardStyle(family) {
      const idx = this.getSettings("BoardStyle", family).value;
      const board = BOARD_FAMILIES[family].boardCSS[idx];
      changeBoardCSS(this.assetURL, family, board);
    }
    updatePieceStyle(family) {
      const idx = this.getSettings("PieceStyle", family).value;
      let css = PIECE_FAMILIES[family].pieceCSS[idx];
      changePieceCSS(this.assetURL, family, css);
      this.updateDropSuggestion();
    }
    updateDropSuggestion() {
      if (this.ctrl && this.ctrl.hasPockets) {
        const chessground = this.ctrl.chessground;
        const el = document.querySelector("svg image");
        if (el) {
          chessground.redrawAll();
        }
      }
    }
    updateZoom(family) {
      var _a2;
      const variant2 = (_a2 = this.ctrl) == null ? void 0 : _a2.variant;
      if (variant2 && variant2.boardFamily === family) {
        const zoomSettings = this.getSettings("Zoom", family);
        const zoom = zoomSettings.value;
        const el = document.querySelector(".cg-wrap:not(.pocket)");
        if (el) {
          document.body.setAttribute("style", "--zoom:" + zoom);
          document.body.dispatchEvent(new Event("chessground.resize"));
          if ("chartFunctions" in this.ctrl && this.ctrl.chartFunctions) {
            this.ctrl.chartFunctions.forEach((func) => {
              func(this.ctrl);
            });
          }
        }
      }
    }
    updateBlindfold() {
      this.settings["blindfold"].update();
    }
    view(variantName) {
      var _a2, _b;
      if (!variantName)
        return h("div#board-settings");
      const variant2 = VARIANTS[variantName];
      const settingsList = [];
      const boardFamily = VARIANTS[variantName].boardFamily;
      const pieceFamily = VARIANTS[variantName].pieceFamily;
      settingsList.push(this.settings["animation"].view());
      settingsList.push(this.settings["showDests"].view());
      if (variant2.promotion.autoPromoteable)
        settingsList.push(this.settings["autoPromote"].view());
      settingsList.push(this.settings["arrow"].view());
      settingsList.push(this.settings["multipv"].view());
      if (variantName === ((_a2 = this.ctrl) == null ? void 0 : _a2.variant.name))
        settingsList.push(this.getSettings("Nnue", variantName).view());
      settingsList.push(this.settings["blindfold"].view());
      settingsList.push(this.settings["materialDifference"].view());
      if (variantName === ((_b = this.ctrl) == null ? void 0 : _b.variant.name))
        settingsList.push(this.getSettings("Zoom", boardFamily).view());
      settingsList.push(
        h("div#style-settings", [
          this.getSettings("BoardStyle", boardFamily).view(),
          this.getSettings("PieceStyle", pieceFamily).view()
        ])
      );
      settingsList.push();
      return h("div#board-settings", settingsList);
    }
  };
  var AnimationSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("animation", true);
      this.boardSettings = boardSettings2;
    }
    update() {
      var _a2;
      (_a2 = this.boardSettings.ctrl) == null ? void 0 : _a2.chessground.set({ animation: { enabled: this.value } });
    }
    view() {
      return h("div", checkbox(this, "animation", _("Piece animation")));
    }
  };
  var BoardStyleSettings = class extends NumberSettings {
    constructor(boardSettings2, boardFamily) {
      super(boardFamily + "-board", 0);
      this.boardSettings = boardSettings2;
      this.boardFamily = boardFamily;
    }
    update() {
      this.boardSettings.updateBoardStyle(this.boardFamily);
    }
    view() {
      const vboard = this.value;
      const boards = [];
      const boardCSS = BOARD_FAMILIES[this.boardFamily].boardCSS;
      for (let i = 0; i < boardCSS.length; i++) {
        boards.push(h("input#board" + i, {
          on: { change: (evt) => this.value = Number(evt.target.value) },
          props: { type: "radio", name: "board", value: i },
          attrs: { checked: vboard === i }
        }));
        boards.push(h("label.board.board" + i + "." + this.boardFamily, {
          attrs: { for: "board" + i },
          style: { backgroundImage: `url('/static/images/board/${boardCSS[i]}')` }
        }, ""));
      }
      return h("settings-board", boards);
    }
  };
  var PieceStyleSettings = class extends NumberSettings {
    constructor(boardSettings2, pieceFamily) {
      super(pieceFamily + "-piece", 0);
      this.boardSettings = boardSettings2;
      this.pieceFamily = pieceFamily;
    }
    update() {
      this.boardSettings.updatePieceStyle(this.pieceFamily);
    }
    view() {
      const vpiece = this.value;
      const pieces = [];
      const pieceCSS = PIECE_FAMILIES[this.pieceFamily].pieceCSS;
      for (let i = 0; i < pieceCSS.length; i++) {
        pieces.push(h("input#piece" + i, {
          on: { change: (e) => this.value = Number(e.target.value) },
          props: { type: "radio", name: "piece", value: i },
          attrs: { checked: vpiece === i }
        }));
        pieces.push(h("label.piece.piece" + i + "." + this.pieceFamily, { attrs: { for: "piece" + i } }, ""));
      }
      return h("settings-pieces", pieces);
    }
  };
  var ZoomSettings = class extends NumberSettings {
    constructor(boardSettings2, boardFamily) {
      super(boardFamily + "-zoom", 80);
      this.boardSettings = boardSettings2;
      this.boardFamily = boardFamily;
    }
    update() {
      this.boardSettings.updateZoom(this.boardFamily);
    }
    view() {
      return h("div", slider(this, "zoom", 0, 100, this.boardFamily.includes("shogi") ? 1 : 1.15625, _("Zoom")));
    }
  };
  var ShowDestsSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("showDests", true);
      this.boardSettings = boardSettings2;
    }
    update() {
      var _a2;
      (_a2 = this.boardSettings.ctrl) == null ? void 0 : _a2.chessground.set({
        movable: {
          showDests: this.value
        }
      });
    }
    view() {
      return h("div", checkbox(this, "showDests", _("Show piece destinations")));
    }
  };
  var AutoPromoteSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("autoPromote", false);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("autoPromote" in ctrl)
        ctrl.autoPromote = this.value;
    }
    view() {
      return h("div", checkbox(this, "autoPromote", _("Promote to the top choice automatically")));
    }
  };
  var ArrowSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("arrow", true);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("arrow" in ctrl)
        ctrl.arrow = this.value;
    }
    view() {
      return h("div", checkbox(this, "arrow", _("Best move arrow in analysis board")));
    }
  };
  var MultiPVSettings = class extends NumberSettings {
    constructor(boardSettings2) {
      super("multipv", 1);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("multipv" in ctrl)
        ctrl.multipv = this.value;
      ctrl.pvboxIni();
    }
    view() {
      return h("div", slider(this, "multipv", 1, 5, 1, _("MultiPV")));
    }
  };
  var NnueSettings = class extends StringSettings {
    constructor(boardSettings2, variant2) {
      super(variant2 + "-nnue", "");
      this.boardSettings = boardSettings2;
      this.variant = variant2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("evalFile" in ctrl)
        ctrl.evalFile = this.value;
      ctrl.nnueIni();
    }
    view() {
      return h("div", nnueFile(this, "evalFile", "NNUE", this.variant));
    }
  };
  var BlindfoldSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("blindfold", false);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("blindfold" in ctrl)
        ctrl.blindfold = this.value;
      const el = document.getElementById("mainboard");
      if (el) {
        if (this.value) {
          el.classList.add("blindfold");
        } else {
          el.classList.remove("blindfold");
        }
      }
    }
    view() {
      return h("div", checkbox(this, "blindfold", _("Invisible pieces")));
    }
  };
  var MaterialDifferenceSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("materialDifference", false);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("materialDifference" in ctrl) {
        ctrl.materialDifference = this.value;
        if ("updateMaterial" in ctrl) {
          ctrl.updateMaterial();
        }
      }
    }
    view() {
      return h("div", checkbox(this, "captured", _("Show material difference")));
    }
  };
  var boardSettings = new BoardSettings();

  // client/variantsIni.ts
  var variantsIni = `
# Hybrid variant of Grand-chess and crazyhouse, using Grand-chess as a template
[grandhouse:grand]
startFen = r8r/1nbqkcabn1/pppppppppp/10/10/10/10/PPPPPPPPPP/1NBQKCABN1/R8R[] w - - 0 1
pieceDrops = true
capturesToHand = true

# Hybrid variant of Gothic-chess and crazyhouse, using Capablanca as a template
[gothhouse:capablanca]
startFen = rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR[] w KQkq - 0 1
pieceDrops = true
capturesToHand = true

# Hybrid variant of Embassy chess and crazyhouse, using Embassy as a template
[embassyhouse:embassy]
startFen = rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR[] w KQkq - 0 1
pieceDrops = true
capturesToHand = true

[gorogoroplus:gorogoro]
startFen = sgkgs/5/1ppp1/1PPP1/5/SGKGS[LNln] w 0 1
lance = l
shogiKnight = n
promotedPieceType = l:g n:g

[shogun:crazyhouse]
startFen = rnb+fkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNB+FKBNR[] w KQkq - 0 1
commoner = c
centaur = g
archbishop = a
chancellor = m
fers = f
promotionRank = 6
promotionLimit = g:1 a:1 m:1 q:1
promotionPieceTypes = -
promotedPieceType = p:c n:g b:a r:m f:q
mandatoryPawnPromotion = false
firstRankPawnDrops = true
promotionZonePawnDrops = true
whiteDropRegion = *1 *2 *3 *4 *5
blackDropRegion = *4 *5 *6 *7 *8
immobilityIllegal = true

[orda:chess]
centaur = h
knibis = a
kniroo = l
silver = y
promotionPieceTypes = qh
startFen = lhaykahl/8/pppppppp/8/8/8/PPPPPPPP/RNBQKBNR w KQ - 0 1
flagPiece = k
whiteFlag = *8
blackFlag = *1

[synochess:pocketknight]
janggiCannon = c
soldier = s
horse = h
fersAlfil = e
commoner = a
startFen = rneakenr/8/1c4c1/1ss2ss1/8/8/PPPPPPPP/RNBQKBNR[ss] w KQ - 0 1
stalemateValue = loss
perpetualCheckIllegal = true
flyingGeneral = true
blackDropRegion = *5
flagPiece = k
whiteFlag = *8
blackFlag = *1

[shinobi:crazyhouse]
commoner = c
bers = d
archbishop = j
fers = m
shogiKnight = h
lance = l
promotionRank = 7
promotionPieceTypes = -
promotedPieceType = p:c m:b h:n l:r
mandatoryPiecePromotion = true
stalemateValue = loss
nFoldRule = 4
perpetualCheckIllegal = true
startFen = rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/LH1CK1HL[LHMMDJ] w kq - 0 1
capturesToHand = false
whiteDropRegion = *1 *2 *3 *4
immobilityIllegal = true
flagPiece = k
whiteFlag = *8
blackFlag = *1

[ordamirror:chess]
centaur = h
knibis = a
kniroo = l
customPiece1 = f:mQcN
promotionPieceTypes = lhaf
startFen = lhafkahl/8/pppppppp/8/8/PPPPPPPP/8/LHAFKAHL w - - 0 1
flagPiece = k
whiteFlag = *8
blackFlag = *1

[empire:chess]
customPiece1 = e:mQcN
customPiece2 = c:mQcB
customPiece3 = t:mQcR
customPiece4 = d:mQcK
soldier = s
promotionPieceTypes = q
startFen = rnbqkbnr/pppppppp/8/8/8/PPPSSPPP/8/TECDKCET w kq - 0 1
stalemateValue = loss
nFoldValue = loss
flagPiece = k
whiteFlag = *8
blackFlag = *1
flyingGeneral = true

[chak]
maxRank = 9
maxFile = 9
rook = r
knight = v
centaur = j
immobile = o
customPiece1 = s:FvW
customPiece2 = q:pQ
customPiece3 = d:mQ2cQ2
customPiece4 = p:fsmWfceF
customPiece5 = k:WF
customPiece6 = w:FvW
startFen = rvsqkjsvr/4o4/p1p1p1p1p/9/9/9/P1P1P1P1P/4O4/RVSJKQSVR w - - 0 1
mobilityRegionWhiteCustomPiece6 = *5 *6 *7 *8 *9
mobilityRegionWhiteCustomPiece3 = *5 *6 *7 *8 *9
mobilityRegionBlackCustomPiece6 = *1 *2 *3 *4 *5
mobilityRegionBlackCustomPiece3 = *1 *2 *3 *4 *5
promotionRank = 5
promotionPieceTypes = -
mandatoryPiecePromotion = true
promotedPieceType = p:w k:d
extinctionValue = loss
extinctionPieceTypes = kd
extinctionPseudoRoyal = true
flagPiece = d
whiteFlag = e8
blackFlag = e2
nMoveRule = 50
nFoldRule = 3
nFoldValue = draw
stalemateValue = loss

[chennis]
maxRank = 7
maxFile = 7
mobilityRegionWhiteKing = b1 c1 d1 e1 f1 b2 c2 d2 e2 f2 b3 c3 d3 e3 f3 b4 c4 d4 e4 f4
mobilityRegionBlackKing = b4 c4 d4 e4 f4 b5 c5 d5 e5 f5 b6 c6 d6 e6 f6 b7 c7 d7 e7 f7
customPiece1 = p:fmWfceF
cannon = c
commoner = m
fers = f
soldier = s
king = k
bishop = b
knight = n
rook = r
promotionPieceTypes = -
promotedPieceType = p:r f:c s:b m:n
promotionRank = 1
startFen = 1fkm3/1p1s3/7/7/7/3S1P1/3MKF1[] w - 0 1
pieceDrops = true
capturesToHand = true
pieceDemotion = true
mandatoryPiecePromotion = true
dropPromoted = true
castling = false
stalemateValue = loss`;

  // client/cgCtrl.ts
  var ChessgroundController = class {
    constructor(el, model) {
      var _a2;
      this.home = model.home;
      this.variant = VARIANTS[model.variant];
      this.chess960 = model.chess960 === "True";
      this.hasPockets = !!this.variant.pocket;
      this.anon = model.anon === "True";
      this.mycolor = "white";
      this.oppcolor = "black";
      this.fullfen = model.fen;
      this.notation = notation(this.variant);
      const pocket0 = document.getElementById("pocket0");
      const pocket1 = document.getElementById("pocket1");
      const parts = this.fullfen.split(" ");
      const fen_placement = parts[0];
      this.chessground = Chessground(el, {
        fen: fen_placement,
        dimensions: this.variant.board.dimensions,
        notation: this.notation,
        addDimensionsCssVarsTo: document.body,
        kingRoles: this.variant.kingRoles,
        pocketRoles: (_a2 = this.variant.pocket) == null ? void 0 : _a2.roles
      }, pocket0, pocket1);
      boardSettings.ctrl = this;
      boardSettings.assetURL = model.assetURL;
      const boardFamily = this.variant.boardFamily;
      const pieceFamily = this.variant.pieceFamily;
      boardSettings.updateBoardStyle(boardFamily);
      boardSettings.updatePieceStyle(pieceFamily);
      boardSettings.updateZoom(boardFamily);
      boardSettings.updateBlindfold();
      ffish_default().then((loadedModule) => {
        this.ffish = loadedModule;
        this.ffish.loadVariantConfig(variantsIni);
        this.notationAsObject = this.notation2ffishjs(this.notation);
        this.ffishBoard = new this.ffish.Board(
          moddedVariant(this.variant.name, this.chess960, this.chessground.state.boardState.pieces, parts[2]),
          this.fullfen,
          this.chess960
        );
        window.addEventListener("beforeunload", () => this.ffishBoard.delete());
      });
    }
    toggleOrientation() {
      this.chessground.toggleOrientation();
    }
    flipped() {
      return this.chessground.state.orientation === "black";
    }
    legalMoves() {
      return this.ffishBoard.legalMoves().split(" ").map(uci2cg);
    }
    notation2ffishjs(n) {
      switch (n) {
        case Notation.ALGEBRAIC:
          return this.ffish.Notation.SAN;
        case Notation.SHOGI_ARBNUM:
          return this.ffish.Notation.SHOGI_HODGES_NUMBER;
        case Notation.JANGGI:
          return this.ffish.Notation.JANGGI;
        case Notation.XIANGQI_ARBNUM:
          return this.ffish.Notation.XIANGQI_WXF;
        default:
          return this.ffish.Notation.SAN;
      }
    }
  };

  // client/info.ts
  function updateCount(fen, whiteContainer, blackContainer) {
    const [countingPly, countingLimit, countingSide] = getCounting(fen);
    whiteContainer = patch(whiteContainer, h("div#misc-infow", ""));
    blackContainer = patch(blackContainer, h("div#misc-infob", ""));
    const countingStr = `${Math.floor((countingPly + 1) / 2)}/${countingLimit / 2 + countingLimit / 2 % 2}`;
    if (countingLimit !== 0 && countingPly !== 0) {
      if (countingSide === "w")
        whiteContainer = patch(whiteContainer, h("div#misc-infow", countingStr));
      else
        blackContainer = patch(blackContainer, h("div#misc-infob", countingStr));
    }
    return [whiteContainer, blackContainer];
  }
  function updatePoint(fen, choContainer, hanContainer) {
    const board = fen.split(" ")[0];
    const [choPoint, hanPoint] = getJanggiPoints(board);
    choContainer = patch(choContainer, h("div#misc-infow", { class: { "text-color-blue": true } }, choPoint));
    hanContainer = patch(hanContainer, h("div#misc-infob", { class: { "text-color-red": true } }, hanPoint));
    return [choContainer, hanContainer];
  }

  // client/sound.ts
  var import_howler = __toESM(require_howler());
  var _Sounds = class {
    constructor() {
      this.moveSoundSet = {
        regular: { move: () => this.move(), capture: () => this.capture() },
        shogi: { move: () => this.shogimove(), capture: () => this.shogicapture() },
        atomic: { move: () => this.move(), capture: () => this.explosion() }
      };
      this.tracks = {};
    }
    updateVolume() {
      const volume = volumeSettings.value;
      Object.keys(this.tracks).forEach((key) => {
        this.tracks[key].volume(volume);
      });
    }
    updateSoundTheme(assetURL) {
      Object.keys(_Sounds.trackNames).forEach((key) => {
        this.tracks[key] = this.buildSound(assetURL, _Sounds.trackNames[key]);
      });
    }
    buildSound(assetURL, trackName) {
      const soundTheme = soundThemeSettings.value;
      const soundTrack = soundTheme === "silent" ? "Silence" : trackName;
      const sound2 = new import_howler.Howl({
        src: [
          assetURL + "/sound/" + soundTheme + "/" + soundTrack + ".ogg",
          assetURL + "/sound/" + soundTheme + "/" + soundTrack + ".mp3"
        ],
        onplayerror: function() {
          sound2.once("unlock", function() {
            sound2.play();
          });
        },
        volume: volumeSettings.value
      });
      return sound2;
    }
    audio() {
      return soundThemeSettings.value !== "silent";
    }
    genericNotify() {
      if (this.audio())
        this.tracks.GenericNotify.play();
    }
    socialNotify() {
      if (this.audio())
        this.tracks.SocialNotify.play();
    }
    move() {
      if (this.audio())
        this.tracks.Move.play();
    }
    capture() {
      if (this.audio())
        this.tracks.Capture.play();
    }
    check() {
      if (this.audio())
        this.tracks.Check.play();
    }
    draw() {
      if (this.audio())
        this.tracks.Draw.play();
    }
    victory() {
      if (this.audio())
        this.tracks.Victory.play();
    }
    defeat() {
      if (this.audio())
        this.tracks.Defeat.play();
    }
    shogimove() {
      if (this.audio())
        this.tracks.ShogiMove.play();
    }
    shogicapture() {
      if (this.audio())
        this.tracks.ShogiCapture.play();
    }
    chat() {
      if (this.audio())
        this.tracks.Chat.play();
    }
    setup() {
      if (this.audio())
        this.tracks.Setup.play();
    }
    lowTime() {
      if (this.audio())
        this.tracks.LowTime.play();
    }
    tick() {
      if (this.audio())
        this.tracks.Tick.play();
    }
    explosion() {
      if (this.audio())
        this.tracks.Explosion.play();
    }
    berserk() {
      if (this.audio())
        this.tracks.Berserk.play();
    }
    moveSound(variant2, capture) {
      const soundSet = variant2.ui.pieceSound in this.moveSoundSet ? this.moveSoundSet[variant2.ui.pieceSound] : this.moveSoundSet.regular;
      if (capture)
        soundSet.capture();
      else
        soundSet.move();
    }
    gameEndSound(result, color) {
      switch (result) {
        case "1/2-1/2":
          this.draw();
          break;
        case "1-0":
          if (color === "white")
            this.victory();
          else
            this.defeat();
          break;
        case "0-1":
          if (color === "black")
            this.victory();
          else
            this.defeat();
          break;
      }
    }
  };
  var Sounds = _Sounds;
  Sounds.trackNames = {
    GenericNotify: "GenericNotify",
    SocialNotify: "SocialNotify",
    Move: "Move",
    Capture: "Capture",
    Check: "Check",
    Draw: "Draw",
    Victory: "Victory",
    Defeat: "Defeat",
    ShogiMove: "shogisnap",
    ShogiCapture: "shogislam",
    Chat: "chat",
    Setup: "dinding",
    LowTime: "LowTime",
    Tick: "Tick",
    Explosion: "Explosion",
    Berserk: "Berserk"
  };
  var VolumeSettings = class extends NumberSettings {
    constructor() {
      super("volume", 1);
    }
    update() {
      sound.updateVolume();
    }
    view() {
      return h("div", slider(this, "sound-volume", 0, 1, 0.01, _("Volume")));
    }
  };
  var soundThemes = {
    silent: "Silent",
    standard: "Standard",
    piano: "Piano",
    nes: "NES",
    sfx: "SFX",
    futuristic: "Futuristic",
    lisp: "Lisp",
    robot: "Robot"
  };
  var SoundThemeSettings = class extends StringSettings {
    constructor() {
      super("soundtheme", "standard");
    }
    update() {
      sound.updateSoundTheme(this.assetURL);
    }
    view() {
      return h("div#soundtheme.radio-list", radioList(this, "soundtheme", soundThemes, (_2, key) => this.value = key));
    }
  };
  var sound = new Sounds();
  var volumeSettings = new VolumeSettings();
  var soundThemeSettings = new SoundThemeSettings();

  // client/chat.ts
  function chatMessage(user, message, chatType, time) {
    const chatDiv = document.getElementById(chatType + "-messages");
    const isBottom = chatDiv.scrollHeight - (chatDiv.scrollTop + chatDiv.offsetHeight) < 80;
    const localTime = time ? new Date(time * 1e3).toLocaleTimeString("default", { hour: "2-digit", minute: "2-digit", hour12: false }) : "";
    const container = document.getElementById("messages");
    if (user.length === 0) {
      patch(container, h("div#messages", [h("li.message.offer", [h("t", message)])]));
    } else if (user === "_server") {
      patch(container, h("div#messages", [h("li.message.server", [h("div.time", localTime), h("user", _("Server")), h("t", message)])]));
    } else if (user === "Discord-Relay") {
      const colonIndex = message.indexOf(":");
      const discordUser = message.substring(0, colonIndex);
      const discordMessage = message.substring(colonIndex + 2);
      patch(container, h("div#messages", [h("li.message", [h("div.time", localTime), h("div.discord-icon-container", h("img.icon-discord-icon", { attrs: { src: "/static/icons/discord.svg" } })), h("user", discordUser), h("t", discordMessage)])]));
    } else {
      patch(container, h("div#messages", [h("li.message", [h("div.time", localTime), h("user", h("a", { attrs: { href: "/@/" + user } }, user)), h("t", message)])]));
    }
    if (isBottom)
      setTimeout(() => {
        chatDiv.scrollTop = chatDiv.scrollHeight;
      }, 200);
  }

  // client/gameCtrl.ts
  var GameController = class extends ChessgroundController {
    constructor(el, model) {
      super(el, model);
      this.setDests = () => {
        if (this.ffishBoard === void 0) {
          setTimeout(this.setDests, 100);
        } else {
          const legalMoves = this.ffishBoard.legalMoves().split(" ");
          const dests = moveDests(legalMoves);
          this.chessground.set({ movable: { dests } });
          if (this.steps.length === 1) {
            this.chessground.set({ check: this.ffishBoard.isCheck() ? this.turnColor : false });
          }
        }
      };
      this.doSend = (message) => {
        this.sock.send(JSON.stringify(message));
      };
      this.onMove = () => {
        return (_orig, _dest, capturedPiece) => {
          sound.moveSound(this.variant, !!capturedPiece);
        };
      };
      this.onDrop = () => {
        return (piece, _dest) => {
          if (piece.role)
            sound.moveSound(this.variant, false);
        };
      };
      this.onSelect = () => {
        let lastTime = performance.now();
        let lastKey;
        return (key) => {
          var _a2;
          if (this.duck.inputState === "click") {
            this.duck.finish(key);
            return;
          }
          if (this.chessground.state.movable.dests === void 0)
            return;
          const curTime = performance.now();
          if (this.chessground.state.stats.ctrlKey || lastKey === key && curTime - lastTime < 500) {
            if ((_a2 = this.chessground.state.movable.dests.get(key)) == null ? void 0 : _a2.includes(key)) {
              const piece = this.chessground.state.boardState.pieces.get(key);
              if (this.variant.name === "sittuyin") {
                this.chessground.setPieces(/* @__PURE__ */ new Map([[key, {
                  color: piece.color,
                  role: "f-piece",
                  promoted: true
                }]]));
                this.chessground.state.movable.dests = void 0;
                this.chessground.selectSquare(key);
                sound.moveSound(this.variant, false);
                this.processInput(piece, key, key, { premove: false }, "f", "promotion");
              } else if ((this.chessground.state.stats.ctrlKey || this.dblClickPass) && this.variant.rules.pass) {
                this.pass(key);
              }
            }
            lastKey = void 0;
          } else {
            lastKey = key;
            lastTime = curTime;
          }
        };
      };
      this.pass = (passKey) => {
        var _a2;
        if (this.turnColor === this.chessground.state.movable.color || this.chessground.state.movable.color === "both") {
          if (!passKey) {
            const pieces = this.chessground.state.boardState.pieces;
            const dests = this.chessground.state.movable.dests;
            for (const [k, p] of pieces) {
              if (p.role === "k-piece" && p.color === this.turnColor) {
                if ((_a2 = dests == null ? void 0 : dests.get(k)) == null ? void 0 : _a2.includes(k)) {
                  passKey = k;
                  break;
                }
              }
            }
          }
          if (passKey) {
            this.chessground.unselect();
            sound.moveSound(this.variant, false);
            this.sendMove(passKey, passKey, "");
          }
        }
      };
      this.onMsgSpectators = (msg) => {
        const container = document.getElementById("spectators");
        patch(container, h("under-left#spectators", _("Spectators: ") + msg.spectators));
      };
      this.onMsgChat = (msg) => {
        if (this.spectator && msg.room === "spectator" || !this.spectator && msg.room !== "spectator" || msg.user.length === 0) {
          chatMessage(msg.user, msg.message, "roundchat", msg.time);
        }
      };
      this.onMsgFullChat = (msg) => {
        patch(document.getElementById("messages"), h("div#messages-clear"));
        patch(document.getElementById("messages-clear"), h("div#messages"));
        msg.lines.forEach((line) => {
          if (this.spectator && line.room === "spectator" || !this.spectator && line.room !== "spectator" || line.user.length === 0) {
            chatMessage(line.user, line.message, "roundchat", line.time);
          }
        });
      };
      this.onMsgGameNotFound = (msg) => {
        alert(_("Requested game %1 not found!", msg["gameId"]));
        window.location.assign(this.home);
      };
      this.onMsgShutdown = (msg) => {
        alert(msg.message);
      };
      this.gameId = model["gameId"];
      this.tournamentId = model["tournamentId"];
      this.username = model["username"];
      this.wplayer = model["wplayer"];
      this.bplayer = model["bplayer"];
      this.base = Number(model["base"]);
      this.inc = Number(model["inc"]);
      this.status = Number(model["status"]);
      this.steps = [];
      this.pgn = "";
      this.ply = isNaN(model["ply"]) ? 0 : model["ply"];
      this.wtitle = model["wtitle"];
      this.btitle = model["btitle"];
      this.wrating = model["wrating"];
      this.brating = model["brating"];
      this.rated = model["rated"];
      this.spectator = this.username !== this.wplayer && this.username !== this.bplayer;
      this.gating = new GatingInput(this);
      this.promotion = new PromotionInput(this);
      this.duck = new DuckInput(this);
      if (this.spectator) {
        this.mycolor = "white";
        this.oppcolor = "black";
      } else {
        this.mycolor = this.username === this.wplayer ? "white" : "black";
        this.oppcolor = this.username === this.wplayer ? "black" : "white";
      }
      this.players = [
        this.mycolor === "white" ? this.bplayer : this.wplayer,
        this.mycolor === "white" ? this.wplayer : this.bplayer
      ];
      this.titles = [
        this.mycolor === "white" ? this.btitle : this.wtitle,
        this.mycolor === "white" ? this.wtitle : this.btitle
      ];
      this.ratings = [
        this.mycolor === "white" ? this.brating : this.wrating,
        this.mycolor === "white" ? this.wrating : this.brating
      ];
      this.result = "*";
      const parts = this.fullfen.split(" ");
      this.turnColor = parts[1] === "w" ? "white" : "black";
      this.suffix = "";
      this.chessground.set({
        animation: {
          enabled: localStorage.animation === void 0 || localStorage.animation === "true"
        },
        movable: {
          showDests: localStorage.showDests === void 0 || localStorage.showDests === "true"
        }
      });
      this.steps.push({
        "fen": this.fullfen,
        "move": void 0,
        "check": false,
        "turnColor": this.turnColor
      });
      this.setDests();
    }
    flipped() {
      return this.chessground.state.orientation !== this.mycolor;
    }
    processInput(piece, orig, dest, meta, lastSuffix, lastInputType) {
      switch (lastInputType) {
        case void 0:
          this.suffix = "";
          this.gating.start(piece, orig, dest, meta);
          break;
        case "gating":
          if (lastSuffix === "-") {
            this.promotion.start(piece, orig, dest, meta);
          } else {
            this.suffix += lastSuffix;
            this.duck.start(piece, orig, dest, meta);
          }
          break;
        case "promotion":
          this.suffix += lastSuffix;
          this.duck.start(piece, orig, dest, meta);
          break;
        case "duck":
          this.suffix += lastSuffix;
          this.sendMove(orig, dest, this.suffix);
          break;
      }
    }
    sendMove(orig, dest, promo) {
      this.doSendMove(cg2uci(orig + dest + promo));
    }
    goPly(ply, plyVari = 0) {
      var _a2, _b, _c;
      const vv = (_a2 = this.steps[plyVari]) == null ? void 0 : _a2.vari;
      const step2 = plyVari > 0 && vv ? vv[ply - plyVari] : this.steps[ply];
      if (step2 === void 0)
        return;
      const move3 = uci2LastMove(step2.move);
      let capture = false;
      if (move3) {
        capture = this.chessground.state.boardState.pieces.get(move3[1]) !== void 0 && ((_b = step2.san) == null ? void 0 : _b.slice(0, 2)) !== "O-" || ((_c = step2.san) == null ? void 0 : _c.slice(1, 2)) === "x";
      }
      this.chessground.set({
        fen: step2.fen,
        turnColor: step2.turnColor,
        movable: {
          color: step2.turnColor
        },
        check: step2.check,
        lastMove: move3
      });
      this.setDests();
      this.turnColor = step2.turnColor;
      this.fullfen = step2.fen;
      this.suffix = "";
      this.duck.inputState = void 0;
      if (this.variant.ui.counting) {
        updateCount(step2.fen, document.getElementById("misc-infow"), document.getElementById("misc-infob"));
      }
      if (this.variant.ui.materialPoint) {
        updatePoint(step2.fen, document.getElementById("misc-infow"), document.getElementById("misc-infob"));
      }
      if (ply === this.ply + 1) {
        sound.moveSound(this.variant, capture);
      }
      this.ply = ply;
    }
    /**
      * Custom variant-specific logic to be triggered on move and alter state of board/pocket depending on variant rules.
      */
    onUserMove(orig, dest, meta) {
      var _a2;
      if (this.duck.inputState === "move") {
        this.duck.finish(dest);
        return;
      }
      this.preaction = meta.premove;
      const pieces = this.chessground.state.boardState.pieces;
      let moved = pieces.get(dest);
      if (moved === void 0)
        moved = { role: "k-piece", color: this.mycolor };
      if (meta.captured === void 0 && moved !== void 0 && moved.role === "p-piece" && orig[0] !== dest[0] && this.variant.rules.enPassant) {
        const pos = key2pos(dest), pawnKey = pos2key([pos[0], pos[1] + (this.mycolor === "white" ? -1 : 1)]);
        meta.captured = pieces.get(pawnKey);
        this.chessground.setPieces(/* @__PURE__ */ new Map([[pawnKey, void 0]]));
      }
      if (((_a2 = this.variant.pocket) == null ? void 0 : _a2.captureToHand) && meta.captured) {
        const piece = {
          role: unpromotedRole(this.variant, meta.captured),
          color: opposite(meta.captured.color)
        };
        this.chessground.changePocket(piece, 1);
        this.chessground.state.dom.redraw();
      }
      this.processInput(moved, orig, dest, meta);
      this.preaction = false;
    }
    /**
     * Variant specific logic for when dropping a piece from pocket is performed
     */
    onUserDrop(piece, dest, meta) {
      this.preaction = meta.premove;
      const role = piece.role;
      this.processInput(piece, dropOrigOf(role), dest, meta);
      this.preaction = false;
    }
    onMessage(evt) {
      if (evt.data === "/n")
        return;
      const msg = JSON.parse(evt.data);
      switch (msg.type) {
        case "spectators":
          this.onMsgSpectators(msg);
          break;
        case "roundchat":
          this.onMsgChat(msg);
          break;
        case "fullchat":
          this.onMsgFullChat(msg);
          break;
        case "game_not_found":
          this.onMsgGameNotFound(msg);
          break;
        case "shutdown":
          this.onMsgShutdown(msg);
          break;
        case "logout":
          this.doSend({ type: "logout" });
          break;
      }
    }
  };

  // client/puzzlerTypes.ts
  var idChars = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  var idLength = 5;
  function randomId() {
    let result = "";
    for (let i = idLength; i > 0; --i)
      result += idChars[Math.floor(Math.random() * idChars.length)];
    return result;
  }

  // client/puzzlerCtrl.ts
  var PuzzleController = class extends GameController {
    constructor(el, data) {
      const model = {
        home: data.home,
        assetURL: data.assetURL,
        username: data.username,
        variant: data.variant,
        fen: data.fen,
        ply: data.ply,
        gameId: data.gameId
      };
      super(el, model);
      this.moves = [];
      this.movesSan = [];
      this.undo = () => {
        console.log("Undo");
      };
      this.createSolutionSan = () => {
        if (this.ffishBoard === void 0) {
          console.log("updateSolution() WAIT 100...");
          setTimeout(this.createSolutionSan, 100);
        } else {
          this.solutionSan = this.ffishBoard.variationSan(this.solution.join(" "), this.notationAsObject, false).split(" ");
          console.log("updateSolution() solutionSan=", this.solutionSan);
          this.solutionEl = document.querySelector(".solution");
          if (this.solution) {
            this.updateSolution();
          }
          ;
        }
      };
      this.updateSolution = () => {
        this.solutionEl = patch(this.solutionEl, h("p.solution", [
          "Solution: ",
          ...this.solutionSan.map(
            (san, i) => h("san", {
              class: { done: this.moves[i] === this.solution[i] }
            }, san)
          )
        ]));
        this.movesEl = patch(this.movesEl, h("p.moves", [
          "My moves: ",
          ...this.movesSan.map(
            (move3, i) => h("uci", {
              class: { done: this.moves[i] === this.solution[i] }
            }, move3)
          )
        ]));
      };
      this.canAppend = () => this.moves.length > this.solution.length && this.moves.slice(0, this.solution.length).join(" ") === this.solution.join(" ");
      this.canForward = () => this.moves.length < this.solution.length && this.moves.join(" ") == this.solution.slice(0, this.moves.length).join(" ");
      this.isComplete = () => this.moves.join(" ") == this.solution.join(" ");
      this.isInVariation = () => !this.isComplete() && !this.canForward();
      this.cgConfig = (move3) => {
        const fen = this.ffishBoard.fen(this.variant.ui.showPromoted, 0);
        const turnColor = fen.split(" ")[1] === "w" ? "white" : "black";
        this.turnColor = turnColor;
        return {
          fen,
          turnColor,
          movable: {
            color: turnColor
          },
          check: this.ffishBoard.isCheck(),
          lastMove: uci2LastMove(move3)
        };
      };
      this.username = data.username;
      this.solution = model.variant === "duck" ? data.moves.match(/[^,]+,[^,]+/g) : data.moves.split(",");
      this.moves = [];
      this._id = data._id;
      this.all = data.all;
      if (!data.ply) {
        const parts = data.fen.split(" ");
        const color = parts[1];
        const fullmove = parseInt(parts[parts.length - 1]);
        this.ply = (fullmove - 1) * 2 + (color === "b" ? 1 : 0);
      }
      this.chessground.set({
        animation: { enabled: true },
        orientation: this.turnColor,
        turnColor: this.turnColor,
        movable: {
          free: false,
          color: this.turnColor,
          //                showDests: this.showDests,
          events: {
            after: (orig, dest, meta) => this.onUserMove(orig, dest, meta),
            afterNewPiece: (role, dest, meta) => this.onUserDrop(role, dest, meta)
          }
        },
        events: {
          move: this.onMove(),
          dropNewPiece: this.onDrop(),
          select: this.onSelect()
        }
      });
      changePieceCSS(model.assetURL, "shogi", "porti");
      changePieceCSS(model.assetURL, "tori", "porti");
      changePieceCSS(model.assetURL, "kyoto", "kyotoi");
      changePieceCSS(model.assetURL, "xiangqi", "xiangqi2di");
      changePieceCSS(model.assetURL, "janggi", "janggiikaw");
      const vVariant = this.variant.name || "chess";
      const variantEl = document.getElementById("variant");
      patch(variantEl, selectVariant("variant", vVariant, () => this.setVariant(true), () => this.setVariant(false)));
      const allEl = document.getElementById("all");
      patch(allEl, h(
        "input#all",
        {
          props: { name: "all", type: "checkbox" },
          attrs: { checked: this.all, title: "View already reviewed and skipped puzzles as well." },
          on: { click: () => this.setAll() }
        }
      ));
      const fileEl = document.getElementById("puzzlefile");
      patch(fileEl, h(
        "input#puzzlefile",
        {
          props: { name: "puzzlefile", type: "file", accept: ".epd", title: "Select a .epd file generated by chess-variants-puzzler." },
          on: { change: () => this.readFile() }
        }
      ));
      this.movesEl = document.querySelector(".moves");
      const approveEl = document.querySelector(".approve");
      patch(approveEl, h("button.approve", { on: { click: () => this.review(true) } }, [
        h("em", "Approve"),
        h("strong", "\u2713"),
        h("em", "[enter]")
      ]));
      const rejectEl = document.querySelector(".reject");
      patch(rejectEl, h("button.reject", { on: { click: () => this.review(false) } }, [
        h("em", "Reject"),
        h("strong", "\u2717"),
        h("em", "[backspace]")
      ]));
      const appendEl = document.querySelector(".append");
      patch(appendEl, h("button.append", { attrs: { disabled: true, title: "Complete the solution with missing moves." }, on: { click: () => this.append() } }, [
        h("em", "solution"),
        h("strong", "\u2191"),
        h("em", "my moves")
      ]));
      const skipEl = document.querySelector(".puzzle-skip");
      patch(skipEl, h("div.puzzle-skip", [h("button", { on: { click: () => this.skip() } }, "Skip")]));
      const forwardEl = document.querySelector(".next");
      patch(forwardEl, h("button.next", { on: { click: () => this.forward() } }, "Forward >"));
      const rewindEl = document.querySelector(".prev");
      patch(
        rewindEl,
        h(
          "button.prev",
          {
            attrs: { disabled: true },
            class: { variation: false },
            on: { click: () => this.rewind() }
          },
          "< Rewind"
        )
      );
      this.createSolutionSan();
      const noRepeat = (f) => (e) => {
        if (!e.repeat)
          f();
      };
      Mousetrap.bind("left", noRepeat(() => this.rewind()));
      Mousetrap.bind("right", noRepeat(() => this.forward()));
      Mousetrap.bind("backspace", noRepeat(() => this.review(false)));
      Mousetrap.bind("enter", noRepeat(() => this.review(true)));
      Mousetrap.bind("a", () => document.querySelector("a.analyse").click());
    }
    setVariant(isInput) {
      const e = document.getElementById("variant");
      const variant2 = e.options[e.selectedIndex].value;
      const p = document.querySelector(".variant");
      console.log("Selected varient is:", variant2, isInput);
      p.submit();
    }
    setAll() {
      const e = document.getElementById("all");
      const all = e.checked;
      const p = document.querySelector(".all");
      console.log("Selected all is:", all);
      p.submit();
    }
    updateGui(move3) {
      this.chessground.set(this.cgConfig(move3));
      this.setDests();
      const rewindEl = document.querySelector(".prev");
      rewindEl.classList.toggle("variation", this.isInVariation());
      rewindEl.disabled = this.moves.length === 0;
      const forwardEl = document.querySelector(".next");
      forwardEl.disabled = !this.canForward();
      const appendEl = document.querySelector(".append");
      appendEl.disabled = !this.canAppend();
      this.updateSolution();
    }
    skip() {
      window.location.assign(`${this.home}/skip?skipped=${this._id}`);
    }
    append() {
      this.solution = [...this.moves];
      this.solutionSan = [...this.movesSan];
      const rewindEl = document.querySelector(".prev");
      rewindEl.classList.toggle("variation", false);
      this.updateSolution();
    }
    doSendMove(move3) {
      console.log(move3);
      this.moves.push(move3);
      const san = this.ffishBoard.sanMove(move3, this.notationAsObject);
      this.movesSan.push(san);
      this.ffishBoard.push(move3);
      this.updateGui(move3);
    }
    rewind() {
      if (this.moves.length === 0)
        return;
      this.moves.pop();
      this.movesSan.pop();
      this.ffishBoard.pop();
      const move3 = this.moves[this.moves.length - 1];
      this.updateGui(move3);
    }
    forward() {
      const move3 = this.solution[this.moves.length];
      if (move3) {
        this.doSendMove(move3);
      }
    }
    review(approved) {
      const elApprove = document.querySelector(".approve");
      const elReject = document.querySelector(".reject");
      console.log("approved:", approved);
      if (approved) {
        elApprove.classList.toggle("active", true);
        elReject.classList.toggle("active", false);
      } else {
        elApprove.classList.toggle("active", false);
        elReject.classList.toggle("active", true);
      }
      const moves = this.solution.join("_").replace(/\+/g, ".");
      console.log("review", this._id, approved, moves);
      window.location.assign(`${this.home}/review/${this._id}?approved=${approved ? 1 : 0}&moves=${moves}`);
    }
    readFile() {
      const fileEl = document.getElementById("puzzlefile");
      const files3 = fileEl.files;
      if (files3) {
        const username = this.username;
        const fileReader = new FileReader();
        fileReader.readAsText(files3[0]);
        fileReader.onload = function() {
          if (fileReader.result) {
            const allLines = fileReader.result.split("\n");
            allLines.forEach((line) => {
              if (line.trim()) {
                const parts = line.trim().split(";");
                const ops = Object.fromEntries(parts.slice(1).map((s) => s.split(" ")));
                const puzzle = {
                  _id: randomId(),
                  fen: parts[0],
                  variant: ops.variant,
                  moves: ops.pv,
                  eval: ops.eval,
                  type: ops.type,
                  uploadedBy: username
                };
                if (ops.site) {
                  if (ops.site.includes("pychess")) {
                    puzzle.gameId = ops.site.slice(-8);
                  } else {
                    puzzle.site = ops.site;
                  }
                }
                postPuzzle(puzzle);
              }
            });
          }
        };
        fileReader.onerror = function() {
          alert(fileReader.error);
        };
      }
    }
  };
  function postPuzzle(puzzle) {
    const XHR = new XMLHttpRequest();
    const FD = new FormData();
    Object.entries(puzzle).forEach((entry) => {
      FD.append(entry[0], entry[1]);
    });
    XHR.onreadystatechange = function() {
      if (this.readyState === 4 && this.status === 200) {
        const response = JSON.parse(this.responseText);
        if (response["error"] !== void 0) {
          console.log(response["error"]);
        }
      }
    };
    XHR.open("POST", "/puzzle", true);
    XHR.send(FD);
  }

  // client/puzzlerView.ts
  function runGround(vnode2, data) {
    const el = vnode2.elm;
    new PuzzleController(el, data);
  }
  function puzzlerView_default(data) {
    const variant2 = VARIANTS[data.variant];
    const parts = data.fen.split(" ");
    const color = parts[1];
    const fullmove = parseInt(parts[parts.length - 1]);
    const ply = (fullmove - 1) * 2 + (color === "b" ? 1 : 0);
    const fen = parts.join("_").replace(/\+/g, ".");
    let gameUrl;
    if (data.gameId) {
      gameUrl = `${data.pychessURL}/${data.gameId}?ply=${ply}`;
    } else {
      gameUrl = `${data.pychessURL}/analysis/${data.variant}?fen=${fen}`;
    }
    window.history.replaceState({}, "", `/puzzle/${data._id}`);
    return h("main", [
      h("section.top-controls", [
        h("form.variant", { props: { method: "post", action: "/variant" } }, [
          h("select#variant")
        ]),
        h("form.all", { props: { method: "post", action: "/all" } }, [
          h("label", { attrs: { for: "all" } }, "All"),
          h("input#all")
        ]),
        h("span.wrapper", [
          h("label", { attrs: { for: "puzzlefile" } }, "Upload puzzle file: "),
          h("input#puzzlefile")
        ]),
        h("div#username", data.username),
        h("a", { attrs: { href: "/logout" } }, "Log out")
      ]),
      h("div.puzzle", [
        h("div.pocket-top", [
          h("div." + variant2.pieceFamily + "." + data.variant, [
            h("div.cg-wrap.pocket", [
              h("div#pocket0")
            ])
          ])
        ]),
        h(`selection#mainboard.${variant2.boardFamily}.${variant2.pieceFamily}.${variant2.ui.boardMark}`, [
          h("div.cg-wrap." + variant2.board.cg, { hook: { insert: (vnode2) => runGround(vnode2, data) } })
        ]),
        h("div.pocket-bot", [
          h("div." + variant2.pieceFamily + "." + data.variant, [
            h("div.cg-wrap.pocket", [
              h("div#pocket1")
            ])
          ])
        ]),
        h("div.puzzle-ui", [
          h("div.puzzle-info", [
            h("p.puzzle-info-title", `Candidate id: ${data._id}`),
            h("p", [
              "Site: ",
              "site" in data ? h("a.analyse", { attrs: { href: `${data.site}`, target: "_blank" } }, `${data.site}`) : ""
            ]),
            h("p", [
              "From game: ",
              h("a.analyse", { attrs: { href: gameUrl, target: "_blank" } }, "gameId" in data ? `${data.gameId}` : "analysis")
            ]),
            h("p", `Type: ${data.type}`),
            h("p", `Eval: ${data.eval}`),
            h("p.solution"),
            h("p.moves")
          ]),
          h("div.puzzle-review", [
            h("button.reject"),
            h("button.approve"),
            h("button.append")
          ]),
          h("div.puzzle-skip"),
          h("div.puzzle-help", [
            h("p", "Does the puzzle feel a bit off, computer-like, or frustrating? Just reject it. Too difficult and you're not sure if interesting? Skip it. Use arrow keys to replay, backspace/enter to review, a to analyse.")
          ])
        ])
      ]),
      h("div.replay", [
        h("button.prev"),
        h("button.next")
      ])
    ]);
  }

  // client/main.ts
  function puzzlerStart(data) {
    console.log(data);
    const element = document.querySelector("main");
    patch(element, puzzlerView_default(data));
  }
  window.puzzlerStart = puzzlerStart;
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)

gettext.js/lib/gettext.js:
  (*! gettext.js - Guillaume Potier - MIT Licensed *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL21vdXNldHJhcC9tb3VzZXRyYXAuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL2h0bWxkb21hcGkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3NuYWJiZG9tL3NyYy92bm9kZS50cyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL2lzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvaW5pdC50cyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL2gudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3NuYWJiZG9tL3NyYy90b3Zub2RlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvbW9kdWxlcy9hdHRyaWJ1dGVzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvbW9kdWxlcy9jbGFzcy50cyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL21vZHVsZXMvZXZlbnRsaXN0ZW5lcnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3NuYWJiZG9tL3NyYy9tb2R1bGVzL3Byb3BzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvbW9kdWxlcy9zdHlsZS50cyIsICIuLi9jbGllbnQvZG9jdW1lbnQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvdHlwZXMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvdXRpbC50cyIsICIuLi9ub2RlX21vZHVsZXMvZ2V0dGV4dC5qcy9saWIvZ2V0dGV4dC5qcyIsICIuLi9jbGllbnQvc2V0dGluZ3MudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2lkYi1rZXl2YWwvZGlzdC9pbmRleC5qcyIsICIuLi9jbGllbnQvdmlldy50cyIsICIuLi9jbGllbnQvaTE4bi50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9mZW4udHMiLCAiLi4vY2xpZW50L21hdGVyaWFsLnRzIiwgIi4uL2NsaWVudC92YXJpYW50cy50cyIsICIuLi9jbGllbnQvcHV6emxlckN0cmwudHMiLCAiLi4vY2xpZW50L2NoZXNzLnRzIiwgIi4uL2NsaWVudC9pbnB1dC9pbnB1dC50cyIsICIuLi9jbGllbnQvaW5wdXQvZ2F0aW5nLnRzIiwgIi4uL2NsaWVudC9pbnB1dC9wcm9tb3Rpb24udHMiLCAiLi4vY2xpZW50L2lucHV0L2R1Y2sudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvcHJlbW92ZS50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9ib2FyZC50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9jb25maWcudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvYW5pbS50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9kcmF3LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL2RyYWcudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvZXhwbG9zaW9uLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL2FwaS50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9wcmVkcm9wLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL3N0YXRlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL3N5bmMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvc3ZnLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL3dyYXAudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvcG9ja2V0LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL2V2ZW50cy50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9yZW5kZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvYXV0b1BpZWNlcy50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9jaGVzc2dyb3VuZC50cyIsICIuLi9ub2RlX21vZHVsZXMvZmZpc2gtZXM2L2ZmaXNoLmpzIiwgIi4uL2NsaWVudC9ib2FyZFNldHRpbmdzLnRzIiwgIi4uL2NsaWVudC92YXJpYW50c0luaS50cyIsICIuLi9jbGllbnQvY2dDdHJsLnRzIiwgIi4uL2NsaWVudC9pbmZvLnRzIiwgIi4uL2NsaWVudC9zb3VuZC50cyIsICIuLi9jbGllbnQvY2hhdC50cyIsICIuLi9jbGllbnQvZ2FtZUN0cmwudHMiLCAiLi4vY2xpZW50L3B1enpsZXJUeXBlcy50cyIsICIuLi9jbGllbnQvcHV6emxlclZpZXcudHMiLCAiLi4vY2xpZW50L21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qZ2xvYmFsIGRlZmluZTpmYWxzZSAqL1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE3IENyYWlnIENhbXBiZWxsXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogTW91c2V0cmFwIGlzIGEgc2ltcGxlIGtleWJvYXJkIHNob3J0Y3V0IGxpYnJhcnkgZm9yIEphdmFzY3JpcHQgd2l0aFxuICogbm8gZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKlxuICogQHZlcnNpb24gMS42LjVcbiAqIEB1cmwgY3JhaWcuaXMva2lsbGluZy9taWNlXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgIC8vIENoZWNrIGlmIG1vdXNldHJhcCBpcyB1c2VkIGluc2lkZSBicm93c2VyLCBpZiBub3QsIHJldHVyblxuICAgIGlmICghd2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtYXBwaW5nIG9mIHNwZWNpYWwga2V5Y29kZXMgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBrZXlzXG4gICAgICpcbiAgICAgKiBldmVyeXRoaW5nIGluIHRoaXMgZGljdGlvbmFyeSBjYW5ub3QgdXNlIGtleXByZXNzIGV2ZW50c1xuICAgICAqIHNvIGl0IGhhcyB0byBiZSBoZXJlIHRvIG1hcCB0byB0aGUgY29ycmVjdCBrZXljb2RlcyBmb3JcbiAgICAgKiBrZXl1cC9rZXlkb3duIGV2ZW50c1xuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB2YXIgX01BUCA9IHtcbiAgICAgICAgODogJ2JhY2tzcGFjZScsXG4gICAgICAgIDk6ICd0YWInLFxuICAgICAgICAxMzogJ2VudGVyJyxcbiAgICAgICAgMTY6ICdzaGlmdCcsXG4gICAgICAgIDE3OiAnY3RybCcsXG4gICAgICAgIDE4OiAnYWx0JyxcbiAgICAgICAgMjA6ICdjYXBzbG9jaycsXG4gICAgICAgIDI3OiAnZXNjJyxcbiAgICAgICAgMzI6ICdzcGFjZScsXG4gICAgICAgIDMzOiAncGFnZXVwJyxcbiAgICAgICAgMzQ6ICdwYWdlZG93bicsXG4gICAgICAgIDM1OiAnZW5kJyxcbiAgICAgICAgMzY6ICdob21lJyxcbiAgICAgICAgMzc6ICdsZWZ0JyxcbiAgICAgICAgMzg6ICd1cCcsXG4gICAgICAgIDM5OiAncmlnaHQnLFxuICAgICAgICA0MDogJ2Rvd24nLFxuICAgICAgICA0NTogJ2lucycsXG4gICAgICAgIDQ2OiAnZGVsJyxcbiAgICAgICAgOTE6ICdtZXRhJyxcbiAgICAgICAgOTM6ICdtZXRhJyxcbiAgICAgICAgMjI0OiAnbWV0YSdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbWFwcGluZyBmb3Igc3BlY2lhbCBjaGFyYWN0ZXJzIHNvIHRoZXkgY2FuIHN1cHBvcnRcbiAgICAgKlxuICAgICAqIHRoaXMgZGljdGlvbmFyeSBpcyBvbmx5IHVzZWQgaW5jYXNlIHlvdSB3YW50IHRvIGJpbmQgYVxuICAgICAqIGtleXVwIG9yIGtleWRvd24gZXZlbnQgdG8gb25lIG9mIHRoZXNlIGtleXNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFyIF9LRVlDT0RFX01BUCA9IHtcbiAgICAgICAgMTA2OiAnKicsXG4gICAgICAgIDEwNzogJysnLFxuICAgICAgICAxMDk6ICctJyxcbiAgICAgICAgMTEwOiAnLicsXG4gICAgICAgIDExMSA6ICcvJyxcbiAgICAgICAgMTg2OiAnOycsXG4gICAgICAgIDE4NzogJz0nLFxuICAgICAgICAxODg6ICcsJyxcbiAgICAgICAgMTg5OiAnLScsXG4gICAgICAgIDE5MDogJy4nLFxuICAgICAgICAxOTE6ICcvJyxcbiAgICAgICAgMTkyOiAnYCcsXG4gICAgICAgIDIxOTogJ1snLFxuICAgICAgICAyMjA6ICdcXFxcJyxcbiAgICAgICAgMjIxOiAnXScsXG4gICAgICAgIDIyMjogJ1xcJydcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdGhpcyBpcyBhIG1hcHBpbmcgb2Yga2V5cyB0aGF0IHJlcXVpcmUgc2hpZnQgb24gYSBVUyBrZXlwYWRcbiAgICAgKiBiYWNrIHRvIHRoZSBub24gc2hpZnQgZXF1aXZlbGVudHNcbiAgICAgKlxuICAgICAqIHRoaXMgaXMgc28geW91IGNhbiB1c2Uga2V5dXAgZXZlbnRzIHdpdGggdGhlc2Uga2V5c1xuICAgICAqXG4gICAgICogbm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IHdvcmsgcmVsaWFibHkgb24gVVMga2V5Ym9hcmRzXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhciBfU0hJRlRfTUFQID0ge1xuICAgICAgICAnfic6ICdgJyxcbiAgICAgICAgJyEnOiAnMScsXG4gICAgICAgICdAJzogJzInLFxuICAgICAgICAnIyc6ICczJyxcbiAgICAgICAgJyQnOiAnNCcsXG4gICAgICAgICclJzogJzUnLFxuICAgICAgICAnXic6ICc2JyxcbiAgICAgICAgJyYnOiAnNycsXG4gICAgICAgICcqJzogJzgnLFxuICAgICAgICAnKCc6ICc5JyxcbiAgICAgICAgJyknOiAnMCcsXG4gICAgICAgICdfJzogJy0nLFxuICAgICAgICAnKyc6ICc9JyxcbiAgICAgICAgJzonOiAnOycsXG4gICAgICAgICdcXFwiJzogJ1xcJycsXG4gICAgICAgICc8JzogJywnLFxuICAgICAgICAnPic6ICcuJyxcbiAgICAgICAgJz8nOiAnLycsXG4gICAgICAgICd8JzogJ1xcXFwnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHRoaXMgaXMgYSBsaXN0IG9mIHNwZWNpYWwgc3RyaW5ncyB5b3UgY2FuIHVzZSB0byBtYXBcbiAgICAgKiB0byBtb2RpZmllciBrZXlzIHdoZW4geW91IHNwZWNpZnkgeW91ciBrZXlib2FyZCBzaG9ydGN1dHNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFyIF9TUEVDSUFMX0FMSUFTRVMgPSB7XG4gICAgICAgICdvcHRpb24nOiAnYWx0JyxcbiAgICAgICAgJ2NvbW1hbmQnOiAnbWV0YScsXG4gICAgICAgICdyZXR1cm4nOiAnZW50ZXInLFxuICAgICAgICAnZXNjYXBlJzogJ2VzYycsXG4gICAgICAgICdwbHVzJzogJysnLFxuICAgICAgICAnbW9kJzogL01hY3xpUG9kfGlQaG9uZXxpUGFkLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgPyAnbWV0YScgOiAnY3RybCdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdmFyaWFibGUgdG8gc3RvcmUgdGhlIGZsaXBwZWQgdmVyc2lvbiBvZiBfTUFQIGZyb20gYWJvdmVcbiAgICAgKiBuZWVkZWQgdG8gY2hlY2sgaWYgd2Ugc2hvdWxkIHVzZSBrZXlwcmVzcyBvciBub3Qgd2hlbiBubyBhY3Rpb25cbiAgICAgKiBpcyBzcGVjaWZpZWRcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHZhciBfUkVWRVJTRV9NQVA7XG5cbiAgICAvKipcbiAgICAgKiBsb29wIHRocm91Z2ggdGhlIGYga2V5cywgZjEgdG8gZjE5IGFuZCBhZGQgdGhlbSB0byB0aGUgbWFwXG4gICAgICogcHJvZ3JhbWF0aWNhbGx5XG4gICAgICovXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCAyMDsgKytpKSB7XG4gICAgICAgIF9NQVBbMTExICsgaV0gPSAnZicgKyBpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxvb3AgdGhyb3VnaCB0byBtYXAgbnVtYmVycyBvbiB0aGUgbnVtZXJpYyBrZXlwYWRcbiAgICAgKi9cbiAgICBmb3IgKGkgPSAwOyBpIDw9IDk7ICsraSkge1xuXG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gdXNlIGEgc3RyaW5nIGNhdXNlIG90aGVyd2lzZSBzaW5jZSAwIGlzIGZhbHNleVxuICAgICAgICAvLyBtb3VzZXRyYXAgd2lsbCBuZXZlciBmaXJlIGZvciBudW1wYWQgMCBwcmVzc2VkIGFzIHBhcnQgb2YgYSBrZXlkb3duXG4gICAgICAgIC8vIGV2ZW50LlxuICAgICAgICAvL1xuICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jY2FtcGJlbGwvbW91c2V0cmFwL3B1bGwvMjU4XG4gICAgICAgIF9NQVBbaSArIDk2XSA9IGkudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcm9zcyBicm93c2VyIGFkZCBldmVudCBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxIVE1MRG9jdW1lbnR9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gX2FkZEV2ZW50KG9iamVjdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqZWN0LmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGFrZXMgdGhlIGV2ZW50IGFuZCByZXR1cm5zIHRoZSBrZXkgY2hhcmFjdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9jaGFyYWN0ZXJGcm9tRXZlbnQoZSkge1xuXG4gICAgICAgIC8vIGZvciBrZXlwcmVzcyBldmVudHMgd2Ugc2hvdWxkIHJldHVybiB0aGUgY2hhcmFjdGVyIGFzIGlzXG4gICAgICAgIGlmIChlLnR5cGUgPT0gJ2tleXByZXNzJykge1xuICAgICAgICAgICAgdmFyIGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBzaGlmdCBrZXkgaXMgbm90IHByZXNzZWQgdGhlbiBpdCBpcyBzYWZlIHRvIGFzc3VtZVxuICAgICAgICAgICAgLy8gdGhhdCB3ZSB3YW50IHRoZSBjaGFyYWN0ZXIgdG8gYmUgbG93ZXJjYXNlLiAgdGhpcyBtZWFucyBpZlxuICAgICAgICAgICAgLy8geW91IGFjY2lkZW50YWxseSBoYXZlIGNhcHMgbG9jayBvbiB0aGVuIHlvdXIga2V5IGJpbmRpbmdzXG4gICAgICAgICAgICAvLyB3aWxsIGNvbnRpbnVlIHRvIHdvcmtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGUgb25seSBzaWRlIGVmZmVjdCB0aGF0IG1pZ2h0IG5vdCBiZSBkZXNpcmVkIGlzIGlmIHlvdVxuICAgICAgICAgICAgLy8gYmluZCBzb21ldGhpbmcgbGlrZSAnQScgY2F1c2UgeW91IHdhbnQgdG8gdHJpZ2dlciBhblxuICAgICAgICAgICAgLy8gZXZlbnQgd2hlbiBjYXBpdGFsIEEgaXMgcHJlc3NlZCBjYXBzIGxvY2sgd2lsbCBubyBsb25nZXJcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIGV2ZW50LiAgc2hpZnQrYSB3aWxsIHRob3VnaC5cbiAgICAgICAgICAgIGlmICghZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIG5vbiBrZXlwcmVzcyBldmVudHMgdGhlIHNwZWNpYWwgbWFwcyBhcmUgbmVlZGVkXG4gICAgICAgIGlmIChfTUFQW2Uud2hpY2hdKSB7XG4gICAgICAgICAgICByZXR1cm4gX01BUFtlLndoaWNoXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfS0VZQ09ERV9NQVBbZS53aGljaF0pIHtcbiAgICAgICAgICAgIHJldHVybiBfS0VZQ09ERV9NQVBbZS53aGljaF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpdCBpcyBub3QgaW4gdGhlIHNwZWNpYWwgbWFwXG5cbiAgICAgICAgLy8gd2l0aCBrZXlkb3duIGFuZCBrZXl1cCBldmVudHMgdGhlIGNoYXJhY3RlciBzZWVtcyB0byBhbHdheXNcbiAgICAgICAgLy8gY29tZSBpbiBhcyBhbiB1cHBlcmNhc2UgY2hhcmFjdGVyIHdoZXRoZXIgeW91IGFyZSBwcmVzc2luZyBzaGlmdFxuICAgICAgICAvLyBvciBub3QuICB3ZSBzaG91bGQgbWFrZSBzdXJlIGl0IGlzIGFsd2F5cyBsb3dlcmNhc2UgZm9yIGNvbXBhcmlzb25zXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMxXG4gICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzMlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9tb2RpZmllcnNNYXRjaChtb2RpZmllcnMxLCBtb2RpZmllcnMyKSB7XG4gICAgICAgIHJldHVybiBtb2RpZmllcnMxLnNvcnQoKS5qb2luKCcsJykgPT09IG1vZGlmaWVyczIuc29ydCgpLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0YWtlcyBhIGtleSBldmVudCBhbmQgZmlndXJlcyBvdXQgd2hhdCB0aGUgbW9kaWZpZXJzIGFyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfZXZlbnRNb2RpZmllcnMoZSkge1xuICAgICAgICB2YXIgbW9kaWZpZXJzID0gW107XG5cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIG1vZGlmaWVycy5wdXNoKCdzaGlmdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnYWx0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnY3RybCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUubWV0YUtleSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goJ21ldGEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcHJldmVudHMgZGVmYXVsdCBmb3IgdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN0b3BzIHByb3BvZ2F0aW9uIGZvciB0aGlzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9zdG9wUHJvcGFnYXRpb24oZSkge1xuICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lcyBpZiB0aGUga2V5Y29kZSBzcGVjaWZpZWQgaXMgYSBtb2RpZmllciBrZXkgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gX2lzTW9kaWZpZXIoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgPT0gJ3NoaWZ0JyB8fCBrZXkgPT0gJ2N0cmwnIHx8IGtleSA9PSAnYWx0JyB8fCBrZXkgPT0gJ21ldGEnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldmVyc2VzIHRoZSBtYXAgbG9va3VwIHNvIHRoYXQgd2UgY2FuIGxvb2sgZm9yIHNwZWNpZmljIGtleXNcbiAgICAgKiB0byBzZWUgd2hhdCBjYW4gYW5kIGNhbid0IHVzZSBrZXlwcmVzc1xuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9nZXRSZXZlcnNlTWFwKCkge1xuICAgICAgICBpZiAoIV9SRVZFUlNFX01BUCkge1xuICAgICAgICAgICAgX1JFVkVSU0VfTUFQID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gX01BUCkge1xuXG4gICAgICAgICAgICAgICAgLy8gcHVsbCBvdXQgdGhlIG51bWVyaWMga2V5cGFkIGZyb20gaGVyZSBjYXVzZSBrZXlwcmVzcyBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBiZSBhYmxlIHRvIGRldGVjdCB0aGUga2V5cyBmcm9tIHRoZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID4gOTUgJiYga2V5IDwgMTEyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfTUFQLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX1JFVkVSU0VfTUFQW19NQVBba2V5XV0gPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfUkVWRVJTRV9NQVA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcGlja3MgdGhlIGJlc3QgYWN0aW9uIGJhc2VkIG9uIHRoZSBrZXkgY29tYmluYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBjaGFyYWN0ZXIgZm9yIGtleVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uIHBhc3NlZCBpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9waWNrQmVzdEFjdGlvbihrZXksIG1vZGlmaWVycywgYWN0aW9uKSB7XG5cbiAgICAgICAgLy8gaWYgbm8gYWN0aW9uIHdhcyBwaWNrZWQgaW4gd2Ugc2hvdWxkIHRyeSB0byBwaWNrIHRoZSBvbmVcbiAgICAgICAgLy8gdGhhdCB3ZSB0aGluayB3b3VsZCB3b3JrIGJlc3QgZm9yIHRoaXMga2V5XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBfZ2V0UmV2ZXJzZU1hcCgpW2tleV0gPyAna2V5ZG93bicgOiAna2V5cHJlc3MnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW9kaWZpZXIga2V5cyBkb24ndCB3b3JrIGFzIGV4cGVjdGVkIHdpdGgga2V5cHJlc3MsXG4gICAgICAgIC8vIHN3aXRjaCB0byBrZXlkb3duXG4gICAgICAgIGlmIChhY3Rpb24gPT0gJ2tleXByZXNzJyAmJiBtb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSAna2V5ZG93bic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGZyb20gYSBzdHJpbmcga2V5IGNvbWJpbmF0aW9uIHRvIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNvbWJpbmF0aW9uIGxpa2UgXCJjb21tYW5kK3NoaWZ0K2xcIlxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9rZXlzRnJvbVN0cmluZyhjb21iaW5hdGlvbikge1xuICAgICAgICBpZiAoY29tYmluYXRpb24gPT09ICcrJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnKyddO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tYmluYXRpb24gPSBjb21iaW5hdGlvbi5yZXBsYWNlKC9cXCt7Mn0vZywgJytwbHVzJyk7XG4gICAgICAgIHJldHVybiBjb21iaW5hdGlvbi5zcGxpdCgnKycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgaW5mbyBmb3IgYSBzcGVjaWZpYyBrZXkgY29tYmluYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gY29tYmluYXRpb24ga2V5IGNvbWJpbmF0aW9uIChcImNvbW1hbmQrc1wiIG9yIFwiYVwiIG9yIFwiKlwiKVxuICAgICAqIEBwYXJhbSAge3N0cmluZz19IGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZnVuY3Rpb24gX2dldEtleUluZm8oY29tYmluYXRpb24sIGFjdGlvbikge1xuICAgICAgICB2YXIga2V5cztcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBtb2RpZmllcnMgPSBbXTtcblxuICAgICAgICAvLyB0YWtlIHRoZSBrZXlzIGZyb20gdGhpcyBwYXR0ZXJuIGFuZCBmaWd1cmUgb3V0IHdoYXQgdGhlIGFjdHVhbFxuICAgICAgICAvLyBwYXR0ZXJuIGlzIGFsbCBhYm91dFxuICAgICAgICBrZXlzID0gX2tleXNGcm9tU3RyaW5nKGNvbWJpbmF0aW9uKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGtleSBuYW1lc1xuICAgICAgICAgICAgaWYgKF9TUEVDSUFMX0FMSUFTRVNba2V5XSkge1xuICAgICAgICAgICAgICAgIGtleSA9IF9TUEVDSUFMX0FMSUFTRVNba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBrZXlwcmVzcyBldmVudCB0aGVuIHdlIHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgc21hcnQgYWJvdXQgdXNpbmcgc2hpZnQga2V5c1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIG9ubHkgd29yayBmb3IgVVMga2V5Ym9hcmRzIGhvd2V2ZXJcbiAgICAgICAgICAgIGlmIChhY3Rpb24gJiYgYWN0aW9uICE9ICdrZXlwcmVzcycgJiYgX1NISUZUX01BUFtrZXldKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gX1NISUZUX01BUFtrZXldO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycy5wdXNoKCdzaGlmdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGtleSBpcyBhIG1vZGlmaWVyIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0IG9mIG1vZGlmaWVyc1xuICAgICAgICAgICAgaWYgKF9pc01vZGlmaWVyKGtleSkpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGtleSBjb21iaW5hdGlvbiBpc1xuICAgICAgICAvLyB3ZSB3aWxsIHRyeSB0byBwaWNrIHRoZSBiZXN0IGV2ZW50IGZvciBpdFxuICAgICAgICBhY3Rpb24gPSBfcGlja0Jlc3RBY3Rpb24oa2V5LCBtb2RpZmllcnMsIGFjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMsXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9iZWxvbmdzVG8oZWxlbWVudCwgYW5jZXN0b3IpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50ID09PSBhbmNlc3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2JlbG9uZ3NUbyhlbGVtZW50LnBhcmVudE5vZGUsIGFuY2VzdG9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBNb3VzZXRyYXAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQgfHwgZG9jdW1lbnQ7XG5cbiAgICAgICAgaWYgKCEoc2VsZiBpbnN0YW5jZW9mIE1vdXNldHJhcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW91c2V0cmFwKHRhcmdldEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVsZW1lbnQgdG8gYXR0YWNoIGtleSBldmVudHMgdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnRhcmdldCA9IHRhcmdldEVsZW1lbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgbGlzdCBvZiBhbGwgdGhlIGNhbGxiYWNrcyBzZXR1cCB2aWEgTW91c2V0cmFwLmJpbmQoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5fY2FsbGJhY2tzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcmVjdCBtYXAgb2Ygc3RyaW5nIGNvbWJpbmF0aW9ucyB0byBjYWxsYmFja3MgdXNlZCBmb3IgdHJpZ2dlcigpXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLl9kaXJlY3RNYXAgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICoga2VlcHMgdHJhY2sgb2Ygd2hhdCBsZXZlbCBlYWNoIHNlcXVlbmNlIGlzIGF0IHNpbmNlIG11bHRpcGxlXG4gICAgICAgICAqIHNlcXVlbmNlcyBjYW4gc3RhcnQgb3V0IHdpdGggdGhlIHNhbWUgc2VxdWVuY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfc2VxdWVuY2VMZXZlbHMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdmFyaWFibGUgdG8gc3RvcmUgdGhlIHNldFRpbWVvdXQgY2FsbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVsbHxudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3Jlc2V0VGltZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRlbXBvcmFyeSBzdGF0ZSB3aGVyZSB3ZSB3aWxsIGlnbm9yZSB0aGUgbmV4dCBrZXl1cFxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX2lnbm9yZU5leHRLZXl1cCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZW1wb3Jhcnkgc3RhdGUgd2hlcmUgd2Ugd2lsbCBpZ25vcmUgdGhlIG5leHQga2V5cHJlc3NcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX2lnbm9yZU5leHRLZXlwcmVzcyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhcmUgd2UgY3VycmVudGx5IGluc2lkZSBvZiBhIHNlcXVlbmNlP1xuICAgICAgICAgKiB0eXBlIG9mIGFjdGlvbiAoXCJrZXl1cFwiIG9yIFwia2V5ZG93blwiIG9yIFwia2V5cHJlc3NcIikgb3IgZmFsc2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW58c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9uZXh0RXhwZWN0ZWRBY3Rpb24gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVzZXRzIGFsbCBzZXF1ZW5jZSBjb3VudGVycyBleGNlcHQgZm9yIHRoZSBvbmVzIHBhc3NlZCBpblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZG9Ob3RSZXNldFxuICAgICAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBfcmVzZXRTZXF1ZW5jZXMoZG9Ob3RSZXNldCkge1xuICAgICAgICAgICAgZG9Ob3RSZXNldCA9IGRvTm90UmVzZXQgfHwge307XG5cbiAgICAgICAgICAgIHZhciBhY3RpdmVTZXF1ZW5jZXMgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBrZXk7XG5cbiAgICAgICAgICAgIGZvciAoa2V5IGluIF9zZXF1ZW5jZUxldmVscykge1xuICAgICAgICAgICAgICAgIGlmIChkb05vdFJlc2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2VxdWVuY2VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9zZXF1ZW5jZUxldmVsc1trZXldID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFhY3RpdmVTZXF1ZW5jZXMpIHtcbiAgICAgICAgICAgICAgICBfbmV4dEV4cGVjdGVkQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogZmluZHMgYWxsIGNhbGxiYWNrcyB0aGF0IG1hdGNoIGJhc2VkIG9uIHRoZSBrZXljb2RlLCBtb2RpZmllcnMsXG4gICAgICAgICAqIGFuZCBhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlclxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnNcbiAgICAgICAgICogQHBhcmFtIHtFdmVudHxPYmplY3R9IGVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBzZXF1ZW5jZU5hbWUgLSBuYW1lIG9mIHRoZSBzZXF1ZW5jZSB3ZSBhcmUgbG9va2luZyBmb3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjb21iaW5hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcj19IGxldmVsXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9nZXRNYXRjaGVzKGNoYXJhY3RlciwgbW9kaWZpZXJzLCBlLCBzZXF1ZW5jZU5hbWUsIGNvbWJpbmF0aW9uLCBsZXZlbCkge1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGUudHlwZTtcblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIGV2ZW50cyByZWxhdGVkIHRvIHRoaXMga2V5Y29kZVxuICAgICAgICAgICAgaWYgKCFzZWxmLl9jYWxsYmFja3NbY2hhcmFjdGVyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgYSBtb2RpZmllciBrZXkgaXMgY29taW5nIHVwIG9uIGl0cyBvd24gd2Ugc2hvdWxkIGFsbG93IGl0XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09ICdrZXl1cCcgJiYgX2lzTW9kaWZpZXIoY2hhcmFjdGVyKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IFtjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggYWxsIGNhbGxiYWNrcyBmb3IgdGhlIGtleSB0aGF0IHdhcyBwcmVzc2VkXG4gICAgICAgICAgICAvLyBhbmQgc2VlIGlmIGFueSBvZiB0aGVtIG1hdGNoXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2VsZi5fY2FsbGJhY2tzW2NoYXJhY3Rlcl0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHNlbGYuX2NhbGxiYWNrc1tjaGFyYWN0ZXJdW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgYSBzZXF1ZW5jZSBuYW1lIGlzIG5vdCBzcGVjaWZpZWQsIGJ1dCB0aGlzIGlzIGEgc2VxdWVuY2UgYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgd3JvbmcgbGV2ZWwgdGhlbiBtb3ZlIG9udG8gdGhlIG5leHQgbWF0Y2hcbiAgICAgICAgICAgICAgICBpZiAoIXNlcXVlbmNlTmFtZSAmJiBjYWxsYmFjay5zZXEgJiYgX3NlcXVlbmNlTGV2ZWxzW2NhbGxiYWNrLnNlcV0gIT0gY2FsbGJhY2subGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFjdGlvbiB3ZSBhcmUgbG9va2luZyBmb3IgZG9lc24ndCBtYXRjaCB0aGUgYWN0aW9uIHdlIGdvdFxuICAgICAgICAgICAgICAgIC8vIHRoZW4gd2Ugc2hvdWxkIGtlZXAgZ29pbmdcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uICE9IGNhbGxiYWNrLmFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEga2V5cHJlc3MgZXZlbnQgYW5kIHRoZSBtZXRhIGtleSBhbmQgY29udHJvbCBrZXlcbiAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHByZXNzZWQgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gb25seSBsb29rIGF0IHRoZVxuICAgICAgICAgICAgICAgIC8vIGNoYXJhY3Rlciwgb3RoZXJ3aXNlIGNoZWNrIHRoZSBtb2RpZmllcnMgYXMgd2VsbFxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gY2hyb21lIHdpbGwgbm90IGZpcmUgYSBrZXlwcmVzcyBpZiBtZXRhIG9yIGNvbnRyb2wgaXMgZG93blxuICAgICAgICAgICAgICAgIC8vIHNhZmFyaSB3aWxsIGZpcmUgYSBrZXlwcmVzcyBpZiBtZXRhIG9yIG1ldGErc2hpZnQgaXMgZG93blxuICAgICAgICAgICAgICAgIC8vIGZpcmVmb3ggd2lsbCBmaXJlIGEga2V5cHJlc3MgaWYgbWV0YSBvciBjb250cm9sIGlzIGRvd25cbiAgICAgICAgICAgICAgICBpZiAoKGFjdGlvbiA9PSAna2V5cHJlc3MnICYmICFlLm1ldGFLZXkgJiYgIWUuY3RybEtleSkgfHwgX21vZGlmaWVyc01hdGNoKG1vZGlmaWVycywgY2FsbGJhY2subW9kaWZpZXJzKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4geW91IGJpbmQgYSBjb21iaW5hdGlvbiBvciBzZXF1ZW5jZSBhIHNlY29uZCB0aW1lIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBvdmVyd3JpdGUgdGhlIGZpcnN0IG9uZS4gIGlmIGEgc2VxdWVuY2VOYW1lIG9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmF0aW9uIGlzIHNwZWNpZmllZCBpbiB0aGlzIGNhbGwgaXQgZG9lcyBqdXN0IHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gbWFrZSBkZWxldGluZyBpdHMgb3duIG1ldGhvZD9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZUNvbWJvID0gIXNlcXVlbmNlTmFtZSAmJiBjYWxsYmFjay5jb21ibyA9PSBjb21iaW5hdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVNlcXVlbmNlID0gc2VxdWVuY2VOYW1lICYmIGNhbGxiYWNrLnNlcSA9PSBzZXF1ZW5jZU5hbWUgJiYgY2FsbGJhY2subGV2ZWwgPT0gbGV2ZWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGVDb21ibyB8fCBkZWxldGVTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2tzW2NoYXJhY3Rlcl0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFjdHVhbGx5IGNhbGxzIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBpZiB5b3VyIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UgdGhpcyB3aWxsIHVzZSB0aGUganF1ZXJ5XG4gICAgICAgICAqIGNvbnZlbnRpb24gLSBwcmV2ZW50IGRlZmF1bHQgYW5kIHN0b3AgcHJvcG9nYXRpb24gb24gdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2ZpcmVDYWxsYmFjayhjYWxsYmFjaywgZSwgY29tYm8sIHNlcXVlbmNlKSB7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZXZlbnQgc2hvdWxkIG5vdCBoYXBwZW4gc3RvcCBoZXJlXG4gICAgICAgICAgICBpZiAoc2VsZi5zdG9wQ2FsbGJhY2soZSwgZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50LCBjb21ibywgc2VxdWVuY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2soZSwgY29tYm8pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgICAgICAgICBfc3RvcFByb3BhZ2F0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhhbmRsZXMgYSBjaGFyYWN0ZXIga2V5IGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5faGFuZGxlS2V5ID0gZnVuY3Rpb24oY2hhcmFjdGVyLCBtb2RpZmllcnMsIGUpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBfZ2V0TWF0Y2hlcyhjaGFyYWN0ZXIsIG1vZGlmaWVycywgZSk7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBkb05vdFJlc2V0ID0ge307XG4gICAgICAgICAgICB2YXIgbWF4TGV2ZWwgPSAwO1xuICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFNlcXVlbmNlQ2FsbGJhY2sgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBtYXhMZXZlbCBmb3Igc2VxdWVuY2VzIHNvIHdlIGNhbiBvbmx5IGV4ZWN1dGUgdGhlIGxvbmdlc3QgY2FsbGJhY2sgc2VxdWVuY2VcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2ldLnNlcSkge1xuICAgICAgICAgICAgICAgICAgICBtYXhMZXZlbCA9IE1hdGgubWF4KG1heExldmVsLCBjYWxsYmFja3NbaV0ubGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIG1hdGNoaW5nIGNhbGxiYWNrcyBmb3IgdGhpcyBrZXkgZXZlbnRcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgICAgIC8vIGZpcmUgZm9yIGFsbCBzZXF1ZW5jZSBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGJlY2F1c2UgaWYgZm9yIGV4YW1wbGUgeW91IGhhdmUgbXVsdGlwbGUgc2VxdWVuY2VzXG4gICAgICAgICAgICAgICAgLy8gYm91bmQgc3VjaCBhcyBcImcgaVwiIGFuZCBcImcgdFwiIHRoZXkgYm90aCBuZWVkIHRvIGZpcmUgdGhlXG4gICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sgZm9yIG1hdGNoaW5nIGcgY2F1c2Ugb3RoZXJ3aXNlIHlvdSBjYW4gb25seSBldmVyXG4gICAgICAgICAgICAgICAgLy8gbWF0Y2ggdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3NbaV0uc2VxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBmaXJlIGNhbGxiYWNrcyBmb3IgdGhlIG1heExldmVsIHRvIHByZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gc3Vic2VxdWVuY2VzIGZyb20gYWxzbyBmaXJpbmdcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGUgJ2Egb3B0aW9uIGInIHNob3VsZCBub3QgY2F1c2UgJ29wdGlvbiBiJyB0byBmaXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gdGhvdWdoICdvcHRpb24gYicgaXMgcGFydCBvZiB0aGUgb3RoZXIgc2VxdWVuY2VcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gYW55IHNlcXVlbmNlcyB0aGF0IGRvIG5vdCBtYXRjaCBoZXJlIHdpbGwgYmUgZGlzY2FyZGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlbG93IGJ5IHRoZSBfcmVzZXRTZXF1ZW5jZXMgY2FsbFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2ldLmxldmVsICE9IG1heExldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZFNlcXVlbmNlQ2FsbGJhY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgYSBsaXN0IG9mIHdoaWNoIHNlcXVlbmNlcyB3ZXJlIG1hdGNoZXMgZm9yIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIGRvTm90UmVzZXRbY2FsbGJhY2tzW2ldLnNlcV0gPSAxO1xuICAgICAgICAgICAgICAgICAgICBfZmlyZUNhbGxiYWNrKGNhbGxiYWNrc1tpXS5jYWxsYmFjaywgZSwgY2FsbGJhY2tzW2ldLmNvbWJvLCBjYWxsYmFja3NbaV0uc2VxKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2VyZSBubyBzZXF1ZW5jZSBtYXRjaGVzIGJ1dCB3ZSBhcmUgc3RpbGwgaGVyZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgbWVhbnMgdGhpcyBpcyBhIHJlZ3VsYXIgbWF0Y2ggc28gd2Ugc2hvdWxkIGZpcmUgdGhhdFxuICAgICAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkU2VxdWVuY2VDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBfZmlyZUNhbGxiYWNrKGNhbGxiYWNrc1tpXS5jYWxsYmFjaywgZSwgY2FsbGJhY2tzW2ldLmNvbWJvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBrZXkgeW91IHByZXNzZWQgbWF0Y2hlcyB0aGUgdHlwZSBvZiBzZXF1ZW5jZSB3aXRob3V0XG4gICAgICAgICAgICAvLyBiZWluZyBhIG1vZGlmaWVyIChpZSBcImtleXVwXCIgb3IgXCJrZXlwcmVzc1wiKSB0aGVuIHdlIHNob3VsZFxuICAgICAgICAgICAgLy8gcmVzZXQgYWxsIHNlcXVlbmNlcyB0aGF0IHdlcmUgbm90IG1hdGNoZWQgYnkgdGhpcyBldmVudFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc28sIGZvciBleGFtcGxlLCBpZiB5b3UgaGF2ZSB0aGUgc2VxdWVuY2UgXCJoIGEgdFwiIGFuZCB5b3VcbiAgICAgICAgICAgIC8vIHR5cGUgXCJoIGUgYSByIHRcIiBpdCBkb2VzIG5vdCBtYXRjaC4gIGluIHRoaXMgY2FzZSB0aGUgXCJlXCIgd2lsbFxuICAgICAgICAgICAgLy8gY2F1c2UgdGhlIHNlcXVlbmNlIHRvIHJlc2V0XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gbW9kaWZpZXIga2V5cyBhcmUgaWdub3JlZCBiZWNhdXNlIHlvdSBjYW4gaGF2ZSBhIHNlcXVlbmNlXG4gICAgICAgICAgICAvLyB0aGF0IGNvbnRhaW5zIG1vZGlmaWVycyBzdWNoIGFzIFwiZW50ZXIgY3RybCtzcGFjZVwiIGFuZCBpbiBtb3N0XG4gICAgICAgICAgICAvLyBjYXNlcyB0aGUgbW9kaWZpZXIga2V5IHdpbGwgYmUgcHJlc3NlZCBiZWZvcmUgdGhlIG5leHQga2V5XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYWxzbyBpZiB5b3UgaGF2ZSBhIHNlcXVlbmNlIHN1Y2ggYXMgXCJjdHJsK2IgYVwiIHRoZW4gcHJlc3NpbmcgdGhlXG4gICAgICAgICAgICAvLyBcImJcIiBrZXkgd2lsbCB0cmlnZ2VyIGEgXCJrZXlwcmVzc1wiIGFuZCBhIFwia2V5ZG93blwiXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhlIFwia2V5ZG93blwiIGlzIGV4cGVjdGVkIHdoZW4gdGhlcmUgaXMgYSBtb2RpZmllciwgYnV0IHRoZVxuICAgICAgICAgICAgLy8gXCJrZXlwcmVzc1wiIGVuZHMgdXAgbWF0Y2hpbmcgdGhlIF9uZXh0RXhwZWN0ZWRBY3Rpb24gc2luY2UgaXQgb2NjdXJzXG4gICAgICAgICAgICAvLyBhZnRlciBhbmQgdGhhdCBjYXVzZXMgdGhlIHNlcXVlbmNlIHRvIHJlc2V0XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gd2UgaWdub3JlIGtleXByZXNzZXMgaW4gYSBzZXF1ZW5jZSB0aGF0IGRpcmVjdGx5IGZvbGxvdyBhIGtleWRvd25cbiAgICAgICAgICAgIC8vIGZvciB0aGUgc2FtZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIHZhciBpZ25vcmVUaGlzS2V5cHJlc3MgPSBlLnR5cGUgPT0gJ2tleXByZXNzJyAmJiBfaWdub3JlTmV4dEtleXByZXNzO1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PSBfbmV4dEV4cGVjdGVkQWN0aW9uICYmICFfaXNNb2RpZmllcihjaGFyYWN0ZXIpICYmICFpZ25vcmVUaGlzS2V5cHJlc3MpIHtcbiAgICAgICAgICAgICAgICBfcmVzZXRTZXF1ZW5jZXMoZG9Ob3RSZXNldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9pZ25vcmVOZXh0S2V5cHJlc3MgPSBwcm9jZXNzZWRTZXF1ZW5jZUNhbGxiYWNrICYmIGUudHlwZSA9PSAna2V5ZG93bic7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhhbmRsZXMgYSBrZXlkb3duIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2hhbmRsZUtleUV2ZW50KGUpIHtcblxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGUud2hpY2ggZm9yIGtleSBldmVudHNcbiAgICAgICAgICAgIC8vIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mjg1NjI3L2phdmFzY3JpcHQta2V5Y29kZS12cy1jaGFyY29kZS11dHRlci1jb25mdXNpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZS53aGljaCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBlLndoaWNoID0gZS5rZXlDb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hhcmFjdGVyID0gX2NoYXJhY3RlckZyb21FdmVudChlKTtcblxuICAgICAgICAgICAgLy8gbm8gY2hhcmFjdGVyIGZvdW5kIHRoZW4gc3RvcFxuICAgICAgICAgICAgaWYgKCFjaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdXNlID09PSBmb3IgdGhlIGNoYXJhY3RlciBjaGVjayBiZWNhdXNlIHRoZSBjaGFyYWN0ZXIgY2FuIGJlIDBcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gJ2tleXVwJyAmJiBfaWdub3JlTmV4dEtleXVwID09PSBjaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBfaWdub3JlTmV4dEtleXVwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmhhbmRsZUtleShjaGFyYWN0ZXIsIF9ldmVudE1vZGlmaWVycyhlKSwgZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHRvIHNldCBhIDEgc2Vjb25kIHRpbWVvdXQgb24gdGhlIHNwZWNpZmllZCBzZXF1ZW5jZVxuICAgICAgICAgKlxuICAgICAgICAgKiB0aGlzIGlzIHNvIGFmdGVyIGVhY2gga2V5IHByZXNzIGluIHRoZSBzZXF1ZW5jZSB5b3UgaGF2ZSAxIHNlY29uZFxuICAgICAgICAgKiB0byBwcmVzcyB0aGUgbmV4dCBrZXkgYmVmb3JlIHlvdSBoYXZlIHRvIHN0YXJ0IG92ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX3Jlc2V0U2VxdWVuY2VUaW1lcigpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfcmVzZXRUaW1lcik7XG4gICAgICAgICAgICBfcmVzZXRUaW1lciA9IHNldFRpbWVvdXQoX3Jlc2V0U2VxdWVuY2VzLCAxMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kcyBhIGtleSBzZXF1ZW5jZSB0byBhbiBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tYm8gLSBjb21ibyBzcGVjaWZpZWQgaW4gYmluZCBjYWxsXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGtleXNcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2JpbmRTZXF1ZW5jZShjb21ibywga2V5cywgY2FsbGJhY2ssIGFjdGlvbikge1xuXG4gICAgICAgICAgICAvLyBzdGFydCBvZmYgYnkgYWRkaW5nIGEgc2VxdWVuY2UgbGV2ZWwgcmVjb3JkIGZvciB0aGlzIGNvbWJpbmF0aW9uXG4gICAgICAgICAgICAvLyBhbmQgc2V0dGluZyB0aGUgbGV2ZWwgdG8gMFxuICAgICAgICAgICAgX3NlcXVlbmNlTGV2ZWxzW2NvbWJvXSA9IDA7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogY2FsbGJhY2sgdG8gaW5jcmVhc2UgdGhlIHNlcXVlbmNlIGxldmVsIGZvciB0aGlzIHNlcXVlbmNlIGFuZCByZXNldFxuICAgICAgICAgICAgICogYWxsIG90aGVyIHNlcXVlbmNlcyB0aGF0IHdlcmUgYWN0aXZlXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5leHRBY3Rpb25cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gX2luY3JlYXNlU2VxdWVuY2UobmV4dEFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX25leHRFeHBlY3RlZEFjdGlvbiA9IG5leHRBY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICsrX3NlcXVlbmNlTGV2ZWxzW2NvbWJvXTtcbiAgICAgICAgICAgICAgICAgICAgX3Jlc2V0U2VxdWVuY2VUaW1lcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogd3JhcHMgdGhlIHNwZWNpZmllZCBjYWxsYmFjayBpbnNpZGUgb2YgYW5vdGhlciBmdW5jdGlvbiBpbiBvcmRlclxuICAgICAgICAgICAgICogdG8gcmVzZXQgYWxsIHNlcXVlbmNlIGNvdW50ZXJzIGFzIHNvb24gYXMgdGhpcyBzZXF1ZW5jZSBpcyBkb25lXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfY2FsbGJhY2tBbmRSZXNldChlKSB7XG4gICAgICAgICAgICAgICAgX2ZpcmVDYWxsYmFjayhjYWxsYmFjaywgZSwgY29tYm8pO1xuXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGlnbm9yZSB0aGUgbmV4dCBrZXkgdXAgaWYgdGhlIGFjdGlvbiBpcyBrZXkgZG93blxuICAgICAgICAgICAgICAgIC8vIG9yIGtleXByZXNzLiAgdGhpcyBpcyBzbyBpZiB5b3UgZmluaXNoIGEgc2VxdWVuY2UgYW5kXG4gICAgICAgICAgICAgICAgLy8gcmVsZWFzZSB0aGUga2V5IHRoZSBmaW5hbCBrZXkgd2lsbCBub3QgdHJpZ2dlciBhIGtleXVwXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiAhPT0gJ2tleXVwJykge1xuICAgICAgICAgICAgICAgICAgICBfaWdub3JlTmV4dEtleXVwID0gX2NoYXJhY3RlckZyb21FdmVudChlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZWlyZCByYWNlIGNvbmRpdGlvbiBpZiBhIHNlcXVlbmNlIGVuZHMgd2l0aCB0aGUga2V5XG4gICAgICAgICAgICAgICAgLy8gYW5vdGhlciBzZXF1ZW5jZSBiZWdpbnMgd2l0aFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoX3Jlc2V0U2VxdWVuY2VzLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBrZXlzIG9uZSBhdCBhIHRpbWUgYW5kIGJpbmQgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrXG4gICAgICAgICAgICAvLyBmdW5jdGlvbi4gIGZvciBhbnkga2V5IGxlYWRpbmcgdXAgdG8gdGhlIGZpbmFsIG9uZSBpdCBzaG91bGRcbiAgICAgICAgICAgIC8vIGluY3JlYXNlIHRoZSBzZXF1ZW5jZS4gYWZ0ZXIgdGhlIGZpbmFsLCBpdCBzaG91bGQgcmVzZXQgYWxsIHNlcXVlbmNlc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGlmIGFuIGFjdGlvbiBpcyBzcGVjaWZpZWQgaW4gdGhlIG9yaWdpbmFsIGJpbmQgY2FsbCB0aGVuIHRoYXQgd2lsbFxuICAgICAgICAgICAgLy8gYmUgdXNlZCB0aHJvdWdob3V0LiAgb3RoZXJ3aXNlIHdlIHdpbGwgcGFzcyB0aGUgYWN0aW9uIHRoYXQgdGhlXG4gICAgICAgICAgICAvLyBuZXh0IGtleSBpbiB0aGUgc2VxdWVuY2Ugc2hvdWxkIG1hdGNoLiAgdGhpcyBhbGxvd3MgYSBzZXF1ZW5jZVxuICAgICAgICAgICAgLy8gdG8gbWl4IGFuZCBtYXRjaCBrZXlwcmVzcyBhbmQga2V5ZG93biBldmVudHMgZGVwZW5kaW5nIG9uIHdoaWNoXG4gICAgICAgICAgICAvLyBvbmVzIGFyZSBiZXR0ZXIgc3VpdGVkIHRvIHRoZSBrZXkgcHJvdmlkZWRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBpc0ZpbmFsID0gaSArIDEgPT09IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ2FsbGJhY2sgPSBpc0ZpbmFsID8gX2NhbGxiYWNrQW5kUmVzZXQgOiBfaW5jcmVhc2VTZXF1ZW5jZShhY3Rpb24gfHwgX2dldEtleUluZm8oa2V5c1tpICsgMV0pLmFjdGlvbik7XG4gICAgICAgICAgICAgICAgX2JpbmRTaW5nbGUoa2V5c1tpXSwgd3JhcHBlZENhbGxiYWNrLCBhY3Rpb24sIGNvbWJvLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kcyBhIHNpbmdsZSBrZXlib2FyZCBjb21iaW5hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tYmluYXRpb25cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBzZXF1ZW5jZU5hbWUgLSBuYW1lIG9mIHNlcXVlbmNlIGlmIHBhcnQgb2Ygc2VxdWVuY2VcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXI9fSBsZXZlbCAtIHdoYXQgcGFydCBvZiB0aGUgc2VxdWVuY2UgdGhlIGNvbW1hbmQgaXNcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2JpbmRTaW5nbGUoY29tYmluYXRpb24sIGNhbGxiYWNrLCBhY3Rpb24sIHNlcXVlbmNlTmFtZSwgbGV2ZWwpIHtcblxuICAgICAgICAgICAgLy8gc3RvcmUgYSBkaXJlY3QgbWFwcGVkIHJlZmVyZW5jZSBmb3IgdXNlIHdpdGggTW91c2V0cmFwLnRyaWdnZXJcbiAgICAgICAgICAgIHNlbGYuX2RpcmVjdE1hcFtjb21iaW5hdGlvbiArICc6JyArIGFjdGlvbl0gPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIG11bHRpcGxlIHNwYWNlcyBpbiBhIHJvdyBiZWNvbWUgYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uID0gY29tYmluYXRpb24ucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuXG4gICAgICAgICAgICB2YXIgc2VxdWVuY2UgPSBjb21iaW5hdGlvbi5zcGxpdCgnICcpO1xuICAgICAgICAgICAgdmFyIGluZm87XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgcGF0dGVybiBpcyBhIHNlcXVlbmNlIG9mIGtleXMgdGhlbiBydW4gdGhyb3VnaCB0aGlzIG1ldGhvZFxuICAgICAgICAgICAgLy8gdG8gcmVwcm9jZXNzIGVhY2ggcGF0dGVybiBvbmUga2V5IGF0IGEgdGltZVxuICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBfYmluZFNlcXVlbmNlKGNvbWJpbmF0aW9uLCBzZXF1ZW5jZSwgY2FsbGJhY2ssIGFjdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbmZvID0gX2dldEtleUluZm8oY29tYmluYXRpb24sIGFjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0byBpbml0aWFsaXplIGFycmF5IGlmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgIC8vIGEgY2FsbGJhY2sgaXMgYWRkZWQgZm9yIHRoaXMga2V5XG4gICAgICAgICAgICBzZWxmLl9jYWxsYmFja3NbaW5mby5rZXldID0gc2VsZi5fY2FsbGJhY2tzW2luZm8ua2V5XSB8fCBbXTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFuIGV4aXN0aW5nIG1hdGNoIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgICAgICAgX2dldE1hdGNoZXMoaW5mby5rZXksIGluZm8ubW9kaWZpZXJzLCB7dHlwZTogaW5mby5hY3Rpb259LCBzZXF1ZW5jZU5hbWUsIGNvbWJpbmF0aW9uLCBsZXZlbCk7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGlzIGNhbGwgYmFjayB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIC8vIGlmIGl0IGlzIGEgc2VxdWVuY2UgcHV0IGl0IGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIC8vIGlmIG5vdCBwdXQgaXQgYXQgdGhlIGVuZFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdGhlIHdheSB0aGVzZSBhcmUgcHJvY2Vzc2VkIGV4cGVjdHNcbiAgICAgICAgICAgIC8vIHRoZSBzZXF1ZW5jZSBvbmVzIHRvIGNvbWUgZmlyc3RcbiAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrc1tpbmZvLmtleV1bc2VxdWVuY2VOYW1lID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXSh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogaW5mby5tb2RpZmllcnMsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBpbmZvLmFjdGlvbixcbiAgICAgICAgICAgICAgICBzZXE6IHNlcXVlbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBsZXZlbDogbGV2ZWwsXG4gICAgICAgICAgICAgICAgY29tYm86IGNvbWJpbmF0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kcyBtdWx0aXBsZSBjb21iaW5hdGlvbnMgdG8gdGhlIHNhbWUgY2FsbGJhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gY29tYmluYXRpb25zXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gYWN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuX2JpbmRNdWx0aXBsZSA9IGZ1bmN0aW9uKGNvbWJpbmF0aW9ucywgY2FsbGJhY2ssIGFjdGlvbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBfYmluZFNpbmdsZShjb21iaW5hdGlvbnNbaV0sIGNhbGxiYWNrLCBhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHN0YXJ0IVxuICAgICAgICBfYWRkRXZlbnQodGFyZ2V0RWxlbWVudCwgJ2tleXByZXNzJywgX2hhbmRsZUtleUV2ZW50KTtcbiAgICAgICAgX2FkZEV2ZW50KHRhcmdldEVsZW1lbnQsICdrZXlkb3duJywgX2hhbmRsZUtleUV2ZW50KTtcbiAgICAgICAgX2FkZEV2ZW50KHRhcmdldEVsZW1lbnQsICdrZXl1cCcsIF9oYW5kbGVLZXlFdmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYmluZHMgYW4gZXZlbnQgdG8gbW91c2V0cmFwXG4gICAgICpcbiAgICAgKiBjYW4gYmUgYSBzaW5nbGUga2V5LCBhIGNvbWJpbmF0aW9uIG9mIGtleXMgc2VwYXJhdGVkIHdpdGggKyxcbiAgICAgKiBhbiBhcnJheSBvZiBrZXlzLCBvciBhIHNlcXVlbmNlIG9mIGtleXMgc2VwYXJhdGVkIGJ5IHNwYWNlc1xuICAgICAqXG4gICAgICogYmUgc3VyZSB0byBsaXN0IHRoZSBtb2RpZmllciBrZXlzIGZpcnN0IHRvIG1ha2Ugc3VyZSB0aGF0IHRoZVxuICAgICAqIGNvcnJlY3Qga2V5IGVuZHMgdXAgZ2V0dGluZyBib3VuZCAodGhlIGxhc3Qga2V5IGluIHRoZSBwYXR0ZXJuKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IGtleXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uIC0gJ2tleXByZXNzJywgJ2tleWRvd24nLCBvciAna2V5dXAnXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIE1vdXNldHJhcC5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKGtleXMsIGNhbGxiYWNrLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBrZXlzID0ga2V5cyBpbnN0YW5jZW9mIEFycmF5ID8ga2V5cyA6IFtrZXlzXTtcbiAgICAgICAgc2VsZi5fYmluZE11bHRpcGxlLmNhbGwoc2VsZiwga2V5cywgY2FsbGJhY2ssIGFjdGlvbik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmRzIGFuIGV2ZW50IHRvIG1vdXNldHJhcFxuICAgICAqXG4gICAgICogdGhlIHVuYmluZGluZyBzZXRzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGtleSBjb21ib1xuICAgICAqIHRvIGFuIGVtcHR5IGZ1bmN0aW9uIGFuZCBkZWxldGVzIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpbiB0aGVcbiAgICAgKiBfZGlyZWN0TWFwIGRpY3QuXG4gICAgICpcbiAgICAgKiBUT0RPOiBhY3R1YWxseSByZW1vdmUgdGhpcyBmcm9tIHRoZSBfY2FsbGJhY2tzIGRpY3Rpb25hcnkgaW5zdGVhZFxuICAgICAqIG9mIGJpbmRpbmcgYW4gZW1wdHkgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIHRoZSBrZXljb21ibythY3Rpb24gaGFzIHRvIGJlIGV4YWN0bHkgdGhlIHNhbWUgYXNcbiAgICAgKiBpdCB3YXMgZGVmaW5lZCBpbiB0aGUgYmluZCBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBrZXlzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBNb3VzZXRyYXAucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKGtleXMsIGFjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBzZWxmLmJpbmQuY2FsbChzZWxmLCBrZXlzLCBmdW5jdGlvbigpIHt9LCBhY3Rpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB0cmlnZ2VycyBhbiBldmVudCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gYm91bmRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlzXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oa2V5cywgYWN0aW9uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYuX2RpcmVjdE1hcFtrZXlzICsgJzonICsgYWN0aW9uXSkge1xuICAgICAgICAgICAgc2VsZi5fZGlyZWN0TWFwW2tleXMgKyAnOicgKyBhY3Rpb25dKHt9LCBrZXlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIHRoZSBsaWJyYXJ5IGJhY2sgdG8gaXRzIGluaXRpYWwgc3RhdGUuICB0aGlzIGlzIHVzZWZ1bFxuICAgICAqIGlmIHlvdSB3YW50IHRvIGNsZWFyIG91dCB0aGUgY3VycmVudCBrZXlib2FyZCBzaG9ydGN1dHMgYW5kIGJpbmRcbiAgICAgKiBuZXcgb25lcyAtIGZvciBleGFtcGxlIGlmIHlvdSBzd2l0Y2ggdG8gYW5vdGhlciBwYWdlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX2NhbGxiYWNrcyA9IHt9O1xuICAgICAgICBzZWxmLl9kaXJlY3RNYXAgPSB7fTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNob3VsZCB3ZSBzdG9wIHRoaXMgZXZlbnQgYmVmb3JlIGZpcmluZyBvZmYgY2FsbGJhY2tzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBNb3VzZXRyYXAucHJvdG90eXBlLnN0b3BDYWxsYmFjayA9IGZ1bmN0aW9uKGUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGhhcyB0aGUgY2xhc3MgXCJtb3VzZXRyYXBcIiB0aGVuIG5vIG5lZWQgdG8gc3RvcFxuICAgICAgICBpZiAoKCcgJyArIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnKS5pbmRleE9mKCcgbW91c2V0cmFwICcpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfYmVsb25nc1RvKGVsZW1lbnQsIHNlbGYudGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXZlbnRzIG9yaWdpbmF0aW5nIGZyb20gYSBzaGFkb3cgRE9NIGFyZSByZS10YXJnZXR0ZWQgYW5kIGBlLnRhcmdldGAgaXMgdGhlIHNoYWRvdyBob3N0LFxuICAgICAgICAvLyBub3QgdGhlIGluaXRpYWwgZXZlbnQgdGFyZ2V0IGluIHRoZSBzaGFkb3cgdHJlZS4gTm90ZSB0aGF0IG5vdCBhbGwgZXZlbnRzIGNyb3NzIHRoZVxuICAgICAgICAvLyBzaGFkb3cgYm91bmRhcnkuXG4gICAgICAgIC8vIEZvciBzaGFkb3cgdHJlZXMgd2l0aCBgbW9kZTogJ29wZW4nYCwgdGhlIGluaXRpYWwgZXZlbnQgdGFyZ2V0IGlzIHRoZSBmaXJzdCBlbGVtZW50IGluXG4gICAgICAgIC8vIHRoZSBldmVudFx1MjAxOXMgY29tcG9zZWQgcGF0aC4gRm9yIHNoYWRvdyB0cmVlcyB3aXRoIGBtb2RlOiAnY2xvc2VkJ2AsIHRoZSBpbml0aWFsIGV2ZW50XG4gICAgICAgIC8vIHRhcmdldCBjYW5ub3QgYmUgb2J0YWluZWQuXG4gICAgICAgIGlmICgnY29tcG9zZWRQYXRoJyBpbiBlICYmIHR5cGVvZiBlLmNvbXBvc2VkUGF0aCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gRm9yIG9wZW4gc2hhZG93IHRyZWVzLCB1cGRhdGUgYGVsZW1lbnRgIHNvIHRoYXQgdGhlIGZvbGxvd2luZyBjaGVjayB3b3Jrcy5cbiAgICAgICAgICAgIHZhciBpbml0aWFsRXZlbnRUYXJnZXQgPSBlLmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxFdmVudFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5pdGlhbEV2ZW50VGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcCBmb3IgaW5wdXQsIHNlbGVjdCwgYW5kIHRleHRhcmVhXG4gICAgICAgIHJldHVybiBlbGVtZW50LnRhZ05hbWUgPT0gJ0lOUFVUJyB8fCBlbGVtZW50LnRhZ05hbWUgPT0gJ1NFTEVDVCcgfHwgZWxlbWVudC50YWdOYW1lID09ICdURVhUQVJFQScgfHwgZWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZXhwb3NlcyBfaGFuZGxlS2V5IHB1YmxpY2x5IHNvIGl0IGNhbiBiZSBvdmVyd3JpdHRlbiBieSBleHRlbnNpb25zXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS5oYW5kbGVLZXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gc2VsZi5faGFuZGxlS2V5LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGFsbG93IGN1c3RvbSBrZXkgbWFwcGluZ3NcbiAgICAgKi9cbiAgICBNb3VzZXRyYXAuYWRkS2V5Y29kZXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgX01BUFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX1JFVkVSU0VfTUFQID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdCB0aGUgZ2xvYmFsIG1vdXNldHJhcCBmdW5jdGlvbnNcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5lZWRlZCB0byBhbGxvdyB0aGUgZ2xvYmFsIG1vdXNldHJhcCBmdW5jdGlvbnMgdG8gd29ya1xuICAgICAqIG5vdyB0aGF0IG1vdXNldHJhcCBpcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIE1vdXNldHJhcC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkb2N1bWVudE1vdXNldHJhcCA9IE1vdXNldHJhcChkb2N1bWVudCk7XG4gICAgICAgIGZvciAodmFyIG1ldGhvZCBpbiBkb2N1bWVudE1vdXNldHJhcCkge1xuICAgICAgICAgICAgaWYgKG1ldGhvZC5jaGFyQXQoMCkgIT09ICdfJykge1xuICAgICAgICAgICAgICAgIE1vdXNldHJhcFttZXRob2RdID0gKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRNb3VzZXRyYXBbbWV0aG9kXS5hcHBseShkb2N1bWVudE1vdXNldHJhcCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IChtZXRob2QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBNb3VzZXRyYXAuaW5pdCgpO1xuXG4gICAgLy8gZXhwb3NlIG1vdXNldHJhcCB0byB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIHdpbmRvdy5Nb3VzZXRyYXAgPSBNb3VzZXRyYXA7XG5cbiAgICAvLyBleHBvc2UgYXMgYSBjb21tb24ganMgbW9kdWxlXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gTW91c2V0cmFwO1xuICAgIH1cblxuICAgIC8vIGV4cG9zZSBtb3VzZXRyYXAgYXMgYW4gQU1EIG1vZHVsZVxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1vdXNldHJhcDtcbiAgICAgICAgfSk7XG4gICAgfVxufSkgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogbnVsbCwgdHlwZW9mICB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiBudWxsKTtcbiIsICIvKiFcbiAqICBob3dsZXIuanMgdjIuMi4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMjAsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHN0b3BwaW5nIGFsbCBzb3VuZHMgZ2xvYmFsbHkuXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCBzdG9wIHRoZW0uXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2VsZi5faG93bHNbaV0uc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciB1YSA9IHNlbGYuX25hdmlnYXRvciA/IHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQgOiAnJztcbiAgICAgIHZhciBjaGVja09wZXJhID0gdWEubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcbiAgICAgIHZhciBjaGVja1NhZmFyaSA9IHVhLmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTE7XG4gICAgICB2YXIgc2FmYXJpVmVyc2lvbiA9IHVhLm1hdGNoKC9WZXJzaW9uXFwvKC4qPykgLyk7XG4gICAgICB2YXIgaXNPbGRTYWZhcmkgPSAoY2hlY2tTYWZhcmkgJiYgc2FmYXJpVmVyc2lvbiAmJiBwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdLCAxMCkgPCAxNSk7XG5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdhdjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGFhYzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBjYWY6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWNhZjsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtNGE6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJhOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICB3ZWJtOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU29tZSBicm93c2Vycy9kZXZpY2VzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF91bmxvY2tBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIGlmIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQgYW5kIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gdW5sb2NrZWQuXG4gICAgICBpZiAoc2VsZi5fYXVkaW9VbmxvY2tlZCB8fCAhc2VsZi5jdHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gZmFsc2U7XG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSBmYWxzZTtcblxuICAgICAgLy8gU29tZSBtb2JpbGUgZGV2aWNlcy9wbGF0Zm9ybXMgaGF2ZSBkaXN0b3J0aW9uIGlzc3VlcyB3aGVuIG9wZW5pbmcvY2xvc2luZyB0YWJzIGFuZC9vciB3ZWIgdmlld3MuXG4gICAgICAvLyBCdWdzIGluIHRoZSBicm93c2VyIChlc3BlY2lhbGx5IE1vYmlsZSBTYWZhcmkpIGNhbiBjYXVzZSB0aGUgc2FtcGxlUmF0ZSB0byBjaGFuZ2UgZnJvbSA0NDEwMCB0byA0ODAwMC5cbiAgICAgIC8vIEJ5IGNhbGxpbmcgSG93bGVyLnVubG9hZCgpLCB3ZSBjcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHdpdGggdGhlIGNvcnJlY3Qgc2FtcGxlUmF0ZS5cbiAgICAgIGlmICghc2VsZi5fbW9iaWxlVW5sb2FkZWQgJiYgc2VsZi5jdHguc2FtcGxlUmF0ZSAhPT0gNDQxMDApIHtcbiAgICAgICAgc2VsZi5fbW9iaWxlVW5sb2FkZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTY3JhdGNoIGJ1ZmZlciBmb3IgZW5hYmxpbmcgaU9TIHRvIGRpc3Bvc2Ugb2Ygd2ViIGF1ZGlvIGJ1ZmZlcnMgY29ycmVjdGx5LCBhcyBwZXI6XG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI0MTE5Njg0XG4gICAgICBzZWxmLl9zY3JhdGNoQnVmZmVyID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcblxuICAgICAgLy8gQ2FsbCB0aGlzIG1ldGhvZCBvbiB0b3VjaCBzdGFydCB0byBjcmVhdGUgYW5kIHBsYXkgYSBidWZmZXIsXG4gICAgICAvLyB0aGVuIGNoZWNrIGlmIHRoZSBhdWRpbyBhY3R1YWxseSBwbGF5ZWQgdG8gZGV0ZXJtaW5lIGlmXG4gICAgICAvLyBhdWRpbyBoYXMgbm93IGJlZW4gdW5sb2NrZWQgb24gaU9TLCBBbmRyb2lkLCBldGMuXG4gICAgICB2YXIgdW5sb2NrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBwb29sIG9mIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdHMgdGhhdCBjYW5cbiAgICAgICAgLy8gYmUgdXNlZCBmb3IgcGxheWluZyBzb3VuZHMgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLiBIVE1MNVxuICAgICAgICAvLyBBdWRpbyBvYmplY3RzIG11c3QgYmUgaW5kaXZpZHVhbGx5IHVubG9ja2VkLCBhcyBvcHBvc2VkXG4gICAgICAgIC8vIHRvIHRoZSBXZWJBdWRpbyBBUEkgd2hpY2ggb25seSBuZWVkcyBhIHNpbmdsZSBhY3RpdmF0aW9uLlxuICAgICAgICAvLyBUaGlzIG11c3Qgb2NjdXIgYmVmb3JlIFdlYkF1ZGlvIHNldHVwIG9yIHRoZSBzb3VyY2Uub25lbmRlZFxuICAgICAgICAvLyBldmVudCB3aWxsIG5vdCBmaXJlLlxuICAgICAgICB3aGlsZSAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoIDwgc2VsZi5odG1sNVBvb2xTaXplKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhdWRpb05vZGUgPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIEF1ZGlvIG9iamVjdCBhcyB1bmxvY2tlZCB0byBlbnN1cmUgaXQgY2FuIGdldCByZXR1cm5lZFxuICAgICAgICAgICAgLy8gdG8gdGhlIHVubG9ja2VkIHBvb2wgd2hlbiByZWxlYXNlZC5cbiAgICAgICAgICAgIGF1ZGlvTm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGF1ZGlvIG5vZGUgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgICBzZWxmLl9yZWxlYXNlSHRtbDVBdWRpbyhhdWRpb05vZGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW55IGFzc2lnbmVkIGF1ZGlvIG5vZGVzIGFuZCB1bmxvY2sgdGhlbS5cbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCB1bmxvY2sgdGhlIGF1ZGlvIG5vZGVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5fdW5sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmxvYWQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpeCBBbmRyb2lkIGNhbiBub3QgcGxheSBpbiBzdXNwZW5kIHN0YXRlLlxuICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxsaW5nIHJlc3VtZSgpIG9uIGEgc3RhY2sgaW5pdGlhdGVkIGJ5IHVzZXIgZ2VzdHVyZSBpcyB3aGF0IGFjdHVhbGx5IHVubG9ja3MgdGhlIGF1ZGlvIG9uIEFuZHJvaWQgQ2hyb21lID49IDU1LlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dXAgYSB0aW1lb3V0IHRvIGNoZWNrIHRoYXQgd2UgYXJlIHVubG9ja2VkIG9uIHRoZSBuZXh0IGV2ZW50IGxvb3AuXG4gICAgICAgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoMCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHVubG9ja2VkIHN0YXRlIGFuZCBwcmV2ZW50IHRoaXMgY2hlY2sgZnJvbSBoYXBwZW5pbmcgYWdhaW4uXG4gICAgICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHRvdWNoIHN0YXJ0IGxpc3RlbmVyLlxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBMZXQgYWxsIHNvdW5kcyBrbm93IHRoYXQgYXVkaW8gaGFzIGJlZW4gdW5sb2NrZWQuXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgndW5sb2NrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuXG4gICAgICAgIC8vIEhhbmRsZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgc3VzcGVuZGluZy5cbiAgICAgICAgdmFyIGhhbmRsZVN1c3BlbnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhlIHN0YXRlIGdldHMgc3VzcGVuZGVkIG9yIGl0IGlzIGludGVycnVwdGVkLlxuICAgICAgICAvLyBFaXRoZXIgd2F5LCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGUgdG8gc3VzcGVuZGVkLlxuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihoYW5kbGVTdXNwZW5zaW9uLCBoYW5kbGVTdXNwZW5zaW9uKTtcbiAgICAgIH0sIDMwMDAwKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVzdW1lIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IHdoZW4gYSBuZXcgc291bmQgaXMgcGxheWVkLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfYXV0b1Jlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICghc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJyAmJiBzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kZWQnIHx8IHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSA9PT0gJ2ludGVycnVwdGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicgfHwgby5wcmVsb2FkID09PSAnbWV0YWRhdGEnKSA/IG8ucHJlbG9hZCA6IHRydWU7XG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XG4gICAgICBzZWxmLl94aHIgPSB7XG4gICAgICAgIG1ldGhvZDogby54aHIgJiYgby54aHIubWV0aG9kID8gby54aHIubWV0aG9kIDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IG8ueGhyICYmIG8ueGhyLmhlYWRlcnMgPyBvLnhoci5oZWFkZXJzIDogbnVsbCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBvLnhociAmJiBvLnhoci53aXRoQ3JlZGVudGlhbHMgPyBvLnhoci53aXRoQ3JlZGVudGlhbHMgOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcbiAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uZW5kID0gby5vbmVuZCA/IFt7Zm46IG8ub25lbmR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25mYWRlID0gby5vbmZhZGUgPyBbe2ZuOiBvLm9uZmFkZX1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWQgPSBvLm9ubG9hZCA/IFt7Zm46IG8ub25sb2FkfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZGVycm9yID0gby5vbmxvYWRlcnJvciA/IFt7Zm46IG8ub25sb2FkZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wbGF5ZXJyb3IgPSBvLm9ucGxheWVycm9yID8gW3tmbjogby5vbnBsYXllcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udW5sb2NrID0gby5vbnVubG9jayA/IFt7Zm46IG8ub251bmxvY2t9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yZXN1bWUgPSBbXTtcblxuICAgICAgLy8gV2ViIEF1ZGlvIG9yIEhUTUw1IEF1ZGlvP1xuICAgICAgc2VsZi5fd2ViQXVkaW8gPSBIb3dsZXIudXNpbmdXZWJBdWRpbyAmJiAhc2VsZi5faHRtbDU7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJ5IHRvIGVuYWJsZSBhdWRpby5cbiAgICAgIGlmICh0eXBlb2YgSG93bGVyLmN0eCAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eCAmJiBIb3dsZXIuYXV0b1VubG9jaykge1xuICAgICAgICBIb3dsZXIuX3VubG9ja0F1ZGlvKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhpcyBIb3dsIGdyb3VwIGluIHRoZSBnbG9iYWwgY29udHJvbGxlci5cbiAgICAgIEhvd2xlci5faG93bHMucHVzaChzZWxmKTtcblxuICAgICAgLy8gSWYgdGhleSBzZWxlY3RlZCBhdXRvcGxheSwgYWRkIGEgcGxheSBldmVudCB0byB0aGUgbG9hZCBxdWV1ZS5cbiAgICAgIGlmIChzZWxmLl9hdXRvcGxheSkge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2UgZmlsZSB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAgICAgIGlmIChzZWxmLl9wcmVsb2FkICYmIHNlbGYuX3ByZWxvYWQgIT09ICdub25lJykge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzLCBwbGF5IHRoYXQgc291bmQuIElmIG5vdCwgY29udGludWUgYXMgdXN1YWwuXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIEhvd2xlci5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcpIHtcbiAgICAgICAgICBwbGF5V2ViQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXVkaW8gY29udGV4dCB0byByZXN1bWUgYmVmb3JlIHBsYXlpbmcuXG4gICAgICAgICAgc2VsZi5vbmNlKCdyZXN1bWUnLCBwbGF5V2ViQXVkaW8pO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBIVE1MNSBBdWRpbyBwbGF5YmFjay5cbiAgICAgICAgdmFyIHBsYXlIdG1sNSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIG5vZGUubXV0ZWQgPSBzb3VuZC5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQgfHwgSG93bGVyLl9tdXRlZCB8fCBub2RlLm11dGVkO1xuICAgICAgICAgIG5vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xuXG4gICAgICAgICAgLy8gU29tZSBicm93c2VycyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoaXMgaXMgY2FsbGVkIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHBsYXkgPSBub2RlLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJvbWlzZXMsIGFuZCB0aHVzIGRvbid0IGhhdmUgdGhpcyBpc3N1ZS5cbiAgICAgICAgICAgIGlmIChwbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAocGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHBsYXkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgLy8gSW1wbGVtZW50cyBhIGxvY2sgdG8gcHJldmVudCBET01FeGNlcHRpb246IFRoZSBwbGF5KCkgcmVxdWVzdCB3YXMgaW50ZXJydXB0ZWQgYnkgYSBjYWxsIHRvIHBhdXNlKCkuXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAvLyBTZXQgcGFyYW0gdmFsdWVzIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcblxuICAgICAgICAgICAgICAvLyBSZWxlYXNlcyB0aGUgbG9jayBhbmQgZXhlY3V0ZXMgcXVldWVkIGFjdGlvbnMuXG4gICAgICAgICAgICAgIHBsYXlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dGluZyByYXRlIGJlZm9yZSBwbGF5aW5nIHdvbid0IHdvcmsgaW4gSUUsIHNvIHdlIHNldCBpdCBhZ2FpbiBoZXJlLlxuICAgICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgc3RpbGwgcGF1c2VkLCB0aGVuIHdlIGNhbiBhc3N1bWUgdGhlcmUgd2FzIGEgcGxheWJhY2sgaXNzdWUuXG4gICAgICAgICAgICBpZiAobm9kZS5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXR1cCB0aGUgZW5kIHRpbWVyIG9uIHNwcml0ZXMgb3IgbGlzdGVuIGZvciB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICAgICAgICBpZiAoc3ByaXRlICE9PSAnX19kZWZhdWx0JyB8fCBzb3VuZC5fbG9vcCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlIGVuZGVkIG9uIHRoaXMgYXVkaW8gbm9kZS5cbiAgICAgICAgICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBzdHJlYW1pbmcgYXVkaW8sIG1ha2Ugc3VyZSB0aGUgc3JjIGlzIHNldCBhbmQgbG9hZCBhZ2Fpbi5cbiAgICAgICAgaWYgKG5vZGUuc3JjID09PSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnKSB7XG4gICAgICAgICAgbm9kZS5zcmMgPSBzZWxmLl9zcmM7XG4gICAgICAgICAgbm9kZS5sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9ICh3aW5kb3cgJiYgd2luZG93LmVqZWN0YSkgfHwgKCFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7XG4gICAgICAgIGlmIChub2RlLnJlYWR5U3RhdGUgPj0gMyB8fCBsb2FkZWROb1JlYWR5U3RhdGUpIHtcbiAgICAgICAgICBwbGF5SHRtbDUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEJlZ2luIHBsYXliYWNrLlxuICAgICAgICAgICAgcGxheUh0bWw1KCk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgcGxheWJhY2sgYW5kIHNhdmUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gcGF1c2UgYWxsIGluIGdyb3VwKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHBhdXNlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCBvciBhIHBsYXkoKSBwcm9taXNlIGlzIHBlbmRpbmcsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBwYXVzZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGF1c2UnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBwYXVzZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQgJiYgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlbGYuc2VlayhpZHNbaV0pO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQncyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxpdmUgc3RyZWFtLCBzdG9wIGRvd25sb2FkIG9uY2UgdGhlIGF1ZGlvIGlzIHN0b3BwZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXV0ZS91bm11dGUgYSBzaW5nbGUgc291bmQgb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgU2V0IHRvIHRydWUgdG8gbXV0ZSBhbmQgZmFsc2UgdG8gdW5tdXRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgVGhlIHNvdW5kIElEIHRvIHVwZGF0ZSAob21pdCB0byBtdXRlL3VubXV0ZSBhbGwpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQsIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gbXV0ZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIGFjdGl2ZSBmYWRlIGFuZCBzZXQgdGhlIHZvbHVtZSB0byB0aGUgZW5kIHZhbHVlLlxuICAgICAgICAgIGlmIChzb3VuZC5faW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgdm9sLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAndm9sdW1lJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHZvbHVtZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgICBpZiAoIWFyZ3NbMl0pIHtcbiAgICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gdm9sICogSG93bGVyLnZvbHVtZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCd2b2x1bWUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9zb3VuZHNbMF07XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl92b2x1bWUgOiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmFkZSBhIGN1cnJlbnRseSBwbGF5aW5nIHNvdW5kIGJldHdlZW4gdHdvIHZvbHVtZXMgKGlmIG5vIGlkIGlzIHBhc3NlZCwgYWxsIHNvdW5kcyB3aWxsIGZhZGUpLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIChvbWl0IHRvIGZhZGUgYWxsIHNvdW5kcykuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBmYWRlOiBmdW5jdGlvbihmcm9tLCB0bywgbGVuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGZhZGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ2ZhZGUnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmZhZGUoZnJvbSwgdG8sIGxlbiwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdG8vZnJvbS9sZW4gdmFsdWVzIGFyZSBudW1iZXJzLlxuICAgICAgZnJvbSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQoZnJvbSkpLCAxKTtcbiAgICAgIHRvID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdCh0bykpLCAxKTtcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdm9sID0gZnJvbTtcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xuXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2b2x1bWUgaXMgaW4gdGhlIHJpZ2h0IGJvdW5kcy5cbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5tYXgodG8sIHZvbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5taW4odG8sIHZvbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBMZW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcblxuICAgICAgICAgICAgICAvLyBJZiBwbGF5aW5nLCByZXN0YXJ0IHBsYXliYWNrIHRvIGVuc3VyZSBsb29waW5nIHVwZGF0ZXMuXG4gICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHNlbGYucGF1c2UoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZWxmLnBsYXkoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICByYXRlKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShyYXRlKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgcmF0ZShyYXRlLCBpZCkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqL1xuICAgIHJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgcmF0ZSwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcmF0ZSBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgcmF0ZSB2YWx1ZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBwbGF5YmFjayByYXRlIG9yIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2YgcmF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcGxheWJhY2sgcmF0ZSB3aGVuIGNhcGFibGUuXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAncmF0ZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnJhdGUuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgcmF0ZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl9yYXRlID0gcmF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBvdXIgcG9zaXRpb24gd2hlbiB0aGUgcmF0ZSBjaGFuZ2VkIGFuZCB1cGRhdGUgdGhlIHBsYXliYWNrXG4gICAgICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBzbyB3ZSBjYW4gcHJvcGVybHkgYWRqdXN0IHRoZSBzZWVrIHBvc2l0aW9uIGZvciB0aW1lIGVsYXBzZWQuXG4gICAgICAgICAgICBpZiAoc2VsZi5wbGF5aW5nKGlkW2ldKSkge1xuICAgICAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gc2VsZi5fd2ViQXVkaW8gPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIDogc291bmQuX3BsYXlTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdW5kLl9yYXRlID0gcmF0ZTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBwbGF5YmFjayByYXRlLlxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWVrLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNvdW5kc1tpXS5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZuIHx8IGlkKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG5cbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcblxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxuICAgICAqL1xuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXG4gICAgICovXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLl9kcmFpbigpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxuICAgICAqL1xuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xuICAgICAgdmFyIGNudCA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIGNudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY250LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cbiAgICAgKi9cbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcblxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xuICAgICAgfVxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XG5cbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXG4gICAgICovXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGlmICghY2hlY2tJRSkge1xuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIGlmICghSG93bGVyLm5vQXVkaW8pIHtcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgdGhlICdlbmRlZCcgZXZlbnQgb24gdGhlIHNvdW5kIHRvIGFjY291bnQgZm9yIGVkZ2UtY2FzZSB3aGVyZVxuICAgICAgICAvLyBhIGZpbml0ZSBzb3VuZCBoYXMgYSBkdXJhdGlvbiBvZiBJbmZpbml0eS5cbiAgICAgICAgc2VsZi5fZW5kRm4gPSBzZWxmLl9lbmRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9IHBhcmVudC5fcHJlbG9hZCA9PT0gdHJ1ZSA/ICdhdXRvJyA6IHBhcmVudC5fcHJlbG9hZDtcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG5cbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGVuZGVkIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9lbmRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBPbmx5IGhhbmRsZSB0aGUgYGVuZGVkYGAgZXZlbnQgaWYgdGhlIGR1cmF0aW9uIGlzIEluZmluaXR5LlxuICAgICAgaWYgKHBhcmVudC5fZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyZW50IGR1cmF0aW9uIHRvIG1hdGNoIHRoZSByZWFsIGF1ZGlvIGR1cmF0aW9uLlxuICAgICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzcHJpdGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgcmVhbCBkdXJhdGlvbi5cbiAgICAgICAgaWYgKHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICBwYXJlbnQuX3Nwcml0ZS5fX2RlZmF1bHRbMV0gPSBwYXJlbnQuX2R1cmF0aW9uICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgcmVndWxhciBlbmRlZCBtZXRob2QuXG4gICAgICAgIHBhcmVudC5fZW5kZWQoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lciBzaW5jZSB0aGUgZHVyYXRpb24gaXMgbm93IGNvcnJlY3QuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqL1xuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG5cbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oc2VsZi5feGhyLm1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHIud2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICAgIC8vIEFwcGx5IGFueSBjdXN0b20gaGVhZGVycyB0byB0aGUgcmVxdWVzdC5cbiAgICAgIGlmIChzZWxmLl94aHIuaGVhZGVycykge1xuICAgICAgICBPYmplY3Qua2V5cyhzZWxmLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHNlbGYuX3hoci5oZWFkZXJzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBiYWNrLlxuICAgICAgICB2YXIgY29kZSA9ICh4aHIuc3RhdHVzICsgJycpWzBdO1xuICAgICAgICBpZiAoY29kZSAhPT0gJzAnICYmIGNvZGUgIT09ICcyJyAmJiBjb2RlICE9PSAnMycpIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlY29kZUF1ZGlvRGF0YSh4aHIucmVzcG9uc2UsIHNlbGYpO1xuICAgICAgfTtcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yLCBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8uXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xuICAgICAgICAgIHNlbGYubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2FmZVhoclNlbmQoeGhyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmQgdGhlIFhIUiByZXF1ZXN0IHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2guXG4gICAqIEBwYXJhbSAge09iamVjdH0geGhyIFhIUiB0byBzZW5kLlxuICAgKi9cbiAgdmFyIHNhZmVYaHJTZW5kID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgeGhyLm9uZXJyb3IoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29kZSBhdWRpbyBkYXRhIGZyb20gYW4gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0gIHtBcnJheUJ1ZmZlcn0gYXJyYXlidWZmZXIgVGhlIGF1ZGlvIGRhdGEuXG4gICAqIEBwYXJhbSAge0hvd2x9ICAgICAgICBzZWxmXG4gICAqL1xuICB2YXIgZGVjb2RlQXVkaW9EYXRhID0gZnVuY3Rpb24oYXJyYXlidWZmZXIsIHNlbGYpIHtcbiAgICAvLyBGaXJlIGEgbG9hZCBlcnJvciBpZiBzb21ldGhpbmcgYnJva2UuXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XG4gICAgfTtcblxuICAgIC8vIExvYWQgdGhlIHNvdW5kIG9uIHN1Y2Nlc3MuXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEZWNvZGUgdGhlIGJ1ZmZlciBpbnRvIGFuIGF1ZGlvIHNvdXJjZS5cbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIpLnRoZW4oc3VjY2VzcykuY2F0Y2goZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlciwgc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTb3VuZCBpcyBub3cgbG9hZGVkLCBzbyBmaW5pc2ggc2V0dGluZyBldmVyeXRoaW5nIHVwIGFuZCBmaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICogQHBhcmFtICB7T2JqZWN0fSBidWZmZXIgVGhlIGRlY29kZWQgYnVmZmVyIHNvdW5kIHNvdXJjZS5cbiAgICovXG4gIHZhciBsb2FkU291bmQgPSBmdW5jdGlvbihzZWxmLCBidWZmZXIpIHtcbiAgICAvLyBTZXQgdGhlIGR1cmF0aW9uLlxuICAgIGlmIChidWZmZXIgJiYgIXNlbGYuX2R1cmF0aW9uKSB7XG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLl9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgc2VsZi5fZHVyYXRpb24gKiAxMDAwXX07XG4gICAgfVxuXG4gICAgLy8gRmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkJyk7XG4gICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBhdWRpbyBjb250ZXh0IHdoZW4gYXZhaWxhYmxlLCBvciBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8gbW9kZS5cbiAgICovXG4gIHZhciBzZXR1cEF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBkZXRlY3RlZCB0aGF0IFdlYiBBdWRpbyBpc24ndCBzdXBwb3J0ZWQsIGRvbid0IHJ1biB0aGlzIHN0ZXAgYWdhaW4uXG4gICAgaWYgKCFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8gYW5kIHNldHVwIHRoZSBBdWRpb0NvbnRleHQgaWYgd2UgYXJlLlxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdlYmtpdEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyB3ZWJraXRBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBhdWRpbyBjb250ZXh0IGNyZWF0aW9uIHN0aWxsIGZhaWxlZCwgc2V0IHVzaW5nIHdlYiBhdWRpbyB0byBmYWxzZS5cbiAgICBpZiAoIUhvd2xlci5jdHgpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgIXNhZmFyaSkge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiBIb3dsZXIuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5jb25uZWN0KEhvd2xlci5jdHguZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIC8vIFJlLXJ1biB0aGUgc2V0dXAgb24gSG93bGVyLlxuICAgIEhvd2xlci5fc2V0dXAoKTtcbiAgfTtcblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQU1EIChBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24pIGxpYnJhcmllcyBzdWNoIGFzIHJlcXVpcmUuanMuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgSG93bGVyOiBIb3dsZXIsXG4gICAgICAgIEhvd2w6IEhvd2xcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQ29tbW9uSlMgbGlicmFyaWVzIHN1Y2ggYXMgYnJvd3NlcmlmeS5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuSG93bGVyID0gSG93bGVyO1xuICAgIGV4cG9ydHMuSG93bCA9IEhvd2w7XG4gIH1cblxuICAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnbG9iYWwuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xuICAgIGdsb2JhbC5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZ2xvYmFsLkhvd2wgPSBIb3dsO1xuICAgIGdsb2JhbC5Tb3VuZCA9IFNvdW5kO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7ICAvLyBEZWZpbmUgZ2xvYmFsbHkgaW4gY2FzZSBBTUQgaXMgbm90IGF2YWlsYWJsZSBvciB1bnVzZWQuXG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfVxufSkoKTtcblxuXG4vKiFcbiAqICBTcGF0aWFsIFBsdWdpbiAtIEFkZHMgc3VwcG9ydCBmb3Igc3RlcmVvIGFuZCAzRCBhdWRpbyB3aGVyZSBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkLlxuICogIFxuICogIGhvd2xlci5qcyB2Mi4yLjNcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU2V0dXAgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXTtcblxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldFBvc2l0aW9uKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gc3BhY2UuXG4gICAqIEEgZnJvbnQgYW5kIHVwIHZlY3RvciBtdXN0IGJlIHByb3ZpZGVkLiBUaGUgZnJvbnQgaXMgdGhlIGRpcmVjdGlvbiB0aGVcbiAgICogZmFjZSBvZiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcsIGFuZCB1cCBpcyB0aGUgZGlyZWN0aW9uIHRoZSB0b3Agb2YgdGhlXG4gICAqIGxpc3RlbmVyIGlzIHBvaW50aW5nLiBUaHVzLCB0aGVzZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGF0IHJpZ2h0IGFuZ2xlc1xuICAgKiBmcm9tIGVhY2ggb3RoZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geFVwIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlVcCBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6VXAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB2ZWN0b3JzLlxuICAgKi9cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHZhciBvciA9IHNlbGYuX29yaWVudGF0aW9uO1xuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IG9yWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBvclsyXSA6IHo7XG4gICAgeFVwID0gKHR5cGVvZiB4VXAgIT09ICdudW1iZXInKSA/IG9yWzNdIDogeFVwO1xuICAgIHlVcCA9ICh0eXBlb2YgeVVwICE9PSAnbnVtYmVyJykgPyBvcls0XSA6IHlVcDtcbiAgICB6VXAgPSAodHlwZW9mIHpVcCAhPT0gJ251bWJlcicpID8gb3JbNV0gOiB6VXA7XG5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6LCB4VXAsIHlVcCwgelVwXTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFguc2V0VGFyZ2V0QXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBYLnNldFRhcmdldEF0VGltZSh4VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWS5zZXRUYXJnZXRBdFRpbWUoeVVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHpVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge0hvd2x9XG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IG8ub3JpZW50YXRpb24gfHwgWzEsIDAsIDBdO1xuICAgICAgc2VsZi5fc3RlcmVvID0gby5zdGVyZW8gfHwgbnVsbDtcbiAgICAgIHNlbGYuX3BvcyA9IG8ucG9zIHx8IG51bGw7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogMCxcbiAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiAnaW52ZXJzZScsXG4gICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogMTAwMDAsXG4gICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogJ0hSVEYnLFxuICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IDEsXG4gICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogMVxuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25zdGVyZW8gPSBvLm9uc3RlcmVvID8gW3tmbjogby5vbnN0ZXJlb31dIDogW107XG4gICAgICBzZWxmLl9vbnBvcyA9IG8ub25wb3MgPyBbe2ZuOiBvLm9ucG9zfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ub3JpZW50YXRpb24gPSBvLm9ub3JpZW50YXRpb24gPyBbe2ZuOiBvLm9ub3JpZW50YXRpb259XSA6IFtdO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG8pO1xuICAgIH07XG4gIH0pKEhvd2wucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBzdGVyZW8gcGFubmluZyBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGFsbCBpbiB0aGUgZ3JvdXAuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuICBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBzdGVyZW8gcGFuIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdzdGVyZW8nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RlcmVvKHBhbiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIFBhbm5lclN0ZXJlb05vZGUgc3VwcG9ydCBhbmQgZmFsbGJhY2sgdG8gUGFubmVyTm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgIHZhciBwYW5uZXJUeXBlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lciA9PT0gJ3VuZGVmaW5lZCcpID8gJ3NwYXRpYWwnIDogJ3N0ZXJlbyc7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fc3RlcmVvID0gcGFuO1xuICAgICAgICBzZWxmLl9wb3MgPSBbcGFuLCAwLCAwXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9zdGVyZW87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzdHJlbyBwYW5uaW5nIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3BhbiwgMCwgMF07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBmYWxsaW5nIGJhY2ssIG1ha2Ugc3VyZSB0aGUgcGFubmluZ01vZGVsIGlzIGVxdWFscG93ZXIuXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgPSAnZXF1YWxwb3dlcic7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCAhc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsIHBhbm5lclR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFubmVyVHlwZSA9PT0gJ3NwYXRpYWwnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHBhbiwgMCwgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgZ3JvdXAgcmVsYXRpdmUgdG8gdGhlIGdsb2JhbCBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgncG9zJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3BvcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGF1ZGlvIHNvdXJjZSBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIGNvb3JkaW5hdGVcbiAgICogc3BhY2UuIERlcGVuZGluZyBvbiBob3cgZGlyZWN0aW9uIHRoZSBzb3VuZCBpcywgYmFzZWQgb24gdGhlIGBjb25lYCBhdHRyaWJ1dGVzLFxuICAgKiBhIHNvdW5kIHBvaW50aW5nIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIgY2FuIGJlIHF1aWV0IG9yIHNpbGVudC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIG9yaWVudGF0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugb3JpZW50YXRpb24gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ29yaWVudGF0aW9uJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLm9yaWVudGF0aW9uKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMl0gOiB6O1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fb3JpZW50YXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIG9yaWVudGF0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnb3JpZW50YXRpb24nLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fb3JpZW50YXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcGFubmVyIG5vZGUncyBhdHRyaWJ1dGVzIGZvciBhIHNvdW5kIG9yIGdyb3VwIG9mIHNvdW5kcy5cbiAgICogVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbCB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAqICAgcGFubmVyQXR0cigpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIobykgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICogICBwYW5uZXJBdHRyKG8sIGlkKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICpcbiAgICogICBBdHRyaWJ1dGVzOlxuICAgKiAgICAgY29uZUlubmVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBpbnNpZGUgb2Ygd2hpY2ggdGhlcmUgd2lsbCBiZSBubyB2b2x1bWUgcmVkdWN0aW9uLlxuICAgKiAgICAgY29uZU91dGVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlIG9mIHdoaWNoIHRoZSB2b2x1bWUgd2lsbCBiZSByZWR1Y2VkIHRvIGEgY29uc3RhbnQgdmFsdWUgb2YgYGNvbmVPdXRlckdhaW5gLlxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIHRoZSBnYWluIG91dHNpZGUgb2YgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgYGNvbmVPdXRlckFuZ2xlYC4gSXQgaXMgYSBsaW5lYXIgdmFsdWUgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLlxuICAgKiAgICAgZGlzdGFuY2VNb2RlbCAtICgnaW52ZXJzZScgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyBhbGdvcml0aG0gdXNlZCB0byByZWR1Y2Ugdm9sdW1lIGFzIGF1ZGlvIG1vdmVzIGF3YXkgZnJvbVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLiBDYW4gYmUgYGxpbmVhcmAsIGBpbnZlcnNlYCBvciBgZXhwb25lbnRpYWwuXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBUaGUgbWF4aW11bSBkaXN0YW5jZSBiZXR3ZWVuIHNvdXJjZSBhbmQgbGlzdGVuZXIsIGFmdGVyIHdoaWNoIHRoZSB2b2x1bWVcbiAgICogICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYmUgcmVkdWNlZCBhbnkgZnVydGhlci5cbiAgICogICAgIHJlZkRpc3RhbmNlIC0gKDEgYnkgZGVmYXVsdCkgQSByZWZlcmVuY2UgZGlzdGFuY2UgZm9yIHJlZHVjaW5nIHZvbHVtZSBhcyBzb3VyY2UgbW92ZXMgZnVydGhlciBmcm9tIHRoZSBsaXN0ZW5lci5cbiAgICogICAgICAgICAgICAgICAgICAgVGhpcyBpcyBzaW1wbHkgYSB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGhhcyBhIGRpZmZlcmVudCBlZmZlY3QgZGVwZW5kaW5nIG9uIHdoaWNoIG1vZGVsXG4gICAqICAgICAgICAgICAgICAgICAgIGlzIHVzZWQgYW5kIHRoZSBzY2FsZSBvZiB5b3VyIGNvb3JkaW5hdGVzLiBHZW5lcmFsbHksIHZvbHVtZSB3aWxsIGJlIGVxdWFsIHRvIDEgYXQgdGhpcyBkaXN0YW5jZS5cbiAgICogICAgIHJvbGxvZmZGYWN0b3IgLSAoMSBieSBkZWZhdWx0KSBIb3cgcXVpY2tseSB0aGUgdm9sdW1lIHJlZHVjZXMgYXMgc291cmNlIG1vdmVzIGZyb20gbGlzdGVuZXIuIFRoaXMgaXMgc2ltcGx5IGFcbiAgICogICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGNhbiBiZSBpbiB0aGUgcmFuZ2Ugb2YgYFswLCAxXWAgd2l0aCBgbGluZWFyYCBhbmQgYFswLCBcdTIyMUVdYFxuICAgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggYGludmVyc2VgIGFuZCBgZXhwb25lbnRpYWxgLlxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtIb3dsL09iamVjdH0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgcGFubmVyIGF0dHJpYnV0ZXMuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBvLCBpZCwgc291bmQ7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICByZXR1cm4gc2VsZi5fcGFubmVyQXR0cjtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG8gPSBhcmdzWzBdO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdSdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICghby5wYW5uZXJBdHRyKSB7XG4gICAgICAgICAgICBvLnBhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiBvLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogby5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogby5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiBvLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvLm1heERpc3RhbmNlLFxuICAgICAgICAgICAgICByZWZEaXN0YW5jZTogby5yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcm9sbG9mZkZhY3Rvcjogby5yb2xsb2ZmRmFjdG9yLFxuICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6IG8ucGFubmluZ01vZGVsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSA6IHNlbGYuX2NvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluIDogc2VsZi5fY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgOiBzZWxmLl9tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yIDogc2VsZi5fcm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA6IHNlbGYuX3Bhbm5pbmdNb2RlbFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9wYW5uZXJBdHRyIDogc2VsZi5fcGFubmVyQXR0cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICBvID0gYXJnc1swXTtcbiAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBzcGVjaWZpZWQgc291bmRzLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgdmFsdWVzIGludG8gdGhlIHNvdW5kLlxuICAgICAgICB2YXIgcGEgPSBzb3VuZC5fcGFubmVyQXR0cjtcbiAgICAgICAgcGEgPSB7XG4gICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBwYS5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IHBhLmNvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogcGEuY29uZU91dGVyR2FpbixcbiAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHBhLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiBwYS5tYXhEaXN0YW5jZSxcbiAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHBhLnJlZkRpc3RhbmNlLFxuICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogcGEucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6IHBhLnBhbm5pbmdNb2RlbFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFubmVyIHZhbHVlcyBvciBjcmVhdGUgYSBuZXcgcGFubmVyIGlmIG5vbmUgZXhpc3RzLlxuICAgICAgICB2YXIgcGFubmVyID0gc291bmQuX3Bhbm5lcjtcbiAgICAgICAgaWYgKHBhbm5lcikge1xuICAgICAgICAgIHBhbm5lci5jb25lSW5uZXJBbmdsZSA9IHBhLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgICAgIHBhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHBhLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgICAgIHBhbm5lci5jb25lT3V0ZXJHYWluID0gcGEuY29uZU91dGVyR2FpbjtcbiAgICAgICAgICBwYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHBhLmRpc3RhbmNlTW9kZWw7XG4gICAgICAgICAgcGFubmVyLm1heERpc3RhbmNlID0gcGEubWF4RGlzdGFuY2U7XG4gICAgICAgICAgcGFubmVyLnJlZkRpc3RhbmNlID0gcGEucmVmRGlzdGFuY2U7XG4gICAgICAgICAgcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBwYS5yb2xsb2ZmRmFjdG9yO1xuICAgICAgICAgIHBhbm5lci5wYW5uaW5nTW9kZWwgPSBwYS5wYW5uaW5nTW9kZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxuICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlLlxuICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgU291bmQgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIFNvdW5kIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICovXG4gIFNvdW5kLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlIFNvdW5kJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIFNvdW5kLnJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwYXRpYWwgcGx1Z2luLlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIFNvdW5kIHJlc2V0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUucmVzZXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIHNwYXRpYWwgcGx1Z2luIHByb3BlcnRpZXMgb24gdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wYW5uZXIpIHtcbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgcGFubmVyLlxuICAgICAgICBzZWxmLl9wYW5uZXIuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgc2VsZi5fcGFubmVyID0gdW5kZWZpbmVkO1xuICAgICAgICBwYXJlbnQuX3JlZnJlc2hCdWZmZXIoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbXBsZXRlIHJlc2V0dGluZyBvZiB0aGUgc291bmQuXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgfSkoU291bmQucHJvdG90eXBlLnJlc2V0KTtcblxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBhbmQgc2F2ZSBpdCBvbiB0aGUgc291bmQuXG4gICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBTcGVjaWZpYyBzb3VuZCB0byBzZXR1cCBwYW5uaW5nIG9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIHBhbm5lciB0byBjcmVhdGU6ICdzdGVyZW8nIG9yICdzcGF0aWFsJy5cbiAgICovXG4gIHZhciBzZXR1cFBhbm5lciA9IGZ1bmN0aW9uKHNvdW5kLCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgJ3NwYXRpYWwnO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBuZXcgcGFubmVyIG5vZGUuXG4gICAgaWYgKHR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZUlubmVyQW5nbGU7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyQW5nbGU7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckdhaW4gPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJHYWluO1xuICAgICAgc291bmQuX3Bhbm5lci5kaXN0YW5jZU1vZGVsID0gc291bmQuX3Bhbm5lckF0dHIuZGlzdGFuY2VNb2RlbDtcbiAgICAgIHNvdW5kLl9wYW5uZXIubWF4RGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5tYXhEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucm9sbG9mZkZhY3RvciA9IHNvdW5kLl9wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbm5pbmdNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDtcblxuICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oc291bmQuX3Bvc1swXSwgc291bmQuX3Bvc1sxXSwgc291bmQuX3Bvc1syXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblswXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsyXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHNvdW5kLl9vcmllbnRhdGlvblswXSwgc291bmQuX29yaWVudGF0aW9uWzFdLCBzb3VuZC5fb3JpZW50YXRpb25bMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzb3VuZC5fcGFubmVyID0gSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIoKTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9zdGVyZW8sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgIH1cblxuICAgIHNvdW5kLl9wYW5uZXIuY29ubmVjdChzb3VuZC5fbm9kZSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGNvbm5lY3Rpb25zLlxuICAgIGlmICghc291bmQuX3BhdXNlZCkge1xuICAgICAgc291bmQuX3BhcmVudC5wYXVzZShzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkLCB0cnVlKTtcbiAgICB9XG4gIH07XG59KSgpO1xuIiwgImV4cG9ydCBpbnRlcmZhY2UgU25hYmJkb21GcmFnbWVudCBleHRlbmRzIERvY3VtZW50RnJhZ21lbnQge1xuICBwYXJlbnQ6IE5vZGUgfCBudWxsO1xuICBmaXJzdENoaWxkTm9kZTogQ2hpbGROb2RlIHwgbnVsbDtcbiAgbGFzdENoaWxkTm9kZTogQ2hpbGROb2RlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBET01BUEkge1xuICBjcmVhdGVFbGVtZW50OiAoXG4gICAgdGFnTmFtZTogYW55LFxuICAgIG9wdGlvbnM/OiBFbGVtZW50Q3JlYXRpb25PcHRpb25zXG4gICkgPT4gSFRNTEVsZW1lbnQ7XG4gIGNyZWF0ZUVsZW1lbnROUzogKFxuICAgIG5hbWVzcGFjZVVSSTogc3RyaW5nLFxuICAgIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zPzogRWxlbWVudENyZWF0aW9uT3B0aW9uc1xuICApID0+IEVsZW1lbnQ7XG4gIC8qKlxuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqIEB0b2RvIE1ha2UgaXQgcmVxdWlyZWQgd2hlbiB0aGUgZnJhZ21lbnQgaXMgY29uc2lkZXJlZCBzdGFibGUuXG4gICAqL1xuICBjcmVhdGVEb2N1bWVudEZyYWdtZW50PzogKCkgPT4gU25hYmJkb21GcmFnbWVudDtcbiAgY3JlYXRlVGV4dE5vZGU6ICh0ZXh0OiBzdHJpbmcpID0+IFRleHQ7XG4gIGNyZWF0ZUNvbW1lbnQ6ICh0ZXh0OiBzdHJpbmcpID0+IENvbW1lbnQ7XG4gIGluc2VydEJlZm9yZTogKFxuICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgbmV3Tm9kZTogTm9kZSxcbiAgICByZWZlcmVuY2VOb2RlOiBOb2RlIHwgbnVsbFxuICApID0+IHZvaWQ7XG4gIHJlbW92ZUNoaWxkOiAobm9kZTogTm9kZSwgY2hpbGQ6IE5vZGUpID0+IHZvaWQ7XG4gIGFwcGVuZENoaWxkOiAobm9kZTogTm9kZSwgY2hpbGQ6IE5vZGUpID0+IHZvaWQ7XG4gIHBhcmVudE5vZGU6IChub2RlOiBOb2RlKSA9PiBOb2RlIHwgbnVsbDtcbiAgbmV4dFNpYmxpbmc6IChub2RlOiBOb2RlKSA9PiBOb2RlIHwgbnVsbDtcbiAgdGFnTmFtZTogKGVsbTogRWxlbWVudCkgPT4gc3RyaW5nO1xuICBzZXRUZXh0Q29udGVudDogKG5vZGU6IE5vZGUsIHRleHQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGdldFRleHRDb250ZW50OiAobm9kZTogTm9kZSkgPT4gc3RyaW5nIHwgbnVsbDtcbiAgaXNFbGVtZW50OiAobm9kZTogTm9kZSkgPT4gbm9kZSBpcyBFbGVtZW50O1xuICBpc1RleHQ6IChub2RlOiBOb2RlKSA9PiBub2RlIGlzIFRleHQ7XG4gIGlzQ29tbWVudDogKG5vZGU6IE5vZGUpID0+IG5vZGUgaXMgQ29tbWVudDtcbiAgLyoqXG4gICAqIEBleHBlcmltZW50YWxcbiAgICogQHRvZG8gTWFrZSBpdCByZXF1aXJlZCB3aGVuIHRoZSBmcmFnbWVudCBpcyBjb25zaWRlcmVkIHN0YWJsZS5cbiAgICovXG4gIGlzRG9jdW1lbnRGcmFnbWVudD86IChub2RlOiBOb2RlKSA9PiBub2RlIGlzIERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoXG4gIHRhZ05hbWU6IGFueSxcbiAgb3B0aW9ucz86IEVsZW1lbnRDcmVhdGlvbk9wdGlvbnNcbik6IEhUTUxFbGVtZW50IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyhcbiAgbmFtZXNwYWNlVVJJOiBzdHJpbmcsXG4gIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgb3B0aW9ucz86IEVsZW1lbnRDcmVhdGlvbk9wdGlvbnNcbik6IEVsZW1lbnQge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgcXVhbGlmaWVkTmFtZSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTogU25hYmJkb21GcmFnbWVudCB7XG4gIHJldHVybiBwYXJzZUZyYWdtZW50KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHRleHQ6IHN0cmluZyk6IFRleHQge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQodGV4dDogc3RyaW5nKTogQ29tbWVudCB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUoXG4gIHBhcmVudE5vZGU6IE5vZGUsXG4gIG5ld05vZGU6IE5vZGUsXG4gIHJlZmVyZW5jZU5vZGU6IE5vZGUgfCBudWxsXG4pOiB2b2lkIHtcbiAgaWYgKGlzRG9jdW1lbnRGcmFnbWVudChwYXJlbnROb2RlKSkge1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHBhcmVudE5vZGU7XG4gICAgd2hpbGUgKG5vZGUgJiYgaXNEb2N1bWVudEZyYWdtZW50KG5vZGUpKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IHBhcnNlRnJhZ21lbnQobm9kZSk7XG4gICAgICBub2RlID0gZnJhZ21lbnQucGFyZW50O1xuICAgIH1cbiAgICBwYXJlbnROb2RlID0gbm9kZSA/PyBwYXJlbnROb2RlO1xuICB9XG4gIGlmIChpc0RvY3VtZW50RnJhZ21lbnQobmV3Tm9kZSkpIHtcbiAgICBuZXdOb2RlID0gcGFyc2VGcmFnbWVudChuZXdOb2RlLCBwYXJlbnROb2RlKTtcbiAgfVxuICBpZiAocmVmZXJlbmNlTm9kZSAmJiBpc0RvY3VtZW50RnJhZ21lbnQocmVmZXJlbmNlTm9kZSkpIHtcbiAgICByZWZlcmVuY2VOb2RlID0gcGFyc2VGcmFnbWVudChyZWZlcmVuY2VOb2RlKS5maXJzdENoaWxkTm9kZTtcbiAgfVxuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQobm9kZTogTm9kZSwgY2hpbGQ6IE5vZGUpOiB2b2lkIHtcbiAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKG5vZGU6IE5vZGUsIGNoaWxkOiBOb2RlKTogdm9pZCB7XG4gIGlmIChpc0RvY3VtZW50RnJhZ21lbnQoY2hpbGQpKSB7XG4gICAgY2hpbGQgPSBwYXJzZUZyYWdtZW50KGNoaWxkLCBub2RlKTtcbiAgfVxuICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50Tm9kZShub2RlOiBOb2RlKTogTm9kZSB8IG51bGwge1xuICBpZiAoaXNEb2N1bWVudEZyYWdtZW50KG5vZGUpKSB7XG4gICAgd2hpbGUgKG5vZGUgJiYgaXNEb2N1bWVudEZyYWdtZW50KG5vZGUpKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IHBhcnNlRnJhZ21lbnQobm9kZSk7XG4gICAgICBub2RlID0gZnJhZ21lbnQucGFyZW50IGFzIE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBub2RlID8/IG51bGw7XG4gIH1cbiAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcbn1cblxuZnVuY3Rpb24gbmV4dFNpYmxpbmcobm9kZTogTm9kZSk6IE5vZGUgfCBudWxsIHtcbiAgaWYgKGlzRG9jdW1lbnRGcmFnbWVudChub2RlKSkge1xuICAgIGNvbnN0IGZyYWdtZW50ID0gcGFyc2VGcmFnbWVudChub2RlKTtcbiAgICBjb25zdCBwYXJlbnQgPSBwYXJlbnROb2RlKGZyYWdtZW50KTtcbiAgICBpZiAocGFyZW50ICYmIGZyYWdtZW50Lmxhc3RDaGlsZE5vZGUpIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGROb2Rlcyk7XG4gICAgICBjb25zdCBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoZnJhZ21lbnQubGFzdENoaWxkTm9kZSk7XG4gICAgICByZXR1cm4gY2hpbGRyZW5baW5kZXggKyAxXSA/PyBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbn1cblxuZnVuY3Rpb24gdGFnTmFtZShlbG06IEVsZW1lbnQpOiBzdHJpbmcge1xuICByZXR1cm4gZWxtLnRhZ05hbWU7XG59XG5cbmZ1bmN0aW9uIHNldFRleHRDb250ZW50KG5vZGU6IE5vZGUsIHRleHQ6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFRleHRDb250ZW50KG5vZGU6IE5vZGUpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBFbGVtZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDE7XG59XG5cbmZ1bmN0aW9uIGlzVGV4dChub2RlOiBOb2RlKTogbm9kZSBpcyBUZXh0IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDM7XG59XG5cbmZ1bmN0aW9uIGlzQ29tbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBDb21tZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDg7XG59XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRGcmFnbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBEb2N1bWVudEZyYWdtZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDExO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZyYWdtZW50KFxuICBmcmFnbWVudE5vZGU6IERvY3VtZW50RnJhZ21lbnQsXG4gIHBhcmVudE5vZGU/OiBOb2RlIHwgbnVsbFxuKTogU25hYmJkb21GcmFnbWVudCB7XG4gIGNvbnN0IGZyYWdtZW50ID0gZnJhZ21lbnROb2RlIGFzIFNuYWJiZG9tRnJhZ21lbnQ7XG4gIGZyYWdtZW50LnBhcmVudCA/Pz0gcGFyZW50Tm9kZSA/PyBudWxsO1xuICBmcmFnbWVudC5maXJzdENoaWxkTm9kZSA/Pz0gZnJhZ21lbnROb2RlLmZpcnN0Q2hpbGQ7XG4gIGZyYWdtZW50Lmxhc3RDaGlsZE5vZGUgPz89IGZyYWdtZW50Tm9kZS5sYXN0Q2hpbGQ7XG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZXhwb3J0IGNvbnN0IGh0bWxEb21BcGk6IERPTUFQSSA9IHtcbiAgY3JlYXRlRWxlbWVudCxcbiAgY3JlYXRlRWxlbWVudE5TLFxuICBjcmVhdGVUZXh0Tm9kZSxcbiAgY3JlYXRlRG9jdW1lbnRGcmFnbWVudCxcbiAgY3JlYXRlQ29tbWVudCxcbiAgaW5zZXJ0QmVmb3JlLFxuICByZW1vdmVDaGlsZCxcbiAgYXBwZW5kQ2hpbGQsXG4gIHBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nLFxuICB0YWdOYW1lLFxuICBzZXRUZXh0Q29udGVudCxcbiAgZ2V0VGV4dENvbnRlbnQsXG4gIGlzRWxlbWVudCxcbiAgaXNUZXh0LFxuICBpc0NvbW1lbnQsXG4gIGlzRG9jdW1lbnRGcmFnbWVudCxcbn07XG4iLCAiaW1wb3J0IHsgSG9va3MgfSBmcm9tIFwiLi9ob29rc1wiO1xuaW1wb3J0IHsgQXR0YWNoRGF0YSB9IGZyb20gXCIuL2hlbHBlcnMvYXR0YWNodG9cIjtcbmltcG9ydCB7IFZOb2RlU3R5bGUgfSBmcm9tIFwiLi9tb2R1bGVzL3N0eWxlXCI7XG5pbXBvcnQgeyBPbiB9IGZyb20gXCIuL21vZHVsZXMvZXZlbnRsaXN0ZW5lcnNcIjtcbmltcG9ydCB7IEF0dHJzIH0gZnJvbSBcIi4vbW9kdWxlcy9hdHRyaWJ1dGVzXCI7XG5pbXBvcnQgeyBDbGFzc2VzIH0gZnJvbSBcIi4vbW9kdWxlcy9jbGFzc1wiO1xuaW1wb3J0IHsgUHJvcHMgfSBmcm9tIFwiLi9tb2R1bGVzL3Byb3BzXCI7XG5pbXBvcnQgeyBEYXRhc2V0IH0gZnJvbSBcIi4vbW9kdWxlcy9kYXRhc2V0XCI7XG5cbmV4cG9ydCB0eXBlIEtleSA9IHN0cmluZyB8IG51bWJlciB8IHN5bWJvbDtcblxuZXhwb3J0IGludGVyZmFjZSBWTm9kZSB7XG4gIHNlbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBkYXRhOiBWTm9kZURhdGEgfCB1bmRlZmluZWQ7XG4gIGNoaWxkcmVuOiBBcnJheTxWTm9kZSB8IHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gIGVsbTogTm9kZSB8IHVuZGVmaW5lZDtcbiAgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBrZXk6IEtleSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWTm9kZURhdGEge1xuICBwcm9wcz86IFByb3BzO1xuICBhdHRycz86IEF0dHJzO1xuICBjbGFzcz86IENsYXNzZXM7XG4gIHN0eWxlPzogVk5vZGVTdHlsZTtcbiAgZGF0YXNldD86IERhdGFzZXQ7XG4gIG9uPzogT247XG4gIGF0dGFjaERhdGE/OiBBdHRhY2hEYXRhO1xuICBob29rPzogSG9va3M7XG4gIGtleT86IEtleTtcbiAgbnM/OiBzdHJpbmc7IC8vIGZvciBTVkdzXG4gIGZuPzogKCkgPT4gVk5vZGU7IC8vIGZvciB0aHVua3NcbiAgYXJncz86IGFueVtdOyAvLyBmb3IgdGh1bmtzXG4gIGlzPzogc3RyaW5nOyAvLyBmb3IgY3VzdG9tIGVsZW1lbnRzIHYxXG4gIFtrZXk6IHN0cmluZ106IGFueTsgLy8gZm9yIGFueSBvdGhlciAzcmQgcGFydHkgbW9kdWxlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2bm9kZShcbiAgc2VsOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIGRhdGE6IGFueSB8IHVuZGVmaW5lZCxcbiAgY2hpbGRyZW46IEFycmF5PFZOb2RlIHwgc3RyaW5nPiB8IHVuZGVmaW5lZCxcbiAgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBlbG06IEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50IHwgVGV4dCB8IHVuZGVmaW5lZFxuKTogVk5vZGUge1xuICBjb25zdCBrZXkgPSBkYXRhID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBkYXRhLmtleTtcbiAgcmV0dXJuIHsgc2VsLCBkYXRhLCBjaGlsZHJlbiwgdGV4dCwgZWxtLCBrZXkgfTtcbn1cbiIsICJleHBvcnQgY29uc3QgYXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0IGZ1bmN0aW9uIHByaW1pdGl2ZShzOiBhbnkpOiBzIGlzIHN0cmluZyB8IG51bWJlciB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHMgPT09IFwic3RyaW5nXCIgfHxcbiAgICB0eXBlb2YgcyA9PT0gXCJudW1iZXJcIiB8fFxuICAgIHMgaW5zdGFuY2VvZiBTdHJpbmcgfHxcbiAgICBzIGluc3RhbmNlb2YgTnVtYmVyXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlcy9tb2R1bGVcIjtcbmltcG9ydCB7IHZub2RlLCBWTm9kZSB9IGZyb20gXCIuL3Zub2RlXCI7XG5pbXBvcnQgKiBhcyBpcyBmcm9tIFwiLi9pc1wiO1xuaW1wb3J0IHsgaHRtbERvbUFwaSwgRE9NQVBJIH0gZnJvbSBcIi4vaHRtbGRvbWFwaVwiO1xuXG50eXBlIE5vblVuZGVmaW5lZDxUPiA9IFQgZXh0ZW5kcyB1bmRlZmluZWQgPyBuZXZlciA6IFQ7XG5cbmZ1bmN0aW9uIGlzVW5kZWYoczogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiBzID09PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc0RlZjxBPihzOiBBKTogcyBpcyBOb25VbmRlZmluZWQ8QT4ge1xuICByZXR1cm4gcyAhPT0gdW5kZWZpbmVkO1xufVxuXG50eXBlIFZOb2RlUXVldWUgPSBWTm9kZVtdO1xuXG5jb25zdCBlbXB0eU5vZGUgPSB2bm9kZShcIlwiLCB7fSwgW10sIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcblxuZnVuY3Rpb24gc2FtZVZub2RlKHZub2RlMTogVk5vZGUsIHZub2RlMjogVk5vZGUpOiBib29sZWFuIHtcbiAgY29uc3QgaXNTYW1lS2V5ID0gdm5vZGUxLmtleSA9PT0gdm5vZGUyLmtleTtcbiAgY29uc3QgaXNTYW1lSXMgPSB2bm9kZTEuZGF0YT8uaXMgPT09IHZub2RlMi5kYXRhPy5pcztcbiAgY29uc3QgaXNTYW1lU2VsID0gdm5vZGUxLnNlbCA9PT0gdm5vZGUyLnNlbDtcbiAgY29uc3QgaXNTYW1lVGV4dE9yRnJhZ21lbnQgPVxuICAgICF2bm9kZTEuc2VsICYmIHZub2RlMS5zZWwgPT09IHZub2RlMi5zZWxcbiAgICAgID8gdHlwZW9mIHZub2RlMS50ZXh0ID09PSB0eXBlb2Ygdm5vZGUyLnRleHRcbiAgICAgIDogdHJ1ZTtcblxuICByZXR1cm4gaXNTYW1lU2VsICYmIGlzU2FtZUtleSAmJiBpc1NhbWVJcyAmJiBpc1NhbWVUZXh0T3JGcmFnbWVudDtcbn1cblxuLyoqXG4gKiBAdG9kbyBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHRoZSBkb2N1bWVudCBmcmFnbWVudCBpcyBjb25zaWRlcmVkIHN0YWJsZS5cbiAqL1xuZnVuY3Rpb24gZG9jdW1lbnRGcmFnbWVudElzTm90U3VwcG9ydGVkKCk6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRvY3VtZW50IGZyYWdtZW50IGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybS5cIik7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChcbiAgYXBpOiBET01BUEksXG4gIHZub2RlOiBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCB8IFZOb2RlXG4pOiB2bm9kZSBpcyBFbGVtZW50IHtcbiAgcmV0dXJuIGFwaS5pc0VsZW1lbnQodm5vZGUgYXMgYW55KTtcbn1cblxuZnVuY3Rpb24gaXNEb2N1bWVudEZyYWdtZW50KFxuICBhcGk6IERPTUFQSSxcbiAgdm5vZGU6IERvY3VtZW50RnJhZ21lbnQgfCBWTm9kZVxuKTogdm5vZGUgaXMgRG9jdW1lbnRGcmFnbWVudCB7XG4gIHJldHVybiBhcGkuaXNEb2N1bWVudEZyYWdtZW50ISh2bm9kZSBhcyBhbnkpO1xufVxuXG50eXBlIEtleVRvSW5kZXhNYXAgPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuXG50eXBlIEFycmF5c09mPFQ+ID0ge1xuICBbSyBpbiBrZXlvZiBUXTogQXJyYXk8VFtLXT47XG59O1xuXG50eXBlIE1vZHVsZUhvb2tzID0gQXJyYXlzT2Y8UmVxdWlyZWQ8TW9kdWxlPj47XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVRvT2xkSWR4KFxuICBjaGlsZHJlbjogVk5vZGVbXSxcbiAgYmVnaW5JZHg6IG51bWJlcixcbiAgZW5kSWR4OiBudW1iZXJcbik6IEtleVRvSW5kZXhNYXAge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0gY2hpbGRyZW5baV0/LmtleTtcbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hcFtrZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmNvbnN0IGhvb2tzOiBBcnJheTxrZXlvZiBNb2R1bGU+ID0gW1xuICBcImNyZWF0ZVwiLFxuICBcInVwZGF0ZVwiLFxuICBcInJlbW92ZVwiLFxuICBcImRlc3Ryb3lcIixcbiAgXCJwcmVcIixcbiAgXCJwb3N0XCIsXG5dO1xuXG4vLyBUT0RPIFNob3VsZCBgZG9tQXBpYCBiZSBwdXQgaW50byB0aGlzIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gYnVtcD9cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSB7XG4gIGV4cGVyaW1lbnRhbD86IHtcbiAgICBmcmFnbWVudHM/OiBib29sZWFuO1xuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoXG4gIG1vZHVsZXM6IEFycmF5PFBhcnRpYWw8TW9kdWxlPj4sXG4gIGRvbUFwaT86IERPTUFQSSxcbiAgb3B0aW9ucz86IE9wdGlvbnNcbikge1xuICBjb25zdCBjYnM6IE1vZHVsZUhvb2tzID0ge1xuICAgIGNyZWF0ZTogW10sXG4gICAgdXBkYXRlOiBbXSxcbiAgICByZW1vdmU6IFtdLFxuICAgIGRlc3Ryb3k6IFtdLFxuICAgIHByZTogW10sXG4gICAgcG9zdDogW10sXG4gIH07XG5cbiAgY29uc3QgYXBpOiBET01BUEkgPSBkb21BcGkgIT09IHVuZGVmaW5lZCA/IGRvbUFwaSA6IGh0bWxEb21BcGk7XG5cbiAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgZm9yIChjb25zdCBtb2R1bGUgb2YgbW9kdWxlcykge1xuICAgICAgY29uc3QgY3VycmVudEhvb2sgPSBtb2R1bGVbaG9va107XG4gICAgICBpZiAoY3VycmVudEhvb2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAoY2JzW2hvb2tdIGFzIGFueVtdKS5wdXNoKGN1cnJlbnRIb29rKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbXB0eU5vZGVBdChlbG06IEVsZW1lbnQpIHtcbiAgICBjb25zdCBpZCA9IGVsbS5pZCA/IFwiI1wiICsgZWxtLmlkIDogXCJcIjtcblxuICAgIC8vIGVsbS5jbGFzc05hbWUgZG9lc24ndCByZXR1cm4gYSBzdHJpbmcgd2hlbiBlbG0gaXMgYW4gU1ZHIGVsZW1lbnQgaW5zaWRlIGEgc2hhZG93Um9vdC5cbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTQ1NDM0MC9kZXRlY3RpbmctY2xhc3NuYW1lLW9mLXN2Z2FuaW1hdGVkc3RyaW5nXG4gICAgY29uc3QgY2xhc3NlcyA9IGVsbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcblxuICAgIGNvbnN0IGMgPSBjbGFzc2VzID8gXCIuXCIgKyBjbGFzc2VzLnNwbGl0KFwiIFwiKS5qb2luKFwiLlwiKSA6IFwiXCI7XG4gICAgcmV0dXJuIHZub2RlKFxuICAgICAgYXBpLnRhZ05hbWUoZWxtKS50b0xvd2VyQ2FzZSgpICsgaWQgKyBjLFxuICAgICAge30sXG4gICAgICBbXSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGVsbVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBlbXB0eURvY3VtZW50RnJhZ21lbnRBdChmcmFnOiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgcmV0dXJuIHZub2RlKHVuZGVmaW5lZCwge30sIFtdLCB1bmRlZmluZWQsIGZyYWcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUm1DYihjaGlsZEVsbTogTm9kZSwgbGlzdGVuZXJzOiBudW1iZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcm1DYigpIHtcbiAgICAgIGlmICgtLWxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBhcGkucGFyZW50Tm9kZShjaGlsZEVsbSkgYXMgTm9kZTtcbiAgICAgICAgYXBpLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGRFbG0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbG0odm5vZGU6IFZOb2RlLCBpbnNlcnRlZFZub2RlUXVldWU6IFZOb2RlUXVldWUpOiBOb2RlIHtcbiAgICBsZXQgaTogYW55O1xuICAgIGxldCBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBpbml0ID0gZGF0YS5ob29rPy5pbml0O1xuICAgICAgaWYgKGlzRGVmKGluaXQpKSB7XG4gICAgICAgIGluaXQodm5vZGUpO1xuICAgICAgICBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBzZWwgPSB2bm9kZS5zZWw7XG4gICAgaWYgKHNlbCA9PT0gXCIhXCIpIHtcbiAgICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7XG4gICAgICAgIHZub2RlLnRleHQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgdm5vZGUuZWxtID0gYXBpLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCEpO1xuICAgIH0gZWxzZSBpZiAoc2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFBhcnNlIHNlbGVjdG9yXG4gICAgICBjb25zdCBoYXNoSWR4ID0gc2VsLmluZGV4T2YoXCIjXCIpO1xuICAgICAgY29uc3QgZG90SWR4ID0gc2VsLmluZGV4T2YoXCIuXCIsIGhhc2hJZHgpO1xuICAgICAgY29uc3QgaGFzaCA9IGhhc2hJZHggPiAwID8gaGFzaElkeCA6IHNlbC5sZW5ndGg7XG4gICAgICBjb25zdCBkb3QgPSBkb3RJZHggPiAwID8gZG90SWR4IDogc2VsLmxlbmd0aDtcbiAgICAgIGNvbnN0IHRhZyA9XG4gICAgICAgIGhhc2hJZHggIT09IC0xIHx8IGRvdElkeCAhPT0gLTFcbiAgICAgICAgICA/IHNlbC5zbGljZSgwLCBNYXRoLm1pbihoYXNoLCBkb3QpKVxuICAgICAgICAgIDogc2VsO1xuICAgICAgY29uc3QgZWxtID0gKHZub2RlLmVsbSA9XG4gICAgICAgIGlzRGVmKGRhdGEpICYmIGlzRGVmKChpID0gZGF0YS5ucykpXG4gICAgICAgICAgPyBhcGkuY3JlYXRlRWxlbWVudE5TKGksIHRhZywgZGF0YSlcbiAgICAgICAgICA6IGFwaS5jcmVhdGVFbGVtZW50KHRhZywgZGF0YSkpO1xuICAgICAgaWYgKGhhc2ggPCBkb3QpIGVsbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBzZWwuc2xpY2UoaGFzaCArIDEsIGRvdCkpO1xuICAgICAgaWYgKGRvdElkeCA+IDApXG4gICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzZWwuc2xpY2UoZG90ICsgMSkucmVwbGFjZSgvXFwuL2csIFwiIFwiKSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSkgY2JzLmNyZWF0ZVtpXShlbXB0eU5vZGUsIHZub2RlKTtcbiAgICAgIGlmIChpcy5hcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgY29uc3QgY2ggPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICBpZiAoY2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXBpLmFwcGVuZENoaWxkKGVsbSwgY3JlYXRlRWxtKGNoIGFzIFZOb2RlLCBpbnNlcnRlZFZub2RlUXVldWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXMucHJpbWl0aXZlKHZub2RlLnRleHQpKSB7XG4gICAgICAgIGFwaS5hcHBlbmRDaGlsZChlbG0sIGFwaS5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KSk7XG4gICAgICB9XG4gICAgICBjb25zdCBob29rID0gdm5vZGUuZGF0YSEuaG9vaztcbiAgICAgIGlmIChpc0RlZihob29rKSkge1xuICAgICAgICBob29rLmNyZWF0ZT8uKGVtcHR5Tm9kZSwgdm5vZGUpO1xuICAgICAgICBpZiAoaG9vay5pbnNlcnQpIHtcbiAgICAgICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnM/LmV4cGVyaW1lbnRhbD8uZnJhZ21lbnRzICYmIHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICB2bm9kZS5lbG0gPSAoXG4gICAgICAgIGFwaS5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID8/IGRvY3VtZW50RnJhZ21lbnRJc05vdFN1cHBvcnRlZFxuICAgICAgKSgpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kpIGNicy5jcmVhdGVbaV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgY2ggPSB2bm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGNoICE9IG51bGwpIHtcbiAgICAgICAgICBhcGkuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICB2bm9kZS5lbG0sXG4gICAgICAgICAgICBjcmVhdGVFbG0oY2ggYXMgVk5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmVsbSA9IGFwaS5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0ISk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZS5lbG07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRWbm9kZXMoXG4gICAgcGFyZW50RWxtOiBOb2RlLFxuICAgIGJlZm9yZTogTm9kZSB8IG51bGwsXG4gICAgdm5vZGVzOiBWTm9kZVtdLFxuICAgIHN0YXJ0SWR4OiBudW1iZXIsXG4gICAgZW5kSWR4OiBudW1iZXIsXG4gICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlOiBWTm9kZVF1ZXVlXG4gICkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIGNvbnN0IGNoID0gdm5vZGVzW3N0YXJ0SWR4XTtcbiAgICAgIGlmIChjaCAhPSBudWxsKSB7XG4gICAgICAgIGFwaS5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0oY2gsIGluc2VydGVkVm5vZGVRdWV1ZSksIGJlZm9yZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRGVzdHJveUhvb2sodm5vZGU6IFZOb2RlKSB7XG4gICAgY29uc3QgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YT8uaG9vaz8uZGVzdHJveT8uKHZub2RlKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIGNicy5kZXN0cm95W2ldKHZub2RlKTtcbiAgICAgIGlmICh2bm9kZS5jaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IHZub2RlLmNoaWxkcmVuW2pdO1xuICAgICAgICAgIGlmIChjaGlsZCAhPSBudWxsICYmIHR5cGVvZiBjaGlsZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVZub2RlcyhcbiAgICBwYXJlbnRFbG06IE5vZGUsXG4gICAgdm5vZGVzOiBWTm9kZVtdLFxuICAgIHN0YXJ0SWR4OiBudW1iZXIsXG4gICAgZW5kSWR4OiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgbGV0IGxpc3RlbmVyczogbnVtYmVyO1xuICAgICAgbGV0IHJtOiAoKSA9PiB2b2lkO1xuICAgICAgY29uc3QgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgICAgaWYgKGNoICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzRGVmKGNoLnNlbCkpIHtcbiAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY2JzLnJlbW92ZS5sZW5ndGggKyAxO1xuICAgICAgICAgIHJtID0gY3JlYXRlUm1DYihjaC5lbG0hLCBsaXN0ZW5lcnMpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2JzLnJlbW92ZS5sZW5ndGg7ICsraSkgY2JzLnJlbW92ZVtpXShjaCwgcm0pO1xuICAgICAgICAgIGNvbnN0IHJlbW92ZUhvb2sgPSBjaD8uZGF0YT8uaG9vaz8ucmVtb3ZlO1xuICAgICAgICAgIGlmIChpc0RlZihyZW1vdmVIb29rKSkge1xuICAgICAgICAgICAgcmVtb3ZlSG9vayhjaCwgcm0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBybSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaC5jaGlsZHJlbikge1xuICAgICAgICAgIC8vIEZyYWdtZW50IG5vZGVcbiAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7XG4gICAgICAgICAgcmVtb3ZlVm5vZGVzKFxuICAgICAgICAgICAgcGFyZW50RWxtLFxuICAgICAgICAgICAgY2guY2hpbGRyZW4gYXMgVk5vZGVbXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBjaC5jaGlsZHJlbi5sZW5ndGggLSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUZXh0IG5vZGVcbiAgICAgICAgICBhcGkucmVtb3ZlQ2hpbGQocGFyZW50RWxtLCBjaC5lbG0hKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuKFxuICAgIHBhcmVudEVsbTogTm9kZSxcbiAgICBvbGRDaDogVk5vZGVbXSxcbiAgICBuZXdDaDogVk5vZGVbXSxcbiAgICBpbnNlcnRlZFZub2RlUXVldWU6IFZOb2RlUXVldWVcbiAgKSB7XG4gICAgbGV0IG9sZFN0YXJ0SWR4ID0gMDtcbiAgICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICAgIGxldCBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICAgIGxldCBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gICAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgICBsZXQgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgICBsZXQgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICAgIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gICAgbGV0IG9sZEtleVRvSWR4OiBLZXlUb0luZGV4TWFwIHwgdW5kZWZpbmVkO1xuICAgIGxldCBpZHhJbk9sZDogbnVtYmVyO1xuICAgIGxldCBlbG1Ub01vdmU6IFZOb2RlO1xuICAgIGxldCBiZWZvcmU6IGFueTtcblxuICAgIHdoaWxlIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHggJiYgbmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG4gICAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgbWlnaHQgaGF2ZSBiZWVuIG1vdmVkIGxlZnRcbiAgICAgIH0gZWxzZSBpZiAob2xkRW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAobmV3U3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSBpZiAobmV3RW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgLy8gVm5vZGUgbW92ZWQgcmlnaHRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgYXBpLmluc2VydEJlZm9yZShcbiAgICAgICAgICBwYXJlbnRFbG0sXG4gICAgICAgICAgb2xkU3RhcnRWbm9kZS5lbG0hLFxuICAgICAgICAgIGFwaS5uZXh0U2libGluZyhvbGRFbmRWbm9kZS5lbG0hKVxuICAgICAgICApO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgYXBpLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSEsIG9sZFN0YXJ0Vm5vZGUuZWxtISk7XG4gICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob2xkS2V5VG9JZHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgICB9XG4gICAgICAgIGlkeEluT2xkID0gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXkgYXMgc3RyaW5nXTtcbiAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7XG4gICAgICAgICAgLy8gTmV3IGVsZW1lbnRcbiAgICAgICAgICBhcGkuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgcGFyZW50RWxtLFxuICAgICAgICAgICAgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksXG4gICAgICAgICAgICBvbGRTdGFydFZub2RlLmVsbSFcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsbVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcbiAgICAgICAgICBpZiAoZWxtVG9Nb3ZlLnNlbCAhPT0gbmV3U3RhcnRWbm9kZS5zZWwpIHtcbiAgICAgICAgICAgIGFwaS5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgIHBhcmVudEVsbSxcbiAgICAgICAgICAgICAgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksXG4gICAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUuZWxtIVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZShlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICAgICAgYXBpLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGVsbVRvTW92ZS5lbG0hLCBvbGRTdGFydFZub2RlLmVsbSEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgICAgYmVmb3JlID0gbmV3Q2hbbmV3RW5kSWR4ICsgMV0gPT0gbnVsbCA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XG4gICAgICBhZGRWbm9kZXMoXG4gICAgICAgIHBhcmVudEVsbSxcbiAgICAgICAgYmVmb3JlLFxuICAgICAgICBuZXdDaCxcbiAgICAgICAgbmV3U3RhcnRJZHgsXG4gICAgICAgIG5ld0VuZElkeCxcbiAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4KSB7XG4gICAgICByZW1vdmVWbm9kZXMocGFyZW50RWxtLCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2hWbm9kZShcbiAgICBvbGRWbm9kZTogVk5vZGUsXG4gICAgdm5vZGU6IFZOb2RlLFxuICAgIGluc2VydGVkVm5vZGVRdWV1ZTogVk5vZGVRdWV1ZVxuICApIHtcbiAgICBjb25zdCBob29rID0gdm5vZGUuZGF0YT8uaG9vaztcbiAgICBob29rPy5wcmVwYXRjaD8uKG9sZFZub2RlLCB2bm9kZSk7XG4gICAgY29uc3QgZWxtID0gKHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbSkhO1xuICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHJldHVybjtcbiAgICBpZiAoXG4gICAgICB2bm9kZS5kYXRhICE9PSB1bmRlZmluZWQgfHxcbiAgICAgIChpc0RlZih2bm9kZS50ZXh0KSAmJiB2bm9kZS50ZXh0ICE9PSBvbGRWbm9kZS50ZXh0KVxuICAgICkge1xuICAgICAgdm5vZGUuZGF0YSA/Pz0ge307XG4gICAgICBvbGRWbm9kZS5kYXRhID8/PSB7fTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSlcbiAgICAgICAgY2JzLnVwZGF0ZVtpXShvbGRWbm9kZSwgdm5vZGUpO1xuICAgICAgdm5vZGUuZGF0YT8uaG9vaz8udXBkYXRlPy4ob2xkVm5vZGUsIHZub2RlKTtcbiAgICB9XG4gICAgY29uc3Qgb2xkQ2ggPSBvbGRWbm9kZS5jaGlsZHJlbiBhcyBWTm9kZVtdO1xuICAgIGNvbnN0IGNoID0gdm5vZGUuY2hpbGRyZW4gYXMgVk5vZGVbXTtcbiAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKGNoKSkge1xuICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIFwiXCIpO1xuICAgICAgICBhZGRWbm9kZXMoZWxtLCBudWxsLCBjaCwgMCwgY2gubGVuZ3RoIC0gMSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkQ2gpKSB7XG4gICAgICAgIHJlbW92ZVZub2RlcyhlbG0sIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHtcbiAgICAgICAgYXBpLnNldFRleHRDb250ZW50KGVsbSwgXCJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XG4gICAgICBpZiAoaXNEZWYob2xkQ2gpKSB7XG4gICAgICAgIHJlbW92ZVZub2RlcyhlbG0sIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIHZub2RlLnRleHQhKTtcbiAgICB9XG4gICAgaG9vaz8ucG9zdHBhdGNoPy4ob2xkVm5vZGUsIHZub2RlKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwYXRjaChcbiAgICBvbGRWbm9kZTogVk5vZGUgfCBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCxcbiAgICB2bm9kZTogVk5vZGVcbiAgKTogVk5vZGUge1xuICAgIGxldCBpOiBudW1iZXIsIGVsbTogTm9kZSwgcGFyZW50OiBOb2RlO1xuICAgIGNvbnN0IGluc2VydGVkVm5vZGVRdWV1ZTogVk5vZGVRdWV1ZSA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucHJlLmxlbmd0aDsgKytpKSBjYnMucHJlW2ldKCk7XG5cbiAgICBpZiAoaXNFbGVtZW50KGFwaSwgb2xkVm5vZGUpKSB7XG4gICAgICBvbGRWbm9kZSA9IGVtcHR5Tm9kZUF0KG9sZFZub2RlKTtcbiAgICB9IGVsc2UgaWYgKGlzRG9jdW1lbnRGcmFnbWVudChhcGksIG9sZFZub2RlKSkge1xuICAgICAgb2xkVm5vZGUgPSBlbXB0eURvY3VtZW50RnJhZ21lbnRBdChvbGRWbm9kZSk7XG4gICAgfVxuXG4gICAgaWYgKHNhbWVWbm9kZShvbGRWbm9kZSwgdm5vZGUpKSB7XG4gICAgICBwYXRjaFZub2RlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxtID0gb2xkVm5vZGUuZWxtITtcbiAgICAgIHBhcmVudCA9IGFwaS5wYXJlbnROb2RlKGVsbSkgYXMgTm9kZTtcblxuICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXG4gICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGFwaS5pbnNlcnRCZWZvcmUocGFyZW50LCB2bm9kZS5lbG0hLCBhcGkubmV4dFNpYmxpbmcoZWxtKSk7XG4gICAgICAgIHJlbW92ZVZub2RlcyhwYXJlbnQsIFtvbGRWbm9kZV0sIDAsIDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBpbnNlcnRlZFZub2RlUXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZVtpXS5kYXRhIS5ob29rIS5pbnNlcnQhKGluc2VydGVkVm5vZGVRdWV1ZVtpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucG9zdC5sZW5ndGg7ICsraSkgY2JzLnBvc3RbaV0oKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgdm5vZGUsIFZOb2RlLCBWTm9kZURhdGEgfSBmcm9tIFwiLi92bm9kZVwiO1xuaW1wb3J0ICogYXMgaXMgZnJvbSBcIi4vaXNcIjtcblxuZXhwb3J0IHR5cGUgVk5vZGVzID0gVk5vZGVbXTtcbmV4cG9ydCB0eXBlIFZOb2RlQ2hpbGRFbGVtZW50ID1cbiAgfCBWTm9kZVxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IFN0cmluZ1xuICB8IE51bWJlclxuICB8IHVuZGVmaW5lZFxuICB8IG51bGw7XG5leHBvcnQgdHlwZSBBcnJheU9yRWxlbWVudDxUPiA9IFQgfCBUW107XG5leHBvcnQgdHlwZSBWTm9kZUNoaWxkcmVuID0gQXJyYXlPckVsZW1lbnQ8Vk5vZGVDaGlsZEVsZW1lbnQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTlMoXG4gIGRhdGE6IGFueSxcbiAgY2hpbGRyZW46IEFycmF5PFZOb2RlIHwgc3RyaW5nPiB8IHVuZGVmaW5lZCxcbiAgc2VsOiBzdHJpbmcgfCB1bmRlZmluZWRcbik6IHZvaWQge1xuICBkYXRhLm5zID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuICBpZiAoc2VsICE9PSBcImZvcmVpZ25PYmplY3RcIiAmJiBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09IFwic3RyaW5nXCIpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgY2hpbGREYXRhID0gY2hpbGQuZGF0YTtcbiAgICAgIGlmIChjaGlsZERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGROUyhjaGlsZERhdGEsIGNoaWxkLmNoaWxkcmVuIGFzIFZOb2RlcywgY2hpbGQuc2VsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGgoc2VsOiBzdHJpbmcpOiBWTm9kZTtcbmV4cG9ydCBmdW5jdGlvbiBoKHNlbDogc3RyaW5nLCBkYXRhOiBWTm9kZURhdGEgfCBudWxsKTogVk5vZGU7XG5leHBvcnQgZnVuY3Rpb24gaChzZWw6IHN0cmluZywgY2hpbGRyZW46IFZOb2RlQ2hpbGRyZW4pOiBWTm9kZTtcbmV4cG9ydCBmdW5jdGlvbiBoKFxuICBzZWw6IHN0cmluZyxcbiAgZGF0YTogVk5vZGVEYXRhIHwgbnVsbCxcbiAgY2hpbGRyZW46IFZOb2RlQ2hpbGRyZW5cbik6IFZOb2RlO1xuZXhwb3J0IGZ1bmN0aW9uIGgoc2VsOiBhbnksIGI/OiBhbnksIGM/OiBhbnkpOiBWTm9kZSB7XG4gIGxldCBkYXRhOiBWTm9kZURhdGEgPSB7fTtcbiAgbGV0IGNoaWxkcmVuOiBhbnk7XG4gIGxldCB0ZXh0OiBhbnk7XG4gIGxldCBpOiBudW1iZXI7XG4gIGlmIChjICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoYiAhPT0gbnVsbCkge1xuICAgICAgZGF0YSA9IGI7XG4gICAgfVxuICAgIGlmIChpcy5hcnJheShjKSkge1xuICAgICAgY2hpbGRyZW4gPSBjO1xuICAgIH0gZWxzZSBpZiAoaXMucHJpbWl0aXZlKGMpKSB7XG4gICAgICB0ZXh0ID0gYy50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAoYyAmJiBjLnNlbCkge1xuICAgICAgY2hpbGRyZW4gPSBbY107XG4gICAgfVxuICB9IGVsc2UgaWYgKGIgIT09IHVuZGVmaW5lZCAmJiBiICE9PSBudWxsKSB7XG4gICAgaWYgKGlzLmFycmF5KGIpKSB7XG4gICAgICBjaGlsZHJlbiA9IGI7XG4gICAgfSBlbHNlIGlmIChpcy5wcmltaXRpdmUoYikpIHtcbiAgICAgIHRleHQgPSBiLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChiICYmIGIuc2VsKSB7XG4gICAgICBjaGlsZHJlbiA9IFtiXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IGI7XG4gICAgfVxuICB9XG4gIGlmIChjaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoaXMucHJpbWl0aXZlKGNoaWxkcmVuW2ldKSlcbiAgICAgICAgY2hpbGRyZW5baV0gPSB2bm9kZShcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBjaGlsZHJlbltpXSxcbiAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKFxuICAgIHNlbFswXSA9PT0gXCJzXCIgJiZcbiAgICBzZWxbMV0gPT09IFwidlwiICYmXG4gICAgc2VsWzJdID09PSBcImdcIiAmJlxuICAgIChzZWwubGVuZ3RoID09PSAzIHx8IHNlbFszXSA9PT0gXCIuXCIgfHwgc2VsWzNdID09PSBcIiNcIilcbiAgKSB7XG4gICAgYWRkTlMoZGF0YSwgY2hpbGRyZW4sIHNlbCk7XG4gIH1cbiAgcmV0dXJuIHZub2RlKHNlbCwgZGF0YSwgY2hpbGRyZW4sIHRleHQsIHVuZGVmaW5lZCk7XG59XG5cbi8qKlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJhZ21lbnQoY2hpbGRyZW46IFZOb2RlQ2hpbGRyZW4pOiBWTm9kZSB7XG4gIGxldCBjOiBhbnk7XG4gIGxldCB0ZXh0OiBhbnk7XG5cbiAgaWYgKGlzLmFycmF5KGNoaWxkcmVuKSkge1xuICAgIGMgPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChpcy5wcmltaXRpdmUoYykpIHtcbiAgICB0ZXh0ID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoYyAmJiBjLnNlbCkge1xuICAgIGMgPSBbY2hpbGRyZW5dO1xuICB9XG5cbiAgaWYgKGMgIT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKGlzLnByaW1pdGl2ZShjW2ldKSlcbiAgICAgICAgY1tpXSA9IHZub2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNbaV0sIHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZub2RlKHVuZGVmaW5lZCwge30sIGMsIHRleHQsIHVuZGVmaW5lZCk7XG59XG4iLCAiaW1wb3J0IHsgYWRkTlMgfSBmcm9tIFwiLi9oXCI7XG5pbXBvcnQgeyB2bm9kZSwgVk5vZGUgfSBmcm9tIFwiLi92bm9kZVwiO1xuaW1wb3J0IHsgaHRtbERvbUFwaSwgRE9NQVBJIH0gZnJvbSBcIi4vaHRtbGRvbWFwaVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9WTm9kZShub2RlOiBOb2RlLCBkb21BcGk/OiBET01BUEkpOiBWTm9kZSB7XG4gIGNvbnN0IGFwaTogRE9NQVBJID0gZG9tQXBpICE9PSB1bmRlZmluZWQgPyBkb21BcGkgOiBodG1sRG9tQXBpO1xuICBsZXQgdGV4dDogc3RyaW5nO1xuICBpZiAoYXBpLmlzRWxlbWVudChub2RlKSkge1xuICAgIGNvbnN0IGlkID0gbm9kZS5pZCA/IFwiI1wiICsgbm9kZS5pZCA6IFwiXCI7XG4gICAgY29uc3QgY24gPSBub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGNvbnN0IGMgPSBjbiA/IFwiLlwiICsgY24uc3BsaXQoXCIgXCIpLmpvaW4oXCIuXCIpIDogXCJcIjtcbiAgICBjb25zdCBzZWwgPSBhcGkudGFnTmFtZShub2RlKS50b0xvd2VyQ2FzZSgpICsgaWQgKyBjO1xuICAgIGNvbnN0IGF0dHJzOiBhbnkgPSB7fTtcbiAgICBjb25zdCBkYXRhc2V0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgY29uc3QgY2hpbGRyZW46IFZOb2RlW10gPSBbXTtcbiAgICBsZXQgbmFtZTogc3RyaW5nO1xuICAgIGxldCBpOiBudW1iZXIsIG46IG51bWJlcjtcbiAgICBjb25zdCBlbG1BdHRycyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICBjb25zdCBlbG1DaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICBmb3IgKGkgPSAwLCBuID0gZWxtQXR0cnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBuYW1lID0gZWxtQXR0cnNbaV0ubm9kZU5hbWU7XG4gICAgICBpZiAoXG4gICAgICAgIG5hbWVbMF0gPT09IFwiZFwiICYmXG4gICAgICAgIG5hbWVbMV0gPT09IFwiYVwiICYmXG4gICAgICAgIG5hbWVbMl0gPT09IFwidFwiICYmXG4gICAgICAgIG5hbWVbM10gPT09IFwiYVwiICYmXG4gICAgICAgIG5hbWVbNF0gPT09IFwiLVwiXG4gICAgICApIHtcbiAgICAgICAgZGF0YXNldFtuYW1lLnNsaWNlKDUpXSA9IGVsbUF0dHJzW2ldLm5vZGVWYWx1ZSB8fCBcIlwiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lICE9PSBcImlkXCIgJiYgbmFtZSAhPT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGF0dHJzW25hbWVdID0gZWxtQXR0cnNbaV0ubm9kZVZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwLCBuID0gZWxtQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKHRvVk5vZGUoZWxtQ2hpbGRyZW5baV0sIGRvbUFwaSkpO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhhdHRycykubGVuZ3RoID4gMCkgZGF0YS5hdHRycyA9IGF0dHJzO1xuICAgIGlmIChPYmplY3Qua2V5cyhkYXRhc2V0KS5sZW5ndGggPiAwKSBkYXRhLmRhdGFzZXQgPSBkYXRhc2V0O1xuXG4gICAgaWYgKFxuICAgICAgc2VsWzBdID09PSBcInNcIiAmJlxuICAgICAgc2VsWzFdID09PSBcInZcIiAmJlxuICAgICAgc2VsWzJdID09PSBcImdcIiAmJlxuICAgICAgKHNlbC5sZW5ndGggPT09IDMgfHwgc2VsWzNdID09PSBcIi5cIiB8fCBzZWxbM10gPT09IFwiI1wiKVxuICAgICkge1xuICAgICAgYWRkTlMoZGF0YSwgY2hpbGRyZW4sIHNlbCk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZShzZWwsIGRhdGEsIGNoaWxkcmVuLCB1bmRlZmluZWQsIG5vZGUpO1xuICB9IGVsc2UgaWYgKGFwaS5pc1RleHQobm9kZSkpIHtcbiAgICB0ZXh0ID0gYXBpLmdldFRleHRDb250ZW50KG5vZGUpIGFzIHN0cmluZztcbiAgICByZXR1cm4gdm5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGV4dCwgbm9kZSk7XG4gIH0gZWxzZSBpZiAoYXBpLmlzQ29tbWVudChub2RlKSkge1xuICAgIHRleHQgPSBhcGkuZ2V0VGV4dENvbnRlbnQobm9kZSkgYXMgc3RyaW5nO1xuICAgIHJldHVybiB2bm9kZShcIiFcIiwge30sIFtdLCB0ZXh0LCBub2RlIGFzIGFueSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZub2RlKFwiXCIsIHt9LCBbXSwgdW5kZWZpbmVkLCBub2RlIGFzIGFueSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBWTm9kZSwgVk5vZGVEYXRhIH0gZnJvbSBcIi4uL3Zub2RlXCI7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi9tb2R1bGVcIjtcblxuZXhwb3J0IHR5cGUgQXR0cnMgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPjtcblxuY29uc3QgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuY29uc3QgeG1sTlMgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiO1xuY29uc3QgY29sb25DaGFyID0gNTg7XG5jb25zdCB4Q2hhciA9IDEyMDtcblxuZnVuY3Rpb24gdXBkYXRlQXR0cnMob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGtleTogc3RyaW5nO1xuICBjb25zdCBlbG06IEVsZW1lbnQgPSB2bm9kZS5lbG0gYXMgRWxlbWVudDtcbiAgbGV0IG9sZEF0dHJzID0gKG9sZFZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5hdHRycztcbiAgbGV0IGF0dHJzID0gKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5hdHRycztcblxuICBpZiAoIW9sZEF0dHJzICYmICFhdHRycykgcmV0dXJuO1xuICBpZiAob2xkQXR0cnMgPT09IGF0dHJzKSByZXR1cm47XG4gIG9sZEF0dHJzID0gb2xkQXR0cnMgfHwge307XG4gIGF0dHJzID0gYXR0cnMgfHwge307XG5cbiAgLy8gdXBkYXRlIG1vZGlmaWVkIGF0dHJpYnV0ZXMsIGFkZCBuZXcgYXR0cmlidXRlc1xuICBmb3IgKGtleSBpbiBhdHRycykge1xuICAgIGNvbnN0IGN1ciA9IGF0dHJzW2tleV07XG4gICAgY29uc3Qgb2xkID0gb2xkQXR0cnNba2V5XTtcbiAgICBpZiAob2xkICE9PSBjdXIpIHtcbiAgICAgIGlmIChjdXIgPT09IHRydWUpIHtcbiAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShrZXksIFwiXCIpO1xuICAgICAgfSBlbHNlIGlmIChjdXIgPT09IGZhbHNlKSB7XG4gICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrZXkuY2hhckNvZGVBdCgwKSAhPT0geENoYXIpIHtcbiAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKGtleSwgY3VyIGFzIGFueSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmNoYXJDb2RlQXQoMykgPT09IGNvbG9uQ2hhcikge1xuICAgICAgICAgIC8vIEFzc3VtZSB4bWwgbmFtZXNwYWNlXG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKHhtbE5TLCBrZXksIGN1ciBhcyBhbnkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5jaGFyQ29kZUF0KDUpID09PSBjb2xvbkNoYXIpIHtcbiAgICAgICAgICAvLyBBc3N1bWUgeGxpbmsgbmFtZXNwYWNlXG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgY3VyIGFzIGFueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShrZXksIGN1ciBhcyBhbnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIHJlbW92ZSByZW1vdmVkIGF0dHJpYnV0ZXNcbiAgLy8gdXNlIGBpbmAgb3BlcmF0b3Igc2luY2UgdGhlIHByZXZpb3VzIGBmb3JgIGl0ZXJhdGlvbiB1c2VzIGl0ICguaS5lLiBhZGQgZXZlbiBhdHRyaWJ1dGVzIHdpdGggdW5kZWZpbmVkIHZhbHVlKVxuICAvLyB0aGUgb3RoZXIgb3B0aW9uIGlzIHRvIHJlbW92ZSBhbGwgYXR0cmlidXRlcyB3aXRoIHZhbHVlID09IHVuZGVmaW5lZFxuICBmb3IgKGtleSBpbiBvbGRBdHRycykge1xuICAgIGlmICghKGtleSBpbiBhdHRycykpIHtcbiAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGF0dHJpYnV0ZXNNb2R1bGU6IE1vZHVsZSA9IHtcbiAgY3JlYXRlOiB1cGRhdGVBdHRycyxcbiAgdXBkYXRlOiB1cGRhdGVBdHRycyxcbn07XG4iLCAiaW1wb3J0IHsgVk5vZGUsIFZOb2RlRGF0YSB9IGZyb20gXCIuLi92bm9kZVwiO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlXCI7XG5cbmV4cG9ydCB0eXBlIENsYXNzZXMgPSBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcblxuZnVuY3Rpb24gdXBkYXRlQ2xhc3Mob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGN1cjogYW55O1xuICBsZXQgbmFtZTogc3RyaW5nO1xuICBjb25zdCBlbG06IEVsZW1lbnQgPSB2bm9kZS5lbG0gYXMgRWxlbWVudDtcbiAgbGV0IG9sZENsYXNzID0gKG9sZFZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5jbGFzcztcbiAgbGV0IGtsYXNzID0gKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5jbGFzcztcblxuICBpZiAoIW9sZENsYXNzICYmICFrbGFzcykgcmV0dXJuO1xuICBpZiAob2xkQ2xhc3MgPT09IGtsYXNzKSByZXR1cm47XG4gIG9sZENsYXNzID0gb2xkQ2xhc3MgfHwge307XG4gIGtsYXNzID0ga2xhc3MgfHwge307XG5cbiAgZm9yIChuYW1lIGluIG9sZENsYXNzKSB7XG4gICAgaWYgKG9sZENsYXNzW25hbWVdICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoa2xhc3MsIG5hbWUpKSB7XG4gICAgICAvLyB3YXMgYHRydWVgIGFuZCBub3cgbm90IHByb3ZpZGVkXG4gICAgICBlbG0uY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIGtsYXNzKSB7XG4gICAgY3VyID0ga2xhc3NbbmFtZV07XG4gICAgaWYgKGN1ciAhPT0gb2xkQ2xhc3NbbmFtZV0pIHtcbiAgICAgIChlbG0uY2xhc3NMaXN0IGFzIGFueSlbY3VyID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKG5hbWUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2xhc3NNb2R1bGU6IE1vZHVsZSA9IHsgY3JlYXRlOiB1cGRhdGVDbGFzcywgdXBkYXRlOiB1cGRhdGVDbGFzcyB9O1xuIiwgImltcG9ydCB7IFZOb2RlLCBWTm9kZURhdGEgfSBmcm9tIFwiLi4vdm5vZGVcIjtcbmltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuL21vZHVsZVwiO1xuXG50eXBlIExpc3RlbmVyPFQ+ID0gKHRoaXM6IFZOb2RlLCBldjogVCwgdm5vZGU6IFZOb2RlKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBPbiA9IHtcbiAgW04gaW4ga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcF0/OlxuICAgIHwgTGlzdGVuZXI8SFRNTEVsZW1lbnRFdmVudE1hcFtOXT5cbiAgICB8IEFycmF5PExpc3RlbmVyPEhUTUxFbGVtZW50RXZlbnRNYXBbTl0+Pjtcbn0gJiB7XG4gIFtldmVudDogc3RyaW5nXTogTGlzdGVuZXI8YW55PiB8IEFycmF5PExpc3RlbmVyPGFueT4+O1xufTtcblxudHlwZSBTb21lTGlzdGVuZXI8TiBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+ID1cbiAgfCBMaXN0ZW5lcjxIVE1MRWxlbWVudEV2ZW50TWFwW05dPlxuICB8IExpc3RlbmVyPGFueT47XG5cbmZ1bmN0aW9uIGludm9rZUhhbmRsZXI8TiBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KFxuICBoYW5kbGVyOiBTb21lTGlzdGVuZXI8Tj4gfCBBcnJheTxTb21lTGlzdGVuZXI8Tj4+LFxuICB2bm9kZTogVk5vZGUsXG4gIGV2ZW50PzogRXZlbnRcbik6IHZvaWQge1xuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIC8vIGNhbGwgZnVuY3Rpb24gaGFuZGxlclxuICAgIGhhbmRsZXIuY2FsbCh2bm9kZSwgZXZlbnQsIHZub2RlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJvYmplY3RcIikge1xuICAgIC8vIGNhbGwgbXVsdGlwbGUgaGFuZGxlcnNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGludm9rZUhhbmRsZXIoaGFuZGxlcltpXSwgdm5vZGUsIGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQ6IEV2ZW50LCB2bm9kZTogVk5vZGUpIHtcbiAgY29uc3QgbmFtZSA9IGV2ZW50LnR5cGU7XG4gIGNvbnN0IG9uID0gKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5vbjtcblxuICAvLyBjYWxsIGV2ZW50IGhhbmRsZXIocykgaWYgZXhpc3RzXG4gIGlmIChvbiAmJiBvbltuYW1lXSkge1xuICAgIGludm9rZUhhbmRsZXIob25bbmFtZV0sIHZub2RlLCBldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlzdGVuZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBFdmVudCkge1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50LCAoaGFuZGxlciBhcyBhbnkpLnZub2RlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRXZlbnRMaXN0ZW5lcnMob2xkVm5vZGU6IFZOb2RlLCB2bm9kZT86IFZOb2RlKTogdm9pZCB7XG4gIGNvbnN0IG9sZE9uID0gKG9sZFZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5vbjtcbiAgY29uc3Qgb2xkTGlzdGVuZXIgPSAob2xkVm5vZGUgYXMgYW55KS5saXN0ZW5lcjtcbiAgY29uc3Qgb2xkRWxtOiBFbGVtZW50ID0gb2xkVm5vZGUuZWxtIGFzIEVsZW1lbnQ7XG4gIGNvbnN0IG9uID0gdm5vZGUgJiYgKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5vbjtcbiAgY29uc3QgZWxtOiBFbGVtZW50ID0gKHZub2RlICYmIHZub2RlLmVsbSkgYXMgRWxlbWVudDtcbiAgbGV0IG5hbWU6IHN0cmluZztcblxuICAvLyBvcHRpbWl6YXRpb24gZm9yIHJldXNlZCBpbW11dGFibGUgaGFuZGxlcnNcbiAgaWYgKG9sZE9uID09PSBvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHJlbW92ZSBleGlzdGluZyBsaXN0ZW5lcnMgd2hpY2ggbm8gbG9uZ2VyIHVzZWRcbiAgaWYgKG9sZE9uICYmIG9sZExpc3RlbmVyKSB7XG4gICAgLy8gaWYgZWxlbWVudCBjaGFuZ2VkIG9yIGRlbGV0ZWQgd2UgcmVtb3ZlIGFsbCBleGlzdGluZyBsaXN0ZW5lcnMgdW5jb25kaXRpb25hbGx5XG4gICAgaWYgKCFvbikge1xuICAgICAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lciBpZiBlbGVtZW50IHdhcyBjaGFuZ2VkIG9yIGV4aXN0aW5nIGxpc3RlbmVycyByZW1vdmVkXG4gICAgICAgIG9sZEVsbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIG9sZExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobmFtZSBpbiBvbGRPbikge1xuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXIgaWYgZXhpc3RpbmcgbGlzdGVuZXIgcmVtb3ZlZFxuICAgICAgICBpZiAoIW9uW25hbWVdKSB7XG4gICAgICAgICAgb2xkRWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgb2xkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGFkZCBuZXcgbGlzdGVuZXJzIHdoaWNoIGhhcyBub3QgYWxyZWFkeSBhdHRhY2hlZFxuICBpZiAob24pIHtcbiAgICAvLyByZXVzZSBleGlzdGluZyBsaXN0ZW5lciBvciBjcmVhdGUgbmV3XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoKHZub2RlIGFzIGFueSkubGlzdGVuZXIgPVxuICAgICAgKG9sZFZub2RlIGFzIGFueSkubGlzdGVuZXIgfHwgY3JlYXRlTGlzdGVuZXIoKSk7XG4gICAgLy8gdXBkYXRlIHZub2RlIGZvciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLnZub2RlID0gdm5vZGU7XG5cbiAgICAvLyBpZiBlbGVtZW50IGNoYW5nZWQgb3IgYWRkZWQgd2UgYWRkIGFsbCBuZWVkZWQgbGlzdGVuZXJzIHVuY29uZGl0aW9uYWxseVxuICAgIGlmICghb2xkT24pIHtcbiAgICAgIGZvciAobmFtZSBpbiBvbikge1xuICAgICAgICAvLyBhZGQgbGlzdGVuZXIgaWYgZWxlbWVudCB3YXMgY2hhbmdlZCBvciBuZXcgbGlzdGVuZXJzIGFkZGVkXG4gICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobmFtZSBpbiBvbikge1xuICAgICAgICAvLyBhZGQgbGlzdGVuZXIgaWYgbmV3IGxpc3RlbmVyIGFkZGVkXG4gICAgICAgIGlmICghb2xkT25bbmFtZV0pIHtcbiAgICAgICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBldmVudExpc3RlbmVyc01vZHVsZTogTW9kdWxlID0ge1xuICBjcmVhdGU6IHVwZGF0ZUV2ZW50TGlzdGVuZXJzLFxuICB1cGRhdGU6IHVwZGF0ZUV2ZW50TGlzdGVuZXJzLFxuICBkZXN0cm95OiB1cGRhdGVFdmVudExpc3RlbmVycyxcbn07XG4iLCAiaW1wb3J0IHsgVk5vZGUsIFZOb2RlRGF0YSB9IGZyb20gXCIuLi92bm9kZVwiO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlXCI7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gUmVjb3JkPHN0cmluZywgYW55PjtcblxuZnVuY3Rpb24gdXBkYXRlUHJvcHMob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGtleTogc3RyaW5nO1xuICBsZXQgY3VyOiBhbnk7XG4gIGxldCBvbGQ6IGFueTtcbiAgY29uc3QgZWxtID0gdm5vZGUuZWxtO1xuICBsZXQgb2xkUHJvcHMgPSAob2xkVm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnByb3BzO1xuICBsZXQgcHJvcHMgPSAodm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnByb3BzO1xuXG4gIGlmICghb2xkUHJvcHMgJiYgIXByb3BzKSByZXR1cm47XG4gIGlmIChvbGRQcm9wcyA9PT0gcHJvcHMpIHJldHVybjtcbiAgb2xkUHJvcHMgPSBvbGRQcm9wcyB8fCB7fTtcbiAgcHJvcHMgPSBwcm9wcyB8fCB7fTtcblxuICBmb3IgKGtleSBpbiBwcm9wcykge1xuICAgIGN1ciA9IHByb3BzW2tleV07XG4gICAgb2xkID0gb2xkUHJvcHNba2V5XTtcbiAgICBpZiAob2xkICE9PSBjdXIgJiYgKGtleSAhPT0gXCJ2YWx1ZVwiIHx8IChlbG0gYXMgYW55KVtrZXldICE9PSBjdXIpKSB7XG4gICAgICAoZWxtIGFzIGFueSlba2V5XSA9IGN1cjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHByb3BzTW9kdWxlOiBNb2R1bGUgPSB7IGNyZWF0ZTogdXBkYXRlUHJvcHMsIHVwZGF0ZTogdXBkYXRlUHJvcHMgfTtcbiIsICJpbXBvcnQgeyBWTm9kZSwgVk5vZGVEYXRhIH0gZnJvbSBcIi4uL3Zub2RlXCI7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi9tb2R1bGVcIjtcblxuZXhwb3J0IHR5cGUgVk5vZGVTdHlsZSA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gJiB7XG4gIGRlbGF5ZWQ/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICByZW1vdmU/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufTtcblxuLy8gQmluZGlnIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGxpa2UgdGhpcyBmaXhlcyBhIGJ1ZyBpbiBJRS9FZGdlLiBTZWUgIzM2MCBhbmQgIzQwOS5cbmNvbnN0IHJhZiA9XG4gICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykpIHx8XG4gIHNldFRpbWVvdXQ7XG5jb25zdCBuZXh0RnJhbWUgPSBmdW5jdGlvbiAoZm46IGFueSkge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufTtcbmxldCByZWZsb3dGb3JjZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2V0TmV4dEZyYW1lKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbDogYW55KTogdm9pZCB7XG4gIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgb2JqW3Byb3BdID0gdmFsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU3R5bGUob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGN1cjogYW55O1xuICBsZXQgbmFtZTogc3RyaW5nO1xuICBjb25zdCBlbG0gPSB2bm9kZS5lbG07XG4gIGxldCBvbGRTdHlsZSA9IChvbGRWbm9kZS5kYXRhIGFzIFZOb2RlRGF0YSkuc3R5bGU7XG4gIGxldCBzdHlsZSA9ICh2bm9kZS5kYXRhIGFzIFZOb2RlRGF0YSkuc3R5bGU7XG5cbiAgaWYgKCFvbGRTdHlsZSAmJiAhc3R5bGUpIHJldHVybjtcbiAgaWYgKG9sZFN0eWxlID09PSBzdHlsZSkgcmV0dXJuO1xuICBvbGRTdHlsZSA9IG9sZFN0eWxlIHx8IHt9O1xuICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICBjb25zdCBvbGRIYXNEZWwgPSBcImRlbGF5ZWRcIiBpbiBvbGRTdHlsZTtcblxuICBmb3IgKG5hbWUgaW4gb2xkU3R5bGUpIHtcbiAgICBpZiAoIXN0eWxlW25hbWVdKSB7XG4gICAgICBpZiAobmFtZVswXSA9PT0gXCItXCIgJiYgbmFtZVsxXSA9PT0gXCItXCIpIHtcbiAgICAgICAgKGVsbSBhcyBhbnkpLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGVsbSBhcyBhbnkpLnN0eWxlW25hbWVdID0gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIHN0eWxlKSB7XG4gICAgY3VyID0gc3R5bGVbbmFtZV07XG4gICAgaWYgKG5hbWUgPT09IFwiZGVsYXllZFwiICYmIHN0eWxlLmRlbGF5ZWQpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZTIgaW4gc3R5bGUuZGVsYXllZCkge1xuICAgICAgICBjdXIgPSBzdHlsZS5kZWxheWVkW25hbWUyXTtcbiAgICAgICAgaWYgKCFvbGRIYXNEZWwgfHwgY3VyICE9PSAob2xkU3R5bGUuZGVsYXllZCBhcyBhbnkpW25hbWUyXSkge1xuICAgICAgICAgIHNldE5leHRGcmFtZSgoZWxtIGFzIGFueSkuc3R5bGUsIG5hbWUyLCBjdXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYW1lICE9PSBcInJlbW92ZVwiICYmIGN1ciAhPT0gb2xkU3R5bGVbbmFtZV0pIHtcbiAgICAgIGlmIChuYW1lWzBdID09PSBcIi1cIiAmJiBuYW1lWzFdID09PSBcIi1cIikge1xuICAgICAgICAoZWxtIGFzIGFueSkuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgY3VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChlbG0gYXMgYW55KS5zdHlsZVtuYW1lXSA9IGN1cjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlEZXN0cm95U3R5bGUodm5vZGU6IFZOb2RlKTogdm9pZCB7XG4gIGxldCBzdHlsZTogYW55O1xuICBsZXQgbmFtZTogc3RyaW5nO1xuICBjb25zdCBlbG0gPSB2bm9kZS5lbG07XG4gIGNvbnN0IHMgPSAodm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnN0eWxlO1xuICBpZiAoIXMgfHwgIShzdHlsZSA9IHMuZGVzdHJveSkpIHJldHVybjtcbiAgZm9yIChuYW1lIGluIHN0eWxlKSB7XG4gICAgKGVsbSBhcyBhbnkpLnN0eWxlW25hbWVdID0gc3R5bGVbbmFtZV07XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlSZW1vdmVTdHlsZSh2bm9kZTogVk5vZGUsIHJtOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gIGNvbnN0IHMgPSAodm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnN0eWxlO1xuICBpZiAoIXMgfHwgIXMucmVtb3ZlKSB7XG4gICAgcm0oKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFyZWZsb3dGb3JjZWQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICh2bm9kZS5lbG0gYXMgYW55KS5vZmZzZXRMZWZ0O1xuICAgIHJlZmxvd0ZvcmNlZCA9IHRydWU7XG4gIH1cbiAgbGV0IG5hbWU6IHN0cmluZztcbiAgY29uc3QgZWxtID0gdm5vZGUuZWxtO1xuICBsZXQgaSA9IDA7XG4gIGNvbnN0IHN0eWxlID0gcy5yZW1vdmU7XG4gIGxldCBhbW91bnQgPSAwO1xuICBjb25zdCBhcHBsaWVkOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKG5hbWUgaW4gc3R5bGUpIHtcbiAgICBhcHBsaWVkLnB1c2gobmFtZSk7XG4gICAgKGVsbSBhcyBhbnkpLnN0eWxlW25hbWVdID0gc3R5bGVbbmFtZV07XG4gIH1cbiAgY29uc3QgY29tcFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbG0gYXMgRWxlbWVudCk7XG4gIGNvbnN0IHByb3BzID0gKGNvbXBTdHlsZSBhcyBhbnkpW1widHJhbnNpdGlvbi1wcm9wZXJ0eVwiXS5zcGxpdChcIiwgXCIpO1xuICBmb3IgKDsgaSA8IHByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFwcGxpZWQuaW5kZXhPZihwcm9wc1tpXSkgIT09IC0xKSBhbW91bnQrKztcbiAgfVxuICAoZWxtIGFzIEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJ0cmFuc2l0aW9uZW5kXCIsXG4gICAgZnVuY3Rpb24gKGV2OiBUcmFuc2l0aW9uRXZlbnQpIHtcbiAgICAgIGlmIChldi50YXJnZXQgPT09IGVsbSkgLS1hbW91bnQ7XG4gICAgICBpZiAoYW1vdW50ID09PSAwKSBybSgpO1xuICAgIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gIHJlZmxvd0ZvcmNlZCA9IGZhbHNlO1xufVxuXG5leHBvcnQgY29uc3Qgc3R5bGVNb2R1bGU6IE1vZHVsZSA9IHtcbiAgcHJlOiBmb3JjZVJlZmxvdyxcbiAgY3JlYXRlOiB1cGRhdGVTdHlsZSxcbiAgdXBkYXRlOiB1cGRhdGVTdHlsZSxcbiAgZGVzdHJveTogYXBwbHlEZXN0cm95U3R5bGUsXG4gIHJlbW92ZTogYXBwbHlSZW1vdmVTdHlsZSxcbn07XG4iLCAiaW1wb3J0IHsgVk5vZGUsIGluaXQsIGNsYXNzTW9kdWxlLCBhdHRyaWJ1dGVzTW9kdWxlLCBwcm9wc01vZHVsZSwgZXZlbnRMaXN0ZW5lcnNNb2R1bGUsIHN0eWxlTW9kdWxlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5leHBvcnQgY29uc3QgcGF0Y2ggPSBpbml0KFtjbGFzc01vZHVsZSwgYXR0cmlidXRlc01vZHVsZSwgcHJvcHNNb2R1bGUsIGV2ZW50TGlzdGVuZXJzTW9kdWxlLCBzdHlsZU1vZHVsZV0pO1xuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRQZ25UZXh0KGZpbGVuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0ZXh0ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZ250ZXh0JykgYXMgSFRNTElucHV0RWxlbWVudCkuaW5uZXJIVE1MO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZW5hbWUpO1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cbiAgICBlbGVtZW50LmNsaWNrKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnREYXRhKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdweWNoZXNzLXZhcmlhbnRzJyk7XG4gICAgaWYgKGVsbSkge1xuICAgICAgICByZXR1cm4gZWxtLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgbmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShjYWxsYmFjazogYW55LCB3YWl0OiBudW1iZXIpIHtcbiAgICBsZXQgdGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD47XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKSwgd2FpdCk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZShuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFpciA9IGNvb2tpZXNbaV0udHJpbSgpLnNwbGl0KCc9Jyk7XG4gICAgICAgIGlmKHBhaXJbMF0gPT09IG5hbWUpXG4gICAgICAgICAgICByZXR1cm4gcGFpclsxXTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29raWUoY25hbWU6IHN0cmluZywgY3ZhbHVlOiBzdHJpbmcsIGV4ZGF5czogbnVtYmVyKSB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG4gICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgKGV4ZGF5cyoyNCo2MCo2MCoxMDAwKSk7XG4gICAgY29uc3QgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcbiAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArIFwiPVwiICsgY3ZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7cGF0aD0vXCI7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZUNTUyhjc3NMaW5rSW5kZXg6IG51bWJlciwgY3NzRmlsZTogc3RyaW5nKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpLml0ZW0oY3NzTGlua0luZGV4KSEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBjc3NGaWxlKTtcbn1cblxuLy8gY3NzIGZpbGUgaW5kZXggaW4gdGVtcGxhdGVzL2Jhc2UuaHRtbFxuY29uc3QgQk9BUkRfQ1NTX0lEWCA9IDE7XG5jb25zdCBQSUVDRV9DU1NfSURYID0gMjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZUJvYXJkQ1NTKGFzc2V0VXJsOiBzdHJpbmcsIGZhbWlseTogc3RyaW5nLCBjc3NGaWxlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzW0JPQVJEX0NTU19JRFhdO1xuICAgIGNvbnN0IGNzc1J1bGVzID0gc2hlZXQuY3NzUnVsZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjc3NSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBydWxlID0gY3NzUnVsZXNbaV07XG4gICAgICAgIGlmICghKCBydWxlIGluc3RhbmNlb2YgQ1NTU3R5bGVSdWxlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ID09PSBgLiR7ZmFtaWx5fSBjZy1ib2FyZGApIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2hhbmdlQm9hcmRDU1NcIiwgZmFtaWx5LCBjc3NGaWxlLCBpKVxuICAgICAgICAgICAgc2hlZXQuZGVsZXRlUnVsZShpKVxuICAgICAgICAgICAgY29uc3QgbmV3UnVsZSA9IGAuJHtmYW1pbHl9IGNnLWJvYXJkIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHthc3NldFVybH0vaW1hZ2VzL2JvYXJkLyR7Y3NzRmlsZX0pfWA7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdSdWxlKTtcbiAgICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUobmV3UnVsZSwgaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVBpZWNlQ1NTKGFzc2V0VXJsOiBzdHJpbmcsIGZhbWlseTogc3RyaW5nLCBjc3NGaWxlOiBzdHJpbmcpIHtcbiAgICBsZXQgY3NzTGlua0luZGV4ID0gUElFQ0VfQ1NTX0lEWDtcbiAgICBzd2l0Y2ggKGZhbWlseSkge1xuICAgICAgICBjYXNlIFwic3RhbmRhcmRcIjogYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZWlyYXdhblwiOiBjc3NMaW5rSW5kZXggKz0gMTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYWtydWtcIjogY3NzTGlua0luZGV4ICs9IDI7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2l0dHV5aW5cIjogY3NzTGlua0luZGV4ICs9IDM7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXNlYW5cIjogY3NzTGlua0luZGV4ICs9IDQ7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2hvZ2lcIjogY3NzTGlua0luZGV4ICs9IDU7IGJyZWFrO1xuICAgICAgICBjYXNlIFwia3lvdG9cIjogY3NzTGlua0luZGV4ICs9IDY7IGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9yaVwiOiBjc3NMaW5rSW5kZXggKz0gNzsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4aWFuZ3FpXCI6IGNzc0xpbmtJbmRleCArPSA4OyBicmVhaztcbiAgICAgICAgY2FzZSBcImNhcGFcIjogY3NzTGlua0luZGV4ICs9IDk7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2hha29cIjogY3NzTGlua0luZGV4ICs9IDEwOyBicmVhaztcbiAgICAgICAgY2FzZSBcInNob2d1blwiOiBjc3NMaW5rSW5kZXggKz0gMTE7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiamFuZ2dpXCI6IGNzc0xpbmtJbmRleCArPSAxMjsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvcmRhXCI6IGNzc0xpbmtJbmRleCArPSAxMzsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzeW5vY2hlc3NcIjogY3NzTGlua0luZGV4ICs9IDE0OyBicmVhaztcbiAgICAgICAgY2FzZSBcImhvcHBlbFwiOiBjc3NMaW5rSW5kZXggKz0gMTU7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9idXRzdVwiOiBjc3NMaW5rSW5kZXggKz0gMTY7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2hpbm9iaVwiOiBjc3NMaW5rSW5kZXggKz0gMTc7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW1waXJlXCI6IGNzc0xpbmtJbmRleCArPSAxODsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvcmRhbWlycm9yXCI6IGNzc0xpbmtJbmRleCArPSAxOTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjaGFrXCI6IGNzc0xpbmtJbmRleCArPSAyMDsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjaGVubmlzXCI6IGNzc0xpbmtJbmRleCArPSAyMTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzcGFydGFuXCI6IGNzc0xpbmtJbmRleCArPSAyMjsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IFwiVW5rbm93biBwaWVjZSBmYW1pbHkgXCIgKyBmYW1pbHk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1VybCA9IGAke2Fzc2V0VXJsfS9waWVjZS8ke2ZhbWlseX0vJHtjc3NGaWxlfS5jc3NgO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2hhbmdlUGllY2VDU1NcIiwgZmFtaWx5LCBjc3NGaWxlLCBuZXdVcmwpXG4gICAgY2hhbmdlQ1NTKGNzc0xpbmtJbmRleCwgbmV3VXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoZXZlbnROYW1lOiBzdHJpbmcsIGY6IChlOiBFdmVudCkgPT4gdm9pZCwgcmVkcmF3OiBudWxsIHwgKCgpID0+IHZvaWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zZXJ0KHZub2RlOiBWTm9kZSkge1xuICAgICAgICAgICAgdm5vZGUuZWxtPy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gZihlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVkcmF3KSByZWRyYXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImV4cG9ydCB0eXBlIENvbG9yID0gdHlwZW9mIGNvbG9yc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgU2lkZSA9IHR5cGVvZiBzaWRlc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgQWxwaGFiZXQgPSB0eXBlb2YgbGV0dGVyc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgTGV0dGVyID0gYCR7JycgfCAnKyd9JHtBbHBoYWJldCB8IFVwcGVyY2FzZTxBbHBoYWJldD4gfCAnKid9YDsgLy8gJyonIGlzIHVzZWQgZm9yIGluYWNjZXNzaWJsZSBzcXVhcmVzIGluIHdpbmJvYXJkL3hib2FyZCBGRU5cbmV4cG9ydCB0eXBlIFJvbGUgPSBgJHsnJyB8ICdwJ30ke0FscGhhYmV0IHwgJ18nfS1waWVjZWA7IC8vIGJ1dCAnKicgaXMgbm90IGFsbG92ZWQgaW4gQ1NTIGNsYXNzIG5hbWVzLCBzbyB3ZSB3aWxsIHVzZSAnXycgaW4gUm9sZVxuZXhwb3J0IHR5cGUgRmlsZSA9IHR5cGVvZiBmaWxlc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgUmFuayA9IHR5cGVvZiByYW5rc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgS2V5ID0gJ2EwJyB8IGAke0ZpbGV9JHtSYW5rfWA7IC8vIFRoZSBrZXkgJ2EwJyBpcyBvbmx5IHVzZWQgZm9yIHJlbmRlcmluZyBkcmFnZ2VkIHBpZWNlLiBJdCBzaG91bGQgTk9UIGJlIHVzZWQgaW4gYW55IGxvZ2ljLXJlbGF0ZWQgY29kZS5cbmV4cG9ydCB0eXBlIERyb3BPcmlnID0gYCR7VXBwZXJjYXNlPExldHRlcj59QGA7XG5leHBvcnQgdHlwZSBPcmlnID0gRHJvcE9yaWcgfCBLZXk7XG5cbmV4cG9ydCB0eXBlIEZFTiA9IHN0cmluZztcbmV4cG9ydCB0eXBlIFBvcyA9IFtudW1iZXIsIG51bWJlcl07XG5leHBvcnQgaW50ZXJmYWNlIFBpZWNlIHtcbiAgcm9sZTogUm9sZTtcbiAgY29sb3I6IENvbG9yO1xuICBwcm9tb3RlZD86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIERyb3Age1xuICByb2xlOiBSb2xlO1xuICBrZXk6IEtleTtcbn1cbmV4cG9ydCB0eXBlIFBpZWNlcyA9IE1hcDxLZXksIFBpZWNlPjtcbmV4cG9ydCB0eXBlIFBpZWNlc0RpZmYgPSBNYXA8S2V5LCBQaWVjZSB8IHVuZGVmaW5lZD47XG5cbmV4cG9ydCB0eXBlIFBvY2tldFBvc2l0aW9uID0gJ3RvcCcgfCAnYm90dG9tJztcbmV4cG9ydCB0eXBlIFBvY2tldCA9IE1hcDxSb2xlLCBudW1iZXI+O1xuZXhwb3J0IHR5cGUgUG9ja2V0cyA9IFJlY29yZDxDb2xvciwgUG9ja2V0PjtcbmV4cG9ydCB0eXBlIFBvY2tldFJvbGVzID0gUmVjb3JkPENvbG9yLCBSb2xlW10+O1xuXG5leHBvcnQgdHlwZSBCb2FyZFN0YXRlID0ge1xuICBwaWVjZXM6IFBpZWNlcztcbiAgcG9ja2V0cz86IFBvY2tldHM7XG59O1xuXG5leHBvcnQgdHlwZSBTZWxlY3RhYmxlID0gS2V5IHwgUGllY2U7XG5cbmV4cG9ydCB0eXBlIE1vdmUgPSBbT3JpZywgS2V5XTtcblxuZXhwb3J0IHR5cGUgTnVtYmVyUGFpciA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIE51bWJlclF1YWQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGludGVyZmFjZSBCb2FyZERpbWVuc2lvbnMge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gTm90YXRpb24ge1xuICBBTEdFQlJBSUMsIC8vIEVuZ2xpc2ggbGV0dGVycyBvbiBib3R0b20sIEFyYWJpYyBudW1iZXJzIG9uIHNpZGVcbiAgU0hPR0lfRU5HTEVULCAvLyBBcmFiaWMgbnVtYmVycyBvbiB0b3AsIEVuZ2xpc2ggbGV0dGVycyBvbiBzaWRlXG4gIFNIT0dJX0FSQk5VTSwgLy8gQXJhYmljIG51bWJlcnMgb24gdG9wIGFuZCBzaWRlXG4gIFNIT0dJX0hBTk5VTSwgLy8gQXJhYmljIG51bWJlcnMgb24gdG9wLCBLYW5qaSBudW1iZXJzIG9uIHNpZGVcbiAgSkFOR0dJLCAvLyBBcmFiaWMgbnVtYmVycyBvbiBib3R0b20gYW5kIHNpZGUsIHdpdGggMCBkZW5vdGluZyAxMHRoIHJhbmtcbiAgWElBTkdRSV9BUkJOVU0sIC8vIEFyYWJpYyBudW1iZXJzIG9uIHRvcCBhbmQgYm90dG9tXG4gIFhJQU5HUUlfSEFOTlVNLCAvLyBBcmFiaWMgbnVtYmVycyBvbiB0b3AsIEhhbnppIG51bWJlcnMgb24gYm90dG9tXG4gIFRIQUlfQUxHRUJSQUlDLCAvLyBUaGFpIGxldHRlcnMgb24gYm90dG9tLCBUaGFpIG51bWJlcnMgb24gc2lkZVxufVxuXG5leHBvcnQgdHlwZSBQcmVtb3ZlID0gKGJvYXJkU3RhdGU6IEJvYXJkU3RhdGUsIGtleTogS2V5LCBjYW5DYXN0bGU6IGJvb2xlYW4pID0+IEtleVtdO1xuZXhwb3J0IHR5cGUgUHJlZHJvcCA9IChib2FyZFN0YXRlOiBCb2FyZFN0YXRlLCBwaWVjZTogUGllY2UpID0+IEtleVtdO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlY3Qge1xuICBsZWZ0OiBudW1iZXI7XG4gIHRvcDogbnVtYmVyO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgRGVzdHMgPSBNYXA8T3JpZywgS2V5W10+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRzIHtcbiAgYm9hcmQ6IEhUTUxFbGVtZW50O1xuICBwb2NrZXRUb3A/OiBIVE1MRWxlbWVudDtcbiAgcG9ja2V0Qm90dG9tPzogSFRNTEVsZW1lbnQ7XG4gIHdyYXA6IEhUTUxFbGVtZW50O1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBnaG9zdD86IEhUTUxFbGVtZW50O1xuICBzdmc/OiBTVkdFbGVtZW50O1xuICBjdXN0b21Tdmc/OiBTVkdFbGVtZW50O1xuICBhdXRvUGllY2VzPzogSFRNTEVsZW1lbnQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIERvbSB7XG4gIGVsZW1lbnRzOiBFbGVtZW50cztcbiAgYm91bmRzOiBNZW1vPENsaWVudFJlY3Q+O1xuICByZWRyYXc6ICgpID0+IHZvaWQ7XG4gIHJlZHJhd05vdzogKHNraXBTdmc/OiBib29sZWFuKSA9PiB2b2lkO1xuICB1bmJpbmQ/OiBVbmJpbmQ7XG4gIGRlc3Ryb3llZD86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIEV4cGxvZGluZyB7XG4gIHN0YWdlOiBudW1iZXI7XG4gIGtleXM6IHJlYWRvbmx5IEtleVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdmVNZXRhZGF0YSB7XG4gIHByZW1vdmU6IGJvb2xlYW47XG4gIGN0cmxLZXk/OiBib29sZWFuO1xuICBob2xkVGltZT86IG51bWJlcjtcbiAgY2FwdHVyZWQ/OiBQaWVjZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2V0UHJlbW92ZU1ldGFkYXRhIHtcbiAgY3RybEtleT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIE1vdWNoRXZlbnQgPSBFdmVudCAmIFBhcnRpYWw8TW91c2VFdmVudCAmIFRvdWNoRXZlbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEtleWVkTm9kZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY2dLZXk6IEtleTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUGllY2VOb2RlIGV4dGVuZHMgS2V5ZWROb2RlIHtcbiAgdGFnTmFtZTogJ1BJRUNFJztcbiAgY2dQaWVjZTogc3RyaW5nO1xuICBjZ0FuaW1hdGluZz86IGJvb2xlYW47XG4gIGNnRmFkaW5nPzogYm9vbGVhbjtcbiAgY2dEcmFnZ2luZz86IGJvb2xlYW47XG4gIGNnU2NhbGU/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFNxdWFyZU5vZGUgZXh0ZW5kcyBLZXllZE5vZGUge1xuICB0YWdOYW1lOiAnU1FVQVJFJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW1vPEE+IHtcbiAgKCk6IEE7XG4gIGNsZWFyOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVyIHtcbiAgc3RhcnQ6ICgpID0+IHZvaWQ7XG4gIGNhbmNlbDogKCkgPT4gdm9pZDtcbiAgc3RvcDogKCkgPT4gbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZWRyYXcgPSAoKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgVW5iaW5kID0gKCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIE1pbGxpc2Vjb25kcyA9IG51bWJlcjtcbmV4cG9ydCB0eXBlIEtIeiA9IG51bWJlcjtcblxuZXhwb3J0IHR5cGUgUmFua3NQb3NpdGlvbiA9ICdsZWZ0JyB8ICdyaWdodCc7XG5cbmV4cG9ydCBjb25zdCBjb2xvcnMgPSBbJ3doaXRlJywgJ2JsYWNrJ10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3Qgc2lkZXMgPSBbJ2FsbHknLCAnZW5lbXknXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBmaWxlcyA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaicsICdrJywgJ2wnLCAnbScsICduJywgJ28nLCAncCddIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IHJhbmtzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICc6JywgJzsnLCAnPCcsICc9JywgJz4nLCAnPycsICdAJ10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgbGV0dGVycyA9IFtcbiAgJ2EnLFxuICAnYicsXG4gICdjJyxcbiAgJ2QnLFxuICAnZScsXG4gICdmJyxcbiAgJ2cnLFxuICAnaCcsXG4gICdpJyxcbiAgJ2onLFxuICAnaycsXG4gICdsJyxcbiAgJ20nLFxuICAnbicsXG4gICdvJyxcbiAgJ3AnLFxuICAncScsXG4gICdyJyxcbiAgJ3MnLFxuICAndCcsXG4gICd1JyxcbiAgJ3YnLFxuICAndycsXG4gICd4JyxcbiAgJ3knLFxuICAneicsXG5dIGFzIGNvbnN0O1xuIiwgImltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgY29uc3QgaW52UmFua3M6IHJlYWRvbmx5IGNnLlJhbmtbXSA9IFsuLi5jZy5yYW5rc10ucmV2ZXJzZSgpO1xuXG5mdW5jdGlvbiBmaWxlcyhuOiBudW1iZXIpIHtcbiAgcmV0dXJuIGNnLmZpbGVzLnNsaWNlKDAsIG4pO1xufVxuXG5mdW5jdGlvbiByYW5rcyhuOiBudW1iZXIpIHtcbiAgcmV0dXJuIGNnLnJhbmtzLnNsaWNlKDAsIG4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxsS2V5cyhiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuS2V5W10ge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5maWxlcyhiZC53aWR0aCkubWFwKGMgPT4gcmFua3MoYmQuaGVpZ2h0KS5tYXAociA9PiBjICsgcikpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsbFBvcyhiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuUG9zW10ge1xuICByZXR1cm4gYWxsS2V5cyhiZCkubWFwKGtleTJwb3MpO1xufVxuXG5leHBvcnQgY29uc3QgcG9zMmtleSA9IChwb3M6IGNnLlBvcyk6IGNnLktleSA9PiAoY2cuZmlsZXNbcG9zWzBdXSArIGNnLnJhbmtzW3Bvc1sxXV0pIGFzIGNnLktleTtcbmV4cG9ydCBjb25zdCBrZXkycG9zID0gKGs6IGNnLktleSk6IGNnLlBvcyA9PiBbay5jaGFyQ29kZUF0KDApIC0gOTcsIGsuY2hhckNvZGVBdCgxKSAtIDQ5XTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJvbGVPZihsZXR0ZXI6IGNnLkxldHRlciB8IGNnLkRyb3BPcmlnKTogY2cuUm9sZSB7XG4gIHJldHVybiAobGV0dGVyLnJlcGxhY2UoJysnLCAncCcpLnJlcGxhY2UoJyonLCAnXycpLnJlcGxhY2UoJ0AnLCAnJykudG9Mb3dlckNhc2UoKSArICctcGllY2UnKSBhcyBjZy5Sb2xlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGV0dGVyT2Yocm9sZTogY2cuUm9sZSwgdXBwZXJjYXNlID0gZmFsc2UpOiBjZy5MZXR0ZXIge1xuICBjb25zdCBsZXR0ZXJQYXJ0ID0gcm9sZS5zbGljZSgwLCByb2xlLmluZGV4T2YoJy0nKSk7XG4gIGNvbnN0IGxldHRlciA9IChsZXR0ZXJQYXJ0Lmxlbmd0aCA+IDEgPyBsZXR0ZXJQYXJ0LnJlcGxhY2UoJ3AnLCAnKycpIDogbGV0dGVyUGFydCkucmVwbGFjZSgnXycsICcqJyk7XG4gIHJldHVybiAodXBwZXJjYXNlID8gbGV0dGVyLnRvVXBwZXJDYXNlKCkgOiBsZXR0ZXIpIGFzIGNnLkxldHRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyb3BPcmlnT2Yocm9sZTogY2cuUm9sZSk6IGNnLkRyb3BPcmlnIHtcbiAgcmV0dXJuIChsZXR0ZXJPZihyb2xlLCB0cnVlKSArICdAJykgYXMgY2cuRHJvcE9yaWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Ryb3BPcmlnKG9yaWc6IGNnLk9yaWcpOiBvcmlnIGlzIGNnLkRyb3BPcmlnIHtcbiAgcmV0dXJuIG9yaWdbMF0gPT09IG9yaWdbMF0udG9VcHBlckNhc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzS2V5KHNlbGVjdGFibGU6IGNnLlNlbGVjdGFibGUgfCBjZy5PcmlnKTogc2VsZWN0YWJsZSBpcyBjZy5LZXkge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdGFibGUgPT09ICdzdHJpbmcnICYmIHNlbGVjdGFibGVbMF0gPT09IHNlbGVjdGFibGVbMF0udG9Mb3dlckNhc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGllY2Uoc2VsZWN0YWJsZTogY2cuU2VsZWN0YWJsZSk6IHNlbGVjdGFibGUgaXMgY2cuUGllY2Uge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdGFibGUgIT09ICdzdHJpbmcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lKGxoczogY2cuU2VsZWN0YWJsZSwgcmhzOiBjZy5TZWxlY3RhYmxlKTogYm9vbGVhbiB7XG4gIGlmIChpc1BpZWNlKGxocykgJiYgaXNQaWVjZShyaHMpKSByZXR1cm4gc2FtZVBpZWNlKGxocywgcmhzKTtcbiAgZWxzZSByZXR1cm4gbGhzID09PSByaHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VOdW1iZXI8VD4obWFwOiBNYXA8VCwgbnVtYmVyPiwga2V5OiBULCBudW06IG51bWJlcik6IHZvaWQge1xuICBtYXAuc2V0KGtleSwgKG1hcC5nZXQoa2V5KSA/PyAwKSArIG51bSk7XG59XG5cbi8vIFRPRE8gY292ZXIgdHdvLWRpZ2l0IG51bWJlcnNcbi8vIFRoaXMgZnVuY3Rpb24gaXNuJ3QgdXNlZCBhbnl3aGVyZSBpbnNpZGUgY2hlc3Nncm91bmQgYnR3LCBpdCdzIHByb2JhYmx5IHVzZWQgaW4gTGljaGVzc1xuLy8gUHljaGVzcyBoYXMgdGhpcyBpbiBjaGVzcy50c1xuZXhwb3J0IGNvbnN0IHVjaVRvTW92ZSA9ICh1Y2k6IHN0cmluZyB8IHVuZGVmaW5lZCk6IGNnLktleVtdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCF1Y2kpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmICh1Y2lbMV0gPT09ICdAJykgcmV0dXJuIFt1Y2kuc2xpY2UoMiwgNCkgYXMgY2cuS2V5XTtcbiAgcmV0dXJuIFt1Y2kuc2xpY2UoMCwgMiksIHVjaS5zbGljZSgyLCA0KV0gYXMgY2cuS2V5W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtbzxBPihmOiAoKSA9PiBBKTogY2cuTWVtbzxBPiB7XG4gIGxldCB2OiBBIHwgdW5kZWZpbmVkO1xuICBjb25zdCByZXQgPSAoKTogQSA9PiB7XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgdiA9IGYoKTtcbiAgICByZXR1cm4gdjtcbiAgfTtcbiAgcmV0LmNsZWFyID0gKCkgPT4ge1xuICAgIHYgPSB1bmRlZmluZWQ7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBjb25zdCB0aW1lciA9ICgpOiBjZy5UaW1lciA9PiB7XG4gIGxldCBzdGFydEF0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJldHVybiB7XG4gICAgc3RhcnQoKSB7XG4gICAgICBzdGFydEF0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSxcbiAgICBjYW5jZWwoKSB7XG4gICAgICBzdGFydEF0ID0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc3RvcCgpIHtcbiAgICAgIGlmICghc3RhcnRBdCkgcmV0dXJuIDA7XG4gICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydEF0O1xuICAgICAgc3RhcnRBdCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aW1lO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgb3Bwb3NpdGUgPSAoYzogY2cuQ29sb3IpOiBjZy5Db2xvciA9PiAoYyA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnKTtcblxuZXhwb3J0IGNvbnN0IHNhbWVQaWVjZSA9IChwMTogY2cuUGllY2UsIHAyOiBjZy5QaWVjZSk6IGJvb2xlYW4gPT5cbiAgcDEucm9sZSA9PT0gcDIucm9sZSAmJiBwMS5jb2xvciA9PT0gcDIuY29sb3IgJiYgISFwMS5wcm9tb3RlZCA9PT0gISFwMi5wcm9tb3RlZDtcblxuZXhwb3J0IGNvbnN0IHBpZWNlU2lkZSA9IChwOiBjZy5QaWVjZSwgbzogY2cuQ29sb3IpOiBjZy5TaWRlID0+IChwLmNvbG9yID09PSBvID8gJ2FsbHknIDogJ2VuZW15Jyk7XG5cbmV4cG9ydCBjb25zdCBwaWVjZUNsYXNzZXMgPSAocDogY2cuUGllY2UsIG86IGNnLkNvbG9yKTogc3RyaW5nID0+XG4gIGAke3AuY29sb3J9ICR7cGllY2VTaWRlKHAsIG8pfSAke3AucHJvbW90ZWQgPyAncHJvbW90ZWQgJyA6ICcnfSR7cC5yb2xlfWA7XG5cbmV4cG9ydCBjb25zdCBkaXN0YW5jZVNxID0gKHBvczE6IGNnLlBvcywgcG9zMjogY2cuUG9zKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZHggPSBwb3MxWzBdIC0gcG9zMlswXSxcbiAgICBkeSA9IHBvczFbMV0gLSBwb3MyWzFdO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zVG9UcmFuc2xhdGUgPVxuICAoYm91bmRzOiBDbGllbnRSZWN0LCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogKChwb3M6IGNnLlBvcywgYXNXaGl0ZTogYm9vbGVhbikgPT4gY2cuTnVtYmVyUGFpcikgPT5cbiAgKHBvcywgYXNXaGl0ZSkgPT5cbiAgICBbXG4gICAgICAoKGFzV2hpdGUgPyBwb3NbMF0gOiBiZC53aWR0aCAtIDEgLSBwb3NbMF0pICogYm91bmRzLndpZHRoKSAvIGJkLndpZHRoLFxuICAgICAgKChhc1doaXRlID8gYmQuaGVpZ2h0IC0gMSAtIHBvc1sxXSA6IHBvc1sxXSkgKiBib3VuZHMuaGVpZ2h0KSAvIGJkLmhlaWdodCxcbiAgICBdO1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlID0gKGVsOiBIVE1MRWxlbWVudCwgcG9zOiBjZy5OdW1iZXJQYWlyKTogdm9pZCA9PiB7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb3NbMF19cHgsJHtwb3NbMV19cHgpYDtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVBbmRTY2FsZSA9IChlbDogSFRNTEVsZW1lbnQsIHBvczogY2cuTnVtYmVyUGFpciwgc2NhbGUgPSAxKTogdm9pZCA9PiB7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb3NbMF19cHgsJHtwb3NbMV19cHgpIHNjYWxlKCR7c2NhbGV9KWA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VmlzaWJsZSA9IChlbDogSFRNTEVsZW1lbnQsIHY6IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgZWwuc3R5bGUudmlzaWJpbGl0eSA9IHYgPyAndmlzaWJsZScgOiAnaGlkZGVuJztcbn07XG5cbmV4cG9ydCBjb25zdCBldmVudFBvc2l0aW9uID0gKGU6IGNnLk1vdWNoRXZlbnQpOiBjZy5OdW1iZXJQYWlyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGUuY2xpZW50WCB8fCBlLmNsaWVudFggPT09IDApIHJldHVybiBbZS5jbGllbnRYLCBlLmNsaWVudFkhXTtcbiAgaWYgKGUudGFyZ2V0VG91Y2hlcz8uWzBdKSByZXR1cm4gW2UudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYLCBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WV07XG4gIHJldHVybjsgLy8gdG91Y2hlbmQgaGFzIG5vIHBvc2l0aW9uIVxufTtcblxuZXhwb3J0IGNvbnN0IGlzUmlnaHRCdXR0b24gPSAoZTogY2cuTW91Y2hFdmVudCk6IGJvb2xlYW4gPT4gZS5idXR0b25zID09PSAyIHx8IGUuYnV0dG9uID09PSAyO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRWwgPSAodGFnTmFtZTogc3RyaW5nLCBjbGFzc05hbWU/OiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKGNsYXNzTmFtZSkgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNNaW5pQm9hcmQgPSAoZWw6IEhUTUxFbGVtZW50KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBBcnJheS5mcm9tKGVsLmNsYXNzTGlzdCkuaW5jbHVkZXMoJ21pbmknKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU3F1YXJlQ2VudGVyKFxuICBrZXk6IGNnLktleSxcbiAgYXNXaGl0ZTogYm9vbGVhbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBjZy5OdW1iZXJQYWlyIHtcbiAgY29uc3QgcG9zID0ga2V5MnBvcyhrZXkpO1xuICBpZiAoIWFzV2hpdGUpIHtcbiAgICBwb3NbMF0gPSBiZC53aWR0aCAtIDEgLSBwb3NbMF07XG4gICAgcG9zWzFdID0gYmQuaGVpZ2h0IC0gMSAtIHBvc1sxXTtcbiAgfVxuICByZXR1cm4gW1xuICAgIGJvdW5kcy5sZWZ0ICsgKGJvdW5kcy53aWR0aCAqIChwb3NbMF0gKyAwLjUpKSAvIGJkLndpZHRoLFxuICAgIGJvdW5kcy50b3AgKyAoYm91bmRzLmhlaWdodCAqIChiZC5oZWlnaHQgLSBwb3NbMV0gLSAwLjUpKSAvIGJkLmhlaWdodCxcbiAgXTtcbn1cbiIsICIvKiEgZ2V0dGV4dC5qcyAtIEd1aWxsYXVtZSBQb3RpZXIgLSBNSVQgTGljZW5zZWQgKi9cbnZhciBpMThuID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiB0aGlzICYmICh0aGlzLl9fdmVyc2lvbiA9ICcxLjEuMScpO1xuXG4gLy8gZGVmYXVsdCB2YWx1ZXMgdGhhdCBjb3VsZCBiZSBvdmVycmlkZW4gaW4gaTE4bigpIGNvbnN0cnVjdFxuIHZhciBkZWZhdWx0cyA9IHtcbiAgIGRvbWFpbjogJ21lc3NhZ2VzJyxcbiAgIGxvY2FsZTogKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYW5nJykgOiBmYWxzZSkgfHwgJ2VuJyxcbiAgIHBsdXJhbF9mdW5jOiBmdW5jdGlvbiAobikgeyByZXR1cm4geyBucGx1cmFsczogMiwgcGx1cmFsOiAobiE9MSkgPyAxIDogMCB9OyB9LFxuICAgY3R4dF9kZWxpbWl0ZXI6IFN0cmluZy5mcm9tQ2hhckNvZGUoNCkgLy8gXFx1MDAwNFxuIH07XG5cbiAvLyBoYW5keSBtaXhpbnMgdGFrZW4gZnJvbSB1bmRlcnNjb2RlLmpzXG4gdmFyIF8gPSB7XG4gICBpc09iamVjdDogZnVuY3Rpb24gKG9iaikge1xuICAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICAgfSxcbiAgIGlzQXJyYXk6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgIH1cbiB9O1xuXG4gdmFyXG4gICBfcGx1cmFsX2Z1bmNzID0ge30sXG4gICBfbG9jYWxlID0gb3B0aW9ucy5sb2NhbGUgfHwgZGVmYXVsdHMubG9jYWxlLFxuICAgX2RvbWFpbiA9IG9wdGlvbnMuZG9tYWluIHx8IGRlZmF1bHRzLmRvbWFpbixcbiAgIF9kaWN0aW9uYXJ5ID0ge30sXG4gICBfcGx1cmFsX2Zvcm1zID0ge30sXG4gICBfY3R4dF9kZWxpbWl0ZXIgPSBvcHRpb25zLmN0eHRfZGVsaW1pdGVyIHx8IGRlZmF1bHRzLmN0eHRfZGVsaW1pdGVyO1xuXG4gICBpZiAob3B0aW9ucy5tZXNzYWdlcykge1xuICAgICBfZGljdGlvbmFyeVtfZG9tYWluXSA9IHt9O1xuICAgICBfZGljdGlvbmFyeVtfZG9tYWluXVtfbG9jYWxlXSA9IG9wdGlvbnMubWVzc2FnZXM7XG4gICB9XG5cbiAgIGlmIChvcHRpb25zLnBsdXJhbF9mb3Jtcykge1xuICAgICBfcGx1cmFsX2Zvcm1zW19sb2NhbGVdID0gb3B0aW9ucy5wbHVyYWxfZm9ybXM7XG4gICB9XG5cbiAgIC8vIHNwcmludGYgZXF1aXZhbGVudCwgdGFrZXMgYSBzdHJpbmcgYW5kIHNvbWUgYXJndW1lbnRzIHRvIG1ha2UgYSBjb21wdXRlZCBzdHJpbmdcbiAgIC8vIGVnOiBzdHJmbXQoXCIlMSBkb2dzIGFyZSBpbiAlMlwiLCA3LCBcInRoZSBraXRjaGVuXCIpOyA9PiBcIjcgZG9ncyBhcmUgaW4gdGhlIGtpdGNoZW5cIlxuICAgLy8gZWc6IHN0cmZtdChcIkkgbGlrZSAlMSwgYmFuYW5hcyBhbmQgJTFcIiwgXCJhcHBsZXNcIik7ID0+IFwiSSBsaWtlIGFwcGxlcywgYmFuYW5hcyBhbmQgYXBwbGVzXCJcbiAgIC8vIE5COiByZW1vdmVzIG1zZyBjb250ZXh0IGlmIHRoZXJlIGlzIG9uZSBwcmVzZW50XG4gICB2YXIgc3RyZm10ID0gZnVuY3Rpb24gKGZtdCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAgIHJldHVybiBmbXRcbiAgICAgICAvLyBwdXQgc3BhY2UgYWZ0ZXIgZG91YmxlICUgdG8gcHJldmVudCBwbGFjZWhvbGRlciByZXBsYWNlbWVudCBvZiBzdWNoIG1hdGNoZXNcbiAgICAgICAucmVwbGFjZSgvJSUvZywgJyUlICcpXG4gICAgICAgLy8gcmVwbGFjZSBwbGFjZWhvbGRlcnNcbiAgICAgICAucmVwbGFjZSgvJShcXGQrKS9nLCBmdW5jdGlvbiAoc3RyLCBwMSkge1xuICAgICAgICAgcmV0dXJuIGFyZ3NbcDFdO1xuICAgICAgIH0pXG4gICAgICAgLy8gcmVwbGFjZSBkb3VibGUgJSBhbmQgc3BhY2Ugd2l0aCBzaW5nbGUgJVxuICAgICAgIC5yZXBsYWNlKC8lJSAvZywgJyUnKVxuICAgfTtcblxuICAgdmFyIHJlbW92ZUNvbnRleHQgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIC8vIGlmIHRoZXJlIGlzIGNvbnRleHQsIHJlbW92ZSBpdFxuICAgICAgaWYgKHN0ci5pbmRleE9mKF9jdHh0X2RlbGltaXRlcikgIT09IC0xKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdChfY3R4dF9kZWxpbWl0ZXIpO1xuICAgICAgICByZXR1cm4gcGFydHNbMV07XG4gICAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICAgfTtcblxuICAgdmFyIGV4cGFuZF9sb2NhbGUgPSBmdW5jdGlvbihsb2NhbGUpIHtcbiAgICAgICB2YXIgbG9jYWxlcyA9IFtsb2NhbGVdLFxuICAgICAgICAgICBpID0gbG9jYWxlLmxhc3RJbmRleE9mKCctJyk7XG4gICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgICAgIGxvY2FsZSA9IGxvY2FsZS5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgbG9jYWxlcy5wdXNoKGxvY2FsZSk7XG4gICAgICAgICAgIGkgPSBsb2NhbGUubGFzdEluZGV4T2YoJy0nKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGxvY2FsZXM7XG4gICB9O1xuXG4gICB2YXIgbm9ybWFsaXplTG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgLy8gQ29udmVydCBsb2NhbGUgdG8gQkNQIDQ3LiBJZiB0aGUgbG9jYWxlIGlzIGluIFBPU0lYIGZvcm1hdCwgbG9jYWxlIHZhcmlhbnQgYW5kIGVuY29kaW5nIGlzIGRpc2NhcmRlZC5cbiAgICAgIGxvY2FsZSA9IGxvY2FsZS5yZXBsYWNlKCdfJywgJy0nKTtcbiAgICAgIHZhciBpID0gbG9jYWxlLnNlYXJjaCgvWy5AXS8pO1xuICAgICAgaWYgKGkgIT0gLTEpIGxvY2FsZSA9IGxvY2FsZS5zbGljZSgwLCBpKTtcbiAgICAgIHJldHVybiBsb2NhbGU7XG4gICB9O1xuXG4gICB2YXIgZ2V0UGx1cmFsRnVuYyA9IGZ1bmN0aW9uIChwbHVyYWxfZm9ybSkge1xuICAgICAvLyBQbHVyYWwgZm9ybSBzdHJpbmcgcmVnZXhwXG4gICAgIC8vIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL09yYW5nZS1PcGVuU291cmNlL2dldHRleHQuanMvYmxvYi9tYXN0ZXIvbGliLmdldHRleHQuanNcbiAgICAgLy8gcGx1cmFsIGZvcm1zIGxpc3QgYXZhaWxhYmxlIGhlcmUgaHR0cDovL2xvY2FsaXphdGlvbi1ndWlkZS5yZWFkdGhlZG9jcy5vcmcvZW4vbGF0ZXN0L2wxMG4vcGx1cmFsZm9ybXMuaHRtbFxuICAgICB2YXIgcGZfcmUgPSBuZXcgUmVnRXhwKCdeXFxcXHMqbnBsdXJhbHNcXFxccyo9XFxcXHMqWzAtOV0rXFxcXHMqO1xcXFxzKnBsdXJhbFxcXFxzKj1cXFxccyooPzpcXFxcc3xbLVxcXFw/XFxcXHwmPSE8PisqLyU6O24wLTlfXFwoXFwpXSkrJyk7XG5cbiAgICAgaWYgKCFwZl9yZS50ZXN0KHBsdXJhbF9mb3JtKSlcbiAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyZm10KCdUaGUgcGx1cmFsIGZvcm0gXCIlMVwiIGlzIG5vdCB2YWxpZCcsIHBsdXJhbF9mb3JtKSk7XG5cbiAgICAgLy8gQ2FyZWZ1bCBoZXJlLCB0aGlzIGlzIGEgaGlkZGVuIGV2YWwoKSBlcXVpdmFsZW50Li5cbiAgICAgLy8gUmlzayBzaG91bGQgYmUgcmVhc29uYWJsZSB0aG91Z2ggc2luY2Ugd2UgdGVzdCB0aGUgcGx1cmFsX2Zvcm0gdGhyb3VnaCByZWdleCBiZWZvcmVcbiAgICAgLy8gdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vT3JhbmdlLU9wZW5Tb3VyY2UvZ2V0dGV4dC5qcy9ibG9iL21hc3Rlci9saWIuZ2V0dGV4dC5qc1xuICAgICAvLyBUT0RPOiBzaG91bGQgdGVzdCBpZiBodHRwczovL2dpdGh1Yi5jb20vc29uZXkvanNlcCBwcmVzZW50IGFuZCB1c2UgaXQgaWYgc29cbiAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIm5cIiwgJ3ZhciBwbHVyYWwsIG5wbHVyYWxzOyAnKyBwbHVyYWxfZm9ybSArJyByZXR1cm4geyBucGx1cmFsczogbnBsdXJhbHMsIHBsdXJhbDogKHBsdXJhbCA9PT0gdHJ1ZSA/IDEgOiAocGx1cmFsID8gcGx1cmFsIDogMCkpIH07Jyk7XG4gICB9O1xuXG4gICAvLyBQcm9wZXIgdHJhbnNsYXRpb24gZnVuY3Rpb24gdGhhdCBoYW5kbGUgcGx1cmFscyBhbmQgZGlyZWN0aXZlc1xuICAgLy8gQ29udGFpbnMganVpY3kgcGFydHMgb2YgaHR0cHM6Ly9naXRodWIuY29tL09yYW5nZS1PcGVuU291cmNlL2dldHRleHQuanMvYmxvYi9tYXN0ZXIvbGliLmdldHRleHQuanNcbiAgIHZhciB0ID0gZnVuY3Rpb24gKG1lc3NhZ2VzLCBuLCBvcHRpb25zIC8qICxleHRyYSAqLykge1xuICAgICAvLyBTaW5ndWxhciBpcyB2ZXJ5IGVhc3ksIGp1c3QgcGFzcyBkaWN0aW9ubmFyeSBtZXNzYWdlIHRocm91Z2ggc3RyZm10XG4gICAgIGlmICghb3B0aW9ucy5wbHVyYWxfZm9ybSlcbiAgICAgIHJldHVybiBzdHJmbXQuYXBwbHkodGhpcywgW3JlbW92ZUNvbnRleHQobWVzc2FnZXNbMF0pXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKSkpO1xuXG4gICAgIHZhciBwbHVyYWw7XG5cbiAgICAgLy8gaWYgYSBwbHVyYWwgZnVuYyBpcyBnaXZlbiwgdXNlIHRoYXQgb25lXG4gICAgIGlmIChvcHRpb25zLnBsdXJhbF9mdW5jKSB7XG4gICAgICAgcGx1cmFsID0gb3B0aW9ucy5wbHVyYWxfZnVuYyhuKTtcblxuICAgICAvLyBpZiBwbHVyYWwgZm9ybSBuZXZlciBpbnRlcnByZXRlZCBiZWZvcmUsIGRvIGl0IG5vdyBhbmQgc3RvcmUgaXRcbiAgICAgfSBlbHNlIGlmICghX3BsdXJhbF9mdW5jc1tfbG9jYWxlXSkge1xuICAgICAgIF9wbHVyYWxfZnVuY3NbX2xvY2FsZV0gPSBnZXRQbHVyYWxGdW5jKF9wbHVyYWxfZm9ybXNbX2xvY2FsZV0pO1xuICAgICAgIHBsdXJhbCA9IF9wbHVyYWxfZnVuY3NbX2xvY2FsZV0obik7XG5cbiAgICAgLy8gd2UgaGF2ZSB0aGUgcGx1cmFsIGZ1bmN0aW9uLCBjb21wdXRlIHRoZSBwbHVyYWwgcmVzdWx0XG4gICAgIH0gZWxzZSB7XG4gICAgICAgcGx1cmFsID0gX3BsdXJhbF9mdW5jc1tfbG9jYWxlXShuKTtcbiAgICAgfVxuXG4gICAgIC8vIElmIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHBsdXJhbHMsIGZhbGxiYWNrIHRvIHNpbmd1bGFyIG9uZVxuICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBwbHVyYWwucGx1cmFsIHx8IHBsdXJhbC5wbHVyYWwgPiBwbHVyYWwubnBsdXJhbHMgfHwgbWVzc2FnZXMubGVuZ3RoIDw9IHBsdXJhbC5wbHVyYWwpXG4gICAgICAgcGx1cmFsLnBsdXJhbCA9IDA7XG5cbiAgICAgcmV0dXJuIHN0cmZtdC5hcHBseSh0aGlzLCBbcmVtb3ZlQ29udGV4dChtZXNzYWdlc1twbHVyYWwucGx1cmFsXSksIG5dLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpKSk7XG4gICB9O1xuXG4gcmV0dXJuIHtcbiAgIHN0cmZtdDogc3RyZm10LCAvLyBleHBvc2Ugc3RyZm10IHV0aWxcbiAgIGV4cGFuZF9sb2NhbGU6IGV4cGFuZF9sb2NhbGUsIC8vIGV4cG9zZSBleHBhbmRfbG9jYWxlIHV0aWxcblxuICAgLy8gRGVjbGFyZSBzaG9ydGN1dHNcbiAgIF9fOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldHRleHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSxcbiAgIF9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5nZXR0ZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0sXG4gICBfcDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wZ2V0dGV4dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9LFxuXG4gICBzZXRNZXNzYWdlczogZnVuY3Rpb24gKGRvbWFpbiwgbG9jYWxlLCBtZXNzYWdlcywgcGx1cmFsX2Zvcm1zKSB7XG4gICAgIGlmICghZG9tYWluIHx8ICFsb2NhbGUgfHwgIW1lc3NhZ2VzKVxuICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIGRvbWFpbiwgYSBsb2NhbGUgYW5kIG1lc3NhZ2VzJyk7XG5cbiAgICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgZG9tYWluIHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgbG9jYWxlIHx8ICFfLmlzT2JqZWN0KG1lc3NhZ2VzKSlcbiAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG5cbiAgICAgbG9jYWxlID0gbm9ybWFsaXplTG9jYWxlKGxvY2FsZSk7XG5cbiAgICAgaWYgKHBsdXJhbF9mb3JtcylcbiAgICAgICBfcGx1cmFsX2Zvcm1zW2xvY2FsZV0gPSBwbHVyYWxfZm9ybXM7XG5cbiAgICAgaWYgKCFfZGljdGlvbmFyeVtkb21haW5dKVxuICAgICAgIF9kaWN0aW9uYXJ5W2RvbWFpbl0gPSB7fTtcblxuICAgICBfZGljdGlvbmFyeVtkb21haW5dW2xvY2FsZV0gPSBtZXNzYWdlcztcblxuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG4gICBsb2FkSlNPTjogZnVuY3Rpb24gKGpzb25EYXRhLCBkb21haW4pIHtcbiAgICAgaWYgKCFfLmlzT2JqZWN0KGpzb25EYXRhKSlcbiAgICAgICBqc29uRGF0YSA9IEpTT04ucGFyc2UoanNvbkRhdGEpO1xuXG4gICAgIGlmICghanNvbkRhdGFbJyddIHx8ICFqc29uRGF0YVsnJ11bJ2xhbmd1YWdlJ10gfHwgIWpzb25EYXRhWycnXVsncGx1cmFsLWZvcm1zJ10pXG4gICAgICAgdGhyb3cgbmV3IEVycm9yKCdXcm9uZyBKU09OLCBpdCBtdXN0IGhhdmUgYW4gZW1wdHkga2V5IChcIlwiKSB3aXRoIFwibGFuZ3VhZ2VcIiBhbmQgXCJwbHVyYWwtZm9ybXNcIiBpbmZvcm1hdGlvbicpO1xuXG4gICAgIHZhciBoZWFkZXJzID0ganNvbkRhdGFbJyddO1xuICAgICBkZWxldGUganNvbkRhdGFbJyddO1xuXG4gICAgIHJldHVybiB0aGlzLnNldE1lc3NhZ2VzKGRvbWFpbiB8fCBkZWZhdWx0cy5kb21haW4sIGhlYWRlcnNbJ2xhbmd1YWdlJ10sIGpzb25EYXRhLCBoZWFkZXJzWydwbHVyYWwtZm9ybXMnXSk7XG4gICB9LFxuICAgc2V0TG9jYWxlOiBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgIF9sb2NhbGUgPSBub3JtYWxpemVMb2NhbGUobG9jYWxlKTtcbiAgICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuICAgZ2V0TG9jYWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgIHJldHVybiBfbG9jYWxlO1xuICAgfSxcbiAgIC8vIGdldHRlci9zZXR0ZXIgZm9yIGRvbWFpblxuICAgdGV4dGRvbWFpbjogZnVuY3Rpb24gKGRvbWFpbikge1xuICAgICBpZiAoIWRvbWFpbilcbiAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgX2RvbWFpbiA9IGRvbWFpbjtcbiAgICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuICAgZ2V0dGV4dDogZnVuY3Rpb24gKG1zZ2lkIC8qICwgZXh0cmEgKi8pIHtcbiAgICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQuYXBwbHkodGhpcywgW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCBtc2dpZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7XG4gICB9LFxuICAgbmdldHRleHQ6IGZ1bmN0aW9uIChtc2dpZCwgbXNnaWRfcGx1cmFsLCBuIC8qICwgZXh0cmEgKi8pIHtcbiAgICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQuYXBwbHkodGhpcywgW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKSkpO1xuICAgfSxcbiAgIHBnZXR0ZXh0OiBmdW5jdGlvbiAobXNnY3R4dCwgbXNnaWQgLyogLCBleHRyYSAqLykge1xuICAgICByZXR1cm4gdGhpcy5kY25wZ2V0dGV4dC5hcHBseSh0aGlzLCBbdW5kZWZpbmVkLCBtc2djdHh0LCBtc2dpZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKSk7XG4gICB9LFxuICAgZGNucGdldHRleHQ6IGZ1bmN0aW9uIChkb21haW4sIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4gLyogLCBleHRyYSAqLykge1xuICAgICBkb21haW4gPSBkb21haW4gfHwgX2RvbWFpbjtcblxuICAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBtc2dpZClcbiAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5zdHJmbXQoJ01zZ2lkIFwiJTFcIiBpcyBub3QgYSB2YWxpZCB0cmFuc2xhdGFibGUgc3RyaW5nJywgbXNnaWQpKTtcblxuICAgICB2YXJcbiAgICAgICB0cmFuc2xhdGlvbixcbiAgICAgICBvcHRpb25zID0geyBwbHVyYWxfZm9ybTogZmFsc2UgfSxcbiAgICAgICBrZXkgPSBtc2djdHh0ID8gbXNnY3R4dCArIF9jdHh0X2RlbGltaXRlciArIG1zZ2lkIDogbXNnaWQsXG4gICAgICAgZXhpc3QsXG4gICAgICAgbG9jYWxlLFxuICAgICAgIGxvY2FsZXMgPSBleHBhbmRfbG9jYWxlKF9sb2NhbGUpO1xuXG4gICAgIGZvciAodmFyIGkgaW4gbG9jYWxlcykge1xuICAgICAgICBsb2NhbGUgPSBsb2NhbGVzW2ldO1xuICAgICAgICBleGlzdCA9IF9kaWN0aW9uYXJ5W2RvbWFpbl0gJiYgX2RpY3Rpb25hcnlbZG9tYWluXVtsb2NhbGVdICYmIF9kaWN0aW9uYXJ5W2RvbWFpbl1bbG9jYWxlXVtrZXldO1xuXG4gICAgICAgIC8vIGJlY2F1c2UgaXQncyBub3QgcG9zc2libGUgdG8gZGVmaW5lIGJvdGggYSBzaW5ndWxhciBhbmQgYSBwbHVyYWwgZm9ybSBvZiB0aGUgc2FtZSBtc2dpZCxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBjaGVjayB0aGF0IHRoZSBzdG9yZWQgZm9ybSBpcyB0aGUgc2FtZSBhcyB0aGUgZXhwZWN0ZWQgb25lLlxuICAgICAgICAvLyBpZiBub3QsIHdlJ2xsIGp1c3QgaWdub3JlIHRoZSB0cmFuc2xhdGlvbiBhbmQgY29uc2lkZXIgaXQgYXMgbm90IHRyYW5zbGF0ZWQuXG4gICAgICAgIGlmIChtc2dpZF9wbHVyYWwpIHtcbiAgICAgICAgICBleGlzdCA9IGV4aXN0ICYmIFwic3RyaW5nXCIgIT09IHR5cGVvZiBfZGljdGlvbmFyeVtkb21haW5dW2xvY2FsZV1ba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleGlzdCA9IGV4aXN0ICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBfZGljdGlvbmFyeVtkb21haW5dW2xvY2FsZV1ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhpc3QpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICB9XG5cbiAgICAgaWYgKCFleGlzdCkge1xuICAgICAgIHRyYW5zbGF0aW9uID0gbXNnaWQ7XG4gICAgICAgb3B0aW9ucy5wbHVyYWxfZnVuYyA9IGRlZmF1bHRzLnBsdXJhbF9mdW5jO1xuICAgICB9IGVsc2Uge1xuICAgICAgIHRyYW5zbGF0aW9uID0gX2RpY3Rpb25hcnlbZG9tYWluXVtsb2NhbGVdW2tleV07XG4gICAgIH1cblxuICAgICAvLyBTaW5ndWxhciBmb3JtXG4gICAgIGlmICghbXNnaWRfcGx1cmFsKVxuICAgICAgIHJldHVybiB0LmFwcGx5KHRoaXMsIFtbdHJhbnNsYXRpb25dLCBuLCBvcHRpb25zXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCA1KSkpO1xuXG4gICAgIC8vIFBsdXJhbCBvbmVcbiAgICAgb3B0aW9ucy5wbHVyYWxfZm9ybSA9IHRydWU7XG4gICAgIHJldHVybiB0LmFwcGx5KHRoaXMsIFtleGlzdCA/IHRyYW5zbGF0aW9uIDogW21zZ2lkLCBtc2dpZF9wbHVyYWxdLCBuLCBvcHRpb25zXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCA1KSkpO1xuICAgfVxuIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpMThuO1xuIiwgImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgeyBnZXREb2N1bWVudERhdGEgfSBmcm9tICcuL2RvY3VtZW50JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNldHRpbmdzPFQ+IHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF92YWx1ZTogVDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUodmFsdWU6IFQpIHtcbiAgICAgICAgLy8gVE9ETyBzb21lIG1lY2hhbmlzbSB0byBzYXZlIHNldHRpbmdzIHRvIHNlcnZlclxuICAgICAgICBsb2NhbFN0b3JhZ2VbdGhpcy5uYW1lXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xuICAgIGFic3RyYWN0IHZpZXcoKTogVk5vZGU7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdHJpbmdTZXR0aW5ncyBleHRlbmRzIFNldHRpbmdzPHN0cmluZz4ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gZ2V0RG9jdW1lbnREYXRhKG5hbWUpID8/IGxvY2FsU3RvcmFnZVtuYW1lXSA/PyBkZWZhdWx0VmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTnVtYmVyU2V0dGluZ3MgZXh0ZW5kcyBTZXR0aW5nczxudW1iZXI+IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IE51bWJlcihnZXREb2N1bWVudERhdGEobmFtZSkgPz8gKGxvY2FsU3RvcmFnZVtuYW1lXSA/PyBkZWZhdWx0VmFsdWUpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCb29sZWFuU2V0dGluZ3MgZXh0ZW5kcyBTZXR0aW5nczxib29sZWFuPiB7XG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIGlmIChnZXREb2N1bWVudERhdGEobmFtZSkpXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGdldERvY3VtZW50RGF0YShuYW1lKSA9PT0gJ1RydWUnO1xuICAgICAgICBlbHNlIGlmIChsb2NhbFN0b3JhZ2VbbmFtZV0pXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGxvY2FsU3RvcmFnZVtuYW1lXSA9PT0gJ3RydWUnO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG59XG4iLCAiZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGZpbGUgc2l6ZSBoYWNrc1xuICAgICAgICByZXF1ZXN0Lm9uY29tcGxldGUgPSByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAvLyBAdHMtaWdub3JlIC0gZmlsZSBzaXplIGhhY2tzXG4gICAgICAgIHJlcXVlc3Qub25hYm9ydCA9IHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGRiTmFtZSwgc3RvcmVOYW1lKSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSk7XG4gICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiByZXF1ZXN0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgIGNvbnN0IGRicCA9IHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCk7XG4gICAgcmV0dXJuICh0eE1vZGUsIGNhbGxiYWNrKSA9PiBkYnAudGhlbigoZGIpID0+IGNhbGxiYWNrKGRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgdHhNb2RlKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpKSk7XG59XG5sZXQgZGVmYXVsdEdldFN0b3JlRnVuYztcbmZ1bmN0aW9uIGRlZmF1bHRHZXRTdG9yZSgpIHtcbiAgICBpZiAoIWRlZmF1bHRHZXRTdG9yZUZ1bmMpIHtcbiAgICAgICAgZGVmYXVsdEdldFN0b3JlRnVuYyA9IGNyZWF0ZVN0b3JlKCdrZXl2YWwtc3RvcmUnLCAna2V5dmFsJyk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0R2V0U3RvcmVGdW5jO1xufVxuLyoqXG4gKiBHZXQgYSB2YWx1ZSBieSBpdHMga2V5LlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBnZXQoa2V5LCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXQoa2V5KSkpO1xufVxuLyoqXG4gKiBTZXQgYSB2YWx1ZSB3aXRoIGEga2V5LlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgc3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG4vKipcbiAqIFNldCBtdWx0aXBsZSB2YWx1ZXMgYXQgb25jZS4gVGhpcyBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIHNldCgpIG11bHRpcGxlIHRpbWVzLlxuICogSXQncyBhbHNvIGF0b21pYyBcdTIwMTMgaWYgb25lIG9mIHRoZSBwYWlycyBjYW4ndCBiZSBhZGRlZCwgbm9uZSB3aWxsIGJlIGFkZGVkLlxuICpcbiAqIEBwYXJhbSBlbnRyaWVzIEFycmF5IG9mIGVudHJpZXMsIHdoZXJlIGVhY2ggZW50cnkgaXMgYW4gYXJyYXkgb2YgYFtrZXksIHZhbHVlXWAuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gc2V0TWFueShlbnRyaWVzLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4gc3RvcmUucHV0KGVudHJ5WzFdLCBlbnRyeVswXSkpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG4vKipcbiAqIEdldCBtdWx0aXBsZSB2YWx1ZXMgYnkgdGhlaXIga2V5c1xuICpcbiAqIEBwYXJhbSBrZXlzXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFueShrZXlzLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4gUHJvbWlzZS5hbGwoa2V5cy5tYXAoKGtleSkgPT4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXQoa2V5KSkpKSk7XG59XG4vKipcbiAqIFVwZGF0ZSBhIHZhbHVlLiBUaGlzIGxldHMgeW91IHNlZSB0aGUgb2xkIHZhbHVlIGFuZCB1cGRhdGUgaXQgYXMgYW4gYXRvbWljIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gdXBkYXRlciBBIGNhbGxiYWNrIHRoYXQgdGFrZXMgdGhlIG9sZCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiB1cGRhdGUoa2V5LCB1cGRhdGVyLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IFxuICAgIC8vIE5lZWQgdG8gY3JlYXRlIHRoZSBwcm9taXNlIG1hbnVhbGx5LlxuICAgIC8vIElmIEkgdHJ5IHRvIGNoYWluIHByb21pc2VzLCB0aGUgdHJhbnNhY3Rpb24gY2xvc2VzIGluIGJyb3dzZXJzXG4gICAgLy8gdGhhdCB1c2UgYSBwcm9taXNlIHBvbHlmaWxsIChJRTEwLzExKS5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHN0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHV0KHVwZGF0ZXIodGhpcy5yZXN1bHQpLCBrZXkpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKTtcbn1cbi8qKlxuICogRGVsZXRlIGEgcGFydGljdWxhciBrZXkgZnJvbSB0aGUgc3RvcmUuXG4gKlxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGRlbChrZXksIGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWR3cml0ZScsIChzdG9yZSkgPT4ge1xuICAgICAgICBzdG9yZS5kZWxldGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBEZWxldGUgbXVsdGlwbGUga2V5cyBhdCBvbmNlLlxuICpcbiAqIEBwYXJhbSBrZXlzIExpc3Qgb2Yga2V5cyB0byBkZWxldGUuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZGVsTWFueShrZXlzLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHN0b3JlLmRlbGV0ZShrZXkpKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBDbGVhciBhbGwgdmFsdWVzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gY2xlYXIoY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIHN0b3JlLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGVhY2hDdXJzb3Ioc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgc3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlc3VsdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5yZXN1bHQpO1xuICAgICAgICB0aGlzLnJlc3VsdC5jb250aW51ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xufVxuLyoqXG4gKiBHZXQgYWxsIGtleXMgaW4gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBrZXlzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWRvbmx5JywgKHN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGlmIChzdG9yZS5nZXRBbGxLZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXRBbGxLZXlzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBlYWNoQ3Vyc29yKHN0b3JlLCAoY3Vyc29yKSA9PiBpdGVtcy5wdXNoKGN1cnNvci5rZXkpKS50aGVuKCgpID0+IGl0ZW1zKTtcbiAgICB9KTtcbn1cbi8qKlxuICogR2V0IGFsbCB2YWx1ZXMgaW4gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiB2YWx1ZXMoY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IHtcbiAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaWYgKHN0b3JlLmdldEFsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0QWxsKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBlYWNoQ3Vyc29yKHN0b3JlLCAoY3Vyc29yKSA9PiBpdGVtcy5wdXNoKGN1cnNvci52YWx1ZSkpLnRoZW4oKCkgPT4gaXRlbXMpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZXQgYWxsIGVudHJpZXMgaW4gdGhlIHN0b3JlLiBFYWNoIGVudHJ5IGlzIGFuIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBlbnRyaWVzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWRvbmx5JywgKHN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIC8vIChhbHRob3VnaCwgaG9wZWZ1bGx5IHdlJ2xsIGdldCBhIHNpbXBsZXIgcGF0aCBzb21lIGRheSlcbiAgICAgICAgaWYgKHN0b3JlLmdldEFsbCAmJiBzdG9yZS5nZXRBbGxLZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0QWxsS2V5cygpKSxcbiAgICAgICAgICAgICAgICBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLmdldEFsbCgpKSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtrZXlzLCB2YWx1ZXNdKSA9PiBrZXlzLm1hcCgoa2V5LCBpKSA9PiBba2V5LCB2YWx1ZXNbaV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4gZWFjaEN1cnNvcihzdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChbY3Vyc29yLmtleSwgY3Vyc29yLnZhbHVlXSkpLnRoZW4oKCkgPT4gaXRlbXMpKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgY2xlYXIsIGNyZWF0ZVN0b3JlLCBkZWwsIGRlbE1hbnksIGVudHJpZXMsIGdldCwgZ2V0TWFueSwga2V5cywgcHJvbWlzaWZ5UmVxdWVzdCwgc2V0LCBzZXRNYW55LCB1cGRhdGUsIHZhbHVlcyB9O1xuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBpZGIgZnJvbSAnaWRiLWtleXZhbCc7XG5cbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IF8gfSBmcm9tICcuL2kxOG4nO1xuXG5leHBvcnQgZnVuY3Rpb24gcmFkaW9MaXN0KHNldHRpbmdzOiBTZXR0aW5nczxzdHJpbmc+LCBuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sIG9uY2hhbmdlOiAoZXZ0OiBFdmVudCwga2V5OiBzdHJpbmcpID0+IHZvaWQpOiBWTm9kZVtdIHtcbiAgICBjb25zdCByZXN1bHQ6IFZOb2RlW10gPSBbXTtcbiAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gbmFtZSArIFwiLVwiICsga2V5O1xuICAgICAgICByZXN1bHQucHVzaChoKGBpbnB1dCMke2lkfWAsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6IG5hbWUsIHR5cGU6IFwicmFkaW9cIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgYXR0cnM6IHsgY2hlY2tlZDogc2V0dGluZ3MudmFsdWUgPT09IGtleSB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiBldnQgPT4gb25jaGFuZ2UoZXZ0LCBrZXkpIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmVzdWx0LnB1c2goaCgnbGFiZWwnLCB7IGF0dHJzOiB7IGZvcjogaWQgfSB9LCBvcHRpb25zW2tleV0pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2xpZGVyKHNldHRpbmdzOiBTZXR0aW5nczxudW1iZXI+LCBuYW1lOiBzdHJpbmcsIG1pbiA9IDAsIG1heCA9IDEwMCwgc3RlcCA9IDEsIHRleHQ6IHN0cmluZykge1xuICAgIGNvbnN0IGlkID0gbmFtZTtcbiAgICByZXR1cm4gW1xuICAgICAgICBoKGBpbnB1dCMke2lkfS5zbGlkZXJgLCB7XG4gICAgICAgICAgICBwcm9wczogeyBuYW1lOiBuYW1lLCB0eXBlOiBcInJhbmdlXCIsIG1pbjogbWluLCBtYXg6IG1heCwgc3RlcDogc3RlcCwgdmFsdWU6IHNldHRpbmdzLnZhbHVlIH0sXG4gICAgICAgICAgICBvbjogeyBpbnB1dDogZSA9PiBzZXR0aW5ncy52YWx1ZSA9IE51bWJlcigoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiBpZCB9IH0sIHRleHQpLFxuICAgIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja2JveChzZXR0aW5nczogU2V0dGluZ3M8Ym9vbGVhbj4sIG5hbWU6IHN0cmluZywgdGV4dDogc3RyaW5nKSB7XG4gICAgY29uc3QgaWQgPSBuYW1lO1xuICAgIHJldHVybiBbXG4gICAgICAgIGgoYGlucHV0IyR7aWR9YCwge1xuICAgICAgICAgICAgcHJvcHM6IHsgbmFtZTogbmFtZSwgdHlwZTogXCJjaGVja2JveFwiIH0sXG4gICAgICAgICAgICBhdHRyczogeyBjaGVja2VkOiBzZXR0aW5ncy52YWx1ZSB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiBldnQgPT4gc2V0dGluZ3MudmFsdWUgPSAoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiBpZCB9IH0sIHRleHQpLFxuICAgIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBubnVlRmlsZShzZXR0aW5nczogU2V0dGluZ3M8c3RyaW5nPiwgbmFtZTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHZhcmlhbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IGlkID0gbmFtZTtcbiAgICByZXR1cm4gW1xuICAgICAgICBoKGBpbnB1dCMke2lkfWAsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6IG5hbWUsIHR5cGU6IFwiZmlsZVwiLCBhY2NlcHQ6ICcqLm5udWUnLCB0aXRsZTogXygnUGFnZSByZWxvYWQgcmVxdWlyZWQgYWZ0ZXIgY2hhbmdlJykgfSxcbiAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzO1xuICAgICAgICAgICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZXNbMF0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlTm51ZUZpbGUoZmlsZU5hbWUsIHZhcmlhbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZWxlY3RlZCBmaWxlOlwiLCBmaWxlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYi5nZXQoYCR7dmFyaWFudH0tLW5udWUtZmlsZWApLnRoZW4oKG5udWVmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5udWVmaWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgdGltZSAubm51ZSBmaWxlIHNlbGVjdGlvbiBldmVyIGZvciB0aGlzIHZhcmlhbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU5udWVGaWxlVG9JZGIoc2V0dGluZ3MsIHZhcmlhbnQsIGZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm51ZWZpbGUgPT09IGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YXJpYW50LCAnaXMgYWxyZWFkeSBpbiBpZGIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgb2xkIGZpbGUgbmFtZSB2ZXJzaW9uIGluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkYi5kZWwoYCR7dmFyaWFudH0tLW5udWUtZmlsZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGlkYiB3aXRoIG5ldyAubm51ZSBmaWxlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU5udWVGaWxlVG9JZGIoc2V0dGluZ3MsIHZhcmlhbnQsIGZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX0sXG4gICAgICAgIH0pLFxuICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiBpZCB9IH0sIHRleHQpLFxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHNhdmVObnVlRmlsZVRvSWRiIChzZXR0aW5nczogU2V0dGluZ3M8c3RyaW5nPiwgdmFyaWFudDogc3RyaW5nLCBmaWxlOiBGaWxlKSB7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlLm5hbWU7XG4gICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWRiLnNldChgJHt2YXJpYW50fS0tbm51ZS1kYXRhYCwgZXZlbnQudGFyZ2V0IS5yZXN1bHQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWRiLnNldChgJHt2YXJpYW50fS0tbm51ZS1maWxlYCwgZmlsZU5hbWUpXG4gICAgICAgICAgICAgICAgLnRoZW4oKG5udWVmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnZhbHVlID0gZmlsZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke25udWVmaWxlfSBzYXZlZCFgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGFsZXJ0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lQ29udHJvbFN0cihtaW51dGVzOiBudW1iZXIgfCBzdHJpbmcsIGluY3JlbWVudCA9IDAsIGJ5b3lvbWlQZXJpb2QgPSAwKTogc3RyaW5nIHtcbiAgICBtaW51dGVzID0gTnVtYmVyKG1pbnV0ZXMpO1xuICAgIGJ5b3lvbWlQZXJpb2QgPSBOdW1iZXIoYnlveW9taVBlcmlvZClcbiAgICBzd2l0Y2ggKG1pbnV0ZXMpIHtcbiAgICAgICAgY2FzZSAxIC8gNDpcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBcIlx1MDBCQ1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMSAvIDI6XG4gICAgICAgICAgICBtaW51dGVzID0gXCJcdTAwQkRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyA0OlxuICAgICAgICAgICAgbWludXRlcyA9IFwiXHUwMEJFXCJcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWludXRlcyA9IFN0cmluZyhtaW51dGVzKTtcbiAgICB9XG4gICAgc3dpdGNoIChieW95b21pUGVyaW9kKSB7XG4gICAgICAgIGNhc2UgMCA6IHJldHVybiBgJHttaW51dGVzfSske2luY3JlbWVudH1gO1xuICAgICAgICBjYXNlIDEgOiByZXR1cm4gYCR7bWludXRlc30rJHtpbmNyZW1lbnR9KGIpYDtcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIGAke21pbnV0ZXN9KyR7YnlveW9taVBlcmlvZH1cdTAwRDcke2luY3JlbWVudH0oYilgO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNwaW5uZXIoKTogVk5vZGUge1xuICAgIHJldHVybiBoKCdkaXYjbG9hZGVyJywgW1xuICAgICAgICBoKCdzdmcnLCB7IGF0dHJzOiB7IHZpZXdCb3g6ICcwIDAgNjcuODEgNTcuMDgnIH0gfSwgW1xuICAgICAgICAgICAgaCgnZycsIFsgXG4gICAgICAgICAgICAgICAgaCgncGF0aC5zcGlubmVyJywgeyBhdHRyczogeyBkOiAnTTcsMTNhLjczLjczLDAsMCwwLC44Ny4yMywxNC4yLDE0LjIsMCwwLDAsMi42Ny0xLjQ1LDIuMzksMi4zOSwwLDAsMCwxLjA2LTEuMzdjLjE2LTEuNS0xLjg0LTEuMzQtMS0yczIuMzMtMS41LDIuNjYsMC0uODUsNC0zLjA4LDUuMmMwLDAtMy44OSwyLjMtNS41NCwzLjU5YTE0LjQ4LDE0LjQ4LDAsMCwwLTMuMjksMTVjMi45MSw4LjI1LDguNDEsMTAuNDYsMTAuNTQsMTEuMjFTNS44MSw1My44OSw1LjIsNTQuNzdjLS40Mi42LS4zMS43NSwwLDEuMTdzMS4xNywxLDEuNjkuNDEsMTAuNDQtNiwxMi40NC0xMCw0LTgsNS43OS04LjA4LDIuNzksMS4wOCwxLjg3LDNhMTUuNDYsMTUuNDYsMCwwLDEtMyw0LjU0Yy0uNzUuNTksMi4xNSwxLjcxLDMuMzEuMzRzNS02LjU5LDYuMTUtMTAuNzUsMS43OS01LjMsMS4yNS04LjcxLTEuMjMtNS42Ny0uODgtNy40Niw1Ljg4LTguOTIsNy42Ny05Ljg4LTQuNjYsNi44NC01LjI1LDkuMTMtLjUsNCwuMTcsNy4xMi4xNyw2LjIxLTEuNDYsMTAuMjEtMy43MSw3LTMsOS4yOSwyLjcxLDMuNDIsMy42NywzLjM0LDkuMzMtLjg0LDEyLjE3LTIsMTUuNDItNi43NiwxOC43NS0xNS4yNVM1OS44MSwxMS4yNCw1Nyw4LjgxQzUzLjgzLDYsNDIuMzctMy4wNiwzMi4xNiwyUzE3LjI2LDE5LjkzLDE2LjcsMjJzLTIsNS4yMy0zLjc5LDUuNDJjLTIsLjIxLTMuNzUtLjY3LTQuMjktMS44YTMuNDcsMy40NywwLDAsMSwxLTQuNUMxMS41MywxOS44MSwxNiwxNi43NywxNy4yOCwxNXMzLjIxLTQuMDgsMS43OS04LjUtNi43NS0zLjg4LTYuNzUtMy44OFM3LjE4LDMuMTIsNiw1LjI3YTQuNTksNC41OSwwLDAsMC0uNDIsNC41QTEzLjc0LDEzLjc0LDAsMCwwLDcsMTNaJyB9IH0pLFxuICAgICAgICAgICAgICAgIGgoJ2NpcmNsZS5zcGlubmVyJywgeyBhdHRyczogeyBjeDogJzI1LjAzJywgY3k6ICcyMycsIHI6ICczLjA3JyB9IH0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIF0pLFxuICAgIF0pO1xufVxuXG5mdW5jdGlvbiBwb3NzaWJsZU5udWVGaWxlKGZpbGVOYW1lOiBzdHJpbmcsIHZhcmlhbnQ6IHN0cmluZykge1xuICAgIGxldCBwb3NzaWJsZTogYm9vbGVhbjtcbiAgICBsZXQgcHJlZml4OiBzdHJpbmc7XG5cbiAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlICdjaGVzcycgOlxuICAgIGNhc2UgJ3BsYWNlbWVudCcgOlxuICAgICAgICBwcmVmaXggPSAnbm4nO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlICdjYW1ib2RpYW4nIDpcbiAgICAgICAgcHJlZml4ID0gJ21ha3J1ayc7XG4gICAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHByZWZpeCA9IHZhcmlhbnQ7XG4gICAgfVxuXG4gICAgcG9zc2libGUgPSBmaWxlTmFtZS5zdGFydHNXaXRoKGAke3ByZWZpeH0tYCk7XG4gICAgaWYgKCFwb3NzaWJsZSkge1xuICAgICAgICBhbGVydChgLm5udWUgZmlsZSBuYW1lIHJlcXVpcmVkIHRvIHN0YXJ0IHdpdGggJHtwcmVmaXh9LWApO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGU7XG59XG4iLCAiaW1wb3J0IHsgaCwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XG5cbmltcG9ydCBnZXR0ZXh0IGZyb20gJ2dldHRleHQuanMnO1xuXG5pbXBvcnQgeyBTdHJpbmdTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgcmFkaW9MaXN0IH0gZnJvbSAnLi92aWV3JztcblxuZXhwb3J0IGNvbnN0IGkxOG4gPSBnZXR0ZXh0KCk7XG5leHBvcnQgZnVuY3Rpb24gXyhtc2dpZDogc3RyaW5nLCAuLi52YXJzOiBhbnkpIHsgcmV0dXJuIGkxOG4uZ2V0dGV4dChtc2dpZCwgdmFycyk7IH1cbmV4cG9ydCBmdW5jdGlvbiBuZ2V0dGV4dChtc2dpZDogc3RyaW5nLCBwbHVyYWw6IHN0cmluZywgLi4udmFyczogYW55KSB7IHJldHVybiBpMThuLm5nZXR0ZXh0KG1zZ2lkLCBwbHVyYWwsIHZhcnMpOyB9XG5leHBvcnQgZnVuY3Rpb24gcGdldHRleHQobXNnY3R4dDogc3RyaW5nLCBtc2dpZDogc3RyaW5nLCAuLi52YXJzOiBhbnkpIHsgcmV0dXJuIGkxOG4ucGdldHRleHQobXNnY3R4dCwgbXNnaWQsIHZhcnMpOyB9XG5cbmV4cG9ydCBjb25zdCBMQU5HVUFHRVMgPSB7XG4gICAgZW46IFwiRW5nbGlzaFwiLFxuICAgIGRlOiBcIkRldXRzY2hcIixcbiAgICBlczogXCJFc3BhXHUwMEYxb2xcIixcbiAgICBmcjogXCJGcmFuXHUwMEU3YWlzXCIsXG4gICAgZ2xfRVM6IFwiR2FsZWdvXCIsXG4gICAgaHU6IFwiTWFneWFyXCIsXG4gICAgaXQ6IFwiSXRhbGlhbm9cIixcbiAgICBqYTogXCJcdTY1RTVcdTY3MkNcdThBOUVcIixcbiAgICBrbzogXCJcdUQ1NUNcdUFENkRcdUM1QjRcIixcbiAgICBubDogXCJOZWRlcmxhbmRzXCIsXG4gICAgcGw6IFwiUG9sc2tpZVwiLFxuICAgIHB0OiBcIlBvcnR1Z3VcdTAwRUFzXCIsXG4gICAgcnU6IFwiUFx1MDQ0M1x1MDQ0MVx1MDQ0MVx1MDQzQVx1MDQzOFx1MDQzOVwiLFxuICAgIHRoOiBcIlx1MEU0NFx1MEUxN1x1MEUyMlwiLFxuICAgIHRyOiBcIlRcdTAwRkNya1x1MDBFN2VcIixcbiAgICB6aF9DTjogXCJcdTdCODBcdTRGNTNcdTRFMkRcdTY1ODdcIixcbiAgICB6aF9UVzogXCJcdTdFNDFcdTlBRDRcdTRFMkRcdTY1ODdcIixcbn07XG5cbmNvbnN0IExBTkdVQUdFVEVYVDoge1trZXk6c3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgICBlbjogXCJMYW5ndWFnZVwiLFxuICAgIGRlOiBcIlNwcmFjaGVcIixcbiAgICBlczogXCJJZGlvbWFcIixcbiAgICBmcjogXCJMYW5ndWVcIixcbiAgICBnbF9FUzogXCJMaW5ndWFcIixcbiAgICBodTogXCJOeWVsdlwiLFxuICAgIGl0OiBcIkxpbmd1YVwiLFxuICAgIGphOiBcIlx1OEEwMFx1OEE5RVwiLFxuICAgIGtvOiBcIlx1QzVCOFx1QzVCNFwiLFxuICAgIG5sOiBcIlRhYWxcIixcbiAgICBwbDogXCJKXHUwMTE5enlrIFwiLFxuICAgIHB0OiBcIkxpbmd1YVwiLFxuICAgIHJ1OiBcIlx1MDQyRlx1MDQzN1x1MDQ0Qlx1MDQzQVwiLFxuICAgIHRoOiBcIlx1MEUyMFx1MEUzMlx1MEUyOVx1MEUzMlwiLFxuICAgIHRyOiBcIkRpbFwiLFxuICAgIHpoX0NOOiBcIlx1OEJFRFx1OEEwMFwiLFxuICAgIHpoX1RXOiBcIlx1OEE5RVx1OEEwMFwiLFxufTtcblxuY29uc3QgcHJlZmVycmVkTGFuZyA9IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2Uuc2xpY2UoMCwgMik7XG5leHBvcnQgY29uc3QgdHJhbnNsYXRlZExhbmd1YWdlID0gTEFOR1VBR0VURVhUW3ByZWZlcnJlZExhbmddID8/ICdMYW5ndWFnZSc7XG5cbi8vIERvIG5vdCB1c2Vcbi8vIFRoZXNlIGxpc3RzIGFyZSBvbmx5IGhlcmUgdG8gbWFyayB0aGVzZSB0ZXh0cyB0cmFuc2xhdGFibGVcbi8vIFVzZSB0aGUgcmVndWxhciB0cmFuc2xhdGUgZnVuY3Rpb25zIGlmIHRoZXNlIHdvcmRzIGFyZSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWVcbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVkQ29sb3JOYW1lcyA9IFtcbiAgICBfKFwiV2hpdGVcIiksIF8oXCJCbGFja1wiKSwgXyhcIlJlZFwiKSxcbiAgICBfKFwiQmx1ZVwiKSwgXyhcIkdvbGRcIiksIF8oXCJQaW5rXCIpLFxuICAgIF8oXCJHcmVlblwiKSxcbl07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVkVmFyaWFudERpc3BsYXlOYW1lcyA9IFtcbiAgICBfKFwiY2hlc3NcIiksIF8oXCJjcmF6eWhvdXNlXCIpLCBfKFwicGxhY2VtZW50XCIpLCBfKFwiYXRvbWljXCIpLFxuXG4gICAgXyhcIm1ha3J1a1wiKSwgXyhcIm1ha3BvbmdcIiksIF8oXCJvdWsgY2hha3RyYW5nXCIpLCBfKFwic2l0dHV5aW5cIiksIF8oXCJhc2VhblwiKSxcblxuICAgIF8oXCJzaG9naVwiKSwgXyhcIm1pbmlzaG9naVwiKSwgXyhcImt5b3RvIHNob2dpXCIpLFxuICAgIF8oXCJkb2J1dHN1XCIpLCBfKFwiZ29yb2dvcm9cIiksIF8oXCJnb3JvZ29ybytcIiksIF8oXCJ0b3JpIHNob2dpXCIpLFxuXG4gICAgXyhcInhpYW5ncWlcIiksIF8oXCJtYW5jaHVcIiksIF8oXCJqYW5nZ2lcIiksIF8oXCJtaW5peGlhbmdxaVwiKSxcblxuICAgIF8oXCJjYXBhYmxhbmNhXCIpLCBfKFwiY2FwYWhvdXNlXCIpLCBfKFwicy1jaGVzc1wiKSwgXyhcInMtaG91c2VcIiksXG4gICAgXyhcImdyYW5kXCIpLCBfKFwiZ3JhbmRob3VzZVwiKSwgXyhcInNoYWtvXCIpLCBfKFwic2hvZ3VuXCIpLCBfKFwiaG9wcGVsLXBvcHBlbFwiKSxcblxuICAgIF8oXCJvcmRhXCIpLCBfKFwic3lub2NoZXNzXCIpLCBfKFwic2hpbm9iaVwiKSwgXyhcImVtcGlyZVwiKSwgXyhcIm9yZGEgbWlycm9yXCIpLCBfKFwiY2hha1wiKSwgXyhcImNoZW5uaXNcIiksXG5dO1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlZEN1c3RvbVN0YXJ0UG9zaXRpb25zID0gW1xuICAgIF8oJ1Bhd25zUHVzaGVkJyksIF8oJ1Bhd25zUGFzc2VkJyksIF8oJ1Vwc2lkZURvd24nKSwgXygnVGhlYmFuJyksIF8oJ05vIGNhc3RsZScpLFxuXG4gICAgXygnTGFuY2UgSEMnKSwgXygnQmlzaG9wIEhDJyksIF8oJ1Jvb2sgSEMnKSwgXygnUm9vaytMYW5jZSBIQycpLCBfKCcyLVBpZWNlIEhDJyksIF8oJzQtUGllY2UgSEMnKSwgXygnNi1QaWVjZSBIQycpLCBfKCc4LVBpZWNlIEhDJyksIF8oJzktUGllY2UgSEMnKSwgXygnMTAtUGllY2UgSEMnKSxcblxuICAgIF8oJ0dvcm9nb3JvIFBsdXMgTitMJyksIF8oJ09yaWdpbmFsIChObyBOK0wpJyksXG5cbiAgICBfKCdMZWZ0IFF1YWlsIEhDJyksIF8oJ0ZhbGNvbiBIQycpLCBfKCdGYWxjb24gKyBMZWZ0IFF1YWlsIEhDJyksIF8oJ0ZhbGNvbiArIEJvdGggUXVhaWxzIEhDJyksXG5cbiAgICBfKCdCaXJkJyksIF8oJ0NhcnJlcmEnKSwgXygnR290aGljJyksIF8oJ0VtYmFzc3knKSwgXygnQ29uc2VydmF0aXZlJyksXG5dO1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlZFRvb2x0aXBzID0gW1xuICAgIF8oXCJDaGVzcywgdW5tb2RpZmllZCwgYXMgaXQncyBwbGF5ZWQgYnkgRklERSBzdGFuZGFyZHMuXCIpLFxuICAgIF8oXCJUYWtlIGNhcHR1cmVkIHBpZWNlcyBhbmQgZHJvcCB0aGVtIGJhY2sgb24gdG8gdGhlIGJvYXJkIGFzIHlvdXIgb3duLlwiKSxcbiAgICBfKFwiQ2hvb3NlIHdoZXJlIHlvdXIgcGllY2VzIHN0YXJ0LlwiKSxcbiAgICBfKFwiUGllY2VzIGV4cGxvZGUgdXBvbiBjYXB0dXJlLlwiKSxcbiAgICBfKFwiVGhlIGR1Y2sgbXVzdCBiZSBtb3ZlZCB0byBhIG5ldyBzcXVhcmUgYWZ0ZXIgZXZlcnkgdHVybi5cIiksXG4gICAgXyhcIlRoYWkgQ2hlc3MuIEEgZ2FtZSBjbG9zZWx5IHJlc2VtYmxpbmcgdGhlIG9yaWdpbmFsIENoYXR1cmFuZ2EuIFNpbWlsYXIgdG8gQ2hlc3MgYnV0IHdpdGggYSBkaWZmZXJlbnQgcXVlZW4gYW5kIGJpc2hvcC5cIiksXG4gICAgXyhcIk1ha3J1ayB2YXJpYW50IHdoZXJlIGtpbmdzIGNhbm5vdCBtb3ZlIHRvIGVzY2FwZSBvdXQgb2YgY2hlY2suXCIpLFxuICAgIF8oXCJDYW1ib2RpYW4gQ2hlc3MuIE1ha3J1ayB3aXRoIGEgZmV3IGFkZGl0aW9uYWwgb3BlbmluZyBhYmlsaXRpZXMuXCIpLFxuICAgIF8oXCJCdXJtZXNlIENoZXNzLiBTaW1pbGFyIHRvIE1ha3J1aywgYnV0IHBpZWNlcyBhcmUgcGxhY2VkIGF0IHRoZSBzdGFydCBvZiB0aGUgbWF0Y2guXCIpLFxuICAgIF8oXCJNYWtydWsgdXNpbmcgdGhlIGJvYXJkL3BpZWNlcyBmcm9tIEludGVybmF0aW9uYWwgQ2hlc3MgYXMgd2VsbCBhcyBwYXduIHByb21vdGlvbiBydWxlcy5cIiksXG4gICAgXyhcIkphcGFuZXNlIENoZXNzLCBhbmQgdGhlIHN0YW5kYXJkIDl4OSB2ZXJzaW9uIHBsYXllZCB0b2RheSB3aXRoIGRyb3BzIGFuZCBwcm9tb3Rpb25zLiBcIiksXG4gICAgXyhcIjV4NSBTaG9naSBmb3IgbW9yZSBjb21wYWN0IGFuZCBmYXN0ZXIgZ2FtZXMuIFRoZXJlIGFyZSBubyBrbmlnaHRzIG9yIGxhbmNlcy5cIiksXG4gICAgXyhcIkEgd2lsZCBTaG9naSB2YXJpYW50IG9uIGEgNXg1IGJvYXJkIHdoZXJlIHBpZWNlcyBmbGlwIGludG8gYSBkaWZmZXJlbnQgcGllY2UgYWZ0ZXIgZWFjaCBtb3ZlLlwiKSxcbiAgICBfKFwiM3g0IGdhbWUgd2l0aCBjdXRlIGFuaW1hbHMsIGRlc2lnbmVkIHRvIHRlYWNoIGNoaWxkcmVuIGhvdyB0byBwbGF5IFNob2dpLlwiKSxcbiAgICBfKFwiNXg2IFNob2dpIGRlc2lnbmVkIHRvIGludHJvZHVjZSB0YWN0aWNzIHdpdGggdGhlIGdlbmVyYWxzLlwiKSxcbiAgICBfKFwiQSBjb25mcm9udGF0aW9uYWwgN3g3IHZhcmlhbnQgd2l0aCB1bmlxdWUgcGllY2VzIGVhY2ggbmFtZWQgYWZ0ZXIgZGlmZmVyZW50IGJpcmRzLlwiKSxcbiAgICBfKFwiQ2hpbmVzZSBDaGVzcywgb25lIG9mIHRoZSBvbGRlc3QgYW5kIG1vc3QgcGxheWVkIGJvYXJkIGdhbWVzIGluIHRoZSB3b3JsZC5cIiksXG4gICAgXyhcIlhpYW5ncWkgdmFyaWFudCB3aGVyZSBvbmUgc2lkZSBoYXMgYSBjaGFyaW90IHRoYXQgY2FuIGFsc28gbW92ZSBhcyBhIGNhbm5vbiBvciBob3JzZS5cIiksXG4gICAgXyhcIktvcmVhbiBDaGVzcywgc2ltaWxhciB0byBYaWFuZ3FpIGJ1dCBwbGF5cyBtdWNoIGRpZmZlcmVudGx5LiBUb3VybmFtZW50IHJ1bGVzIGFyZSB1c2VkLlwiKSxcbiAgICBfKFwiQ29tcGFjdCB2ZXJzaW9uIG9mIFhpYW5ncWkgcGxheWVkIG9uIGEgN3g3IGJvYXJkIHdpdGhvdXQgYSByaXZlci5cIiksXG4gICAgXyhcIlBsYXkgd2l0aCB0aGUgaHlicmlkIHBpZWNlcywgYXJjaGJpc2hvcCAoQitOKSBhbmQgY2hhbmNlbGxvciAoUitOKSwgb24gYSAxMHg4IGJvYXJkLlwiKSxcbiAgICBfKFwiQ2FwYWJsYW5jYSB3aXRoIENyYXp5aG91c2UgZHJvcCBydWxlcy5cIiksXG4gICAgXyhcIkh5YnJpZCBwaWVjZXMsIHRoZSBoYXdrIChCK04pIGFuZCBlbGVwaGFudCAoUitOKSwgY2FuIGVudGVyIHRoZSBib2FyZCBhZnRlciBtb3ZpbmcgYSBiYWNrIHJhbmsgcGllY2UuXCIpLFxuICAgIF8oXCJTLUNoZXNzIHdpdGggQ3Jhenlob3VzZSBkcm9wIHJ1bGVzLlwiKSxcbiAgICBfKFwiUGxheSB3aXRoIHRoZSBoeWJyaWQgcGllY2VzLCBhcmNoYmlzaG9wIChCK04pIGFuZCBjaGFuY2VsbG9yIChSK04pLCBvbiBhIGdyYW5kIDEweDEwIGJvYXJkLlwiKSxcbiAgICBfKFwiR3JhbmQgQ2hlc3Mgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgIF8oXCJJbnRyb2R1Y2VzIHRoZSBjYW5ub24gYW5kIGVsZXBoYW50IGZyb20gWGlhbmdxaSBpbnRvIGEgMTB4MTAgY2hlc3MgYm9hcmQuXCIpLFxuICAgIF8oXCJQaWVjZXMgcHJvbW90ZSBhbmQgY2FuIGJlIGRyb3BwZWQsIHNpbWlsYXIgdG8gU2hvZ2kuXCIpLFxuICAgIF8oXCJLbmlnaHRzIGNhcHR1cmUgYXMgYmlzaG9wczsgYmlzaG9wcyAgY2FwdHVyZSBhcyBrbmlnaHRzLlwiKSxcbiAgICBfKFwiQXN5bW1ldHJpYyB2YXJpYW50IHdoZXJlIG9uZSBhcm15IGhhcyBwaWVjZXMgdGhhdCBtb3ZlIGxpa2Uga25pZ2h0cyBidXQgY2FwdHVyZSBkaWZmZXJlbnRseS5cIiksXG4gICAgXyhcIkFzeW1tZXRyaWMgRWFzdCB2cy4gV2VzdCB2YXJpYW50IHdoaWNoIHBpdHMgdGhlIHdlc3Rlcm4gQ2hlc3MgYXJteSBhZ2FpbnN0IGEgWGlhbmdxaSBhbmQgSmFuZ2dpLXN0eWxlZCBhcm15LlwiKSxcbiAgICBfKFwiQXN5bW1ldHJpYyB2YXJpYW50IHdoaWNoIHBpdHMgdGhlIHdlc3Rlcm4gQ2hlc3MgYXJteSBhZ2FpbnN0IGEgZHJvcC1iYXNlZCwgU2hvZ2ktc3R5bGVkIGFybXkuXCIpLFxuICAgIF8oXCJBc3ltbWV0cmljIHZhcmlhbnQgd2hlcmUgb25lIGFybXkgaGFzIHBpZWNlcyB0aGF0IG1vdmUgbGlrZSBxdWVlbnMgYnV0IGNhcHR1cmUgYXMgdXN1YWwuXCIpLFxuICAgIF8oXCJPcmRhIENoZXNzIHZhcmlhbnQgd2l0aCB0d28gSG9yZGUgYXJtaWVzLiBUaGUgRmFsY29uIHJlcGxhY2VzIHRoZSBZdXJ0LlwiKSxcbiAgICBfKFwiTWF5YW4gY2hlc3MuIEluc3BpcmVkIGJ5IGN1bHR1cmFsIGVsZW1lbnRzIG9mIE1lc29hbWVyaWNhLlwiKSxcbiAgICBfKFwiUGllY2VzIGFsdGVybmF0ZSBiZXR3ZWVuIHR3byBmb3JtcyB3aXRoIGVhY2ggbW92ZS5cIiksXG4gICAgXyhcIkxpa2UgQ2FwYWJsYW5jYSBDaGVzcyBidXQgd2l0aCBHcmFuZCBzdGFydGluZyBzZXR1cC5cIiksXG4gICAgXyhcIkVtYmFzc3kgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgIF8oXCJMaWtlIENhcGFibGFuY2EgQ2hlc3MgYnV0IHdpdGggYSBkaWZmZXJlbnQgc3RhcnRpbmcgc2V0dXAuXCIpLFxuICAgIF8oXCJHb3RoaWMgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuXTtcblxuY2xhc3MgTGFuZ3VhZ2VTZXR0aW5ncyBleHRlbmRzIFN0cmluZ1NldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2xhbmcnLCAnZW4nKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIGNvbnN0IGxhbmdMaXN0ID0gcmFkaW9MaXN0KFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICdsYW5nJyxcbiAgICAgICAgICAgIExBTkdVQUdFUyxcbiAgICAgICAgICAgIChldnQsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBrZXk7XG4gICAgICAgICAgICAgICAgKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZm9ybSEuc3VibWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBoKCdkaXYjc2V0dGluZ3MtbGFuZycsIFtcbiAgICAgICAgICAgIGgoJ2Zvcm0ucmFkaW8tbGlzdCcsIHsgcHJvcHM6IHsgbWV0aG9kOiBcInBvc3RcIiwgYWN0aW9uOiBcIi90cmFuc2xhdGlvbi9zZWxlY3RcIiB9IH0sIGxhbmdMaXN0KSxcbiAgICAgICAgXSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgbGFuZ3VhZ2VTZXR0aW5ncyA9IG5ldyBMYW5ndWFnZVNldHRpbmdzKCk7XG4iLCAiaW1wb3J0IHsgcG9zMmtleSwgaW52UmFua3MsIHJvbGVPZiwgbGV0dGVyT2YsIGNoYW5nZU51bWJlciB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNvbnN0IGluaXRpYWw6IGNnLkZFTiA9ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWQoZmVuOiBjZy5GRU4sIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5Cb2FyZFN0YXRlIHtcbiAgY29uc3QgcGllY2VzUGFydCA9IGZlbi5zcGxpdCgnICcpWzBdO1xuICBjb25zdCBicmFja2V0SWR4ID0gcGllY2VzUGFydC5pbmRleE9mKCdbJyk7XG5cbiAgbGV0IGJvYXJkUGFydDogc3RyaW5nO1xuICBsZXQgcG9ja2V0UGFydDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBpZiAoYnJhY2tldElkeCA+IC0xKSB7XG4gICAgYm9hcmRQYXJ0ID0gcGllY2VzUGFydC5zbGljZSgwLCBicmFja2V0SWR4KTtcbiAgICBwb2NrZXRQYXJ0ID0gcGllY2VzUGFydC5zbGljZShicmFja2V0SWR4ICsgMSwgcGllY2VzUGFydC5pbmRleE9mKCddJykpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJhbmtzID0gcGllY2VzUGFydC5zcGxpdCgnLycpO1xuICAgIGJvYXJkUGFydCA9IHJhbmtzLnNsaWNlKDAsIGJkLmhlaWdodCkuam9pbignLycpO1xuICAgIC8vIEhhbmRsZSBcInBvY2tldCBhZnRlciBhbiBleHRyYSBzbGFzaFwiIGZvcm1hdFxuICAgIHBvY2tldFBhcnQgPSByYW5rcy5sZW5ndGggPiBiZC5oZWlnaHQgPyByYW5rc1tiZC5oZWlnaHRdIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwaWVjZXM6IHJlYWRCb2FyZChib2FyZFBhcnQpLFxuICAgIHBvY2tldHM6IHJlYWRQb2NrZXRzKHBvY2tldFBhcnQpLFxuICB9O1xufVxuXG5mdW5jdGlvbiByZWFkQm9hcmQoZmVuOiBjZy5GRU4pOiBjZy5QaWVjZXMge1xuICBpZiAoZmVuID09PSAnc3RhcnQnKSBmZW4gPSBpbml0aWFsO1xuXG4gIGNvbnN0IHBpZWNlczogY2cuUGllY2VzID0gbmV3IE1hcCgpO1xuICBsZXQgcm93ID0gZmVuLnNwbGl0KCcvJykubGVuZ3RoIC0gMTtcbiAgbGV0IGNvbCA9IDA7XG4gIGxldCBwcm9tb3RlZCA9IGZhbHNlO1xuICBsZXQgbnVtID0gMDtcblxuICBmb3IgKGNvbnN0IGMgb2YgZmVuKSB7XG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICByZXR1cm4gcGllY2VzO1xuICAgICAgY2FzZSAnLyc6XG4gICAgICAgIC0tcm93O1xuICAgICAgICBpZiAocm93IDwgMCkgcmV0dXJuIHBpZWNlcztcbiAgICAgICAgY29sID0gMDtcbiAgICAgICAgbnVtID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgcHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ34nOiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gcGllY2VzLmdldChwb3Mya2V5KFtjb2wgLSAxLCByb3ddKSk7XG4gICAgICAgIGlmIChwaWVjZSkgcGllY2UucHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgbmIgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmICg0OCA8PSBuYiAmJiBuYiA8IDU4KSB7XG4gICAgICAgICAgbnVtID0gMTAgKiBudW0gKyBuYiAtIDQ4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbCArPSBudW07XG4gICAgICAgICAgbnVtID0gMDtcbiAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBjLnRvTG93ZXJDYXNlKCkgYXMgY2cuTGV0dGVyO1xuICAgICAgICAgIGNvbnN0IHBpZWNlID0ge1xuICAgICAgICAgICAgcm9sZTogcm9sZU9mKGxldHRlciksXG4gICAgICAgICAgICBjb2xvcjogKGMgPT09IGxldHRlciA/ICdibGFjaycgOiAnd2hpdGUnKSBhcyBjZy5Db2xvcixcbiAgICAgICAgICB9IGFzIGNnLlBpZWNlO1xuICAgICAgICAgIGlmIChwcm9tb3RlZCkge1xuICAgICAgICAgICAgcGllY2Uucm9sZSA9ICgncCcgKyBwaWVjZS5yb2xlKSBhcyBjZy5Sb2xlO1xuICAgICAgICAgICAgcGllY2UucHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcHJvbW90ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGllY2VzLnNldChwb3Mya2V5KFtjb2wsIHJvd10pLCBwaWVjZSk7XG4gICAgICAgICAgKytjb2w7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBpZWNlcztcbn1cblxuZnVuY3Rpb24gcmVhZFBvY2tldHMocG9ja2V0U3RyOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBjZy5Qb2NrZXRzIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHBvY2tldFN0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgd2hpdGVQb2NrZXQgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgYmxhY2tQb2NrZXQgPSBuZXcgTWFwKCk7XG5cbiAgICBmb3IgKGNvbnN0IHAgb2YgcG9ja2V0U3RyKSB7XG4gICAgICBjb25zdCByb2xlID0gcm9sZU9mKHAgYXMgY2cuTGV0dGVyKTtcbiAgICAgIGlmICgvW0EtWl0vLnRlc3QocCkpIGNoYW5nZU51bWJlcih3aGl0ZVBvY2tldCwgcm9sZSwgMSk7XG4gICAgICBlbHNlIGlmICgvW2Etel0vLnRlc3QocCkpIGNoYW5nZU51bWJlcihibGFja1BvY2tldCwgcm9sZSwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdoaXRlOiB3aGl0ZVBvY2tldCxcbiAgICAgIGJsYWNrOiBibGFja1BvY2tldCxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlKGJvYXJkU3RhdGU6IGNnLkJvYXJkU3RhdGUsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5GRU4ge1xuICByZXR1cm4gd3JpdGVCb2FyZChib2FyZFN0YXRlLnBpZWNlcywgYmQpICsgd3JpdGVQb2NrZXRzKGJvYXJkU3RhdGUucG9ja2V0cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUJvYXJkKHBpZWNlczogY2cuUGllY2VzLCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuRkVOIHtcbiAgcmV0dXJuIGludlJhbmtzXG4gICAgLnNsaWNlKC1iZC5oZWlnaHQpXG4gICAgLm1hcCh5ID0+XG4gICAgICBjZy5maWxlc1xuICAgICAgICAuc2xpY2UoMCwgYmQud2lkdGgpXG4gICAgICAgIC5tYXAoeCA9PiB7XG4gICAgICAgICAgY29uc3QgcGllY2UgPSBwaWVjZXMuZ2V0KCh4ICsgeSkgYXMgY2cuS2V5KTtcbiAgICAgICAgICBpZiAocGllY2UpIHtcbiAgICAgICAgICAgIGxldCBwID0gbGV0dGVyT2YocGllY2Uucm9sZSwgcGllY2UuY29sb3IgPT09ICd3aGl0ZScpO1xuICAgICAgICAgICAgaWYgKHBpZWNlLnByb21vdGVkICYmIHAuY2hhckF0KDApICE9PSAnKycpIHAgKz0gJ34nO1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiAnMSc7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCcnKVxuICAgIClcbiAgICAuam9pbignLycpXG4gICAgLnJlcGxhY2UoLzF7Mix9L2csIHMgPT4gcy5sZW5ndGgudG9TdHJpbmcoKSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlUG9ja2V0cyhwb2NrZXRzOiBjZy5Qb2NrZXRzIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgaWYgKHBvY2tldHMpIHJldHVybiAnWycgKyB3cml0ZVBvY2tldChwb2NrZXRzLndoaXRlLCB0cnVlKSArIHdyaXRlUG9ja2V0KHBvY2tldHMuYmxhY2ssIGZhbHNlKSArICddJztcbiAgZWxzZSByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlUG9ja2V0KHBvY2tldDogY2cuUG9ja2V0LCBhc1doaXRlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgY29uc3QgbGV0dGVyczogc3RyaW5nW10gPSBbXTtcbiAgZm9yIChjb25zdCBbciwgbl0gb2YgcG9ja2V0LmVudHJpZXMoKSkgbGV0dGVycy5wdXNoKGxldHRlck9mKHIsIGFzV2hpdGUpLnJlcGVhdChuKSk7XG4gIHJldHVybiBsZXR0ZXJzLmpvaW4oJycpO1xufVxuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuaW1wb3J0IHsgcmVhZCBhcyBmZW5SZWFkIH0gZnJvbSAnY2hlc3Nncm91bmR4L2Zlbic7XG5cbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBWYXJpYW50IH0gZnJvbSAnLi92YXJpYW50cyc7XG5cbmV4cG9ydCB0eXBlIE1hdGVyaWFsRGlmZiA9IE1hcDxjZy5Sb2xlLCBudW1iZXI+O1xuZXhwb3J0IHR5cGUgRXF1aXZhbGVuY2UgPSBQYXJ0aWFsPFJlY29yZDxjZy5Sb2xlLCBjZy5Sb2xlPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGxoczogTWF0ZXJpYWxEaWZmLCByaHM6IE1hdGVyaWFsRGlmZik6IE1hdGVyaWFsRGlmZiB7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoWy4uLmxocy5rZXlzKCksIC4uLnJocy5rZXlzKCldKTtcbiAgICBjb25zdCByZXMgPSBuZXcgTWFwKClcbiAgICBmb3IgKGNvbnN0IHJvbGUgb2Yga2V5cylcbiAgICAgICAgcmVzLnNldChyb2xlLCAobGhzLmdldChyb2xlKSA/PyAwKSAtIChyaHMuZ2V0KHJvbGUpID8/IDApKTtcbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudFJvbGUocm9sZTogY2cuUm9sZSwgZXF1aXZhbGVuY2VzOiBFcXVpdmFsZW5jZSwgY2FwdHVyZVRvSGFuZDogYm9vbGVhbik6IGNnLlJvbGUge1xuICAgIGlmIChjYXB0dXJlVG9IYW5kKSB7XG4gICAgICAgIGlmIChyb2xlLmluZGV4T2YoJy0nKSA+IDEpXG4gICAgICAgICAgICByZXR1cm4gcm9sZS5zbGljZSgxKSBhcyBjZy5Sb2xlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocm9sZSBpbiBlcXVpdmFsZW5jZXMpXG4gICAgICAgICAgICByZXR1cm4gZXF1aXZhbGVuY2VzW3JvbGVdITtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGlmZihmZW46IHN0cmluZywgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zLCBlcXVpdmFsZW5jZXM6IEVxdWl2YWxlbmNlLCBjYXB0dXJlVG9IYW5kOiBib29sZWFuKTogTWF0ZXJpYWxEaWZmIHtcbiAgICBjb25zdCBtYXRlcmlhbERpZmYgOiBNYXRlcmlhbERpZmYgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgYm9hcmRTdGF0ZSA9IGZlblJlYWQoZmVuLCBkaW1lbnNpb25zKTtcblxuICAgIGZvciAoY29uc3QgW18sIHBpZWNlXSBvZiBib2FyZFN0YXRlLnBpZWNlcykge1xuICAgICAgICBjb25zdCByb2xlID0gZXF1aXZhbGVudFJvbGUocGllY2Uucm9sZSwgZXF1aXZhbGVuY2VzLCBjYXB0dXJlVG9IYW5kKTtcbiAgICAgICAgY29uc3QgbnVtID0gbWF0ZXJpYWxEaWZmLmdldChyb2xlKSA/PyAwO1xuICAgICAgICBtYXRlcmlhbERpZmYuc2V0KHJvbGUsIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJykgPyBudW0gLSAxIDogbnVtICsgMSk7XG4gICAgfVxuXG4gICAgaWYgKGJvYXJkU3RhdGUucG9ja2V0cykge1xuICAgICAgICBmb3IgKGNvbnN0IFtyLCBjXSBvZiBib2FyZFN0YXRlLnBvY2tldHMud2hpdGUuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCByb2xlID0gZXF1aXZhbGVudFJvbGUociwgZXF1aXZhbGVuY2VzLCBjYXB0dXJlVG9IYW5kKTtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IG1hdGVyaWFsRGlmZi5nZXQocm9sZSkgPz8gMDtcbiAgICAgICAgICAgIG1hdGVyaWFsRGlmZi5zZXQocm9sZSwgbnVtIC0gYyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbciwgY10gb2YgYm9hcmRTdGF0ZS5wb2NrZXRzLmJsYWNrLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IGVxdWl2YWxlbnRSb2xlKHIsIGVxdWl2YWxlbmNlcywgY2FwdHVyZVRvSGFuZCk7XG4gICAgICAgICAgICBjb25zdCBudW0gPSBtYXRlcmlhbERpZmYuZ2V0KHJvbGUpID8/IDA7XG4gICAgICAgICAgICBtYXRlcmlhbERpZmYuc2V0KHJvbGUsIG51bSArIGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRlcmlhbERpZmY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVNYXRlcmlhbERpZmYodmFyaWFudDogVmFyaWFudCwgZmVuPzogc3RyaW5nKTogTWF0ZXJpYWxEaWZmIHtcbiAgICByZXR1cm4gY2FsY3VsYXRlRGlmZihmZW4gPz8gdmFyaWFudC5zdGFydEZlbiwgdmFyaWFudC5ib2FyZC5kaW1lbnNpb25zLCB2YXJpYW50Lm1hdGVyaWFsLmVxdWl2YWxlbmNlcywgISF2YXJpYW50LnBvY2tldD8uY2FwdHVyZVRvSGFuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQaWVjZU51bWJlcih2YXJpYW50OiBWYXJpYW50LCBmZW4/OiBzdHJpbmcpOiBNYXRlcmlhbERpZmYge1xuICAgIGlmICghZmVuKSBmZW4gPSB2YXJpYW50LnN0YXJ0RmVuO1xuICAgIC8vIENhbGN1bGF0ZSBtYXRlcmlhbCBkaWZmZXJlbmNlIGFzIGlmIGFsbCBwaWVjZXMgd2VyZSBibGFja1xuICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBjb3VudGluZyB0aGUgbnVtYmVyIG9mIHBpZWNlcyBvbiB0aGUgYm9hcmRcbiAgICByZXR1cm4gY2FsY3VsYXRlTWF0ZXJpYWxEaWZmKHZhcmlhbnQsIGZlbi50b0xvd2VyQ2FzZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUdhbWVEaWZmKHZhcmlhbnQ6IFZhcmlhbnQsIGZlbjogc3RyaW5nKTogTWF0ZXJpYWxEaWZmIHtcbiAgICByZXR1cm4gZGlmZihjYWxjdWxhdGVNYXRlcmlhbERpZmYodmFyaWFudCwgZmVuKSwgdmFyaWFudC5tYXRlcmlhbC5pbml0aWFsRGlmZik7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudCh2YXJpYW50OiBWYXJpYW50LCBmZW46IHN0cmluZyk6IFtWTm9kZVtdLCBWTm9kZVtdXSB7XG4gICAgY29uc3QgaW1iYWxhbmNlID0gY2FsY3VsYXRlR2FtZURpZmYodmFyaWFudCwgZmVuKTtcbiAgICBjb25zdCB3aGl0ZUNvbnRlbnQ6IFZOb2RlW10gPSBbXTtcbiAgICBjb25zdCBibGFja0NvbnRlbnQ6IFZOb2RlW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgW3JvbGUsIG51bV0gb2YgaW1iYWxhbmNlKSB7XG4gICAgICAgIGlmIChudW0gPT09IDApIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gbnVtID4gMCA/IGJsYWNrQ29udGVudCA6IHdoaXRlQ29udGVudDtcbiAgICAgICAgY29uc3QgcGllY2VEaWZmID0gTWF0aC5hYnMobnVtKTtcbiAgICAgICAgY29uc3QgY3VycmVudERpdjogVk5vZGVbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpZWNlRGlmZjsgaSsrKVxuICAgICAgICBjdXJyZW50RGl2LnB1c2goaCgnbXBpZWNlLicgKyByb2xlKSk7XG4gICAgICAgIGNvbnRlbnQucHVzaChoKCdkaXYnLCBjdXJyZW50RGl2KSk7XG4gICAgfVxuICAgIHJldHVybiBbd2hpdGVDb250ZW50LCBibGFja0NvbnRlbnRdO1xufVxuXG5mdW5jdGlvbiBtYWtlTWF0ZXJpYWxWTm9kZSh2YXJpYW50OiBWYXJpYW50LCBwb3NpdGlvbjogJ3RvcCd8J2JvdHRvbScsIGNvbnRlbnQ6IFZOb2RlW10sIGRpc2FibGVkID0gZmFsc2UpOiBWTm9kZSB7XG4gICAgcmV0dXJuIGgoYGRpdi5tYXRlcmlhbC5tYXRlcmlhbC0ke3Bvc2l0aW9ufS4ke3ZhcmlhbnQucGllY2VGYW1pbHl9JHtkaXNhYmxlZCA/ICcuZGlzYWJsZWQnIDogJyd9YCwgY29udGVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNYXRlcmlhbCh2YXJpYW50OiBWYXJpYW50LCBmZW46IHN0cmluZywgdm1hdGVyaWFsVG9wOiBWTm9kZSB8IEhUTUxFbGVtZW50LCB2bWF0ZXJpYWxCb3R0b206IFZOb2RlIHwgSFRNTEVsZW1lbnQsIGZsaXA6IGJvb2xlYW4pOiBbVk5vZGUsIFZOb2RlXSB7XG4gICAgY29uc3QgW3doaXRlQ29udGVudCwgYmxhY2tDb250ZW50XSA9IGdlbmVyYXRlQ29udGVudCh2YXJpYW50LCBmZW4pO1xuICAgIHJldHVybiBbXG4gICAgICAgIHBhdGNoKHZtYXRlcmlhbFRvcCwgbWFrZU1hdGVyaWFsVk5vZGUodmFyaWFudCwgJ3RvcCcsIGZsaXAgPyB3aGl0ZUNvbnRlbnQgOiBibGFja0NvbnRlbnQpKSxcbiAgICAgICAgcGF0Y2godm1hdGVyaWFsQm90dG9tLCBtYWtlTWF0ZXJpYWxWTm9kZSh2YXJpYW50LCAnYm90dG9tJywgZmxpcCA/IGJsYWNrQ29udGVudCA6IHdoaXRlQ29udGVudCkpLFxuICAgIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU1hdGVyaWFsKHZhcmlhbnQ6IFZhcmlhbnQpOiBbVk5vZGUsIFZOb2RlXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbWFrZU1hdGVyaWFsVk5vZGUodmFyaWFudCwgJ3RvcCcsIFtdLCB0cnVlKSxcbiAgICAgICAgbWFrZU1hdGVyaWFsVk5vZGUodmFyaWFudCwgJ2JvdHRvbScsIFtdLCB0cnVlKSxcbiAgICBdO1xufVxuIiwgImltcG9ydCB7IGgsIEluc2VydEhvb2ssIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICdjaGVzc2dyb3VuZHgvdXRpbCc7XG5cbmltcG9ydCB7IEJvYXJkTWFya1R5cGUsIENvbG9yTmFtZSwgQ291bnRpbmdUeXBlLCBNYXRlcmlhbFBvaW50VHlwZSwgUGllY2VTb3VuZFR5cGUsIFByb21vdGlvblN1ZmZpeCwgUHJvbW90aW9uVHlwZSwgVGltZUNvbnRyb2xUeXBlIH0gZnJvbSAnLi9jaGVzcyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnLi9pMThuJztcbmltcG9ydCB7IGNhbGN1bGF0ZURpZmYsIEVxdWl2YWxlbmNlLCBNYXRlcmlhbERpZmYgfSBmcm9tICcuL21hdGVyaWFsJztcblxuZXhwb3J0IGludGVyZmFjZSBCb2FyZEZhbWlseSB7XG4gICAgcmVhZG9ubHkgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zO1xuICAgIHJlYWRvbmx5IGNnOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgYm9hcmRDU1M6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpZWNlRmFtaWx5IHtcbiAgICByZWFkb25seSBwaWVjZUNTUzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjb25zdCBCT0FSRF9GQU1JTElFUzogUmVjb3JkPHN0cmluZywgQm9hcmRGYW1pbHk+ID0ge1xuICAgIHN0YW5kYXJkOHg4OiB7IGRpbWVuc2lvbnM6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LCBjZzogXCJjZy01MTJcIiwgYm9hcmRDU1M6IFtcIjh4OGJyb3duLnN2Z1wiLCBcIjh4OGJsdWUuc3ZnXCIsIFwiOHg4Z3JlZW4uc3ZnXCIsIFwiOHg4bWFwbGUuanBnXCIsIFwiOHg4b2xpdmUuanBnXCIsIFwiOHg4c2FudGEucG5nXCIsIFwiOHg4d29vZDIuanBnXCIsIFwiOHg4d29vZDQuanBnXCIsIFwiOHg4aWMuc3ZnXCIsIFwiOHg4cHVycGxlLnN2Z1wiXSB9LFxuICAgIHN0YW5kYXJkMTB4ODogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiAxMCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTY0MFwiLCBib2FyZENTUzogW1wiMTB4OGJyb3duLnN2Z1wiLCBcIjEweDhibHVlLnN2Z1wiLCBcIjEweDhncmVlbi5zdmdcIiwgXCIxMHg4bWFwbGUuanBnXCIsIFwiMTB4OG9saXZlLmpwZ1wiXSB9LFxuICAgIHN0YW5kYXJkMTB4MTA6IHsgZGltZW5zaW9uczogeyB3aWR0aDogMTAsIGhlaWdodDogMTAgfSwgY2c6IFwiY2ctNjQwLTY0MFwiLCBib2FyZENTUzogW1wiMTB4MTBicm93bi5zdmdcIiwgXCIxMHgxMGJsdWUuc3ZnXCIsIFwiMTB4MTBncmVlbi5zdmdcIiwgXCIxMHgxMG1hcGxlLmpwZ1wiLCBcIjEweDEwb2xpdmUuanBnXCJdIH0sXG4gICAgZ3JhbmQxMHgxMDogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiAxMCwgaGVpZ2h0OiAxMH0sIGNnOiBcImNnLTY0MC02NDBcIiwgYm9hcmRDU1M6IFtcIkdyYW5kYm9hcmQuc3ZnXCIsIFwiMTB4MTBicm93bi5zdmdcIiwgXCIxMHgxMGJsdWUuc3ZnXCIsIFwiMTB4MTBncmVlbi5zdmdcIiwgXCIxMHgxMG1hcGxlLmpwZ1wiLCBcIjEweDEwbWFwbGVHcmFuZC5wbmdcIl0gfSxcbiAgICBtYWtydWs4eDg6IHsgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTUxMlwiLCBib2FyZENTUzogW1wibWFrcnVrMi5zdmdcIiwgXCJtYWtydWsuc3ZnXCIsIFwibWFrcnVrV2hpdGUuc3ZnXCIsIFwibWFrcnVrLmpwZ1wiLCBcIm1ha3J1a1dvb2QucG5nXCJdIH0sXG4gICAgc2l0dHV5aW44eDg6IHsgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTUxMlwiLCBib2FyZENTUzogW1wic2l0dHV5aW4yLnN2Z1wiLCBcInNpdHR1eWluLnN2Z1wiLCBcInNpdHR1eWluLmpwZ1wiLCBcInNpdHR1eWluZ3JlZW4uc3ZnXCIsIFwic2l0dHV5aW5HcmFpbkJyb3duLnN2Z1wiLCBcInNpdHR1eWluV29vZC5wbmdcIl0gfSxcbiAgICBzaG9naTl4OTogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA5LCBoZWlnaHQ6IDkgfSwgY2c6IFwiY2ctNTc2XCIsIGJvYXJkQ1NTOiBbXCJzaG9naS5zdmdcIiwgXCJTaG9naWJhbjEucG5nXCIsIFwiU2hvZ2liYW4yLnBuZ1wiLCBcInNob2dpYy5zdmdcIiwgXCJTaG9naU1hcGxlLnBuZ1wiLCAnU2hvZ2lHcmF5VGV4dHVyZS5wbmcnLCBcIlNob2dpU3BhY2UxLnN2Z1wiLCBcImRvYnV0c3UucG5nXCIsIFwiU2hvZ2lPYWsucG5nXCJdIH0sXG4gICAgc2hvZ2k3eDc6IHsgZGltZW5zaW9uczogeyB3aWR0aDogNywgaGVpZ2h0OiA3IH0sIGNnOiBcImNnLTQ0OC01MTZcIiwgYm9hcmRDU1M6IFtcIlRvcmlQbGFpbi5zdmdcIiwgXCJUb3JpV29vZC5zdmdcIiwgXCJUb3JpRGF5U2t5LnN2Z1wiLCBcIlRvcmlOaWdodFNreS5zdmdcIl0gfSxcbiAgICBzaG9naTV4NTogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA1LCBoZWlnaHQ6IDUgfSwgY2c6IFwiY2ctMjYwXCIsIGJvYXJkQ1NTOiBbXCJtaW5pc2hvZ2kuc3ZnXCIsIFwiTWluaWJvYXJkV29vZDEucG5nXCIsIFwiTWluaWJvYXJkV29vZDIucG5nXCIsIFwiTWluaXNob2dpRG9idXRzdS5zdmdcIiwgXCJNaW5pc2hvZ2lEb2J1dHN1Mi5zdmdcIl0gfSxcbiAgICBzaG9naTV4NjogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA1LCBoZWlnaHQ6IDYgfSwgY2c6IFwiY2ctMjYwLTM2MFwiLCBib2FyZENTUzogW1wiZ29yb2dvcm8uc3ZnXCIsIFwiZ29yb2dvcm9ib2FyZC5zdmdcIiwgXCJnb3JvZ29ybzIuc3ZnXCIsIFwiR29yb2dvcm9Xb29kLnBuZ1wiXSB9LFxuICAgIHNob2dpM3g0OiB7IGRpbWVuc2lvbnM6IHsgd2lkdGg6IDMsIGhlaWdodDogNCB9LCBjZzogXCJjZy0xNTZcIiwgYm9hcmRDU1M6IFtcImRvdWJ1dHN1Ym9hcmQuc3ZnXCIsIFwiZG9idXRzdTN4NC5zdmdcIl0gfSxcbiAgICB4aWFuZ3FpOXgxMDogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA5LCBoZWlnaHQ6IDEwIH0sIGNnOiBcImNnLTU3Ni02NDBcIiwgYm9hcmRDU1M6IFtcInhpYW5ncWkuc3ZnXCIsIFwieGlhbmdxaWMuc3ZnXCIsIFwieGlhbmdxaUNUZXh0dXJlLnBuZ1wiLCBcInhpYW5ncWlQYXBlci5wbmdcIiwgXCJ4aWFuZ3FpV29vZC5wbmdcIiwgXCJ4aWFuZ3FpRGFyay5zdmdcIiwgXCJ4aWFuZ3FpV2lraW1lZGlhLnN2Z1wiLCBcInhpYW5ncWlMaWdodFdvb2QucG5nXCIsIFwieGlhbmdxaVNhbmQuc3ZnXCJdIH0sXG4gICAgeGlhbmdxaTd4NzogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA3LCBoZWlnaHQ6IDcgfSwgY2c6IFwiY2ctNDQ4XCIsIGJvYXJkQ1NTOiBbXCJtaW5peGlhbmdxaS5zdmdcIiwgXCJtaW5peGlhbmdxaXcucG5nXCIsIFwibWluaXhxbGcuc3ZnXCJdIH0sXG4gICAgamFuZ2dpOXgxMDogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA5LCBoZWlnaHQ6IDEwIH0sIGNnOiBcImNnLTU3Ni02NDBcIiwgYm9hcmRDU1M6IFtcIkphbmdnaUJyb3duLnN2Z1wiLCBcIkphbmdnaVBhcGVyLnBuZ1wiLCBcIkphbmdnaVdvb2QucG5nXCIsIFwiSmFuZ2dpRGFyay5zdmdcIiwgXCJKYW5nZ2lXb29kRGFyay5zdmdcIiwgXCJKYW5nZ2lTdG9uZS5zdmdcIl0gfSxcbiAgICBzaG9ndW44eDg6IHsgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTUxMlwiLCBib2FyZENTUzogW1wiU2hvZ3VuUGxhaW4uc3ZnXCIsIFwiU2hvZ3VuTWFwbGUucG5nXCIsIFwiU2hvZ3VuTWFwbGUyLnBuZ1wiLCBcIlNob2d1bkJsdWUuc3ZnXCIsIFwiOHg4YnJvd24uc3ZnXCIsIFwiOHg4bWFwbGUuanBnXCJdIH0sXG4gICAgY2hhazl4OTp7IGRpbWVuc2lvbnM6IHsgd2lkdGg6IDksIGhlaWdodDogOSB9LCBjZzogXCJjZy01NDBcIiwgYm9hcmRDU1M6IFtcIlN0YW5kYXJkQ2hha0JvYXJkLnN2Z1wiLCBcIkNvbG9yZWRDaGFrQm9hcmQuc3ZnXCIsIFwiQ2hha0FydC5qcGdcIl0gfSxcbiAgICBjaGVubmlzN3g3OnsgZGltZW5zaW9uczogeyB3aWR0aDogNywgaGVpZ2h0OiA3IH0sIGNnOiBcImNnLTQ0OFwiLCBib2FyZENTUzogW1wiV2ltYmxlZG9uQm9hcmQuc3ZnXCIsIFwiRnJlbmNoT3BlbkJvYXJkLnN2Z1wiLCBcIlVTT3BlbkJvYXJkLnN2Z1wiXSB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFBJRUNFX0ZBTUlMSUVTOiBSZWNvcmQ8c3RyaW5nLCBQaWVjZUZhbWlseT4gPSB7XG4gICAgc3RhbmRhcmQ6IHsgcGllY2VDU1M6IFtcInN0YW5kYXJkXCIsIFwiZ3JlZW5cIiwgXCJhbHBoYVwiLCBcImNoZXNzX2thbmVvXCIsIFwic2FudGFcIiwgXCJtYWVzdHJvXCIsIFwiZHVicm92bnlcIiwgXCJkaXNndWlzZWRcIiwgXCJhdG9wZG93blwiXSB9LFxuICAgIGNhcGE6IHsgcGllY2VDU1M6IFtcImNhcGEwXCIsIFwiY2FwYTFcIiwgXCJjYXBhMlwiLCBcImNhcGEzXCIsIFwiY2FwYTRcIiwgXCJjYXBhNVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHNlaXJhd2FuOiB7IHBpZWNlQ1NTOiBbXCJzZWlyMVwiLCBcInNlaXIwXCIsIFwic2VpcjJcIiwgXCJzZWlyM1wiLCBcInNlaXI0XCIsIFwic2VpcjVcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBtYWtydWs6IHsgcGllY2VDU1M6IFtcIm1ha3J1a3diXCIsIFwibWFrcnVrd3JcIiwgXCJtYWtydWtcIiwgXCJtYWtydWtzXCIsIFwibWFrcnVraVwiLCBcIm1ha3J1a2NcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBzaXR0dXlpbjogeyBwaWVjZUNTUzogW1wic2l0dHV5aW5zXCIsIFwic2l0dHV5aW5rYWdyXCIsIFwic2l0dHV5aW5rYWJyXCIsIFwic2l0dHV5aW5tXCIsIFwic2l0dHV5aW5pXCIsIFwic2l0dHV5aW5jYlwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIGFzZWFuOiB7IHBpZWNlQ1NTOiBbXCJhc2VhbmlcIiwgXCJhc2Vhbm1cIiwgXCJhc2VhbmNcIiwgXCJhc2VhbnNcIiwgXCJhc2VhbmNiXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgc2hvZ2k6IHsgcGllY2VDU1M6IFtcInNob2dpa1wiLCBcInNob2dpXCIsIFwic2hvZ2l3XCIsIFwic2hvZ2lwXCIsIFwic2hvZ2ltXCIsIFwic2hvZ2lwM2RcIiwgXCJzaG9naWt3M2RcIiwgXCJzaG9naWRcIiwgXCJzaG9naWltXCIsIFwic2hvZ2lid1wiLCBcInBvcnRrXCIsIFwicG9ydGlcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBreW90bzogeyBwaWVjZUNTUzogW1wia3lvdG9cIiwgXCJreW90b2tcIiwgXCJreW90b2tzXCIsIFwia3lvdG9pXCIsIFwia3lvdG9kXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgZG9idXRzdTogeyBwaWVjZUNTUzogW1wiZG9idXRzdVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHRvcmk6IHsgcGllY2VDU1M6IFtcInRvcmlpXCIsIFwidG9yaWtcIiwgXCJ0b3JpbVwiLCBcInBvcnRpXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgeGlhbmdxaTogeyBwaWVjZUNTUzogW1wieGlhbmdxaTJkXCIsIFwieGlhbmdxaTJkaVwiLCBcInhpYW5ncWlcIiwgXCJ4aWFuZ3FpY3QzXCIsIFwieGlhbmdxaWhuelwiLCBcInhpYW5ncWljdDJcIiwgXCJ4aWFuZ3FpaG56d1wiLCBcInhpYW5ncWljdDJ3XCIsIFwieGlhbmdxaXdpa2ltXCIsIFwieGlhbmdxaUthXCIsIFwieGlhbmdxaXR0eHFobnpcIiwgXCJ4aWFuZ3FpdHR4cWludGxcIiwgXCJkaXNndWlzZWRcIiwgXCJldXJvXCJdIH0sXG4gICAgamFuZ2dpOiB7IHBpZWNlQ1NTOiBbXCJqYW5nZ2loYlwiLCBcImphbmdnaWhnXCIsIFwiamFuZ2dpaWtha1wiLCBcImphbmdnaWlrYXdcIiwgXCJqYW5nZ2lrYWtcIiwgXCJqYW5nZ2lrYXdcIiwgXCJqYW5nZ2lpYlwiLCBcImphbmdnaWlnXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgc2hha286IHsgcGllY2VDU1M6IFtcInNoYWtvMFwiLCBcInNoYWtvMVwiLCBcInNoYWtvMlwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHNob2d1bjogeyBwaWVjZUNTUzogW1wic2hvZ3VuMFwiLCBcInNob2d1bjFcIiwgXCJzaG9ndW4yXCIsIFwic2hvZ3VuM1wiLCBcInNob2d1bjRcIiwgXCJzaG9ndW41XCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgb3JkYTogeyBwaWVjZUNTUzogW1wib3JkYTBcIiwgXCJvcmRhMVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHN5bm9jaGVzczogeyBwaWVjZUNTUzogW1wic3lub2NoZXNzMFwiLCBcInN5bm9jaGVzczFcIiwgXCJzeW5vY2hlc3MyXCIsIFwic3lub2NoZXNzM1wiLCBcInN5bm9jaGVzczRcIiwgXCJzeW5vY2hlc3M1XCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgaG9wcGVsOiB7IHBpZWNlQ1NTOiBbXCJob3BwZWwwXCIsIFwiaG9wcGVsMVwiLCBcImhvcHBlbDJcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBzaGlub2JpOiB7IHBpZWNlQ1NTOiBbXCJzaGlub2JpMFwiLCBcInNoaW5vYmkxXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgZW1waXJlOiB7IHBpZWNlQ1NTOiBbXCJlbXBpcmUwXCIsIFwiZW1waXJlMVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIG9yZGFtaXJyb3I6IHsgcGllY2VDU1M6IFtcIm9yZGFtaXJyb3IwXCIsIFwib3JkYW1pcnJvcjFcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBjaGFrOiB7IHBpZWNlQ1NTOiBbXCJjaGFrMFwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIGNoZW5uaXM6IHsgcGllY2VDU1M6IFtcImNoZW5uaXMwXCIsIFwiY2hlbm5pczFcIiwgXCJjaGVubmlzMlwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHNwYXJ0YW46IHsgcGllY2VDU1M6IFtcInNwYXJ0YW4wXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhbnQge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSBfZGlzcGxheU5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSBkaXNwbGF5TmFtZTogKGNoZXNzOTYwPzogYm9vbGVhbikgPT4gc3RyaW5nO1xuICAgIHJlYWRvbmx5IF90b29sdGlwOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdG9vbHRpcDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNoZXNzOTYwOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IF9pY29uOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgX2ljb245NjA6IHN0cmluZztcbiAgICByZWFkb25seSBpY29uOiAoY2hlc3M5NjA/OiBib29sZWFuKSA9PiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc3RhcnRGZW46IHN0cmluZztcbiAgICByZWFkb25seSBib2FyZEZhbWlseToga2V5b2YgdHlwZW9mIEJPQVJEX0ZBTUlMSUVTO1xuICAgIHJlYWRvbmx5IGJvYXJkOiBCb2FyZEZhbWlseTtcbiAgICByZWFkb25seSBwaWVjZUZhbWlseToga2V5b2YgdHlwZW9mIFBJRUNFX0ZBTUlMSUVTO1xuICAgIHJlYWRvbmx5IHBpZWNlOiBQaWVjZUZhbWlseTtcbiAgICByZWFkb25seSBjb2xvcnM6IHtcbiAgICAgICAgcmVhZG9ubHkgZmlyc3Q6IENvbG9yTmFtZTtcbiAgICAgICAgcmVhZG9ubHkgc2Vjb25kOiBDb2xvck5hbWU7XG4gICAgfVxuICAgIHJlYWRvbmx5IHBpZWNlUm93OiBSZWNvcmQ8Y2cuQ29sb3IsIGNnLlJvbGVbXT47XG4gICAgcmVhZG9ubHkga2luZ1JvbGVzOiBjZy5Sb2xlW107XG4gICAgcmVhZG9ubHkgcG9ja2V0Pzoge1xuICAgICAgICByZWFkb25seSByb2xlczogUmVjb3JkPGNnLkNvbG9yLCBjZy5Sb2xlW10+O1xuICAgICAgICByZWFkb25seSBjYXB0dXJlVG9IYW5kOiBib29sZWFuO1xuICAgIH07XG4gICAgcmVhZG9ubHkgcHJvbW90aW9uOiB7XG4gICAgICAgIHJlYWRvbmx5IHR5cGU6IFByb21vdGlvblR5cGU7XG4gICAgICAgIHJlYWRvbmx5IG9yZGVyOiBQcm9tb3Rpb25TdWZmaXhbXTtcbiAgICAgICAgcmVhZG9ubHkgcm9sZXM6IGNnLlJvbGVbXTtcbiAgICAgICAgcmVhZG9ubHkgc3RyaWN0Pzoge1xuICAgICAgICAgICAgcmVhZG9ubHkgaXNQcm9tb3RlZDogKHBpZWNlOiBjZy5QaWVjZSwgcG9zOiBjZy5Qb3MpID0+IGJvb2xlYW47XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRvbmx5IGF1dG9Qcm9tb3RlYWJsZTogYm9vbGVhbjtcbiAgICB9O1xuICAgIHJlYWRvbmx5IHJ1bGVzOiB7XG4gICAgICAgIHJlYWRvbmx5IGRlZmF1bHRUaW1lQ29udHJvbDogVGltZUNvbnRyb2xUeXBlO1xuICAgICAgICByZWFkb25seSBlblBhc3NhbnQ6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IGdhdGU6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IGR1Y2s6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IHBhc3M6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IHNldHVwOiBib29sZWFuO1xuICAgIH07XG4gICAgcmVhZG9ubHkgbWF0ZXJpYWw6IHtcbiAgICAgICAgcmVhZG9ubHkgc2hvd0RpZmY6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IGluaXRpYWxEaWZmOiBNYXRlcmlhbERpZmY7XG4gICAgICAgIHJlYWRvbmx5IGVxdWl2YWxlbmNlczogRXF1aXZhbGVuY2U7XG4gICAgfTtcbiAgICByZWFkb25seSB1aToge1xuICAgICAgICByZWFkb25seSBjb3VudGluZz86IENvdW50aW5nVHlwZTtcbiAgICAgICAgcmVhZG9ubHkgbWF0ZXJpYWxQb2ludD86IE1hdGVyaWFsUG9pbnRUeXBlO1xuICAgICAgICByZWFkb25seSBzaG93UHJvbW90ZWQ6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IHBpZWNlU291bmQ6IFBpZWNlU291bmRUeXBlO1xuICAgICAgICByZWFkb25seSBib2FyZE1hcms6IEJvYXJkTWFya1R5cGUgfCAnJztcbiAgICB9O1xuICAgIHJlYWRvbmx5IGFsdGVybmF0ZVN0YXJ0PzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZnVuY3Rpb24gdmFyaWFudChjb25maWc6IFZhcmlhbnRDb25maWcpOiBWYXJpYW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBjb25maWcubmFtZSxcbiAgICAgICAgX2Rpc3BsYXlOYW1lOiBjb25maWcuZGlzcGxheU5hbWUgPz8gY29uZmlnLm5hbWUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbiAoY2hlc3M5NjAgPSBmYWxzZSkgeyByZXR1cm4gXyh0aGlzLl9kaXNwbGF5TmFtZSkudG9VcHBlckNhc2UoKSArIChjaGVzczk2MCA/ICc5NjAnIDogJycpOyB9LFxuICAgICAgICBfdG9vbHRpcDogY29uZmlnLnRvb2x0aXAsXG4gICAgICAgIGdldCB0b29sdGlwKCkgeyByZXR1cm4gXyh0aGlzLl90b29sdGlwKSB9LFxuICAgICAgICBjaGVzczk2MDogISFjb25maWcuY2hlc3M5NjAsXG4gICAgICAgIF9pY29uOiBjb25maWcuaWNvbixcbiAgICAgICAgX2ljb245NjA6IGNvbmZpZy5pY29uOTYwID8/IGNvbmZpZy5pY29uLFxuICAgICAgICBpY29uOiBmdW5jdGlvbiAoY2hlc3M5NjAgPSBmYWxzZSkgeyByZXR1cm4gY2hlc3M5NjAgPyB0aGlzLl9pY29uOTYwIDogdGhpcy5faWNvbjsgfSxcbiAgICAgICAgc3RhcnRGZW46IGNvbmZpZy5zdGFydEZlbixcbiAgICAgICAgYm9hcmRGYW1pbHk6IGNvbmZpZy5ib2FyZEZhbWlseSxcbiAgICAgICAgYm9hcmQ6IEJPQVJEX0ZBTUlMSUVTW2NvbmZpZy5ib2FyZEZhbWlseV0sXG4gICAgICAgIHBpZWNlRmFtaWx5OiBjb25maWcucGllY2VGYW1pbHksXG4gICAgICAgIHBpZWNlOiBQSUVDRV9GQU1JTElFU1tjb25maWcucGllY2VGYW1pbHldLFxuICAgICAgICBjb2xvcnM6IGNvbmZpZy5jb2xvcnMgPz8geyBmaXJzdDogJ1doaXRlJywgc2Vjb25kOiAnQmxhY2snIH0sXG4gICAgICAgIHBpZWNlUm93OiBBcnJheS5pc0FycmF5KGNvbmZpZy5waWVjZVJvdykgPyB7XG4gICAgICAgICAgICB3aGl0ZTogY29uZmlnLnBpZWNlUm93Lm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgICAgICBibGFjazogY29uZmlnLnBpZWNlUm93Lm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICB3aGl0ZTogY29uZmlnLnBpZWNlUm93LndoaXRlLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgICAgICBibGFjazogY29uZmlnLnBpZWNlUm93LmJsYWNrLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgIH0sXG4gICAgICAgIGtpbmdSb2xlczogKGNvbmZpZy5raW5nUm9sZXMgPz8gWydrJ10pLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgIHBvY2tldDogY29uZmlnLnBvY2tldCA/IHtcbiAgICAgICAgICAgIHJvbGVzOiBBcnJheS5pc0FycmF5KGNvbmZpZy5wb2NrZXQucm9sZXMpID8ge1xuICAgICAgICAgICAgICAgIHdoaXRlOiBjb25maWcucG9ja2V0LnJvbGVzLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgICAgICAgICAgYmxhY2s6IGNvbmZpZy5wb2NrZXQucm9sZXMubWFwKHV0aWwucm9sZU9mKSxcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgd2hpdGU6IGNvbmZpZy5wb2NrZXQucm9sZXMud2hpdGUubWFwKHV0aWwucm9sZU9mKSxcbiAgICAgICAgICAgICAgICBibGFjazogY29uZmlnLnBvY2tldC5yb2xlcy5ibGFjay5tYXAodXRpbC5yb2xlT2YpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhcHR1cmVUb0hhbmQ6IGNvbmZpZy5wb2NrZXQuY2FwdHVyZVRvSGFuZCxcbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvbW90aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiBjb25maWcucHJvbW90aW9uPy50eXBlID8/ICdyZWd1bGFyJyxcbiAgICAgICAgICAgIG9yZGVyOiBjb25maWcucHJvbW90aW9uPy5vcmRlciA/PyAoY29uZmlnLnByb21vdGlvbj8udHlwZSA9PT0gJ3Nob2dpJyA/IFsnKycsICcnXSA6IFsncScsICdjJywgJ2UnLCAnYScsICdoJywgJ24nLCAncicsICdiJywgJ3AnXSksXG4gICAgICAgICAgICByb2xlczogKGNvbmZpZy5wcm9tb3Rpb24/LnJvbGVzID8/IFsncCddKS5tYXAodXRpbC5yb2xlT2YpLFxuICAgICAgICAgICAgc3RyaWN0OiBjb25maWcucHJvbW90aW9uPy5zdHJpY3QsXG4gICAgICAgICAgICBnZXQgYXV0b1Byb21vdGVhYmxlKCkgeyByZXR1cm4gdGhpcy5vcmRlci5sZW5ndGggPiAyIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICBkZWZhdWx0VGltZUNvbnRyb2w6IGNvbmZpZy5ydWxlcz8uZGVmYXVsdFRpbWVDb250cm9sID8/ICdpbmNyZW1lbnRhbCcsXG4gICAgICAgICAgICBlblBhc3NhbnQ6ICEhY29uZmlnLnJ1bGVzPy5lblBhc3NhbnQsXG4gICAgICAgICAgICBnYXRlOiAhIWNvbmZpZy5ydWxlcz8uZ2F0ZSxcbiAgICAgICAgICAgIGR1Y2s6ICEhY29uZmlnLnJ1bGVzPy5kdWNrLFxuICAgICAgICAgICAgcGFzczogISFjb25maWcucnVsZXM/LnBhc3MsXG4gICAgICAgICAgICBzZXR1cDogISFjb25maWcucnVsZXM/LnNldHVwLFxuICAgICAgICB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgc2hvd0RpZmY6ICFjb25maWcucG9ja2V0Py5jYXB0dXJlVG9IYW5kLFxuICAgICAgICAgICAgaW5pdGlhbERpZmY6IGNhbGN1bGF0ZURpZmYoY29uZmlnLnN0YXJ0RmVuLCBCT0FSRF9GQU1JTElFU1tjb25maWcuYm9hcmRGYW1pbHldLmRpbWVuc2lvbnMsIGNvbmZpZy5tYXRlcmlhbD8uZXF1aXZhbGVuY2VzID8/IHt9LCAhIWNvbmZpZy5wb2NrZXQ/LmNhcHR1cmVUb0hhbmQpLFxuICAgICAgICAgICAgZXF1aXZhbGVuY2VzOiBjb25maWcubWF0ZXJpYWw/LmVxdWl2YWxlbmNlcyA/PyB7fSxcbiAgICAgICAgfSxcbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIGNvdW50aW5nOiBjb25maWcudWk/LmNvdW50aW5nLFxuICAgICAgICAgICAgbWF0ZXJpYWxQb2ludDogY29uZmlnLnVpPy5tYXRlcmlhbFBvaW50LFxuICAgICAgICAgICAgc2hvd1Byb21vdGVkOiBjb25maWcudWk/LnNob3dQcm9tb3RlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIHBpZWNlU291bmQ6IGNvbmZpZy51aT8ucGllY2VTb3VuZCA/PyAncmVndWxhcicsXG4gICAgICAgICAgICBib2FyZE1hcms6IGNvbmZpZy51aT8uYm9hcmRNYXJrID8/ICcnLFxuICAgICAgICB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDogY29uZmlnLmFsdGVybmF0ZVN0YXJ0LFxuICAgIH07XG59XG5cbmludGVyZmFjZSBWYXJpYW50Q29uZmlnIHtcbiAgICAvLyBOYW1lIGFzIGRlZmluZWQgaW4gRmFpcnktU3RvY2tmaXNoXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8vIERpc3BsYXkgbmFtZSBmb3IgdXNlIG9uIHRoZSB3ZWJzaXRlIChkZWZhdWx0OiBzYW1lIGFzIG5hbWUpXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgLy8gVG9vbHRpcCBkaXNwbGF5ZWQgd2hlbiB2YXJpYW50IG5hbWUgaXMgaG92ZXJlZFxuICAgIHRvb2x0aXA6IHN0cmluZztcbiAgICAvLyBTdGFydCBGRU4gZm9yIHVzZSBpbiBzb21lIGNsaWVudC1zaWRlIGNhbGN1bGF0aW9uc1xuICAgIHN0YXJ0RmVuOiBzdHJpbmc7XG4gICAgLy8gV2hldGhlciBpdCBpcyBwb3NzaWJsZSB0byBwbGF5IGEgcmFuZG9taXplZCBzdGFydGluZyBwb3NpdG9uIChkZWZhdWx0OiBmYWxzZSlcbiAgICBjaGVzczk2MD86IGJvb2xlYW47XG4gICAgLy8gSWNvbiBsZXR0ZXIgaW4gdGhlIHNpdGUncyBmb250XG4gICAgaWNvbjogc3RyaW5nO1xuICAgIC8vIEljb24gb2YgdGhlIDk2MCB2ZXJzaW9uIChkZWZhdWx0OiBzYW1lIGFzIGljb24pXG4gICAgaWNvbjk2MD86IHN0cmluZztcbiAgICAvLyBCb2FyZCBhcHBlYXJhbmNlXG4gICAgYm9hcmRGYW1pbHk6IGtleW9mIHR5cGVvZiBCT0FSRF9GQU1JTElFUztcbiAgICAvLyBQaWVjZSBhcHBlYXJhbmNlXG4gICAgcGllY2VGYW1pbHk6IGtleW9mIHR5cGVvZiBQSUVDRV9GQU1JTElFUztcbiAgICAvLyBDb2xvciBuYW1lcyBvZiBlYWNoIHNpZGUgZm9yIGFjY3VyYXRlIGNvbG9yIHJlcHJlc2VudGF0aW9uXG4gICAgY29sb3JzPzogeyAgICAgICAgICAgICBcbiAgICAgICAgLy8gKGRlZmF1bHQ6IFdoaXRlKVxuICAgICAgICBmaXJzdDogQ29sb3JOYW1lO1xuICAgICAgICAvLyAoZGVmYXVsdDogQmxhY2spXG4gICAgICAgIHNlY29uZDogQ29sb3JOYW1lO1xuICAgIH1cbiAgICAvLyBQaWVjZXMgb24gdGhlIGVkaXRvcidzIHBpZWNlIHJvd1xuICAgIC8vIFVzZSB0aGUgcmVjb3JkIHZlcnNpb24gaWYgdGhlIHBpZWNlcyBvZiBlYWNoIHNpZGUgYXJlIGRpZmZlcmVudFxuICAgIHBpZWNlUm93OiBjZy5MZXR0ZXJbXSB8IFJlY29yZDxjZy5Db2xvciwgY2cuTGV0dGVyW10+O1xuICAgIC8vIFBpZWNlcyBjb25zaWRlcmVkIGtpbmcgZm9yIGNoZWNrIG1hcmtpbmcgKGRlZmF1bHQ6IFsnayddKVxuICAgIGtpbmdSb2xlcz86IGNnLkxldHRlcltdO1xuICAgIHBvY2tldD86IHtcbiAgICAgICAgLy8gUGllY2VzIGluIHRoZSBwb2NrZXRcbiAgICAgICAgLy8gVXNlIHRoZSByZWNvcmQgdmVyc2lvbiBpZiB0aGUgcGllY2VzIG9mIGVhY2ggc2lkZSBhcmUgZGlmZmVyZW50XG4gICAgICAgIHJvbGVzOiBjZy5MZXR0ZXJbXSB8IFJlY29yZDxjZy5Db2xvciwgY2cuTGV0dGVyW10+O1xuICAgICAgICAvLyBXaGV0aGVyIGNhcHR1cmVkIHBpZWNlcyBnbyB0byB0aGUgcG9ja2V0IChGYWlyeSdzIHRlcm1pbm9sb2d5KVxuICAgICAgICBjYXB0dXJlVG9IYW5kOiBib29sZWFuO1xuICAgIH07XG4gICAgcHJvbW90aW9uPzoge1xuICAgICAgICAvLyBQcm9tb3Rpb24gc3R5bGVcbiAgICAgICAgLy8gcmVndWxhcjogKGRlZmF1bHQpIFBhd25zIHByb21vdGUgdG8gb25lIG9yIG1vcmUgcGllY2VzIChsaWtlIGNoZXNzKVxuICAgICAgICAvLyBzaG9naTogTXVsdGlwbGUgcGllY2VzIHByb21vdGUgdG8gYW5vdGhlciBwaWVjZSBjb3JyZXNwb25kaW5nIHRvIGl0IChsaWtlIHNob2dpKVxuICAgICAgICB0eXBlOiBQcm9tb3Rpb25UeXBlO1xuICAgICAgICAvLyBPcmRlciBvZiBwcm9tb3Rpb24gY2hvaWNlcyB0byBkaXNwbGF5LCB0b3AgY2hvaWNlIHdpbGwgYmUgY2hvc2VuIGZvciBhdXRvLXByb21vdGVcbiAgICAgICAgLy8gKGRlZmF1bHQ6IFtcInFcIiwgXCJjXCIsIFwiZVwiLCBcImFcIiwgXCJoXCIsIFwiblwiLCBcInJcIiwgXCJiXCIsIFwicFwiXSBmb3IgcmVndWxhcilcbiAgICAgICAgLy8gKGRlZmF1bHQ6IFtcIitcIiwgXCJcIl0gZm9yIHNob2dpKVxuICAgICAgICBvcmRlcj86IFByb21vdGlvblN1ZmZpeFtdO1xuICAgICAgICAvLyBQaWVjZXMgdGhhdCBjYW4gcHJvbW90ZSAoZGVmYXVsdDogWydwJ10pXG4gICAgICAgIHJvbGVzPzogY2cuTGV0dGVyW107XG4gICAgICAgIC8vIFdoZXRoZXIgYSBwaWVjZSdzIHByb21vdGlvbiBzdGF0ZSBzdHJpY3RseSBkZXBlbmRzIG9uIGl0cyBzcXVhcmUgKGRlZmF1bHQ6IHVuZGVmaW5lZClcbiAgICAgICAgc3RyaWN0Pzoge1xuICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGFuZCBvbmx5IGlmIHRoZSBnaXZlbiBwaWVjZSB3b3VsZCBiZSBwcm9tb3RlZCBvbiB0aGUgZ2l2ZW4gc3F1YXJlXG4gICAgICAgICAgICBpc1Byb21vdGVkOiAocGllY2U6IGNnLlBpZWNlLCBwb3M6IGNnLlBvcykgPT4gYm9vbGVhbjtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8vIE1pc2NlbGxhbmVvdXMgcnVsZXMgdXNlZnVsIGZvciBjbGllbnQtc2lkZSBwcm9jZXNzaW5nXG4gICAgLy8gKGRlZmF1bHQ6IGZhbHNlKVxuICAgIHJ1bGVzPzoge1xuICAgICAgICAvLyBEZWZhdWx0IHRpbWUgY29udHJvbCAoZGVmYXVsdDogaW5jcmVtZW50YWwpXG4gICAgICAgIGRlZmF1bHRUaW1lQ29udHJvbD86IFRpbWVDb250cm9sVHlwZTtcbiAgICAgICAgLy8gQ2hlc3MncyBlbiBwYXNzYW50XG4gICAgICAgIGVuUGFzc2FudD86IGJvb2xlYW47XG4gICAgICAgIC8vIFMtQ2hlc3MgZ2F0aW5nXG4gICAgICAgIGdhdGU/OiBib29sZWFuO1xuICAgICAgICAvLyBEdWNrIENoZXNzIG1vdmluZ1xuICAgICAgICBkdWNrPzogYm9vbGVhbjtcbiAgICAgICAgLy8gUGFzc2luZyB3aXRob3V0IG1vdmluZyBhIHBpZWNlIG9uIGJvYXJkXG4gICAgICAgIHBhc3M/OiBib29sZWFuO1xuICAgICAgICAvLyBTZXR1cCBwaGFzZVxuICAgICAgICBzZXR1cD86IGJvb2xlYW47XG4gICAgfTtcbiAgICAvLyBNYXRlcmlhbCBlcXVpdmFsZW5jZXMgZm9yIG1hdGVyaWFsIGRpZmYgY2FsY3VsYXRpb25cbiAgICAvLyBleC4geyAncGwtcGllY2UnOiAnci1waWVjZScgfSBtZWFucyB0aGUgXCIrTFwiIHBpZWNlIGlzIHRyZWF0ZWQgYXMgdGhlIFwiUlwiIHBpZWNlIGZvciBtYXRlcmlhbCBkaWZmXG4gICAgbWF0ZXJpYWw/OiB7XG4gICAgICAgIGVxdWl2YWxlbmNlcz86IEVxdWl2YWxlbmNlO1xuICAgIH0sXG4gICAgLy8gVUkgZGlzcGxheSBpbmZvXG4gICAgdWk/OiB7XG4gICAgICAgIC8vIFNFQSB2YXJpYW50cycgY291bnRpbmcgKGRlZmF1bHQ6IHVuZGVmaW5lZClcbiAgICAgICAgY291bnRpbmc/OiBDb3VudGluZ1R5cGU7XG4gICAgICAgIC8vIE1hdGVyaWFsIHBvaW50IChkZWZhdWx0OiB1bmRlZmluZWQpXG4gICAgICAgIG1hdGVyaWFsUG9pbnQ/OiBNYXRlcmlhbFBvaW50VHlwZTtcbiAgICAgICAgLy8gUHJvbW90ZWQgcGllY2VzIG5lZWQgdG8gYmUgcmVwcmVzZW50ZWQgaW4gdGhlIEZFTiBldmVuIGlmIGl0J3Mgbm90IGEgZHJvcCB2YXJpYW50IChkZWZhdWx0OiBmYWxzZSlcbiAgICAgICAgc2hvd1Byb21vdGVkPzogYm9vbGVhbjtcbiAgICAgICAgLy8gU291bmQgb2YgdGhlIHBpZWNlIG1vdmluZyAoZGVmYXVsdDogcmVndWxhcilcbiAgICAgICAgcGllY2VTb3VuZD86IFBpZWNlU291bmRUeXBlO1xuICAgICAgICAvLyBCb2FyZCBtYXJraW5nIGZvciBzcGVjaWFsIHNxdWFyZXMgKGRlZmF1bHQ6ICcnKVxuICAgICAgICBib2FyZE1hcms/OiBCb2FyZE1hcmtUeXBlO1xuICAgIH07XG4gICAgLy8gQWx0ZXJuYXRlIHN0YXJ0aW5nIHBvc2l0aW9ucywgaW5jbHVkaW5nIGhhbmRpY2Fwc1xuICAgIGFsdGVybmF0ZVN0YXJ0PzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGNvbnN0IFZBUklBTlRTOiBSZWNvcmQ8c3RyaW5nLCBWYXJpYW50PiA9IHtcbiAgICBjaGVzczogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiY2hlc3NcIiwgdG9vbHRpcDogXCJDaGVzcywgdW5tb2RpZmllZCwgYXMgaXQncyBwbGF5ZWQgYnkgRklERSBzdGFuZGFyZHMuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIk1cIiwgaWNvbjk2MDogXCJWXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN0YW5kYXJkXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDoge1xuICAgICAgICAgICAgJyc6IFwiXCIsXG4gICAgICAgICAgICAnUGF3bnNQdXNoZWQnOiBcInJuYnFrYm5yLzgvOC9wcHBwcHBwcC9QUFBQUFBQUC84LzgvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgICAgICAnUGF3bnNQYXNzZWQnOiBcInJuYnFrYm5yLzgvOC9QUFBQUFBQUC9wcHBwcHBwcC84LzgvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgICAgICAnVXBzaWRlRG93bic6IFwiUk5CS1FCTlIvUFBQUFBQUFAvOC84LzgvOC9wcHBwcHBwcC9ybmJrcWJuciB3IC0gLSAwIDFcIixcbiAgICAgICAgICAgICdUaGViYW4nOiBcIjFwNi8ycDNrbi8zcDJwcC80cHBwcC81cHBwLzgvUFBQUFBQUFAvUFBQUFBQS04gdyAtIC0gMCAxXCIsXG4gICAgICAgICAgICAnTm8gY2FzdGxlJzogJ3JuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyAtIC0gMCAxJ1xuICAgICAgICB9LFxuICAgIH0pLFxuXG4gICAgY3Jhenlob3VzZTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiY3Jhenlob3VzZVwiLCB0b29sdGlwOiBcIlRha2UgY2FwdHVyZWQgcGllY2VzIGFuZCBkcm9wIHRoZW0gYmFjayBvbiB0byB0aGUgYm9hcmQgYXMgeW91ciBvd24uXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlJbXSB3IEtRa3EgLSAwIDFcIixcbiAgICAgICAgY2hlc3M5NjA6IHRydWUsIGljb246IFwiK1wiLCBpY29uOTYwOiBcIiVcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQ4eDhcIiwgcGllY2VGYW1pbHk6IFwic3RhbmRhcmRcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7XG4gICAgICAgICAgICByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcInFcIl0sXG4gICAgICAgICAgICBjYXB0dXJlVG9IYW5kOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICAgICAgYWx0ZXJuYXRlU3RhcnQ6IHtcbiAgICAgICAgICAgICcnOiBcIlwiLFxuICAgICAgICAgICAgJ1Bhd25zUHVzaGVkJzogXCJybmJxa2Juci84LzgvcHBwcHBwcHAvUFBQUFBQUFAvOC84L1JOQlFLQk5SIHcgLSAtIDAgMVwiLFxuICAgICAgICAgICAgJ1Bhd25zUGFzc2VkJzogXCJybmJxa2Juci84LzgvUFBQUFBQUFAvcHBwcHBwcHAvOC84L1JOQlFLQk5SIHcgLSAtIDAgMVwiLFxuICAgICAgICAgICAgJ1Vwc2lkZURvd24nOiBcIlJOQlFLQk5SL1BQUFBQUFBQLzgvOC84LzgvcHBwcHBwcHAvcm5icWtibnIgdyAtIC0gMCAxXCIsXG4gICAgICAgICAgICAnVGhlYmFuJzogXCIxcDYvMnAza24vM3AycHAvNHBwcHAvNXBwcC84L1BQUFBQUFBQL1BQUFBQUEtOIHcgLSAtIDAgMVwiLFxuICAgICAgICAgICAgJ05vIGNhc3RsZSc6ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SIHcgLSAtIDAgMSdcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIHBsYWNlbWVudDogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwicGxhY2VtZW50XCIsIHRvb2x0aXA6IFwiQ2hvb3NlIHdoZXJlIHlvdXIgcGllY2VzIHN0YXJ0LlwiLFxuICAgICAgICBzdGFydEZlbjogXCI4L3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvOFtLUVJSQkJOTmtxcnJiYm5uXSB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJTXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN0YW5kYXJkXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wiblwiLCBcImJcIiwgXCJyXCIsIFwicVwiLCBcImtcIl0sIGNhcHR1cmVUb0hhbmQ6IGZhbHNlIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgYXRvbWljOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJhdG9taWNcIiwgdG9vbHRpcDogXCJQaWVjZXMgZXhwbG9kZSB1cG9uIGNhcHR1cmUuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIn5cIiwgaWNvbjk2MDogXCJcXFxcXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN0YW5kYXJkXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICB1aTogeyBwaWVjZVNvdW5kOiBcImF0b21pY1wiIH0sXG4gICAgfSksXG5cbiAgICBkdWNrOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJkdWNrXCIsIHRvb2x0aXA6IFwiVGhlIGR1Y2sgbXVzdCBiZSBtb3ZlZCB0byBhIG5ldyBzcXVhcmUgYWZ0ZXIgZXZlcnkgdHVybi5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0VcdUREODZcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQ4eDhcIiwgcGllY2VGYW1pbHk6IFwic3RhbmRhcmRcIixcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiLCBcIipcIl0sIGJsYWNrOiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0gfSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlLCBkdWNrOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBtYWtydWs6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcIm1ha3J1a1wiLCB0b29sdGlwOiBcIlRoYWkgQ2hlc3MuIEEgZ2FtZSBjbG9zZWx5IHJlc2VtYmxpbmcgdGhlIG9yaWdpbmFsIENoYXR1cmFuZ2EuIFNpbWlsYXIgdG8gQ2hlc3MgYnV0IHdpdGggYSBkaWZmZXJlbnQgcXVlZW4gYW5kIGJpc2hvcC5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5zbWtzbnIvOC9wcHBwcHBwcC84LzgvUFBQUFBQUFAvOC9STlNLTVNOUiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJRXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcIm1ha3J1azh4OFwiLCBwaWVjZUZhbWlseTogXCJtYWtydWtcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJzXCIsIFwibVwiLCBcIm5cIiwgXCJyXCIsIFwicFwiLCBcIm1+XCIgYXMgY2cuTGV0dGVyXSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwicmVndWxhclwiLCBvcmRlcjogW1wibVwiXSB9LFxuICAgICAgICB1aTogeyBjb3VudGluZzogXCJtYWtydWtcIiwgc2hvd1Byb21vdGVkOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBtYWtwb25nOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJtYWtwb25nXCIsIHRvb2x0aXA6IF8oXCJNYWtydWsgdmFyaWFudCB3aGVyZSBraW5ncyBjYW5ub3QgbW92ZSB0byBlc2NhcGUgb3V0IG9mIGNoZWNrLlwiKSxcbiAgICAgICAgc3RhcnRGZW46IFwicm5zbWtzbnIvOC9wcHBwcHBwcC84LzgvUFBQUFBQUFAvOC9STlNLTVNOUiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJPXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcIm1ha3J1azh4OFwiLCBwaWVjZUZhbWlseTogXCJtYWtydWtcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJzXCIsIFwibVwiLCBcIm5cIiwgXCJyXCIsIFwicFwiLCBcIm1+XCIgYXMgY2cuTGV0dGVyXSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwicmVndWxhclwiLCBvcmRlcjogW1wibVwiXSB9LFxuICAgICAgICB1aTogeyBjb3VudGluZzogXCJtYWtydWtcIiwgc2hvd1Byb21vdGVkOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBjYW1ib2RpYW46IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImNhbWJvZGlhblwiLCBkaXNwbGF5TmFtZTogXCJvdWsgY2hha3RyYW5nXCIsIHRvb2x0aXA6IFwiQ2FtYm9kaWFuIENoZXNzLiBNYWtydWsgd2l0aCBhIGZldyBhZGRpdGlvbmFsIG9wZW5pbmcgYWJpbGl0aWVzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybnNta3Nuci84L3BwcHBwcHBwLzgvOC9QUFBQUFBQUC84L1JOU0tNU05SIHcgREVkZSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIiFcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwibWFrcnVrOHg4XCIsIHBpZWNlRmFtaWx5OiBcIm1ha3J1a1wiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInNcIiwgXCJtXCIsIFwiblwiLCBcInJcIiwgXCJwXCIsIFwibX5cIiBhcyBjZy5MZXR0ZXJdLFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJyZWd1bGFyXCIsIG9yZGVyOiBbXCJtXCJdIH0sXG4gICAgICAgIHVpOiB7IGNvdW50aW5nOiBcIm1ha3J1a1wiLCBzaG93UHJvbW90ZWQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIHNpdHR1eWluOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzaXR0dXlpblwiLCB0b29sdGlwOiBcIkJ1cm1lc2UgQ2hlc3MuIFNpbWlsYXIgdG8gTWFrcnVrLCBidXQgcGllY2VzIGFyZSBwbGFjZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBtYXRjaC5cIixcbiAgICAgICAgc3RhcnRGZW46IFwiOC84LzRwcHBwL3BwcHA0LzRQUFBQL1BQUFA0LzgvOFtLRlJSU1NOTmtmcnJzc25uXSB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCI6XCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNpdHR1eWluOHg4XCIsIHBpZWNlRmFtaWx5OiBcInNpdHR1eWluXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJSZWRcIiwgc2Vjb25kOiBcIkJsYWNrXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJmXCIsIFwic1wiLCBcIm5cIiwgXCJyXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJyXCIsIFwiblwiLCBcInNcIiwgXCJmXCIsIFwia1wiXSwgY2FwdHVyZVRvSGFuZDogZmFsc2UgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwicmVndWxhclwiLCBvcmRlcjogW1wiZlwiXSB9LFxuICAgIH0pLFxuXG4gICAgYXNlYW46IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImFzZWFuXCIsIHRvb2x0aXA6IFwiTWFrcnVrIHVzaW5nIHRoZSBib2FyZC9waWVjZXMgZnJvbSBJbnRlcm5hdGlvbmFsIENoZXNzIGFzIHdlbGwgYXMgcGF3biBwcm9tb3Rpb24gcnVsZXMuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yLzgvcHBwcHBwcHAvOC84L1BQUFBQUFBQLzgvUk5CUUtCTlIgdyAtIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiXHUyNjdCXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcImFzZWFuXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcImJcIiwgXCJuXCIsIFwiclwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcInJcIiwgXCJuXCIsIFwiYlwiLCBcInFcIl0gfSxcbiAgICAgICAgdWk6IHsgY291bnRpbmc6IFwiYXNlYW5cIiB9LFxuICAgIH0pLFxuXG4gICAgc2hvZ2k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcInNob2dpXCIsIHRvb2x0aXA6IF8oXCJKYXBhbmVzZSBDaGVzcywgYW5kIHRoZSBzdGFuZGFyZCA5eDkgdmVyc2lvbiBwbGF5ZWQgdG9kYXkgd2l0aCBkcm9wcyBhbmQgcHJvbW90aW9ucy4gXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJsbnNna2dzbmwvMXI1YjEvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCJLXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNob2dpOXg5XCIsIHBpZWNlRmFtaWx5OiBcInNob2dpXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImdcIiwgXCJyXCIsIFwiYlwiLCBcInNcIiwgXCJuXCIsIFwibFwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiLCBcImdcIiwgXCJiXCIsIFwiclwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiLCBcInJcIiwgXCJiXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGRlZmF1bHRUaW1lQ29udHJvbDogXCJieW95b21pXCIgfSxcbiAgICAgICAgdWk6IHsgcGllY2VTb3VuZDogXCJzaG9naVwiIH0sXG4gICAgICAgIGFsdGVybmF0ZVN0YXJ0OiB7XG4gICAgICAgICAgICAnJzogJycsXG4gICAgICAgICAgICAnTGFuY2UgSEMnOiAnbG5zZ2tnc24xLzFyNWIxL3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICdCaXNob3AgSEMnOiAnbG5zZ2tnc25sLzFyNy9wcHBwcHBwcHAvOS85LzkvUFBQUFBQUFBQLzFCNVIxL0xOU0dLR1NOTFstXSBiIDAgMScsXG4gICAgICAgICAgICAnUm9vayBIQyc6ICdsbnNna2dzbmwvN2IxL3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICdSb29rK0xhbmNlIEhDJzogJ2xuc2drZ3NuMS83YjEvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzItUGllY2UgSEMnOiAnbG5zZ2tnc25sLzkvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzQtUGllY2UgSEMnOiAnMW5zZ2tnc24xLzkvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzYtUGllY2UgSEMnOiAnMnNna2dzMi85L3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICc4LVBpZWNlIEhDJzogJzNna2czLzkvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzktUGllY2UgSEMnOiAnM2drNC85L3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICcxMC1QaWVjZSBIQyc6ICc0azQvOS9wcHBwcHBwcHAvOS85LzkvUFBQUFBQUFBQLzFCNVIxL0xOU0dLR1NOTFstXSBiIDAgMSdcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIG1pbmlzaG9naTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwibWluaXNob2dpXCIsIHRvb2x0aXA6IFwiNXg1IFNob2dpIGZvciBtb3JlIGNvbXBhY3QgYW5kIGZhc3RlciBnYW1lcy4gVGhlcmUgYXJlIG5vIGtuaWdodHMgb3IgbGFuY2VzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJyYnNnay80cC81L1A0L0tHU0JSWy1dIHcgMCAxXCIsXG4gICAgICAgIGljb246IFwiNlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzaG9naTV4NVwiLCBwaWVjZUZhbWlseTogXCJzaG9naVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiQmxhY2tcIiwgc2Vjb25kOiBcIldoaXRlXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJnXCIsIFwiclwiLCBcImJcIiwgXCJzXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJwXCIsIFwic1wiLCBcImdcIiwgXCJiXCIsIFwiclwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcInNcIiwgXCJyXCIsIFwiYlwiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgIH0pLFxuXG4gICAga3lvdG9zaG9naTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwia3lvdG9zaG9naVwiLCBkaXNwbGF5TmFtZTogXCJreW90byBzaG9naVwiLCB0b29sdGlwOiBcIkEgd2lsZCBTaG9naSB2YXJpYW50IG9uIGEgNXg1IGJvYXJkIHdoZXJlIHBpZWNlcyBmbGlwIGludG8gYSBkaWZmZXJlbnQgcGllY2UgYWZ0ZXIgZWFjaCBtb3ZlLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJwK25rcytsLzUvNS81LytMU0srTlBbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCIpXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNob2dpNXg1XCIsIHBpZWNlRmFtaWx5OiBcImt5b3RvXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImxcIiwgXCJzXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgIH0pLFxuXG4gICAgZG9idXRzdTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZG9idXRzdVwiLCB0b29sdGlwOiBfKFwiM3g0IGdhbWUgd2l0aCBjdXRlIGFuaW1hbHMsIGRlc2lnbmVkIHRvIHRlYWNoIGNoaWxkcmVuIGhvdyB0byBwbGF5IFNob2dpLlwiKSxcbiAgICAgICAgc3RhcnRGZW46IFwiZ2xlLzFjMS8xQzEvRUxHWy1dIHcgMCAxXCIsXG4gICAgICAgIGljb246IFwiOFwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzaG9naTN4NFwiLCBwaWVjZUZhbWlseTogXCJkb2J1dHN1XCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wibFwiLCBcImdcIiwgXCJlXCIsIFwiY1wiXSxcbiAgICAgICAga2luZ1JvbGVzOiBbXCJsXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcImVcIiwgXCJnXCIsIFwiY1wiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wiY1wiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgIH0pLFxuXG4gICAgZ29yb2dvcm86IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImdvcm9nb3JvXCIsIHRvb2x0aXA6IFwiNXg2IFNob2dpIGRlc2lnbmVkIHRvIGludHJvZHVjZSB0YWN0aWNzIHdpdGggdGhlIGdlbmVyYWxzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJzZ2tncy81LzFwcHAxLzFQUFAxLzUvU0dLR1NbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0RcdURDMzFcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic2hvZ2k1eDZcIiwgcGllY2VGYW1pbHk6IFwic2hvZ2lcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIkJsYWNrXCIsIHNlY29uZDogXCJXaGl0ZVwiIH0sXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiZ1wiLCBcInNcIiwgXCJwXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcInBcIiwgXCJzXCIsIFwiZ1wiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcInNcIl0gfSxcbiAgICAgICAgcnVsZXM6IHsgZGVmYXVsdFRpbWVDb250cm9sOiBcImJ5b3lvbWlcIiB9LFxuICAgICAgICB1aTogeyBwaWVjZVNvdW5kOiBcInNob2dpXCIgfSxcbiAgICB9KSxcblxuICAgIGdvcm9nb3JvcGx1czogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ29yb2dvcm9wbHVzXCIsIGRpc3BsYXlOYW1lOiBcImdvcm9nb3JvK1wiLCB0b29sdGlwOiBcIjV4NiBTaG9naSBkZXNpZ25lZCB0byBpbnRyb2R1Y2UgdGFjdGljcyB3aXRoIHRoZSBnZW5lcmFscy5cIixcbiAgICAgICAgc3RhcnRGZW46IFwic2drZ3MvNS8xcHBwMS8xUFBQMS81L1NHS0dTW0xObG5dIHcgMCAxXCIsXG4gICAgICAgIGljb246IFwiXHVEODNEXHVEQzMxXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNob2dpNXg2XCIsIHBpZWNlRmFtaWx5OiBcInNob2dpXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImdcIiwgXCJzXCIsIFwiblwiLCBcImxcIiwgXCJwXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcInBcIiwgXCJsXCIsIFwiblwiLCBcInNcIiwgXCJnXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInNob2dpXCIsIHJvbGVzOiBbXCJwXCIsIFwic1wiLCBcIm5cIiwgXCJsXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGRlZmF1bHRUaW1lQ29udHJvbDogXCJieW95b21pXCIgfSxcbiAgICAgICAgdWk6IHsgcGllY2VTb3VuZDogXCJzaG9naVwiIH0sXG4gICAgICAgIGFsdGVybmF0ZVN0YXJ0OiB7XG4gICAgICAgICAgICAnR29yb2dvcm8gUGx1cyBOK0wnOiAnJyxcbiAgICAgICAgICAgICdPcmlnaW5hbCAoTm8gTitMKSc6ICdzZ2tncy81LzFwcHAxLzFQUFAxLzUvU0dLR1NbLV0gdyAwIDEnXG4gICAgICAgIH0sXG4gICAgfSksXG5cbiAgICB0b3Jpc2hvZ2k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcInRvcmlzaG9naVwiLCBkaXNwbGF5TmFtZTogXCJ0b3JpIHNob2dpXCIsIHRvb2x0aXA6IFwiQSBjb25mcm9udGF0aW9uYWwgN3g3IHZhcmlhbnQgd2l0aCB1bmlxdWUgcGllY2VzIGVhY2ggbmFtZWQgYWZ0ZXIgZGlmZmVyZW50IGJpcmRzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJycGNrY3BsLzNmMy9zc3Nzc3NzLzJzMVMyL1NTU1NTU1MvM0YzL0xQQ0tDUFJbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0RcdURDMjZcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic2hvZ2k3eDdcIiwgcGllY2VGYW1pbHk6IFwidG9yaVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiQmxhY2tcIiwgc2Vjb25kOiBcIldoaXRlXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJjXCIsIFwicFwiLCBcImxcIiwgXCJyXCIsIFwiZlwiLCBcInNcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wic1wiLCBcInBcIiwgXCJsXCIsIFwiclwiLCBcImNcIiwgXCJmXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInNob2dpXCIsIHJvbGVzOiBbXCJzXCIsIFwiZlwiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDoge1xuICAgICAgICAgICAgJyc6ICcnLFxuICAgICAgICAgICAgJ0xlZnQgUXVhaWwgSEMnOiAncnBja2NwMS8zZjMvc3Nzc3Nzcy8yczFTMi9TU1NTU1NTLzNGMy9MUENLQ1BSW10gYiAwIDEnLFxuICAgICAgICAgICAgJ0ZhbGNvbiBIQyc6ICdycGNrY3BsLzcvc3Nzc3Nzcy8yczFTMi9TU1NTU1NTLzNGMy9MUENLQ1BSW10gYiAwIDEnLFxuICAgICAgICAgICAgJ0ZhbGNvbiArIExlZnQgUXVhaWwgSEMnOiAncnBja2NwMS83L3Nzc3Nzc3MvMnMxUzIvU1NTU1NTUy8zRjMvTFBDS0NQUltdIGIgMCAxJyxcbiAgICAgICAgICAgICdGYWxjb24gKyBCb3RoIFF1YWlscyBIQyc6ICcxcGNrY3AxLzcvc3Nzc3Nzcy8yczFTMi9TU1NTU1NTLzNGMy9MUENLQ1BSW10gYiAwIDEnLFxuICAgICAgICB9LFxuICAgIH0pLFxuXG4gICAgeGlhbmdxaTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwieGlhbmdxaVwiLCB0b29sdGlwOiBcIkNoaW5lc2UgQ2hlc3MsIG9uZSBvZiB0aGUgb2xkZXN0IGFuZCBtb3N0IHBsYXllZCBib2FyZCBnYW1lcyBpbiB0aGUgd29ybGQuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYmFrYWJuci85LzFjNWMxL3AxcDFwMXAxcC85LzkvUDFQMVAxUDFQLzFDNUMxLzkvUk5CQUtBQk5SIHcgLSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcInxcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwieGlhbmdxaTl4MTBcIiwgcGllY2VGYW1pbHk6IFwieGlhbmdxaVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiUmVkXCIsIHNlY29uZDogXCJCbGFja1wiIH0sXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiYVwiLCBcImNcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJyZWd1bGFyXCIsIHJvbGVzOiBbXSB9LFxuICAgIH0pLFxuXG4gICAgbWFuY2h1OiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJtYW5jaHVcIiwgdG9vbHRpcDogXCJYaWFuZ3FpIHZhcmlhbnQgd2hlcmUgb25lIHNpZGUgaGFzIGEgY2hhcmlvdCB0aGF0IGNhbiBhbHNvIG1vdmUgYXMgYSBjYW5ub24gb3IgaG9yc2UuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYmFrYWJuci85LzFjNWMxL3AxcDFwMXAxcC85LzkvUDFQMVAxUDFQLzkvOS9NMUJBS0FCMiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJ7XCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInhpYW5ncWk5eDEwXCIsIHBpZWNlRmFtaWx5OiBcInhpYW5ncWlcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIlJlZFwiLCBzZWNvbmQ6IFwiQmxhY2tcIiB9LFxuICAgICAgICBwaWVjZVJvdzogeyB3aGl0ZTogW1wia1wiLCBcImFcIiwgXCJtXCIsIFwiYlwiLCBcInBcIl0sIGJsYWNrOiBbXCJrXCIsIFwiYVwiLCBcImNcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgcm9sZXM6IFtdIH0sXG4gICAgfSksXG5cbiAgICBqYW5nZ2k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImphbmdnaVwiLCB0b29sdGlwOiBcIktvcmVhbiBDaGVzcywgc2ltaWxhciB0byBYaWFuZ3FpIGJ1dCBwbGF5cyBtdWNoIGRpZmZlcmVudGx5LiBUb3VybmFtZW50IHJ1bGVzIGFyZSB1c2VkLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJhMWFibnIvNGs0LzFjNWMxL3AxcDFwMXAxcC85LzkvUDFQMVAxUDFQLzFDNUMxLzRLNC9STkJBMUFCTlIgdyAtIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiPVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJqYW5nZ2k5eDEwXCIsIHBpZWNlRmFtaWx5OiBcImphbmdnaVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiQmx1ZVwiLCBzZWNvbmQ6IFwiUmVkXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJhXCIsIFwiY1wiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgcm9sZXM6IFtdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGRlZmF1bHRUaW1lQ29udHJvbDogXCJieW95b21pXCIsIHBhc3M6IHRydWUsIHNldHVwOiB0cnVlIH0sXG4gICAgICAgIHVpOiB7IG1hdGVyaWFsUG9pbnQ6IFwiamFuZ2dpXCIgfSxcbiAgICB9KSxcblxuICAgIG1pbml4aWFuZ3FpOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJtaW5peGlhbmdxaVwiLCB0b29sdGlwOiBcIkNvbXBhY3QgdmVyc2lvbiBvZiBYaWFuZ3FpIHBsYXllZCBvbiBhIDd4NyBib2FyZCB3aXRob3V0IGEgcml2ZXIuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJjbmtuY3IvcDFwcHAxcC83LzcvNy9QMVBQUDFQL1JDTktOQ1IgdyAtIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiN1wiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJ4aWFuZ3FpN3g3XCIsIHBpZWNlRmFtaWx5OiBcInhpYW5ncWlcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIlJlZFwiLCBzZWNvbmQ6IFwiQmxhY2tcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImNcIiwgXCJyXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgcm9sZXM6IFtdIH0sXG4gICAgfSksXG5cbiAgICBjYXBhYmxhbmNhOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJjYXBhYmxhbmNhXCIsIHRvb2x0aXA6IFwiUGxheSB3aXRoIHRoZSBoeWJyaWQgcGllY2VzLCBhcmNoYmlzaG9wIChCK04pIGFuZCBjaGFuY2VsbG9yIChSK04pLCBvbiBhIDEweDggYm9hcmQuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYWJxa2JjbnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQUJRS0JDTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIlBcIiwgaWNvbjk2MDogXCIsXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkMTB4OFwiLCBwaWVjZUZhbWlseTogXCJjYXBhXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcImNcIiwgXCJhXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlIH0sXG4gICAgICAgIGFsdGVybmF0ZVN0YXJ0OiB7XG4gICAgICAgICAgICAnJzogJycsXG4gICAgICAgICAgICAnQmlyZCc6ICdybmJjcWthYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJDUUtBQk5SIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnQ2FycmVyYSc6ICdyY25icWtibmFyL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9SQ05CUUtCTkFSIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnQ29uc2VydmF0aXZlJzogJ2FybmJxa2JucmMvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL0FSTkJRS0JOUkMgdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdFbWJhc3N5JzogJ3JuYnFrY2FibnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQlFLQ0FCTlIgdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdHb3RoaWMnOiAncm5icWNrYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CUUNLQUJOUiB3IEtRa3EgLSAwIDEnLFxuICAgICAgICAgICAgJ1NjaG9vbGJvb2snOiAncnFuYmFrYm5jci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUlFOQkFLQk5DUiB3IEtRa3EgLSAwIDEnLFxuICAgICAgICB9LFxuICAgIH0pLFxuXG4gICAgY2FwYWhvdXNlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJjYXBhaG91c2VcIiwgdG9vbHRpcDogXyhcIkNhcGFibGFuY2Egd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJybmFicWtiY25yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkFCUUtCQ05SW10gdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIiZcIiwgaWNvbjk2MDogXCInXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkMTB4OFwiLCBwaWVjZUZhbWlseTogXCJjYXBhXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcImNcIiwgXCJhXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJwXCIsIFwiblwiLCBcImJcIiwgXCJyXCIsIFwiYVwiLCBcImNcIiwgXCJxXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDoge1xuICAgICAgICAgICAgJyc6ICcnLFxuICAgICAgICAgICAgJ0JpcmQnOiAncm5iY3FrYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CQ1FLQUJOUltdIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnQ2FycmVyYSc6ICdyY25icWtibmFyL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9SQ05CUUtCTkFSW10gdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdDb25zZXJ2YXRpdmUnOiAnYXJuYnFrYm5yYy9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvQVJOQlFLQk5SQ1tdIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnRW1iYXNzeSc6ICdybmJxa2NhYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRS0NBQk5SW10gdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdHb3RoaWMnOiAncm5icWNrYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CUUNLQUJOUltdIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnU2Nob29sYm9vayc6ICdycW5iYWtibmNyL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9SUU5CQUtCTkNSW10gdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIHNlaXJhd2FuOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzZWlyYXdhblwiLCBkaXNwbGF5TmFtZTogXCJzLWNoZXNzXCIsIHRvb2x0aXA6IFwiSHlicmlkIHBpZWNlcywgdGhlIGhhd2sgKEIrTikgYW5kIGVsZXBoYW50IChSK04pLCBjYW4gZW50ZXIgdGhlIGJvYXJkIGFmdGVyIG1vdmluZyBhIGJhY2sgcmFuayBwaWVjZS5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUltIRWhlXSB3IEtRQkNERkdrcWJjZGZnIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiTFwiLCAgY2hlc3M5NjA6IHRydWUsIGljb245NjA6IFwifVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJzZWlyYXdhblwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJlXCIsIFwiaFwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wiaFwiLCBcImVcIl0sIGNhcHR1cmVUb0hhbmQ6IGZhbHNlIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSwgZ2F0ZTogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgc2hvdXNlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzaG91c2VcIiwgZGlzcGxheU5hbWU6IFwicy1ob3VzZVwiLCB0b29sdGlwOiBcIlMtQ2hlc3Mgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlJbSEVoZV0gdyBLUUJDREZHa3FiY2RmZyAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIiRcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQ4eDhcIiwgcGllY2VGYW1pbHk6IFwic2VpcmF3YW5cIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJxXCIsIFwiZVwiLCBcImhcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcInBcIiwgXCJuXCIsIFwiYlwiLCBcInJcIiwgXCJoXCIsIFwiZVwiLCBcInFcIl0sIGNhcHR1cmVUb0hhbmQ6IHRydWUgfSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlLCBnYXRlOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBncmFuZDogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ3JhbmRcIiwgdG9vbHRpcDogXyhcIlBsYXkgd2l0aCB0aGUgaHlicmlkIHBpZWNlcywgYXJjaGJpc2hvcCAoQitOKSBhbmQgY2hhbmNlbGxvciAoUitOKSwgb24gYSBncmFuZCAxMHgxMCBib2FyZC5cIiksXG4gICAgICAgIHN0YXJ0RmVuOiBcInI4ci8xbmJxa2NhYm4xL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC8xTkJRS0NBQk4xL1I4UiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCIoXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcImdyYW5kMTB4MTBcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgZ3JhbmRob3VzZTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ3JhbmRob3VzZVwiLCB0b29sdGlwOiBcIkdyYW5kIENoZXNzIHdpdGggQ3Jhenlob3VzZSBkcm9wIHJ1bGVzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJyOHIvMW5icWtjYWJuMS9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvMU5CUUtDQUJOMS9SOFJbXSB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCIqXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcImdyYW5kMTB4MTBcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImFcIiwgXCJjXCIsIFwicVwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIHNoYWtvOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzaGFrb1wiLCB0b29sdGlwOiBcIkludHJvZHVjZXMgdGhlIGNhbm5vbiBhbmQgZWxlcGhhbnQgZnJvbSBYaWFuZ3FpIGludG8gYSAxMHgxMCBjaGVzcyBib2FyZC5cIixcbiAgICAgICAgc3RhcnRGZW46IFwiYzhjL2VybmJxa2JucmUvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL0VSTkJRS0JOUkUvQzhDIHcgS1FrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIjlcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQxMHgxMFwiLCBwaWVjZUZhbWlseTogXCJzaGFrb1wiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJlXCIsIFwiY1wiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcInFcIiwgXCJuXCIsIFwiY1wiLCBcInJcIiwgXCJlXCIsIFwiYlwiXSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIHNob2d1bjogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwic2hvZ3VuXCIsIHRvb2x0aXA6IFwiUGllY2VzIHByb21vdGUgYW5kIGNhbiBiZSBkcm9wcGVkLCBzaW1pbGFyIHRvIFNob2dpLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmIrZmtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkIrRktCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiLVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzaG9ndW44eDhcIiwgcGllY2VGYW1pbHk6IFwic2hvZ3VuXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiZlwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImZcIl0sIGNhcHR1cmVUb0hhbmQ6IHRydWUgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwic2hvZ2lcIiwgcm9sZXM6IFtcInBcIiwgXCJmXCIsIFwiclwiLCBcImJcIiwgXCJuXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7ZGVmYXVsdFRpbWVDb250cm9sOiBcImJ5b3lvbWlcIiwgZW5QYXNzYW50OiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBob3BwZWxwb3BwZWw6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImhvcHBlbHBvcHBlbFwiLCBkaXNwbGF5TmFtZTogXCJob3BwZWwtcG9wcGVsXCIsIHRvb2x0aXA6IFwiS25pZ2h0cyBjYXB0dXJlIGFzIGJpc2hvcHM7IGJpc2hvcHMgIGNhcHR1cmUgYXMga25pZ2h0cy5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJgXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcImhvcHBlbFwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIG9yZGE6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcIm9yZGFcIiwgdG9vbHRpcDogXCJBc3ltbWV0cmljIHZhcmlhbnQgd2hlcmUgb25lIGFybXkgaGFzIHBpZWNlcyB0aGF0IG1vdmUgbGlrZSBrbmlnaHRzIGJ1dCBjYXB0dXJlIGRpZmZlcmVudGx5LlwiLFxuICAgICAgICBzdGFydEZlbjogXCJsaGF5a2FobC84L3BwcHBwcHBwLzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SIHcgS1EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJSXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcIm9yZGFcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIldoaXRlXCIsIHNlY29uZDogXCJHb2xkXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiLCBcImhcIl0sIGJsYWNrOiBbXCJrXCIsIFwieVwiLCBcImxcIiwgXCJhXCIsIFwiaFwiLCBcInBcIiwgXCJxXCJdIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcInFcIiwgXCJoXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICB1aTogeyBib2FyZE1hcms6ICdjYW1wbWF0ZScgfSxcbiAgICB9KSxcblxuICAgIHN5bm9jaGVzczogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwic3lub2NoZXNzXCIsIHRvb2x0aXA6IF8oXCJBc3ltbWV0cmljIEVhc3QgdnMuIFdlc3QgdmFyaWFudCB3aGljaCBwaXRzIHRoZSB3ZXN0ZXJuIENoZXNzIGFybXkgYWdhaW5zdCBhIFhpYW5ncWkgYW5kIEphbmdnaS1zdHlsZWQgYXJteS5cIiksXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuZWFrZW5yLzgvMWM0YzEvMXNzMnNzMS84LzgvUFBQUFBQUFAvUk5CUUtCTlJbc3NdIHcgS1EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJfXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN5bm9jaGVzc1wiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiV2hpdGVcIiwgc2Vjb25kOiBcIlJlZFwiIH0sXG4gICAgICAgIHBpZWNlUm93OiB7IHdoaXRlOiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sIGJsYWNrOiBbXCJrXCIsIFwiYVwiLCBcImNcIiwgXCJyXCIsIFwiZVwiLCBcIm5cIiwgXCJzXCJdIH0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogeyB3aGl0ZTogW10sIGJsYWNrOiBbXCJzXCJdIH0sIGNhcHR1cmVUb0hhbmQ6IGZhbHNlIH0sXG4gICAgICAgIHVpOiB7IGJvYXJkTWFyazogJ2NhbXBtYXRlJyB9LFxuICAgIH0pLFxuXG4gICAgc2hpbm9iaTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwic2hpbm9iaVwiLCB0b29sdGlwOiBcIkFzeW1tZXRyaWMgdmFyaWFudCB3aGljaCBwaXRzIHRoZSB3ZXN0ZXJuIENoZXNzIGFybXkgYWdhaW5zdCBhIGRyb3AtYmFzZWQsIFNob2dpLXN0eWxlZCBhcm15LlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL0xIMUNLMUhMW0xITU1ESl0gdyBrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlx1RDgzRFx1REMyMlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJzaGlub2JpXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJQaW5rXCIsIHNlY29uZDogXCJCbGFja1wiIH0sXG4gICAgICAgIHBpZWNlUm93OiB7IHdoaXRlOiBbXCJrXCIsIFwiZFwiLCBcImpcIiwgXCJjXCIsIFwibFwiLCBcImhcIiwgXCJtXCIsIFwicFwiXSwgYmxhY2s6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSB9LFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IHsgd2hpdGU6IFtcImxcIiwgXCJoXCIsIFwibVwiLCBcImRcIiwgXCJqXCJdLCBibGFjazogW10gfSwgY2FwdHVyZVRvSGFuZDogZmFsc2UgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwic2hvZ2lcIiwgcm9sZXM6IFtcInBcIiwgXCJsXCIsIFwiaFwiLCBcIm1cIl0gfSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlIH0sXG4gICAgICAgIHVpOiB7IGJvYXJkTWFyazogJ2NhbXBtYXRlJyB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgZXF1aXZhbGVuY2VzOiB7XG4gICAgICAgICAgICAgICAgJ3BsLXBpZWNlJzogJ3ItcGllY2UnLFxuICAgICAgICAgICAgICAgICdwaC1waWVjZSc6ICduLXBpZWNlJyxcbiAgICAgICAgICAgICAgICAncG0tcGllY2UnOiAnYi1waWVjZScsXG4gICAgICAgICAgICAgICAgJ3BwLXBpZWNlJzogJ2MtcGllY2UnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgIH0pLFxuXG4gICAgZW1waXJlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJlbXBpcmVcIiwgdG9vbHRpcDogXyhcIkFzeW1tZXRyaWMgdmFyaWFudCB3aGVyZSBvbmUgYXJteSBoYXMgcGllY2VzIHRoYXQgbW92ZSBsaWtlIHF1ZWVucyBidXQgY2FwdHVyZSBhcyB1c3VhbC5cIiksXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84L1BQUFNTUFBQLzgvVEVDREtDRVQgdyBrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlx1MjY1QVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJlbXBpcmVcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIkdvbGRcIiwgc2Vjb25kOiBcIkJsYWNrXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJkXCIsIFwidFwiLCBcImNcIiwgXCJlXCIsIFwicFwiLCBcInNcIiwgXCJxXCJdLCBibGFjazogW1wia1wiLCBcInFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICB1aTogeyBib2FyZE1hcms6ICdjYW1wbWF0ZScgfSxcbiAgICB9KSxcblxuICAgIG9yZGFtaXJyb3I6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcIm9yZGFtaXJyb3JcIiwgZGlzcGxheU5hbWU6IFwib3JkYSBtaXJyb3JcIiwgdG9vbHRpcDogXyhcIk9yZGEgQ2hlc3MgdmFyaWFudCB3aXRoIHR3byBIb3JkZSBhcm1pZXMuIFRoZSBGYWxjb24gcmVwbGFjZXMgdGhlIFl1cnQuXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJsaGFma2FobC84L3BwcHBwcHBwLzgvOC9QUFBQUFBQUC84L0xIQUZLQUhMIHcgLSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlx1MjVFOVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJvcmRhbWlycm9yXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJXaGl0ZVwiLCBzZWNvbmQ6IFwiR29sZFwiIH0sXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiZlwiLCBcImxcIiwgXCJhXCIsIFwiaFwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcImhcIiwgXCJsXCIsIFwiZlwiLCBcImFcIl0gfSxcbiAgICAgICAgdWk6IHsgYm9hcmRNYXJrOiAnY2FtcG1hdGUnIH0sXG4gICAgfSksXG5cbiAgICBjaGFrOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJjaGFrXCIsIHRvb2x0aXA6IFwiTWF5YW4gY2hlc3MuIEluc3BpcmVkIGJ5IGN1bHR1cmFsIGVsZW1lbnRzIG9mIE1lc29hbWVyaWNhLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJydnNxa2pzdnIvNG80L3AxcDFwMXAxcC85LzkvOS9QMVAxUDFQMVAvNE80L1JWU0pLUVNWUiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0RcdURDMkNcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwiY2hhazl4OVwiLCBwaWVjZUZhbWlseTogXCJjaGFrXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJXaGl0ZVwiLCBzZWNvbmQ6IFwiR3JlZW5cIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImpcIiwgXCJxXCIsIFwiclwiLCBcInZcIiwgXCJzXCIsIFwib1wiLCBcInBcIl0sXG4gICAgICAgIGtpbmdSb2xlczogW1wia1wiLCBcIitrXCJdLFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcImtcIl0sXG4gICAgICAgICAgICBzdHJpY3Q6IHtcbiAgICAgICAgICAgICAgICBpc1Byb21vdGVkOiAocGllY2U6IGNnLlBpZWNlLCBwb3M6IGNnLlBvcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBpZWNlLnJvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHAtcGllY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdway1waWVjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJyAmJiBwb3NbMV0gPj0gNCkgfHwgKHBpZWNlLmNvbG9yID09PSAnYmxhY2snICYmIHBvc1sxXSA8PSA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgZXF1aXZhbGVuY2VzOiB7XG4gICAgICAgICAgICAgICAgJ3BrLXBpZWNlJzogJ2stcGllY2UnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIGNoZW5uaXM6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImNoZW5uaXNcIiwgdG9vbHRpcDogXCJQaWVjZXMgYWx0ZXJuYXRlIGJldHdlZW4gdHdvIGZvcm1zIHdpdGggZWFjaCBtb3ZlLlwiLFxuICAgICAgICBzdGFydEZlbjogXCIxZmttMy8xcDFzMy83LzcvNy8zUzFQMS8zTUtGMVtdIHcgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0NcdURGQkVcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwiY2hlbm5pczd4N1wiLCBwaWVjZUZhbWlseTogXCJjaGVubmlzXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicFwiLCBcIm1cIiwgXCJzXCIsIFwiZlwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJwXCIsIFwibVwiLCBcInNcIiwgXCJmXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInNob2dpXCIsIHJvbGVzOiBbXCJwXCIsIFwibVwiLCBcInNcIiwgXCJmXCJdIH0sXG4gICAgfSksXG5cbiAgICBzcGFydGFuOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzcGFydGFuXCIsIHRvb2x0aXA6IF8oXCJBc3ltbWV0cmljIFNwYXJ0YW5zIHZzLiBQZXJzaWFucyB2YXJpYW50LlwiKSxcbiAgICAgICAgc3RhcnRGZW46IFwibGdrY2Nrd2wvaGhoaGhoaGgvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiXHUyMzdBXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInNwYXJ0YW5cIixcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSwgYmxhY2s6IFtcImtcIiwgXCJnXCIsIFwid1wiLCBcImxcIiwgXCJjXCIsIFwiaFwiXSB9LFxuICAgIH0pLFxuXG4gICAgLy8gV2Ugc3VwcG9ydCB0aGUgZnVuY3Rpb25hbGl0eSB0byBpbXBvcnQvc3RvcmUvYW5hbHl6ZSBzb21lIHZhcmlhbnRzXG4gICAgLy8gYnV0IGRvbid0IHdhbnQgdG8gYWRkIHRoZW0gdG8gbGVhZGVyYm9hcmQgcGFnZVxuICAgIGVtYmFzc3k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImVtYmFzc3lcIiwgdG9vbHRpcDogXCJMaWtlIENhcGFibGFuY2EgQ2hlc3MgYnV0IHdpdGggR3JhbmQgc3RhcnRpbmcgc2V0dXAuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrY2FibnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQlFLQ0FCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiUFwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDEweDhcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgZW1iYXNzeWhvdXNlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJlbWJhc3N5aG91c2VcIiwgdG9vbHRpcDogXCJFbWJhc3N5IHdpdGggQ3Jhenlob3VzZSBkcm9wIHJ1bGVzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxa2NhYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRS0NBQk5SW10gdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiJlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDEweDhcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImFcIiwgXCJjXCIsIFwicVwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIGdvdGhpYzogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ290aGljXCIsIHRvb2x0aXA6IFwiTGlrZSBDYXBhYmxhbmNhIENoZXNzIGJ1dCB3aXRoIGEgZGlmZmVyZW50IHN0YXJ0aW5nIHNldHVwLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxY2thYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRQ0tBQk5SIHcgS1FrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlBcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQxMHg4XCIsIHBpZWNlRmFtaWx5OiBcImNhcGFcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJxXCIsIFwiY1wiLCBcImFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIGdvdGhob3VzZTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ290aGhvdXNlXCIsIHRvb2x0aXA6IF8oXCJHb3RoaWMgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxY2thYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRQ0tBQk5SW10gdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiJlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDEweDhcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImFcIiwgXCJjXCIsIFwicVwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcbn07XG5cbmV4cG9ydCBjb25zdCB2YXJpYW50cyA9IE9iamVjdC5rZXlzKFZBUklBTlRTKTtcbmNvbnN0IGRpc2FibGVkVmFyaWFudHMgPSBbIFwiZ290aGljXCIsIFwiZ290aGhvdXNlXCIsIFwiZW1iYXNzeVwiLCBcImVtYmFzc3lob3VzZVwiLCBcImdvcm9nb3JvXCIgXTtcbmV4cG9ydCBjb25zdCBlbmFibGVkVmFyaWFudHMgPSB2YXJpYW50cy5maWx0ZXIodiA9PiAhZGlzYWJsZWRWYXJpYW50cy5pbmNsdWRlcyh2KSk7XG5cbmV4cG9ydCBjb25zdCB2YXJpYW50R3JvdXBzOiB7IFsga2V5OiBzdHJpbmcgXTogeyB2YXJpYW50czogc3RyaW5nW10gfSB9ID0ge1xuICAgIHN0YW5kYXJkOiB7IHZhcmlhbnRzOiBbIFwiY2hlc3NcIiwgXCJjcmF6eWhvdXNlXCIsIFwicGxhY2VtZW50XCIsIFwiYXRvbWljXCIsIFwiZHVja1wiIF0gfSxcbiAgICBzZWE6ICAgICAgeyB2YXJpYW50czogWyBcIm1ha3J1a1wiLCBcIm1ha3BvbmdcIiwgXCJjYW1ib2RpYW5cIiwgXCJzaXR0dXlpblwiLCBcImFzZWFuXCIgXSB9LFxuICAgIHNob2dpOiAgICB7IHZhcmlhbnRzOiBbIFwic2hvZ2lcIiwgXCJtaW5pc2hvZ2lcIiwgXCJreW90b3Nob2dpXCIsIFwiZG9idXRzdVwiLCBcImdvcm9nb3JvcGx1c1wiLCBcInRvcmlzaG9naVwiIF0gfSxcbiAgICB4aWFuZ3FpOiAgeyB2YXJpYW50czogWyBcInhpYW5ncWlcIiwgXCJtYW5jaHVcIiwgXCJqYW5nZ2lcIiwgXCJtaW5peGlhbmdxaVwiIF0gfSxcbiAgICBmYWlyeTogICAgeyB2YXJpYW50czogWyBcImNhcGFibGFuY2FcIiwgXCJjYXBhaG91c2VcIiwgXCJzZWlyYXdhblwiLCBcInNob3VzZVwiLCBcImdyYW5kXCIsIFwiZ3JhbmRob3VzZVwiLCBcInNoYWtvXCIsIFwic2hvZ3VuXCIsIFwiaG9wcGVscG9wcGVsXCIgXSB9LFxuICAgIGFybXk6ICAgICB7IHZhcmlhbnRzOiBbIFwib3JkYVwiLCBcInN5bm9jaGVzc1wiLCBcInNoaW5vYmlcIiwgXCJlbXBpcmVcIiwgXCJvcmRhbWlycm9yXCIsIFwiY2hha1wiLCBcImNoZW5uaXNcIiwgXCJzcGFydGFuXCIgXSB9LFxufTtcblxuZnVuY3Rpb24gdmFyaWFudEdyb3VwTGFiZWwoZ3JvdXA6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZ3JvdXBzOiB7W2luZGV4OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xuICAgICAgICBzdGFuZGFyZDogXyhcIkNoZXNzIFZhcmlhbnRzXCIpLFxuICAgICAgICBzZWE6IF8oXCJNYWtydWsgVmFyaWFudHNcIiksXG4gICAgICAgIHNob2dpOiBfKFwiU2hvZ2kgVmFyaWFudHNcIiksXG4gICAgICAgIHhpYW5ncWk6IF8oXCJYaWFuZ3FpIFZhcmlhbnRzXCIpLFxuICAgICAgICBmYWlyeTogXyhcIkZhaXJ5IFBpZWNlIFZhcmlhbnRzXCIpLFxuICAgICAgICBhcm15OiBfKFwiTmV3IEFybXkgVmFyaWFudHNcIiksXG4gICAgfVxuICAgIHJldHVybiBncm91cHNbZ3JvdXBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VmFyaWFudChpZDogc3RyaW5nLCBzZWxlY3RlZDogc3RyaW5nLCBvbkNoYW5nZTogRXZlbnRMaXN0ZW5lciwgaG9va0luc2VydDogSW5zZXJ0SG9vayk6IFZOb2RlIHtcbiAgICByZXR1cm4gaCgnc2VsZWN0IycgKyBpZCwge1xuICAgICAgICBwcm9wczogeyBuYW1lOiBpZCB9LFxuICAgICAgICBvbjogeyBjaGFuZ2U6IG9uQ2hhbmdlIH0sXG4gICAgICAgIGhvb2s6IHsgaW5zZXJ0OiBob29rSW5zZXJ0IH0sXG4gICAgfSxcbiAgICAgICAgT2JqZWN0LmtleXModmFyaWFudEdyb3VwcykubWFwKGcgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YXJpYW50R3JvdXBzW2ddO1xuICAgICAgICAgICAgcmV0dXJuIGgoJ29wdGdyb3VwJywgeyBwcm9wczogeyBsYWJlbDogdmFyaWFudEdyb3VwTGFiZWwoZykgfSB9LCBncm91cC52YXJpYW50cy5tYXAodiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFudCA9IFZBUklBTlRTW3ZdO1xuICAgICAgICAgICAgICAgIHJldHVybiBoKCdvcHRpb24nLCB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzOiB7IHZhbHVlOiB2LCB0aXRsZTogdmFyaWFudC50b29sdGlwIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNlbGVjdGVkOiB2ID09PSBzZWxlY3RlZCB9LFxuICAgICAgICAgICAgICAgIH0sIHZhcmlhbnQuZGlzcGxheU5hbWUoZmFsc2UpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSksXG4gICAgKTtcbn1cblxuLy8gU29tZSB2YXJpYW50cyBuZWVkIHRvIGJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgYWNjb3JkaW5nIHRvIHRoZSBGRU4uXG4vLyBSZWZlciB0byBzZXJ2ZXIvZmFpcnkucHkgZm9yIG1vcmUgaW5mb3JtYXRpb25cbmV4cG9ydCBmdW5jdGlvbiBtb2RkZWRWYXJpYW50KHZhcmlhbnROYW1lOiBzdHJpbmcsIGNoZXNzOTYwOiBib29sZWFuLCBwaWVjZXM6IGNnLlBpZWNlcywgY2FzdGxpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFjaGVzczk2MCAmJiBbXCJjYXBhYmxhbmNhXCIsIFwiY2FwYWhvdXNlXCJdLmluY2x1ZGVzKHZhcmlhbnROYW1lKSkge1xuICAgICAgICBjb25zdCB3aGl0ZUtpbmcgPSBwaWVjZXMuZ2V0KCdlMScpO1xuICAgICAgICBjb25zdCBibGFja0tpbmcgPSBwaWVjZXMuZ2V0KCdlOCcpO1xuICAgICAgICBpZiAoY2FzdGxpbmcgIT09ICctJyAmJlxuICAgICAgICAgICAgKCghY2FzdGxpbmcuaW5jbHVkZXMoJ0snKSAmJiAhY2FzdGxpbmcuaW5jbHVkZXMoJ1EnKSkgfHwgKHdoaXRlS2luZyAmJiB1dGlsLnNhbWVQaWVjZSh3aGl0ZUtpbmcsIHsgcm9sZTogJ2stcGllY2UnLCBjb2xvcjogJ3doaXRlJyB9KSkpICYmXG4gICAgICAgICAgICAoKCFjYXN0bGluZy5pbmNsdWRlcygnaycpICYmICFjYXN0bGluZy5pbmNsdWRlcygncScpKSB8fCAoYmxhY2tLaW5nICYmIHV0aWwuc2FtZVBpZWNlKGJsYWNrS2luZywgeyByb2xlOiAnay1waWVjZScsIGNvbG9yOiAnYmxhY2snIH0pKSkpXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudE5hbWUuaW5jbHVkZXMoXCJob3VzZVwiKSA/IFwiZW1iYXNzeWhvdXNlXCIgOiBcImVtYmFzc3lcIjtcbiAgICB9XG4gICAgcmV0dXJuIHZhcmlhbnROYW1lO1xufVxuXG4vLyBUT0RPIG1lcmdlIGludG8gdGhlIHZhcmlhbnQgdHlwZVxuZXhwb3J0IGZ1bmN0aW9uIG5vdGF0aW9uKHZhcmlhbnQ6IFZhcmlhbnQpOiBjZy5Ob3RhdGlvbiB7XG4gICAgbGV0IGNnTm90YXRpb24gPSBjZy5Ob3RhdGlvbi5BTEdFQlJBSUM7XG4gICAgc3dpdGNoICh2YXJpYW50Lm5hbWUpIHtcbiAgICAgICAgY2FzZSAnamFuZ2dpJzpcbiAgICAgICAgICAgIGNnTm90YXRpb24gPSBjZy5Ob3RhdGlvbi5KQU5HR0k7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2hvZ2knOlxuICAgICAgICBjYXNlICdtaW5pc2hvZ2knOlxuICAgICAgICBjYXNlICdreW90b3Nob2dpJzpcbiAgICAgICAgY2FzZSAnZG9idXRzdSc6XG4gICAgICAgIGNhc2UgJ2dvcm9nb3JvJzpcbiAgICAgICAgY2FzZSAnZ29yb2dvcm9wbHVzJzpcbiAgICAgICAgY2FzZSAndG9yaXNob2dpJzpcbiAgICAgICAgICAgIGNnTm90YXRpb24gPSBjZy5Ob3RhdGlvbi5TSE9HSV9BUkJOVU07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAneGlhbmdxaSc6XG4gICAgICAgIGNhc2UgJ21pbml4aWFuZ3FpJzpcbiAgICAgICAgLy8gWElBTkdRSV9XWEYgY2FuJ3QgaGFuZGxlIE1tYW5jaHUgYmFubmVyIHBpZWNlIVxuICAgICAgICAgICAgY2dOb3RhdGlvbiA9IGNnLk5vdGF0aW9uLlhJQU5HUUlfQVJCTlVNO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjZ05vdGF0aW9uO1xufVxuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nXG5pbXBvcnQgKiBhcyBNb3VzZXRyYXAgIGZyb20gJ21vdXNldHJhcCc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuXG5pbXBvcnQgeyBwYXRjaCwgY2hhbmdlUGllY2VDU1MgfSBmcm9tICcuL2RvY3VtZW50JztcbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSAnLi9nYW1lQ3RybCc7XG5pbXBvcnQgeyBQeUNoZXNzTW9kZWwgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHVjaTJMYXN0TW92ZSB9IGZyb20gJy4vY2hlc3MnO1xuaW1wb3J0IHsgc2VsZWN0VmFyaWFudCB9IGZyb20gJy4vdmFyaWFudHMnO1xuXG5pbXBvcnQgeyByYW5kb21JZCwgUHV6emxlLCBTZXJ2ZXJEYXRhIH0gZnJvbSAnLi9wdXp6bGVyVHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdXp6bGVDb250cm9sbGVyIGV4dGVuZHMgR2FtZUNvbnRyb2xsZXIge1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgc29sdXRpb25FbDogVk5vZGUgfCBIVE1MRWxlbWVudDtcbiAgICBzb2x1dGlvbjogc3RyaW5nW107XG4gICAgc29sdXRpb25TYW46IHN0cmluZ1tdO1xuICAgIG1vdmVzRWw6IFZOb2RlIHwgSFRNTEVsZW1lbnQ7XG4gICAgbW92ZXM6IHN0cmluZ1tdID0gW107XG4gICAgbW92ZXNTYW46IHN0cmluZ1tdID0gW107XG4gICAgYWxsOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBkYXRhOiBTZXJ2ZXJEYXRhKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0ge1xuICAgICAgICAgICAgaG9tZTogZGF0YS5ob21lLFxuICAgICAgICAgICAgYXNzZXRVUkw6IGRhdGEuYXNzZXRVUkwsXG4gICAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSxcbiAgICAgICAgICAgIHZhcmlhbnQ6IGRhdGEudmFyaWFudCxcbiAgICAgICAgICAgIGZlbjogZGF0YS5mZW4sXG4gICAgICAgICAgICBwbHk6IGRhdGEucGx5LFxuICAgICAgICAgICAgZ2FtZUlkOiBkYXRhLmdhbWVJZCxcbiAgICAgICAgfSBhcyBQeUNoZXNzTW9kZWw7XG5cbiAgICAgICAgc3VwZXIoZWwsIG1vZGVsKTtcblxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcbiAgICAgICAgdGhpcy5zb2x1dGlvbiA9IChtb2RlbC52YXJpYW50PT09J2R1Y2snKSA/IGRhdGEubW92ZXMubWF0Y2goL1teLF0rLFteLF0rL2cpISA6IGRhdGEubW92ZXMuc3BsaXQoJywnKSE7XG4gICAgICAgIHRoaXMubW92ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICAgICAgdGhpcy5hbGwgPSBkYXRhLmFsbDtcblxuICAgICAgICBpZiAoIWRhdGEucGx5KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGRhdGEuZmVuLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgY29uc3QgZnVsbG1vdmUgPSBwYXJzZUludChwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICB0aGlzLnBseSA9IChmdWxsbW92ZSAtMSkgKiAyICsgKChjb2xvciA9PT0gXCJiXCIpID8gMSA6IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZXQoe1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7IGVuYWJsZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0aGlzLnR1cm5Db2xvcixcbiAgICAgICAgICAgIHR1cm5Db2xvcjogdGhpcy50dXJuQ29sb3IsXG4gICAgICAgICAgICBtb3ZhYmxlOiB7XG4gICAgICAgICAgICAgICAgZnJlZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMudHVybkNvbG9yLFxuLy8gICAgICAgICAgICAgICAgc2hvd0Rlc3RzOiB0aGlzLnNob3dEZXN0cyxcbiAgICAgICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IChvcmlnLCBkZXN0LCBtZXRhKSA9PiB0aGlzLm9uVXNlck1vdmUob3JpZywgZGVzdCwgbWV0YSksXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTmV3UGllY2U6IChyb2xlLCBkZXN0LCBtZXRhKSA9PiB0aGlzLm9uVXNlckRyb3Aocm9sZSwgZGVzdCwgbWV0YSksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgIG1vdmU6IHRoaXMub25Nb3ZlKCksXG4gICAgICAgICAgICAgICAgZHJvcE5ld1BpZWNlOiB0aGlzLm9uRHJvcCgpLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogdGhpcy5vblNlbGVjdCgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICdzaG9naScsICdwb3J0aScpO1xuICAgICAgICBjaGFuZ2VQaWVjZUNTUyhtb2RlbC5hc3NldFVSTCwgJ3RvcmknLCAncG9ydGknKTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICdreW90bycsICdreW90b2knKTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICd4aWFuZ3FpJywgJ3hpYW5ncWkyZGknKTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICdqYW5nZ2knLCAnamFuZ2dpaWthdycpO1xuXG4gICAgICAgIGNvbnN0IHZWYXJpYW50ID0gdGhpcy52YXJpYW50Lm5hbWUgfHwgXCJjaGVzc1wiO1xuICAgICAgICBjb25zdCB2YXJpYW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFyaWFudCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaCh2YXJpYW50RWwsIHNlbGVjdFZhcmlhbnQoXCJ2YXJpYW50XCIsIHZWYXJpYW50LCAoKSA9PiB0aGlzLnNldFZhcmlhbnQodHJ1ZSksICgpID0+IHRoaXMuc2V0VmFyaWFudChmYWxzZSkpKTtcblxuICAgICAgICBjb25zdCBhbGxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2goYWxsRWwsIGgoJ2lucHV0I2FsbCcsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6ICdhbGwnLCB0eXBlOiAnY2hlY2tib3gnIH0sXG4gICAgICAgICAgICBhdHRyczogeyBjaGVja2VkOiB0aGlzLmFsbCwgdGl0bGU6ICdWaWV3IGFscmVhZHkgcmV2aWV3ZWQgYW5kIHNraXBwZWQgcHV6emxlcyBhcyB3ZWxsLicgfSxcbiAgICAgICAgICAgIG9uOiB7IGNsaWNrOiAoKSA9PiB0aGlzLnNldEFsbCgpIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICkpO1xuXG4gICAgICAgIGNvbnN0IGZpbGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXp6bGVmaWxlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHBhdGNoKGZpbGVFbCwgaCgnaW5wdXQjcHV6emxlZmlsZScsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6ICdwdXp6bGVmaWxlJywgdHlwZTogJ2ZpbGUnLCBhY2NlcHQ6ICcuZXBkJywgdGl0bGU6ICdTZWxlY3QgYSAuZXBkIGZpbGUgZ2VuZXJhdGVkIGJ5IGNoZXNzLXZhcmlhbnRzLXB1enpsZXIuJyB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiAoKSA9PiB0aGlzLnJlYWRGaWxlKCkgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5tb3Zlc0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vdmVzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhcHByb3ZlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwcm92ZScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaChhcHByb3ZlRWwsIGgoJ2J1dHRvbi5hcHByb3ZlJywgeyBvbjogeyBjbGljazogKCkgPT4gdGhpcy5yZXZpZXcodHJ1ZSkgfSB9LFtcbiAgICAgICAgICAgICAgICBoKCdlbScsICdBcHByb3ZlJyksXG4gICAgICAgICAgICAgICAgaCgnc3Ryb25nJywgJ1x1MjcxMycpLFxuICAgICAgICAgICAgICAgIGgoJ2VtJywgJ1tlbnRlcl0nKSxcbiAgICAgICAgICAgIF0pKTtcblxuICAgICAgICBjb25zdCByZWplY3RFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWplY3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2gocmVqZWN0RWwsIGgoJ2J1dHRvbi5yZWplY3QnLCB7IG9uOiB7IGNsaWNrOiAoKSA9PiB0aGlzLnJldmlldyhmYWxzZSkgfSB9LFtcbiAgICAgICAgICAgICAgICBoKCdlbScsICdSZWplY3QnKSxcbiAgICAgICAgICAgICAgICBoKCdzdHJvbmcnLCAnXHUyNzE3JyksXG4gICAgICAgICAgICAgICAgaCgnZW0nLCAnW2JhY2tzcGFjZV0nKSxcbiAgICAgICAgICAgIF0pKTtcblxuICAgICAgICBjb25zdCBhcHBlbmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBlbmQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2goYXBwZW5kRWwsIGgoJ2J1dHRvbi5hcHBlbmQnLCB7IGF0dHJzOiB7IGRpc2FibGVkOiB0cnVlLCB0aXRsZTogJ0NvbXBsZXRlIHRoZSBzb2x1dGlvbiB3aXRoIG1pc3NpbmcgbW92ZXMuJyB9LCBvbjogeyBjbGljazogKCkgPT4gdGhpcy5hcHBlbmQoKSB9IH0sW1xuICAgICAgICAgICAgICAgIGgoJ2VtJywgJ3NvbHV0aW9uJyksXG4gICAgICAgICAgICAgICAgaCgnc3Ryb25nJywgJ1x1MjE5MScpLFxuICAgICAgICAgICAgICAgIGgoJ2VtJywgJ215IG1vdmVzJyksXG4gICAgICAgICAgICBdKSk7XG5cbiAgICAgICAgY29uc3Qgc2tpcEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnB1enpsZS1za2lwJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHBhdGNoKHNraXBFbCwgaCgnZGl2LnB1enpsZS1za2lwJywgW2goJ2J1dHRvbicsIHsgb246IHsgY2xpY2s6ICgpID0+IHRoaXMuc2tpcCgpIH0gfSwgJ1NraXAnKV0pKTtcblxuICAgICAgICBjb25zdCBmb3J3YXJkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaChmb3J3YXJkRWwsIGgoJ2J1dHRvbi5uZXh0JywgeyBvbjogeyBjbGljazogKCkgPT4gdGhpcy5mb3J3YXJkKCkgfSB9LCAnRm9yd2FyZCA+JykpO1xuXG4gICAgICAgIGNvbnN0IHJld2luZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2gocmV3aW5kRWwsIGgoJ2J1dHRvbi5wcmV2Jywge1xuICAgICAgICAgICAgYXR0cnM6IHsgZGlzYWJsZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIGNsYXNzOiB7IHZhcmlhdGlvbjogZmFsc2UgfSxcbiAgICAgICAgICAgIG9uOiB7IGNsaWNrOiAoKSA9PiB0aGlzLnJld2luZCgpIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnPCBSZXdpbmQnKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlU29sdXRpb25TYW4oKTtcblxuICAgICAgICBjb25zdCBub1JlcGVhdCA9IChmOiAoKSA9PiB2b2lkKSA9PiAoZTogS2V5Ym9hcmRFdmVudCkgPT4geyBpZiAoIWUucmVwZWF0KSBmKCkgfTtcblxuICAgICAgICBNb3VzZXRyYXAuYmluZCgnbGVmdCcsIG5vUmVwZWF0KCgpID0+IHRoaXMucmV3aW5kKCkpKTtcbiAgICAgICAgTW91c2V0cmFwLmJpbmQoJ3JpZ2h0Jywgbm9SZXBlYXQoKCkgPT4gdGhpcy5mb3J3YXJkKCkpKTtcbiAgICAgICAgTW91c2V0cmFwLmJpbmQoJ2JhY2tzcGFjZScsIG5vUmVwZWF0KCgpID0+IHRoaXMucmV2aWV3KGZhbHNlKSkpO1xuICAgICAgICBNb3VzZXRyYXAuYmluZCgnZW50ZXInLCBub1JlcGVhdCgoKSA9PiB0aGlzLnJldmlldyh0cnVlKSkpO1xuICAgICAgICBNb3VzZXRyYXAuYmluZCgnYScsICgpID0+IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhLmFuYWx5c2UnKSBhcyBIVE1MQW5jaG9yRWxlbWVudCkuY2xpY2soKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bmRvID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZG9cIik7XG4gICAgfVxuXG4gICAgY3JlYXRlU29sdXRpb25TYW4gPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmZmaXNoQm9hcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZVNvbHV0aW9uKCkgV0FJVCAxMDAuLi4nKTtcbiAgICAgICAgICAgIC8vIEF0IHZlcnkgZmlyc3QgdGltZSB3ZSBtYXkgaGF2ZSB0byB3YWl0IGZvciBmZmlzaCBtb2R1bGUgdG8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmNyZWF0ZVNvbHV0aW9uU2FuLCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zb2x1dGlvblNhbiA9IHRoaXMuZmZpc2hCb2FyZC52YXJpYXRpb25TYW4odGhpcy5zb2x1dGlvbi5qb2luKCcgJyksIHRoaXMubm90YXRpb25Bc09iamVjdCwgZmFsc2UpLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlU29sdXRpb24oKSBzb2x1dGlvblNhbj0nLCB0aGlzLnNvbHV0aW9uU2FuKTtcblxuICAgICAgICAgICAgdGhpcy5zb2x1dGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbHV0aW9uJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5zb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU29sdXRpb24oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRWYXJpYW50KGlzSW5wdXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YXJpYW50JykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSBlLm9wdGlvbnNbZS5zZWxlY3RlZEluZGV4XS52YWx1ZTtcblxuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZhcmlhbnQnKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0ZWQgdmFyaWVudCBpczpcIiwgdmFyaWFudCwgaXNJbnB1dCk7XG4gICAgICAgIHAuc3VibWl0KCk7XG4gICAgfVxuXG4gICAgc2V0QWxsKCkge1xuICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGFsbCA9IGUuY2hlY2tlZDtcblxuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbCcpIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5sb2coXCJTZWxlY3RlZCBhbGwgaXM6XCIsIGFsbCk7XG4gICAgICAgIHAuc3VibWl0KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlR3VpKG1vdmU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldCh0aGlzLmNnQ29uZmlnKG1vdmUpKTtcbiAgICAgICAgdGhpcy5zZXREZXN0cygpO1xuXG4gICAgICAgIGNvbnN0IHJld2luZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICByZXdpbmRFbC5jbGFzc0xpc3QudG9nZ2xlKCd2YXJpYXRpb24nLCB0aGlzLmlzSW5WYXJpYXRpb24oKSk7XG4gICAgICAgIHJld2luZEVsLmRpc2FibGVkID0gdGhpcy5tb3Zlcy5sZW5ndGggPT09IDA7XG5cbiAgICAgICAgY29uc3QgZm9yd2FyZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBmb3J3YXJkRWwuZGlzYWJsZWQgPSAhdGhpcy5jYW5Gb3J3YXJkKCk7XG5cbiAgICAgICAgY29uc3QgYXBwZW5kRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwZW5kJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgYXBwZW5kRWwuZGlzYWJsZWQgPSAhdGhpcy5jYW5BcHBlbmQoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVNvbHV0aW9uKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU29sdXRpb24gPSAoKSA9PiAge1xuICAgICAgICB0aGlzLnNvbHV0aW9uRWwgPSBwYXRjaCh0aGlzLnNvbHV0aW9uRWwsIGgoJ3Auc29sdXRpb24nLCBbXG4gICAgICAgICAgICAnU29sdXRpb246ICcsXG4gICAgICAgICAgICAuLi50aGlzLnNvbHV0aW9uU2FuLm1hcCgoc2FuLCBpKSA9PlxuICAgICAgICAgICAgICBoKCdzYW4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHsgZG9uZTogdGhpcy5tb3Zlc1tpXSA9PT0gdGhpcy5zb2x1dGlvbltpXSB9XG4gICAgICAgICAgICAgIH0sIHNhbilcbiAgICAgICAgICAgIClcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIHRoaXMubW92ZXNFbCA9IHBhdGNoKHRoaXMubW92ZXNFbCwgaCgncC5tb3ZlcycsIFtcbiAgICAgICAgICAgICdNeSBtb3ZlczogJyxcbiAgICAgICAgICAgIC4uLnRoaXMubW92ZXNTYW4ubWFwKChtb3ZlLCBpKSA9PlxuICAgICAgICAgICAgICBoKCd1Y2knLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHsgZG9uZTogdGhpcy5tb3Zlc1tpXSA9PT0gdGhpcy5zb2x1dGlvbltpXSB9XG4gICAgICAgICAgICAgIH0sIG1vdmUpXG4gICAgICAgICAgICApXG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICBjYW5BcHBlbmQgPSAoKSA9PlxuICAgICAgICB0aGlzLm1vdmVzLmxlbmd0aCA+IHRoaXMuc29sdXRpb24ubGVuZ3RoICYmXG4gICAgICAgIHRoaXMubW92ZXMuc2xpY2UoMCwgdGhpcy5zb2x1dGlvbi5sZW5ndGgpLmpvaW4oJyAnKSA9PT0gdGhpcy5zb2x1dGlvbi5qb2luKCcgJyk7XG5cbiAgICBjYW5Gb3J3YXJkID0gKCkgPT5cbiAgICAgICAgdGhpcy5tb3Zlcy5sZW5ndGggPCB0aGlzLnNvbHV0aW9uLmxlbmd0aCAmJlxuICAgICAgICB0aGlzLm1vdmVzLmpvaW4oJyAnKSA9PSB0aGlzLnNvbHV0aW9uLnNsaWNlKDAsIHRoaXMubW92ZXMubGVuZ3RoKS5qb2luKCcgJyk7XG5cbiAgICBpc0NvbXBsZXRlID0gKCkgPT5cbiAgICAgICAgdGhpcy5tb3Zlcy5qb2luKCcgJykgPT0gdGhpcy5zb2x1dGlvbi5qb2luKCcgJyk7XG5cbiAgICBpc0luVmFyaWF0aW9uID0gKCkgPT4gIXRoaXMuaXNDb21wbGV0ZSgpICYmICF0aGlzLmNhbkZvcndhcmQoKTtcblxuICAgIHNraXAoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYCR7dGhpcy5ob21lfS9za2lwP3NraXBwZWQ9JHt0aGlzLl9pZH1gKTtcbiAgICB9XG5cbiAgICBhcHBlbmQoKSB7XG4gICAgICAgIHRoaXMuc29sdXRpb24gPSBbLi4udGhpcy5tb3Zlc107XG4gICAgICAgIHRoaXMuc29sdXRpb25TYW4gPSBbLi4udGhpcy5tb3Zlc1Nhbl07XG5cbiAgICAgICAgY29uc3QgcmV3aW5kRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIHJld2luZEVsLmNsYXNzTGlzdC50b2dnbGUoJ3ZhcmlhdGlvbicsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVNvbHV0aW9uKCk7XG4gICAgfVxuXG4gICAgZG9TZW5kTW92ZShtb3ZlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2cobW92ZSk7XG4gICAgICAgIHRoaXMubW92ZXMucHVzaChtb3ZlKTtcblxuICAgICAgICBjb25zdCBzYW4gPSB0aGlzLmZmaXNoQm9hcmQuc2FuTW92ZShtb3ZlLCB0aGlzLm5vdGF0aW9uQXNPYmplY3QpO1xuICAgICAgICB0aGlzLm1vdmVzU2FuLnB1c2goc2FuKTtcblxuICAgICAgICB0aGlzLmZmaXNoQm9hcmQucHVzaChtb3ZlKTtcbiAgICAgICAgdGhpcy51cGRhdGVHdWkobW92ZSk7XG4gICAgfVxuXG4gICAgcmV3aW5kKCkge1xuICAgICAgICBpZiAodGhpcy5tb3Zlcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICB0aGlzLm1vdmVzLnBvcCgpO1xuICAgICAgICB0aGlzLm1vdmVzU2FuLnBvcCgpO1xuICAgICAgICB0aGlzLmZmaXNoQm9hcmQucG9wKCk7XG4gICAgICAgIGNvbnN0IG1vdmUgPSB0aGlzLm1vdmVzW3RoaXMubW92ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMudXBkYXRlR3VpKG1vdmUpO1xuICAgIH1cblxuICAgIGZvcndhcmQoKSB7XG4gICAgICAgIGNvbnN0IG1vdmUgPSB0aGlzLnNvbHV0aW9uW3RoaXMubW92ZXMubGVuZ3RoXTtcbiAgICAgICAgaWYgKG1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZW5kTW92ZShtb3ZlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldmlldyhhcHByb3ZlZDogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBlbEFwcHJvdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwcm92ZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGVsUmVqZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlamVjdCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhcHByb3ZlZDonLCBhcHByb3ZlZCk7XG4gICAgICAgIGlmIChhcHByb3ZlZCkge1xuICAgICAgICAgICAgZWxBcHByb3ZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICAgICAgZWxSZWplY3QuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxBcHByb3ZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsUmVqZWN0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vdmVzID0gdGhpcy5zb2x1dGlvbi5qb2luKCdfJykucmVwbGFjZSgvXFwrL2csICcuJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXZpZXcnLCB0aGlzLl9pZCwgYXBwcm92ZWQsIG1vdmVzKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihgJHt0aGlzLmhvbWV9L3Jldmlldy8ke3RoaXMuX2lkfT9hcHByb3ZlZD0ke2FwcHJvdmVkID8gMSA6IDB9Jm1vdmVzPSR7bW92ZXN9YCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjZ0NvbmZpZyA9IChtb3ZlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgZmVuID0gdGhpcy5mZmlzaEJvYXJkLmZlbih0aGlzLnZhcmlhbnQudWkuc2hvd1Byb21vdGVkLCAwKTtcbiAgICAgICAgY29uc3QgdHVybkNvbG9yID0gZmVuLnNwbGl0KFwiIFwiKVsxXSA9PT0gXCJ3XCIgPyBcIndoaXRlXCIgOiBcImJsYWNrXCIgYXMgY2cuQ29sb3I7XG4gICAgICAgIHRoaXMudHVybkNvbG9yID0gdHVybkNvbG9yO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmVuOiBmZW4sXG4gICAgICAgICAgICB0dXJuQ29sb3I6IHR1cm5Db2xvcixcbiAgICAgICAgICAgIG1vdmFibGU6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdHVybkNvbG9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoZWNrOiB0aGlzLmZmaXNoQm9hcmQuaXNDaGVjaygpLFxuICAgICAgICAgICAgbGFzdE1vdmU6IHVjaTJMYXN0TW92ZShtb3ZlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZEZpbGUoKSB7XG4gICAgICAgIGNvbnN0IGZpbGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXp6bGVmaWxlJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBmaWxlRWwuZmlsZXM7XG4gICAgICAgIGlmIChmaWxlcykge1xuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lO1xuICAgICAgICAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc1RleHQoZmlsZXNbMF0pO1xuXG4gICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlUmVhZGVyLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxMaW5lcyA9IChmaWxlUmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBtYXRlV2l0aE1pc3NpbmdGdWxsTW92ZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgICAgIGFsbExpbmVzLmZvckVhY2goKGxpbmU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnRyaW0oKS5zcGxpdCgnOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wcyA9IE9iamVjdC5mcm9tRW50cmllcyhwYXJ0cy5zbGljZSgxKS5tYXAocyA9PiBzLnNwbGl0KCcgJykpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChvcHMuZXZhbC5zdGFydHNXaXRoKCcjJykgJiYgb3BzLnB2LnNwbGl0KCcsJykubGVuZ3RoICE9PSBwYXJzZUludChvcHMuZXZhbC5zbGljZSgxKSkgKiAyIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIG1hdGVXaXRoTWlzc2luZ0Z1bGxNb3Zlcy5wdXNoKGAke3BhcnRzWzBdfSBtb3ZlczogJHtvcHMucHZ9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdXp6bGU6IFB1enpsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmFuZG9tSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlbjogcGFydHNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiBvcHMudmFyaWFudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVzOiBvcHMucHYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsOiBvcHMuZXZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG9wcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRCeTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHMuc2l0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wcy5zaXRlLmluY2x1ZGVzKCdweWNoZXNzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXp6bGUuZ2FtZUlkID0gb3BzLnNpdGUuc2xpY2UoLTgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXp6bGUuc2l0ZSA9IG9wcy5zaXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RQdXp6bGUocHV6emxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKG1hdGVXaXRoTWlzc2luZ0Z1bGxNb3Zlcy5sZW5ndGggPiAwKSBhbGVydChgTWlzc2luZyBtYXRlIHNlcXVlbmNlIGluIEZFTjpcXG4ke21hdGVXaXRoTWlzc2luZ0Z1bGxNb3Zlcy5qb2luKCdcXG4nKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydChmaWxlUmVhZGVyLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcG9zdFB1enpsZShwdXp6bGU6IFB1enpsZSkge1xuICAgIGNvbnN0IFhIUiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIGNvbnN0IEZEICA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIE9iamVjdC5lbnRyaWVzKHB1enpsZSkuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIEZELmFwcGVuZChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgIH0pO1xuICAgIFhIUi5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCAmJiB0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydlcnJvciddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZVsnZXJyb3InXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgWEhSLm9wZW4oXCJQT1NUXCIsIFwiL3B1enpsZVwiLCB0cnVlKTtcbiAgICBYSFIuc2VuZChGRCk7XG59XG4iLCAiaW1wb3J0ICogYXMgY2cgZnJvbSAnY2hlc3Nncm91bmR4L3R5cGVzJztcclxuaW1wb3J0ICogYXMgdXRpbCBmcm9tICdjaGVzc2dyb3VuZHgvdXRpbCc7XHJcbmltcG9ydCB7IHJlYWQgfSBmcm9tICdjaGVzc2dyb3VuZHgvZmVuJztcclxuXHJcbmltcG9ydCB7IF8gfSBmcm9tICcuL2kxOG4nO1xyXG5cclxuaW1wb3J0IHsgVmFyaWFudCwgdmFyaWFudEdyb3VwcyB9IGZyb20gJy4vdmFyaWFudHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJhbmtzVUNJID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCddIGFzIGNvbnN0O1xyXG5leHBvcnQgdHlwZSBVQ0lSYW5rID0gdHlwZW9mIHJhbmtzVUNJW251bWJlcl07XHJcbmV4cG9ydCB0eXBlIFVDSUtleSA9ICAnYTAnIHwgYCR7Y2cuRmlsZX0ke1VDSVJhbmt9YDtcclxuZXhwb3J0IHR5cGUgVUNJT3JpZyA9IFVDSUtleSB8IGNnLkRyb3BPcmlnO1xyXG5leHBvcnQgdHlwZSBQcm9tb3Rpb25TdWZmaXggPSBjZy5MZXR0ZXIgfCBcIitcIiB8IFwiLVwiIHwgXCJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFVDSU1vdmUgPSBgJHtVQ0lPcmlnfSR7VUNJS2V5fWA7IC8vIFRPRE86IHRoaXMgaXMgbWlzc2luZyBzdWZmaXggZm9yIHByb21vdGlvbiB3aGljaCBpcyBhbHNvIHBhcnQgb2YgdGhlIG1vdmVcclxuZXhwb3J0IHR5cGUgQ0dNb3ZlID0gYCR7Y2cuT3JpZ30ke2NnLktleX1gOyAvLyBUT0RPOiB0aGlzIGlzIG1pc3Npbmcgc3VmZml4IGZvciBwcm9tb3Rpb24gd2hpY2ggaXMgYWxzbyBwYXJ0IG9mIHRoZSBtb3ZlXHJcblxyXG5leHBvcnQgdHlwZSBDb2xvck5hbWUgPSBcIldoaXRlXCIgfCBcIkJsYWNrXCIgfCBcIlJlZFwiIHwgXCJCbHVlXCIgfCBcIkdvbGRcIiB8IFwiUGlua1wiIHwgXCJHcmVlblwiO1xyXG5leHBvcnQgdHlwZSBQcm9tb3Rpb25UeXBlID0gXCJyZWd1bGFyXCIgfCBcInNob2dpXCI7XHJcbmV4cG9ydCB0eXBlIFRpbWVDb250cm9sVHlwZSA9IFwiaW5jcmVtZW50YWxcIiB8IFwiYnlveW9taVwiO1xyXG5leHBvcnQgdHlwZSBDb3VudGluZ1R5cGUgPSBcIm1ha3J1a1wiIHwgXCJhc2VhblwiO1xyXG5leHBvcnQgdHlwZSBNYXRlcmlhbFBvaW50VHlwZSA9IFwiamFuZ2dpXCI7XHJcbmV4cG9ydCB0eXBlIEJvYXJkTWFya1R5cGUgPSBcImNhbXBtYXRlXCI7XHJcbmV4cG9ydCB0eXBlIFBpZWNlU291bmRUeXBlID0gXCJyZWd1bGFyXCIgfCBcImF0b21pY1wiIHwgXCJzaG9naVwiO1xyXG5cclxuY29uc3QgaGFuZGljYXBLZXl3b3JkcyA9IFsgXCJIQ1wiLCBcIkhhbmRpY2FwXCIsIFwiT2Rkc1wiIF07XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0hhbmRpY2FwKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGhhbmRpY2FwS2V5d29yZHMuc29tZShrZXl3b3JkID0+IG5hbWUuZW5kc1dpdGgoa2V5d29yZCkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzQ2FzdGxpbmcodmFyaWFudDogVmFyaWFudCwgY29sb3I6IGNnLkNvbG9yKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodmFyaWFudC5uYW1lID09PSAncGxhY2VtZW50JykgcmV0dXJuIHRydWU7XHJcbiAgICBjb25zdCBjYXN0bCA9IHZhcmlhbnQuc3RhcnRGZW4uc3BsaXQoJyAnKVsyXTtcclxuICAgIGlmIChjb2xvciA9PT0gJ3doaXRlJykge1xyXG4gICAgICAgIHJldHVybiBjYXN0bC5pbmNsdWRlcygnS1EnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGNhc3RsLmluY2x1ZGVzKCdrcScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdWNpMmNnKG1vdmU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gbW92ZS5yZXBsYWNlKC8xMC9nLCBcIjpcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1Y2kyTGFzdE1vdmUobW92ZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogY2cuT3JpZ1tdIHwgdW5kZWZpbmVkIHtcclxuICAgIGlmICghbW92ZSkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGxldCBtb3ZlU3RyID0gdWNpMmNnKG1vdmUpO1xyXG4gICAgaWYgKG1vdmVTdHIuc3RhcnRzV2l0aCgnKycpKSBtb3ZlU3RyID0gbW92ZVN0ci5zbGljZSgxKTtcclxuICAgIGNvbnN0IGNvbW1hID0gbW92ZVN0ci5pbmRleE9mKCcsJyk7XHJcbiAgICBjb25zdCBsYXN0TW92ZSA9IFsgbW92ZVN0ci5zbGljZSgwLCAyKSBhcyBjZy5PcmlnLCBtb3ZlU3RyLnNsaWNlKDIsIDQpIGFzIGNnLktleSBdO1xyXG4gICAgaWYgKGNvbW1hID4gLTEpIGxhc3RNb3ZlLnB1c2gobW92ZVN0ci5zbGljZSgtMikgYXMgY2cuS2V5KTtcclxuICAgIHJldHVybiBsYXN0TW92ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNnMnVjaShtb3ZlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIG1vdmUucmVwbGFjZSgvOi9nLCBcIjEwXCIpO1xyXG59XHJcblxyXG4vLyBUT0RPIFdpbGwgYmUgZGVwcmVjYXRlZCBhZnRlciBXQVNNIEZhaXJ5IGludGVncmF0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZEZlbih2YXJpYW50OiBWYXJpYW50LCBmZW46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgYXMgPSB2YXJpYW50LmFsdGVybmF0ZVN0YXJ0O1xyXG4gICAgaWYgKGFzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXMpLnNvbWUoKGtleSkgPT4ge3JldHVybiBhc1trZXldLmluY2x1ZGVzKGZlbik7fSkpIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdmFyaWFudE5hbWUgPSB2YXJpYW50Lm5hbWU7XHJcbiAgICBjb25zdCBzdGFydGZlbiA9IHZhcmlhbnQuc3RhcnRGZW47XHJcbiAgICBjb25zdCBzdGFydCA9IHN0YXJ0ZmVuLnNwbGl0KCcgJyk7XHJcbiAgICBjb25zdCBwYXJ0cyA9IGZlbi5zcGxpdCgnICcpO1xyXG5cclxuICAgIC8vIE5lZWQgc3RhcnRpbmcgY29sb3JcclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgLy8gQWxsb3dlZCBjaGFyYWN0ZXJzIGluIHBsYWNlbWVudCBwYXJ0XHJcbiAgICBjb25zdCBwbGFjZW1lbnQgPSBwYXJ0c1swXTtcclxuICAgIGNvbnN0IHN0YXJ0UGxhY2VtZW50ID0gc3RhcnRbMF07XHJcbiAgICBsZXQgZ29vZCA9IHN0YXJ0UGxhY2VtZW50ICsgXHJcbiAgICAgICAgKCh2YXJpYW50TmFtZSA9PT0gXCJvcmRhXCIpID8gXCJIcVwiIDogXCJcIikgK1xyXG4gICAgICAgICgodmFyaWFudE5hbWUgPT09IFwiZG9idXRzdVwiKSA/IFwiSGhcIiA6IFwiXCIpICtcclxuICAgICAgICAoKHZhcmlhbnROYW1lID09PSBcImR1Y2tcIikgPyBcIipcIiA6IFwiXCIpICtcclxuICAgICAgICBcIn4rMDEyMzQ1Njc4OVtdLVwiO1xyXG4gICAgY29uc3QgYWxpZW4gPSAoZWxlbWVudDogc3RyaW5nKSA9PiAhZ29vZC5pbmNsdWRlcyhlbGVtZW50KTtcclxuICAgIGlmIChwbGFjZW1lbnQuc3BsaXQoJycpLnNvbWUoYWxpZW4pKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKHZhcmlhbnROYW1lID09PSBcImR1Y2tcIiAmJiBsYyhwbGFjZW1lbnQsIFwiKlwiLCBmYWxzZSkgPiAxKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgLy8gQnJhY2tldHMgcGFpcmVkXHJcbiAgICBpZiAobGMocGxhY2VtZW50LCAnWycsIGZhbHNlKSAhPT0gbGMocGxhY2VtZW50LCAnXScsIGZhbHNlKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHJcbiAgICAvLyBDaGVjayB3aXRoIGNoZXNzZ3JvdW5keCdzIHBhcnNpbmdcclxuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB2YXJpYW50LmJvYXJkLmRpbWVuc2lvbnM7XHJcbiAgICBjb25zdCB3aWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcclxuICAgIGNvbnN0IGJvYXJkU3RhdGUgPSByZWFkKHBsYWNlbWVudCwgZGltZW5zaW9ucyk7XHJcblxyXG4gICAgLy8gQ29ycmVjdCBib2FyZCBzaXplXHJcbiAgICBpZiAobGMocGxhY2VtZW50LCAnLycsIGZhbHNlKSA8IGhlaWdodCAtIDEpIHJldHVybiBmYWxzZTtcclxuICAgIGZvciAoY29uc3QgW2ssIF9dIG9mIGJvYXJkU3RhdGUucGllY2VzKSB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdXRpbC5rZXkycG9zKGspO1xyXG4gICAgICAgIGlmIChwb3NbMF0gPiB3aWR0aCAtIDEgfHwgcG9zWzFdID4gaGVpZ2h0IC0gMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRvdWNoaW5nIGtpbmdzXHJcbiAgICBpZiAodmFyaWFudE5hbWUgIT09ICdhdG9taWMnICYmIHRvdWNoaW5nS2luZ3MoYm9hcmRTdGF0ZS5waWVjZXMpKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgLy8gU3RhcnRpbmcgY29sb3JzXHJcbiAgICBpZiAocGFydHNbMV0gIT09ICdiJyAmJiBwYXJ0c1sxXSAhPT0gJ3cnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgLy8gQ2FzdGxpbmcgcmlnaHRzIChwaWVjZSB2aXJnaW5pdHkpXHJcbiAgICBnb29kID0gKHZhcmlhbnROYW1lID09PSAnc2VpcmF3YW4nIHx8IHZhcmlhbnROYW1lID09PSAnc2hvdXNlJykgPyAnS1FBQkNERUZHSGtxYWJjZGVmZ2gtJyA6IHN0YXJ0WzJdICsgXCItXCI7XHJcbiAgICBjb25zdCB3cm9uZyA9IChlbGVtZW50OiBzdHJpbmcpID0+ICFnb29kLmluY2x1ZGVzKGVsZW1lbnQpO1xyXG4gICAgY29uc3Qgcm9va1N0YXJ0OiB7IFtyaWdodDogc3RyaW5nXTogY2cuUG9zIH0gPSB7XHJcbiAgICAgICAgSzogKHZhcmlhbnROYW1lID09PSAnc2hha28nKSA/IFt3aWR0aCAtIDIsIDFdIDogW3dpZHRoIC0gMSwgMF0sXHJcbiAgICAgICAgUTogKHZhcmlhbnROYW1lID09PSAnc2hha28nKSA/IFsxLCAxXSA6IFswLCAwXSxcclxuICAgICAgICBrOiAodmFyaWFudE5hbWUgPT09ICdzaGFrbycpID8gW3dpZHRoIC0gMiwgaGVpZ2h0IC0gMl0gOiBbd2lkdGggLSAxLCBoZWlnaHQgLSAxXSxcclxuICAgICAgICBxOiAodmFyaWFudE5hbWUgPT09ICdzaGFrbycpID8gWzEsIGhlaWdodCAtIDJdIDogWzAsIGhlaWdodCAtIDFdLFxyXG4gICAgfTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAyICYmIHZhcmlhbnROYW1lICE9PSAnZG9idXRzdScpIHtcclxuICAgICAgICBpZiAocGFydHNbMl0uc3BsaXQoJycpLnNvbWUod3JvbmcpKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IENoZWNraW5nIFMtY2hlc3M5NjAgRkVOIGlzIHRyaWNreVxyXG4gICAgICAgIC8vIEVkaXRvciBhbmQgQW5hbHlzaXMgYm9hcmQgbmVlZHMgY2hlc3M5NjAgY2hlY2tib3ggc2ltaWxhciB0byBuZXcgZ2FtZSBkaWFsb2cgZmlyc3RcclxuXHJcbiAgICAgICAgLy8gSXQgaXMgYmV0dGVyIHRvIGVuYWJsZSBjYXN0bGluZyByaWdodCB2YWxpZGF0aW9uIGZvciBzZWlyYXdhbiBhbmQgc2hvdXNlIGFzIHdlbGwgdG8gYmUgc2FmZVxyXG4gICAgICAgIC8vaWYgKHZhcmlhbnROYW1lICE9PSAnc2VpcmF3YW4nICYmIHZhcmlhbnROYW1lICE9PSAnc2hvdXNlJykge1xyXG4gICAgICAgICAgICAvLyBDYXN0bGluZyByaWdodCBuZWVkIHJvb2tzIGFuZCBraW5nIHBsYWNlZCBpbiBzdGFydGluZyBzcXVhcmVcclxuICAgICAgICAgICAgLy8gY2FwYWJsYW5jYTogXCJybmFicWtiY25yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkFCUUtCQ05SIHcgS1FrcSAtIDAgMVwiLFxyXG4gICAgICAgICAgICAvLyBzaGFrbzogXCJjOGMvZXJuYnFrYm5yZS9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvRVJOQlFLQk5SRS9DOEMgdyBLUWtxIC0gMCAxXCIsXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBwYXJ0c1syXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSByb29rU3RhcnRbY10gPyBib2FyZFN0YXRlLnBpZWNlcy5nZXQodXRpbC5wb3Mya2V5KHJvb2tTdGFydFtjXSkpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjID09PSBjLnRvVXBwZXJDYXNlKCkgPyAnd2hpdGUnIDogJ2JsYWNrJztcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0snOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1EnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2snOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3EnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBpZWNlIHx8ICF1dGlsLnNhbWVQaWVjZShwaWVjZSwgeyByb2xlOiAnci1waWVjZScsIGNvbG9yOiBjb2xvciB9KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjaGVjayBraW5nIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gR2F0aW5nIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgICAvLyBOdW1iZXIgb2Yga2luZ3NcclxuICAgIGNvbnN0IGtpbmcgPSB1dGlsLmxldHRlck9mKHZhcmlhbnQua2luZ1JvbGVzWzBdKTtcclxuICAgIGNvbnN0IGJLID0gbGMocGxhY2VtZW50LCBraW5nLCBmYWxzZSk7XHJcbiAgICBjb25zdCB3SyA9IGxjKHBsYWNlbWVudCwga2luZywgdHJ1ZSk7XHJcbiAgICBpZiAodmFyaWFudE5hbWUgPT09ICdzcGFydGFuJykge1xyXG4gICAgICAgIGlmIChiSyA9PT0gMCB8fCBiSyA+IDIgfHwgd0sgIT09IDEpIHJldHVybiBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGJLICE9PSAxIHx8IHdLICE9PSAxKSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpZmYoYTogbnVtYmVyLCBiOm51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b3VjaGluZ0tpbmdzKHBpZWNlczogY2cuUGllY2VzKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgd2sgPSAneHgnLCBiayA9ICd6eic7XHJcbiAgICBmb3IgKGNvbnN0IFtrLCBwXSBvZiBwaWVjZXMpIHtcclxuICAgICAgICBpZiAocC5yb2xlID09PSBcImstcGllY2VcIikge1xyXG4gICAgICAgICAgICBpZiAocC5jb2xvciA9PT0gJ3doaXRlJykgd2sgPSBrO1xyXG4gICAgICAgICAgICBpZiAocC5jb2xvciA9PT0gJ2JsYWNrJykgYmsgPSBrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHRvdWNoaW5nID0gZGlmZih3ay5jaGFyQ29kZUF0KDApLCBiay5jaGFyQ29kZUF0KDApKSA8PSAxICYmIGRpZmYod2suY2hhckNvZGVBdCgxKSwgYmsuY2hhckNvZGVBdCgxKSkgPD0gMTtcclxuICAgIHJldHVybiB0b3VjaGluZztcclxufVxyXG5cclxuLy8gcG9ja2V0IHBhcnQgb2YgdGhlIEZFTiAoaW5jbHVkaW5nIGJyYWNrZXRzKVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9ja2V0cyhmZW46IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBwbGFjZW1lbnQgPSBmZW4uc3BsaXQoXCIgXCIpWzBdO1xyXG4gICAgbGV0IHBvY2tldHMgPSBcIlwiO1xyXG4gICAgY29uc3QgYnJhY2tldFBvcyA9IHBsYWNlbWVudC5pbmRleE9mKFwiW1wiKTtcclxuICAgIGlmIChicmFja2V0UG9zICE9PSAtMSlcclxuICAgICAgICBwb2NrZXRzID0gcGxhY2VtZW50LnNsaWNlKGJyYWNrZXRQb3MpO1xyXG4gICAgcmV0dXJuIHBvY2tldHM7XHJcbn1cclxuXHJcbi8vIEdldCBjb3VudGluZyBpbmZvcm1hdGlvbiBmb3IgbWFrcnVrIGV0IGFsXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudGluZyhmZW46IHN0cmluZyk6IFtudW1iZXIsIG51bWJlciwgc3RyaW5nLCBzdHJpbmddIHtcclxuICAgIGNvbnN0IHBhcnRzID0gZmVuLnNwbGl0KFwiIFwiKTtcclxuXHJcbiAgICBsZXQgY291bnRpbmdQbHkgPSBOdW1iZXIocGFydHNbNF0pO1xyXG4gICAgaWYgKGlzTmFOKGNvdW50aW5nUGx5KSkgY291bnRpbmdQbHkgPSAwO1xyXG5cclxuICAgIGxldCBjb3VudGluZ0xpbWl0ID0gTnVtYmVyKHBhcnRzWzNdKTtcclxuICAgIGlmIChpc05hTihjb3VudGluZ0xpbWl0KSkgY291bnRpbmdMaW1pdCA9IDA7XHJcblxyXG4gICAgY29uc3QgYm9hcmQgPSBwYXJ0c1swXTtcclxuICAgIGNvbnN0IHdoaXRlUGllY2VzID0gKGJvYXJkLm1hdGNoKC9bQS1aXS9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgY29uc3QgYmxhY2tQaWVjZXMgPSAoYm9hcmQubWF0Y2goL1thLXpdL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICBjb25zdCBwYXducyA9IChib2FyZC5tYXRjaCgvW1BwXS9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgY29uc3QgY291bnRpbmdUeXBlID0gKGNvdW50aW5nTGltaXQgPT09IDApID8gJ25vbmUnIDogKHBhd25zID09PSAwICYmICh3aGl0ZVBpZWNlcyA8PSAxIHx8IGJsYWNrUGllY2VzIDw9IDEpID8gJ3BpZWNlJyA6ICdib2FyZCcpO1xyXG5cclxuICAgIGNvbnN0IHNpZGVUb01vdmUgPSBwYXJ0c1sxXTtcclxuICAgIGNvbnN0IG9wcG9uZW50ID0gKHNpZGVUb01vdmUgPT09ICd3JykgPyAnYicgOiAndyc7XHJcbiAgICBjb25zdCBjb3VudGluZ1NpZGUgPSAoY291bnRpbmdUeXBlID09PSAnbm9uZScgfHwgY291bnRpbmdQbHkgPT09IDApID8gJycgOiAoKGNvdW50aW5nUGx5ICUgMiA9PT0gMCkgPyBzaWRlVG9Nb3ZlIDogb3Bwb25lbnQpO1xyXG5cclxuICAgIHJldHVybiBbY291bnRpbmdQbHksIGNvdW50aW5nTGltaXQsIGNvdW50aW5nU2lkZSwgY291bnRpbmdUeXBlXTtcclxufVxyXG5cclxuLy8gR2V0IGphbmdnaSBtYXRlcmlhbCBwb2ludHNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEphbmdnaVBvaW50cyhib2FyZDogc3RyaW5nKTogbnVtYmVyW10ge1xyXG4gICAgbGV0IGNob1BvaW50ID0gMDtcclxuICAgIGxldCBoYW5Qb2ludCA9IDEuNTtcclxuICAgIGZvciAoY29uc3QgYyBvZiBib2FyZCkge1xyXG4gICAgICAgIHN3aXRjaCAoYykge1xyXG4gICAgICAgICAgICBjYXNlICdQJzogY2hvUG9pbnQgKz0gMjsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0EnOlxyXG4gICAgICAgICAgICBjYXNlICdCJzogY2hvUG9pbnQgKz0gMzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ04nOiBjaG9Qb2ludCArPSA1OyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnQyc6IGNob1BvaW50ICs9IDc7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdSJzogY2hvUG9pbnQgKz0gMTM7IGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAncCc6IGhhblBvaW50ICs9IDI7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgY2FzZSAnYic6IGhhblBvaW50ICs9IDM7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICduJzogaGFuUG9pbnQgKz0gNTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2MnOiBoYW5Qb2ludCArPSA3OyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncic6IGhhblBvaW50ICs9IDEzOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2Nob1BvaW50LCBoYW5Qb2ludF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1bnByb21vdGVkUm9sZSh2YXJpYW50OiBWYXJpYW50LCBwaWVjZTogY2cuUGllY2UpOiBjZy5Sb2xlIHtcclxuICAgIGlmIChwaWVjZS5wcm9tb3RlZCkge1xyXG4gICAgICAgIGlmICh2YXJpYW50LnByb21vdGlvbi50eXBlID09PSAnc2hvZ2knKVxyXG4gICAgICAgICAgICByZXR1cm4gcGllY2Uucm9sZS5zbGljZSgxKSBhcyBjZy5Sb2xlO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuICdwLXBpZWNlJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHBpZWNlLnJvbGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9tb3RlZFJvbGUodmFyaWFudDogVmFyaWFudCwgcGllY2U6IGNnLlBpZWNlKTogY2cuUm9sZSB7XHJcbiAgICBpZiAoIXBpZWNlLnByb21vdGVkICYmIHZhcmlhbnQucHJvbW90aW9uLnJvbGVzLmluY2x1ZGVzKHBpZWNlLnJvbGUpKSB7XHJcbiAgICAgICAgaWYgKHZhcmlhbnQucHJvbW90aW9uLnR5cGUgPT09ICdzaG9naScpXHJcbiAgICAgICAgICAgIHJldHVybiAncCcgKyBwaWVjZS5yb2xlIGFzIGNnLlJvbGU7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gdXRpbC5yb2xlT2YodmFyaWFudC5wcm9tb3Rpb24ub3JkZXJbMF0gYXMgY2cuTGV0dGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHBpZWNlLnJvbGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENvbnZlcnQgYSBsaXN0IG9mIG1vdmVzIHRvIGNoZXNzZ3JvdW5kIGRlc3RpbmF0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3ZlRGVzdHMobGVnYWxNb3ZlczogVUNJTW92ZVtdKTogY2cuRGVzdHMge1xyXG4gICAgY29uc3QgZGVzdHM6IGNnLkRlc3RzID0gbmV3IE1hcCgpO1xyXG4gICAgbGVnYWxNb3Zlcy5tYXAodWNpMmNnKS5mb3JFYWNoKG1vdmUgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9yaWcgPSBtb3ZlLnNsaWNlKDAsIDIpIGFzIGNnLktleTtcclxuICAgICAgICBjb25zdCBkZXN0ID0gbW92ZS5zbGljZSgyLCA0KSBhcyBjZy5LZXk7XHJcbiAgICAgICAgaWYgKGRlc3RzLmhhcyhvcmlnKSlcclxuICAgICAgICAgICAgZGVzdHMuZ2V0KG9yaWcpIS5wdXNoKGRlc3QpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZGVzdHMuc2V0KG9yaWcsIFsgZGVzdCBdKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRlc3RzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvbW90aW9uU3VmZml4KG1vdmU6IFVDSU1vdmUgfCBDR01vdmUpOiBQcm9tb3Rpb25TdWZmaXgge1xyXG4gICAgaWYgKG1vdmUuc3RhcnRzV2l0aCgnKycpKSB7XHJcbiAgICAgICAgcmV0dXJuICcrJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgY29tbWEgPSBtb3ZlLmluZGV4T2YoJywnKTtcclxuICAgICAgICBpZiAoY29tbWEgPiAtMSkgbW92ZSA9IG1vdmUuc3Vic3RyaW5nKDAsIGNvbW1hKSBhcyBVQ0lNb3ZlO1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBtb3ZlLnNsaWNlKC0xKTtcclxuICAgICAgICBpZiAobGFzdC5tYXRjaCgvW2EteistXS8pKVxyXG4gICAgICAgICAgICByZXR1cm4gbGFzdCBhcyBQcm9tb3Rpb25TdWZmaXg7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENvdW50IGdpdmVuIGxldHRlciBvY2N1cmVuY2VzIGluIGEgc3RyaW5nXHJcbmV4cG9ydCBmdW5jdGlvbiBsYyhzdHI6IHN0cmluZywgbGV0dGVyOiBzdHJpbmcsIHVwcGVyY2FzZTogYm9vbGVhbik6IG51bWJlciB7XHJcbiAgICBpZiAodXBwZXJjYXNlKVxyXG4gICAgICAgIGxldHRlciA9IGxldHRlci50b1VwcGVyQ2FzZSgpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIGxldHRlciA9IGxldHRlci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgbGV0IGxldHRlckNvdW50ID0gMDtcclxuICAgIGZvciAobGV0IHBvc2l0aW9uID0gMDsgcG9zaXRpb24gPCBzdHIubGVuZ3RoOyBwb3NpdGlvbisrKVxyXG4gICAgICAgIGlmIChzdHIuY2hhckF0KHBvc2l0aW9uKSA9PT0gbGV0dGVyKVxyXG4gICAgICAgICAgICBsZXR0ZXJDb3VudCArPSAxO1xyXG4gICAgcmV0dXJuIGxldHRlckNvdW50O1xyXG59XHJcblxyXG4vLyBDb252ZXJ0IHRoZSBzdHJpbmcgdG8gdXBwZXJjYXNlIGlmIGNvbG9yIGlzIHdoaXRlLFxyXG4vLyBvciBjb252ZXJ0IGl0IHRvIGxvd2VyY2FzZSBpZiBjb2xvciBpcyBibGFja1xyXG5leHBvcnQgZnVuY3Rpb24gY29sb3JDYXNlKGNvbG9yOiBjZy5Db2xvciwgc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKGNvbG9yID09PSAnd2hpdGUnKVxyXG4gICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb2xvckljb24odmFyaWFudDogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSB7XHJcbiAgICBpZiAodmFyaWFudEdyb3Vwcy5zaG9naS52YXJpYW50cy5pbmNsdWRlcyh2YXJpYW50KSkge1xyXG4gICAgICAgIHJldHVybiAoY29sb3IgPT09ICdCbGFjaycpID8gJ2ljb24tc2VudGUnIDogJ2ljb24tZ290ZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBgaWNvbi0ke2NvbG9yLnRvTG93ZXJDYXNlKCl9YDtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0ICogYXMgY2cgZnJvbSAnY2hlc3Nncm91bmR4L3R5cGVzJztcblxuaW1wb3J0IHsgR2FtZUNvbnRyb2xsZXIgfSBmcm9tICdAL2dhbWVDdHJsJztcblxuZXhwb3J0IHR5cGUgSW5wdXRUeXBlID0gJ2dhdGluZycgfCAncHJvbW90aW9uJyB8ICdkdWNrJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV4dHJhSW5wdXQge1xuICAgIHByb3RlY3RlZCByZWFkb25seSBjdHJsOiBHYW1lQ29udHJvbGxlcjtcbiAgICBwcm90ZWN0ZWQgdHlwZTogSW5wdXRUeXBlO1xuICAgIHByb3RlY3RlZCBkYXRhPzogeyBwaWVjZTogY2cuUGllY2UsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuTW92ZU1ldGFkYXRhIH07XG5cbiAgICBjb25zdHJ1Y3RvcihjdHJsOiBHYW1lQ29udHJvbGxlcikge1xuICAgICAgICB0aGlzLmN0cmwgPSBjdHJsO1xuICAgIH1cblxuICAgIGFic3RyYWN0IHN0YXJ0KHBpZWNlOiBjZy5QaWVjZSwgb3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhOiBjZy5Nb3ZlTWV0YWRhdGEpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIG5leHQoc3VmZml4OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSlcbiAgICAgICAgICAgIHRoaXMuY3RybC5wcm9jZXNzSW5wdXQodGhpcy5kYXRhLnBpZWNlLCB0aGlzLmRhdGEub3JpZywgdGhpcy5kYXRhLmRlc3QsIHRoaXMuZGF0YS5tZXRhLCBzdWZmaXgsIHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaCwgVk5vZGUsIHRvVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XHJcblxyXG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJ2NoZXNzZ3JvdW5keC91dGlsJztcclxuaW1wb3J0ICogYXMgY2cgZnJvbSAnY2hlc3Nncm91bmR4L3R5cGVzJztcclxuXHJcbmltcG9ydCB7IGNvbG9yQ2FzZSwgcHJvbW90aW9uU3VmZml4IH0gZnJvbSAnQC9jaGVzcyc7XHJcbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSAnQC9nYW1lQ3RybCc7XHJcbmltcG9ydCB7IHBhdGNoLCBiaW5kIH0gZnJvbSAnQC9kb2N1bWVudCc7XHJcbmltcG9ydCB7IEV4dHJhSW5wdXQgfSBmcm9tICcuL2lucHV0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYXRpbmdJbnB1dCBleHRlbmRzIEV4dHJhSW5wdXQge1xyXG4gICAgcHJpdmF0ZSBjaG9pY2VzOiBQYXJ0aWFsPFJlY29yZDxjZy5LZXksIChjZy5Sb2xlIHwgJycpW10+PjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjdHJsOiBHYW1lQ29udHJvbGxlcikge1xyXG4gICAgICAgIHN1cGVyKGN0cmwpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdnYXRpbmcnO1xyXG4gICAgICAgIHRoaXMuY2hvaWNlcyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBOT1RFOiBUaGlzIGNvZGUgb25seSB3b3JrcyB3aXRoIFMtQ2hlc3MsIFMtQ2hlc3M5NjAsIGFuZCBTLUhvdXNlXHJcbiAgICAgKiAgICAgICBTb21lIHBhcnRzIGFzc3VtZSBhbiA4eDggYm9hcmRcclxuICAgICAqICAgICAgIFBsZWFzZSBtb2RpZnkgYXMgeW91IHNlZSBmaXQgaWYgb3RoZXIgZ2F0aW5nIHZhcmlhbnRzIGNvbWUgYWxvbmdcclxuICAgICAqL1xyXG4gICAgc3RhcnQocGllY2U6IGNnLlBpZWNlLCBvcmlnOiBjZy5PcmlnLCBkZXN0OiBjZy5LZXksIG1ldGE6IGNnLk1vdmVNZXRhZGF0YSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IHsgcGllY2UsIG9yaWcsIGRlc3QsIG1ldGEgfTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmN0cmwudmFyaWFudC5ydWxlcy5nYXRlIHx8IHV0aWwuaXNEcm9wT3JpZyhvcmlnKSB8fCAhdGhpcy5jYW5HYXRlKG9yaWcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dCgnLScpOyAvLyBUaGUgJy0nIHN1ZmZpeCBtZWFucyBnYXRpbmcgaXMgbm90IGluaXRpYXRlZCBhbmQgdGVsbCB0aGUgY29udHJvbGxlciB0byBpbml0aWF0ZSBwcm9tb3Rpb24gaW5zdGVhZFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNob2ljZXMgPSB7fTtcclxuICAgICAgICB0aGlzLmNob2ljZXNbb3JpZ10gPSB0aGlzLmdhdGluZ0Nob2ljZXMob3JpZywgZGVzdCk7XHJcblxyXG4gICAgICAgIGlmIChwaWVjZS5yb2xlID09PSAnay1waWVjZScgJiYgb3JpZ1sxXSA9PT0gZGVzdFsxXSkge1xyXG4gICAgICAgICAgICAvLyBIYW5kbGUgY2FzdGxpbmcgZ2l2aW5nIGdhdGluZyBjaG9pY2VzIG9uIHR3byBzcXVhcmVzXHJcbiAgICAgICAgICAgIGNvbnN0IHJvb2tPcmlnID0gdGhpcy5jdHJsLmNoZXNzOTYwID8gZGVzdCA6IChkZXN0WzBdID09PSAnZycgPyAnaCcgOiAnYScpICsgb3JpZ1sxXSBhcyBjZy5LZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvb2tDaG9pY2VzID0gdGhpcy5nYXRpbmdDaG9pY2VzKHJvb2tPcmlnLCBvcmlnKTtcclxuICAgICAgICAgICAgaWYgKHJvb2tDaG9pY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJvb2tDaG9pY2VzLnB1c2goJycpOyAvLyBBZGQgdGhlIGVtcHR5IGNob2ljZSB0byB0aGUgcm9vayBzcXVhcmUgZm9yIGFlc3RoZXRpY3NcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hvaWNlc1tyb29rT3JpZ10gPSByb29rQ2hvaWNlcztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNob2ljZXNbb3JpZ10hLmxlbmd0aCA8PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgY2hvaWNlIGZyb20gdGhlIGtpbmcncyBzcXVhcmVcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB5b3UgY2FuIGdhdGUgb24gdGhlIHJvb2sncyBzcXVhcmUgYnV0IG5vdCB0aGUga2luZydzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBwdXJlbHkgZm9yIGFlc3RoZXRpY3NcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jaG9pY2VzW29yaWddO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5jaG9pY2VzKTtcclxuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYgdGhpcy5jaG9pY2VzW2tleXNbMF0gYXMgY2cuS2V5XSEubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2VzIG9mIDk2MCBjYXN0bGluZyB3aXRoIG5vIHBvc3NpYmxlIGdhdGluZyBzcXVhcmVcclxuICAgICAgICAgICAgLy8gYW5kIFMtSG91c2UgbW92aW5nIGFuIHVubW92ZWQgcGllY2Ugd2l0aCBub3RoaW5nIGluIHRoZSBwb2NrZXRcclxuICAgICAgICAgICAgdGhpcy5maW5pc2goJycsIG9yaWcpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5kcmF3R2F0aW5nKHBpZWNlLmNvbG9yLCB0aGlzLmN0cmwuY2hlc3Nncm91bmQuc3RhdGUub3JpZW50YXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FuR2F0ZShvcmlnOiBjZy5LZXkpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBmZW4gPSB0aGlzLmN0cmwuZnVsbGZlbjtcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IGZlbi5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgY29uc3QgY2FzdGxpbmcgPSBwYXJ0c1syXTtcclxuICAgICAgICBjb25zdCBjb2xvciA9IHBhcnRzWzFdID09PSAndycgPyAnd2hpdGUnIDogJ2JsYWNrJztcclxuICAgICAgICBjb25zdCBnYXRlUmFuayA9IGNvbG9yID09PSAnd2hpdGUnID8gJzEnIDogJzgnO1xyXG4gICAgICAgIGlmIChvcmlnWzFdID09PSBnYXRlUmFuaykge1xyXG4gICAgICAgICAgICBpZiAoY2FzdGxpbmcuaW5jbHVkZXMoY29sb3JDYXNlKGNvbG9yLCBvcmlnWzBdKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jdHJsLmNoZXNzOTYwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiBub24tOTYwLCBpZiBib3RoIHRoZSBraW5nIGFuZCB0aGUgY29ycmVzcG9uZGluZyByb29rIGhhdmVuJ3QgbW92ZWQsXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgdmlyZ2luaXR5IG9mIEJPVEggcGllY2VzIHdpbGwgYmUgZW5jb2RlZCBpbiB0aGUgY2FzdGxpbmcgcmlnaHRcclxuICAgICAgICAgICAgICAgIGlmIChvcmlnWzBdID09PSAnZScgfHwgb3JpZ1swXSA9PT0gJ2gnKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXN0bGluZy5pbmNsdWRlcyhjb2xvckNhc2UoY29sb3IsICdLJykpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChvcmlnWzBdID09PSAnZScgfHwgb3JpZ1swXSA9PT0gJ2EnKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXN0bGluZy5pbmNsdWRlcyhjb2xvckNhc2UoY29sb3IsICdRJykpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnYXRpbmdDaG9pY2VzKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5KTogKGNnLlJvbGUgfCAnJylbXSB7XHJcbiAgICAgICAgY29uc3QgcG9zc2libGVHYXRpbmcgPSB0aGlzLmN0cmwubGVnYWxNb3ZlcygpLmZpbHRlcihtb3ZlID0+IG1vdmUuaW5jbHVkZXMob3JpZyArIGRlc3QpKTtcclxuICAgICAgICByZXR1cm4gcG9zc2libGVHYXRpbmcubWFwKHByb21vdGlvblN1ZmZpeCkubWFwKHMgPT4gcyA9PT0gJycgPyAnJyA6IHV0aWwucm9sZU9mKHMgYXMgY2cuTGV0dGVyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnYXRlKHBpZWNlOiBjZy5QaWVjZSwga2V5OiBjZy5LZXkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmN0cmwuY2hlc3Nncm91bmQubmV3UGllY2UocGllY2UsIGtleSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3R2F0aW5nKGNvbG9yOiBjZy5Db2xvciwgb3JpZW50YXRpb246IGNnLkNvbG9yKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdG9WTm9kZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdleHRlbnNpb24nKSBhcyBOb2RlKTtcclxuICAgICAgICBwYXRjaChjb250YWluZXIsIHRoaXMudmlldyhjb2xvciwgb3JpZW50YXRpb24pKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXdOb0dhdGluZygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0ZW5zaW9uX2Nob2ljZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHBhdGNoKGNvbnRhaW5lciwgaCgnZXh0ZW5zaW9uJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluaXNoKHJvbGU6IGNnLlJvbGUgfCAnJywga2V5OiBjZy5LZXkpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvbGUsIGtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd05vR2F0aW5nKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxldHRlciA9IHJvbGUgPT09ICcnID8gJycgOiB1dGlsLmxldHRlck9mKHJvbGUpO1xyXG4gICAgICAgICAgICBpZiAocm9sZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dCgnJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhdGUoeyByb2xlOiByb2xlLCBjb2xvcjogdGhpcy5kYXRhLnBpZWNlLmNvbG9yIH0sIGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLmRhdGEub3JpZylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQobGV0dGVyKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3RsaW5nTmV4dChsZXR0ZXIsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jaG9pY2VzID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FzdGxpbmdOZXh0KHN1ZmZpeDogc3RyaW5nLCBrZXk6IGNnLktleSk6IHZvaWQge1xyXG4gICAgICAgIC8vIEhhbmRsZSBnYXRpbmcgb24gdGhlIHJvb2sncyBzcXVhcmUgaW4gY2FzdGxpbmdcclxuICAgICAgICBpZiAodGhpcy5kYXRhKVxyXG4gICAgICAgICAgICB0aGlzLmN0cmwucHJvY2Vzc0lucHV0KHRoaXMuZGF0YS5waWVjZSwga2V5LCB0aGlzLmRhdGEub3JpZyBhcyBjZy5LZXksIHRoaXMuZGF0YS5tZXRhLCBzdWZmaXgsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FuY2VsKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZHJhd05vR2F0aW5nKCk7XHJcbiAgICAgICAgdGhpcy5jdHJsLmdvUGx5KHRoaXMuY3RybC5wbHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3F1YXJlVmlldyhvcmlnOiBjZy5LZXksIGNvbG9yOiBjZy5Db2xvciwgb3JpZW50YXRpb246IGNnLkNvbG9yKTogVk5vZGVbXSB7XHJcbiAgICAgICAgY29uc3QgbGVmdEZpbGUgPSB1dGlsLmtleTJwb3Mob3JpZylbMF07XHJcbiAgICAgICAgY29uc3QgbGVmdCA9IChvcmllbnRhdGlvbiA9PT0gXCJ3aGl0ZVwiID8gbGVmdEZpbGUgOiA3IC0gbGVmdEZpbGUpICogMTIuNTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaG9pY2VzW29yaWddIS5tYXAoKHJvbGUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdG9wID0gKGNvbG9yID09PSBvcmllbnRhdGlvbiA/IDcgLSBpIDogaSkgKiAxMi41O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb2xlLCBvcmlnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGgoXCJzcXVhcmVcIiwge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgdG9wOiB0b3AgKyBcIiVcIiwgbGVmdDogbGVmdCArIFwiJVwiIH0sXHJcbiAgICAgICAgICAgICAgICBob29rOiBiaW5kKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaChyb2xlLCBvcmlnKTtcclxuICAgICAgICAgICAgICAgIH0sIG51bGwpXHJcbiAgICAgICAgICAgIH0sIFtcclxuICAgICAgICAgICAgICAgIGgoXCJwaWVjZS5cIiArIHJvbGUgKyBcIi5cIiArIGNvbG9yKVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmlldyhjb2xvcjogY2cuQ29sb3IsIG9yaWVudGF0aW9uOiBjZy5Db2xvcik6IFZOb2RlIHtcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjb2xvciA9PT0gb3JpZW50YXRpb24gPyBcInRvcFwiIDogXCJib3R0b21cIjtcclxuICAgICAgICBsZXQgc3F1YXJlczogVk5vZGVbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHBvY2tldCA9IHRoaXMuY3RybC52YXJpYW50LnBvY2tldCEucm9sZXNbY29sb3JdO1xyXG4gICAgICAgIGxldCBvcmlnOiBjZy5LZXk7XHJcbiAgICAgICAgZm9yIChvcmlnIGluIHRoaXMuY2hvaWNlcykge1xyXG4gICAgICAgICAgICB0aGlzLmNob2ljZXNbb3JpZ10hLnNvcnQoKGEsIGIpID0+IHBvY2tldC5pbmRleE9mKGEgYXMgY2cuUm9sZSkgLSBwb2NrZXQuaW5kZXhPZihiIGFzIGNnLlJvbGUpKTtcclxuICAgICAgICAgICAgc3F1YXJlcy5wdXNoKC4uLnRoaXMuc3F1YXJlVmlldyhvcmlnLCBjb2xvciwgb3JpZW50YXRpb24pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGgoXCJkaXYjZXh0ZW5zaW9uX2Nob2ljZS5cIiArIGRpcmVjdGlvbiwge1xyXG4gICAgICAgICAgICBob29rOiB7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnQ6IHZub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IHZub2RlLmVsbSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jYW5jZWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNxdWFyZXNcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBoLCB0b1ZOb2RlLCBWTm9kZSB9IGZyb20gJ3NuYWJiZG9tJztcclxuXHJcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnY2hlc3Nncm91bmR4L3V0aWwnO1xyXG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xyXG5cclxuaW1wb3J0IHsgUHJvbW90aW9uU3VmZml4LCBwcm9tb3RlZFJvbGUsIHVucHJvbW90ZWRSb2xlLCBwcm9tb3Rpb25TdWZmaXggfSBmcm9tICdAL2NoZXNzJztcclxuaW1wb3J0IHsgcGF0Y2gsIGJpbmQgfSBmcm9tICdAL2RvY3VtZW50JztcclxuaW1wb3J0IHsgR2FtZUNvbnRyb2xsZXIgfSBmcm9tICdAL2dhbWVDdHJsJztcclxuaW1wb3J0IHsgRXh0cmFJbnB1dCB9IGZyb20gJy4vaW5wdXQnO1xyXG5cclxudHlwZSBQcm9tb3Rpb25DaG9pY2VzID0gUGFydGlhbDxSZWNvcmQ8Y2cuUm9sZSwgUHJvbW90aW9uU3VmZml4Pj47XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvbW90aW9uSW5wdXQgZXh0ZW5kcyBFeHRyYUlucHV0IHtcclxuICAgIHByaXZhdGUgY2hvaWNlczogUHJvbW90aW9uQ2hvaWNlcztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjdHJsOiBHYW1lQ29udHJvbGxlcikge1xyXG4gICAgICAgIHN1cGVyKGN0cmwpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdwcm9tb3Rpb24nO1xyXG4gICAgICAgIHRoaXMuY2hvaWNlcyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KHBpZWNlOiBjZy5QaWVjZSwgb3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhOiBjZy5Nb3ZlTWV0YWRhdGEpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSB7IHBpZWNlLCBvcmlnLCBkZXN0LCBtZXRhIH07XHJcblxyXG4gICAgICAgIC8vIGluIDk2MCBjYXN0bGluZyBjYXNlIChraW5nIHRha2VzIHJvb2spIGRlc3QgcGllY2UgbWF5IGJlIHVuZGVmaW5lZFxyXG4gICAgICAgIGlmICh0aGlzLmN0cmwuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGRlc3QpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0KCcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvbW90aW9uQ2hvaWNlcyhwaWVjZSwgb3JpZywgZGVzdCk7XHJcbiAgICAgICAgY29uc3QgYXV0b1N1ZmZpeCA9IHRoaXMuY3RybC52YXJpYW50LnByb21vdGlvbi5vcmRlclswXTtcclxuICAgICAgICBjb25zdCBhdXRvUm9sZSA9IHRoaXMuY3RybC52YXJpYW50LnByb21vdGlvbi50eXBlID09PSBcInNob2dpXCIgPyB1bmRlZmluZWQgOiB1dGlsLnJvbGVPZihhdXRvU3VmZml4IGFzIGNnLkxldHRlcik7XHJcbiAgICAgICAgY29uc3QgZGlzYWJsZUF1dG9Qcm9tb3RlID0gbWV0YS5jdHJsS2V5O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdHJsLnZhcmlhbnQucHJvbW90aW9uLmF1dG9Qcm9tb3RlYWJsZSAmJlxyXG4gICAgICAgICAgICB0aGlzLmN0cmwuYXV0b1Byb21vdGUgJiZcclxuICAgICAgICAgICAgIWRpc2FibGVBdXRvUHJvbW90ZSAmJlxyXG4gICAgICAgICAgICBhdXRvUm9sZSAmJlxyXG4gICAgICAgICAgICBhdXRvU3VmZml4ICYmXHJcbiAgICAgICAgICAgIGNob2ljZXNbYXV0b1JvbGVdID09PSBhdXRvU3VmZml4KVxyXG4gICAgICAgICAgICB0aGlzLmNob2ljZXMgPSB7IFthdXRvUm9sZV06IGF1dG9TdWZmaXggfTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuY2hvaWNlcyA9IGNob2ljZXM7XHJcblxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNob2ljZXMpLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCByb2xlID0gT2JqZWN0LmtleXModGhpcy5jaG9pY2VzKVswXSBhcyBjZy5Sb2xlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbmlzaChyb2xlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdQcm9tbyhkZXN0LCBwaWVjZS5jb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvbW90aW9uQ2hvaWNlcyhwaWVjZTogY2cuUGllY2UsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSk6IFByb21vdGlvbkNob2ljZXMge1xyXG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSB0aGlzLmN0cmwudmFyaWFudDtcclxuICAgICAgICBjb25zdCBwb3NzaWJsZVByb21vdGlvbnMgPSB0aGlzLmN0cmwubGVnYWxNb3ZlcygpLmZpbHRlcihtb3ZlID0+IG1vdmUuaW5jbHVkZXMob3JpZyArIGRlc3QpKTtcclxuICAgICAgICBjb25zdCBjaG9pY2VzOiBQcm9tb3Rpb25DaG9pY2VzID0ge307XHJcblxyXG4gICAgICAgIHBvc3NpYmxlUHJvbW90aW9ucy5tYXAocHJvbW90aW9uU3VmZml4KS5mb3JFYWNoKHN1ZmZpeCA9PiB7XHJcbiAgICAgICAgICAgIGxldCByb2xlOiBjZy5Sb2xlO1xyXG4gICAgICAgICAgICBpZiAoc3VmZml4ID09PSAnKycpIHJvbGUgPSBwcm9tb3RlZFJvbGUodmFyaWFudCwgcGllY2UpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChzdWZmaXggPT09ICctJykgcm9sZSA9IHVucHJvbW90ZWRSb2xlKHZhcmlhbnQsIHBpZWNlKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoc3VmZml4ID09PSAnJykgcm9sZSA9IHBpZWNlLnJvbGU7XHJcbiAgICAgICAgICAgIGVsc2Ugcm9sZSA9IHV0aWwucm9sZU9mKHN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNob2ljZXNbcm9sZV0gPSBzdWZmaXg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjaG9pY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvbW90ZShrZXk6IGNnLktleSwgcm9sZTogY2cuUm9sZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGdyb3VuZCA9IHRoaXMuY3RybC5jaGVzc2dyb3VuZDtcclxuICAgICAgICBjb25zdCBwaWVjZSA9IGdyb3VuZC5zdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KTtcclxuICAgICAgICBpZiAocGllY2UgJiYgcGllY2Uucm9sZSAhPT0gcm9sZSkge1xyXG4gICAgICAgICAgICBncm91bmQuc2V0UGllY2VzKG5ldyBNYXAoW1trZXksIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBwaWVjZS5jb2xvcixcclxuICAgICAgICAgICAgICAgIHJvbGU6IHJvbGUsXHJcbiAgICAgICAgICAgICAgICBwcm9tb3RlZDogdHJ1ZVxyXG4gICAgICAgICAgICB9XV0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3UHJvbW8oZGVzdDogY2cuS2V5LCBjb2xvcjogY2cuQ29sb3IpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0b1ZOb2RlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2V4dGVuc2lvbicpIGFzIE5vZGUpO1xyXG4gICAgICAgIHBhdGNoKGNvbnRhaW5lciwgdGhpcy52aWV3KGRlc3QsIGNvbG9yLCB0aGlzLmN0cmwuY2hlc3Nncm91bmQuc3RhdGUub3JpZW50YXRpb24pKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXdOb1Byb21vKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRlbnNpb25fY2hvaWNlJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikgcGF0Y2goY29udGFpbmVyLCBoKCdleHRlbnNpb24nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5pc2gocm9sZTogY2cuUm9sZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3Tm9Qcm9tbygpO1xyXG4gICAgICAgICAgICB0aGlzLnByb21vdGUodGhpcy5kYXRhLmRlc3QsIHJvbGUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbC5pc0Ryb3BPcmlnKHRoaXMuZGF0YS5vcmlnKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcE5leHQocm9sZSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dCh0aGlzLmNob2ljZXNbcm9sZV0hKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcm9wTmV4dChyb2xlOiBjZy5Sb2xlKTogdm9pZCB7XHJcbiAgICAgICAgLy8gRHJvcCBwcm9tb3Rpb24gaXMgZXhlY3V0ZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSlcclxuICAgICAgICAgICAgdGhpcy5jdHJsLnByb2Nlc3NJbnB1dCh0aGlzLmRhdGEucGllY2UsIHV0aWwuZHJvcE9yaWdPZihyb2xlKSwgdGhpcy5kYXRhLmRlc3QsIHRoaXMuZGF0YS5tZXRhLCAnJywgJ3Byb21vdGlvbicpO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbmNlbCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRyYXdOb1Byb21vKCk7XHJcbiAgICAgICAgdGhpcy5jdHJsLmdvUGx5KHRoaXMuY3RybC5wbHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmlldyhkZXN0OiBjZy5LZXksIGNvbG9yOiBjZy5Db2xvciwgb3JpZW50YXRpb246IGNnLkNvbG9yKTogVk5vZGUge1xyXG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSB0aGlzLmN0cmwudmFyaWFudDtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IHZhcmlhbnQuYm9hcmQuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB2YXJpYW50LmJvYXJkLmRpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHV0aWwua2V5MnBvcyhkZXN0KTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hvaWNlcyA9IE9iamVjdC5rZXlzKHRoaXMuY2hvaWNlcykgYXMgY2cuUm9sZVtdO1xyXG4gICAgICAgIGNob2ljZXMuc29ydCgoYSwgYikgPT4gdmFyaWFudC5wcm9tb3Rpb24ub3JkZXIuaW5kZXhPZih0aGlzLmNob2ljZXNbYV0hKSAtIHZhcmlhbnQucHJvbW90aW9uLm9yZGVyLmluZGV4T2YodGhpcy5jaG9pY2VzW2JdISkpO1xyXG5cclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjb2xvciA9PT0gb3JpZW50YXRpb24gPyBcImJvdHRvbVwiIDogXCJ0b3BcIjtcclxuICAgICAgICBjb25zdCBsZWZ0RmlsZSA9IChvcmllbnRhdGlvbiA9PT0gXCJ3aGl0ZVwiKSA/IHBvc1swXSA6IHdpZHRoIC0gMSAtIHBvc1swXTtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gbGVmdEZpbGUgKiAoMTAwIC8gd2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IHRvcFJhbmsgPSAob3JpZW50YXRpb24gPT09IFwid2hpdGVcIikgPyBoZWlnaHQgLSAxIC0gcG9zWzFdIDogcG9zWzFdO1xyXG5cclxuICAgICAgICBjb25zdCBzaWRlID0gY29sb3IgPT09IG9yaWVudGF0aW9uID8gXCJhbGx5XCIgOiBcImVuZW15XCI7XHJcblxyXG4gICAgICAgIHJldHVybiBoKFwiZGl2I2V4dGVuc2lvbl9jaG9pY2VcIiwge1xyXG4gICAgICAgICAgICBob29rOiB7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnQ6IHZub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IHZub2RlLmVsbSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jYW5jZWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNob2ljZXMubWFwKChyb2xlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByYW5rID0gdG9wUmFuayArIChkaXJlY3Rpb24gPT09IFwiYm90dG9tXCIgPyBpIDogLWkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9wID0gcmFuayAqICgxMDAgLyBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGgoXCJzcXVhcmVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IHRvcDogdG9wICsgXCIlXCIsIGxlZnQ6IGxlZnQgKyBcIiVcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGhvb2s6IGJpbmQoXCJjbGlja1wiLCBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5pc2gocm9sZSBhcyBjZy5Sb2xlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBudWxsKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBbIGgoYHBpZWNlLiR7cm9sZX0uJHtjb2xvcn0uJHtzaWRlfWApIF1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgaCB9IGZyb20gJ3NuYWJiZG9tJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJ2NoZXNzZ3JvdW5keC90eXBlcyc7XG5cbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSAnQC9nYW1lQ3RybCc7XG5pbXBvcnQgeyBFeHRyYUlucHV0IH0gZnJvbSAnLi9pbnB1dCc7XG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJ0AvZG9jdW1lbnQnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0AvaTE4bic7XG5cbmV4cG9ydCBjbGFzcyBEdWNrSW5wdXQgZXh0ZW5kcyBFeHRyYUlucHV0IHtcbiAgICBpbnB1dFN0YXRlPzogJ2NsaWNrJyB8ICdtb3ZlJztcbiAgICBkdWNrRGVzdHM6IGNnLktleVtdO1xuXG4gICAgY29uc3RydWN0b3IoY3RybDogR2FtZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgc3VwZXIoY3RybCk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdkdWNrJztcbiAgICAgICAgdGhpcy5pbnB1dFN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmR1Y2tEZXN0cyA9IFtdO1xuICAgIH1cblxuICAgIHN0YXJ0KHBpZWNlOiBjZy5QaWVjZSwgb3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhOiBjZy5Nb3ZlTWV0YWRhdGEpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhID0geyBwaWVjZSwgb3JpZywgZGVzdCwgbWV0YSB9O1xuXG4gICAgICAgIGlmICghdGhpcy5jdHJsLnZhcmlhbnQucnVsZXMuZHVjaykge1xuICAgICAgICAgICAgdGhpcy5uZXh0KCcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHVja0Rlc3RzID0gdGhpcy5jdHJsLmxlZ2FsTW92ZXMoKS5cbiAgICAgICAgICAgIGZpbHRlcihtb3ZlID0+IG1vdmUuaW5jbHVkZXMob3JpZyArIGRlc3QpKS5cbiAgICAgICAgICAgIG1hcChtb3ZlID0+IG1vdmUuc2xpY2UoLTIpKSBhcyBjZy5LZXlbXTtcblxuICAgICAgICBsZXQgZHVja0tleTogY2cuS2V5IHwgdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBwaWVjZXMgPSB0aGlzLmN0cmwuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXNcbiAgICAgICAgZm9yIChjb25zdCBbaywgcF0gb2YgcGllY2VzKSB7XG4gICAgICAgICAgICBpZiAocC5yb2xlID09PSAnXy1waWVjZScpIHtcbiAgICAgICAgICAgICAgICBkdWNrS2V5ID0gaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgbW92ZSB0aGUgZHVjayBpZiBhIGtpbmcgaXMgY2FwdHVyZWQsIGFzIHRoZSBnYW1lIGlzIGFscmVhZHkgb3ZlclxuICAgICAgICAvLyBUaGlzIGFzc3VtZXMgZWFjaCBzaWRlIG9ubHkgaGFzIG9uZSBraW5nIGluIGFueSBkdWNrIHZhcmlhbnRcbiAgICAgICAgaWYgKG1ldGEuY2FwdHVyZWQgJiYgdGhpcy5jdHJsLnZhcmlhbnQua2luZ1JvbGVzLmluY2x1ZGVzKG1ldGEuY2FwdHVyZWQucm9sZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKG9yaWcgYXMgY2cuS2V5KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVuZG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpZiAodW5kbyAmJiB1bmRvLnRhZ05hbWUgPT09ICdESVYnKSB7XG4gICAgICAgICAgICBwYXRjaCh1bmRvLFxuICAgICAgICAgICAgICAgIGgoJ2J1dHRvbiN1bmRvJywgeyBvbjogeyBjbGljazogKCkgPT4gdGhpcy5jdHJsLnVuZG8oKSB9LCBwcm9wczoge3RpdGxlOiBfKCdVbmRvJyl9IH0sIFtoKCdpJywge2NsYXNzOiB7XCJpY29uXCI6IHRydWUsIFwiaWNvbi1yZXBseVwiOiB0cnVlIH0gfSApLCBdKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZHVja0tleSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlID0gJ2NsaWNrJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgZHVjaydzIGNvbG9yIHNvIHRoYXQgaXQgYmVjYW1lIG1vdmFibGUgYnkgdGhlIHBsYXllclxuICAgICAgICAgICAgdGhpcy5jdHJsLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldChkdWNrS2V5KSEuY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgICAgIHRoaXMuY3RybC5jaGVzc2dyb3VuZC5zZXQoe1xuICAgICAgICAgICAgICAgIHR1cm5Db2xvcjogcGllY2UuY29sb3IsXG4gICAgICAgICAgICAgICAgbW92YWJsZToge1xuICAgICAgICAgICAgICAgICAgICBkZXN0czogbmV3IE1hcChbW2R1Y2tLZXksIHRoaXMuZHVja0Rlc3RzXV0pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZSA9ICdtb3ZlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmlzaChrZXk6IGNnLktleSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kdWNrRGVzdHMuaW5jbHVkZXMoa2V5KSAmJiB0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuY3RybC5jaGVzc2dyb3VuZC5zdGF0ZS5sYXN0TW92ZSA9IFt0aGlzLmRhdGEub3JpZywgdGhpcy5kYXRhLmRlc3QsIGtleV07XG4gICAgICAgICAgICB0aGlzLm5leHQoJywnICsgdGhpcy5kYXRhLmRlc3QgKyBrZXkpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG50eXBlIE1vYmlsaXR5ID0gKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpID0+IGJvb2xlYW47XG5cbmNvbnN0IGRpZmYgPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5hYnMoYSAtIGIpO1xuXG5jb25zdCBwYXduID1cbiAgKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5ID0+XG4gICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBkaWZmKHgxLCB4MikgPCAyICYmXG4gICAgKGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/IC8vIGFsbG93IDIgc3F1YXJlcyBmcm9tIGZpcnN0IHR3byByYW5rcywgZm9yIGhvcmRlXG4gICAgICAgIHkyID09PSB5MSArIDEgfHwgKHkxIDw9IDEgJiYgeTIgPT09IHkxICsgMiAmJiB4MSA9PT0geDIpXG4gICAgICA6IHkyID09PSB5MSAtIDEgfHwgKHkxID49IDYgJiYgeTIgPT09IHkxIC0gMiAmJiB4MSA9PT0geDIpKTtcblxuZXhwb3J0IGNvbnN0IGtuaWdodDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4gKHhkID09PSAxICYmIHlkID09PSAyKSB8fCAoeGQgPT09IDIgJiYgeWQgPT09IDEpO1xufTtcblxuY29uc3QgYmlzaG9wOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gZGlmZih4MSwgeDIpID09PSBkaWZmKHkxLCB5Mik7XG59O1xuXG5jb25zdCByb29rOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4geDEgPT09IHgyIHx8IHkxID09PSB5Mjtcbn07XG5cbmV4cG9ydCBjb25zdCBxdWVlbjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGJpc2hvcCh4MSwgeTEsIHgyLCB5MikgfHwgcm9vayh4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG5jb25zdCBraW5nID1cbiAgKGNvbG9yOiBjZy5Db2xvciwgcm9va0ZpbGVzOiBudW1iZXJbXSwgY2FuQ2FzdGxlOiBib29sZWFuKTogTW9iaWxpdHkgPT5cbiAgKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIChkaWZmKHgxLCB4MikgPCAyICYmIGRpZmYoeTEsIHkyKSA8IDIpIHx8XG4gICAgKGNhbkNhc3RsZSAmJlxuICAgICAgeTEgPT09IHkyICYmXG4gICAgICB5MSA9PT0gKGNvbG9yID09PSAnd2hpdGUnID8gMCA6IDcpICYmXG4gICAgICAoKHgxID09PSA0ICYmICgoeDIgPT09IDIgJiYgcm9va0ZpbGVzLmluY2x1ZGVzKDApKSB8fCAoeDIgPT09IDYgJiYgcm9va0ZpbGVzLmluY2x1ZGVzKDcpKSkpIHx8XG4gICAgICAgIHJvb2tGaWxlcy5pbmNsdWRlcyh4MikpKTtcblxuZnVuY3Rpb24gcm9va0ZpbGVzT2YocGllY2VzOiBjZy5QaWVjZXMsIGNvbG9yOiBjZy5Db2xvcikge1xuICBjb25zdCBiYWNrcmFuayA9IGNvbG9yID09PSAnd2hpdGUnID8gJzEnIDogJzgnO1xuICBjb25zdCBmaWxlcyA9IFtdO1xuICBmb3IgKGNvbnN0IFtrZXksIHBpZWNlXSBvZiBwaWVjZXMpIHtcbiAgICBpZiAoa2V5WzFdID09PSBiYWNrcmFuayAmJiBwaWVjZS5jb2xvciA9PT0gY29sb3IgJiYgcGllY2Uucm9sZSA9PT0gJ3ItcGllY2UnKSB7XG4gICAgICBmaWxlcy5wdXNoKHV0aWwua2V5MnBvcyhrZXkpWzBdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbGVzO1xufVxuXG5mdW5jdGlvbiBhbmQoLi4ubXM6IE1vYmlsaXR5W10pOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IG1zLm1hcChtID0+IG0oeDEsIHkxLCB4MiwgeTIpKS5yZWR1Y2UoKGEsIGIpID0+IGEgJiYgYik7XG59XG5cbmZ1bmN0aW9uIG9yKC4uLm1zOiBNb2JpbGl0eVtdKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBtcy5tYXAobSA9PiBtKHgxLCB5MSwgeDIsIHkyKSkucmVkdWNlKChhLCBiKSA9PiBhIHx8IGIpO1xufVxuXG4vKiBUT0RPIG1ha2UgdXNlIG9mIHRoaXNcbmZ1bmN0aW9uIG5vdChtOiBNb2JpbGl0eSk6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gIW0oeDEsIHkxLCB4MiwgeTIpO1xufVxuKi9cblxuZnVuY3Rpb24gX2Rpc3RhbmNlKGRpc3Q6IG51bWJlcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gTWF0aC5tYXgoZGlmZih4MSwgeDIpLCBkaWZmKHkxLCB5MikpIDw9IGRpc3Q7XG59XG5cbmZ1bmN0aW9uIG1lbW9pemVEaXN0YW5jZSgpOiAoZGlzdDogbnVtYmVyKSA9PiBNb2JpbGl0eSB7XG4gIGNvbnN0IGNhY2hlOiBSZWNvcmQ8c3RyaW5nLCBNb2JpbGl0eT4gPSB7fTtcbiAgcmV0dXJuIChkaXN0OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBrZXkgPSBgJHtkaXN0fWA7XG4gICAgaWYgKCEoa2V5IGluIGNhY2hlKSkgY2FjaGVba2V5XSA9IF9kaXN0YW5jZShkaXN0KTtcbiAgICByZXR1cm4gY2FjaGVba2V5XTtcbiAgfTtcbn1cblxuY29uc3QgZGlzdGFuY2UgPSBtZW1vaXplRGlzdGFuY2UoKTtcblxuZnVuY3Rpb24gYmFja3JhbmsoY29sb3I6IGNnLkNvbG9yKTogbnVtYmVyIHtcbiAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnID8gMCA6IDc7XG59XG5cbi8vIGtpbmcgd2l0aG91dCBjYXN0bGluZ1xuY29uc3Qga2luZ05vQ2FzdGxpbmc6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBkaWZmKHgxLCB4MikgPCAyICYmIGRpZmYoeTEsIHkyKSA8IDI7XG59O1xuXG4vLyA5NjAga2luZyAoY2FuIG9ubHkgY2FzdGxlIHdpdGgga2luZyB0YWtlcyByb29rKVxuZnVuY3Rpb24ga2luZzk2MChjb2xvcjogY2cuQ29sb3IsIHJvb2tGaWxlczogbnVtYmVyW10sIGNhbkNhc3RsZTogYm9vbGVhbik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHwgKGNhbkNhc3RsZSAmJiB5MSA9PT0geTIgJiYgeTEgPT09IGJhY2tyYW5rKGNvbG9yKSAmJiByb29rRmlsZXMuaW5jbHVkZXMoeDIpKTtcbn1cblxuLy8gY2FwYWJsYW5jYSBraW5nIChkaWZmZXJlbnQgY2FzdGxpbmcgZmlsZXMgZnJvbSBzdGFuZGFyZCBjaGVzcyBraW5nKVxuZnVuY3Rpb24ga2luZ0NhcGEoY29sb3I6IGNnLkNvbG9yLCByb29rRmlsZXM6IG51bWJlcltdLCBjYW5DYXN0bGU6IGJvb2xlYW4pOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpIHx8XG4gICAgKGNhbkNhc3RsZSAmJlxuICAgICAgeTEgPT09IHkyICYmXG4gICAgICB5MSA9PT0gYmFja3JhbmsoY29sb3IpICYmXG4gICAgICB4MSA9PT0gNSAmJlxuICAgICAgKCh4MiA9PT0gOCAmJiByb29rRmlsZXMuaW5jbHVkZXMoOSkpIHx8ICh4MiA9PT0gMiAmJiByb29rRmlsZXMuaW5jbHVkZXMoMCkpKSk7XG59XG5cbi8vIHNoYWtvIGtpbmcgKGRpZmZlcmVudCBjYXN0bGluZyBmaWxlcyBhbmQgcmFua3MgZnJvbSBzdGFuZGFyZCBjaGVzcyBraW5nKVxuZnVuY3Rpb24ga2luZ1NoYWtvKGNvbG9yOiBjZy5Db2xvciwgcm9va0ZpbGVzOiBudW1iZXJbXSwgY2FuQ2FzdGxlOiBib29sZWFuKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fFxuICAgIChjYW5DYXN0bGUgJiZcbiAgICAgIHkxID09PSB5MiAmJlxuICAgICAgeTEgPT09IChjb2xvciA9PT0gJ3doaXRlJyA/IDEgOiA4KSAmJlxuICAgICAgeDEgPT09IDUgJiZcbiAgICAgICgoeDIgPT09IDcgJiYgcm9va0ZpbGVzLmluY2x1ZGVzKDgpKSB8fCAoeDIgPT09IDMgJiYgcm9va0ZpbGVzLmluY2x1ZGVzKDEpKSkpO1xufVxuZnVuY3Rpb24gcm9va0ZpbGVzT2ZTaGFrbyhwaWVjZXM6IGNnLlBpZWNlcywgY29sb3I6IGNnLkNvbG9yKSB7XG4gIGNvbnN0IGJhY2tyYW5rID0gY29sb3IgPT09ICd3aGl0ZScgPyAnMicgOiAnOSc7XG4gIGNvbnN0IGZpbGVzID0gW107XG4gIGZvciAoY29uc3QgW2tleSwgcGllY2VdIG9mIHBpZWNlcykge1xuICAgIGlmIChrZXlbMV0gPT09IGJhY2tyYW5rICYmIHBpZWNlLmNvbG9yID09PSBjb2xvciAmJiBwaWVjZS5yb2xlID09PSAnci1waWVjZScpIHtcbiAgICAgIGZpbGVzLnB1c2godXRpbC5rZXkycG9zKGtleSlbMF0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlsZXM7XG59XG5cbi8vIG91ayBraW5nIChjYW4ganVtcCBsaWtlIGEga25pZ2h0IHRvIHRoZSBzZWNvbmQgcm93IG9uIGl0cyBmaXJzdCBtb3ZlKVxuZnVuY3Rpb24ga2luZ091ayhjb2xvcjogY2cuQ29sb3IsIGNhbkNhc3RsZTogYm9vbGVhbik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHxcbiAgICAoY2FuQ2FzdGxlICYmXG4gICAgICAoY29sb3IgPT09ICd3aGl0ZSdcbiAgICAgICAgPyB4MSA9PT0gMyAmJiB5MSA9PT0gMCAmJiAoeDIgPT09IDEgfHwgeDIgPT09IDUpICYmIHkyID09PSAxXG4gICAgICAgIDogeDEgPT09IDQgJiYgeTEgPT09IDcgJiYgKHgyID09PSA2IHx8IHgyID09PSAyKSAmJiB5MiA9PT0gNikpO1xufVxuXG5mdW5jdGlvbiBwYXduTm9Eb3VibGVTdGVwKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gZGlmZih4MSwgeDIpIDwgMiAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSk7XG59XG5cbi8vIGdyYW5kIHBhd24gKDEweDEwIGJvYXJkLCBjYW4gbW92ZSB0d28gc3F1YXJlcyBvbiB0aGlyZCByb3cpXG5mdW5jdGlvbiBwYXduR3JhbmQoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIGRpZmYoeDEsIHgyKSA8IDIgJiZcbiAgICAoY29sb3IgPT09ICd3aGl0ZSdcbiAgICAgID8geTIgPT09IHkxICsgMSB8fCAoeTEgPD0gMiAmJiB5MiA9PT0geTEgKyAyICYmIHgxID09PSB4MilcbiAgICAgIDogeTIgPT09IHkxIC0gMSB8fCAoeTEgPj0gNyAmJiB5MiA9PT0geTEgLSAyICYmIHgxID09PSB4MikpO1xufVxuXG4vLyBzaXR0dXlpbiBwYXduICg4eDggYm9hcmQsIGNhbiBtb3ZlIGRpYWdvbmFsbHkgYmFja3dhcmQgdG8gcHJvbW90ZSBvbiBzb21lIHNxdWFyZXMpXG5mdW5jdGlvbiBwYXduU2l0dHV5aW4ocGllY2VzOiBjZy5QaWVjZXMsIGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGxldCBjYW5Qcm9tb3RlID0gKGNvbG9yID09PSAnd2hpdGUnID8geTEgPj0gNCA6IHkxIDw9IDMpICYmICh4MSA9PT0geTEgfHwgNyAtIHgxID09PSB5MSk7XG4gICAgaWYgKCFjYW5Qcm9tb3RlKSB7XG4gICAgICBsZXQgcGF3bkNvdW50ID0gMDtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwaWVjZXMudmFsdWVzKCkpIGlmIChwLnJvbGUgPT09ICdwLXBpZWNlJyAmJiBwLmNvbG9yID09PSBjb2xvcikgcGF3bkNvdW50ICs9IDE7XG4gICAgICBjYW5Qcm9tb3RlIHx8PSBwYXduQ291bnQgPT09IDE7XG4gICAgfVxuICAgIHJldHVybiBwYXduTm9Eb3VibGVTdGVwKGNvbG9yKSh4MSwgeTEsIHgyLCB5MikgfHwgKGNhblByb21vdGUgJiYgZmVyeih4MSwgeTEsIHgyLCB5MikpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXduQmVyb2xpbmEoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgcmV0dXJuIChjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAvLyBhbGxvdyAyIHNxdWFyZXMgZnJvbSBmaXJzdCB0d28gcmFua3MsIGZvciBob3JkZVxuICAgICAgICAoeTIgPT09IHkxICsgMSAmJiB4ZCA8PSAxKSB8fCAoeTEgPD0gMSAmJiB5MiA9PT0geTEgKyAyICYmIHhkID09PSAyKVxuICAgICAgOiAoeTIgPT09IHkxIC0gMSAmJiB4ZCA8PSAxKSB8fCAoeTEgPj0gNiAmJiB5MiA9PT0geTEgLSAyICYmIHhkID09PSAyKSk7XG4gIH07XG59XG5cbmNvbnN0IHNpZGV3YXlzOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4geTEgPT09IHkyICYmIGRpZmYoeDEsIHgyKSA8PSAxO1xufVxuXG4vLyB3YXppclxuY29uc3Qgd2F6aXI6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0gMSAmJiB5ZCA9PT0gMCkgfHwgKHhkID09PSAwICYmIHlkID09PSAxKTtcbn07XG5cbi8vIGZlcnosIG1ldFxuY29uc3QgZmVyejogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IGRpZmYoeDEsIHgyKSA9PT0gZGlmZih5MSwgeTIpICYmIGRpZmYoeDEsIHgyKSA9PT0gMTtcblxuLy8gb3VrIGZlcnogKGNhbiBqdW1wIHR3byBzcXVhcmVzIGZvcndhcmQgb24gaXRzIGZpcnN0IG1vdmUpXG5mdW5jdGlvbiBmZXJ6T3VrKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBmZXJ6KHgxLCB5MSwgeDIsIHkyKSB8fFxuICAgIChjb2xvciA9PT0gJ3doaXRlJyA/IHgxID09PSA0ICYmIHkxID09PSAwICYmIHgyID09PSA0ICYmIHkyID09PSAyIDogeDEgPT09IDMgJiYgeTEgPT09IDcgJiYgeDIgPT09IDMgJiYgeTIgPT09IDUpO1xufVxuXG4vLyBzaGF0cmFuaiBlbGVwaGFudFxuY29uc3QgZWxlcGhhbnQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIHhkID09PSB5ZCAmJiB4ZCA9PT0gMjtcbn07XG5cbi8vIGFyY2hiaXNob3AgKGtuaWdodCArIGJpc2hvcClcbmNvbnN0IGFyY2hiaXNob3A6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBiaXNob3AoeDEsIHkxLCB4MiwgeTIpIHx8IGtuaWdodCh4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG4vLyBjaGFuY2VsbG9yIChrbmlnaHQgKyByb29rKVxuY29uc3QgY2hhbmNlbGxvcjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIHJvb2soeDEsIHkxLCB4MiwgeTIpIHx8IGtuaWdodCh4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG4vLyBhbWF6b24gKGtuaWdodCArIHF1ZWVuKVxuY29uc3QgYW1hem9uOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gYmlzaG9wKHgxLCB5MSwgeDIsIHkyKSB8fCByb29rKHgxLCB5MSwgeDIsIHkyKSB8fCBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuLy8gc2hvZ3VuIGdlbmVyYWwgKGtuaWdodCArIGtpbmcpXG5jb25zdCBjZW50YXVyOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4ga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpIHx8IGtuaWdodCh4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG4vLyBzaG9naSBsYW5jZVxuZnVuY3Rpb24gc2hvZ2lMYW5jZShjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA+IHkxIDogeTIgPCB5MSk7XG59XG5cbi8vIHNob2dpIHNpbHZlciwgbWFrcnVrIGtob24sIHNpdHR1eWluIGVsZXBoYW50XG5mdW5jdGlvbiBzaG9naVNpbHZlcihjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IGZlcnooeDEsIHkxLCB4MiwgeTIpIHx8ICh4MSA9PT0geDIgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpKTtcbn1cblxuLy8gc2hvZ2kgZ29sZCwgcHJvbW90ZWQgcGF3bi9rbmlnaHQvbGFuY2Uvc2lsdmVyXG5mdW5jdGlvbiBzaG9naUdvbGQoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIHdhemlyKHgxLCB5MSwgeDIsIHkyKSB8fCAoZGlmZih4MSwgeDIpIDwgMiAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSkpO1xufVxuXG4vLyBzaG9naSBwYXduXG5mdW5jdGlvbiBzaG9naVBhd24oY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpO1xufVxuXG4vLyBzaG9naSBrbmlnaHRcbmZ1bmN0aW9uIHNob2dpS25pZ2h0KGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gKHgyID09PSB4MSAtIDEgfHwgeDIgPT09IHgxICsgMSkgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMiA6IHkyID09PSB5MSAtIDIpO1xufVxuXG4vLyBzaG9naSBwcm9tb3RlZCByb29rIChkcmFnb24ga2luZylcbmNvbnN0IHNob2dpRHJhZ29uOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gcm9vayh4MSwgeTEsIHgyLCB5MikgfHwgZmVyeih4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG4vLyBzaG9naSBwcm9tb3RlZCBiaXNob3AgKGRyYWdvbiBob3JzZSlcbmNvbnN0IHNob2dpSG9yc2U6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBiaXNob3AoeDEsIHkxLCB4MiwgeTIpIHx8IHdhemlyKHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbi8vIERlZmluZSB4aWFuZ3FpIHBhbGFjZSBiYXNlZCBvbiBnZW9tZXRyeVxuLy8gVGhlIHBhbGFjZSBpcyB0aGUgM3gzIHNxdWFyZXMgaW4gdGhlIG1pZGRsZSBmaWxlcyBhdCBlYWNoIHNpZGUncyBlbmQgb2YgdGhlIGJvYXJkXG50eXBlIFBhbGFjZSA9IGNnLlBvc1tdO1xuXG5mdW5jdGlvbiBfcGFsYWNlKGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMsIGNvbG9yOiBjZy5Db2xvcik6IFBhbGFjZSB7XG4gIGNvbnN0IG1pZGRsZUZpbGUgPSBNYXRoLmZsb29yKGJkLndpZHRoIC8gMik7XG4gIGNvbnN0IHN0YXJ0aW5nUmFuayA9IGNvbG9yID09PSAnd2hpdGUnID8gMCA6IGJkLmhlaWdodCAtIDM7XG5cbiAgcmV0dXJuIFtcbiAgICBbbWlkZGxlRmlsZSAtIDEsIHN0YXJ0aW5nUmFuayArIDJdLFxuICAgIFttaWRkbGVGaWxlLCBzdGFydGluZ1JhbmsgKyAyXSxcbiAgICBbbWlkZGxlRmlsZSArIDEsIHN0YXJ0aW5nUmFuayArIDJdLFxuICAgIFttaWRkbGVGaWxlIC0gMSwgc3RhcnRpbmdSYW5rICsgMV0sXG4gICAgW21pZGRsZUZpbGUsIHN0YXJ0aW5nUmFuayArIDFdLFxuICAgIFttaWRkbGVGaWxlICsgMSwgc3RhcnRpbmdSYW5rICsgMV0sXG4gICAgW21pZGRsZUZpbGUgLSAxLCBzdGFydGluZ1JhbmtdLFxuICAgIFttaWRkbGVGaWxlLCBzdGFydGluZ1JhbmtdLFxuICAgIFttaWRkbGVGaWxlICsgMSwgc3RhcnRpbmdSYW5rXSxcbiAgXTtcbn1cblxuZnVuY3Rpb24gbWVtb2l6ZVBhbGFjZSgpOiAoYmQ6IGNnLkJvYXJkRGltZW5zaW9ucywgY29sb3I6IGNnLkNvbG9yKSA9PiBQYWxhY2Uge1xuICBjb25zdCBjYWNoZTogUmVjb3JkPHN0cmluZywgUGFsYWNlPiA9IHt9O1xuICByZXR1cm4gKGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMsIGNvbG9yOiBjZy5Db2xvcikgPT4ge1xuICAgIGNvbnN0IGtleSA9IGAke2JkLndpZHRofXgke2JkLmhlaWdodH0ke2NvbG9yLnNsaWNlKDAsIDEpfWA7XG4gICAgaWYgKCEoa2V5IGluIGNhY2hlKSkgY2FjaGVba2V5XSA9IF9wYWxhY2UoYmQsIGNvbG9yKTtcbiAgICByZXR1cm4gY2FjaGVba2V5XTtcbiAgfTtcbn1cblxuY29uc3QgcGFsYWNlID0gbWVtb2l6ZVBhbGFjZSgpO1xuXG4vLyB4aWFuZ3FpIHBhd25cbmZ1bmN0aW9uIHhpYW5ncWlQYXduKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICAoeDIgPT09IHgxICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKSkgfHxcbiAgICAoeTIgPT09IHkxICYmIGRpZmYoeDEsIHgyKSA8IDIgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTEgPiA0IDogeTEgPCA1KSk7XG59XG5cbi8vIG1pbml4aWFuZ3FpIHBhd25cbmZ1bmN0aW9uIG1pbml4aWFuZ3FpUGF3bihjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgKHgyID09PSB4MSAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSkpIHx8ICh5MiA9PT0geTEgJiYgZGlmZih4MSwgeDIpIDwgMik7XG59XG5cbi8vIHhpYW5ncWkgZWxlcGhhbnRcbmZ1bmN0aW9uIHhpYW5ncWlFbGVwaGFudChjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IGVsZXBoYW50KHgxLCB5MSwgeDIsIHkyKSAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA8IDUgOiB5MiA+IDQpO1xufVxuXG4vLyB4aWFuZ3FpIGFkdmlzb3JcbmZ1bmN0aW9uIHhpYW5ncWlBZHZpc29yKGNvbG9yOiBjZy5Db2xvciwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3QgcCA9IHBhbGFjZShiZCwgY29sb3IpO1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBmZXJ6KHgxLCB5MSwgeDIsIHkyKSAmJiBwLnNvbWUocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgyICYmIHBvaW50WzFdID09PSB5Mik7XG59XG5cbi8vIHhpYW5ncWkgZ2VuZXJhbCAoa2luZylcbmZ1bmN0aW9uIHhpYW5ncWlLaW5nKGNvbG9yOiBjZy5Db2xvciwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3QgcCA9IHBhbGFjZShiZCwgY29sb3IpO1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB3YXppcih4MSwgeTEsIHgyLCB5MikgJiYgcC5zb21lKHBvaW50ID0+IHBvaW50WzBdID09PSB4MiAmJiBwb2ludFsxXSA9PT0geTIpO1xufVxuXG4vLyBzaGFrbyBlbGVwaGFudFxuY29uc3Qgc2hha29FbGVwaGFudDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGRpZmYoeDEsIHgyKSA9PT0gZGlmZih5MSwgeTIpICYmIGRpZmYoeDEsIHgyKSA8IDM7XG59O1xuXG4vLyBqYW5nZ2kgZWxlcGhhbnRcbmV4cG9ydCBjb25zdCBqYW5nZ2lFbGVwaGFudDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4gKHhkID09PSAyICYmIHlkID09PSAzKSB8fCAoeGQgPT09IDMgJiYgeWQgPT09IDIpO1xufTtcblxuLy8gamFuZ2dpIHBhd25cbmZ1bmN0aW9uIGphbmdnaVBhd24oY29sb3I6IGNnLkNvbG9yLCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogTW9iaWxpdHkge1xuICBjb25zdCBvcHBQYWxhY2UgPSBwYWxhY2UoYmQsIHV0aWwub3Bwb3NpdGUoY29sb3IpKTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHBhbGFjZVBvcyA9IG9wcFBhbGFjZS5maW5kSW5kZXgocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgxICYmIHBvaW50WzFdID09PSB5MSk7XG4gICAgbGV0IGFkZGl0aW9uYWxNb2JpbGl0eTogTW9iaWxpdHk7XG4gICAgc3dpdGNoIChwYWxhY2VQb3MpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgKyAxICYmIGNvbG9yID09PSAnYmxhY2snICYmIHkyID09PSB5MSAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAtIDEgJiYgY29sb3IgPT09ICdibGFjaycgJiYgeTIgPT09IHkxIC0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICAgICAgICBkaWZmKHgxLCB4MikgPT09IDEgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgKyAxICYmIGNvbG9yID09PSAnd2hpdGUnICYmIHkyID09PSB5MSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA4OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAtIDEgJiYgY29sb3IgPT09ICd3aGl0ZScgJiYgeTIgPT09IHkxICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoKSA9PiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG1pbml4aWFuZ3FpUGF3bihjb2xvcikoeDEsIHkxLCB4MiwgeTIpIHx8IGFkZGl0aW9uYWxNb2JpbGl0eSh4MSwgeTEsIHgyLCB5Mik7XG4gIH07XG59XG5cbi8vIGphbmdnaSByb29rXG5mdW5jdGlvbiBqYW5nZ2lSb29rKGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBNb2JpbGl0eSB7XG4gIGNvbnN0IHdQYWxhY2UgPSBwYWxhY2UoYmQsICd3aGl0ZScpO1xuICBjb25zdCBiUGFsYWNlID0gcGFsYWNlKGJkLCAnYmxhY2snKTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGxldCBhZGRpdGlvbmFsTW9iaWxpdHk6IE1vYmlsaXR5O1xuICAgIGNvbnN0IHdQYWxhY2VQb3MgPSB3UGFsYWNlLmZpbmRJbmRleChwb2ludCA9PiBwb2ludFswXSA9PT0geDEgJiYgcG9pbnRbMV0gPT09IHkxKTtcbiAgICBjb25zdCBiUGFsYWNlUG9zID0gYlBhbGFjZS5maW5kSW5kZXgocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgxICYmIHBvaW50WzFdID09PSB5MSk7XG4gICAgY29uc3QgcGFsYWNlUG9zID0gd1BhbGFjZVBvcyAhPT0gLTEgPyB3UGFsYWNlUG9zIDogYlBhbGFjZVBvcztcbiAgICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgICBzd2l0Y2ggKHBhbGFjZVBvcykge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHhkID09PSB5ZCAmJiB4MiA+IHgxICYmIHgyIDw9IHgxICsgMiAmJiB5MiA8IHkxICYmIHkyID49IHkxIC0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geGQgPT09IHlkICYmIHgyIDwgeDEgJiYgeDIgPj0geDEgLSAyICYmIHkyIDwgeTEgJiYgeTIgPj0geTEgLSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gZmVyejtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDY6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geGQgPT09IHlkICYmIHgyID4geDEgJiYgeDIgPD0geDEgKyAyICYmIHkyID4geTEgJiYgeTIgPD0geTEgKyAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4ZCA9PT0geWQgJiYgeDIgPCB4MSAmJiB4MiA+PSB4MSAtIDIgJiYgeTIgPiB5MSAmJiB5MiA8PSB5MSArIDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKCkgPT4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiByb29rKHgxLCB5MSwgeDIsIHkyKSB8fCBhZGRpdGlvbmFsTW9iaWxpdHkoeDEsIHkxLCB4MiwgeTIpO1xuICB9O1xufVxuXG4vLyBqYW5nZ2kgZ2VuZXJhbCAoa2luZylcbmZ1bmN0aW9uIGphbmdnaUtpbmcoY29sb3I6IGNnLkNvbG9yLCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogTW9iaWxpdHkge1xuICBjb25zdCBvd25QYWxhY2UgPSBwYWxhY2UoYmQsIGNvbG9yKTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHBhbGFjZVBvcyA9IG93blBhbGFjZS5maW5kSW5kZXgocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgxICYmIHBvaW50WzFdID09PSB5MSk7XG4gICAgbGV0IGFkZGl0aW9uYWxNb2JpbGl0eTogTW9iaWxpdHk7XG4gICAgc3dpdGNoIChwYWxhY2VQb3MpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgKyAxICYmIHkyID09PSB5MSAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAtIDEgJiYgeTIgPT09IHkxIC0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9IGZlcno7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSArIDEgJiYgeTIgPT09IHkxICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxIC0gMSAmJiB5MiA9PT0geTEgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICgpID0+IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgKHdhemlyKHgxLCB5MSwgeDIsIHkyKSB8fCBhZGRpdGlvbmFsTW9iaWxpdHkoeDEsIHkxLCB4MiwgeTIpKSAmJlxuICAgICAgb3duUGFsYWNlLnNvbWUocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgyICYmIHBvaW50WzFdID09PSB5MilcbiAgICApO1xuICB9O1xufVxuXG4vLyBtdXNrZXRlZXIgbGVvcGFyZFxuY29uc3QgbXVza2V0ZWVyTGVvcGFyZDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4gKHhkID09PSAxIHx8IHhkID09PSAyKSAmJiAoeWQgPT09IDEgfHwgeWQgPT09IDIpO1xufTtcbi8vIG11c2tldGVlciBoYXdrXG5jb25zdCBtdXNrZXRlZXJIYXdrOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiAoXG4gICAgKHhkID09PSAwICYmICh5ZCA9PT0gMiB8fCB5ZCA9PT0gMykpIHx8XG4gICAgKHlkID09PSAwICYmICh4ZCA9PT0gMiB8fCB4ZCA9PT0gMykpIHx8XG4gICAgKHhkID09PSB5ZCAmJiAoeGQgPT09IDIgfHwgeGQgPT09IDMpKVxuICApO1xufTtcbi8vIG11c2tldGVlciBlbGVwaGFudFxuY29uc3QgbXVza2V0ZWVyRWxlcGhhbnQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIHhkID09PSAxIHx8IHlkID09PSAxIHx8ICh4ZCA9PT0gMiAmJiAoeWQgPT09IDAgfHwgeWQgPT09IDIpKSB8fCAoeGQgPT09IDAgJiYgeWQgPT09IDIpO1xufTtcbi8vIG11c2tldGVlciBjYW5ub25cbmNvbnN0IG11c2tldGVlckNhbm5vbjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4geGQgPCAzICYmICh5ZCA8IDIgfHwgKHlkID09PSAyICYmIHhkID09PSAwKSk7XG59O1xuLy8gbXVza2V0ZWVyIHVuaWNvcm5cbmNvbnN0IG11c2tldGVlclVuaWNvcm46IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIGtuaWdodCh4MSwgeTEsIHgyLCB5MikgfHwgKHhkID09PSAxICYmIHlkID09PSAzKSB8fCAoeGQgPT09IDMgJiYgeWQgPT09IDEpO1xufTtcbi8vIG11c2tldGVlciBkcmFnb25cbmNvbnN0IG11c2tldGVlckRyYWdvbjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGtuaWdodCh4MSwgeTEsIHgyLCB5MikgfHwgcXVlZW4oeDEsIHkxLCB4MiwgeTIpO1xufTtcbi8vIG11c2tldGVlciBmb3J0cmVzc1xuY29uc3QgbXVza2V0ZWVyRm9ydHJlc3M6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0geWQgJiYgeGQgPCA0KSB8fCAoeWQgPT09IDAgJiYgeGQgPT09IDIpIHx8ICh5ZCA9PT0gMiAmJiB4ZCA8IDIpO1xufTtcbi8vIG11c2tldGVlciBzcGlkZXJcbmNvbnN0IG11c2tldGVlclNwaWRlcjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4geGQgPCAzICYmIHlkIDwgMyAmJiAhKHhkID09PSAxICYmIHlkID09PSAwKSAmJiAhKHhkID09PSAwICYmIHlkID09PSAxKTtcbn07XG5cbi8vIHRvcmkgc2hvZ2kgZ29vc2UgKHByb21vdGVkIHN3YWxsb3cpXG5mdW5jdGlvbiB0b3JpR29vc2UoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/ICh4ZCA9PT0gMiAmJiB5MiA9PT0geTEgKyAyKSB8fCAoeGQgPT09IDAgJiYgeTIgPT09IHkxIC0gMilcbiAgICAgIDogKHhkID09PSAyICYmIHkyID09PSB5MSAtIDIpIHx8ICh4ZCA9PT0gMCAmJiB5MiA9PT0geTEgKyAyKTtcbiAgfTtcbn1cblxuLy8gdG9yaSBzaG9naSBsZWZ0IHF1YWlsXG5mdW5jdGlvbiB0b3JpTGVmdFF1YWlsKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICAgIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAoeDIgPT09IHgxICYmIHkyID4geTEpIHx8ICh4ZCA9PT0geWQgJiYgeDIgPiB4MSAmJiB5MiA8IHkxKSB8fCAoeDIgPT09IHgxIC0gMSAmJiB5MiA9PT0geTEgLSAxKVxuICAgICAgOiAoeDIgPT09IHgxICYmIHkyIDwgeTEpIHx8ICh4ZCA9PT0geWQgJiYgeDIgPCB4MSAmJiB5MiA+IHkxKSB8fCAoeDIgPT09IHgxICsgMSAmJiB5MiA9PT0geTEgKyAxKTtcbiAgfTtcbn1cblxuLy8gdG9yaSBzaG9naSByaWdodCBxdWFpbFxuZnVuY3Rpb24gdG9yaVJpZ2h0UXVhaWwoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/ICh4MiA9PT0geDEgJiYgeTIgPiB5MSkgfHwgKHhkID09PSB5ZCAmJiB4MiA8IHgxICYmIHkyIDwgeTEpIHx8ICh4MiA9PT0geDEgKyAxICYmIHkyID09PSB5MSAtIDEpXG4gICAgICA6ICh4MiA9PT0geDEgJiYgeTIgPCB5MSkgfHwgKHhkID09PSB5ZCAmJiB4MiA+IHgxICYmIHkyID4geTEpIHx8ICh4MiA9PT0geDEgLSAxICYmIHkyID09PSB5MSArIDEpO1xuICB9O1xufVxuXG4vLyB0b3JpIHNob2dpIHBoZWFzYW50XG5mdW5jdGlvbiB0b3JpUGhlYXNhbnQoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/ICh4MiA9PT0geDEgJiYgeTIgPT09IHkxICsgMikgfHwgKHhkID09PSAxICYmIHkyID09PSB5MSAtIDEpXG4gICAgICA6ICh4MiA9PT0geDEgJiYgeTIgPT09IHkxIC0gMikgfHwgKHhkID09PSAxICYmIHkyID09PSB5MSArIDEpO1xuICB9O1xufVxuXG4vLyB0b3JpIHNob2dpIGNyYW5lXG5jb25zdCB0b3JpQ3JhbmU6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgJiYgeTIgIT09IHkxO1xufTtcblxuLy8gdG9yaSBzaG9naSBmYWxjb25cbmZ1bmN0aW9uIHRvcmlGYWxjb24oY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/IGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSAmJiAhKHgyID09PSB4MSAmJiB5MiA9PT0geTEgLSAxKVxuICAgICAgOiBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgJiYgISh4MiA9PT0geDEgJiYgeTIgPT09IHkxICsgMSk7XG4gIH07XG59XG5cbi8vIHRvcmkgc2hvZ2kgZWFnbGUgKHByb21vdGVkIGZhbGNvbilcbmZ1bmN0aW9uIHRvcmlFYWdsZShjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgICByZXR1cm4gY29sb3IgPT09ICd3aGl0ZSdcbiAgICAgID8ga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpIHx8ICh4ZCA9PT0geWQgJiYgKHkyID4geTEgfHwgKHkyIDwgeTEgJiYgeWQgPD0gMikpKSB8fCAoeDIgPT09IHgxICYmIHkyIDwgeTEpXG4gICAgICA6IGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fCAoeGQgPT09IHlkICYmICh5MiA8IHkxIHx8ICh5MiA+IHkxICYmIHlkIDw9IDIpKSkgfHwgKHgyID09PSB4MSAmJiB5MiA+IHkxKTtcbiAgfTtcbn1cblxuLy8gY2hhayBwYXduXG5mdW5jdGlvbiBwYXduQ2hhayhjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgICByZXR1cm4gY29sb3IgPT09ICd3aGl0ZScgPyB5MiA+PSB5MSAmJiB5MiAtIHkxIDw9IDEgJiYgeGQgPD0gMSA6IHkxID49IHkyICYmIHkxIC0geTIgPD0gMSAmJiB4ZCA8PSAxO1xuICB9O1xufVxuXG4vLyBjaGFrIHdhcnJpb3JcbmZ1bmN0aW9uIGNoYWtXYXJyaW9yKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gdG9yaUNyYW5lKHgxLCB5MSwgeDIsIHkyKSAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA+PSA0IDogeTIgPD0gNCk7XG59XG5cbi8vIGNoYWsgZGl2aW5lIGtpbmdcbmZ1bmN0aW9uIGNoYWtEaXZpbmVLaW5nKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICAgIHJldHVybiBxdWVlbih4MSwgeTEsIHgyLCB5MikgJiYgeGQgPD0gMiAmJiB5ZCA8PSAyICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkyID49IDQgOiB5MiA8PSA0KTtcbiAgfTtcbn1cblxuLy8gY2hlbm5pcyBraW5nXG5mdW5jdGlvbiBraW5nQ2hlbm5pcyhjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpICYmIHgyID49IDEgJiYgeDIgPD0gNSAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA8PSAzIDogeTIgPj0gMyk7XG59XG5cbi8vIGNhbm5vdCBwcmVtb3ZlXG5jb25zdCBub01vdmUgPSAoKSA9PiBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByZW1vdmUodmFyaWFudDogc3RyaW5nLCBjaGVzczk2MDogYm9vbGVhbiwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IGNnLlByZW1vdmUge1xuICBjb25zdCBtb2JpbGl0eSA9IGJ1aWx0aW5Nb2JpbGl0eSh2YXJpYW50LCBjaGVzczk2MCwgYmQpO1xuICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgY29uc3QgcG9zID0gdXRpbC5rZXkycG9zKGtleSk7XG4gICAgcmV0dXJuIHV0aWxcbiAgICAgIC5hbGxQb3MoYmQpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICBwb3MyID0+XG4gICAgICAgICAgKHBvc1swXSAhPT0gcG9zMlswXSB8fCBwb3NbMV0gIT09IHBvczJbMV0pICYmXG4gICAgICAgICAgbW9iaWxpdHkoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpKHBvc1swXSwgcG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKVxuICAgICAgKVxuICAgICAgLm1hcCh1dGlsLnBvczJrZXkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBidWlsdGluTW9iaWxpdHkoXG4gIHZhcmlhbnQ6IHN0cmluZyxcbiAgY2hlc3M5NjA6IGJvb2xlYW4sXG4gIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnNcbik6IChib2FyZFN0YXRlOiBjZy5Cb2FyZFN0YXRlLCBrZXk6IGNnLktleSwgY2FuQ2FzdGxlOiBib29sZWFuKSA9PiBNb2JpbGl0eSB7XG4gIHN3aXRjaCAodmFyaWFudCkge1xuICAgIGNhc2UgJ3hpYW5ncWknOlxuICAgIGNhc2UgJ21hbmNodSc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduIChzb2xkaWVyKVxuICAgICAgICAgICAgcmV0dXJuIHhpYW5ncWlQYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIGNoYXJpb3RcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBob3JzZVxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gZWxlcGhhbnRcbiAgICAgICAgICAgIHJldHVybiB4aWFuZ3FpRWxlcGhhbnQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2EtcGllY2UnOiAvLyBhZHZpc29yXG4gICAgICAgICAgICByZXR1cm4geGlhbmdxaUFkdmlzb3IoY29sb3IsIGJkKTtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIHhpYW5ncWlLaW5nKGNvbG9yLCBiZCk7XG4gICAgICAgICAgY2FzZSAnbS1waWVjZSc6IC8vIGJhbm5lclxuICAgICAgICAgICAgcmV0dXJuIGNoYW5jZWxsb3I7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdqYW5nZ2knOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3biAoc29sZGllcilcbiAgICAgICAgICAgIHJldHVybiBqYW5nZ2lQYXduKGNvbG9yLCBiZCk7XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyBjaGFyaW90XG4gICAgICAgICAgICByZXR1cm4gamFuZ2dpUm9vayhiZCk7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGhvcnNlXG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBlbGVwaGFudFxuICAgICAgICAgICAgcmV0dXJuIGphbmdnaUVsZXBoYW50O1xuICAgICAgICAgIGNhc2UgJ2EtcGllY2UnOiAvLyBhZHZpc29yXG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBqYW5nZ2lLaW5nKGNvbG9yLCBiZCk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdtaW5peGlhbmdxaSc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduIChzb2xkaWVyXG4gICAgICAgICAgICByZXR1cm4gbWluaXhpYW5ncWlQYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIGNoYXJpb3RcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBob3JzZVxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIHhpYW5ncWlLaW5nKGNvbG9yLCBiZCk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdzaG9naSc6XG4gICAgY2FzZSAnbWluaXNob2dpJzpcbiAgICBjYXNlICdnb3JvZ29ybyc6XG4gICAgY2FzZSAnZ29yb2dvcm9wbHVzJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBzaG9naVBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2wtcGllY2UnOiAvLyBsYW5jZVxuICAgICAgICAgICAgcmV0dXJuIHNob2dpTGFuY2UoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBzaG9naUtuaWdodChjb2xvcik7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gc2lsdmVyXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lTaWx2ZXIoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2ctcGllY2UnOiAvLyBnb2xkXG4gICAgICAgICAgY2FzZSAncHAtcGllY2UnOiAvLyB0b2tpblxuICAgICAgICAgIGNhc2UgJ3BsLXBpZWNlJzogLy8gcHJvbW90ZWQgbGFuY2VcbiAgICAgICAgICBjYXNlICdwbi1waWVjZSc6IC8vIHByb21vdGVkIGtuaWdodFxuICAgICAgICAgIGNhc2UgJ3BzLXBpZWNlJzogLy8gcHJvbW90ZWQgc2lsdmVyXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lHb2xkKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICdwci1waWVjZSc6IC8vIGRyYWdvbiAocHJvbW90ZWQgcm9vaylcbiAgICAgICAgICAgIHJldHVybiBzaG9naURyYWdvbjtcbiAgICAgICAgICBjYXNlICdwYi1waWVjZSc6IC8vIGhvcnNlIChwcm9tb3RlZCBiaXNob3ApLCBub3QgdG8gYmUgY29uZnVzZWQgd2l0aCB0aGUga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lIb3JzZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ2t5b3Rvc2hvZ2knOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdsLXBpZWNlJzogLy8ga3lvdG8gLSBsYW5jZS10b2tpblxuICAgICAgICAgICAgcmV0dXJuIHNob2dpTGFuY2UoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BsLXBpZWNlJzpcbiAgICAgICAgICAgIHJldHVybiBzaG9naUdvbGQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3MtcGllY2UnOiAvLyBnaW5rYWt1IC0gc2lsdmVyLWJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIHNob2dpU2lsdmVyKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdwcy1waWVjZSc6XG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBraW5rZWkgZ29sZC1rbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBzaG9naUtuaWdodChjb2xvcik7XG4gICAgICAgICAgY2FzZSAncG4tcGllY2UnOlxuICAgICAgICAgICAgcmV0dXJuIHNob2dpR29sZChjb2xvcik7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIGhpZnUgLSByb29rLXBhd25cbiAgICAgICAgICAgIHJldHVybiBzaG9naVBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BwLXBpZWNlJzpcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdkb2J1dHN1JzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNoaWNrXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lQYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdlLXBpZWNlJzogLy8gZWxlcGhhbnRcbiAgICAgICAgICAgIHJldHVybiBmZXJ6O1xuICAgICAgICAgIGNhc2UgJ2ctcGllY2UnOiAvLyBnaXJhZmZlXG4gICAgICAgICAgICByZXR1cm4gd2F6aXI7XG4gICAgICAgICAgY2FzZSAnbC1waWVjZSc6IC8vIGxpb25cbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBjYXNlICdwYy1waWVjZSc6IC8vIGhlbiAocHJvbW90ZWQgY2hpY2spXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lHb2xkKGNvbG9yKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ3RvcmlzaG9naSc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3MtcGllY2UnOiAvLyBzd2FsbG93XG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lQYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdwcy1waWVjZSc6IC8vIGdvb3NlIChwcm9tb3RlZCBzd2FsbG93KVxuICAgICAgICAgICAgcmV0dXJuIHRvcmlHb29zZShjb2xvcik7XG4gICAgICAgICAgY2FzZSAnbC1waWVjZSc6IC8vIGxlZnQgcXVhaWxcbiAgICAgICAgICAgIHJldHVybiB0b3JpTGVmdFF1YWlsKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcmlnaHQgcXVhaWxcbiAgICAgICAgICAgIHJldHVybiB0b3JpUmlnaHRRdWFpbChjb2xvcik7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBoZWFzYW50IChOT1QgcGF3bilcbiAgICAgICAgICAgIHJldHVybiB0b3JpUGhlYXNhbnQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjcmFuZVxuICAgICAgICAgICAgcmV0dXJuIHRvcmlDcmFuZTtcbiAgICAgICAgICBjYXNlICdmLXBpZWNlJzogLy8gZmFsY29uXG4gICAgICAgICAgICByZXR1cm4gdG9yaUZhbGNvbihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncGYtcGllY2UnOiAvLyBlYWdsZSAocHJvbW90ZWQgZmFsY29uKVxuICAgICAgICAgICAgcmV0dXJuIHRvcmlFYWdsZShjb2xvcik7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIHBob2VuaXhcbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ21ha3J1ayc6XG4gICAgY2FzZSAnbWFrcG9uZyc6XG4gICAgY2FzZSAnc2l0dHV5aW4nOlxuICAgIGNhc2UgJ2NhbWJvZGlhbic6XG4gICAgY2FzZSAnYXNlYW4nOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudCA9PT0gJ3NpdHR1eWluJyA/IHBhd25TaXR0dXlpbihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpIDogcGF3bk5vRG91YmxlU3RlcChjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIEFTRUFOIGtob25cbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8ga2hvblxuICAgICAgICAgICAgcmV0dXJuIHNob2dpU2lsdmVyKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gQVNFQU4gbWV0XG4gICAgICAgICAgY2FzZSAnZi1waWVjZSc6IC8vIFNpdHR1eWluIGZlcnpcbiAgICAgICAgICBjYXNlICdtLXBpZWNlJzogLy8gbWV0XG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudCA9PT0gJ2NhbWJvZGlhbicgPyBmZXJ6T3VrKGNvbG9yKSA6IGZlcno7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiB2YXJpYW50ID09PSAnY2FtYm9kaWFuJyA/IGtpbmdPdWsoY29sb3IsIGNhbkNhc3RsZSkgOiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ2dyYW5kJzpcbiAgICBjYXNlICdncmFuZGhvdXNlJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduR3JhbmQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNoYW5jZWxsb3JcbiAgICAgICAgICAgIHJldHVybiBjaGFuY2VsbG9yO1xuICAgICAgICAgIGNhc2UgJ2EtcGllY2UnOiAvLyBhcmNoYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnc2hha28nOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bkdyYW5kKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdlLXBpZWNlJzogLy8gZWxlcGhhbnRcbiAgICAgICAgICAgIHJldHVybiBzaGFrb0VsZXBoYW50O1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZ1NoYWtvKGNvbG9yLCByb29rRmlsZXNPZlNoYWtvKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdzaG9ndW4nOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncHAtcGllY2UnOiAvLyBjYXB0YWluXG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ3ByLXBpZWNlJzogLy8gbW9ydGFyXG4gICAgICAgICAgICByZXR1cm4gY2hhbmNlbGxvcjtcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ3BuLXBpZWNlJzogLy8gZ2VuZXJhbFxuICAgICAgICAgICAgcmV0dXJuIGNlbnRhdXI7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdwYi1waWVjZSc6IC8vIGFyY2hiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBhcmNoYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ2YtcGllY2UnOiAvLyBkdWNoZXNzXG4gICAgICAgICAgICByZXR1cm4gZmVyejtcbiAgICAgICAgICBjYXNlICdwZi1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBraW5nKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnb3JkYSc6XG4gICAgY2FzZSAnb3JkYW1pcnJvcic6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ3EtcGllY2UnOiAvLyBxdWVlblxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2wtcGllY2UnOiAvLyBsYW5jZXJcbiAgICAgICAgICAgIHJldHVybiBjaGFuY2VsbG9yO1xuICAgICAgICAgIGNhc2UgJ2gtcGllY2UnOiAvLyBraGVzaGlnXG4gICAgICAgICAgICByZXR1cm4gY2VudGF1cjtcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYXJjaGVyXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICd5LXBpZWNlJzogLy8geXVydFxuICAgICAgICAgICAgcmV0dXJuIHNob2dpU2lsdmVyKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdmLXBpZWNlJzogLy8gZmFsY29uXG4gICAgICAgICAgICByZXR1cm4gYW1hem9uO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZyhjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ3N5bm9jaGVzcyc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gc29sZGllclxuICAgICAgICAgICAgcmV0dXJuIG1pbml4aWFuZ3FpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnZS1waWVjZSc6IC8vIGVsZXBoYW50XG4gICAgICAgICAgICByZXR1cm4gc2hha29FbGVwaGFudDtcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYWR2aXNvclxuICAgICAgICAgICAgcmV0dXJuIGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZyhjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlICYmIGNvbG9yID09PSAnd2hpdGUnKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ211c2tldGVlcic6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ3EtcGllY2UnOiAvLyBxdWVlblxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2wtcGllY2UnOiAvLyBsZW9wYXJkXG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVyTGVvcGFyZDtcbiAgICAgICAgICBjYXNlICdvLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVyQ2Fubm9uO1xuICAgICAgICAgIGNhc2UgJ3UtcGllY2UnOiAvLyB1bmljb3JuXG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVyVW5pY29ybjtcbiAgICAgICAgICBjYXNlICdkLXBpZWNlJzogLy8gZHJhZ29uXG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVyRHJhZ29uO1xuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjaGFuY2VsbG9yXG4gICAgICAgICAgICByZXR1cm4gY2hhbmNlbGxvcjtcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYXJjaGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGFyY2hiaXNob3A7XG4gICAgICAgICAgY2FzZSAnZS1waWVjZSc6IC8vIGVsZXBoYW50XG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVyRWxlcGhhbnQ7XG4gICAgICAgICAgY2FzZSAnaC1waWVjZSc6IC8vIGhhd2tcbiAgICAgICAgICAgIHJldHVybiBtdXNrZXRlZXJIYXdrOyAvLyBoYXdrXG4gICAgICAgICAgY2FzZSAnZi1waWVjZSc6IC8vIGZvcnRyZXNzXG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVyRm9ydHJlc3M7XG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIHNwaWRlclxuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlclNwaWRlcjtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzpcbiAgICAgICAgICAgIHJldHVybiBraW5nKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnaG9wcGVscG9wcGVsJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0ICh0YWtlcyBsaWtlIGJpc2hvcClcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gYmlzaG9wICh0YWtlcyBsaWtlIGtuaWdodClcbiAgICAgICAgICAgIHJldHVybiBhcmNoYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ3EtcGllY2UnOiAvLyBxdWVlblxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZyhjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ3NoaW5vYmknOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncGwtcGllY2UnOlxuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICdwaC1waWVjZSc6XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdwbS1waWVjZSc6XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdwcC1waWVjZSc6XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhcHRhaW5cbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBjYXNlICdsLXBpZWNlJzogLy8gbGFuY2VcbiAgICAgICAgICAgIHJldHVybiBzaG9naUxhbmNlKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdoLXBpZWNlJzogLy8gaG9yc2VcbiAgICAgICAgICAgIHJldHVybiBzaG9naUtuaWdodChjb2xvcik7XG4gICAgICAgICAgY2FzZSAnbS1waWVjZSc6IC8vIG1vbmtcbiAgICAgICAgICAgIHJldHVybiBmZXJ6O1xuICAgICAgICAgIGNhc2UgJ2QtcGllY2UnOiAvLyBkcmFnb25cbiAgICAgICAgICAgIHJldHVybiBzaG9naURyYWdvbjtcbiAgICAgICAgICBjYXNlICdqLXBpZWNlJzogLy8gbmluamFcbiAgICAgICAgICAgIHJldHVybiBhcmNoYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZyhjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ2VtcGlyZSc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gc29sZGllclxuICAgICAgICAgICAgcmV0dXJuIG1pbml4aWFuZ3FpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICBjYXNlICdkLXBpZWNlJzogLy8gZHVrZVxuICAgICAgICAgIGNhc2UgJ3QtcGllY2UnOiAvLyB0b3dlclxuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYXJkaW5hbFxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2UtcGllY2UnOiAvLyBlYWdsZVxuICAgICAgICAgICAgcmV0dXJuIGFtYXpvbjtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdjaGFrJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduQ2hhayhjb2xvcik7XG4gICAgICAgICAgY2FzZSAncHAtcGllY2UnOiAvLyB3YXJyaW9yXG4gICAgICAgICAgICByZXR1cm4gY2hha1dhcnJpb3IoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyBzZXJwZW50XG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICd2LXBpZWNlJzogLy8gdnVsdHVyZVxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gc2hhbWFuXG4gICAgICAgICAgICByZXR1cm4gdG9yaUNyYW5lO1xuICAgICAgICAgIGNhc2UgJ2otcGllY2UnOiAvLyBqYWd1YXJcbiAgICAgICAgICAgIHJldHVybiBjZW50YXVyO1xuICAgICAgICAgIGNhc2UgJ3EtcGllY2UnOiAvLyBxdWV0emFsXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBjYXNlICdway1waWVjZSc6IC8vIGRpdmluZSBraW5nXG4gICAgICAgICAgICByZXR1cm4gY2hha0RpdmluZUtpbmcoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ28tcGllY2UnOiAvLyBvZmZlcmluZ1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnY2hlbm5pcyc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bk5vRG91YmxlU3RlcChjb2xvcik7XG4gICAgICAgICAgY2FzZSAncHAtcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gc29sZGllclxuICAgICAgICAgICAgcmV0dXJuIG1pbml4aWFuZ3FpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncHMtcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAnZi1waWVjZSc6IC8vIGZlcnpcbiAgICAgICAgICAgIHJldHVybiBmZXJ6O1xuICAgICAgICAgIGNhc2UgJ3BmLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICdtLXBpZWNlJzogLy8gbWFublxuICAgICAgICAgICAgcmV0dXJuIGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGNhc2UgJ3BtLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZ0NoZW5uaXMoY29sb3IpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnc3BhcnRhbic6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAnaC1waWVjZSc6IC8vIGhvcGxpdGVcbiAgICAgICAgICAgIHJldHVybiBwYXduQmVyb2xpbmEoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2ctcGllY2UnOiAvLyBnZW5hcmFsXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lEcmFnb247XG4gICAgICAgICAgY2FzZSAndy1waWVjZSc6IC8vIHdhcmxvcmRcbiAgICAgICAgICAgIHJldHVybiBhcmNoYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYXB0YWluXG4gICAgICAgICAgICByZXR1cm4gYW5kKHJvb2ssIGRpc3RhbmNlKDIpKTtcbiAgICAgICAgICBjYXNlICdsLXBpZWNlJzogLy8gbGlldXRlbmFudFxuICAgICAgICAgICAgcmV0dXJuIG9yKGFuZChiaXNob3AsIGRpc3RhbmNlKDIpKSwgc2lkZXdheXMpO1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGNoZXNzOTYwXG4gICAgICAgICAgICAgID8ga2luZzk2MChjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKVxuICAgICAgICAgICAgICA6IGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdjYXBhYmxhbmNhJzpcbiAgICBjYXNlICdjYXBhaG91c2UnOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2hhbmNlbGxvclxuICAgICAgICAgICAgcmV0dXJuIGNoYW5jZWxsb3I7XG4gICAgICAgICAgY2FzZSAnYS1waWVjZSc6IC8vIGFyY2hiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBhcmNoYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4gY2hlc3M5NjBcbiAgICAgICAgICAgICAgPyBraW5nOTYwKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpXG4gICAgICAgICAgICAgIDoga2luZ0NhcGEoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAvLyBWYXJpYW50cyB1c2luZyBzdGFuZGFyZCBwaWVjZXMgYW5kIGFkZGl0aW9uYWwgZmFpcnkgcGllY2VzIGxpa2UgUy1jaGVzcyBldGMuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnZS1waWVjZSc6IC8vIFMtY2hlc3MgZWxlcGhhbnRcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2hhbmNlbGxvclxuICAgICAgICAgICAgcmV0dXJuIGNoYW5jZWxsb3I7XG4gICAgICAgICAgY2FzZSAnaC1waWVjZSc6IC8vIFMtY2hlc3MgaGF3a1xuICAgICAgICAgIGNhc2UgJ2EtcGllY2UnOiAvLyBhcmNoYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGNoZXNzOTYwXG4gICAgICAgICAgICAgID8ga2luZzk2MChjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKVxuICAgICAgICAgICAgICA6IGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBIZWFkbGVzc1N0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQge1xuICBwb3Mya2V5LFxuICBrZXkycG9zLFxuICBvcHBvc2l0ZSxcbiAgZGlzdGFuY2VTcSxcbiAgYWxsUG9zLFxuICBjb21wdXRlU3F1YXJlQ2VudGVyLFxuICByb2xlT2YsXG4gIGRyb3BPcmlnT2YsXG4gIGNoYW5nZU51bWJlcixcbiAgaXNLZXksXG4gIGlzU2FtZSxcbn0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IHF1ZWVuLCBrbmlnaHQsIGphbmdnaUVsZXBoYW50IH0gZnJvbSAnLi9wcmVtb3ZlLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsbFVzZXJGdW5jdGlvbjxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPihmOiBUIHwgdW5kZWZpbmVkLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KTogdm9pZCB7XG4gIGlmIChmKSBzZXRUaW1lb3V0KCgpID0+IGYoLi4uYXJncyksIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlT3JpZW50YXRpb24oc3RhdGU6IEhlYWRsZXNzU3RhdGUpOiB2b2lkIHtcbiAgc3RhdGUub3JpZW50YXRpb24gPSBvcHBvc2l0ZShzdGF0ZS5vcmllbnRhdGlvbik7XG4gIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ID0gc3RhdGUuZHJhZ2dhYmxlLmN1cnJlbnQgPSBzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoc3RhdGU6IEhlYWRsZXNzU3RhdGUpOiB2b2lkIHtcbiAgc3RhdGUubGFzdE1vdmUgPSB1bmRlZmluZWQ7XG4gIHVuc2VsZWN0KHN0YXRlKTtcbiAgdW5zZXRQcmVtb3ZlKHN0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBpZWNlcyhzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcGllY2VzOiBjZy5QaWVjZXNEaWZmKTogdm9pZCB7XG4gIGZvciAoY29uc3QgW2tleSwgcGllY2VdIG9mIHBpZWNlcykge1xuICAgIGlmIChwaWVjZSkgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuc2V0KGtleSwgcGllY2UpO1xuICAgIGVsc2Ugc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKGtleSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENoZWNrKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBjb2xvcjogY2cuQ29sb3IgfCBib29sZWFuKTogdm9pZCB7XG4gIHN0YXRlLmNoZWNrID0gdW5kZWZpbmVkO1xuICBpZiAoY29sb3IgPT09IHRydWUpIGNvbG9yID0gc3RhdGUudHVybkNvbG9yO1xuICBpZiAoY29sb3IpXG4gICAgZm9yIChjb25zdCBbaywgcF0gb2Ygc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5raW5nUm9sZXMuaW5jbHVkZXMocC5yb2xlKSAmJiBwLmNvbG9yID09PSBjb2xvcikge1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGs7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0UHJlbW92ZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhOiBjZy5TZXRQcmVtb3ZlTWV0YWRhdGEpOiB2b2lkIHtcbiAgc3RhdGUucHJlbW92YWJsZS5jdXJyZW50ID0gW29yaWcsIGRlc3RdO1xuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLnByZW1vdmFibGUuZXZlbnRzLnNldCwgb3JpZywgZGVzdCwgbWV0YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFByZW1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLnByZW1vdmFibGUuY3VycmVudCkge1xuICAgIHN0YXRlLnByZW1vdmFibGUuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLnByZW1vdmFibGUuZXZlbnRzLnVuc2V0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cnlBdXRvQ2FzdGxlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSk6IGJvb2xlYW4ge1xuICBpZiAoIXN0YXRlLmF1dG9DYXN0bGUpIHJldHVybiBmYWxzZTtcblxuICBjb25zdCBraW5nID0gc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KG9yaWcpO1xuICBpZiAoIWtpbmcgfHwga2luZy5yb2xlICE9PSAnay1waWVjZScpIHJldHVybiBmYWxzZTtcblxuICBjb25zdCBvcmlnUG9zID0ga2V5MnBvcyhvcmlnKTtcbiAgY29uc3QgZGVzdFBvcyA9IGtleTJwb3MoZGVzdCk7XG4gIGlmICgob3JpZ1Bvc1sxXSAhPT0gMCAmJiBvcmlnUG9zWzFdICE9PSA3KSB8fCBvcmlnUG9zWzFdICE9PSBkZXN0UG9zWzFdKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvcmlnUG9zWzBdID09PSA0ICYmICFzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5oYXMoZGVzdCkpIHtcbiAgICBpZiAoZGVzdFBvc1swXSA9PT0gNikgZGVzdCA9IHBvczJrZXkoWzcsIGRlc3RQb3NbMV1dKTtcbiAgICBlbHNlIGlmIChkZXN0UG9zWzBdID09PSAyKSBkZXN0ID0gcG9zMmtleShbMCwgZGVzdFBvc1sxXV0pO1xuICB9XG4gIGNvbnN0IHJvb2sgPSBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoZGVzdCk7XG4gIGlmICghcm9vayB8fCByb29rLmNvbG9yICE9PSBraW5nLmNvbG9yIHx8IHJvb2sucm9sZSAhPT0gJ3ItcGllY2UnKSByZXR1cm4gZmFsc2U7XG5cbiAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKG9yaWcpO1xuICBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5kZWxldGUoZGVzdCk7XG5cbiAgaWYgKG9yaWdQb3NbMF0gPCBkZXN0UG9zWzBdKSB7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuc2V0KHBvczJrZXkoWzYsIGRlc3RQb3NbMV1dKSwga2luZyk7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuc2V0KHBvczJrZXkoWzUsIGRlc3RQb3NbMV1dKSwgcm9vayk7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuc2V0KHBvczJrZXkoWzIsIGRlc3RQb3NbMV1dKSwga2luZyk7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuc2V0KHBvczJrZXkoWzMsIGRlc3RQb3NbMV1dKSwgcm9vayk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlTW92ZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXkpOiBjZy5QaWVjZSB8IGJvb2xlYW4ge1xuICBjb25zdCBvcmlnUGllY2UgPSBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQob3JpZyksXG4gICAgZGVzdFBpZWNlID0gc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGRlc3QpO1xuICBpZiAob3JpZyA9PT0gZGVzdCB8fCAhb3JpZ1BpZWNlKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGNhcHR1cmVkID0gZGVzdFBpZWNlICYmIGRlc3RQaWVjZS5jb2xvciAhPT0gb3JpZ1BpZWNlLmNvbG9yID8gZGVzdFBpZWNlIDogdW5kZWZpbmVkO1xuICBpZiAoZGVzdCA9PT0gc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCkgdW5zZWxlY3Qoc3RhdGUpO1xuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5tb3ZlLCBvcmlnLCBkZXN0LCBjYXB0dXJlZCk7XG4gIGlmICghdHJ5QXV0b0Nhc3RsZShzdGF0ZSwgb3JpZywgZGVzdCkpIHtcbiAgICBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5zZXQoZGVzdCwgb3JpZ1BpZWNlKTtcbiAgICBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5kZWxldGUob3JpZyk7XG4gIH1cbiAgc3RhdGUubGFzdE1vdmUgPSBbb3JpZywgZGVzdF07XG4gIHN0YXRlLmNoZWNrID0gdW5kZWZpbmVkO1xuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5jaGFuZ2UpO1xuICByZXR1cm4gY2FwdHVyZWQgfHwgdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VOZXdQaWVjZShcbiAgc3RhdGU6IEhlYWRsZXNzU3RhdGUsXG4gIHBpZWNlOiBjZy5QaWVjZSxcbiAgZGVzdDogY2cuS2V5LFxuICBmcm9tUG9ja2V0OiBib29sZWFuLFxuICBmb3JjZT86IGJvb2xlYW5cbik6IGJvb2xlYW4ge1xuICBpZiAoc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuaGFzKGRlc3QpKSB7XG4gICAgaWYgKGZvcmNlKSBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5kZWxldGUoZGVzdCk7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuZHJvcE5ld1BpZWNlLCBwaWVjZSwgZGVzdCk7XG4gIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLnNldChkZXN0LCBwaWVjZSk7XG4gIGlmIChmcm9tUG9ja2V0KSBjaGFuZ2VOdW1iZXIoc3RhdGUuYm9hcmRTdGF0ZS5wb2NrZXRzIVtwaWVjZS5jb2xvcl0sIHBpZWNlLnJvbGUsIC0xKTtcbiAgc3RhdGUubGFzdE1vdmUgPSBbZHJvcE9yaWdPZihwaWVjZS5yb2xlKSwgZGVzdF07XG4gIHN0YXRlLmNoZWNrID0gdW5kZWZpbmVkO1xuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5jaGFuZ2UpO1xuICBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICBzdGF0ZS50dXJuQ29sb3IgPSBvcHBvc2l0ZShzdGF0ZS50dXJuQ29sb3IpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gYmFzZVVzZXJNb3ZlKFxuICBzdGF0ZTogSGVhZGxlc3NTdGF0ZSxcbiAgb3JpZzogY2cuU2VsZWN0YWJsZSxcbiAgZGVzdDogY2cuS2V5LFxuICBmcm9tUG9ja2V0OiBib29sZWFuLFxuICBmb3JjZT86IGJvb2xlYW5cbik6IGNnLlBpZWNlIHwgYm9vbGVhbiB7XG4gIGNvbnN0IHJlc3VsdCA9IGlzS2V5KG9yaWcpID8gYmFzZU1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpIDogYmFzZU5ld1BpZWNlKHN0YXRlLCBvcmlnLCBkZXN0LCBmcm9tUG9ja2V0LCBmb3JjZSk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLnR1cm5Db2xvciA9IG9wcG9zaXRlKHN0YXRlLnR1cm5Db2xvcik7XG4gICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJNb3ZlKFxuICBzdGF0ZTogSGVhZGxlc3NTdGF0ZSxcbiAgb3JpZzogY2cuU2VsZWN0YWJsZSxcbiAgZGVzdDogY2cuS2V5LFxuICBmcm9tUG9ja2V0OiBib29sZWFuLFxuICBmb3JjZT86IGJvb2xlYW5cbik6IGJvb2xlYW4ge1xuICBpZiAoY2FuTW92ZShzdGF0ZSwgb3JpZywgZGVzdCwgZnJvbVBvY2tldCkgfHwgZm9yY2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSBiYXNlVXNlck1vdmUoc3RhdGUsIG9yaWcsIGRlc3QsIGZyb21Qb2NrZXQsIGZvcmNlKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBjb25zdCBob2xkVGltZSA9IHN0YXRlLmhvbGQuc3RvcCgpO1xuICAgICAgdW5zZWxlY3Qoc3RhdGUpO1xuICAgICAgY29uc3QgbWV0YWRhdGE6IGNnLk1vdmVNZXRhZGF0YSA9IHtcbiAgICAgICAgcHJlbW92ZTogZmFsc2UsXG4gICAgICAgIGN0cmxLZXk6IHN0YXRlLnN0YXRzLmN0cmxLZXksXG4gICAgICAgIGhvbGRUaW1lLFxuICAgICAgfTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIG1ldGFkYXRhLmNhcHR1cmVkID0gcmVzdWx0O1xuICAgICAgaWYgKGlzS2V5KG9yaWcpKSBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLm1vdmFibGUuZXZlbnRzLmFmdGVyLCBvcmlnLCBkZXN0LCBtZXRhZGF0YSk7XG4gICAgICBlbHNlIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXJOZXdQaWVjZSwgb3JpZywgZGVzdCwgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNhblByZW1vdmUoc3RhdGUsIG9yaWcsIGRlc3QsIGZyb21Qb2NrZXQpKSB7XG4gICAgc2V0UHJlbW92ZShzdGF0ZSwgaXNLZXkob3JpZykgPyBvcmlnIDogZHJvcE9yaWdPZihvcmlnLnJvbGUpLCBkZXN0LCB7XG4gICAgICBjdHJsS2V5OiBzdGF0ZS5zdGF0cy5jdHJsS2V5LFxuICAgIH0pO1xuICAgIHVuc2VsZWN0KHN0YXRlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1bnNlbGVjdChzdGF0ZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgc2VsZWN0ZWQ6IGNnLlNlbGVjdGFibGUsIGZvcmNlPzogYm9vbGVhbik6IHZvaWQge1xuICBpZiAoaXNLZXkoc2VsZWN0ZWQpKSBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5zZWxlY3QsIHNlbGVjdGVkKTtcbiAgZWxzZSBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5zZWxlY3RQb2NrZXQsIHNlbGVjdGVkKTtcbiAgaWYgKHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQpIHtcbiAgICBpZiAoaXNTYW1lKHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQsIHNlbGVjdGVkKSAmJiAhc3RhdGUuZHJhZ2dhYmxlLmVuYWJsZWQpIHtcbiAgICAgIHVuc2VsZWN0KHN0YXRlKTtcbiAgICAgIHN0YXRlLmhvbGQuY2FuY2VsKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICgoc3RhdGUuc2VsZWN0YWJsZS5lbmFibGVkIHx8IGZvcmNlKSAmJiBpc0tleShzZWxlY3RlZCkgJiYgc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcbiAgICAgIGlmICh1c2VyTW92ZShzdGF0ZSwgc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCwgc2VsZWN0ZWQsICEhc3RhdGUuc2VsZWN0YWJsZS5mcm9tUG9ja2V0KSkge1xuICAgICAgICBzdGF0ZS5zdGF0cy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKFxuICAgIChzdGF0ZS5zZWxlY3RhYmxlLmVuYWJsZWQgfHwgc3RhdGUuZHJhZ2dhYmxlLmVuYWJsZWQpICYmXG4gICAgKGlzTW92YWJsZShzdGF0ZSwgc2VsZWN0ZWQsIHRydWUpIHx8IGlzUHJlbW92YWJsZShzdGF0ZSwgc2VsZWN0ZWQsIHRydWUpKVxuICApIHtcbiAgICBzZXRTZWxlY3RlZChzdGF0ZSwgc2VsZWN0ZWQsIHRydWUpO1xuICAgIHN0YXRlLmhvbGQuc3RhcnQoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0ZWQoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIHNlbGVjdGVkOiBjZy5TZWxlY3RhYmxlLCBmcm9tUG9ja2V0PzogYm9vbGVhbik6IHZvaWQge1xuICBpZiAoaXNLZXkoc2VsZWN0ZWQpKSBzZXRTZWxlY3RlZEtleShzdGF0ZSwgc2VsZWN0ZWQpO1xuICBlbHNlIHNldERyb3BNb2RlKHN0YXRlLCBzZWxlY3RlZCwgISFmcm9tUG9ja2V0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGVkS2V5KHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBrZXk6IGNnLktleSk6IHZvaWQge1xuICBzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkID0ga2V5O1xuICBzdGF0ZS5zZWxlY3RhYmxlLmZyb21Qb2NrZXQgPSBmYWxzZTtcbiAgaWYgKGlzUHJlbW92YWJsZShzdGF0ZSwga2V5LCBmYWxzZSkpIHtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gc3RhdGUucHJlbW92YWJsZS5wcmVtb3ZlRnVuYyhzdGF0ZS5ib2FyZFN0YXRlLCBrZXksIHN0YXRlLnByZW1vdmFibGUuY2FzdGxlKTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREcm9wTW9kZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcGllY2U6IGNnLlBpZWNlLCBmcm9tUG9ja2V0OiBib29sZWFuKTogdm9pZCB7XG4gIHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQgPSBwaWVjZTtcbiAgc3RhdGUuc2VsZWN0YWJsZS5mcm9tUG9ja2V0ID0gZnJvbVBvY2tldDtcbiAgaWYgKGlzUHJlbW92YWJsZShzdGF0ZSwgcGllY2UsIGZyb21Qb2NrZXQpKSB7XG4gICAgc3RhdGUucHJlbW92YWJsZS5kZXN0cyA9IHN0YXRlLnByZW1vdmFibGUucHJlZHJvcEZ1bmMoc3RhdGUuYm9hcmRTdGF0ZSwgcGllY2UpO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLnByZW1vdmFibGUuZGVzdHMgPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2VsZWN0KHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQgPSB1bmRlZmluZWQ7XG4gIHN0YXRlLnByZW1vdmFibGUuZGVzdHMgPSB1bmRlZmluZWQ7XG4gIHN0YXRlLmhvbGQuY2FuY2VsKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwaWVjZUF2YWlsYWJpbGl0eShcbiAgc3RhdGU6IEhlYWRsZXNzU3RhdGUsXG4gIG9yaWc6IGNnLlNlbGVjdGFibGUsXG4gIGZyb21Qb2NrZXQ6IGJvb2xlYW5cbik6IFtjZy5QaWVjZSB8IHVuZGVmaW5lZCwgYm9vbGVhbl0ge1xuICBsZXQgcGllY2U6IGNnLlBpZWNlIHwgdW5kZWZpbmVkO1xuICBsZXQgYXZhaWxhYmxlID0gZmFsc2U7XG4gIGlmIChpc0tleShvcmlnKSkge1xuICAgIHBpZWNlID0gc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KG9yaWcpO1xuICAgIGF2YWlsYWJsZSA9ICEhcGllY2U7XG4gIH0gZWxzZSB7XG4gICAgcGllY2UgPSBvcmlnO1xuICAgIGNvbnN0IG51bSA9IHN0YXRlLmJvYXJkU3RhdGUucG9ja2V0cz8uW3BpZWNlLmNvbG9yXS5nZXQocGllY2Uucm9sZSkgPz8gMDtcbiAgICBhdmFpbGFibGUgPSAhZnJvbVBvY2tldCB8fCBudW0gPiAwO1xuICB9XG4gIHJldHVybiBbcGllY2UsIGF2YWlsYWJsZV07XG59XG5cbmZ1bmN0aW9uIGlzTW92YWJsZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuU2VsZWN0YWJsZSwgZnJvbVBvY2tldDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICBjb25zdCBbcGllY2UsIGF2YWlsYWJsZV0gPSBwaWVjZUF2YWlsYWJpbGl0eShzdGF0ZSwgb3JpZywgZnJvbVBvY2tldCk7XG4gIHJldHVybiAoXG4gICAgYXZhaWxhYmxlICYmXG4gICAgKHN0YXRlLm1vdmFibGUuY29sb3IgPT09ICdib3RoJyB8fCAoc3RhdGUubW92YWJsZS5jb2xvciA9PT0gcGllY2UhLmNvbG9yICYmIHN0YXRlLnR1cm5Db2xvciA9PT0gcGllY2UhLmNvbG9yKSlcbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNhbk1vdmUgPSAoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLlNlbGVjdGFibGUsIGRlc3Q6IGNnLktleSwgZnJvbVBvY2tldDogYm9vbGVhbik6IGJvb2xlYW4gPT5cbiAgb3JpZyAhPT0gZGVzdCAmJlxuICBpc01vdmFibGUoc3RhdGUsIG9yaWcsIGZyb21Qb2NrZXQpICYmXG4gIChzdGF0ZS5tb3ZhYmxlLmZyZWUgfHwgISFzdGF0ZS5tb3ZhYmxlLmRlc3RzPy5nZXQoaXNLZXkob3JpZykgPyBvcmlnIDogZHJvcE9yaWdPZihvcmlnLnJvbGUpKT8uaW5jbHVkZXMoZGVzdCkpO1xuXG5mdW5jdGlvbiBpc1ByZW1vdmFibGUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLlNlbGVjdGFibGUsIGZyb21Qb2NrZXQ6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgY29uc3QgW3BpZWNlLCBhdmFpbGFibGVdID0gcGllY2VBdmFpbGFiaWxpdHkoc3RhdGUsIG9yaWcsIGZyb21Qb2NrZXQpO1xuICByZXR1cm4gKFxuICAgIGF2YWlsYWJsZSAmJiBzdGF0ZS5wcmVtb3ZhYmxlLmVuYWJsZWQgJiYgc3RhdGUubW92YWJsZS5jb2xvciA9PT0gcGllY2UhLmNvbG9yICYmIHN0YXRlLnR1cm5Db2xvciAhPT0gcGllY2UhLmNvbG9yXG4gICk7XG59XG5cbmNvbnN0IGNhblByZW1vdmUgPSAoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLlNlbGVjdGFibGUsIGRlc3Q6IGNnLktleSwgZnJvbVBvY2tldDogYm9vbGVhbik6IGJvb2xlYW4gPT5cbiAgb3JpZyAhPT0gZGVzdCAmJlxuICBpc1ByZW1vdmFibGUoc3RhdGUsIG9yaWcsIGZyb21Qb2NrZXQpICYmXG4gIChpc0tleShvcmlnKVxuICAgID8gc3RhdGUucHJlbW92YWJsZS5wcmVtb3ZlRnVuYyhzdGF0ZS5ib2FyZFN0YXRlLCBvcmlnLCBzdGF0ZS5wcmVtb3ZhYmxlLmNhc3RsZSkuaW5jbHVkZXMoZGVzdClcbiAgICA6IHN0YXRlLnByZW1vdmFibGUucHJlZHJvcEZ1bmMoc3RhdGUuYm9hcmRTdGF0ZSwgb3JpZykuaW5jbHVkZXMoZGVzdCkpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNEcmFnZ2FibGUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLlNlbGVjdGFibGUsIGZyb21Qb2NrZXQ6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgY29uc3QgW3BpZWNlLCBhdmFpbGFibGVdID0gcGllY2VBdmFpbGFiaWxpdHkoc3RhdGUsIG9yaWcsIGZyb21Qb2NrZXQpO1xuICByZXR1cm4gKFxuICAgIGF2YWlsYWJsZSAmJlxuICAgIHN0YXRlLmRyYWdnYWJsZS5lbmFibGVkICYmXG4gICAgKHN0YXRlLm1vdmFibGUuY29sb3IgPT09ICdib3RoJyB8fFxuICAgICAgKHN0YXRlLm1vdmFibGUuY29sb3IgPT09IHBpZWNlIS5jb2xvciAmJiAoc3RhdGUudHVybkNvbG9yID09PSBwaWVjZSEuY29sb3IgfHwgc3RhdGUucHJlbW92YWJsZS5lbmFibGVkKSkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5UHJlbW92ZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IGJvb2xlYW4ge1xuICBjb25zdCBtb3ZlID0gc3RhdGUucHJlbW92YWJsZS5jdXJyZW50O1xuICBpZiAoIW1vdmUpIHJldHVybiBmYWxzZTtcbiAgY29uc3Qgb3JpZyA9IGlzS2V5KG1vdmVbMF0pID8gbW92ZVswXSA6IHsgcm9sZTogcm9sZU9mKG1vdmVbMF0pLCBjb2xvcjogc3RhdGUudHVybkNvbG9yIH07XG4gIGNvbnN0IGRlc3QgPSBtb3ZlWzFdO1xuICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuICBpZiAoY2FuTW92ZShzdGF0ZSwgb3JpZywgZGVzdCwgdHJ1ZSkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBiYXNlVXNlck1vdmUoc3RhdGUsIG9yaWcsIGRlc3QsIHRydWUpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhOiBjZy5Nb3ZlTWV0YWRhdGEgPSB7IHByZW1vdmU6IHRydWUgfTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIG1ldGFkYXRhLmNhcHR1cmVkID0gcmVzdWx0O1xuICAgICAgaWYgKGlzS2V5KG9yaWcpKSBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLm1vdmFibGUuZXZlbnRzLmFmdGVyLCBvcmlnLCBkZXN0LCBtZXRhZGF0YSk7XG4gICAgICBlbHNlIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXJOZXdQaWVjZSwgb3JpZywgZGVzdCwgbWV0YWRhdGEpO1xuICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgfVxuICB9XG4gIHVuc2V0UHJlbW92ZShzdGF0ZSk7XG4gIHJldHVybiBzdWNjZXNzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsTW92ZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IHZvaWQge1xuICB1bnNldFByZW1vdmUoc3RhdGUpO1xuICB1bnNlbGVjdChzdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHN0YXRlLm1vdmFibGUuY29sb3IgPSBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gIGNhbmNlbE1vdmUoc3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5QXREb21Qb3MoXG4gIHBvczogY2cuTnVtYmVyUGFpcixcbiAgYXNXaGl0ZTogYm9vbGVhbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBjZy5LZXkgfCB1bmRlZmluZWQge1xuICBsZXQgZmlsZSA9IE1hdGguZmxvb3IoKGJkLndpZHRoICogKHBvc1swXSAtIGJvdW5kcy5sZWZ0KSkgLyBib3VuZHMud2lkdGgpO1xuICBpZiAoIWFzV2hpdGUpIGZpbGUgPSBiZC53aWR0aCAtIDEgLSBmaWxlO1xuICBsZXQgcmFuayA9IGJkLmhlaWdodCAtIDEgLSBNYXRoLmZsb29yKChiZC5oZWlnaHQgKiAocG9zWzFdIC0gYm91bmRzLnRvcCkpIC8gYm91bmRzLmhlaWdodCk7XG4gIGlmICghYXNXaGl0ZSkgcmFuayA9IGJkLmhlaWdodCAtIDEgLSByYW5rO1xuICByZXR1cm4gZmlsZSA+PSAwICYmIGZpbGUgPCBiZC53aWR0aCAmJiByYW5rID49IDAgJiYgcmFuayA8IGJkLmhlaWdodCA/IHBvczJrZXkoW2ZpbGUsIHJhbmtdKSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNuYXBwZWRLZXlBdERvbVBvcyhcbiAgb3JpZzogY2cuS2V5LFxuICBwb3M6IGNnLk51bWJlclBhaXIsXG4gIGFzV2hpdGU6IGJvb2xlYW4sXG4gIGJvdW5kczogQ2xpZW50UmVjdCxcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9uc1xuKTogY2cuS2V5IHwgdW5kZWZpbmVkIHtcbiAgY29uc3Qgb3JpZ1BvcyA9IGtleTJwb3Mob3JpZyk7XG4gIGNvbnN0IHZhbGlkU25hcFBvcyA9IGFsbFBvcyhiZCkuZmlsdGVyKHBvczIgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBxdWVlbihvcmlnUG9zWzBdLCBvcmlnUG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKSB8fFxuICAgICAga25pZ2h0KG9yaWdQb3NbMF0sIG9yaWdQb3NbMV0sIHBvczJbMF0sIHBvczJbMV0pIHx8XG4gICAgICAvLyBPbmx5IGFwcGx5IHRoaXMgdG8gOXgxMCBib2FyZCB0byBhdm9pZCBpbnRlcmZlcmluZyB3aXRoIG90aGVyIHZhcmlhbnRzIGJlc2lkZSBKYW5nZ2lcbiAgICAgIChiZC53aWR0aCA9PT0gOSAmJiBiZC5oZWlnaHQgPT09IDEwICYmIGphbmdnaUVsZXBoYW50KG9yaWdQb3NbMF0sIG9yaWdQb3NbMV0sIHBvczJbMF0sIHBvczJbMV0pKVxuICAgICk7XG4gIH0pO1xuICBjb25zdCB2YWxpZFNuYXBDZW50ZXJzID0gdmFsaWRTbmFwUG9zLm1hcChwb3MyID0+IGNvbXB1dGVTcXVhcmVDZW50ZXIocG9zMmtleShwb3MyKSwgYXNXaGl0ZSwgYm91bmRzLCBiZCkpO1xuICBjb25zdCB2YWxpZFNuYXBEaXN0YW5jZXMgPSB2YWxpZFNuYXBDZW50ZXJzLm1hcChwb3MyID0+IGRpc3RhbmNlU3EocG9zLCBwb3MyKSk7XG4gIGNvbnN0IFssIGNsb3Nlc3RTbmFwSW5kZXhdID0gdmFsaWRTbmFwRGlzdGFuY2VzLnJlZHVjZShcbiAgICAoYSwgYiwgaW5kZXgpID0+IChhWzBdIDwgYiA/IGEgOiBbYiwgaW5kZXhdKSxcbiAgICBbdmFsaWRTbmFwRGlzdGFuY2VzWzBdLCAwXVxuICApO1xuICByZXR1cm4gcG9zMmtleSh2YWxpZFNuYXBQb3NbY2xvc2VzdFNuYXBJbmRleF0pO1xufVxuXG5leHBvcnQgY29uc3Qgd2hpdGVQb3YgPSAoczogSGVhZGxlc3NTdGF0ZSk6IGJvb2xlYW4gPT4gcy5vcmllbnRhdGlvbiA9PT0gJ3doaXRlJztcbiIsICJpbXBvcnQgeyBIZWFkbGVzc1N0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQgeyBzZXRDaGVjaywgc2V0U2VsZWN0ZWQgfSBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCB7IHJlYWQgYXMgZmVuUmVhZCB9IGZyb20gJy4vZmVuLmpzJztcbmltcG9ydCB7IERyYXdTaGFwZSwgRHJhd0JydXNoZXMgfSBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlnIHtcbiAgZmVuPzogY2cuRkVOOyAvLyBjaGVzcyBwb3NpdGlvbiBpbiBGb3JzeXRoIG5vdGF0aW9uXG4gIG9yaWVudGF0aW9uPzogY2cuQ29sb3I7IC8vIGJvYXJkIG9yaWVudGF0aW9uLiB3aGl0ZSB8IGJsYWNrXG4gIHR1cm5Db2xvcj86IGNnLkNvbG9yOyAvLyB0dXJuIHRvIHBsYXkuIHdoaXRlIHwgYmxhY2tcbiAgY2hlY2s/OiBjZy5Db2xvciB8IGJvb2xlYW47IC8vIHRydWUgZm9yIGN1cnJlbnQgY29sb3IsIGZhbHNlIHRvIHVuc2V0XG4gIGxhc3RNb3ZlPzogY2cuT3JpZ1tdOyAvLyBzcXVhcmVzIHBhcnQgb2YgdGhlIGxhc3QgbW92ZSBbXCJjM1wiLCBcImM0XCJdXG4gIGNvb3JkaW5hdGVzPzogYm9vbGVhbjsgLy8gaW5jbHVkZSBjb29yZHMgYXR0cmlidXRlc1xuICBhdXRvQ2FzdGxlPzogYm9vbGVhbjsgLy8gaW1tZWRpYXRlbHkgY29tcGxldGUgdGhlIGNhc3RsZSBieSBtb3ZpbmcgdGhlIHJvb2sgYWZ0ZXIga2luZyBtb3ZlXG4gIHZpZXdPbmx5PzogYm9vbGVhbjsgLy8gZG9uJ3QgYmluZCBldmVudHM6IHRoZSB1c2VyIHdpbGwgbmV2ZXIgYmUgYWJsZSB0byBtb3ZlIHBpZWNlcyBhcm91bmRcbiAgZGlzYWJsZUNvbnRleHRNZW51PzogYm9vbGVhbjsgLy8gYmVjYXVzZSB3aG8gbmVlZHMgYSBjb250ZXh0IG1lbnUgb24gYSBjaGVzc2JvYXJkXG4gIGFkZFBpZWNlWkluZGV4PzogYm9vbGVhbjsgLy8gYWRkcyB6LWluZGV4IHZhbHVlcyB0byBwaWVjZXMgKGZvciAzRClcbiAgYWRkRGltZW5zaW9uc0Nzc1ZhcnNUbz86IEhUTUxFbGVtZW50OyAvLyBhZGQgLS1jZy13aWR0aCBhbmQgLS1jZy1oZWlnaHQgQ1NTIHZhcnMgY29udGFpbmluZyB0aGUgYm9hcmQncyBkaW1lbnNpb25zIHRvIHRoaXMgZWxlbWVudFxuICBibG9ja1RvdWNoU2Nyb2xsPzogYm9vbGVhbjsgLy8gYmxvY2sgc2Nyb2xsaW5nIHZpYSB0b3VjaCBkcmFnZ2luZyBvbiB0aGUgYm9hcmQsIGUuZy4gZm9yIGNvb3JkaW5hdGUgdHJhaW5pbmdcbiAgLy8gcGllY2VLZXk6IGJvb2xlYW47IC8vIGFkZCBhIGRhdGEta2V5IGF0dHJpYnV0ZSB0byBwaWVjZSBlbGVtZW50c1xuICBoaWdobGlnaHQ/OiB7XG4gICAgbGFzdE1vdmU/OiBib29sZWFuOyAvLyBhZGQgbGFzdC1tb3ZlIGNsYXNzIHRvIHNxdWFyZXNcbiAgICBjaGVjaz86IGJvb2xlYW47IC8vIGFkZCBjaGVjayBjbGFzcyB0byBzcXVhcmVzXG4gIH07XG4gIGFuaW1hdGlvbj86IHtcbiAgICBlbmFibGVkPzogYm9vbGVhbjtcbiAgICBkdXJhdGlvbj86IG51bWJlcjtcbiAgfTtcbiAgbW92YWJsZT86IHtcbiAgICBmcmVlPzogYm9vbGVhbjsgLy8gYWxsIG1vdmVzIGFyZSB2YWxpZCAtIGJvYXJkIGVkaXRvclxuICAgIGNvbG9yPzogY2cuQ29sb3IgfCAnYm90aCc7IC8vIGNvbG9yIHRoYXQgY2FuIG1vdmUuIHdoaXRlIHwgYmxhY2sgfCBib3RoIHwgdW5kZWZpbmVkXG4gICAgZGVzdHM/OiBjZy5EZXN0czsgLy8gdmFsaWQgbW92ZXMuIHtcImEyXCIgW1wiYTNcIiBcImE0XCJdIFwiYjFcIiBbXCJhM1wiIFwiYzNcIl19XG4gICAgc2hvd0Rlc3RzPzogYm9vbGVhbjsgLy8gd2hldGhlciB0byBhZGQgdGhlIG1vdmUtZGVzdCBjbGFzcyBvbiBzcXVhcmVzXG4gICAgZXZlbnRzPzoge1xuICAgICAgYWZ0ZXI/OiAob3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXksIG1ldGFkYXRhOiBjZy5Nb3ZlTWV0YWRhdGEpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgbW92ZSBoYXMgYmVlbiBwbGF5ZWRcbiAgICAgIGFmdGVyTmV3UGllY2U/OiAocGllY2U6IGNnLlBpZWNlLCBrZXk6IGNnLktleSwgbWV0YWRhdGE6IGNnLk1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIGEgbmV3IHBpZWNlIGlzIGRyb3BwZWQgb24gdGhlIGJvYXJkXG4gICAgfTtcbiAgICByb29rQ2FzdGxlPzogYm9vbGVhbjsgLy8gY2FzdGxlIGJ5IG1vdmluZyB0aGUga2luZyB0byB0aGUgcm9va1xuICB9O1xuICBwcmVtb3ZhYmxlPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuOyAvLyBhbGxvdyBwcmVtb3ZlcyBmb3IgY29sb3IgdGhhdCBjYW4gbm90IG1vdmVcbiAgICBwcmVtb3ZlRnVuYz86IGNnLlByZW1vdmU7IC8vIGZ1bmN0aW9uIGZvciBwcmVtb3ZlIGRlc3RpbmF0aW9uc1xuICAgIHByZWRyb3BGdW5jPzogY2cuUHJlZHJvcDsgLy8gZnVuY3Rpb24gZm9yIHByZWRyb3AgZGVzdGluYXRpb25zXG4gICAgY2FzdGxlPzogYm9vbGVhbjsgLy8gd2hldGhlciB0byBhbGxvdyBraW5nIGNhc3RsZSBwcmVtb3Zlc1xuICAgIGRlc3RzPzogY2cuS2V5W107IC8vIHByZW1vdmUgZGVzdGluYXRpb25zIGZvciB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICBldmVudHM/OiB7XG4gICAgICBzZXQ/OiAob3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhZGF0YT86IGNnLlNldFByZW1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBwcmVtb3ZlIGhhcyBiZWVuIHNldFxuICAgICAgdW5zZXQ/OiAoKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHByZW1vdmUgaGFzIGJlZW4gdW5zZXRcbiAgICB9O1xuICB9O1xuICBkcmFnZ2FibGU/OiB7XG4gICAgZW5hYmxlZD86IGJvb2xlYW47IC8vIGFsbG93IG1vdmVzICYgcHJlbW92ZXMgdG8gdXNlIGRyYWcnbiBkcm9wXG4gICAgZGlzdGFuY2U/OiBudW1iZXI7IC8vIG1pbmltdW0gZGlzdGFuY2UgdG8gaW5pdGlhdGUgYSBkcmFnOyBpbiBwaXhlbHNcbiAgICBhdXRvRGlzdGFuY2U/OiBib29sZWFuOyAvLyBsZXRzIGNoZXNzZ3JvdW5kIHNldCBkaXN0YW5jZSB0byB6ZXJvIHdoZW4gdXNlciBkcmFncyBwaWVjZXNcbiAgICBzaG93R2hvc3Q/OiBib29sZWFuOyAvLyBzaG93IGdob3N0IG9mIHBpZWNlIGJlaW5nIGRyYWdnZWRcbiAgICBkZWxldGVPbkRyb3BPZmY/OiBib29sZWFuOyAvLyBkZWxldGUgYSBwaWVjZSB3aGVuIGl0IGlzIGRyb3BwZWQgb2ZmIHRoZSBib2FyZFxuICB9O1xuICBzZWxlY3RhYmxlPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuOyAvLyBkaXNhYmxlIHRvIGVuZm9yY2UgZHJhZ2dpbmcgb3ZlciBjbGljay1jbGljayBtb3ZlXG4gICAgc2VsZWN0ZWQ/OiBjZy5TZWxlY3RhYmxlOyAvLyBzcXVhcmUgb3IgcGllY2UgY3VycmVudGx5IHNlbGVjdGVkIFwiYTFcIlxuICAgIGZyb21Qb2NrZXQ/OiBib29sZWFuOyAvLyB3aGV0aGVyIHRoZSBzZWxlY3RlZCBwaWVjZSBpcyBmcm9tIHRoZSBwb2NrZXRcbiAgfTtcbiAgZXZlbnRzPzoge1xuICAgIGNoYW5nZT86ICgpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgc2l0dWF0aW9uIGNoYW5nZXMgb24gdGhlIGJvYXJkXG4gICAgLy8gY2FsbGVkIGFmdGVyIGEgcGllY2UgaGFzIGJlZW4gbW92ZWQuXG4gICAgLy8gY2FwdHVyZWRQaWVjZSBpcyB1bmRlZmluZWQgb3IgbGlrZSB7Y29sb3I6ICd3aGl0ZSc7ICdyb2xlJzogJ3F1ZWVuJ31cbiAgICBtb3ZlPzogKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5LCBjYXB0dXJlZFBpZWNlPzogY2cuUGllY2UpID0+IHZvaWQ7XG4gICAgZHJvcE5ld1BpZWNlPzogKHBpZWNlOiBjZy5QaWVjZSwga2V5OiBjZy5LZXkpID0+IHZvaWQ7XG4gICAgc2VsZWN0PzogKGtleTogY2cuS2V5KSA9PiB2b2lkOyAvLyBjYWxsZWQgd2hlbiBhIHNxdWFyZSBpcyBzZWxlY3RlZFxuICAgIGluc2VydD86IChlbGVtZW50czogY2cuRWxlbWVudHMpID0+IHZvaWQ7IC8vIHdoZW4gdGhlIGJvYXJkIERPTSBoYXMgYmVlbiAocmUpaW5zZXJ0ZWRcbiAgfTtcbiAgZHJhd2FibGU/OiB7XG4gICAgZW5hYmxlZD86IGJvb2xlYW47IC8vIGNhbiBkcmF3XG4gICAgdmlzaWJsZT86IGJvb2xlYW47IC8vIGNhbiB2aWV3XG4gICAgZGVmYXVsdFNuYXBUb1ZhbGlkTW92ZT86IGJvb2xlYW47XG4gICAgLy8gZmFsc2UgdG8ga2VlcCB0aGUgZHJhd2luZyBpZiBhIG1vdmFibGUgcGllY2UgaXMgY2xpY2tlZC5cbiAgICAvLyBDbGlja2luZyBhbiBlbXB0eSBzcXVhcmUgb3IgaW1tb3ZhYmxlIHBpZWNlIHdpbGwgY2xlYXIgdGhlIGRyYXdpbmcgcmVnYXJkbGVzcy5cbiAgICBlcmFzZU9uQ2xpY2s/OiBib29sZWFuO1xuICAgIHNoYXBlcz86IERyYXdTaGFwZVtdO1xuICAgIGF1dG9TaGFwZXM/OiBEcmF3U2hhcGVbXTtcbiAgICBicnVzaGVzPzogRHJhd0JydXNoZXM7XG4gICAgb25DaGFuZ2U/OiAoc2hhcGVzOiBEcmF3U2hhcGVbXSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIGRyYXdhYmxlIHNoYXBlcyBjaGFuZ2VcbiAgfTtcbiAgZGltZW5zaW9ucz86IGNnLkJvYXJkRGltZW5zaW9ucztcbiAgbm90YXRpb24/OiBjZy5Ob3RhdGlvbjsgLy8gY29vcmQgbm90YXRpb24gc3R5bGVcbiAga2luZ1JvbGVzPzogY2cuUm9sZVtdOyAvLyByb2xlcyB0byBiZSBtYXJrZWQgd2l0aCBjaGVja1xuICBwb2NrZXRSb2xlcz86IGNnLlBvY2tldFJvbGVzOyAvLyB3aGF0IHBpZWNlcyBoYXZlIHNsb3RzIGluIHRoZSBwb2NrZXQgZm9yIGVhY2ggY29sb3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBjb25maWc6IENvbmZpZyk6IHZvaWQge1xuICBpZiAoY29uZmlnLmFuaW1hdGlvbikge1xuICAgIGRlZXBNZXJnZShzdGF0ZS5hbmltYXRpb24sIGNvbmZpZy5hbmltYXRpb24pO1xuICAgIC8vIG5vIG5lZWQgZm9yIHN1Y2ggc2hvcnQgYW5pbWF0aW9uc1xuICAgIGlmICgoc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDApIDwgNzApIHN0YXRlLmFuaW1hdGlvbi5lbmFibGVkID0gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgY29uZmlnOiBDb25maWcpOiB2b2lkIHtcbiAgLy8gZG9uJ3QgbWVyZ2UgZGVzdGluYXRpb25zIGFuZCBhdXRvU2hhcGVzLiBKdXN0IG92ZXJyaWRlLlxuICBpZiAoY29uZmlnLm1vdmFibGU/LmRlc3RzKSBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICBpZiAoY29uZmlnLmRyYXdhYmxlPy5hdXRvU2hhcGVzKSBzdGF0ZS5kcmF3YWJsZS5hdXRvU2hhcGVzID0gW107XG5cbiAgZGVlcE1lcmdlKHN0YXRlLCBjb25maWcpO1xuXG4gIC8vIGlmIGEgZmVuIHdhcyBwcm92aWRlZCwgcmVwbGFjZSB0aGUgcGllY2VzXG4gIGlmIChjb25maWcuZmVuKSB7XG4gICAgY29uc3QgYm9hcmRTdGF0ZSA9IGZlblJlYWQoY29uZmlnLmZlbiwgc3RhdGUuZGltZW5zaW9ucyk7XG4gICAgLy8gcHJldmVudCBjYWxsaW5nIGNhbmNlbCgpIGlmIHBpZWNlIGRyYWcgaXMgYWxyZWFkeSBzdGFydGVkIGZyb20gcG9ja2V0IVxuICAgIGNvbnN0IGRyYWdnZWRQaWVjZSA9IHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldCgnYTAnKTtcbiAgICBpZiAoZHJhZ2dlZFBpZWNlICE9PSB1bmRlZmluZWQpIGJvYXJkU3RhdGUucGllY2VzLnNldCgnYTAnLCBkcmFnZ2VkUGllY2UpO1xuICAgIC8vIHNldCB0aGUgcG9ja2V0IHRvIGVtcHR5IGluc3RlYWQgb2YgdW5kZWZpbmVkIGlmIHBvY2tldFJvbGVzIGV4aXN0c1xuICAgIC8vIGxpa2V3aXNlLCBzZXQgdGhlIHBvY2tldCB0byB1bmRlZmluZWQgaWYgcG9ja2V0Um9sZXMgaXMgdW5kZWZpbmVkXG4gICAgaWYgKHN0YXRlLnBvY2tldFJvbGVzKSBib2FyZFN0YXRlLnBvY2tldHMgPSBib2FyZFN0YXRlLnBvY2tldHMgPz8geyB3aGl0ZTogbmV3IE1hcCgpLCBibGFjazogbmV3IE1hcCgpIH07XG4gICAgZWxzZSBib2FyZFN0YXRlLnBvY2tldHMgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZSA9IGJvYXJkU3RhdGU7XG4gICAgc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gW107XG4gIH1cblxuICAvLyBhcHBseSBjb25maWcgdmFsdWVzIHRoYXQgY291bGQgYmUgdW5kZWZpbmVkIHlldCBtZWFuaW5nZnVsXG4gIGlmICgnY2hlY2snIGluIGNvbmZpZyB8fCAna2luZ1JvbGVzJyBpbiBjb25maWcpIHNldENoZWNrKHN0YXRlLCBjb25maWcuY2hlY2sgfHwgZmFsc2UpO1xuICBpZiAoJ2xhc3RNb3ZlJyBpbiBjb25maWcgJiYgIWNvbmZpZy5sYXN0TW92ZSkgc3RhdGUubGFzdE1vdmUgPSB1bmRlZmluZWQ7XG4gIC8vIGluIGNhc2Ugb2YgWkggZHJvcCBsYXN0IG1vdmUsIHRoZXJlJ3MgYSBzaW5nbGUgc3F1YXJlLlxuICAvLyBpZiB0aGUgcHJldmlvdXMgbGFzdCBtb3ZlIGhhZCB0d28gc3F1YXJlcyxcbiAgLy8gdGhlIG1lcmdlIGFsZ29yaXRobSB3aWxsIGluY29ycmVjdGx5IGtlZXAgdGhlIHNlY29uZCBzcXVhcmUuXG4gIGVsc2UgaWYgKGNvbmZpZy5sYXN0TW92ZSkgc3RhdGUubGFzdE1vdmUgPSBjb25maWcubGFzdE1vdmU7XG5cbiAgLy8gZml4IG1vdmUvcHJlbW92ZSBkZXN0c1xuICBpZiAoc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCkgc2V0U2VsZWN0ZWQoc3RhdGUsIHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQsIHN0YXRlLnNlbGVjdGFibGUuZnJvbVBvY2tldCk7XG5cbiAgYXBwbHlBbmltYXRpb24oc3RhdGUsIGNvbmZpZyk7XG5cbiAgaWYgKCFzdGF0ZS5tb3ZhYmxlLnJvb2tDYXN0bGUgJiYgc3RhdGUubW92YWJsZS5kZXN0cykge1xuICAgIGNvbnN0IHJhbmsgPSBzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnd2hpdGUnID8gJzEnIDogJzgnLFxuICAgICAga2luZ1N0YXJ0UG9zID0gKCdlJyArIHJhbmspIGFzIGNnLktleSxcbiAgICAgIGRlc3RzID0gc3RhdGUubW92YWJsZS5kZXN0cy5nZXQoa2luZ1N0YXJ0UG9zKSxcbiAgICAgIGtpbmcgPSBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2luZ1N0YXJ0UG9zKTtcbiAgICBpZiAoIWRlc3RzIHx8ICFraW5nIHx8IGtpbmcucm9sZSAhPT0gJ2stcGllY2UnKSByZXR1cm47XG4gICAgc3RhdGUubW92YWJsZS5kZXN0cy5zZXQoXG4gICAgICBraW5nU3RhcnRQb3MsXG4gICAgICBkZXN0cy5maWx0ZXIoXG4gICAgICAgIGQgPT5cbiAgICAgICAgICAhKGQgPT09ICdhJyArIHJhbmsgJiYgZGVzdHMuaW5jbHVkZXMoKCdjJyArIHJhbmspIGFzIGNnLktleSkpICYmXG4gICAgICAgICAgIShkID09PSAnaCcgKyByYW5rICYmIGRlc3RzLmluY2x1ZGVzKCgnZycgKyByYW5rKSBhcyBjZy5LZXkpKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlKGJhc2U6IGFueSwgZXh0ZW5kOiBhbnkpOiB2b2lkIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gZXh0ZW5kKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHRlbmQsIGtleSkpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYmFzZSwga2V5KSAmJiBpc1BsYWluT2JqZWN0KGJhc2Vba2V5XSkgJiYgaXNQbGFpbk9iamVjdChleHRlbmRba2V5XSkpXG4gICAgICAgIGRlZXBNZXJnZShiYXNlW2tleV0sIGV4dGVuZFtrZXldKTtcbiAgICAgIGVsc2UgYmFzZVtrZXldID0gZXh0ZW5kW2tleV07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QobzogdW5rbm93bik6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIG8gIT09ICdvYmplY3QnIHx8IG8gPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIHJldHVybiBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBwcm90byA9PT0gbnVsbDtcbn1cbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uPEE+ID0gKHN0YXRlOiBTdGF0ZSkgPT4gQTtcblxuLy8gMCwxIGFuaW1hdGlvbiBnb2FsXG4vLyAyLDMgYW5pbWF0aW9uIGN1cnJlbnQgc3RhdHVzXG5leHBvcnQgdHlwZSBBbmltVmVjdG9yID0gY2cuTnVtYmVyUXVhZDtcblxuZXhwb3J0IHR5cGUgQW5pbVZlY3RvcnMgPSBNYXA8Y2cuS2V5LCBBbmltVmVjdG9yPjtcblxuZXhwb3J0IHR5cGUgQW5pbUZhZGluZ3MgPSBNYXA8Y2cuS2V5LCBjZy5QaWVjZT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5pbVBsYW4ge1xuICBhbmltczogQW5pbVZlY3RvcnM7XG4gIGZhZGluZ3M6IEFuaW1GYWRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1DdXJyZW50IHtcbiAgc3RhcnQ6IERPTUhpZ2hSZXNUaW1lU3RhbXA7XG4gIGZyZXF1ZW5jeTogY2cuS0h6O1xuICBwbGFuOiBBbmltUGxhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGFuaW0gPSA8QT4obXV0YXRpb246IE11dGF0aW9uPEE+LCBzdGF0ZTogU3RhdGUpOiBBID0+XG4gIHN0YXRlLmFuaW1hdGlvbi5lbmFibGVkID8gYW5pbWF0ZShtdXRhdGlvbiwgc3RhdGUpIDogcmVuZGVyKG11dGF0aW9uLCBzdGF0ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXI8QT4obXV0YXRpb246IE11dGF0aW9uPEE+LCBzdGF0ZTogU3RhdGUpOiBBIHtcbiAgY29uc3QgcmVzdWx0ID0gbXV0YXRpb24oc3RhdGUpO1xuICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmludGVyZmFjZSBBbmltUGllY2Uge1xuICBrZXk6IGNnLktleTtcbiAgcG9zOiBjZy5Qb3M7XG4gIHBpZWNlOiBjZy5QaWVjZTtcbn1cbnR5cGUgQW5pbVBpZWNlcyA9IE1hcDxjZy5LZXksIEFuaW1QaWVjZT47XG5cbmNvbnN0IG1ha2VQaWVjZSA9IChrZXk6IGNnLktleSwgcGllY2U6IGNnLlBpZWNlKTogQW5pbVBpZWNlID0+ICh7XG4gIGtleToga2V5LFxuICBwb3M6IHV0aWwua2V5MnBvcyhrZXkpLFxuICBwaWVjZTogcGllY2UsXG59KTtcblxuY29uc3QgY2xvc2VyID0gKHBpZWNlOiBBbmltUGllY2UsIHBpZWNlczogQW5pbVBpZWNlW10pOiBBbmltUGllY2UgfCB1bmRlZmluZWQgPT5cbiAgcGllY2VzLnNvcnQoKHAxLCBwMikgPT4gdXRpbC5kaXN0YW5jZVNxKHBpZWNlLnBvcywgcDEucG9zKSAtIHV0aWwuZGlzdGFuY2VTcShwaWVjZS5wb3MsIHAyLnBvcykpWzBdO1xuXG5mdW5jdGlvbiBjb21wdXRlUGxhbihwcmV2UGllY2VzOiBjZy5QaWVjZXMsIGN1cnJlbnQ6IFN0YXRlKTogQW5pbVBsYW4ge1xuICBjb25zdCBhbmltczogQW5pbVZlY3RvcnMgPSBuZXcgTWFwKCksXG4gICAgYW5pbWVkT3JpZ3M6IGNnLktleVtdID0gW10sXG4gICAgZmFkaW5nczogQW5pbUZhZGluZ3MgPSBuZXcgTWFwKCksXG4gICAgbWlzc2luZ3M6IEFuaW1QaWVjZVtdID0gW10sXG4gICAgbmV3czogQW5pbVBpZWNlW10gPSBbXSxcbiAgICBwcmVQaWVjZXM6IEFuaW1QaWVjZXMgPSBuZXcgTWFwKCk7XG4gIGxldCBjdXJQOiBjZy5QaWVjZSB8IHVuZGVmaW5lZCwgcHJlUDogQW5pbVBpZWNlIHwgdW5kZWZpbmVkLCB2ZWN0b3I6IGNnLk51bWJlclBhaXI7XG4gIGZvciAoY29uc3QgW2ssIHBdIG9mIHByZXZQaWVjZXMpIHtcbiAgICBwcmVQaWVjZXMuc2V0KGssIG1ha2VQaWVjZShrLCBwKSk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5hbGxLZXlzKGN1cnJlbnQuZGltZW5zaW9ucykpIHtcbiAgICBjdXJQID0gY3VycmVudC5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KTtcbiAgICBwcmVQID0gcHJlUGllY2VzLmdldChrZXkpO1xuICAgIGlmIChjdXJQKSB7XG4gICAgICBpZiAocHJlUCkge1xuICAgICAgICBpZiAoIXV0aWwuc2FtZVBpZWNlKGN1clAsIHByZVAucGllY2UpKSB7XG4gICAgICAgICAgbWlzc2luZ3MucHVzaChwcmVQKTtcbiAgICAgICAgICBuZXdzLnB1c2gobWFrZVBpZWNlKGtleSwgY3VyUCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgbmV3cy5wdXNoKG1ha2VQaWVjZShrZXksIGN1clApKTtcbiAgICB9IGVsc2UgaWYgKHByZVApIG1pc3NpbmdzLnB1c2gocHJlUCk7XG4gIH1cbiAgZm9yIChjb25zdCBuZXdQIG9mIG5ld3MpIHtcbiAgICBwcmVQID0gY2xvc2VyKFxuICAgICAgbmV3UCxcbiAgICAgIG1pc3NpbmdzLmZpbHRlcihwID0+IHV0aWwuc2FtZVBpZWNlKG5ld1AucGllY2UsIHAucGllY2UpKVxuICAgICk7XG4gICAgaWYgKHByZVApIHtcbiAgICAgIHZlY3RvciA9IFtwcmVQLnBvc1swXSAtIG5ld1AucG9zWzBdLCBwcmVQLnBvc1sxXSAtIG5ld1AucG9zWzFdXTtcbiAgICAgIGFuaW1zLnNldChuZXdQLmtleSwgdmVjdG9yLmNvbmNhdCh2ZWN0b3IpIGFzIEFuaW1WZWN0b3IpO1xuICAgICAgYW5pbWVkT3JpZ3MucHVzaChwcmVQLmtleSk7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcCBvZiBtaXNzaW5ncykge1xuICAgIGlmICghYW5pbWVkT3JpZ3MuaW5jbHVkZXMocC5rZXkpKSBmYWRpbmdzLnNldChwLmtleSwgcC5waWVjZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFuaW1zOiBhbmltcyxcbiAgICBmYWRpbmdzOiBmYWRpbmdzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBzdGVwKHN0YXRlOiBTdGF0ZSwgbm93OiBET01IaWdoUmVzVGltZVN0YW1wKTogdm9pZCB7XG4gIGNvbnN0IGN1ciA9IHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50O1xuICBpZiAoY3VyID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBhbmltYXRpb24gd2FzIGNhbmNlbGVkIDooXG4gICAgaWYgKCFzdGF0ZS5kb20uZGVzdHJveWVkKSBzdGF0ZS5kb20ucmVkcmF3Tm93KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlc3QgPSAxIC0gKG5vdyAtIGN1ci5zdGFydCkgKiBjdXIuZnJlcXVlbmN5O1xuICBpZiAocmVzdCA8PSAwKSB7XG4gICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuZG9tLnJlZHJhd05vdygpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGVhc2UgPSBlYXNpbmcocmVzdCk7XG4gICAgZm9yIChjb25zdCBjZmcgb2YgY3VyLnBsYW4uYW5pbXMudmFsdWVzKCkpIHtcbiAgICAgIGNmZ1syXSA9IGNmZ1swXSAqIGVhc2U7XG4gICAgICBjZmdbM10gPSBjZmdbMV0gKiBlYXNlO1xuICAgIH1cbiAgICBzdGF0ZS5kb20ucmVkcmF3Tm93KHRydWUpOyAvLyBvcHRpbWlzYXRpb246IGRvbid0IHJlbmRlciBTVkcgY2hhbmdlcyBkdXJpbmcgYW5pbWF0aW9uc1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgobm93ID0gcGVyZm9ybWFuY2Uubm93KCkpID0+IHN0ZXAoc3RhdGUsIG5vdykpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFuaW1hdGU8QT4obXV0YXRpb246IE11dGF0aW9uPEE+LCBzdGF0ZTogU3RhdGUpOiBBIHtcbiAgLy8gY2xvbmUgc3RhdGUgYmVmb3JlIG11dGF0aW5nIGl0XG4gIGNvbnN0IHByZXZQaWVjZXM6IGNnLlBpZWNlcyA9IG5ldyBNYXAoc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IG11dGF0aW9uKHN0YXRlKTtcbiAgY29uc3QgcGxhbiA9IGNvbXB1dGVQbGFuKHByZXZQaWVjZXMsIHN0YXRlKTtcbiAgaWYgKHBsYW4uYW5pbXMuc2l6ZSB8fCBwbGFuLmZhZGluZ3Muc2l6ZSkge1xuICAgIGNvbnN0IGFscmVhZHlSdW5uaW5nID0gc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgJiYgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQuc3RhcnQ7XG4gICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB7XG4gICAgICBzdGFydDogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgICBmcmVxdWVuY3k6IDEgLyBzdGF0ZS5hbmltYXRpb24uZHVyYXRpb24sXG4gICAgICBwbGFuOiBwbGFuLFxuICAgIH07XG4gICAgaWYgKCFhbHJlYWR5UnVubmluZykgc3RlcChzdGF0ZSwgcGVyZm9ybWFuY2Uubm93KCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIGRvbid0IGFuaW1hdGUsIGp1c3QgcmVuZGVyIHJpZ2h0IGF3YXlcbiAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZ3JlLzE2NTAyOTRcbmNvbnN0IGVhc2luZyA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4gKHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxKTtcbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0IHsgdW5zZWxlY3QsIGNhbmNlbE1vdmUsIGdldEtleUF0RG9tUG9zLCBnZXRTbmFwcGVkS2V5QXREb21Qb3MsIHdoaXRlUG92IH0gZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyBldmVudFBvc2l0aW9uLCBpc1JpZ2h0QnV0dG9uIH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyYXdTaGFwZSB7XG4gIG9yaWc6IGNnLktleTtcbiAgZGVzdD86IGNnLktleTtcbiAgYnJ1c2g/OiBzdHJpbmc7XG4gIG1vZGlmaWVycz86IERyYXdNb2RpZmllcnM7XG4gIHBpZWNlPzogRHJhd1NoYXBlUGllY2U7XG4gIGN1c3RvbVN2Zz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3U2hhcGVQaWVjZSB7XG4gIHJvbGU6IGNnLlJvbGU7XG4gIGNvbG9yOiBjZy5Db2xvcjtcbiAgcHJvbW90ZWQ/OiBib29sZWFuO1xuICBzY2FsZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3QnJ1c2gge1xuICBrZXk6IHN0cmluZztcbiAgY29sb3I6IHN0cmluZztcbiAgb3BhY2l0eTogbnVtYmVyO1xuICBsaW5lV2lkdGg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3QnJ1c2hlcyB7XG4gIFtuYW1lOiBzdHJpbmddOiBEcmF3QnJ1c2g7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd01vZGlmaWVycyB7XG4gIGxpbmVXaWR0aD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3YWJsZSB7XG4gIGVuYWJsZWQ6IGJvb2xlYW47IC8vIGNhbiBkcmF3XG4gIHZpc2libGU6IGJvb2xlYW47IC8vIGNhbiB2aWV3XG4gIGRlZmF1bHRTbmFwVG9WYWxpZE1vdmU6IGJvb2xlYW47XG4gIGVyYXNlT25DbGljazogYm9vbGVhbjtcbiAgb25DaGFuZ2U/OiAoc2hhcGVzOiBEcmF3U2hhcGVbXSkgPT4gdm9pZDtcbiAgc2hhcGVzOiBEcmF3U2hhcGVbXTsgLy8gdXNlciBzaGFwZXNcbiAgYXV0b1NoYXBlczogRHJhd1NoYXBlW107IC8vIGNvbXB1dGVyIHNoYXBlc1xuICBjdXJyZW50PzogRHJhd0N1cnJlbnQ7XG4gIGJydXNoZXM6IERyYXdCcnVzaGVzO1xuICBwcmV2U3ZnSGFzaDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyYXdDdXJyZW50IHtcbiAgb3JpZzogY2cuS2V5OyAvLyBvcmlnIGtleSBvZiBkcmF3aW5nXG4gIGRlc3Q/OiBjZy5LZXk7IC8vIHNoYXBlIGRlc3QsIG9yIHVuZGVmaW5lZCBmb3IgY2lyY2xlXG4gIG1vdXNlU3E/OiBjZy5LZXk7IC8vIHNxdWFyZSBiZWluZyBtb3VzZWQgb3ZlclxuICBwb3M6IGNnLk51bWJlclBhaXI7IC8vIHJlbGF0aXZlIGN1cnJlbnQgcG9zaXRpb25cbiAgYnJ1c2g6IHN0cmluZzsgLy8gYnJ1c2ggbmFtZSBmb3Igc2hhcGVcbiAgc25hcFRvVmFsaWRNb3ZlOiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIHNuYXAgdG8gdmFsaWQgcGllY2UgbW92ZXNcbn1cblxuY29uc3QgYnJ1c2hlcyA9IFsnZ3JlZW4nLCAncmVkJywgJ2JsdWUnLCAneWVsbG93J107XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydChzdGF0ZTogU3RhdGUsIGU6IGNnLk1vdWNoRXZlbnQpOiB2b2lkIHtcbiAgLy8gc3VwcG9ydCBvbmUgZmluZ2VyIHRvdWNoIG9ubHlcbiAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuO1xuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGUuY3RybEtleSA/IHVuc2VsZWN0KHN0YXRlKSA6IGNhbmNlbE1vdmUoc3RhdGUpO1xuICBjb25zdCBwb3MgPSBldmVudFBvc2l0aW9uKGUpISxcbiAgICBvcmlnID0gZ2V0S2V5QXREb21Qb3MocG9zLCB3aGl0ZVBvdihzdGF0ZSksIHN0YXRlLmRvbS5ib3VuZHMoKSwgc3RhdGUuZGltZW5zaW9ucyk7XG4gIGlmICghb3JpZykgcmV0dXJuO1xuICBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50ID0ge1xuICAgIG9yaWcsXG4gICAgcG9zLFxuICAgIGJydXNoOiBldmVudEJydXNoKGUpLFxuICAgIHNuYXBUb1ZhbGlkTW92ZTogc3RhdGUuZHJhd2FibGUuZGVmYXVsdFNuYXBUb1ZhbGlkTW92ZSxcbiAgfTtcblxuICBwcm9jZXNzRHJhdyhzdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzRHJhdyhzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBjb25zdCBjdXIgPSBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50O1xuICAgIGlmIChjdXIpIHtcbiAgICAgIGNvbnN0IGtleUF0RG9tUG9zID0gZ2V0S2V5QXREb21Qb3MoY3VyLnBvcywgd2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCksIHN0YXRlLmRpbWVuc2lvbnMpO1xuICAgICAgaWYgKCFrZXlBdERvbVBvcykge1xuICAgICAgICBjdXIuc25hcFRvVmFsaWRNb3ZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBtb3VzZVNxID0gY3VyLnNuYXBUb1ZhbGlkTW92ZVxuICAgICAgICA/IGdldFNuYXBwZWRLZXlBdERvbVBvcyhjdXIub3JpZywgY3VyLnBvcywgd2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCksIHN0YXRlLmRpbWVuc2lvbnMpXG4gICAgICAgIDoga2V5QXREb21Qb3M7XG4gICAgICBpZiAobW91c2VTcSAhPT0gY3VyLm1vdXNlU3EpIHtcbiAgICAgICAgY3VyLm1vdXNlU3EgPSBtb3VzZVNxO1xuICAgICAgICBjdXIuZGVzdCA9IG1vdXNlU3EgIT09IGN1ci5vcmlnID8gbW91c2VTcSA6IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUuZG9tLnJlZHJhd05vdygpO1xuICAgICAgfVxuICAgICAgcHJvY2Vzc0RyYXcoc3RhdGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlKHN0YXRlOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICBpZiAoc3RhdGUuZHJhd2FibGUuY3VycmVudCkgc3RhdGUuZHJhd2FibGUuY3VycmVudC5wb3MgPSBldmVudFBvc2l0aW9uKGUpITtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZChzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgY3VyID0gc3RhdGUuZHJhd2FibGUuY3VycmVudDtcbiAgaWYgKGN1cikge1xuICAgIGlmIChjdXIubW91c2VTcSkgYWRkU2hhcGUoc3RhdGUuZHJhd2FibGUsIGN1cik7XG4gICAgY2FuY2VsKHN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsKHN0YXRlOiBTdGF0ZSk6IHZvaWQge1xuICBpZiAoc3RhdGUuZHJhd2FibGUuY3VycmVudCkge1xuICAgIHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLmRyYXdhYmxlLnNoYXBlcy5sZW5ndGgpIHtcbiAgICBzdGF0ZS5kcmF3YWJsZS5zaGFwZXMgPSBbXTtcbiAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgb25DaGFuZ2Uoc3RhdGUuZHJhd2FibGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50QnJ1c2goZTogY2cuTW91Y2hFdmVudCk6IHN0cmluZyB7XG4gIGNvbnN0IG1vZEEgPSAoZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkpICYmIGlzUmlnaHRCdXR0b24oZSk7XG4gIGNvbnN0IG1vZEIgPSBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5nZXRNb2RpZmllclN0YXRlPy4oJ0FsdEdyYXBoJyk7XG4gIHJldHVybiBicnVzaGVzWyhtb2RBID8gMSA6IDApICsgKG1vZEIgPyAyIDogMCldO1xufVxuXG5mdW5jdGlvbiBhZGRTaGFwZShkcmF3YWJsZTogRHJhd2FibGUsIGN1cjogRHJhd0N1cnJlbnQpOiB2b2lkIHtcbiAgY29uc3Qgc2FtZVNoYXBlID0gKHM6IERyYXdTaGFwZSkgPT4gcy5vcmlnID09PSBjdXIub3JpZyAmJiBzLmRlc3QgPT09IGN1ci5kZXN0O1xuICBjb25zdCBzaW1pbGFyID0gZHJhd2FibGUuc2hhcGVzLmZpbmQoc2FtZVNoYXBlKTtcbiAgaWYgKHNpbWlsYXIpIGRyYXdhYmxlLnNoYXBlcyA9IGRyYXdhYmxlLnNoYXBlcy5maWx0ZXIocyA9PiAhc2FtZVNoYXBlKHMpKTtcbiAgaWYgKCFzaW1pbGFyIHx8IHNpbWlsYXIuYnJ1c2ggIT09IGN1ci5icnVzaCkgZHJhd2FibGUuc2hhcGVzLnB1c2goY3VyKTtcbiAgb25DaGFuZ2UoZHJhd2FibGUpO1xufVxuXG5mdW5jdGlvbiBvbkNoYW5nZShkcmF3YWJsZTogRHJhd2FibGUpOiB2b2lkIHtcbiAgaWYgKGRyYXdhYmxlLm9uQ2hhbmdlKSBkcmF3YWJsZS5vbkNoYW5nZShkcmF3YWJsZS5zaGFwZXMpO1xufVxuIiwgImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQgKiBhcyBib2FyZCBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IGNsZWFyIGFzIGRyYXdDbGVhciB9IGZyb20gJy4vZHJhdy5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGFuaW0gfSBmcm9tICcuL2FuaW0uanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyYWdDdXJyZW50IHtcbiAgb3JpZzogY2cuS2V5OyAvLyBvcmlnIGtleSBvZiBkcmFnZ2luZyBwaWVjZVxuICBwaWVjZTogY2cuUGllY2U7XG4gIG9yaWdQb3M6IGNnLk51bWJlclBhaXI7IC8vIGZpcnN0IGV2ZW50IHBvc2l0aW9uXG4gIHBvczogY2cuTnVtYmVyUGFpcjsgLy8gbGF0ZXN0IGV2ZW50IHBvc2l0aW9uXG4gIHN0YXJ0ZWQ6IGJvb2xlYW47IC8vIHdoZXRoZXIgdGhlIGRyYWcgaGFzIHN0YXJ0ZWQ7IGFzIHBlciB0aGUgZGlzdGFuY2Ugc2V0dGluZ1xuICBlbGVtZW50OiBjZy5QaWVjZU5vZGUgfCAoKCkgPT4gY2cuUGllY2VOb2RlIHwgdW5kZWZpbmVkKTtcbiAgZnJvbVBvY2tldD86IGJvb2xlYW47IC8vIGl0IGlzIGEgcGllY2UgZnJvbSBvbmUgb2YgdGhlIHBvY2tldHNcbiAgZm9yY2U/OiBib29sZWFuOyAvLyBjYW4gdGhlIG5ldyBwaWVjZSByZXBsYWNlIGFuIGV4aXN0aW5nIG9uZSAoZWRpdG9yKVxuICBwcmV2aW91c2x5U2VsZWN0ZWQ/OiBjZy5TZWxlY3RhYmxlO1xuICBvcmlnaW5UYXJnZXQ6IEV2ZW50VGFyZ2V0IHwgbnVsbDtcbiAga2V5SGFzQ2hhbmdlZDogYm9vbGVhbjsgLy8gd2hldGhlciB0aGUgZHJhZyBoYXMgbGVmdCB0aGUgb3JpZyBrZXlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0KHM6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIGlmICghZS5pc1RydXN0ZWQgfHwgKGUuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b24gIT09IDApKSByZXR1cm47IC8vIG9ubHkgdG91Y2ggb3IgbGVmdCBjbGlja1xuICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSByZXR1cm47IC8vIHN1cHBvcnQgb25lIGZpbmdlciB0b3VjaCBvbmx5XG4gIGNvbnN0IGJvdW5kcyA9IHMuZG9tLmJvdW5kcygpLFxuICAgIHBvc2l0aW9uID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpISxcbiAgICBvcmlnID0gYm9hcmQuZ2V0S2V5QXREb21Qb3MocG9zaXRpb24sIGJvYXJkLndoaXRlUG92KHMpLCBib3VuZHMsIHMuZGltZW5zaW9ucyk7XG4gIGlmICghb3JpZykgcmV0dXJuO1xuICBjb25zdCBwaWVjZSA9IHMuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KG9yaWcpO1xuICBjb25zdCBwcmV2aW91c2x5U2VsZWN0ZWQgPSBzLnNlbGVjdGFibGUuc2VsZWN0ZWQ7XG4gIGlmICghcHJldmlvdXNseVNlbGVjdGVkICYmIHMuZHJhd2FibGUuZW5hYmxlZCAmJiAocy5kcmF3YWJsZS5lcmFzZU9uQ2xpY2sgfHwgIXBpZWNlIHx8IHBpZWNlLmNvbG9yICE9PSBzLnR1cm5Db2xvcikpXG4gICAgZHJhd0NsZWFyKHMpO1xuICAvLyBQcmV2ZW50IHRvdWNoIHNjcm9sbCBhbmQgY3JlYXRlIG5vIGNvcnJlc3BvbmRpbmcgbW91c2UgZXZlbnQsIGlmIHRoZXJlXG4gIC8vIGlzIGFuIGludGVudCB0byBpbnRlcmFjdCB3aXRoIHRoZSBib2FyZC5cbiAgaWYgKFxuICAgIGUuY2FuY2VsYWJsZSAhPT0gZmFsc2UgJiZcbiAgICAoIWUudG91Y2hlcyB8fCBzLmJsb2NrVG91Y2hTY3JvbGwgfHwgcGllY2UgfHwgcHJldmlvdXNseVNlbGVjdGVkIHx8IHBpZWNlQ2xvc2VUbyhzLCBwb3NpdGlvbikpXG4gIClcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGhhZFByZW1vdmUgPSAhIXMucHJlbW92YWJsZS5jdXJyZW50O1xuICBzLnN0YXRzLmN0cmxLZXkgPSBlLmN0cmxLZXk7XG4gIGlmIChzLnNlbGVjdGFibGUuc2VsZWN0ZWQgJiYgYm9hcmQuY2FuTW92ZShzLCBzLnNlbGVjdGFibGUuc2VsZWN0ZWQsIG9yaWcsICEhcy5zZWxlY3RhYmxlLmZyb21Qb2NrZXQpKSB7XG4gICAgYW5pbShzdGF0ZSA9PiBib2FyZC5zZWxlY3Qoc3RhdGUsIG9yaWcpLCBzKTtcbiAgfSBlbHNlIHtcbiAgICBib2FyZC5zZWxlY3Qocywgb3JpZyk7XG4gIH1cbiAgY29uc3Qgc3RpbGxTZWxlY3RlZCA9IHMuc2VsZWN0YWJsZS5zZWxlY3RlZCA9PT0gb3JpZztcbiAgY29uc3QgZWxlbWVudCA9IHBpZWNlRWxlbWVudEJ5S2V5KHMsIG9yaWcpO1xuICBpZiAocGllY2UgJiYgZWxlbWVudCAmJiBzdGlsbFNlbGVjdGVkICYmIGJvYXJkLmlzRHJhZ2dhYmxlKHMsIG9yaWcsIGZhbHNlKSkge1xuICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB7XG4gICAgICBvcmlnLFxuICAgICAgcGllY2UsXG4gICAgICBvcmlnUG9zOiBwb3NpdGlvbixcbiAgICAgIHBvczogcG9zaXRpb24sXG4gICAgICBzdGFydGVkOiBzLmRyYWdnYWJsZS5hdXRvRGlzdGFuY2UgJiYgcy5zdGF0cy5kcmFnZ2VkLFxuICAgICAgZWxlbWVudCxcbiAgICAgIHByZXZpb3VzbHlTZWxlY3RlZCxcbiAgICAgIG9yaWdpblRhcmdldDogZS50YXJnZXQsXG4gICAgICBrZXlIYXNDaGFuZ2VkOiBmYWxzZSxcbiAgICB9O1xuICAgIGVsZW1lbnQuY2dEcmFnZ2luZyA9IHRydWU7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgIC8vIHBsYWNlIGdob3N0XG4gICAgY29uc3QgZ2hvc3QgPSBzLmRvbS5lbGVtZW50cy5naG9zdDtcbiAgICBpZiAoZ2hvc3QpIHtcbiAgICAgIGdob3N0LmNsYXNzTmFtZSA9ICdnaG9zdCAnICsgdXRpbC5waWVjZUNsYXNzZXMocGllY2UsIHMub3JpZW50YXRpb24pO1xuICAgICAgdXRpbC50cmFuc2xhdGUoZ2hvc3QsIHV0aWwucG9zVG9UcmFuc2xhdGUoYm91bmRzLCBzLmRpbWVuc2lvbnMpKHV0aWwua2V5MnBvcyhvcmlnKSwgYm9hcmQud2hpdGVQb3YocykpKTtcbiAgICAgIHV0aWwuc2V0VmlzaWJsZShnaG9zdCwgdHJ1ZSk7XG4gICAgfVxuICAgIHByb2Nlc3NEcmFnKHMpO1xuICB9IGVsc2Uge1xuICAgIGlmIChoYWRQcmVtb3ZlKSBib2FyZC51bnNldFByZW1vdmUocyk7XG4gIH1cbiAgcy5kb20ucmVkcmF3KCk7XG59XG5cbmZ1bmN0aW9uIHBpZWNlQ2xvc2VUbyhzOiBTdGF0ZSwgcG9zOiBjZy5OdW1iZXJQYWlyKTogYm9vbGVhbiB7XG4gIGNvbnN0IGFzV2hpdGUgPSBib2FyZC53aGl0ZVBvdihzKSxcbiAgICBib3VuZHMgPSBzLmRvbS5ib3VuZHMoKSxcbiAgICByYWRpdXNTcSA9IE1hdGgucG93KGJvdW5kcy53aWR0aCAvIHMuZGltZW5zaW9ucy53aWR0aCwgMik7XG4gIGZvciAoY29uc3Qga2V5IG9mIHMuYm9hcmRTdGF0ZS5waWVjZXMua2V5cygpKSB7XG4gICAgY29uc3QgY2VudGVyID0gdXRpbC5jb21wdXRlU3F1YXJlQ2VudGVyKGtleSwgYXNXaGl0ZSwgYm91bmRzLCBzLmRpbWVuc2lvbnMpO1xuICAgIGlmICh1dGlsLmRpc3RhbmNlU3EoY2VudGVyLCBwb3MpIDw9IHJhZGl1c1NxKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnTmV3UGllY2UoXG4gIHM6IFN0YXRlLFxuICBwaWVjZTogY2cuUGllY2UsXG4gIGZyb21Qb2NrZXQ6IGJvb2xlYW4sXG4gIGU6IGNnLk1vdWNoRXZlbnQsXG4gIHByZXZpb3VzbHlTZWxlY3RlZD86IGNnLlNlbGVjdGFibGUsXG4gIGZvcmNlPzogYm9vbGVhblxuKTogdm9pZCB7XG4gIHMuZG9tLnJlZHJhdygpO1xuXG4gIGNvbnN0IHBvc2l0aW9uID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpITtcblxuICBzLmJvYXJkU3RhdGUucGllY2VzLnNldCgnYTAnLCBwaWVjZSk7XG5cbiAgcy5kcmFnZ2FibGUuY3VycmVudCA9IHtcbiAgICBvcmlnOiAnYTAnLFxuICAgIHBpZWNlLFxuICAgIG9yaWdQb3M6IHBvc2l0aW9uLFxuICAgIHBvczogcG9zaXRpb24sXG4gICAgc3RhcnRlZDogdHJ1ZSxcbiAgICBlbGVtZW50OiAoKSA9PiBwaWVjZUVsZW1lbnRCeUtleShzLCAnYTAnKSxcbiAgICBwcmV2aW91c2x5U2VsZWN0ZWQsXG4gICAgb3JpZ2luVGFyZ2V0OiBlLnRhcmdldCxcbiAgICBmcm9tUG9ja2V0OiBmcm9tUG9ja2V0LFxuICAgIGZvcmNlOiAhIWZvcmNlLFxuICAgIGtleUhhc0NoYW5nZWQ6IGZhbHNlLFxuICB9O1xuXG4gIHByb2Nlc3NEcmFnKHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0RyYWcoczogU3RhdGUpOiB2b2lkIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICAgIGlmICghY3VyKSByZXR1cm47XG4gICAgLy8gY2FuY2VsIGFuaW1hdGlvbnMgd2hpbGUgZHJhZ2dpbmdcbiAgICBpZiAocy5hbmltYXRpb24uY3VycmVudD8ucGxhbi5hbmltcy5oYXMoY3VyLm9yaWcpKSBzLmFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIC8vIGlmIG1vdmluZyBwaWVjZSBpcyBnb25lLCBjYW5jZWxcbiAgICBjb25zdCBvcmlnUGllY2UgPSBzLmJvYXJkU3RhdGUucGllY2VzLmdldChjdXIub3JpZyk7XG4gICAgaWYgKCF1dGlsLnNhbWVQaWVjZShvcmlnUGllY2UhLCBjdXIucGllY2UpKSBjYW5jZWwocyk7XG4gICAgZWxzZSB7XG4gICAgICBpZiAoIWN1ci5zdGFydGVkICYmIHV0aWwuZGlzdGFuY2VTcShjdXIucG9zLCBjdXIub3JpZ1BvcykgPj0gTWF0aC5wb3cocy5kcmFnZ2FibGUuZGlzdGFuY2UsIDIpKVxuICAgICAgICBjdXIuc3RhcnRlZCA9IHRydWU7XG4gICAgICBpZiAoY3VyLnN0YXJ0ZWQpIHtcbiAgICAgICAgLy8gc3VwcG9ydCBsYXp5IGVsZW1lbnRzXG4gICAgICAgIGlmICh0eXBlb2YgY3VyLmVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjb25zdCBmb3VuZCA9IGN1ci5lbGVtZW50KCk7XG4gICAgICAgICAgaWYgKCFmb3VuZCkgcmV0dXJuO1xuICAgICAgICAgIGZvdW5kLmNnRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgIGZvdW5kLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgY3VyLmVsZW1lbnQgPSBmb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHMuZG9tLmJvdW5kcygpO1xuICAgICAgICB1dGlsLnRyYW5zbGF0ZShjdXIuZWxlbWVudCwgW1xuICAgICAgICAgIGN1ci5wb3NbMF0gLSBib3VuZHMubGVmdCAtIGJvdW5kcy53aWR0aCAvICgyICogcy5kaW1lbnNpb25zLndpZHRoKSxcbiAgICAgICAgICBjdXIucG9zWzFdIC0gYm91bmRzLnRvcCAtIGJvdW5kcy5oZWlnaHQgLyAoMiAqIHMuZGltZW5zaW9ucy5oZWlnaHQpLFxuICAgICAgICBdKTtcblxuICAgICAgICBpZiAoY3VyLm9yaWcgIT09ICdhMCcpXG4gICAgICAgICAgY3VyLmtleUhhc0NoYW5nZWQgfHw9IGN1ci5vcmlnICE9PSBib2FyZC5nZXRLZXlBdERvbVBvcyhjdXIucG9zLCBib2FyZC53aGl0ZVBvdihzKSwgYm91bmRzLCBzLmRpbWVuc2lvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzRHJhZyhzKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlKHM6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIC8vIHN1cHBvcnQgb25lIGZpbmdlciB0b3VjaCBvbmx5XG4gIGlmIChzLmRyYWdnYWJsZS5jdXJyZW50ICYmICghZS50b3VjaGVzIHx8IGUudG91Y2hlcy5sZW5ndGggPCAyKSkge1xuICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQucG9zID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpITtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5kKHM6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIGNvbnN0IGN1ciA9IHMuZHJhZ2dhYmxlLmN1cnJlbnQ7XG4gIGlmICghY3VyKSByZXR1cm47XG4gIC8vIGNyZWF0ZSBubyBjb3JyZXNwb25kaW5nIG1vdXNlIGV2ZW50XG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaGVuZCcgJiYgZS5jYW5jZWxhYmxlICE9PSBmYWxzZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyBjb21wYXJpbmcgd2l0aCB0aGUgb3JpZ2luIHRhcmdldCBpcyBhbiBlYXN5IHdheSB0byB0ZXN0IHRoYXQgdGhlIGVuZCBldmVudFxuICAvLyBoYXMgdGhlIHNhbWUgdG91Y2ggb3JpZ2luXG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaGVuZCcgJiYgY3VyLm9yaWdpblRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICBzLmRyYWdnYWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuICBib2FyZC51bnNldFByZW1vdmUocyk7XG4gIC8vIHRvdWNoZW5kIGhhcyBubyBwb3NpdGlvbjsgc28gdXNlIHRoZSBsYXN0IHRvdWNobW92ZSBwb3NpdGlvbiBpbnN0ZWFkXG4gIGNvbnN0IGV2ZW50UG9zID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpIHx8IGN1ci5wb3M7XG4gIGNvbnN0IGRlc3QgPSBib2FyZC5nZXRLZXlBdERvbVBvcyhldmVudFBvcywgYm9hcmQud2hpdGVQb3YocyksIHMuZG9tLmJvdW5kcygpLCBzLmRpbWVuc2lvbnMpO1xuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgb25Qb2NrZXQgPSBOdW1iZXIodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1uYicpID8/IC0xKSA+PSAwO1xuICBjb25zdCB0YXJnZXRQaWVjZSA9IG9uUG9ja2V0XG4gICAgPyAoeyByb2xlOiB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvbGUnKSwgY29sb3I6IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKSB9IGFzIGNnLlBpZWNlKVxuICAgIDogdW5kZWZpbmVkO1xuICBpZiAoZGVzdCAmJiBjdXIuc3RhcnRlZCAmJiBjdXIub3JpZyAhPT0gZGVzdCkge1xuICAgIHMuc3RhdHMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgICBpZiAoYm9hcmQudXNlck1vdmUocywgY3VyLm9yaWcgIT09ICdhMCcgPyBjdXIub3JpZyA6IGN1ci5waWVjZSwgZGVzdCwgISFjdXIuZnJvbVBvY2tldCkpIHMuc3RhdHMuZHJhZ2dlZCA9IHRydWU7XG4gIH0gZWxzZSBpZiAocy5kcmFnZ2FibGUuZGVsZXRlT25Ecm9wT2ZmICYmICFkZXN0KSB7XG4gICAgcy5ib2FyZFN0YXRlLnBpZWNlcy5kZWxldGUoY3VyLm9yaWcpO1xuICAgIGlmIChjdXIuZnJvbVBvY2tldCkgdXRpbC5jaGFuZ2VOdW1iZXIocy5ib2FyZFN0YXRlLnBvY2tldHMhW2N1ci5waWVjZS5jb2xvcl0sIGN1ci5waWVjZS5yb2xlLCAtMSk7XG4gICAgYm9hcmQuY2FsbFVzZXJGdW5jdGlvbihzLmV2ZW50cy5jaGFuZ2UpO1xuICB9XG4gIGlmIChcbiAgICAoKGN1ci5wcmV2aW91c2x5U2VsZWN0ZWQgJiZcbiAgICAgIChjdXIub3JpZyA9PT0gY3VyLnByZXZpb3VzbHlTZWxlY3RlZCB8fCB1dGlsLmlzU2FtZShjdXIucGllY2UsIGN1ci5wcmV2aW91c2x5U2VsZWN0ZWQpKSkgfHxcbiAgICAgIGN1ci5rZXlIYXNDaGFuZ2VkKSAmJlxuICAgIChjdXIub3JpZyA9PT0gZGVzdCB8fCAhZGVzdClcbiAgKVxuICAgIGJvYXJkLnVuc2VsZWN0KHMpO1xuICBpZiAoY3VyLm9yaWcgPT09ICdhMCcgJiYgKCF0YXJnZXRQaWVjZSB8fCAhdXRpbC5zYW1lUGllY2UoY3VyLnBpZWNlLCB0YXJnZXRQaWVjZSkpKSBib2FyZC51bnNlbGVjdChzKTtcbiAgZWxzZSBpZiAoIXMuc2VsZWN0YWJsZS5lbmFibGVkKSBib2FyZC51bnNlbGVjdChzKTtcblxuICBpZiAoY3VyLm9yaWcgPT09ICdhMCcpIHMuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKCdhMCcpO1xuXG4gIHJlbW92ZURyYWdFbGVtZW50cyhzKTtcblxuICBzLmRyYWdnYWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICBzLmRvbS5yZWRyYXcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbChzOiBTdGF0ZSk6IHZvaWQge1xuICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICBpZiAoY3VyKSB7XG4gICAgcy5kcmFnZ2FibGUuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICBzLmJvYXJkU3RhdGUucGllY2VzLmRlbGV0ZSgnYTAnKTtcbiAgICBib2FyZC51bnNlbGVjdChzKTtcbiAgICByZW1vdmVEcmFnRWxlbWVudHMocyk7XG4gICAgcy5kb20ucmVkcmF3KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRHJhZ0VsZW1lbnRzKHM6IFN0YXRlKTogdm9pZCB7XG4gIGNvbnN0IGUgPSBzLmRvbS5lbGVtZW50cztcbiAgaWYgKGUuZ2hvc3QpIHV0aWwuc2V0VmlzaWJsZShlLmdob3N0LCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwaWVjZUVsZW1lbnRCeUtleShzOiBTdGF0ZSwga2V5OiBjZy5LZXkpOiBjZy5QaWVjZU5vZGUgfCB1bmRlZmluZWQge1xuICBsZXQgZWwgPSBzLmRvbS5lbGVtZW50cy5ib2FyZC5maXJzdENoaWxkO1xuICB3aGlsZSAoZWwpIHtcbiAgICBpZiAoKGVsIGFzIGNnLktleWVkTm9kZSkuY2dLZXkgPT09IGtleSAmJiAoZWwgYXMgY2cuS2V5ZWROb2RlKS50YWdOYW1lID09PSAnUElFQ0UnKSByZXR1cm4gZWwgYXMgY2cuUGllY2VOb2RlO1xuICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuO1xufVxuIiwgImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQgeyBLZXkgfSBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4cGxvc2lvbihzdGF0ZTogU3RhdGUsIGtleXM6IEtleVtdKTogdm9pZCB7XG4gIHN0YXRlLmV4cGxvZGluZyA9IHsgc3RhZ2U6IDEsIGtleXMgfTtcbiAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzZXRTdGFnZShzdGF0ZSwgMik7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRTdGFnZShzdGF0ZSwgdW5kZWZpbmVkKSwgMTIwKTtcbiAgfSwgMTIwKTtcbn1cblxuZnVuY3Rpb24gc2V0U3RhZ2Uoc3RhdGU6IFN0YXRlLCBzdGFnZTogbnVtYmVyIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gIGlmIChzdGF0ZS5leHBsb2RpbmcpIHtcbiAgICBpZiAoc3RhZ2UpIHN0YXRlLmV4cGxvZGluZy5zdGFnZSA9IHN0YWdlO1xuICAgIGVsc2Ugc3RhdGUuZXhwbG9kaW5nID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQgKiBhcyBib2FyZCBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCB7IHdyaXRlIGFzIGZlbldyaXRlIH0gZnJvbSAnLi9mZW4uanMnO1xuaW1wb3J0IHsgQ29uZmlnLCBjb25maWd1cmUsIGFwcGx5QW5pbWF0aW9uIH0gZnJvbSAnLi9jb25maWcuanMnO1xuaW1wb3J0IHsgYW5pbSwgcmVuZGVyIH0gZnJvbSAnLi9hbmltLmpzJztcbmltcG9ydCB7IGNhbmNlbCBhcyBkcmFnQ2FuY2VsLCBkcmFnTmV3UGllY2UgfSBmcm9tICcuL2RyYWcuanMnO1xuaW1wb3J0IHsgRHJhd1NoYXBlIH0gZnJvbSAnLi9kcmF3LmpzJztcbmltcG9ydCB7IGV4cGxvc2lvbiB9IGZyb20gJy4vZXhwbG9zaW9uLmpzJztcbmltcG9ydCB7IHJvbGVPZiwgaXNEcm9wT3JpZywgY2hhbmdlTnVtYmVyIH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwaSB7XG4gIC8vIHJlY29uZmlndXJlIHRoZSBpbnN0YW5jZS4gQWNjZXB0cyBhbGwgY29uZmlnIG9wdGlvbnMsIGV4Y2VwdCBmb3Igdmlld09ubHkgJiBkcmF3YWJsZS52aXNpYmxlLlxuICAvLyBib2FyZCB3aWxsIGJlIGFuaW1hdGVkIGFjY29yZGluZ2x5LCBpZiBhbmltYXRpb25zIGFyZSBlbmFibGVkLlxuICBzZXQoY29uZmlnOiBDb25maWcpOiB2b2lkO1xuXG4gIC8vIHJlYWQgY2hlc3Nncm91bmQgc3RhdGU7IHdyaXRlIGF0IHlvdXIgb3duIHJpc2tzLlxuICBzdGF0ZTogU3RhdGU7XG5cbiAgLy8gZ2V0IHRoZSBwb3NpdGlvbiBhcyBhIEZFTiBzdHJpbmcgKG9ubHkgY29udGFpbnMgcGllY2VzLCBubyBmbGFncylcbiAgLy8gZS5nLiBybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SXG4gIGdldEZlbigpOiBjZy5GRU47XG5cbiAgLy8gY2hhbmdlIHRoZSB2aWV3IGFuZ2xlXG4gIHRvZ2dsZU9yaWVudGF0aW9uKCk6IHZvaWQ7XG5cbiAgLy8gcGVyZm9ybSBhIG1vdmUgcHJvZ3JhbW1hdGljYWxseVxuICBtb3ZlKG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSk6IHZvaWQ7XG5cbiAgLy8gYWRkIGFuZC9vciByZW1vdmUgYXJiaXRyYXJ5IHBpZWNlcyBvbiB0aGUgYm9hcmRcbiAgc2V0UGllY2VzKHBpZWNlczogY2cuUGllY2VzRGlmZik6IHZvaWQ7XG5cbiAgLy8gYWRkIGFuZC9vciByZW1vdmUgYXJiaXRyYXJ5IHBpZWNlcyBmcm9tIHRoZSBwb2NrZXRcbiAgY2hhbmdlUG9ja2V0KHBpZWNlOiBjZy5QaWVjZSwgbnVtOiBudW1iZXIpOiB2b2lkO1xuXG4gIC8vIGNsaWNrIGEgc3F1YXJlIHByb2dyYW1tYXRpY2FsbHlcbiAgc2VsZWN0U3F1YXJlKGtleTogY2cuS2V5IHwgbnVsbCwgZm9yY2U/OiBib29sZWFuKTogdm9pZDtcblxuICAvLyBjbGljayBhIHBvY2tldCBwaWVjZSBwcm9ncmFtbWF0aWNhbGx5XG4gIHNlbGVjdFBvY2tldChwaWVjZTogY2cuUGllY2UgfCBudWxsKTogdm9pZDtcblxuICAvLyB1bnNlbGVjdCBldmVyeXRoaW5nIHByb2dyYW1tYXRpY2FsbHlcbiAgdW5zZWxlY3QoKTogdm9pZDtcblxuICAvLyBwdXQgYSBuZXcgcGllY2Ugb24gdGhlIGJvYXJkXG4gIG5ld1BpZWNlKHBpZWNlOiBjZy5QaWVjZSwgZGVzdDogY2cuS2V5LCBmcm9tUG9ja2V0OiBib29sZWFuKTogdm9pZDtcblxuICAvLyBwbGF5IHRoZSBjdXJyZW50IHByZW1vdmUsIGlmIGFueTsgcmV0dXJucyB0cnVlIGlmIHByZW1vdmUgd2FzIHBsYXllZFxuICBwbGF5UHJlbW92ZSgpOiBib29sZWFuO1xuXG4gIC8vIGNhbmNlbCB0aGUgY3VycmVudCBwcmVtb3ZlLCBpZiBhbnlcbiAgY2FuY2VsUHJlbW92ZSgpOiB2b2lkO1xuXG4gIC8vIGNhbmNlbCB0aGUgY3VycmVudCBtb3ZlIGJlaW5nIG1hZGVcbiAgY2FuY2VsTW92ZSgpOiB2b2lkO1xuXG4gIC8vIGNhbmNlbCBjdXJyZW50IG1vdmUgYW5kIHByZXZlbnQgZnVydGhlciBvbmVzXG4gIHN0b3AoKTogdm9pZDtcblxuICAvLyBtYWtlIHNxdWFyZXMgZXhwbG9kZSAoYXRvbWljIGNoZXNzKVxuICBleHBsb2RlKGtleXM6IGNnLktleVtdKTogdm9pZDtcblxuICAvLyBwcm9ncmFtbWF0aWNhbGx5IGRyYXcgdXNlciBzaGFwZXNcbiAgc2V0U2hhcGVzKHNoYXBlczogRHJhd1NoYXBlW10pOiB2b2lkO1xuXG4gIC8vIHByb2dyYW1tYXRpY2FsbHkgZHJhdyBhdXRvIHNoYXBlc1xuICBzZXRBdXRvU2hhcGVzKHNoYXBlczogRHJhd1NoYXBlW10pOiB2b2lkO1xuXG4gIC8vIHNxdWFyZSBuYW1lIGF0IHRoaXMgRE9NIHBvc2l0aW9uIChsaWtlIFwiZTRcIilcbiAgZ2V0S2V5QXREb21Qb3MocG9zOiBjZy5OdW1iZXJQYWlyKTogY2cuS2V5IHwgdW5kZWZpbmVkO1xuXG4gIC8vIG9ubHkgdXNlZnVsIHdoZW4gQ1NTIGNoYW5nZXMgdGhlIGJvYXJkIHdpZHRoL2hlaWdodCByYXRpbyAoZm9yIDNEKVxuICByZWRyYXdBbGw6IGNnLlJlZHJhdztcblxuICAvLyBmb3IgY3Jhenlob3VzZSBhbmQgYm9hcmQgZWRpdG9yc1xuICBkcmFnTmV3UGllY2UocGllY2U6IGNnLlBpZWNlLCBmcm9tUG9ja2V0OiBib29sZWFuLCBldmVudDogY2cuTW91Y2hFdmVudCwgZm9yY2U/OiBib29sZWFuKTogdm9pZDtcblxuICAvLyB1bmJpbmRzIGFsbCBldmVudHNcbiAgLy8gKGltcG9ydGFudCBmb3IgZG9jdW1lbnQtd2lkZSBldmVudHMgbGlrZSBzY3JvbGwgYW5kIG1vdXNlbW92ZSlcbiAgZGVzdHJveTogY2cuVW5iaW5kO1xufVxuXG4vLyBzZWUgQVBJIHR5cGVzIGFuZCBkb2N1bWVudGF0aW9ucyBpbiBkdHMvYXBpLmQudHNcbmV4cG9ydCBmdW5jdGlvbiBzdGFydChzdGF0ZTogU3RhdGUsIHJlZHJhd0FsbDogY2cuUmVkcmF3KTogQXBpIHtcbiAgZnVuY3Rpb24gdG9nZ2xlT3JpZW50YXRpb24oKTogdm9pZCB7XG4gICAgYm9hcmQudG9nZ2xlT3JpZW50YXRpb24oc3RhdGUpO1xuICAgIHJlZHJhd0FsbCgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXQoY29uZmlnKTogdm9pZCB7XG4gICAgICBpZiAoY29uZmlnLm9yaWVudGF0aW9uICYmIGNvbmZpZy5vcmllbnRhdGlvbiAhPT0gc3RhdGUub3JpZW50YXRpb24pIHRvZ2dsZU9yaWVudGF0aW9uKCk7XG4gICAgICBhcHBseUFuaW1hdGlvbihzdGF0ZSwgY29uZmlnKTtcbiAgICAgIChjb25maWcuZmVuID8gYW5pbSA6IHJlbmRlcikoc3RhdGUgPT4gY29uZmlndXJlKHN0YXRlLCBjb25maWcpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIHN0YXRlLFxuXG4gICAgZ2V0RmVuOiAoKSA9PiBmZW5Xcml0ZShzdGF0ZS5ib2FyZFN0YXRlLCBzdGF0ZS5kaW1lbnNpb25zKSxcblxuICAgIHRvZ2dsZU9yaWVudGF0aW9uLFxuXG4gICAgc2V0UGllY2VzKHBpZWNlcyk6IHZvaWQge1xuICAgICAgYW5pbShzdGF0ZSA9PiBib2FyZC5zZXRQaWVjZXMoc3RhdGUsIHBpZWNlcyksIHN0YXRlKTtcbiAgICB9LFxuXG4gICAgY2hhbmdlUG9ja2V0KHBpZWNlLCBudW0pOiB2b2lkIHtcbiAgICAgIGlmIChzdGF0ZS5wb2NrZXRSb2xlcz8uW3BpZWNlLmNvbG9yXS5pbmNsdWRlcyhwaWVjZS5yb2xlKSkge1xuICAgICAgICBjaGFuZ2VOdW1iZXIoc3RhdGUuYm9hcmRTdGF0ZS5wb2NrZXRzIVtwaWVjZS5jb2xvcl0sIHBpZWNlLnJvbGUsIG51bSk7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2VsZWN0U3F1YXJlKGtleSwgZm9yY2UpOiB2b2lkIHtcbiAgICAgIGlmIChrZXkpIGFuaW0oc3RhdGUgPT4gYm9hcmQuc2VsZWN0KHN0YXRlLCBrZXksIGZvcmNlKSwgc3RhdGUpO1xuICAgICAgZWxzZSBpZiAoc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCkge1xuICAgICAgICBib2FyZC51bnNlbGVjdChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2VsZWN0UG9ja2V0KHBpZWNlKTogdm9pZCB7XG4gICAgICBpZiAocGllY2UpIGFuaW0oc3RhdGUgPT4gYm9hcmQuc2VsZWN0KHN0YXRlLCBwaWVjZSksIHN0YXRlKTtcbiAgICAgIGVsc2UgaWYgKHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQpIHtcbiAgICAgICAgYm9hcmQudW5zZWxlY3Qoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVuc2VsZWN0KCk6IHZvaWQge1xuICAgICAgYm9hcmQudW5zZWxlY3Qoc3RhdGUpO1xuICAgIH0sXG5cbiAgICBtb3ZlKG9yaWcsIGRlc3QpOiB2b2lkIHtcbiAgICAgIGlmIChpc0Ryb3BPcmlnKG9yaWcpKSBib2FyZC5iYXNlTmV3UGllY2Uoc3RhdGUsIHsgcm9sZTogcm9sZU9mKG9yaWcpLCBjb2xvcjogc3RhdGUudHVybkNvbG9yIH0sIGRlc3QsIHRydWUpO1xuICAgICAgZWxzZSBhbmltKHN0YXRlID0+IGJvYXJkLmJhc2VNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBuZXdQaWVjZShwaWVjZSwga2V5LCBmcm9tUG9ja2V0KTogdm9pZCB7XG4gICAgICBhbmltKHN0YXRlID0+IGJvYXJkLmJhc2VOZXdQaWVjZShzdGF0ZSwgcGllY2UsIGtleSwgZnJvbVBvY2tldCksIHN0YXRlKTtcbiAgICB9LFxuXG4gICAgcGxheVByZW1vdmUoKTogYm9vbGVhbiB7XG4gICAgICBpZiAoc3RhdGUucHJlbW92YWJsZS5jdXJyZW50KSB7XG4gICAgICAgIGlmIChhbmltKGJvYXJkLnBsYXlQcmVtb3ZlLCBzdGF0ZSkpIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBpZiB0aGUgcHJlbW92ZSBjb3VsZG4ndCBiZSBwbGF5ZWQsIHJlZHJhdyB0byBjbGVhciBpdCB1cFxuICAgICAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGNhbmNlbFByZW1vdmUoKTogdm9pZCB7XG4gICAgICByZW5kZXIoYm9hcmQudW5zZXRQcmVtb3ZlLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGNhbmNlbE1vdmUoKTogdm9pZCB7XG4gICAgICByZW5kZXIoc3RhdGUgPT4ge1xuICAgICAgICBib2FyZC5jYW5jZWxNb3ZlKHN0YXRlKTtcbiAgICAgICAgZHJhZ0NhbmNlbChzdGF0ZSk7XG4gICAgICB9LCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICByZW5kZXIoc3RhdGUgPT4ge1xuICAgICAgICBib2FyZC5zdG9wKHN0YXRlKTtcbiAgICAgICAgZHJhZ0NhbmNlbChzdGF0ZSk7XG4gICAgICB9LCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGV4cGxvZGUoa2V5czogY2cuS2V5W10pOiB2b2lkIHtcbiAgICAgIGV4cGxvc2lvbihzdGF0ZSwga2V5cyk7XG4gICAgfSxcblxuICAgIHNldEF1dG9TaGFwZXMoc2hhcGVzOiBEcmF3U2hhcGVbXSk6IHZvaWQge1xuICAgICAgcmVuZGVyKHN0YXRlID0+IChzdGF0ZS5kcmF3YWJsZS5hdXRvU2hhcGVzID0gc2hhcGVzKSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBzZXRTaGFwZXMoc2hhcGVzOiBEcmF3U2hhcGVbXSk6IHZvaWQge1xuICAgICAgcmVuZGVyKHN0YXRlID0+IChzdGF0ZS5kcmF3YWJsZS5zaGFwZXMgPSBzaGFwZXMpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGdldEtleUF0RG9tUG9zKHBvcyk6IGNnLktleSB8IHVuZGVmaW5lZCB7XG4gICAgICByZXR1cm4gYm9hcmQuZ2V0S2V5QXREb21Qb3MocG9zLCBib2FyZC53aGl0ZVBvdihzdGF0ZSksIHN0YXRlLmRvbS5ib3VuZHMoKSwgc3RhdGUuZGltZW5zaW9ucyk7XG4gICAgfSxcblxuICAgIHJlZHJhd0FsbCxcblxuICAgIGRyYWdOZXdQaWVjZShwaWVjZSwgZnJvbVBvY2tldCwgZXZlbnQsIGZvcmNlKTogdm9pZCB7XG4gICAgICBkcmFnTmV3UGllY2Uoc3RhdGUsIHBpZWNlLCBmcm9tUG9ja2V0LCBldmVudCwgdW5kZWZpbmVkLCBmb3JjZSk7XG4gICAgfSxcblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICBib2FyZC5zdG9wKHN0YXRlKTtcbiAgICAgIHN0YXRlLmRvbS51bmJpbmQgJiYgc3RhdGUuZG9tLnVuYmluZCgpO1xuICAgICAgc3RhdGUuZG9tLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxudHlwZSBEcm9wTW9iaWxpdHkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IGJvb2xlYW47XG5cbmNvbnN0IHdob2xlQm9hcmQgPSAoKSA9PiB0cnVlO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gZnJvbVx0MC1iYXNlZCBpbmRleCBmcm9tIGdpdmVuIGNvbG9yJ3MgUG9WLCBpbmNsdXNpdmVcbiAqIEBwYXJhbSB0b1x0MC1iYXNlZCBpbmRleCBmcm9tIGdpdmVuIGNvbG9yJ3MgUG9WLCBleGNsdXNpdmVcbiAqIEBwYXJhbSBjb2xvciBUaGUgcGllY2UncyBjb2xvclxuICogQHBhcmFtIGJkICAgIFRoZSBib2FyZCdzIGRpbWVuc2lvbnNcbiAqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYSBwb3NpdGlvbidzIHJhbmsgaXMgaW5zaWRlIHRoZSBmcm9tLXRvIHJhbmdlLCB3aGVyZSBmcm9tIGFuZCB0byBhcmUgaW5kaWNlcyBvZiByYW5rIHdoZW4gY291bnRpbmcgZnJvbVxuICogY3VycmVudCBcImNvbG9yXCIncyBwb2ludCBvZiB2aWV3IChpLmUuIGlmIGZyb209dG89MSBhbmQgY29sb3I9YmxhY2sgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRydWUgb25seSBpZiB0aGUgcG9zaXRpb24ncyByYW5rIGlzIDggaW4gY2FzZSBvZiA4eDggYm9hcmQpXG4gKiBmcm9tIGFuZCB0byBjYW4gYmUgemVybyBvciBuZWdhdGl2ZSB0byBkZW5vdGUgdGhhdCBtYW55IHJhbmtzIGNvdW50aW5nIGZyb20gdGhlIGxhc3RcbiAqXG4gKiAqL1xuZnVuY3Rpb24gcmFua1JhbmdlKGZyb206IG51bWJlciwgdG86IG51bWJlciwgY29sb3I6IGNnLkNvbG9yLCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogRHJvcE1vYmlsaXR5IHtcbiAgaWYgKGZyb20gPCAwKSBmcm9tICs9IGJkLmhlaWdodDtcbiAgaWYgKHRvIDwgMCkgdG8gKz0gYmQuaGVpZ2h0O1xuICByZXR1cm4gKF94LCB5KSA9PiB7XG4gICAgaWYgKGNvbG9yID09PSAnYmxhY2snKSB5ID0gYmQuaGVpZ2h0IC0gMSAtIHk7XG4gICAgcmV0dXJuIGZyb20gPD0geSAmJiB5IDwgdG87XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVkcm9wKHZhcmlhbnQ6IHN0cmluZywgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IGNnLlByZWRyb3Age1xuICBjb25zdCBtb2JpbGl0eSA9IGJ1aWx0aW5Nb2JpbGl0eSh2YXJpYW50LCBiZCk7XG4gIHJldHVybiAoYm9hcmRTdGF0ZSwgcGllY2UpID0+XG4gICAgdXRpbFxuICAgICAgLmFsbFBvcyhiZClcbiAgICAgIC5maWx0ZXIocG9zID0+IGJvYXJkU3RhdGUucGllY2VzLmdldCh1dGlsLnBvczJrZXkocG9zKSk/LmNvbG9yICE9PSBwaWVjZS5jb2xvciAmJiBtb2JpbGl0eShwaWVjZSkocG9zWzBdLCBwb3NbMV0pKVxuICAgICAgLm1hcCh1dGlsLnBvczJrZXkpO1xufVxuXG5mdW5jdGlvbiBidWlsdGluTW9iaWxpdHkodmFyaWFudDogc3RyaW5nLCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogKHBpZWNlOiBjZy5QaWVjZSkgPT4gRHJvcE1vYmlsaXR5IHtcbiAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgY2FzZSAnY3Jhenlob3VzZSc6XG4gICAgY2FzZSAnc2hvdXNlJzpcbiAgICBjYXNlICdjYXBhaG91c2UnOlxuICAgIGNhc2UgJ2dvdGhob3VzZSc6XG4gICAgICAvLyBwYXducyBjYW4ndCBiZSBkcm9wcGVkIG9uIHRoZSBmaXJzdCBvciBsYXN0IHJhbmtcbiAgICAgIHJldHVybiBwaWVjZSA9PiAocGllY2Uucm9sZSA9PT0gJ3AtcGllY2UnID8gcmFua1JhbmdlKDEsIC0xLCBwaWVjZS5jb2xvciwgYmQpIDogd2hvbGVCb2FyZCk7XG5cbiAgICBjYXNlICdwbGFjZW1lbnQnOlxuICAgICAgLy8gdGhlIFwiZHJvcFwiIGlzIHRoZSBwbGFjZW1lbnQgcGhhc2Ugd2hlcmUgcGllY2VzIGNhbiBvbmx5IGJlIHBsYWNlZCBvbiB0aGUgZmlyc3QgcmFua1xuICAgICAgcmV0dXJuIHBpZWNlID0+IHJhbmtSYW5nZSgwLCAxLCBwaWVjZS5jb2xvciwgYmQpO1xuXG4gICAgY2FzZSAnc2l0dHV5aW4nOlxuICAgICAgLy8gdGhlIFwiZHJvcFwiIGlzIHRoZSBwbGFjZW1lbnQgcGhhc2Ugd2hlcmUgcGllY2VzIGNhbiBvbmx5IGJlIHBsYWNlZCBvbiB0aGUgcGxheWVyJ3MgaGFsZlxuICAgICAgLy8gcm9va3MgY2FuIG9ubHkgYmUgZHJvcHBlZCBvbiB0aGUgZmlyc3QgcmFua1xuICAgICAgcmV0dXJuIHBpZWNlID0+IChwaWVjZS5yb2xlID09PSAnci1waWVjZScgPyByYW5rUmFuZ2UoMCwgMSwgcGllY2UuY29sb3IsIGJkKSA6IHJhbmtSYW5nZSgwLCAzLCBwaWVjZS5jb2xvciwgYmQpKTtcblxuICAgIGNhc2UgJ3Nob2dpJzpcbiAgICBjYXNlICdtaW5pc2hvZ2knOlxuICAgIGNhc2UgJ2dvcm9nb3JvJzpcbiAgICBjYXNlICdnb3JvZ29yb3BsdXMnOlxuICAgICAgcmV0dXJuIHBpZWNlID0+IHtcbiAgICAgICAgc3dpdGNoIChwaWVjZS5yb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25zIGFuZCBsYW5jZXMgY2FuJ3QgYmUgZHJvcHBlZCBvbiB0aGUgbGFzdCByYW5rXG4gICAgICAgICAgY2FzZSAnbC1waWVjZSc6XG4gICAgICAgICAgICByZXR1cm4gcmFua1JhbmdlKDAsIC0xLCBwaWVjZS5jb2xvciwgYmQpO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRzIGNhbid0IGJlIGRyb3BwZWQgb24gdGhlIGxhc3QgdHdvIHJhbmtzXG4gICAgICAgICAgICByZXR1cm4gcmFua1JhbmdlKDAsIC0yLCBwaWVjZS5jb2xvciwgYmQpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gd2hvbGVCb2FyZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ3RvcmlzaG9naSc6XG4gICAgICAvLyBzd2FsbG93cyBjYW4ndCBiZSBkcm9wcGVkIG9uIHRoZSBsYXN0IHJhbmtcbiAgICAgIHJldHVybiBwaWVjZSA9PiAocGllY2Uucm9sZSA9PT0gJ3MtcGllY2UnID8gcmFua1JhbmdlKDAsIC0xLCBwaWVjZS5jb2xvciwgYmQpIDogd2hvbGVCb2FyZCk7XG5cbiAgICBjYXNlICdncmFuZGhvdXNlJzpcbiAgICAgIC8vIHBhd25zIGNhbid0IGJlIGRyb3BwZWQgb24gdGhlIDFzdCwgb3IgOHRoIHRvIDEwdGggcmFua3NcbiAgICAgIHJldHVybiBwaWVjZSA9PiAocGllY2Uucm9sZSA9PT0gJ3AtcGllY2UnID8gcmFua1JhbmdlKDEsIDcsIHBpZWNlLmNvbG9yLCBiZCkgOiB3aG9sZUJvYXJkKTtcblxuICAgIGNhc2UgJ3Nob2d1bic6XG4gICAgICAvLyBzaG9ndW4gb25seSBwZXJtaXRzIGRyb3BzIG9uIHJhbmtzIDEtNSBmb3IgYWxsIHBpZWNlc1xuICAgICAgcmV0dXJuIHBpZWNlID0+IHJhbmtSYW5nZSgwLCA1LCBwaWVjZS5jb2xvciwgYmQpO1xuXG4gICAgY2FzZSAnc3lub2NoZXNzJzpcbiAgICAgIC8vIE9ubHkgYmxhY2sgY2FuIGRyb3AsIGFuZCB0aGUgb25seSBkcm9wcGFibGUgcmFuayBpcyB0aGUgbGl0ZXJhbCByYW5rIGZpdmUuXG4gICAgICByZXR1cm4gKCkgPT4gKF94LCB5KSA9PiB5ID09PSA0O1xuXG4gICAgY2FzZSAnc2hpbm9iaSc6XG4gICAgICAvLyBPbmx5IHdoaXRlIGNhbiBkcm9wLCBhbmQgb25seSBvbiB0aGVpciBvd24gaGFsZiBvZiB0aGUgYm9hcmRcbiAgICAgIHJldHVybiAoKSA9PiAoX3gsIHkpID0+IHkgPD0gMztcblxuICAgIC8vIFRoZXNlIGNhc2VzIGFyZSB1bm5lY2Vzc2FyeSBidXQgaXMgaGVyZSBhbnl3YXkgdG8gYmUgZXhwbGljaXRcbiAgICBjYXNlICdreW90b3Nob2dpJzpcbiAgICBjYXNlICdkb2J1dHN1JzpcbiAgICBjYXNlICdjaGVubmlzJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICgpID0+IHdob2xlQm9hcmQ7XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBmZW4gZnJvbSAnLi9mZW4uanMnO1xuaW1wb3J0IHsgQW5pbUN1cnJlbnQgfSBmcm9tICcuL2FuaW0uanMnO1xuaW1wb3J0IHsgRHJhZ0N1cnJlbnQgfSBmcm9tICcuL2RyYWcuanMnO1xuaW1wb3J0IHsgRHJhd2FibGUgfSBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgcHJlbW92ZSB9IGZyb20gJy4vcHJlbW92ZS5qcyc7XG5pbXBvcnQgeyBwcmVkcm9wIH0gZnJvbSAnLi9wcmVkcm9wLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRsZXNzU3RhdGUge1xuICBib2FyZFN0YXRlOiBjZy5Cb2FyZFN0YXRlO1xuICBvcmllbnRhdGlvbjogY2cuQ29sb3I7IC8vIGJvYXJkIG9yaWVudGF0aW9uLiB3aGl0ZSB8IGJsYWNrXG4gIHR1cm5Db2xvcjogY2cuQ29sb3I7IC8vIHR1cm4gdG8gcGxheS4gd2hpdGUgfCBibGFja1xuICBjaGVjaz86IGNnLktleTsgLy8gc3F1YXJlIGN1cnJlbnRseSBpbiBjaGVjayBcImEyXCJcbiAgbGFzdE1vdmU/OiBjZy5PcmlnW107IC8vIHNxdWFyZXMgb3IgZHJvcHBpbmcgcGllY2UgcGFydCBvZiB0aGUgbGFzdCBtb3ZlIFtcImMzXCI7IFwiYzRcIl1cbiAgY29vcmRpbmF0ZXM6IGJvb2xlYW47IC8vIGluY2x1ZGUgY29vcmRzIGF0dHJpYnV0ZXNcbiAgcmFua3NQb3NpdGlvbjogY2cuUmFua3NQb3NpdGlvbjsgLy8gcG9zaXRpb24gcmFua3Mgb24gZWl0aGVyIHNpZGUuIGxlZnQgfCByaWdodFxuICBhdXRvQ2FzdGxlOiBib29sZWFuOyAvLyBpbW1lZGlhdGVseSBjb21wbGV0ZSB0aGUgY2FzdGxlIGJ5IG1vdmluZyB0aGUgcm9vayBhZnRlciBraW5nIG1vdmVcbiAgdmlld09ubHk6IGJvb2xlYW47IC8vIGRvbid0IGJpbmQgZXZlbnRzOiB0aGUgdXNlciB3aWxsIG5ldmVyIGJlIGFibGUgdG8gbW92ZSBwaWVjZXMgYXJvdW5kXG4gIGRpc2FibGVDb250ZXh0TWVudTogYm9vbGVhbjsgLy8gYmVjYXVzZSB3aG8gbmVlZHMgYSBjb250ZXh0IG1lbnUgb24gYSBjaGVzc2JvYXJkXG4gIGFkZFBpZWNlWkluZGV4OiBib29sZWFuOyAvLyBhZGRzIHotaW5kZXggdmFsdWVzIHRvIHBpZWNlcyAoZm9yIDNEKVxuICBhZGREaW1lbnNpb25zQ3NzVmFyc1RvPzogSFRNTEVsZW1lbnQ7IC8vIGFkZCAtLWNnLXdpZHRoIGFuZCAtLWNnLWhlaWdodCBDU1MgdmFycyBjb250YWluaW5nIHRoZSBib2FyZCdzIGRpbWVuc2lvbnMgdG8gdGhpcyBlbGVtZW50XG4gIGJsb2NrVG91Y2hTY3JvbGw6IGJvb2xlYW47IC8vIGJsb2NrIHNjcm9sbGluZyB2aWEgdG91Y2ggZHJhZ2dpbmcgb24gdGhlIGJvYXJkLCBlLmcuIGZvciBjb29yZGluYXRlIHRyYWluaW5nXG4gIHBpZWNlS2V5OiBib29sZWFuOyAvLyBhZGQgYSBkYXRhLWtleSBhdHRyaWJ1dGUgdG8gcGllY2UgZWxlbWVudHNcbiAgaGlnaGxpZ2h0OiB7XG4gICAgbGFzdE1vdmU6IGJvb2xlYW47IC8vIGFkZCBsYXN0LW1vdmUgY2xhc3MgdG8gc3F1YXJlc1xuICAgIGNoZWNrOiBib29sZWFuOyAvLyBhZGQgY2hlY2sgY2xhc3MgdG8gc3F1YXJlc1xuICB9O1xuICBhbmltYXRpb246IHtcbiAgICBlbmFibGVkOiBib29sZWFuO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gICAgY3VycmVudD86IEFuaW1DdXJyZW50O1xuICB9O1xuICBtb3ZhYmxlOiB7XG4gICAgZnJlZTogYm9vbGVhbjsgLy8gYWxsIG1vdmVzIGFyZSB2YWxpZCAtIGJvYXJkIGVkaXRvclxuICAgIGNvbG9yPzogY2cuQ29sb3IgfCAnYm90aCc7IC8vIGNvbG9yIHRoYXQgY2FuIG1vdmUuIHdoaXRlIHwgYmxhY2sgfCBib3RoXG4gICAgZGVzdHM/OiBjZy5EZXN0czsgLy8gdmFsaWQgbW92ZXMuIHtcImEyXCIgW1wiYTNcIiBcImE0XCJdIFwiYjFcIiBbXCJhM1wiIFwiYzNcIl19XG4gICAgc2hvd0Rlc3RzOiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFkZCB0aGUgbW92ZS1kZXN0IGNsYXNzIG9uIHNxdWFyZXNcbiAgICBldmVudHM6IHtcbiAgICAgIGFmdGVyPzogKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5LCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIG1vdmUgaGFzIGJlZW4gcGxheWVkXG4gICAgICBhZnRlck5ld1BpZWNlPzogKHBpZWNlOiBjZy5QaWVjZSwgZGVzdDogY2cuS2V5LCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgYSBuZXcgcGllY2UgaXMgZHJvcHBlZCBvbiB0aGUgYm9hcmRcbiAgICB9O1xuICAgIHJvb2tDYXN0bGU6IGJvb2xlYW47IC8vIGNhc3RsZSBieSBtb3ZpbmcgdGhlIGtpbmcgdG8gdGhlIHJvb2tcbiAgfTtcbiAgcHJlbW92YWJsZToge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8vIGFsbG93IHByZW1vdmVzIGZvciBjb2xvciB0aGF0IGNhbiBub3QgbW92ZVxuICAgIHByZW1vdmVGdW5jOiBjZy5QcmVtb3ZlOyAvLyBmdW5jdGlvbiBmb3IgcHJlbW92ZSBkZXN0aW5hdGlvbnNcbiAgICBwcmVkcm9wRnVuYzogY2cuUHJlZHJvcDsgLy8gZnVuY3Rpb24gZm9yIHByZWRyb3AgZGVzdGluYXRpb25zXG4gICAgY2FzdGxlOiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFsbG93IGtpbmcgY2FzdGxlIHByZW1vdmVzXG4gICAgZGVzdHM/OiBjZy5LZXlbXTsgLy8gcHJlbW92ZSBkZXN0aW5hdGlvbnMgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgIGN1cnJlbnQ/OiBjZy5Nb3ZlOyAvLyBrZXlzIG9mIHRoZSBjdXJyZW50IHNhdmVkIHByZW1vdmUgW1wiZTJcIiBcImU0XCJdXG4gICAgZXZlbnRzOiB7XG4gICAgICBzZXQ/OiAob3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhZGF0YT86IGNnLlNldFByZW1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBwcmVtb3ZlIGhhcyBiZWVuIHNldFxuICAgICAgdW5zZXQ/OiAoKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHByZW1vdmUgaGFzIGJlZW4gdW5zZXRcbiAgICB9O1xuICB9O1xuICBkcmFnZ2FibGU6IHtcbiAgICBlbmFibGVkOiBib29sZWFuOyAvLyBhbGxvdyBtb3ZlcyAmIHByZW1vdmVzIHRvIHVzZSBkcmFnJ24gZHJvcFxuICAgIGRpc3RhbmNlOiBudW1iZXI7IC8vIG1pbmltdW0gZGlzdGFuY2UgdG8gaW5pdGlhdGUgYSBkcmFnOyBpbiBwaXhlbHNcbiAgICBhdXRvRGlzdGFuY2U6IGJvb2xlYW47IC8vIGxldHMgY2hlc3Nncm91bmQgc2V0IGRpc3RhbmNlIHRvIHplcm8gd2hlbiB1c2VyIGRyYWdzIHBpZWNlc1xuICAgIHNob3dHaG9zdDogYm9vbGVhbjsgLy8gc2hvdyBnaG9zdCBvZiBwaWVjZSBiZWluZyBkcmFnZ2VkXG4gICAgZGVsZXRlT25Ecm9wT2ZmOiBib29sZWFuOyAvLyBkZWxldGUgYSBwaWVjZSB3aGVuIGl0IGlzIGRyb3BwZWQgb2ZmIHRoZSBib2FyZFxuICAgIGN1cnJlbnQ/OiBEcmFnQ3VycmVudDtcbiAgfTtcbiAgc2VsZWN0YWJsZToge1xuICAgIC8vIGRpc2FibGUgdG8gZW5mb3JjZSBkcmFnZ2luZyBvdmVyIGNsaWNrLWNsaWNrIG1vdmVcbiAgICBlbmFibGVkOiBib29sZWFuO1xuICAgIHNlbGVjdGVkPzogY2cuU2VsZWN0YWJsZTtcbiAgICBmcm9tUG9ja2V0PzogYm9vbGVhbjtcbiAgfTtcbiAgc3RhdHM6IHtcbiAgICAvLyB3YXMgbGFzdCBwaWVjZSBkcmFnZ2VkIG9yIGNsaWNrZWQ/XG4gICAgLy8gbmVlZHMgZGVmYXVsdCB0byBmYWxzZSBmb3IgdG91Y2hcbiAgICBkcmFnZ2VkOiBib29sZWFuO1xuICAgIGN0cmxLZXk/OiBib29sZWFuO1xuICB9O1xuICBldmVudHM6IHtcbiAgICBjaGFuZ2U/OiAoKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHNpdHVhdGlvbiBjaGFuZ2VzIG9uIHRoZSBib2FyZFxuICAgIC8vIGNhbGxlZCBhZnRlciBhIHBpZWNlIGhhcyBiZWVuIG1vdmVkLlxuICAgIC8vIGNhcHR1cmVkUGllY2UgaXMgdW5kZWZpbmVkIG9yIGxpa2Uge2NvbG9yOiAnd2hpdGUnOyAncm9sZSc6ICdxdWVlbid9XG4gICAgbW92ZT86IChvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgY2FwdHVyZWRQaWVjZT86IGNnLlBpZWNlKSA9PiB2b2lkO1xuICAgIGRyb3BOZXdQaWVjZT86IChwaWVjZTogY2cuUGllY2UsIGtleTogY2cuS2V5KSA9PiB2b2lkO1xuICAgIHNlbGVjdD86IChrZXk6IGNnLktleSkgPT4gdm9pZDsgLy8gY2FsbGVkIHdoZW4gYSBzcXVhcmUgaXMgc2VsZWN0ZWRcbiAgICBzZWxlY3RQb2NrZXQ/OiAocGllY2U6IGNnLlBpZWNlKSA9PiB2b2lkOyAvLyBjYWxsZWQgd2hlbiBhIHBvY2tldCBwaWVjZSBpcyBzZWxlY3RlZFxuICAgIGluc2VydD86IChlbGVtZW50czogY2cuRWxlbWVudHMpID0+IHZvaWQ7IC8vIHdoZW4gdGhlIGJvYXJkIERPTSBoYXMgYmVlbiAocmUpaW5zZXJ0ZWRcbiAgfTtcbiAgZHJhd2FibGU6IERyYXdhYmxlO1xuICBleHBsb2Rpbmc/OiBjZy5FeHBsb2Rpbmc7XG4gIGhvbGQ6IGNnLlRpbWVyO1xuICBkaW1lbnNpb25zOiBjZy5Cb2FyZERpbWVuc2lvbnM7IC8vIG51bWJlciBvZiBsaW5lcyBhbmQgcmFua3Mgb2YgdGhlIGJvYXJkIHt3aWR0aDogMTAsIGhlaWdodDogOH1cbiAgbm90YXRpb246IGNnLk5vdGF0aW9uO1xuICBraW5nUm9sZXM6IGNnLlJvbGVbXTsgLy8gcm9sZXMgdG8gYmUgbWFya2VkIHdpdGggY2hlY2tcbiAgcG9ja2V0Um9sZXM/OiBjZy5Qb2NrZXRSb2xlczsgLy8gdW5kZWZpbmVkIGZvciBub24tcG9ja2V0IHZhcmlhbnRzLiBQb3NzaWJsZSBwaWVjZXMgdGhhdCBhIHBvY2tldCBjYW4gaG9sZCBmb3IgZWFjaCBjb2xvclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlIGV4dGVuZHMgSGVhZGxlc3NTdGF0ZSB7XG4gIGRvbTogY2cuRG9tO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMoKTogSGVhZGxlc3NTdGF0ZSB7XG4gIHJldHVybiB7XG4gICAgYm9hcmRTdGF0ZTogZmVuLnJlYWQoZmVuLmluaXRpYWwsIHsgd2lkdGg6IDgsIGhlaWdodDogOCB9KSxcbiAgICBvcmllbnRhdGlvbjogJ3doaXRlJyxcbiAgICB0dXJuQ29sb3I6ICd3aGl0ZScsXG4gICAgY29vcmRpbmF0ZXM6IHRydWUsXG4gICAgcmFua3NQb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICBhdXRvQ2FzdGxlOiB0cnVlLFxuICAgIHZpZXdPbmx5OiBmYWxzZSxcbiAgICBkaXNhYmxlQ29udGV4dE1lbnU6IGZhbHNlLFxuICAgIGFkZFBpZWNlWkluZGV4OiBmYWxzZSxcbiAgICBibG9ja1RvdWNoU2Nyb2xsOiBmYWxzZSxcbiAgICBwaWVjZUtleTogZmFsc2UsXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICBsYXN0TW92ZTogdHJ1ZSxcbiAgICAgIGNoZWNrOiB0cnVlLFxuICAgIH0sXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgZHVyYXRpb246IDIwMCxcbiAgICB9LFxuICAgIG1vdmFibGU6IHtcbiAgICAgIGZyZWU6IHRydWUsXG4gICAgICBjb2xvcjogJ2JvdGgnLFxuICAgICAgc2hvd0Rlc3RzOiB0cnVlLFxuICAgICAgZXZlbnRzOiB7fSxcbiAgICAgIHJvb2tDYXN0bGU6IHRydWUsXG4gICAgfSxcbiAgICBwcmVtb3ZhYmxlOiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgcHJlbW92ZUZ1bmM6IHByZW1vdmUoJ2NoZXNzJywgZmFsc2UsIHsgd2lkdGg6IDgsIGhlaWdodDogOCB9KSxcbiAgICAgIHByZWRyb3BGdW5jOiBwcmVkcm9wKCdjaGVzcycsIHsgd2lkdGg6IDgsIGhlaWdodDogOCB9KSxcbiAgICAgIGNhc3RsZTogdHJ1ZSxcbiAgICAgIGV2ZW50czoge30sXG4gICAgfSxcbiAgICBkcmFnZ2FibGU6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBkaXN0YW5jZTogMyxcbiAgICAgIGF1dG9EaXN0YW5jZTogdHJ1ZSxcbiAgICAgIHNob3dHaG9zdDogdHJ1ZSxcbiAgICAgIGRlbGV0ZU9uRHJvcE9mZjogZmFsc2UsXG4gICAgfSxcbiAgICBzZWxlY3RhYmxlOiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RhdHM6IHtcbiAgICAgIC8vIG9uIHRvdWNoc2NyZWVuLCBkZWZhdWx0IHRvIFwidGFwLXRhcFwiIG1vdmVzXG4gICAgICAvLyBpbnN0ZWFkIG9mIGRyYWdcbiAgICAgIGRyYWdnZWQ6ICEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSxcbiAgICB9LFxuICAgIGV2ZW50czoge30sXG4gICAgZHJhd2FibGU6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsIC8vIGNhbiBkcmF3XG4gICAgICB2aXNpYmxlOiB0cnVlLCAvLyBjYW4gdmlld1xuICAgICAgZGVmYXVsdFNuYXBUb1ZhbGlkTW92ZTogdHJ1ZSxcbiAgICAgIGVyYXNlT25DbGljazogdHJ1ZSxcbiAgICAgIHNoYXBlczogW10sXG4gICAgICBhdXRvU2hhcGVzOiBbXSxcbiAgICAgIGJydXNoZXM6IHtcbiAgICAgICAgZ3JlZW46IHsga2V5OiAnZycsIGNvbG9yOiAnIzE1NzgxQicsIG9wYWNpdHk6IDEsIGxpbmVXaWR0aDogMTAgfSxcbiAgICAgICAgcmVkOiB7IGtleTogJ3InLCBjb2xvcjogJyM4ODIwMjAnLCBvcGFjaXR5OiAxLCBsaW5lV2lkdGg6IDEwIH0sXG4gICAgICAgIGJsdWU6IHsga2V5OiAnYicsIGNvbG9yOiAnIzAwMzA4OCcsIG9wYWNpdHk6IDEsIGxpbmVXaWR0aDogMTAgfSxcbiAgICAgICAgeWVsbG93OiB7IGtleTogJ3knLCBjb2xvcjogJyNlNjhmMDAnLCBvcGFjaXR5OiAxLCBsaW5lV2lkdGg6IDEwIH0sXG4gICAgICAgIHBhbGVCbHVlOiB7IGtleTogJ3BiJywgY29sb3I6ICcjMDAzMDg4Jywgb3BhY2l0eTogMC40LCBsaW5lV2lkdGg6IDE1IH0sXG4gICAgICAgIHBhbGVHcmVlbjogeyBrZXk6ICdwZycsIGNvbG9yOiAnIzE1NzgxQicsIG9wYWNpdHk6IDAuNCwgbGluZVdpZHRoOiAxNSB9LFxuICAgICAgICBwYWxlUmVkOiB7IGtleTogJ3ByJywgY29sb3I6ICcjODgyMDIwJywgb3BhY2l0eTogMC40LCBsaW5lV2lkdGg6IDE1IH0sXG4gICAgICAgIHBhbGVHcmV5OiB7XG4gICAgICAgICAga2V5OiAncGdyJyxcbiAgICAgICAgICBjb2xvcjogJyM0YTRhNGEnLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMzUsXG4gICAgICAgICAgbGluZVdpZHRoOiAxNSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcmV2U3ZnSGFzaDogJycsXG4gICAgfSxcbiAgICBob2xkOiB0aW1lcigpLFxuICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgIG5vdGF0aW9uOiBjZy5Ob3RhdGlvbi5BTEdFQlJBSUMsXG4gICAga2luZ1JvbGVzOiBbJ2stcGllY2UnXSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBEcmF3U2hhcGUgfSBmcm9tICcuL2RyYXcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNhYmxlU2hhcGUge1xuICBzaGFwZTogRHJhd1NoYXBlO1xuICBjdXJyZW50OiBib29sZWFuO1xuICBoYXNoOiBIYXNoO1xufVxuXG5leHBvcnQgdHlwZSBIYXNoID0gc3RyaW5nO1xuXG4vLyBhcHBlbmQgYW5kIHJlbW92ZSBvbmx5LiBObyB1cGRhdGVzLlxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNTaGFwZXMoXG4gIHNoYXBlczogU3luY2FibGVTaGFwZVtdLFxuICByb290OiBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQsXG4gIHJlbmRlclNoYXBlOiAoc2hhcGU6IFN5bmNhYmxlU2hhcGUpID0+IEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudFxuKTogdm9pZCB7XG4gIGNvbnN0IGhhc2hlc0luRG9tID0gbmV3IE1hcCgpLCAvLyBieSBoYXNoXG4gICAgdG9SZW1vdmU6IFNWR0VsZW1lbnRbXSA9IFtdO1xuICBmb3IgKGNvbnN0IHNjIG9mIHNoYXBlcykgaGFzaGVzSW5Eb20uc2V0KHNjLmhhc2gsIGZhbHNlKTtcbiAgbGV0IGVsOiBTVkdFbGVtZW50IHwgdW5kZWZpbmVkID0gcm9vdC5maXJzdENoaWxkIGFzIFNWR0VsZW1lbnQsXG4gICAgZWxIYXNoOiBIYXNoIHwgbnVsbDtcbiAgd2hpbGUgKGVsKSB7XG4gICAgZWxIYXNoID0gZWwuZ2V0QXR0cmlidXRlKCdjZ0hhc2gnKSBhcyBIYXNoO1xuICAgIC8vIGZvdW5kIGEgc2hhcGUgZWxlbWVudCB0aGF0J3MgaGVyZSB0byBzdGF5XG4gICAgaWYgKGhhc2hlc0luRG9tLmhhcyhlbEhhc2gpKSBoYXNoZXNJbkRvbS5zZXQoZWxIYXNoLCB0cnVlKTtcbiAgICAvLyBvciByZW1vdmUgaXRcbiAgICBlbHNlIHRvUmVtb3ZlLnB1c2goZWwpO1xuICAgIGVsID0gZWwubmV4dFNpYmxpbmcgYXMgU1ZHRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgfVxuICAvLyByZW1vdmUgb2xkIHNoYXBlc1xuICBmb3IgKGNvbnN0IGVsIG9mIHRvUmVtb3ZlKSByb290LnJlbW92ZUNoaWxkKGVsKTtcbiAgLy8gaW5zZXJ0IHNoYXBlcyB0aGF0IGFyZSBub3QgeWV0IGluIGRvbVxuICBmb3IgKGNvbnN0IHNjIG9mIHNoYXBlcykge1xuICAgIGlmICghaGFzaGVzSW5Eb20uZ2V0KHNjLmhhc2gpKSByb290LmFwcGVuZENoaWxkKHJlbmRlclNoYXBlKHNjKSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0IHsga2V5MnBvcyB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBEcmF3YWJsZSwgRHJhd1NoYXBlLCBEcmF3U2hhcGVQaWVjZSwgRHJhd0JydXNoLCBEcmF3QnJ1c2hlcywgRHJhd01vZGlmaWVycyB9IGZyb20gJy4vZHJhdy5qcyc7XG5pbXBvcnQgeyBTeW5jYWJsZVNoYXBlLCBIYXNoLCBzeW5jU2hhcGVzIH0gZnJvbSAnLi9zeW5jLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lOiBzdHJpbmcpOiBTVkdFbGVtZW50IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWdOYW1lKTtcbn1cblxudHlwZSBDdXN0b21CcnVzaGVzID0gTWFwPHN0cmluZywgRHJhd0JydXNoPjsgLy8gYnkgaGFzaFxuXG50eXBlIEFycm93RGVzdHMgPSBNYXA8Y2cuS2V5LCBudW1iZXI+OyAvLyBob3cgbWFueSBhcnJvd3MgbGFuZCBvbiBhIHNxdWFyZVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyU3ZnKHN0YXRlOiBTdGF0ZSwgc3ZnOiBTVkdFbGVtZW50LCBjdXN0b21Tdmc6IFNWR0VsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3QgZCA9IHN0YXRlLmRyYXdhYmxlLFxuICAgIGN1ckQgPSBkLmN1cnJlbnQsXG4gICAgY3VyID0gY3VyRCAmJiBjdXJELm1vdXNlU3EgPyAoY3VyRCBhcyBEcmF3U2hhcGUpIDogdW5kZWZpbmVkLFxuICAgIGFycm93RGVzdHM6IEFycm93RGVzdHMgPSBuZXcgTWFwKCksXG4gICAgYm91bmRzID0gc3RhdGUuZG9tLmJvdW5kcygpLFxuICAgIG5vblBpZWNlQXV0b1NoYXBlcyA9IGQuYXV0b1NoYXBlcy5maWx0ZXIoYXV0b1NoYXBlID0+ICFhdXRvU2hhcGUucGllY2UpO1xuXG4gIGZvciAoY29uc3QgcyBvZiBkLnNoYXBlcy5jb25jYXQobm9uUGllY2VBdXRvU2hhcGVzKS5jb25jYXQoY3VyID8gW2N1cl0gOiBbXSkpIHtcbiAgICBpZiAocy5kZXN0KSBhcnJvd0Rlc3RzLnNldChzLmRlc3QsIChhcnJvd0Rlc3RzLmdldChzLmRlc3QpIHx8IDApICsgMSk7XG4gIH1cblxuICBjb25zdCBzaGFwZXM6IFN5bmNhYmxlU2hhcGVbXSA9IGQuc2hhcGVzLmNvbmNhdChub25QaWVjZUF1dG9TaGFwZXMpLm1hcCgoczogRHJhd1NoYXBlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNoYXBlOiBzLFxuICAgICAgY3VycmVudDogZmFsc2UsXG4gICAgICBoYXNoOiBzaGFwZUhhc2gocywgYXJyb3dEZXN0cywgZmFsc2UsIGJvdW5kcyksXG4gICAgfTtcbiAgfSk7XG4gIGlmIChjdXIpXG4gICAgc2hhcGVzLnB1c2goe1xuICAgICAgc2hhcGU6IGN1cixcbiAgICAgIGN1cnJlbnQ6IHRydWUsXG4gICAgICBoYXNoOiBzaGFwZUhhc2goY3VyLCBhcnJvd0Rlc3RzLCB0cnVlLCBib3VuZHMpLFxuICAgIH0pO1xuXG4gIGNvbnN0IGZ1bGxIYXNoID0gc2hhcGVzLm1hcChzYyA9PiBzYy5oYXNoKS5qb2luKCc7Jyk7XG4gIGlmIChmdWxsSGFzaCA9PT0gc3RhdGUuZHJhd2FibGUucHJldlN2Z0hhc2gpIHJldHVybjtcbiAgc3RhdGUuZHJhd2FibGUucHJldlN2Z0hhc2ggPSBmdWxsSGFzaDtcblxuICAvKlxuICAgIC0tIERPTSBoaWVyYXJjaHkgLS1cbiAgICA8c3ZnIGNsYXNzPVwiY2ctc2hhcGVzXCI+ICAgICAgKDw9IHN2ZylcbiAgICAgIDxkZWZzPlxuICAgICAgICAuLi4oZm9yIGJydXNoZXMpLi4uXG4gICAgICA8L2RlZnM+XG4gICAgICA8Zz5cbiAgICAgICAgLi4uKGZvciBhcnJvd3MgYW5kIGNpcmNsZXMpLi4uXG4gICAgICA8L2c+XG4gICAgPC9zdmc+XG4gICAgPHN2ZyBjbGFzcz1cImNnLWN1c3RvbS1zdmdzXCI+ICg8PSBjdXN0b21TdmcpXG4gICAgICA8Zz5cbiAgICAgICAgLi4uKGZvciBjdXN0b20gc3ZncykuLi5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgKi9cblxuICBjb25zdCBkZWZzRWwgPSBzdmcucXVlcnlTZWxlY3RvcignZGVmcycpIGFzIFNWR0VsZW1lbnQ7XG4gIGNvbnN0IHNoYXBlc0VsID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoJ2cnKSBhcyBTVkdFbGVtZW50O1xuICBjb25zdCBjdXN0b21TdmdzRWwgPSBjdXN0b21TdmcucXVlcnlTZWxlY3RvcignZycpIGFzIFNWR0VsZW1lbnQ7XG5cbiAgc3luY0RlZnMoZCwgc2hhcGVzLCBkZWZzRWwpO1xuICBzeW5jU2hhcGVzKFxuICAgIHNoYXBlcy5maWx0ZXIocyA9PiAhcy5zaGFwZS5jdXN0b21TdmcpLFxuICAgIHNoYXBlc0VsLFxuICAgIHNoYXBlID0+IHJlbmRlclNoYXBlKHN0YXRlLCBzaGFwZSwgZC5icnVzaGVzLCBhcnJvd0Rlc3RzLCBib3VuZHMpXG4gICk7XG4gIHN5bmNTaGFwZXMoXG4gICAgc2hhcGVzLmZpbHRlcihzID0+IHMuc2hhcGUuY3VzdG9tU3ZnKSxcbiAgICBjdXN0b21TdmdzRWwsXG4gICAgc2hhcGUgPT4gcmVuZGVyU2hhcGUoc3RhdGUsIHNoYXBlLCBkLmJydXNoZXMsIGFycm93RGVzdHMsIGJvdW5kcylcbiAgKTtcbn1cblxuLy8gYXBwZW5kIG9ubHkuIERvbid0IHRyeSB0byB1cGRhdGUvcmVtb3ZlLlxuZnVuY3Rpb24gc3luY0RlZnMoZDogRHJhd2FibGUsIHNoYXBlczogU3luY2FibGVTaGFwZVtdLCBkZWZzRWw6IFNWR0VsZW1lbnQpIHtcbiAgY29uc3QgYnJ1c2hlczogQ3VzdG9tQnJ1c2hlcyA9IG5ldyBNYXAoKTtcbiAgbGV0IGJydXNoOiBEcmF3QnJ1c2g7XG4gIGZvciAoY29uc3QgcyBvZiBzaGFwZXMpIHtcbiAgICBpZiAocy5zaGFwZS5kZXN0KSB7XG4gICAgICBicnVzaCA9IGQuYnJ1c2hlc1tzLnNoYXBlLmJydXNoIV07XG4gICAgICBpZiAocy5zaGFwZS5tb2RpZmllcnMpIGJydXNoID0gbWFrZUN1c3RvbUJydXNoKGJydXNoLCBzLnNoYXBlLm1vZGlmaWVycyk7XG4gICAgICBicnVzaGVzLnNldChicnVzaC5rZXksIGJydXNoKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qga2V5c0luRG9tID0gbmV3IFNldCgpO1xuICBsZXQgZWw6IFNWR0VsZW1lbnQgfCB1bmRlZmluZWQgPSBkZWZzRWwuZmlyc3RDaGlsZCBhcyBTVkdFbGVtZW50O1xuICB3aGlsZSAoZWwpIHtcbiAgICBrZXlzSW5Eb20uYWRkKGVsLmdldEF0dHJpYnV0ZSgnY2dLZXknKSk7XG4gICAgZWwgPSBlbC5uZXh0U2libGluZyBhcyBTVkdFbGVtZW50IHwgdW5kZWZpbmVkO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgYnJ1c2hdIG9mIGJydXNoZXMuZW50cmllcygpKSB7XG4gICAgaWYgKCFrZXlzSW5Eb20uaGFzKGtleSkpIGRlZnNFbC5hcHBlbmRDaGlsZChyZW5kZXJNYXJrZXIoYnJ1c2gpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaGFwZUhhc2goXG4gIHsgb3JpZywgZGVzdCwgYnJ1c2gsIHBpZWNlLCBtb2RpZmllcnMsIGN1c3RvbVN2ZyB9OiBEcmF3U2hhcGUsXG4gIGFycm93RGVzdHM6IEFycm93RGVzdHMsXG4gIGN1cnJlbnQ6IGJvb2xlYW4sXG4gIGJvdW5kczogQ2xpZW50UmVjdFxuKTogSGFzaCB7XG4gIHJldHVybiBbXG4gICAgYm91bmRzLndpZHRoLFxuICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgY3VycmVudCxcbiAgICBvcmlnLFxuICAgIGRlc3QsXG4gICAgYnJ1c2gsXG4gICAgZGVzdCAmJiAoYXJyb3dEZXN0cy5nZXQoZGVzdCkgfHwgMCkgPiAxLFxuICAgIHBpZWNlICYmIHBpZWNlSGFzaChwaWVjZSksXG4gICAgbW9kaWZpZXJzICYmIG1vZGlmaWVyc0hhc2gobW9kaWZpZXJzKSxcbiAgICBjdXN0b21TdmcgJiYgY3VzdG9tU3ZnSGFzaChjdXN0b21TdmcpLFxuICBdXG4gICAgLmZpbHRlcih4ID0+IHgpXG4gICAgLmpvaW4oJywnKTtcbn1cblxuZnVuY3Rpb24gcGllY2VIYXNoKHBpZWNlOiBEcmF3U2hhcGVQaWVjZSk6IEhhc2gge1xuICByZXR1cm4gW3BpZWNlLmNvbG9yLCBwaWVjZS5yb2xlLCBwaWVjZS5wcm9tb3RlZCwgcGllY2Uuc2NhbGVdLmZpbHRlcih4ID0+IHgpLmpvaW4oJywnKTtcbn1cblxuZnVuY3Rpb24gbW9kaWZpZXJzSGFzaChtOiBEcmF3TW9kaWZpZXJzKTogSGFzaCB7XG4gIHJldHVybiAnJyArIChtLmxpbmVXaWR0aCB8fCAnJyk7XG59XG5cbmZ1bmN0aW9uIGN1c3RvbVN2Z0hhc2goczogc3RyaW5nKTogSGFzaCB7XG4gIC8vIFJvbGxpbmcgaGFzaCB3aXRoIGJhc2UgMzEgKGNmLiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NjE2NDYxL2dlbmVyYXRlLWEtaGFzaC1mcm9tLXN0cmluZy1pbi1qYXZhc2NyaXB0KVxuICBsZXQgaCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgIGggPSAoKGggPDwgNSkgLSBoICsgcy5jaGFyQ29kZUF0KGkpKSA+Pj4gMDtcbiAgfVxuICByZXR1cm4gJ2N1c3RvbS0nICsgaC50b1N0cmluZygpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTaGFwZShcbiAgc3RhdGU6IFN0YXRlLFxuICB7IHNoYXBlLCBjdXJyZW50LCBoYXNoIH06IFN5bmNhYmxlU2hhcGUsXG4gIGJydXNoZXM6IERyYXdCcnVzaGVzLFxuICBhcnJvd0Rlc3RzOiBBcnJvd0Rlc3RzLFxuICBib3VuZHM6IENsaWVudFJlY3Rcbik6IFNWR0VsZW1lbnQge1xuICBsZXQgZWw6IFNWR0VsZW1lbnQ7XG4gIGNvbnN0IG9yaWcgPSBvcmllbnQoa2V5MnBvcyhzaGFwZS5vcmlnKSwgc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLmRpbWVuc2lvbnMpO1xuXG4gIGlmIChzaGFwZS5jdXN0b21TdmcpIHtcbiAgICBlbCA9IHJlbmRlckN1c3RvbVN2ZyhzaGFwZS5jdXN0b21TdmcsIG9yaWcsIGJvdW5kcywgc3RhdGUuZGltZW5zaW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNoYXBlLmRlc3QpIHtcbiAgICAgIGxldCBicnVzaDogRHJhd0JydXNoID0gYnJ1c2hlc1tzaGFwZS5icnVzaCFdO1xuICAgICAgaWYgKHNoYXBlLm1vZGlmaWVycykgYnJ1c2ggPSBtYWtlQ3VzdG9tQnJ1c2goYnJ1c2gsIHNoYXBlLm1vZGlmaWVycyk7XG4gICAgICBlbCA9IHJlbmRlckFycm93KFxuICAgICAgICBicnVzaCxcbiAgICAgICAgb3JpZyxcbiAgICAgICAgb3JpZW50KGtleTJwb3Moc2hhcGUuZGVzdCksIHN0YXRlLm9yaWVudGF0aW9uLCBzdGF0ZS5kaW1lbnNpb25zKSxcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgKGFycm93RGVzdHMuZ2V0KHNoYXBlLmRlc3QpIHx8IDApID4gMSxcbiAgICAgICAgYm91bmRzLFxuICAgICAgICBzdGF0ZS5kaW1lbnNpb25zXG4gICAgICApO1xuICAgIH0gZWxzZSBlbCA9IHJlbmRlckNpcmNsZShicnVzaGVzW3NoYXBlLmJydXNoIV0sIG9yaWcsIGN1cnJlbnQsIGJvdW5kcywgc3RhdGUuZGltZW5zaW9ucyk7XG4gIH1cbiAgZWwuc2V0QXR0cmlidXRlKCdjZ0hhc2gnLCBoYXNoKTtcbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDdXN0b21TdmcoY3VzdG9tU3ZnOiBzdHJpbmcsIHBvczogY2cuUG9zLCBib3VuZHM6IENsaWVudFJlY3QsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBTVkdFbGVtZW50IHtcbiAgY29uc3QgW3gsIHldID0gcG9zMnVzZXIocG9zLCBib3VuZHMsIGJkKTtcblxuICAvLyBUcmFuc2xhdGUgdG8gdG9wLWxlZnQgb2YgYG9yaWdgIHNxdWFyZVxuICBjb25zdCBnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdnJyksIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eH0sJHt5fSlgIH0pO1xuXG4gIC8vIEdpdmUgMTAweDEwMCBjb29yZGluYXRlIHN5c3RlbSB0byB0aGUgdXNlciBmb3IgYG9yaWdgIHNxdWFyZVxuICBjb25zdCBzdmcgPSBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ3N2ZycpLCB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEsIHZpZXdCb3g6ICcwIDAgMTAwIDEwMCcgfSk7XG5cbiAgZy5hcHBlbmRDaGlsZChzdmcpO1xuICBzdmcuaW5uZXJIVE1MID0gY3VzdG9tU3ZnO1xuICByZXR1cm4gZztcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlKFxuICBicnVzaDogRHJhd0JydXNoLFxuICBwb3M6IGNnLlBvcyxcbiAgY3VycmVudDogYm9vbGVhbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBTVkdFbGVtZW50IHtcbiAgY29uc3QgbyA9IHBvczJ1c2VyKHBvcywgYm91bmRzLCBiZCksXG4gICAgd2lkdGhzID0gY2lyY2xlV2lkdGgoKSxcbiAgICByYWRpdXMgPSAoYm91bmRzLndpZHRoICsgYm91bmRzLmhlaWdodCkgLyAoNCAqIE1hdGgubWF4KGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCkpO1xuICByZXR1cm4gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdjaXJjbGUnKSwge1xuICAgIHN0cm9rZTogYnJ1c2guY29sb3IsXG4gICAgJ3N0cm9rZS13aWR0aCc6IHdpZHRoc1tjdXJyZW50ID8gMCA6IDFdLFxuICAgIGZpbGw6ICdub25lJyxcbiAgICBvcGFjaXR5OiBvcGFjaXR5KGJydXNoLCBjdXJyZW50KSxcbiAgICBjeDogb1swXSxcbiAgICBjeTogb1sxXSxcbiAgICByOiByYWRpdXMgLSB3aWR0aHNbMV0gLyAyLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQXJyb3coXG4gIGJydXNoOiBEcmF3QnJ1c2gsXG4gIG9yaWc6IGNnLlBvcyxcbiAgZGVzdDogY2cuUG9zLFxuICBjdXJyZW50OiBib29sZWFuLFxuICBzaG9ydGVuOiBib29sZWFuLFxuICBib3VuZHM6IENsaWVudFJlY3QsXG4gIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnNcbik6IFNWR0VsZW1lbnQge1xuICBjb25zdCBtID0gYXJyb3dNYXJnaW4oc2hvcnRlbiAmJiAhY3VycmVudCksXG4gICAgYSA9IHBvczJ1c2VyKG9yaWcsIGJvdW5kcywgYmQpLFxuICAgIGIgPSBwb3MydXNlcihkZXN0LCBib3VuZHMsIGJkKSxcbiAgICBkeCA9IGJbMF0gLSBhWzBdLFxuICAgIGR5ID0gYlsxXSAtIGFbMV0sXG4gICAgYW5nbGUgPSBNYXRoLmF0YW4yKGR5LCBkeCksXG4gICAgeG8gPSBNYXRoLmNvcyhhbmdsZSkgKiBtLFxuICAgIHlvID0gTWF0aC5zaW4oYW5nbGUpICogbTtcbiAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnbGluZScpLCB7XG4gICAgc3Ryb2tlOiBicnVzaC5jb2xvcixcbiAgICAnc3Ryb2tlLXdpZHRoJzogbGluZVdpZHRoKGJydXNoLCBjdXJyZW50KSxcbiAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICdtYXJrZXItZW5kJzogJ3VybCgjYXJyb3doZWFkLScgKyBicnVzaC5rZXkgKyAnKScsXG4gICAgb3BhY2l0eTogb3BhY2l0eShicnVzaCwgY3VycmVudCksXG4gICAgeDE6IGFbMF0sXG4gICAgeTE6IGFbMV0sXG4gICAgeDI6IGJbMF0gLSB4byxcbiAgICB5MjogYlsxXSAtIHlvLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTWFya2VyKGJydXNoOiBEcmF3QnJ1c2gpOiBTVkdFbGVtZW50IHtcbiAgY29uc3QgbWFya2VyID0gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdtYXJrZXInKSwge1xuICAgIGlkOiAnYXJyb3doZWFkLScgKyBicnVzaC5rZXksXG4gICAgb3JpZW50OiAnYXV0bycsXG4gICAgbWFya2VyV2lkdGg6IDQsXG4gICAgbWFya2VySGVpZ2h0OiA4LFxuICAgIHJlZlg6IDIuMDUsXG4gICAgcmVmWTogMi4wMSxcbiAgfSk7XG4gIG1hcmtlci5hcHBlbmRDaGlsZChcbiAgICBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ3BhdGgnKSwge1xuICAgICAgZDogJ00wLDAgVjQgTDMsMiBaJyxcbiAgICAgIGZpbGw6IGJydXNoLmNvbG9yLFxuICAgIH0pXG4gICk7XG4gIG1hcmtlci5zZXRBdHRyaWJ1dGUoJ2NnS2V5JywgYnJ1c2gua2V5KTtcbiAgcmV0dXJuIG1hcmtlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWw6IFNWR0VsZW1lbnQsIGF0dHJzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogU1ZHRWxlbWVudCB7XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywga2V5KSkgZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG4gIH1cbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiBvcmllbnQocG9zOiBjZy5Qb3MsIGNvbG9yOiBjZy5Db2xvciwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IGNnLlBvcyB7XG4gIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJyA/IHBvcyA6IFtiZC53aWR0aCAtIDEgLSBwb3NbMF0sIGJkLmhlaWdodCAtIDEgLSBwb3NbMV1dO1xufVxuXG5mdW5jdGlvbiBtYWtlQ3VzdG9tQnJ1c2goYmFzZTogRHJhd0JydXNoLCBtb2RpZmllcnM6IERyYXdNb2RpZmllcnMpOiBEcmF3QnJ1c2gge1xuICByZXR1cm4ge1xuICAgIGNvbG9yOiBiYXNlLmNvbG9yLFxuICAgIG9wYWNpdHk6IE1hdGgucm91bmQoYmFzZS5vcGFjaXR5ICogMTApIC8gMTAsXG4gICAgbGluZVdpZHRoOiBNYXRoLnJvdW5kKG1vZGlmaWVycy5saW5lV2lkdGggfHwgYmFzZS5saW5lV2lkdGgpLFxuICAgIGtleTogW2Jhc2Uua2V5LCBtb2RpZmllcnMubGluZVdpZHRoXS5maWx0ZXIoeCA9PiB4KS5qb2luKCcnKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2lyY2xlV2lkdGgoKTogW251bWJlciwgbnVtYmVyXSB7XG4gIHJldHVybiBbMyAvIDY0LCA0IC8gNjRdO1xufVxuXG5mdW5jdGlvbiBsaW5lV2lkdGgoYnJ1c2g6IERyYXdCcnVzaCwgY3VycmVudDogYm9vbGVhbik6IG51bWJlciB7XG4gIHJldHVybiAoKGJydXNoLmxpbmVXaWR0aCB8fCAxMCkgKiAoY3VycmVudCA/IDAuODUgOiAxKSkgLyA2NDtcbn1cblxuZnVuY3Rpb24gb3BhY2l0eShicnVzaDogRHJhd0JydXNoLCBjdXJyZW50OiBib29sZWFuKTogbnVtYmVyIHtcbiAgcmV0dXJuIChicnVzaC5vcGFjaXR5IHx8IDEpICogKGN1cnJlbnQgPyAwLjkgOiAxKTtcbn1cblxuZnVuY3Rpb24gYXJyb3dNYXJnaW4oc2hvcnRlbjogYm9vbGVhbik6IG51bWJlciB7XG4gIHJldHVybiAoc2hvcnRlbiA/IDIwIDogMTApIC8gNjQ7XG59XG5cbmZ1bmN0aW9uIHBvczJ1c2VyKHBvczogY2cuUG9zLCBib3VuZHM6IENsaWVudFJlY3QsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5OdW1iZXJQYWlyIHtcbiAgY29uc3QgeFNjYWxlID0gTWF0aC5taW4oMSwgYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodCkgKiBNYXRoLm1heCgxLCBiZC5oZWlnaHQgLyBiZC53aWR0aCk7XG4gIGNvbnN0IHlTY2FsZSA9IE1hdGgubWluKDEsIGJvdW5kcy5oZWlnaHQgLyBib3VuZHMud2lkdGgpICogTWF0aC5tYXgoMSwgYmQud2lkdGggLyBiZC5oZWlnaHQpO1xuICByZXR1cm4gWyhwb3NbMF0gLSAoYmQud2lkdGggLSAxKSAvIDIpICogeFNjYWxlLCAoKGJkLmhlaWdodCAtIDEpIC8gMiAtIHBvc1sxXSkgKiB5U2NhbGVdO1xufVxuIiwgImltcG9ydCB7IEhlYWRsZXNzU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCB7IHNldFZpc2libGUsIGNyZWF0ZUVsLCBpc01pbmlCb2FyZCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjb2xvcnMsIGxldHRlcnMsIEVsZW1lbnRzLCBOb3RhdGlvbiB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCBhcyBjcmVhdGVTVkcsIHNldEF0dHJpYnV0ZXMgfSBmcm9tICcuL3N2Zy5qcyc7XG5cbnR5cGUgQ29vcmRGb3JtYXQgPSB7XG4gIGNvb3JkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIHBvc2l0aW9uOiAndG9wJyB8ICdib3R0b20nIHwgJ3NpZGUnO1xuICBkaXJlY3Rpb246ICdmb3J3YXJkJyB8ICdiYWNrd2FyZCc7IC8vIFwiRm9yd2FyZFwiIG1lYW5zIGJvdHRvbSB0byB0b3AgLyBsZWZ0IHRvIHJpZ2h0XG4gIG5vQmxhY2tSZXZlcnNlPzogYm9vbGVhbjsgLy8gRG9uJ3QgcmV2ZXJzZSB0aGUgZGlyZWN0aW9uIGZvciBibGFjayBvcmllbnRhdGlvblxufTtcblxuLy8gTmVlZCB0byBzdXBwb3J0IHVwIHRvIDE2IHJhbmtzIG9yIGZpbGVzXG4vLyBTaW5jZSBzb21lIGNvdW50cmllcyBuZXZlciBoYWQgdmFyaWFudHMgdGhhdCBiaWcsIHNvbWUgbGV0dGVycyBhbmQgbnVtYmVycyBoZXJlIGFyZSB0aGVvcmV0aWNhbFxuY29uc3QgTEVUVEVSX0VOR0xJU0ggPSBsZXR0ZXJzO1xuY29uc3QgTEVUVEVSX1RIQUkgPSBbJ1x1MEUwMScsICdcdTBFMDInLCAnXHUwRTA0JywgJ1x1MEUwNycsICdcdTBFMDgnLCAnXHUwRTA5JywgJ1x1MEUwQScsICdcdTBFMEQnLCAnXHUwRTE1JywgJ1x1MEUxNicsICdcdTBFMTcnLCAnXHUwRTE5JywgJ1x1MEUxQicsICdcdTBFMUMnLCAnXHUwRTFFJywgJ1x1MEUyMSddIGFzIGNvbnN0O1xuY29uc3QgTlVNQkVSX0FSQUJJQyA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnMTAnLCAnMTEnLCAnMTInLCAnMTMnLCAnMTQnLCAnMTUnLCAnMTYnXSBhcyBjb25zdDtcbmNvbnN0IE5VTUJFUl9KQU5HR0kgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnXSBhcyBjb25zdDtcbmNvbnN0IE5VTUJFUl9IQU5aSSA9IFtcbiAgJ1x1NEUwMCcsXG4gICdcdTRFOEMnLFxuICAnXHU0RTA5JyxcbiAgJ1x1NTZEQicsXG4gICdcdTRFOTQnLFxuICAnXHU1MTZEJyxcbiAgJ1x1NEUwMycsXG4gICdcdTUxNkInLFxuICAnXHU0RTVEJyxcbiAgJ1x1NTM0MScsXG4gICdcdTUzNDFcdTRFMDAnLFxuICAnXHU1MzQxXHU0RThDJyxcbiAgJ1x1NTM0MVx1NEUwOScsXG4gICdcdTUzNDFcdTU2REInLFxuICAnXHU1MzQxXHU0RTk0JyxcbiAgJ1x1NTM0MVx1NTE2RCcsXG5dIGFzIGNvbnN0O1xuY29uc3QgTlVNQkVSX1RIQUkgPSBbJ1x1MEU1MScsICdcdTBFNTInLCAnXHUwRTUzJywgJ1x1MEU1NCcsICdcdTBFNTUnLCAnXHUwRTU2JywgJ1x1MEU1NycsICdcdTBFNTgnLCAnXHUwRTU5JywgJ1x1MEU1MVx1MEU1MCcsICdcdTBFNTFcdTBFNTEnLCAnXHUwRTUxXHUwRTUyJywgJ1x1MEU1MVx1MEU1MycsICdcdTBFNTFcdTBFNTQnLCAnXHUwRTUxXHUwRTU1JywgJ1x1MEU1MVx1MEU1NiddIGFzIGNvbnN0O1xuXG5jb25zdCBjb29yZEZvcm1hdDogUmVjb3JkPE5vdGF0aW9uLCBDb29yZEZvcm1hdFtdPiA9IHtcbiAgW05vdGF0aW9uLkFMR0VCUkFJQ106IFtcbiAgICB7XG4gICAgICBjb29yZHM6IExFVFRFUl9FTkdMSVNILFxuICAgICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgICAgZGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ3NpZGUnLFxuICAgICAgZGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgfSxcbiAgXSxcblxuICBbTm90YXRpb24uU0hPR0lfRU5HTEVUXTogW1xuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX0FSQUJJQyxcbiAgICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvb3JkczogTEVUVEVSX0VOR0xJU0gsXG4gICAgICBwb3NpdGlvbjogJ3NpZGUnLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgIH0sXG4gIF0sXG5cbiAgW05vdGF0aW9uLlNIT0dJX0FSQk5VTV06IFtcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICBkaXJlY3Rpb246ICdiYWNrd2FyZCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ3NpZGUnLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgIH0sXG4gIF0sXG5cbiAgW05vdGF0aW9uLlNIT0dJX0hBTk5VTV06IFtcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICBkaXJlY3Rpb246ICdiYWNrd2FyZCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9IQU5aSSxcbiAgICAgIHBvc2l0aW9uOiAnc2lkZScsXG4gICAgICBkaXJlY3Rpb246ICdiYWNrd2FyZCcsXG4gICAgfSxcbiAgXSxcblxuICBbTm90YXRpb24uSkFOR0dJXTogW1xuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX0FSQUJJQyxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgIH0sXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfSkFOR0dJLFxuICAgICAgcG9zaXRpb246ICdzaWRlJyxcbiAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJyxcbiAgICB9LFxuICBdLFxuXG4gIFtOb3RhdGlvbi5YSUFOR1FJX0FSQk5VTV06IFtcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICBkaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICAgIG5vQmxhY2tSZXZlcnNlOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgICAgbm9CbGFja1JldmVyc2U6IHRydWUsXG4gICAgfSxcbiAgXSxcblxuICBbTm90YXRpb24uWElBTkdRSV9IQU5OVU1dOiBbXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgZGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgICBub0JsYWNrUmV2ZXJzZTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX0hBTlpJLFxuICAgICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgICAgbm9CbGFja1JldmVyc2U6IHRydWUsXG4gICAgfSxcbiAgXSxcblxuICBbTm90YXRpb24uVEhBSV9BTEdFQlJBSUNdOiBbXG4gICAge1xuICAgICAgY29vcmRzOiBMRVRURVJfVEhBSSxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgIH0sXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfVEhBSSxcbiAgICAgIHBvc2l0aW9uOiAnc2lkZScsXG4gICAgICBkaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICB9LFxuICBdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcldyYXAoZWxlbWVudDogSFRNTEVsZW1lbnQsIHM6IEhlYWRsZXNzU3RhdGUpOiBFbGVtZW50cyB7XG4gIC8vIC5jZy13cmFwIChlbGVtZW50IHBhc3NlZCB0byBDaGVzc2dyb3VuZClcbiAgLy8gICBjZy1jb250YWluZXJcbiAgLy8gICAgIGNnLWJvYXJkXG4gIC8vICAgICBzdmcuY2ctc2hhcGVzXG4gIC8vICAgICAgIGRlZnNcbiAgLy8gICAgICAgZ1xuICAvLyAgICAgc3ZnLmNnLWN1c3RvbS1zdmdzXG4gIC8vICAgICAgIGdcbiAgLy8gICAgIGNnLWF1dG8tcGllY2VzXG4gIC8vICAgICBjb29yZHMucmFua3NcbiAgLy8gICAgIGNvb3Jkcy5maWxlc1xuICAvLyAgICAgcGllY2UuZ2hvc3RcblxuICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xuXG4gIC8vIGVuc3VyZSB0aGUgY2ctd3JhcCBjbGFzcyBpcyBzZXRcbiAgLy8gc28gYm91bmRzIGNhbGN1bGF0aW9uIGNhbiB1c2UgdGhlIENTUyB3aWR0aC9oZWlnaHQgdmFsdWVzXG4gIC8vIGFkZCB0aGF0IGNsYXNzIHlvdXJzZWxmIHRvIHRoZSBlbGVtZW50IGJlZm9yZSBjYWxsaW5nIGNoZXNzZ3JvdW5kXG4gIC8vIGZvciBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCEgKGF2b2lkcyByZWNvbXB1dGluZyBzdHlsZSlcbiAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjZy13cmFwJyk7XG5cbiAgZm9yIChjb25zdCBjIG9mIGNvbG9ycykgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdvcmllbnRhdGlvbi0nICsgYywgcy5vcmllbnRhdGlvbiA9PT0gYyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnbWFuaXB1bGFibGUnLCAhcy52aWV3T25seSk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRWwoJ2NnLWNvbnRhaW5lcicpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgY29uc3QgZXh0ZW5zaW9uID0gY3JlYXRlRWwoJ2V4dGVuc2lvbicpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZXh0ZW5zaW9uKTtcbiAgY29uc3QgYm9hcmQgPSBjcmVhdGVFbCgnY2ctYm9hcmQnKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJvYXJkKTtcblxuICBsZXQgcG9ja2V0Qm90dG9tLCBwb2NrZXRUb3A7XG4gIGlmIChpc01pbmlCb2FyZChlbGVtZW50KSkge1xuICAgIGlmIChzLmJvYXJkU3RhdGUucG9ja2V0cykge1xuICAgICAgcG9ja2V0Qm90dG9tID0gY3JlYXRlRWwoJ3BvY2tldEJvdHRvbScpO1xuICAgICAgcG9ja2V0VG9wID0gY3JlYXRlRWwoJ3BvY2tldFRvcCcpO1xuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzLm9yaWVudGF0aW9uID09PSAnd2hpdGUnID8gcG9ja2V0VG9wIDogcG9ja2V0Qm90dG9tLCBib2FyZCk7XG4gICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHMub3JpZW50YXRpb24gPT09ICd3aGl0ZScgPyBwb2NrZXRCb3R0b20gOiBwb2NrZXRUb3AsIGJvYXJkLm5leHRTaWJsaW5nKTtcbiAgICB9XG4gIH1cblxuICBsZXQgc3ZnOiBTVkdFbGVtZW50IHwgdW5kZWZpbmVkO1xuICBsZXQgY3VzdG9tU3ZnOiBTVkdFbGVtZW50IHwgdW5kZWZpbmVkO1xuICBsZXQgYXV0b1BpZWNlczogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgaWYgKHMuZHJhd2FibGUudmlzaWJsZSkge1xuICAgIGNvbnN0IHdpZHRoID0gcy5kaW1lbnNpb25zLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHMuZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgc3ZnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVTVkcoJ3N2ZycpLCB7XG4gICAgICBjbGFzczogJ2NnLXNoYXBlcycsXG4gICAgICB2aWV3Qm94OiBgJHstd2lkdGggLyAyfSAkey1oZWlnaHQgLyAyfSAke3dpZHRofSAke2hlaWdodH1gLFxuICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogJ3hNaWRZTWlkIHNsaWNlJyxcbiAgICB9KTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQoY3JlYXRlU1ZHKCdkZWZzJykpO1xuICAgIHN2Zy5hcHBlbmRDaGlsZChjcmVhdGVTVkcoJ2cnKSk7XG5cbiAgICBjdXN0b21TdmcgPSBzZXRBdHRyaWJ1dGVzKGNyZWF0ZVNWRygnc3ZnJyksIHtcbiAgICAgIGNsYXNzOiAnY2ctY3VzdG9tLXN2Z3MnLFxuICAgICAgdmlld0JveDogYCR7LSh3aWR0aCAtIDEpIC8gMn0gJHstKGhlaWdodCAtIDEpIC8gMn0gJHt3aWR0aH0gJHtoZWlnaHR9YCxcbiAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICd4TWlkWU1pZCBzbGljZScsXG4gICAgfSk7XG4gICAgY3VzdG9tU3ZnLmFwcGVuZENoaWxkKGNyZWF0ZVNWRygnZycpKTtcblxuICAgIGF1dG9QaWVjZXMgPSBjcmVhdGVFbCgnY2ctYXV0by1waWVjZXMnKTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmcpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjdXN0b21TdmcpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhdXRvUGllY2VzKTtcbiAgfVxuXG4gIGlmIChzLmNvb3JkaW5hdGVzKSB7XG4gICAgY29vcmRGb3JtYXRbcy5ub3RhdGlvbl0uZm9yRWFjaChmID0+IHtcbiAgICAgIGNvbnN0IG1heCA9IGYucG9zaXRpb24gPT09ICdzaWRlJyA/IHMuZGltZW5zaW9ucy5oZWlnaHQgOiBzLmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBjb25zdCBwb3MgPSBmLnBvc2l0aW9uOyAvLyBUT0RPIHBvcyA9IGYucG9zaXRpb24gPT09ICdzaWRlJyA/IHMucmFua3NQb3NpdGlvbiA6IGYucG9zaXRpb247XG4gICAgICBjb25zdCBjb29yZHMgPSBmLmNvb3Jkcy5zbGljZSgwLCBtYXgpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgICAgICByZW5kZXJDb29yZHMoY29vcmRzLCBgJHtwb3N9ICR7Zi5kaXJlY3Rpb259JHtmLm5vQmxhY2tSZXZlcnNlID8gJycgOiAnICcgKyBzLm9yaWVudGF0aW9ufWApXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgbGV0IGdob3N0OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgaWYgKHMuZHJhZ2dhYmxlLmVuYWJsZWQgJiYgcy5kcmFnZ2FibGUuc2hvd0dob3N0KSB7XG4gICAgZ2hvc3QgPSBjcmVhdGVFbCgncGllY2UnLCAnZ2hvc3QnKTtcbiAgICBzZXRWaXNpYmxlKGdob3N0LCBmYWxzZSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGdob3N0KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9ja2V0VG9wLFxuICAgIHBvY2tldEJvdHRvbSxcbiAgICBib2FyZCxcbiAgICBjb250YWluZXIsXG4gICAgd3JhcDogZWxlbWVudCxcbiAgICBnaG9zdCxcbiAgICBzdmcsXG4gICAgY3VzdG9tU3ZnLFxuICAgIGF1dG9QaWVjZXMsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNvb3JkcyhlbGVtczogcmVhZG9ubHkgc3RyaW5nW10sIGNsYXNzTmFtZTogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBlbCA9IGNyZWF0ZUVsKCdjb29yZHMnLCBjbGFzc05hbWUpO1xuICBsZXQgZjogSFRNTEVsZW1lbnQ7XG4gIGZvciAoY29uc3QgZWxlbSBvZiBlbGVtcykge1xuICAgIGYgPSBjcmVhdGVFbCgnY29vcmQnKTtcbiAgICBmLnRleHRDb250ZW50ID0gZWxlbTtcbiAgICBlbC5hcHBlbmRDaGlsZChmKTtcbiAgfVxuICByZXR1cm4gZWw7XG59XG4iLCAiaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBib2FyZCBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCB7IGNsZWFyIGFzIGRyYXdDbGVhciB9IGZyb20gJy4vZHJhdy5qcyc7XG5pbXBvcnQgeyBkcmFnTmV3UGllY2UgfSBmcm9tICcuL2RyYWcuanMnO1xuaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSwgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclBvY2tldHNJbml0aWFsKFxuICBzdGF0ZTogSGVhZGxlc3NTdGF0ZSxcbiAgZWxlbWVudHM6IGNnLkVsZW1lbnRzLFxuICBwb2NrZXRUb3A/OiBIVE1MRWxlbWVudCxcbiAgcG9ja2V0Qm90dG9tPzogSFRNTEVsZW1lbnRcbik6IHZvaWQge1xuICBpZiAocG9ja2V0VG9wKSB7XG4gICAgcG9ja2V0VG9wLmlubmVySFRNTCA9ICcnO1xuICAgIGVsZW1lbnRzLnBvY2tldFRvcCA9IHBvY2tldFRvcDtcbiAgICBwb2NrZXRWaWV3KHN0YXRlLCBlbGVtZW50cy5wb2NrZXRUb3AsICd0b3AnKTtcbiAgfVxuICBpZiAocG9ja2V0Qm90dG9tKSB7XG4gICAgcG9ja2V0Qm90dG9tLmlubmVySFRNTCA9ICcnO1xuICAgIGVsZW1lbnRzLnBvY2tldEJvdHRvbSA9IHBvY2tldEJvdHRvbTtcbiAgICBwb2NrZXRWaWV3KHN0YXRlLCBlbGVtZW50cy5wb2NrZXRCb3R0b20sICdib3R0b20nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2NrZXRWaWV3KHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBwb2NrZXRFbDogSFRNTEVsZW1lbnQsIHBvc2l0aW9uOiBjZy5Qb2NrZXRQb3NpdGlvbik6IHZvaWQge1xuICBpZiAoIXN0YXRlLnBvY2tldFJvbGVzKSByZXR1cm47XG4gIGNvbnN0IGNvbG9yID0gcG9zaXRpb24gPT09ICd0b3AnID8gdXRpbC5vcHBvc2l0ZShzdGF0ZS5vcmllbnRhdGlvbikgOiBzdGF0ZS5vcmllbnRhdGlvbjtcbiAgY29uc3Qgcm9sZXMgPSBzdGF0ZS5wb2NrZXRSb2xlc1tjb2xvcl07XG4gIGNvbnN0IHBsID0gU3RyaW5nKHJvbGVzLmxlbmd0aCk7XG4gIGNvbnN0IGZpbGVzID0gU3RyaW5nKHN0YXRlLmRpbWVuc2lvbnMud2lkdGgpO1xuICBjb25zdCByYW5rcyA9IFN0cmluZyhzdGF0ZS5kaW1lbnNpb25zLmhlaWdodCk7XG4gIHBvY2tldEVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgLS1wb2NrZXRMZW5ndGg6ICR7cGx9OyAtLWZpbGVzOiAke2ZpbGVzfTsgLS1yYW5rczogJHtyYW5rc31gKTtcbiAgcG9ja2V0RWwuY2xhc3NMaXN0LmFkZCgncG9ja2V0JywgcG9zaXRpb24pO1xuICByb2xlcy5mb3JFYWNoKHJvbGUgPT4ge1xuICAgIGNvbnN0IHBpZWNlTmFtZSA9IHV0aWwucGllY2VDbGFzc2VzKHsgcm9sZTogcm9sZSwgY29sb3I6IGNvbG9yIH0sIHN0YXRlLm9yaWVudGF0aW9uKTtcbiAgICBjb25zdCBzcSA9IHV0aWwuY3JlYXRlRWwoJ3NxdWFyZScpO1xuICAgIGNvbnN0IHAgPSB1dGlsLmNyZWF0ZUVsKCdwaWVjZScsIHBpZWNlTmFtZSk7XG4gICAgc3EuYXBwZW5kQ2hpbGQocCk7XG4gICAgcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InLCBjb2xvcik7XG4gICAgcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm9sZScsIHJvbGUpO1xuICAgIHJlbmRlclBpZWNlKHN0YXRlLCBzcSk7XG4gICAgcG9ja2V0RWwuYXBwZW5kQ2hpbGQoc3EpO1xuICB9KTtcbn1cblxuLyoqXG4gKiB1cGRhdGVzIGVhY2ggcGllY2UgZWxlbWVudCBhdHRyaWJ1dGVzIGJhc2VkIG9uIHN0YXRlXG4gKiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclBvY2tldHMoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIHJlbmRlclBvY2tldChzdGF0ZSwgc3RhdGUuZG9tLmVsZW1lbnRzLnBvY2tldEJvdHRvbSk7XG4gIHJlbmRlclBvY2tldChzdGF0ZSwgc3RhdGUuZG9tLmVsZW1lbnRzLnBvY2tldFRvcCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBvY2tldChzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcG9ja2V0RWw/OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBpZiAocG9ja2V0RWwpIHtcbiAgICBsZXQgc3EgPSBwb2NrZXRFbC5maXJzdENoaWxkO1xuICAgIGlmIChzcSAmJiBzcS5maXJzdENoaWxkKSB7XG4gICAgICBjb25zdCBjb2xvciA9IChzcS5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50KS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKTtcbiAgICAgIHBvY2tldEVsLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICAgICd1c2FibGUnLFxuICAgICAgICAhc3RhdGUudmlld09ubHkgJiZcbiAgICAgICAgICAoc3RhdGUubW92YWJsZS5mcmVlIHx8IHN0YXRlLm1vdmFibGUuY29sb3IgPT09ICdib3RoJyB8fCAoISFjb2xvciAmJiBzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSBjb2xvcikpXG4gICAgICApO1xuICAgICAgd2hpbGUgKHNxKSB7XG4gICAgICAgIHJlbmRlclBpZWNlKHN0YXRlLCBzcSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIHNxID0gc3EubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBpZWNlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBzcTogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3QgcCA9IHNxLmZpcnN0Q2hpbGQgYXMgY2cuUGllY2VOb2RlO1xuICBjb25zdCByb2xlID0gcC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm9sZScpIGFzIGNnLlJvbGU7XG4gIGNvbnN0IGNvbG9yID0gcC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKSBhcyBjZy5Db2xvcjtcbiAgcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmInLCAnJyArIChzdGF0ZS5ib2FyZFN0YXRlLnBvY2tldHMhW2NvbG9yXS5nZXQocm9sZSkgPz8gMCkpO1xuICBjb25zdCBwaWVjZSA9IHsgcm9sZSwgY29sb3IgfTtcblxuICBjb25zdCBzZWxlY3RlZCA9IHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQ7XG4gIHNxLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgJ3NlbGVjdGVkLXNxdWFyZScsXG4gICAgISFzZWxlY3RlZCAmJiB1dGlsLmlzUGllY2Uoc2VsZWN0ZWQpICYmIHN0YXRlLnNlbGVjdGFibGUuZnJvbVBvY2tldCAmJiB1dGlsLnNhbWVQaWVjZShzZWxlY3RlZCwgcGllY2UpXG4gICk7XG5cbiAgY29uc3QgcHJlbW92ZU9yaWcgPSBzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQ/LlswXTtcbiAgc3EuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAncHJlbW92ZScsXG4gICAgISFwcmVtb3ZlT3JpZyAmJiB1dGlsLmlzRHJvcE9yaWcocHJlbW92ZU9yaWcpICYmIHV0aWwucm9sZU9mKHByZW1vdmVPcmlnKSA9PT0gcm9sZSAmJiBzdGF0ZS50dXJuQ29sb3IgIT09IGNvbG9yXG4gICk7XG5cbiAgc3EuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAnbGFzdC1tb3ZlJyxcbiAgICBzdGF0ZS5oaWdobGlnaHQubGFzdE1vdmUgJiYgISFzdGF0ZS5sYXN0TW92ZT8uaW5jbHVkZXModXRpbC5kcm9wT3JpZ09mKHJvbGUpKSAmJiBzdGF0ZS50dXJuQ29sb3IgIT09IGNvbG9yXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnKHM6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIGlmICghZS5pc1RydXN0ZWQgfHwgKGUuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b24gIT09IDApKSByZXR1cm47IC8vIG9ubHkgdG91Y2ggb3IgbGVmdCBjbGlja1xuICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSByZXR1cm47IC8vIHN1cHBvcnQgb25lIGZpbmdlciB0b3VjaCBvbmx5XG4gIGNvbnN0IGVsID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQsXG4gICAgcm9sZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yb2xlJykgYXMgY2cuUm9sZSxcbiAgICBjb2xvciA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicpIGFzIGNnLkNvbG9yLFxuICAgIG4gPSBOdW1iZXIoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW5iJykpO1xuICBpZiAobiA9PT0gMCkgcmV0dXJuO1xuICBjb25zdCBwaWVjZSA9IHsgcm9sZSwgY29sb3IgfTtcbiAgY29uc3QgcHJldmlvdXNseVNlbGVjdGVkID0gcy5zZWxlY3RhYmxlLnNlbGVjdGVkO1xuICBpZiAoIXByZXZpb3VzbHlTZWxlY3RlZCAmJiBzLmRyYXdhYmxlLmVuYWJsZWQgJiYgKHMuZHJhd2FibGUuZXJhc2VPbkNsaWNrIHx8IHBpZWNlLmNvbG9yICE9PSBzLnR1cm5Db2xvcikpXG4gICAgZHJhd0NsZWFyKHMpO1xuICAvLyBQcmV2ZW50IHRvdWNoIHNjcm9sbCBhbmQgY3JlYXRlIG5vIGNvcnJlc3BvbmRpbmcgbW91c2UgZXZlbnRcbiAgaWYgKGUuY2FuY2VsYWJsZSAhPT0gZmFsc2UpIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaGFkUHJlbW92ZSA9ICEhcy5wcmVtb3ZhYmxlLmN1cnJlbnQ7XG4gIHMuc3RhdHMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgYm9hcmQuc2VsZWN0KHMsIHBpZWNlKTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBzLnNlbGVjdGFibGUuc2VsZWN0ZWQ7XG4gIGNvbnN0IHN0aWxsU2VsZWN0ZWQgPSBzZWxlY3RlZCAmJiB1dGlsLmlzU2FtZShzZWxlY3RlZCwgcGllY2UpO1xuICBpZiAoc3RpbGxTZWxlY3RlZCAmJiBib2FyZC5pc0RyYWdnYWJsZShzLCBwaWVjZSwgdHJ1ZSkpIHtcbiAgICBkcmFnTmV3UGllY2UocywgcGllY2UsIHRydWUsIGUsIHByZXZpb3VzbHlTZWxlY3RlZCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGhhZFByZW1vdmUpIGJvYXJkLnVuc2V0UHJlbW92ZShzKTtcbiAgfVxuICBzLmRvbS5yZWRyYXcoKTtcbn1cbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0ICogYXMgZHJhZyBmcm9tICcuL2RyYWcuanMnO1xuaW1wb3J0ICogYXMgZHJhdyBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0ICogYXMgcG9ja2V0IGZyb20gJy4vcG9ja2V0LmpzJztcbmltcG9ydCB7IGlzUmlnaHRCdXR0b24gfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5cbnR5cGUgTW91Y2hCaW5kID0gKGU6IGNnLk1vdWNoRXZlbnQpID0+IHZvaWQ7XG50eXBlIFN0YXRlTW91Y2hCaW5kID0gKGQ6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KSA9PiB2b2lkO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZEJvYXJkKHM6IFN0YXRlLCBvblJlc2l6ZTogKCkgPT4gdm9pZCk6IHZvaWQge1xuICBjb25zdCBib2FyZEVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQ7XG5cbiAgaWYgKCdSZXNpemVPYnNlcnZlcicgaW4gd2luZG93KSBuZXcgUmVzaXplT2JzZXJ2ZXIob25SZXNpemUpLm9ic2VydmUocy5kb20uZWxlbWVudHMud3JhcCk7XG5cbiAgaWYgKHMudmlld09ubHkpIHJldHVybjtcblxuICAvLyBDYW5ub3QgYmUgcGFzc2l2ZSwgYmVjYXVzZSB3ZSBwcmV2ZW50IHRvdWNoIHNjcm9sbGluZyBhbmQgZHJhZ2dpbmcgb2ZcbiAgLy8gc2VsZWN0ZWQgZWxlbWVudHMuXG4gIGNvbnN0IG9uU3RhcnQgPSBzdGFydERyYWdPckRyYXcocyk7XG4gIGJvYXJkRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uU3RhcnQgYXMgRXZlbnRMaXN0ZW5lciwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICB9KTtcbiAgYm9hcmRFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvblN0YXJ0IGFzIEV2ZW50TGlzdGVuZXIsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgfSk7XG5cbiAgaWYgKHMuZGlzYWJsZUNvbnRleHRNZW51IHx8IHMuZHJhd2FibGUuZW5hYmxlZCkge1xuICAgIGJvYXJkRWwuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gIH1cbn1cblxuLy8gcmV0dXJucyB0aGUgdW5iaW5kIGZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gYmluZERvY3VtZW50KHM6IFN0YXRlLCBvblJlc2l6ZTogKCkgPT4gdm9pZCk6IGNnLlVuYmluZCB7XG4gIGNvbnN0IHVuYmluZHM6IGNnLlVuYmluZFtdID0gW107XG5cbiAgLy8gT2xkIHZlcnNpb25zIG9mIEVkZ2UgYW5kIFNhZmFyaSBkbyBub3Qgc3VwcG9ydCBSZXNpemVPYnNlcnZlci4gU2VuZFxuICAvLyBjaGVzc2dyb3VuZC5yZXNpemUgaWYgYSB1c2VyIGFjdGlvbiBoYXMgY2hhbmdlZCB0aGUgYm91bmRzIG9mIHRoZSBib2FyZC5cbiAgaWYgKCEoJ1Jlc2l6ZU9ic2VydmVyJyBpbiB3aW5kb3cpKSB1bmJpbmRzLnB1c2godW5iaW5kYWJsZShkb2N1bWVudC5ib2R5LCAnY2hlc3Nncm91bmQucmVzaXplJywgb25SZXNpemUpKTtcblxuICBpZiAoIXMudmlld09ubHkpIHtcbiAgICBjb25zdCBvbm1vdmUgPSBkcmFnT3JEcmF3KHMsIGRyYWcubW92ZSwgZHJhdy5tb3ZlKTtcbiAgICBjb25zdCBvbmVuZCA9IGRyYWdPckRyYXcocywgZHJhZy5lbmQsIGRyYXcuZW5kKTtcblxuICAgIGZvciAoY29uc3QgZXYgb2YgWyd0b3VjaG1vdmUnLCAnbW91c2Vtb3ZlJ10pIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGRvY3VtZW50LCBldiwgb25tb3ZlIGFzIEV2ZW50TGlzdGVuZXIpKTtcbiAgICBmb3IgKGNvbnN0IGV2IG9mIFsndG91Y2hlbmQnLCAnbW91c2V1cCddKSB1bmJpbmRzLnB1c2godW5iaW5kYWJsZShkb2N1bWVudCwgZXYsIG9uZW5kIGFzIEV2ZW50TGlzdGVuZXIpKTtcblxuICAgIGNvbnN0IG9uU2Nyb2xsID0gKCkgPT4gcy5kb20uYm91bmRzLmNsZWFyKCk7XG4gICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZG9jdW1lbnQsICdzY3JvbGwnLCBvblNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pKTtcbiAgICB1bmJpbmRzLnB1c2godW5iaW5kYWJsZSh3aW5kb3csICdyZXNpemUnLCBvblNjcm9sbCwgeyBwYXNzaXZlOiB0cnVlIH0pKTtcblxuICAgIGNvbnN0IHBvY2tldFRvcCA9IHMuZG9tLmVsZW1lbnRzLnBvY2tldFRvcDtcbiAgICBjb25zdCBwb2NrZXRCb3R0b20gPSBzLmRvbS5lbGVtZW50cy5wb2NrZXRCb3R0b207XG4gICAgY29uc3QgcG9ja2V0U3RhcnQgPSBzdGFydERyYWdPckRyYXdQb2NrZXQocyk7XG4gICAgW3BvY2tldFRvcCwgcG9ja2V0Qm90dG9tXS5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmIChlbCkge1xuICAgICAgICBmb3IgKGNvbnN0IGV2IG9mIFsndG91Y2hzdGFydCcsICdtb3VzZWRvd24nXSkgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZWwsIGV2LCBwb2NrZXRTdGFydCBhcyBFdmVudExpc3RlbmVyKSk7XG4gICAgICAgIGlmIChzLmRpc2FibGVDb250ZXh0TWVudSB8fCBzLmRyYXdhYmxlLmVuYWJsZWQpXG4gICAgICAgICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZWwsICdjb250ZXh0bWVudScsIGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4gdW5iaW5kcy5mb3JFYWNoKGYgPT4gZigpKTtcbn1cblxuZnVuY3Rpb24gdW5iaW5kYWJsZShcbiAgZWw6IEV2ZW50VGFyZ2V0LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgY2FsbGJhY2s6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBBZGRFdmVudExpc3RlbmVyT3B0aW9uc1xuKTogY2cuVW5iaW5kIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgcmV0dXJuICgpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHN0YXJ0RHJhZ09yRHJhdyA9XG4gIChzOiBTdGF0ZSk6IE1vdWNoQmluZCA9PlxuICBlID0+IHtcbiAgICBpZiAocy5kcmFnZ2FibGUuY3VycmVudCkgZHJhZy5jYW5jZWwocyk7XG4gICAgZWxzZSBpZiAocy5kcmF3YWJsZS5jdXJyZW50KSBkcmF3LmNhbmNlbChzKTtcbiAgICBlbHNlIGlmIChlLnNoaWZ0S2V5IHx8IGlzUmlnaHRCdXR0b24oZSkpIHtcbiAgICAgIGlmIChzLmRyYXdhYmxlLmVuYWJsZWQpIGRyYXcuc3RhcnQocywgZSk7XG4gICAgfSBlbHNlIGlmICghcy52aWV3T25seSkge1xuICAgICAgZHJhZy5zdGFydChzLCBlKTtcbiAgICB9XG4gIH07XG5cbmNvbnN0IHN0YXJ0RHJhZ09yRHJhd1BvY2tldCA9XG4gIChzOiBTdGF0ZSk6IE1vdWNoQmluZCA9PlxuICBlID0+IHtcbiAgICBpZiAocy5kcmFnZ2FibGUuY3VycmVudCkgZHJhZy5jYW5jZWwocyk7XG4gICAgZWxzZSBpZiAocy5kcmF3YWJsZS5jdXJyZW50KSBkcmF3LmNhbmNlbChzKTtcbiAgICBlbHNlIGlmIChlLnNoaWZ0S2V5IHx8IGlzUmlnaHRCdXR0b24oZSkpIHtcbiAgICAgIGlmIChzLmRyYXdhYmxlLmVuYWJsZWQpIGRyYXcuc3RhcnQocywgZSk7XG4gICAgfSBlbHNlIGlmICghcy52aWV3T25seSkge1xuICAgICAgcG9ja2V0LmRyYWcocywgZSk7XG4gICAgfVxuICB9O1xuXG5jb25zdCBkcmFnT3JEcmF3ID1cbiAgKHM6IFN0YXRlLCB3aXRoRHJhZzogU3RhdGVNb3VjaEJpbmQsIHdpdGhEcmF3OiBTdGF0ZU1vdWNoQmluZCk6IE1vdWNoQmluZCA9PlxuICBlID0+IHtcbiAgICBpZiAocy5kcmF3YWJsZS5jdXJyZW50KSB7XG4gICAgICBpZiAocy5kcmF3YWJsZS5lbmFibGVkKSB3aXRoRHJhdyhzLCBlKTtcbiAgICB9IGVsc2UgaWYgKCFzLnZpZXdPbmx5KSB3aXRoRHJhZyhzLCBlKTtcbiAgfTtcbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0IHtcbiAga2V5MnBvcyxcbiAgcGllY2VDbGFzc2VzIGFzIHBpZWNlTmFtZU9mLFxuICBjcmVhdGVFbCxcbiAgcG9zVG9UcmFuc2xhdGUgYXMgcG9zVG9UcmFuc2xhdGVGcm9tQm91bmRzLFxuICB0cmFuc2xhdGUsXG4gIGRyb3BPcmlnT2YsXG4gIGlzS2V5LFxufSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgd2hpdGVQb3YgfSBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCB7IEFuaW1DdXJyZW50LCBBbmltVmVjdG9ycywgQW5pbVZlY3RvciwgQW5pbUZhZGluZ3MgfSBmcm9tICcuL2FuaW0uanMnO1xuaW1wb3J0IHsgRHJhZ0N1cnJlbnQgfSBmcm9tICcuL2RyYWcuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5cbnR5cGUgUGllY2VOYW1lID0gc3RyaW5nOyAvLyBgJGNvbG9yICRyb2xlYFxuXG50eXBlIFNxdWFyZUNsYXNzZXMgPSBNYXA8Y2cuS2V5LCBzdHJpbmc+O1xuXG4vLyBwb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbGljaGVzcy1vcmcvbGljaG9iaWxlL2Jsb2IvbWFzdGVyL3NyYy9jaGVzc2dyb3VuZC9yZW5kZXIudHNcbi8vIGluIGNhc2Ugb2YgYnVncywgYmxhbWUgQHZlbG9jZVxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihzOiBTdGF0ZSk6IHZvaWQge1xuICBjb25zdCBhc1doaXRlOiBib29sZWFuID0gd2hpdGVQb3YocyksXG4gICAgcG9zVG9UcmFuc2xhdGUgPSBwb3NUb1RyYW5zbGF0ZUZyb21Cb3VuZHMocy5kb20uYm91bmRzKCksIHMuZGltZW5zaW9ucyksXG4gICAgYm9hcmRFbDogSFRNTEVsZW1lbnQgPSBzLmRvbS5lbGVtZW50cy5ib2FyZCxcbiAgICBwaWVjZXM6IGNnLlBpZWNlcyA9IHMuYm9hcmRTdGF0ZS5waWVjZXMsXG4gICAgY3VyQW5pbTogQW5pbUN1cnJlbnQgfCB1bmRlZmluZWQgPSBzLmFuaW1hdGlvbi5jdXJyZW50LFxuICAgIGFuaW1zOiBBbmltVmVjdG9ycyA9IGN1ckFuaW0gPyBjdXJBbmltLnBsYW4uYW5pbXMgOiBuZXcgTWFwKCksXG4gICAgZmFkaW5nczogQW5pbUZhZGluZ3MgPSBjdXJBbmltID8gY3VyQW5pbS5wbGFuLmZhZGluZ3MgOiBuZXcgTWFwKCksXG4gICAgY3VyRHJhZzogRHJhZ0N1cnJlbnQgfCB1bmRlZmluZWQgPSBzLmRyYWdnYWJsZS5jdXJyZW50LFxuICAgIHNxdWFyZXM6IFNxdWFyZUNsYXNzZXMgPSBjb21wdXRlU3F1YXJlQ2xhc3NlcyhzKSxcbiAgICBzYW1lUGllY2VzOiBTZXQ8Y2cuS2V5PiA9IG5ldyBTZXQoKSxcbiAgICBzYW1lU3F1YXJlczogU2V0PGNnLktleT4gPSBuZXcgU2V0KCksXG4gICAgbW92ZWRQaWVjZXM6IE1hcDxQaWVjZU5hbWUsIGNnLlBpZWNlTm9kZVtdPiA9IG5ldyBNYXAoKSxcbiAgICBtb3ZlZFNxdWFyZXM6IE1hcDxzdHJpbmcsIGNnLlNxdWFyZU5vZGVbXT4gPSBuZXcgTWFwKCk7IC8vIGJ5IGNsYXNzIG5hbWVcbiAgbGV0IGs6IGNnLktleSxcbiAgICBlbDogY2cuUGllY2VOb2RlIHwgY2cuU3F1YXJlTm9kZSB8IHVuZGVmaW5lZCxcbiAgICBwaWVjZUF0S2V5OiBjZy5QaWVjZSB8IHVuZGVmaW5lZCxcbiAgICBlbFBpZWNlTmFtZTogUGllY2VOYW1lLFxuICAgIGFuaW06IEFuaW1WZWN0b3IgfCB1bmRlZmluZWQsXG4gICAgZmFkaW5nOiBjZy5QaWVjZSB8IHVuZGVmaW5lZCxcbiAgICBwTXZkc2V0OiBjZy5QaWVjZU5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgICBwTXZkOiBjZy5QaWVjZU5vZGUgfCB1bmRlZmluZWQsXG4gICAgc012ZHNldDogY2cuU3F1YXJlTm9kZVtdIHwgdW5kZWZpbmVkLFxuICAgIHNNdmQ6IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQ7XG5cbiAgLy8gd2FsayBvdmVyIGFsbCBib2FyZCBkb20gZWxlbWVudHMsIGFwcGx5IGFuaW1hdGlvbnMgYW5kIGZsYWcgbW92ZWQgcGllY2VzXG4gIGVsID0gYm9hcmRFbC5maXJzdENoaWxkIGFzIGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQ7XG4gIHdoaWxlIChlbCkge1xuICAgIGsgPSBlbC5jZ0tleTtcbiAgICBpZiAoaXNQaWVjZU5vZGUoZWwpKSB7XG4gICAgICBwaWVjZUF0S2V5ID0gcGllY2VzLmdldChrKTtcbiAgICAgIGFuaW0gPSBhbmltcy5nZXQoayk7XG4gICAgICBmYWRpbmcgPSBmYWRpbmdzLmdldChrKTtcbiAgICAgIGVsUGllY2VOYW1lID0gZWwuY2dQaWVjZTtcbiAgICAgIC8vIGlmIHBpZWNlIG5vdCBiZWluZyBkcmFnZ2VkIGFueW1vcmUsIHJlbW92ZSBkcmFnZ2luZyBzdHlsZVxuICAgICAgaWYgKGVsLmNnRHJhZ2dpbmcgJiYgKCFjdXJEcmFnIHx8IGN1ckRyYWcub3JpZyAhPT0gaykpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTtcbiAgICAgICAgdHJhbnNsYXRlKGVsLCBwb3NUb1RyYW5zbGF0ZShrZXkycG9zKGspLCBhc1doaXRlKSk7XG4gICAgICAgIGVsLmNnRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIHJlbW92ZSBmYWRpbmcgY2xhc3MgaWYgaXQgc3RpbGwgcmVtYWluc1xuICAgICAgaWYgKCFmYWRpbmcgJiYgZWwuY2dGYWRpbmcpIHtcbiAgICAgICAgZWwuY2dGYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZmFkaW5nJyk7XG4gICAgICB9XG4gICAgICAvLyB0aGVyZSBpcyBub3cgYSBwaWVjZSBhdCB0aGlzIGRvbSBrZXlcbiAgICAgIGlmIChwaWVjZUF0S2V5KSB7XG4gICAgICAgIC8vIGNvbnRpbnVlIGFuaW1hdGlvbiBpZiBhbHJlYWR5IGFuaW1hdGluZyBhbmQgc2FtZSBwaWVjZVxuICAgICAgICAvLyAob3RoZXJ3aXNlIGl0IGNvdWxkIGFuaW1hdGUgYSBjYXB0dXJlZCBwaWVjZSlcbiAgICAgICAgaWYgKGFuaW0gJiYgZWwuY2dBbmltYXRpbmcgJiYgZWxQaWVjZU5hbWUgPT09IHBpZWNlTmFtZU9mKHBpZWNlQXRLZXksIHMub3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgY29uc3QgcG9zID0ga2V5MnBvcyhrKTtcbiAgICAgICAgICBwb3NbMF0gKz0gYW5pbVsyXTtcbiAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhbmltJyk7XG4gICAgICAgICAgdHJhbnNsYXRlKGVsLCBwb3NUb1RyYW5zbGF0ZShwb3MsIGFzV2hpdGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbC5jZ0FuaW1hdGluZykge1xuICAgICAgICAgIGVsLmNnQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbScpO1xuICAgICAgICAgIHRyYW5zbGF0ZShlbCwgcG9zVG9UcmFuc2xhdGUoa2V5MnBvcyhrKSwgYXNXaGl0ZSkpO1xuICAgICAgICAgIGlmIChzLmFkZFBpZWNlWkluZGV4KSBlbC5zdHlsZS56SW5kZXggPSBwb3NaSW5kZXgoa2V5MnBvcyhrKSwgYXNXaGl0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2FtZSBwaWVjZTogZmxhZyBhcyBzYW1lXG4gICAgICAgIGlmIChlbFBpZWNlTmFtZSA9PT0gcGllY2VOYW1lT2YocGllY2VBdEtleSwgcy5vcmllbnRhdGlvbikgJiYgKCFmYWRpbmcgfHwgIWVsLmNnRmFkaW5nKSkge1xuICAgICAgICAgIHNhbWVQaWVjZXMuYWRkKGspO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRpZmZlcmVudCBwaWVjZTogZmxhZyBhcyBtb3ZlZCB1bmxlc3MgaXQgaXMgYSBmYWRpbmcgcGllY2VcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGZhZGluZyAmJiBlbFBpZWNlTmFtZSA9PT0gcGllY2VOYW1lT2YoZmFkaW5nLCBzLm9yaWVudGF0aW9uKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmFkaW5nJyk7XG4gICAgICAgICAgICBlbC5jZ0ZhZGluZyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcGVuZFZhbHVlKG1vdmVkUGllY2VzLCBlbFBpZWNlTmFtZSwgZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gbm8gcGllY2U6IGZsYWcgYXMgbW92ZWRcbiAgICAgIGVsc2Uge1xuICAgICAgICBhcHBlbmRWYWx1ZShtb3ZlZFBpZWNlcywgZWxQaWVjZU5hbWUsIGVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzU3F1YXJlTm9kZShlbCkpIHtcbiAgICAgIGNvbnN0IGNuID0gZWwuY2xhc3NOYW1lO1xuICAgICAgaWYgKHNxdWFyZXMuZ2V0KGspID09PSBjbikgc2FtZVNxdWFyZXMuYWRkKGspO1xuICAgICAgZWxzZSBhcHBlbmRWYWx1ZShtb3ZlZFNxdWFyZXMsIGNuLCBlbCk7XG4gICAgfVxuICAgIGVsID0gZWwubmV4dFNpYmxpbmcgYXMgY2cuUGllY2VOb2RlIHwgY2cuU3F1YXJlTm9kZSB8IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIHdhbGsgb3ZlciBhbGwgc3F1YXJlcyBpbiBjdXJyZW50IHNldCwgYXBwbHkgZG9tIGNoYW5nZXMgdG8gbW92ZWQgc3F1YXJlc1xuICAvLyBvciBhcHBlbmQgbmV3IHNxdWFyZXNcbiAgZm9yIChjb25zdCBbc2ssIGNsYXNzTmFtZV0gb2Ygc3F1YXJlcykge1xuICAgIGlmICghc2FtZVNxdWFyZXMuaGFzKHNrKSkge1xuICAgICAgc012ZHNldCA9IG1vdmVkU3F1YXJlcy5nZXQoY2xhc3NOYW1lKTtcbiAgICAgIHNNdmQgPSBzTXZkc2V0ICYmIHNNdmRzZXQucG9wKCk7XG4gICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHBvc1RvVHJhbnNsYXRlKGtleTJwb3Moc2spLCBhc1doaXRlKTtcbiAgICAgIGlmIChzTXZkKSB7XG4gICAgICAgIHNNdmQuY2dLZXkgPSBzaztcbiAgICAgICAgdHJhbnNsYXRlKHNNdmQsIHRyYW5zbGF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNxdWFyZU5vZGUgPSBjcmVhdGVFbCgnc3F1YXJlJywgY2xhc3NOYW1lKSBhcyBjZy5TcXVhcmVOb2RlO1xuICAgICAgICBzcXVhcmVOb2RlLmNnS2V5ID0gc2s7XG4gICAgICAgIHRyYW5zbGF0ZShzcXVhcmVOb2RlLCB0cmFuc2xhdGlvbik7XG4gICAgICAgIGJvYXJkRWwuaW5zZXJ0QmVmb3JlKHNxdWFyZU5vZGUsIGJvYXJkRWwuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gd2FsayBvdmVyIGFsbCBwaWVjZXMgaW4gY3VycmVudCBzZXQsIGFwcGx5IGRvbSBjaGFuZ2VzIHRvIG1vdmVkIHBpZWNlc1xuICAvLyBvciBhcHBlbmQgbmV3IHBpZWNlc1xuICBmb3IgKGNvbnN0IFtrLCBwXSBvZiBwaWVjZXMpIHtcbiAgICBhbmltID0gYW5pbXMuZ2V0KGspO1xuICAgIGlmICghc2FtZVBpZWNlcy5oYXMoaykpIHtcbiAgICAgIHBNdmRzZXQgPSBtb3ZlZFBpZWNlcy5nZXQocGllY2VOYW1lT2YocCwgcy5vcmllbnRhdGlvbikpO1xuICAgICAgcE12ZCA9IHBNdmRzZXQgJiYgcE12ZHNldC5wb3AoKTtcbiAgICAgIC8vIGEgc2FtZSBwaWVjZSB3YXMgbW92ZWRcbiAgICAgIGlmIChwTXZkKSB7XG4gICAgICAgIC8vIGFwcGx5IGRvbSBjaGFuZ2VzXG4gICAgICAgIHBNdmQuY2dLZXkgPSBrO1xuICAgICAgICBpZiAocE12ZC5jZ0ZhZGluZykge1xuICAgICAgICAgIHBNdmQuY2xhc3NMaXN0LnJlbW92ZSgnZmFkaW5nJyk7XG4gICAgICAgICAgcE12ZC5jZ0ZhZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvcyA9IGtleTJwb3Moayk7XG4gICAgICAgIGlmIChzLmFkZFBpZWNlWkluZGV4KSBwTXZkLnN0eWxlLnpJbmRleCA9IHBvc1pJbmRleChwb3MsIGFzV2hpdGUpO1xuICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgIHBNdmQuY2dBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHBNdmQuY2xhc3NMaXN0LmFkZCgnYW5pbScpO1xuICAgICAgICAgIHBvc1swXSArPSBhbmltWzJdO1xuICAgICAgICAgIHBvc1sxXSArPSBhbmltWzNdO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zbGF0ZShwTXZkLCBwb3NUb1RyYW5zbGF0ZShwb3MsIGFzV2hpdGUpKTtcbiAgICAgIH1cbiAgICAgIC8vIG5vIHBpZWNlIGluIG1vdmVkIG9iajogaW5zZXJ0IHRoZSBuZXcgcGllY2VcbiAgICAgIC8vIGFzc3VtZXMgdGhlIG5ldyBwaWVjZSBpcyBub3QgYmVpbmcgZHJhZ2dlZFxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHBpZWNlTmFtZSA9IHBpZWNlTmFtZU9mKHAsIHMub3JpZW50YXRpb24pLFxuICAgICAgICAgIHBpZWNlTm9kZSA9IGNyZWF0ZUVsKCdwaWVjZScsIHBpZWNlTmFtZSkgYXMgY2cuUGllY2VOb2RlLFxuICAgICAgICAgIHBvcyA9IGtleTJwb3Moayk7XG5cbiAgICAgICAgcGllY2VOb2RlLmNnUGllY2UgPSBwaWVjZU5hbWU7XG4gICAgICAgIHBpZWNlTm9kZS5jZ0tleSA9IGs7XG4gICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgcGllY2VOb2RlLmNnQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBwb3NbMF0gKz0gYW5pbVsyXTtcbiAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2xhdGUocGllY2VOb2RlLCBwb3NUb1RyYW5zbGF0ZShwb3MsIGFzV2hpdGUpKTtcblxuICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleCkgcGllY2VOb2RlLnN0eWxlLnpJbmRleCA9IHBvc1pJbmRleChwb3MsIGFzV2hpdGUpO1xuXG4gICAgICAgIGJvYXJkRWwuYXBwZW5kQ2hpbGQocGllY2VOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyByZW1vdmUgYW55IGVsZW1lbnQgdGhhdCByZW1haW5zIGluIHRoZSBtb3ZlZCBzZXRzXG4gIGZvciAoY29uc3Qgbm9kZXMgb2YgbW92ZWRQaWVjZXMudmFsdWVzKCkpIHJlbW92ZU5vZGVzKHMsIG5vZGVzKTtcbiAgZm9yIChjb25zdCBub2RlcyBvZiBtb3ZlZFNxdWFyZXMudmFsdWVzKCkpIHJlbW92ZU5vZGVzKHMsIG5vZGVzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclJlc2l6ZWQoczogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgYXNXaGl0ZTogYm9vbGVhbiA9IHdoaXRlUG92KHMpLFxuICAgIHBvc1RvVHJhbnNsYXRlID0gcG9zVG9UcmFuc2xhdGVGcm9tQm91bmRzKHMuZG9tLmJvdW5kcygpLCBzLmRpbWVuc2lvbnMpO1xuICBsZXQgZWwgPSBzLmRvbS5lbGVtZW50cy5ib2FyZC5maXJzdENoaWxkIGFzIGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQ7XG4gIHdoaWxlIChlbCkge1xuICAgIGlmICgoaXNQaWVjZU5vZGUoZWwpICYmICFlbC5jZ0FuaW1hdGluZykgfHwgaXNTcXVhcmVOb2RlKGVsKSkge1xuICAgICAgdHJhbnNsYXRlKGVsLCBwb3NUb1RyYW5zbGF0ZShrZXkycG9zKGVsLmNnS2V5KSwgYXNXaGl0ZSkpO1xuICAgIH1cbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nIGFzIGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUJvdW5kcyhzOiBTdGF0ZSk6IHZvaWQge1xuICBjb25zdCBib3VuZHMgPSBzLmRvbS5lbGVtZW50cy53cmFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb250YWluZXIgPSBzLmRvbS5lbGVtZW50cy5jb250YWluZXI7XG4gIGNvbnN0IHJhdGlvID0gYm91bmRzLmhlaWdodCAvIGJvdW5kcy53aWR0aDtcbiAgY29uc3Qgd2lkdGggPVxuICAgIChNYXRoLmZsb29yKChib3VuZHMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykgLyBzLmRpbWVuc2lvbnMud2lkdGgpICogcy5kaW1lbnNpb25zLndpZHRoKSAvXG4gICAgd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gIGNvbnN0IGhlaWdodCA9IHdpZHRoICogcmF0aW87XG4gIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gIHMuZG9tLmJvdW5kcy5jbGVhcigpO1xuXG4gIHMuYWRkRGltZW5zaW9uc0Nzc1ZhcnNUbz8uc3R5bGUuc2V0UHJvcGVydHkoJy0tY2ctd2lkdGgnLCB3aWR0aCArICdweCcpO1xuICBzLmFkZERpbWVuc2lvbnNDc3NWYXJzVG8/LnN0eWxlLnNldFByb3BlcnR5KCctLWNnLWhlaWdodCcsIGhlaWdodCArICdweCcpO1xuICBzLmRvbS5lbGVtZW50cy5wb2NrZXRUb3A/LnN0eWxlLnNldFByb3BlcnR5KCctLWNnLXdpZHRoJywgd2lkdGggKyAncHgnKTtcbiAgcy5kb20uZWxlbWVudHMucG9ja2V0VG9wPy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jZy1oZWlnaHQnLCBoZWlnaHQgKyAncHgnKTtcbiAgcy5kb20uZWxlbWVudHMucG9ja2V0Qm90dG9tPy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jZy13aWR0aCcsIHdpZHRoICsgJ3B4Jyk7XG4gIHMuZG9tLmVsZW1lbnRzLnBvY2tldEJvdHRvbT8uc3R5bGUuc2V0UHJvcGVydHkoJy0tY2ctaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4Jyk7XG59XG5cbmNvbnN0IGlzUGllY2VOb2RlID0gKGVsOiBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlKTogZWwgaXMgY2cuUGllY2VOb2RlID0+IGVsLnRhZ05hbWUgPT09ICdQSUVDRSc7XG5jb25zdCBpc1NxdWFyZU5vZGUgPSAoZWw6IGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUpOiBlbCBpcyBjZy5TcXVhcmVOb2RlID0+IGVsLnRhZ05hbWUgPT09ICdTUVVBUkUnO1xuXG5mdW5jdGlvbiByZW1vdmVOb2RlcyhzOiBTdGF0ZSwgbm9kZXM6IEhUTUxFbGVtZW50W10pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSBzLmRvbS5lbGVtZW50cy5ib2FyZC5yZW1vdmVDaGlsZChub2RlKTtcbn1cblxuZnVuY3Rpb24gcG9zWkluZGV4KHBvczogY2cuUG9zLCBhc1doaXRlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgY29uc3QgbWluWiA9IDM7XG4gIGNvbnN0IHJhbmsgPSBwb3NbMV07XG4gIGNvbnN0IHogPSBhc1doaXRlID8gbWluWiArIDcgLSByYW5rIDogbWluWiArIHJhbms7XG5cbiAgcmV0dXJuIGAke3p9YDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVNxdWFyZUNsYXNzZXMoczogU3RhdGUpOiBTcXVhcmVDbGFzc2VzIHtcbiAgY29uc3Qgc3F1YXJlczogU3F1YXJlQ2xhc3NlcyA9IG5ldyBNYXAoKTtcbiAgaWYgKHMubGFzdE1vdmUgJiYgcy5oaWdobGlnaHQubGFzdE1vdmUpXG4gICAgZm9yIChjb25zdCBrIG9mIHMubGFzdE1vdmUpIHtcbiAgICAgIGlmIChpc0tleShrKSAmJiBrICE9PSAnYTAnKSBhZGRTcXVhcmUoc3F1YXJlcywgaywgJ2xhc3QtbW92ZScpO1xuICAgIH1cbiAgaWYgKHMuY2hlY2sgJiYgcy5oaWdobGlnaHQuY2hlY2spIGFkZFNxdWFyZShzcXVhcmVzLCBzLmNoZWNrLCAnY2hlY2snKTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBzLnNlbGVjdGFibGUuc2VsZWN0ZWQ7XG4gIGlmIChzZWxlY3RlZCkge1xuICAgIGlmIChpc0tleShzZWxlY3RlZCkpIGFkZFNxdWFyZShzcXVhcmVzLCBzZWxlY3RlZCwgJ3NlbGVjdGVkJyk7XG4gICAgaWYgKHMubW92YWJsZS5zaG93RGVzdHMpIHtcbiAgICAgIGNvbnN0IGRlc3RzID0gcy5tb3ZhYmxlLmRlc3RzPy5nZXQoaXNLZXkoc2VsZWN0ZWQpID8gc2VsZWN0ZWQgOiBkcm9wT3JpZ09mKHNlbGVjdGVkLnJvbGUpKTtcbiAgICAgIGlmIChkZXN0cylcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIGRlc3RzKSB7XG4gICAgICAgICAgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdtb3ZlLWRlc3QnICsgKHMuYm9hcmRTdGF0ZS5waWVjZXMuaGFzKGspID8gJyBvYycgOiAnJykpO1xuICAgICAgICB9XG4gICAgICBjb25zdCBwRGVzdHMgPSBzLnByZW1vdmFibGUuZGVzdHM7XG4gICAgICBpZiAocERlc3RzKVxuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgcERlc3RzKSB7XG4gICAgICAgICAgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdwcmVtb3ZlLWRlc3QnICsgKHMuYm9hcmRTdGF0ZS5waWVjZXMuaGFzKGspID8gJyBvYycgOiAnJykpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHByZW1vdmUgPSBzLnByZW1vdmFibGUuY3VycmVudDtcbiAgaWYgKHByZW1vdmUpIGZvciAoY29uc3QgayBvZiBwcmVtb3ZlKSBpZiAoaXNLZXkoaykpIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnY3VycmVudC1wcmVtb3ZlJyk7XG5cbiAgY29uc3QgbyA9IHMuZXhwbG9kaW5nO1xuICBpZiAobykgZm9yIChjb25zdCBrIG9mIG8ua2V5cykgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdleHBsb2RpbmcnICsgby5zdGFnZSk7XG5cbiAgcmV0dXJuIHNxdWFyZXM7XG59XG5cbmZ1bmN0aW9uIGFkZFNxdWFyZShzcXVhcmVzOiBTcXVhcmVDbGFzc2VzLCBrZXk6IGNnLktleSwga2xhc3M6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBjbGFzc2VzID0gc3F1YXJlcy5nZXQoa2V5KTtcbiAgaWYgKGNsYXNzZXMpIHNxdWFyZXMuc2V0KGtleSwgYCR7Y2xhc3Nlc30gJHtrbGFzc31gKTtcbiAgZWxzZSBzcXVhcmVzLnNldChrZXksIGtsYXNzKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kVmFsdWU8SywgVj4obWFwOiBNYXA8SywgVltdPiwga2V5OiBLLCB2YWx1ZTogVik6IHZvaWQge1xuICBjb25zdCBhcnIgPSBtYXAuZ2V0KGtleSk7XG4gIGlmIChhcnIpIGFyci5wdXNoKHZhbHVlKTtcbiAgZWxzZSBtYXAuc2V0KGtleSwgW3ZhbHVlXSk7XG59XG4iLCAiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCB7XG4gIGtleTJwb3MsXG4gIGNyZWF0ZUVsLFxuICBwb3NUb1RyYW5zbGF0ZSBhcyBwb3NUb1RyYW5zbGF0ZUZyb21Cb3VuZHMsXG4gIHRyYW5zbGF0ZUFuZFNjYWxlLFxuICBwaWVjZUNsYXNzZXMgYXMgcGllY2VOYW1lT2YsXG59IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyB3aGl0ZVBvdiB9IGZyb20gJy4vYm9hcmQuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBEcmF3U2hhcGUgfSBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0IHsgU3luY2FibGVTaGFwZSwgSGFzaCwgc3luY1NoYXBlcyB9IGZyb20gJy4vc3luYy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoc3RhdGU6IFN0YXRlLCBhdXRvUGllY2VFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3QgYXV0b1BpZWNlcyA9IHN0YXRlLmRyYXdhYmxlLmF1dG9TaGFwZXMuZmlsdGVyKGF1dG9TaGFwZSA9PiBhdXRvU2hhcGUucGllY2UpO1xuICBjb25zdCBhdXRvUGllY2VTaGFwZXM6IFN5bmNhYmxlU2hhcGVbXSA9IGF1dG9QaWVjZXMubWFwKChzOiBEcmF3U2hhcGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hhcGU6IHMsXG4gICAgICBoYXNoOiBoYXNoKHMpLFxuICAgICAgY3VycmVudDogZmFsc2UsXG4gICAgfTtcbiAgfSk7XG5cbiAgc3luY1NoYXBlcyhhdXRvUGllY2VTaGFwZXMsIGF1dG9QaWVjZUVsLCBzaGFwZSA9PiByZW5kZXJTaGFwZShzdGF0ZSwgc2hhcGUsIHN0YXRlLmRvbS5ib3VuZHMoKSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyUmVzaXplZChzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgYXNXaGl0ZTogYm9vbGVhbiA9IHdoaXRlUG92KHN0YXRlKSxcbiAgICBwb3NUb1RyYW5zbGF0ZSA9IHBvc1RvVHJhbnNsYXRlRnJvbUJvdW5kcyhzdGF0ZS5kb20uYm91bmRzKCksIHN0YXRlLmRpbWVuc2lvbnMpO1xuICBsZXQgZWwgPSBzdGF0ZS5kb20uZWxlbWVudHMuYXV0b1BpZWNlcz8uZmlyc3RDaGlsZCBhcyBjZy5QaWVjZU5vZGUgfCB1bmRlZmluZWQ7XG4gIHdoaWxlIChlbCkge1xuICAgIHRyYW5zbGF0ZUFuZFNjYWxlKGVsLCBwb3NUb1RyYW5zbGF0ZShrZXkycG9zKGVsLmNnS2V5KSwgYXNXaGl0ZSksIGVsLmNnU2NhbGUpO1xuICAgIGVsID0gZWwubmV4dFNpYmxpbmcgYXMgY2cuUGllY2VOb2RlIHwgdW5kZWZpbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNoYXBlKHN0YXRlOiBTdGF0ZSwgeyBzaGFwZSwgaGFzaCB9OiBTeW5jYWJsZVNoYXBlLCBib3VuZHM6IENsaWVudFJlY3QpOiBjZy5QaWVjZU5vZGUge1xuICBpZiAoc2hhcGUucGllY2UpIHtcbiAgICBjb25zdCBvcmlnID0gc2hhcGUub3JpZztcbiAgICBjb25zdCBzY2FsZSA9IHNoYXBlLnBpZWNlLnNjYWxlO1xuXG4gICAgY29uc3QgcGllY2VFbCA9IGNyZWF0ZUVsKCdwaWVjZScsIHBpZWNlTmFtZU9mKHNoYXBlLnBpZWNlLCBzdGF0ZS5vcmllbnRhdGlvbikpIGFzIGNnLlBpZWNlTm9kZTtcbiAgICBwaWVjZUVsLnNldEF0dHJpYnV0ZSgnY2dIYXNoJywgaGFzaCk7XG4gICAgcGllY2VFbC5jZ0tleSA9IG9yaWc7XG4gICAgcGllY2VFbC5jZ1NjYWxlID0gc2NhbGU7XG4gICAgdHJhbnNsYXRlQW5kU2NhbGUoXG4gICAgICBwaWVjZUVsLFxuICAgICAgcG9zVG9UcmFuc2xhdGVGcm9tQm91bmRzKGJvdW5kcywgc3RhdGUuZGltZW5zaW9ucykoa2V5MnBvcyhvcmlnKSwgd2hpdGVQb3Yoc3RhdGUpKSxcbiAgICAgIHNjYWxlXG4gICAgKTtcblxuICAgIHJldHVybiBwaWVjZUVsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVFbCgncGllY2UnLCAnJykgYXMgY2cuUGllY2VOb2RlO1xuICB9XG59XG5cbmNvbnN0IGhhc2ggPSAoYXV0b1BpZWNlOiBEcmF3U2hhcGUpOiBIYXNoID0+XG4gIFthdXRvUGllY2Uub3JpZywgYXV0b1BpZWNlLnBpZWNlPy5yb2xlLCBhdXRvUGllY2UucGllY2U/LmNvbG9yLCBhdXRvUGllY2UucGllY2U/LnNjYWxlXS5qb2luKCcsJyk7XG4iLCAiaW1wb3J0IHsgQXBpLCBzdGFydCB9IGZyb20gJy4vYXBpLmpzJztcbmltcG9ydCB7IENvbmZpZywgY29uZmlndXJlIH0gZnJvbSAnLi9jb25maWcuanMnO1xuaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSwgU3RhdGUsIGRlZmF1bHRzIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5cbmltcG9ydCB7IHJlbmRlcldyYXAgfSBmcm9tICcuL3dyYXAuanMnO1xuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHJlbmRlciwgcmVuZGVyUmVzaXplZCwgdXBkYXRlQm91bmRzIH0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0ICogYXMgYXV0b1BpZWNlcyBmcm9tICcuL2F1dG9QaWVjZXMuanMnO1xuaW1wb3J0ICogYXMgc3ZnIGZyb20gJy4vc3ZnLmpzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IHJlbmRlclBvY2tldHMsIHJlbmRlclBvY2tldHNJbml0aWFsIH0gZnJvbSAnLi9wb2NrZXQuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hlc3Nncm91bmQoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBjb25maWc/OiBDb25maWcsXG4gIHBvY2tldFRvcD86IEhUTUxFbGVtZW50LFxuICBwb2NrZXRCb3R0b20/OiBIVE1MRWxlbWVudFxuKTogQXBpIHtcbiAgY29uc3QgbWF5YmVTdGF0ZTogU3RhdGUgfCBIZWFkbGVzc1N0YXRlID0gZGVmYXVsdHMoKTtcbiAgY29uZmlndXJlKG1heWJlU3RhdGUsIGNvbmZpZyB8fCB7fSk7XG5cbiAgZnVuY3Rpb24gcmVkcmF3QWxsKCk6IFN0YXRlIHtcbiAgICBjb25zdCBwcmV2VW5iaW5kID0gJ2RvbScgaW4gbWF5YmVTdGF0ZSA/IG1heWJlU3RhdGUuZG9tLnVuYmluZCA6IHVuZGVmaW5lZDtcbiAgICAvLyBjb21wdXRlIGJvdW5kcyBmcm9tIGV4aXN0aW5nIGJvYXJkIGVsZW1lbnQgaWYgcG9zc2libGVcbiAgICAvLyB0aGlzIGFsbG93cyBub24tc3F1YXJlIGJvYXJkcyBmcm9tIENTUyB0byBiZSBoYW5kbGVkIChmb3IgM0QpXG4gICAgY29uc3QgZWxlbWVudHMgPSByZW5kZXJXcmFwKGVsZW1lbnQsIG1heWJlU3RhdGUpLFxuICAgICAgYm91bmRzID0gdXRpbC5tZW1vKCgpID0+IGVsZW1lbnRzLmJvYXJkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgIHJlZHJhd05vdyA9IChza2lwU3ZnPzogYm9vbGVhbik6IHZvaWQgPT4ge1xuICAgICAgICByZW5kZXIoc3RhdGUpO1xuICAgICAgICByZW5kZXJQb2NrZXRzKHN0YXRlKTtcbiAgICAgICAgaWYgKGVsZW1lbnRzLmF1dG9QaWVjZXMpIGF1dG9QaWVjZXMucmVuZGVyKHN0YXRlLCBlbGVtZW50cy5hdXRvUGllY2VzKTtcbiAgICAgICAgaWYgKCFza2lwU3ZnICYmIGVsZW1lbnRzLnN2Zykgc3ZnLnJlbmRlclN2ZyhzdGF0ZSwgZWxlbWVudHMuc3ZnLCBlbGVtZW50cy5jdXN0b21TdmchKTtcbiAgICAgIH0sXG4gICAgICBvblJlc2l6ZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgdXBkYXRlQm91bmRzKHN0YXRlKTtcbiAgICAgICAgcmVuZGVyUmVzaXplZChzdGF0ZSk7XG4gICAgICAgIGlmIChlbGVtZW50cy5hdXRvUGllY2VzKSBhdXRvUGllY2VzLnJlbmRlclJlc2l6ZWQoc3RhdGUpO1xuICAgICAgfTtcbiAgICBpZiAoZWxlbWVudHMucG9ja2V0VG9wKSBwb2NrZXRUb3AgPSBlbGVtZW50cy5wb2NrZXRUb3A7XG4gICAgaWYgKGVsZW1lbnRzLnBvY2tldEJvdHRvbSkgcG9ja2V0Qm90dG9tID0gZWxlbWVudHMucG9ja2V0Qm90dG9tO1xuICAgIHJlbmRlclBvY2tldHNJbml0aWFsKG1heWJlU3RhdGUsIGVsZW1lbnRzLCBwb2NrZXRUb3AsIHBvY2tldEJvdHRvbSk7XG4gICAgY29uc3Qgc3RhdGUgPSBtYXliZVN0YXRlIGFzIFN0YXRlO1xuICAgIHN0YXRlLmRvbSA9IHtcbiAgICAgIGVsZW1lbnRzLFxuICAgICAgYm91bmRzLFxuICAgICAgcmVkcmF3OiBkZWJvdW5jZVJlZHJhdyhyZWRyYXdOb3cpLFxuICAgICAgcmVkcmF3Tm93LFxuICAgICAgdW5iaW5kOiBwcmV2VW5iaW5kLFxuICAgIH07XG4gICAgc3RhdGUuZHJhd2FibGUucHJldlN2Z0hhc2ggPSAnJztcbiAgICB1cGRhdGVCb3VuZHMoc3RhdGUpO1xuICAgIHJlZHJhd05vdyhmYWxzZSk7XG4gICAgZXZlbnRzLmJpbmRCb2FyZChzdGF0ZSwgb25SZXNpemUpO1xuICAgIGlmICghcHJldlVuYmluZCkgc3RhdGUuZG9tLnVuYmluZCA9IGV2ZW50cy5iaW5kRG9jdW1lbnQoc3RhdGUsIG9uUmVzaXplKTtcbiAgICBzdGF0ZS5ldmVudHMuaW5zZXJ0ICYmIHN0YXRlLmV2ZW50cy5pbnNlcnQoZWxlbWVudHMpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHJldHVybiBzdGFydChyZWRyYXdBbGwoKSwgcmVkcmF3QWxsKTtcbn1cblxuZnVuY3Rpb24gZGVib3VuY2VSZWRyYXcocmVkcmF3Tm93OiAoc2tpcFN2Zz86IGJvb2xlYW4pID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgbGV0IHJlZHJhd2luZyA9IGZhbHNlO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChyZWRyYXdpbmcpIHJldHVybjtcbiAgICByZWRyYXdpbmcgPSB0cnVlO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICByZWRyYXdOb3coKTtcbiAgICAgIHJlZHJhd2luZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9O1xufVxuIiwgIlxudmFyIE1vZHVsZSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIF9zY3JpcHREaXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyA6IHVuZGVmaW5lZDtcbiAgXG4gIHJldHVybiAoXG5mdW5jdGlvbihNb2R1bGUpIHtcbiAgTW9kdWxlID0gTW9kdWxlIHx8IHt9O1xuXG52YXIgTW9kdWxlPXR5cGVvZiBNb2R1bGUhPT1cInVuZGVmaW5lZFwiP01vZHVsZTp7fTt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7TW9kdWxlW1wicmVhZHlcIl09bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlYWR5UHJvbWlzZVJlc29sdmU9cmVzb2x2ZTtyZWFkeVByb21pc2VSZWplY3Q9cmVqZWN0fSk7dmFyIG1vZHVsZU92ZXJyaWRlcz17fTt2YXIga2V5O2ZvcihrZXkgaW4gTW9kdWxlKXtpZihNb2R1bGUuaGFzT3duUHJvcGVydHkoa2V5KSl7bW9kdWxlT3ZlcnJpZGVzW2tleV09TW9kdWxlW2tleV19fXZhciBhcmd1bWVudHNfPVtdO3ZhciB0aGlzUHJvZ3JhbT1cIi4vdGhpcy5wcm9ncmFtXCI7dmFyIHF1aXRfPWZ1bmN0aW9uKHN0YXR1cyx0b1Rocm93KXt0aHJvdyB0b1Rocm93fTt2YXIgRU5WSVJPTk1FTlRfSVNfV0VCPXR5cGVvZiB3aW5kb3c9PT1cIm9iamVjdFwiO3ZhciBFTlZJUk9OTUVOVF9JU19XT1JLRVI9dHlwZW9mIGltcG9ydFNjcmlwdHM9PT1cImZ1bmN0aW9uXCI7dmFyIEVOVklST05NRU5UX0lTX05PREU9dHlwZW9mIHByb2Nlc3M9PT1cIm9iamVjdFwiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09PVwib2JqZWN0XCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PT1cInN0cmluZ1wiO3ZhciBzY3JpcHREaXJlY3Rvcnk9XCJcIjtmdW5jdGlvbiBsb2NhdGVGaWxlKHBhdGgpe2lmKE1vZHVsZVtcImxvY2F0ZUZpbGVcIl0pe3JldHVybiBNb2R1bGVbXCJsb2NhdGVGaWxlXCJdKHBhdGgsc2NyaXB0RGlyZWN0b3J5KX1yZXR1cm4gc2NyaXB0RGlyZWN0b3J5K3BhdGh9dmFyIHJlYWRfLHJlYWRBc3luYyxyZWFkQmluYXJ5LHNldFdpbmRvd1RpdGxlO2lmKEVOVklST05NRU5UX0lTX1dFQnx8RU5WSVJPTk1FTlRfSVNfV09SS0VSKXtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3NjcmlwdERpcmVjdG9yeT1zZWxmLmxvY2F0aW9uLmhyZWZ9ZWxzZSBpZih0eXBlb2YgZG9jdW1lbnQhPT1cInVuZGVmaW5lZFwiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0KXtzY3JpcHREaXJlY3Rvcnk9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmN9aWYoX3NjcmlwdERpcil7c2NyaXB0RGlyZWN0b3J5PV9zY3JpcHREaXJ9aWYoc2NyaXB0RGlyZWN0b3J5LmluZGV4T2YoXCJibG9iOlwiKSE9PTApe3NjcmlwdERpcmVjdG9yeT1zY3JpcHREaXJlY3Rvcnkuc3Vic3RyKDAsc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sXCJcIikubGFzdEluZGV4T2YoXCIvXCIpKzEpfWVsc2V7c2NyaXB0RGlyZWN0b3J5PVwiXCJ9e3JlYWRfPWZ1bmN0aW9uKHVybCl7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsZmFsc2UpO3hoci5zZW5kKG51bGwpO3JldHVybiB4aHIucmVzcG9uc2VUZXh0fTtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3JlYWRCaW5hcnk9ZnVuY3Rpb24odXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbihcIkdFVFwiLHVybCxmYWxzZSk7eGhyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7eGhyLnNlbmQobnVsbCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZSl9fXJlYWRBc3luYz1mdW5jdGlvbih1cmwsb25sb2FkLG9uZXJyb3Ipe3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKFwiR0VUXCIsdXJsLHRydWUpO3hoci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO3hoci5vbmxvYWQ9ZnVuY3Rpb24oKXtpZih4aHIuc3RhdHVzPT0yMDB8fHhoci5zdGF0dXM9PTAmJnhoci5yZXNwb25zZSl7b25sb2FkKHhoci5yZXNwb25zZSk7cmV0dXJufW9uZXJyb3IoKX07eGhyLm9uZXJyb3I9b25lcnJvcjt4aHIuc2VuZChudWxsKX19c2V0V2luZG93VGl0bGU9ZnVuY3Rpb24odGl0bGUpe2RvY3VtZW50LnRpdGxlPXRpdGxlfX1lbHNle312YXIgb3V0PU1vZHVsZVtcInByaW50XCJdfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO3ZhciBlcnI9TW9kdWxlW1wicHJpbnRFcnJcIl18fGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO2ZvcihrZXkgaW4gbW9kdWxlT3ZlcnJpZGVzKXtpZihtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSl7TW9kdWxlW2tleV09bW9kdWxlT3ZlcnJpZGVzW2tleV19fW1vZHVsZU92ZXJyaWRlcz1udWxsO2lmKE1vZHVsZVtcImFyZ3VtZW50c1wiXSlhcmd1bWVudHNfPU1vZHVsZVtcImFyZ3VtZW50c1wiXTtpZihNb2R1bGVbXCJ0aGlzUHJvZ3JhbVwiXSl0aGlzUHJvZ3JhbT1Nb2R1bGVbXCJ0aGlzUHJvZ3JhbVwiXTtpZihNb2R1bGVbXCJxdWl0XCJdKXF1aXRfPU1vZHVsZVtcInF1aXRcIl07dmFyIHRlbXBSZXQwPTA7dmFyIHNldFRlbXBSZXQwPWZ1bmN0aW9uKHZhbHVlKXt0ZW1wUmV0MD12YWx1ZX07dmFyIHdhc21CaW5hcnk7aWYoTW9kdWxlW1wid2FzbUJpbmFyeVwiXSl3YXNtQmluYXJ5PU1vZHVsZVtcIndhc21CaW5hcnlcIl07dmFyIG5vRXhpdFJ1bnRpbWU9TW9kdWxlW1wibm9FeGl0UnVudGltZVwiXXx8dHJ1ZTtpZih0eXBlb2YgV2ViQXNzZW1ibHkhPT1cIm9iamVjdFwiKXthYm9ydChcIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWRcIil9dmFyIHdhc21NZW1vcnk7dmFyIEFCT1JUPWZhbHNlO3ZhciBFWElUU1RBVFVTO2Z1bmN0aW9uIGFzc2VydChjb25kaXRpb24sdGV4dCl7aWYoIWNvbmRpdGlvbil7YWJvcnQoXCJBc3NlcnRpb24gZmFpbGVkOiBcIit0ZXh0KX19dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9PVwidW5kZWZpbmVkXCI/bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTp1bmRlZmluZWQ7ZnVuY3Rpb24gVVRGOEFycmF5VG9TdHJpbmcoaGVhcCxpZHgsbWF4Qnl0ZXNUb1JlYWQpe3ZhciBlbmRJZHg9aWR4K21heEJ5dGVzVG9SZWFkO3ZhciBlbmRQdHI9aWR4O3doaWxlKGhlYXBbZW5kUHRyXSYmIShlbmRQdHI+PWVuZElkeCkpKytlbmRQdHI7aWYoZW5kUHRyLWlkeD4xNiYmaGVhcC5zdWJhcnJheSYmVVRGOERlY29kZXIpe3JldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcC5zdWJhcnJheShpZHgsZW5kUHRyKSl9ZWxzZXt2YXIgc3RyPVwiXCI7d2hpbGUoaWR4PGVuZFB0cil7dmFyIHUwPWhlYXBbaWR4KytdO2lmKCEodTAmMTI4KSl7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtjb250aW51ZX12YXIgdTE9aGVhcFtpZHgrK10mNjM7aWYoKHUwJjIyNCk9PTE5Mil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCh1MCYzMSk8PDZ8dTEpO2NvbnRpbnVlfXZhciB1Mj1oZWFwW2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mn1lbHNle3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fGhlYXBbaWR4KytdJjYzfWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApfWVsc2V7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9fX1yZXR1cm4gc3RyfWZ1bmN0aW9uIFVURjhUb1N0cmluZyhwdHIsbWF4Qnl0ZXNUb1JlYWQpe3JldHVybiBwdHI/VVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LHB0cixtYXhCeXRlc1RvUmVhZCk6XCJcIn1mdW5jdGlvbiBzdHJpbmdUb1VURjhBcnJheShzdHIsaGVhcCxvdXRJZHgsbWF4Qnl0ZXNUb1dyaXRlKXtpZighKG1heEJ5dGVzVG9Xcml0ZT4wKSlyZXR1cm4gMDt2YXIgc3RhcnRJZHg9b3V0SWR4O3ZhciBlbmRJZHg9b3V0SWR4K21heEJ5dGVzVG9Xcml0ZS0xO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciB1PXN0ci5jaGFyQ29kZUF0KGkpO2lmKHU+PTU1Mjk2JiZ1PD01NzM0Myl7dmFyIHUxPXN0ci5jaGFyQ29kZUF0KCsraSk7dT02NTUzNisoKHUmMTAyMyk8PDEwKXx1MSYxMDIzfWlmKHU8PTEyNyl7aWYob3V0SWR4Pj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109dX1lbHNlIGlmKHU8PTIwNDcpe2lmKG91dElkeCsxPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MTkyfHU+PjY7aGVhcFtvdXRJZHgrK109MTI4fHUmNjN9ZWxzZSBpZih1PD02NTUzNSl7aWYob3V0SWR4KzI+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yMjR8dT4+MTI7aGVhcFtvdXRJZHgrK109MTI4fHU+PjYmNjM7aGVhcFtvdXRJZHgrK109MTI4fHUmNjN9ZWxzZXtpZihvdXRJZHgrMz49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTI0MHx1Pj4xODtoZWFwW291dElkeCsrXT0xMjh8dT4+MTImNjM7aGVhcFtvdXRJZHgrK109MTI4fHU+PjYmNjM7aGVhcFtvdXRJZHgrK109MTI4fHUmNjN9fWhlYXBbb3V0SWR4XT0wO3JldHVybiBvdXRJZHgtc3RhcnRJZHh9ZnVuY3Rpb24gc3RyaW5nVG9VVEY4KHN0cixvdXRQdHIsbWF4Qnl0ZXNUb1dyaXRlKXtyZXR1cm4gc3RyaW5nVG9VVEY4QXJyYXkoc3RyLEhFQVBVOCxvdXRQdHIsbWF4Qnl0ZXNUb1dyaXRlKX1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjgoc3RyKXt2YXIgbGVuPTA7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIHU9c3RyLmNoYXJDb2RlQXQoaSk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXU9NjU1MzYrKCh1JjEwMjMpPDwxMCl8c3RyLmNoYXJDb2RlQXQoKytpKSYxMDIzO2lmKHU8PTEyNykrK2xlbjtlbHNlIGlmKHU8PTIwNDcpbGVuKz0yO2Vsc2UgaWYodTw9NjU1MzUpbGVuKz0zO2Vsc2UgbGVuKz00fXJldHVybiBsZW59dmFyIFVURjE2RGVjb2Rlcj10eXBlb2YgVGV4dERlY29kZXIhPT1cInVuZGVmaW5lZFwiP25ldyBUZXh0RGVjb2RlcihcInV0Zi0xNmxlXCIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEYxNlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXtyZXR1cm4gVVRGMTZEZWNvZGVyLmRlY29kZShIRUFQVTguc3ViYXJyYXkocHRyLGVuZFB0cikpfWVsc2V7dmFyIHN0cj1cIlwiO2Zvcih2YXIgaT0wOyEoaT49bWF4Qnl0ZXNUb1JlYWQvMik7KytpKXt2YXIgY29kZVVuaXQ9SEVBUDE2W3B0citpKjI+PjFdO2lmKGNvZGVVbml0PT0wKWJyZWFrO3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZShjb2RlVW5pdCl9cmV0dXJuIHN0cn19ZnVuY3Rpb24gc3RyaW5nVG9VVEYxNihzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7aWYobWF4Qnl0ZXNUb1dyaXRlPT09dW5kZWZpbmVkKXttYXhCeXRlc1RvV3JpdGU9MjE0NzQ4MzY0N31pZihtYXhCeXRlc1RvV3JpdGU8MilyZXR1cm4gMDttYXhCeXRlc1RvV3JpdGUtPTI7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgbnVtQ2hhcnNUb1dyaXRlPW1heEJ5dGVzVG9Xcml0ZTxzdHIubGVuZ3RoKjI/bWF4Qnl0ZXNUb1dyaXRlLzI6c3RyLmxlbmd0aDtmb3IodmFyIGk9MDtpPG51bUNoYXJzVG9Xcml0ZTsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtIRUFQMTZbb3V0UHRyPj4xXT1jb2RlVW5pdDtvdXRQdHIrPTJ9SEVBUDE2W291dFB0cj4+MV09MDtyZXR1cm4gb3V0UHRyLXN0YXJ0UHRyfWZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGMTYoc3RyKXtyZXR1cm4gc3RyLmxlbmd0aCoyfWZ1bmN0aW9uIFVURjMyVG9TdHJpbmcocHRyLG1heEJ5dGVzVG9SZWFkKXt2YXIgaT0wO3ZhciBzdHI9XCJcIjt3aGlsZSghKGk+PW1heEJ5dGVzVG9SZWFkLzQpKXt2YXIgdXRmMzI9SEVBUDMyW3B0citpKjQ+PjJdO2lmKHV0ZjMyPT0wKWJyZWFrOysraTtpZih1dGYzMj49NjU1MzYpe3ZhciBjaD11dGYzMi02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpfWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjMyKX19cmV0dXJuIHN0cn1mdW5jdGlvbiBzdHJpbmdUb1VURjMyKHN0cixvdXRQdHIsbWF4Qnl0ZXNUb1dyaXRlKXtpZihtYXhCeXRlc1RvV3JpdGU9PT11bmRlZmluZWQpe21heEJ5dGVzVG9Xcml0ZT0yMTQ3NDgzNjQ3fWlmKG1heEJ5dGVzVG9Xcml0ZTw0KXJldHVybiAwO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIGVuZFB0cj1zdGFydFB0cittYXhCeXRlc1RvV3JpdGUtNDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpe3ZhciB0cmFpbFN1cnJvZ2F0ZT1zdHIuY2hhckNvZGVBdCgrK2kpO2NvZGVVbml0PTY1NTM2KygoY29kZVVuaXQmMTAyMyk8PDEwKXx0cmFpbFN1cnJvZ2F0ZSYxMDIzfUhFQVAzMltvdXRQdHI+PjJdPWNvZGVVbml0O291dFB0cis9NDtpZihvdXRQdHIrND5lbmRQdHIpYnJlYWt9SEVBUDMyW291dFB0cj4+Ml09MDtyZXR1cm4gb3V0UHRyLXN0YXJ0UHRyfWZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGMzIoc3RyKXt2YXIgbGVuPTA7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO2lmKGNvZGVVbml0Pj01NTI5NiYmY29kZVVuaXQ8PTU3MzQzKSsraTtsZW4rPTR9cmV0dXJuIGxlbn1mdW5jdGlvbiB3cml0ZUFycmF5VG9NZW1vcnkoYXJyYXksYnVmZmVyKXtIRUFQOC5zZXQoYXJyYXksYnVmZmVyKX1mdW5jdGlvbiB3cml0ZUFzY2lpVG9NZW1vcnkoc3RyLGJ1ZmZlcixkb250QWRkTnVsbCl7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7SEVBUDhbYnVmZmVyKys+PjBdPXN0ci5jaGFyQ29kZUF0KGkpfWlmKCFkb250QWRkTnVsbClIRUFQOFtidWZmZXI+PjBdPTB9ZnVuY3Rpb24gYWxpZ25VcCh4LG11bHRpcGxlKXtpZih4JW11bHRpcGxlPjApe3grPW11bHRpcGxlLXglbXVsdGlwbGV9cmV0dXJuIHh9dmFyIGJ1ZmZlcixIRUFQOCxIRUFQVTgsSEVBUDE2LEhFQVBVMTYsSEVBUDMyLEhFQVBVMzIsSEVBUEYzMixIRUFQRjY0O2Z1bmN0aW9uIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKGJ1Zil7YnVmZmVyPWJ1ZjtNb2R1bGVbXCJIRUFQOFwiXT1IRUFQOD1uZXcgSW50OEFycmF5KGJ1Zik7TW9kdWxlW1wiSEVBUDE2XCJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShidWYpO01vZHVsZVtcIkhFQVAzMlwiXT1IRUFQMzI9bmV3IEludDMyQXJyYXkoYnVmKTtNb2R1bGVbXCJIRUFQVThcIl09SEVBUFU4PW5ldyBVaW50OEFycmF5KGJ1Zik7TW9kdWxlW1wiSEVBUFUxNlwiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShidWYpO01vZHVsZVtcIkhFQVBVMzJcIl09SEVBUFUzMj1uZXcgVWludDMyQXJyYXkoYnVmKTtNb2R1bGVbXCJIRUFQRjMyXCJdPUhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShidWYpO01vZHVsZVtcIkhFQVBGNjRcIl09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGJ1Zil9dmFyIElOSVRJQUxfTUVNT1JZPU1vZHVsZVtcIklOSVRJQUxfTUVNT1JZXCJdfHwzMzU1NDQzMjt2YXIgd2FzbVRhYmxlO3ZhciBfX0FUUFJFUlVOX189W107dmFyIF9fQVRJTklUX189W107dmFyIF9fQVRQT1NUUlVOX189W107dmFyIHJ1bnRpbWVJbml0aWFsaXplZD1mYWxzZTt2YXIgcnVudGltZUV4aXRlZD1mYWxzZTt2YXIgcnVudGltZUtlZXBhbGl2ZUNvdW50ZXI9MDtmdW5jdGlvbiBrZWVwUnVudGltZUFsaXZlKCl7cmV0dXJuIG5vRXhpdFJ1bnRpbWV8fHJ1bnRpbWVLZWVwYWxpdmVDb3VudGVyPjB9ZnVuY3Rpb24gcHJlUnVuKCl7aWYoTW9kdWxlW1wicHJlUnVuXCJdKXtpZih0eXBlb2YgTW9kdWxlW1wicHJlUnVuXCJdPT1cImZ1bmN0aW9uXCIpTW9kdWxlW1wicHJlUnVuXCJdPVtNb2R1bGVbXCJwcmVSdW5cIl1dO3doaWxlKE1vZHVsZVtcInByZVJ1blwiXS5sZW5ndGgpe2FkZE9uUHJlUnVuKE1vZHVsZVtcInByZVJ1blwiXS5zaGlmdCgpKX19Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKX1mdW5jdGlvbiBpbml0UnVudGltZSgpe3J1bnRpbWVJbml0aWFsaXplZD10cnVlO2lmKCFNb2R1bGVbXCJub0ZTSW5pdFwiXSYmIUZTLmluaXQuaW5pdGlhbGl6ZWQpRlMuaW5pdCgpO0ZTLmlnbm9yZVBlcm1pc3Npb25zPWZhbHNlO1RUWS5pbml0KCk7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVElOSVRfXyl9ZnVuY3Rpb24gZXhpdFJ1bnRpbWUoKXtydW50aW1lRXhpdGVkPXRydWV9ZnVuY3Rpb24gcG9zdFJ1bigpe2lmKE1vZHVsZVtcInBvc3RSdW5cIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwb3N0UnVuXCJdPT1cImZ1bmN0aW9uXCIpTW9kdWxlW1wicG9zdFJ1blwiXT1bTW9kdWxlW1wicG9zdFJ1blwiXV07d2hpbGUoTW9kdWxlW1wicG9zdFJ1blwiXS5sZW5ndGgpe2FkZE9uUG9zdFJ1bihNb2R1bGVbXCJwb3N0UnVuXCJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKX1mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpfWZ1bmN0aW9uIGFkZE9uSW5pdChjYil7X19BVElOSVRfXy51bnNoaWZ0KGNiKX1mdW5jdGlvbiBhZGRPblBvc3RSdW4oY2Ipe19fQVRQT1NUUlVOX18udW5zaGlmdChjYil9dmFyIHJ1bkRlcGVuZGVuY2llcz0wO3ZhciBydW5EZXBlbmRlbmN5V2F0Y2hlcj1udWxsO3ZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtmdW5jdGlvbiBnZXRVbmlxdWVSdW5EZXBlbmRlbmN5KGlkKXtyZXR1cm4gaWR9ZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzKys7aWYoTW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXSl7TW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXShydW5EZXBlbmRlbmNpZXMpfX1mdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMtLTtpZihNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKXtNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKHJ1bkRlcGVuZGVuY2llcyl9aWYocnVuRGVwZW5kZW5jaWVzPT0wKXtpZihydW5EZXBlbmRlbmN5V2F0Y2hlciE9PW51bGwpe2NsZWFySW50ZXJ2YWwocnVuRGVwZW5kZW5jeVdhdGNoZXIpO3J1bkRlcGVuZGVuY3lXYXRjaGVyPW51bGx9aWYoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKXt2YXIgY2FsbGJhY2s9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2NhbGxiYWNrKCl9fX1Nb2R1bGVbXCJwcmVsb2FkZWRJbWFnZXNcIl09e307TW9kdWxlW1wicHJlbG9hZGVkQXVkaW9zXCJdPXt9O2Z1bmN0aW9uIGFib3J0KHdoYXQpe3tpZihNb2R1bGVbXCJvbkFib3J0XCJdKXtNb2R1bGVbXCJvbkFib3J0XCJdKHdoYXQpfX13aGF0PVwiQWJvcnRlZChcIit3aGF0K1wiKVwiO2Vycih3aGF0KTtBQk9SVD10cnVlO0VYSVRTVEFUVVM9MTt3aGF0Kz1cIi4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby5cIjt2YXIgZT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHdoYXQpO3JlYWR5UHJvbWlzZVJlamVjdChlKTt0aHJvdyBlfXZhciBkYXRhVVJJUHJlZml4PVwiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LFwiO2Z1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSl7cmV0dXJuIGZpbGVuYW1lLnN0YXJ0c1dpdGgoZGF0YVVSSVByZWZpeCl9dmFyIHdhc21CaW5hcnlGaWxlO3dhc21CaW5hcnlGaWxlPVwiZmZpc2gud2FzbVwiO2lmKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKXt3YXNtQmluYXJ5RmlsZT1sb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKX1mdW5jdGlvbiBnZXRCaW5hcnkoZmlsZSl7dHJ5e2lmKGZpbGU9PXdhc21CaW5hcnlGaWxlJiZ3YXNtQmluYXJ5KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbUJpbmFyeSl9aWYocmVhZEJpbmFyeSl7cmV0dXJuIHJlYWRCaW5hcnkoZmlsZSl9ZWxzZXt0aHJvd1wiYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWRcIn19Y2F0Y2goZXJyKXthYm9ydChlcnIpfX1mdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKCl7aWYoIXdhc21CaW5hcnkmJihFTlZJUk9OTUVOVF9JU19XRUJ8fEVOVklST05NRU5UX0lTX1dPUktFUikpe2lmKHR5cGVvZiBmZXRjaD09PVwiZnVuY3Rpb25cIil7cmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLHtjcmVkZW50aWFsczpcInNhbWUtb3JpZ2luXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtpZighcmVzcG9uc2VbXCJva1wiXSl7dGhyb3dcImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJ1wiK3dhc21CaW5hcnlGaWxlK1wiJ1wifXJldHVybiByZXNwb25zZVtcImFycmF5QnVmZmVyXCJdKCl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpfSl9fXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGdldEJpbmFyeSh3YXNtQmluYXJ5RmlsZSl9KX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89e1wiYVwiOmFzbUxpYnJhcnlBcmd9O2Z1bmN0aW9uIHJlY2VpdmVJbnN0YW5jZShpbnN0YW5jZSxtb2R1bGUpe3ZhciBleHBvcnRzPWluc3RhbmNlLmV4cG9ydHM7TW9kdWxlW1wiYXNtXCJdPWV4cG9ydHM7d2FzbU1lbW9yeT1Nb2R1bGVbXCJhc21cIl1bXCJNXCJdO3VwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTt3YXNtVGFibGU9TW9kdWxlW1wiYXNtXCJdW1wiUFwiXTthZGRPbkluaXQoTW9kdWxlW1wiYXNtXCJdW1wiTlwiXSk7cmVtb3ZlUnVuRGVwZW5kZW5jeShcIndhc20taW5zdGFudGlhdGVcIil9YWRkUnVuRGVwZW5kZW5jeShcIndhc20taW5zdGFudGlhdGVcIik7ZnVuY3Rpb24gcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQocmVzdWx0KXtyZWNlaXZlSW5zdGFuY2UocmVzdWx0W1wiaW5zdGFuY2VcIl0pfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZXIpe3JldHVybiBnZXRCaW5hcnlQcm9taXNlKCkudGhlbihmdW5jdGlvbihiaW5hcnkpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksaW5mbyl9KS50aGVuKGZ1bmN0aW9uKGluc3RhbmNlKXtyZXR1cm4gaW5zdGFuY2V9KS50aGVuKHJlY2VpdmVyLGZ1bmN0aW9uKHJlYXNvbil7ZXJyKFwiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogXCIrcmVhc29uKTthYm9ydChyZWFzb24pfSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBc3luYygpe2lmKCF3YXNtQmluYXJ5JiZ0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmc9PT1cImZ1bmN0aW9uXCImJiFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpJiZ0eXBlb2YgZmV0Y2g9PT1cImZ1bmN0aW9uXCIpe3JldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7dmFyIHJlc3VsdD1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSxpbmZvKTtyZXR1cm4gcmVzdWx0LnRoZW4ocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQsZnVuY3Rpb24ocmVhc29uKXtlcnIoXCJ3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogXCIrcmVhc29uKTtlcnIoXCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvblwiKTtyZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCl9KX0pfWVsc2V7cmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpfX1pZihNb2R1bGVbXCJpbnN0YW50aWF0ZVdhc21cIl0pe3RyeXt2YXIgZXhwb3J0cz1Nb2R1bGVbXCJpbnN0YW50aWF0ZVdhc21cIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpO3JldHVybiBleHBvcnRzfWNhdGNoKGUpe2VycihcIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6IFwiK2UpO3JldHVybiBmYWxzZX19aW5zdGFudGlhdGVBc3luYygpLmNhdGNoKHJlYWR5UHJvbWlzZVJlamVjdCk7cmV0dXJue319dmFyIHRlbXBEb3VibGU7dmFyIHRlbXBJNjQ7ZnVuY3Rpb24gY2FsbFJ1bnRpbWVDYWxsYmFja3MoY2FsbGJhY2tzKXt3aGlsZShjYWxsYmFja3MubGVuZ3RoPjApe3ZhciBjYWxsYmFjaz1jYWxsYmFja3Muc2hpZnQoKTtpZih0eXBlb2YgY2FsbGJhY2s9PVwiZnVuY3Rpb25cIil7Y2FsbGJhY2soTW9kdWxlKTtjb250aW51ZX12YXIgZnVuYz1jYWxsYmFjay5mdW5jO2lmKHR5cGVvZiBmdW5jPT09XCJudW1iZXJcIil7aWYoY2FsbGJhY2suYXJnPT09dW5kZWZpbmVkKXtnZXRXYXNtVGFibGVFbnRyeShmdW5jKSgpfWVsc2V7Z2V0V2FzbVRhYmxlRW50cnkoZnVuYykoY2FsbGJhY2suYXJnKX19ZWxzZXtmdW5jKGNhbGxiYWNrLmFyZz09PXVuZGVmaW5lZD9udWxsOmNhbGxiYWNrLmFyZyl9fX12YXIgd2FzbVRhYmxlTWlycm9yPVtdO2Z1bmN0aW9uIGdldFdhc21UYWJsZUVudHJ5KGZ1bmNQdHIpe3ZhciBmdW5jPXdhc21UYWJsZU1pcnJvcltmdW5jUHRyXTtpZighZnVuYyl7aWYoZnVuY1B0cj49d2FzbVRhYmxlTWlycm9yLmxlbmd0aCl3YXNtVGFibGVNaXJyb3IubGVuZ3RoPWZ1bmNQdHIrMTt3YXNtVGFibGVNaXJyb3JbZnVuY1B0cl09ZnVuYz13YXNtVGFibGUuZ2V0KGZ1bmNQdHIpfXJldHVybiBmdW5jfWZ1bmN0aW9uIF9fX2N4YV9hbGxvY2F0ZV9leGNlcHRpb24oc2l6ZSl7cmV0dXJuIF9tYWxsb2Moc2l6ZSsxNikrMTZ9ZnVuY3Rpb24gRXhjZXB0aW9uSW5mbyhleGNQdHIpe3RoaXMuZXhjUHRyPWV4Y1B0cjt0aGlzLnB0cj1leGNQdHItMTY7dGhpcy5zZXRfdHlwZT1mdW5jdGlvbih0eXBlKXtIRUFQMzJbdGhpcy5wdHIrND4+Ml09dHlwZX07dGhpcy5nZXRfdHlwZT1mdW5jdGlvbigpe3JldHVybiBIRUFQMzJbdGhpcy5wdHIrND4+Ml19O3RoaXMuc2V0X2Rlc3RydWN0b3I9ZnVuY3Rpb24oZGVzdHJ1Y3Rvcil7SEVBUDMyW3RoaXMucHRyKzg+PjJdPWRlc3RydWN0b3J9O3RoaXMuZ2V0X2Rlc3RydWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUDMyW3RoaXMucHRyKzg+PjJdfTt0aGlzLnNldF9yZWZjb3VudD1mdW5jdGlvbihyZWZjb3VudCl7SEVBUDMyW3RoaXMucHRyPj4yXT1yZWZjb3VudH07dGhpcy5zZXRfY2F1Z2h0PWZ1bmN0aW9uKGNhdWdodCl7Y2F1Z2h0PWNhdWdodD8xOjA7SEVBUDhbdGhpcy5wdHIrMTI+PjBdPWNhdWdodH07dGhpcy5nZXRfY2F1Z2h0PWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVA4W3RoaXMucHRyKzEyPj4wXSE9MH07dGhpcy5zZXRfcmV0aHJvd249ZnVuY3Rpb24ocmV0aHJvd24pe3JldGhyb3duPXJldGhyb3duPzE6MDtIRUFQOFt0aGlzLnB0cisxMz4+MF09cmV0aHJvd259O3RoaXMuZ2V0X3JldGhyb3duPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVA4W3RoaXMucHRyKzEzPj4wXSE9MH07dGhpcy5pbml0PWZ1bmN0aW9uKHR5cGUsZGVzdHJ1Y3Rvcil7dGhpcy5zZXRfdHlwZSh0eXBlKTt0aGlzLnNldF9kZXN0cnVjdG9yKGRlc3RydWN0b3IpO3RoaXMuc2V0X3JlZmNvdW50KDApO3RoaXMuc2V0X2NhdWdodChmYWxzZSk7dGhpcy5zZXRfcmV0aHJvd24oZmFsc2UpfTt0aGlzLmFkZF9yZWY9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9SEVBUDMyW3RoaXMucHRyPj4yXTtIRUFQMzJbdGhpcy5wdHI+PjJdPXZhbHVlKzF9O3RoaXMucmVsZWFzZV9yZWY9ZnVuY3Rpb24oKXt2YXIgcHJldj1IRUFQMzJbdGhpcy5wdHI+PjJdO0hFQVAzMlt0aGlzLnB0cj4+Ml09cHJldi0xO3JldHVybiBwcmV2PT09MX19dmFyIGV4Y2VwdGlvbkxhc3Q9MDt2YXIgdW5jYXVnaHRFeGNlcHRpb25Db3VudD0wO2Z1bmN0aW9uIF9fX2N4YV90aHJvdyhwdHIsdHlwZSxkZXN0cnVjdG9yKXt2YXIgaW5mbz1uZXcgRXhjZXB0aW9uSW5mbyhwdHIpO2luZm8uaW5pdCh0eXBlLGRlc3RydWN0b3IpO2V4Y2VwdGlvbkxhc3Q9cHRyO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQrKzt0aHJvdyBwdHJ9ZnVuY3Rpb24gc2V0RXJyTm8odmFsdWUpe0hFQVAzMltfX19lcnJub19sb2NhdGlvbigpPj4yXT12YWx1ZTtyZXR1cm4gdmFsdWV9dmFyIFBBVEg9e3NwbGl0UGF0aDpmdW5jdGlvbihmaWxlbmFtZSl7dmFyIHNwbGl0UGF0aFJlPS9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO3JldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKX0sbm9ybWFsaXplQXJyYXk6ZnVuY3Rpb24ocGFydHMsYWxsb3dBYm92ZVJvb3Qpe3ZhciB1cD0wO2Zvcih2YXIgaT1wYXJ0cy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGxhc3Q9cGFydHNbaV07aWYobGFzdD09PVwiLlwiKXtwYXJ0cy5zcGxpY2UoaSwxKX1lbHNlIGlmKGxhc3Q9PT1cIi4uXCIpe3BhcnRzLnNwbGljZShpLDEpO3VwKyt9ZWxzZSBpZih1cCl7cGFydHMuc3BsaWNlKGksMSk7dXAtLX19aWYoYWxsb3dBYm92ZVJvb3Qpe2Zvcig7dXA7dXAtLSl7cGFydHMudW5zaGlmdChcIi4uXCIpfX1yZXR1cm4gcGFydHN9LG5vcm1hbGl6ZTpmdW5jdGlvbihwYXRoKXt2YXIgaXNBYnNvbHV0ZT1wYXRoLmNoYXJBdCgwKT09PVwiL1wiLHRyYWlsaW5nU2xhc2g9cGF0aC5zdWJzdHIoLTEpPT09XCIvXCI7cGF0aD1QQVRILm5vcm1hbGl6ZUFycmF5KHBhdGguc3BsaXQoXCIvXCIpLmZpbHRlcihmdW5jdGlvbihwKXtyZXR1cm4hIXB9KSwhaXNBYnNvbHV0ZSkuam9pbihcIi9cIik7aWYoIXBhdGgmJiFpc0Fic29sdXRlKXtwYXRoPVwiLlwifWlmKHBhdGgmJnRyYWlsaW5nU2xhc2gpe3BhdGgrPVwiL1wifXJldHVybihpc0Fic29sdXRlP1wiL1wiOlwiXCIpK3BhdGh9LGRpcm5hbWU6ZnVuY3Rpb24ocGF0aCl7dmFyIHJlc3VsdD1QQVRILnNwbGl0UGF0aChwYXRoKSxyb290PXJlc3VsdFswXSxkaXI9cmVzdWx0WzFdO2lmKCFyb290JiYhZGlyKXtyZXR1cm5cIi5cIn1pZihkaXIpe2Rpcj1kaXIuc3Vic3RyKDAsZGlyLmxlbmd0aC0xKX1yZXR1cm4gcm9vdCtkaXJ9LGJhc2VuYW1lOmZ1bmN0aW9uKHBhdGgpe2lmKHBhdGg9PT1cIi9cIilyZXR1cm5cIi9cIjtwYXRoPVBBVEgubm9ybWFsaXplKHBhdGgpO3BhdGg9cGF0aC5yZXBsYWNlKC9cXC8kLyxcIlwiKTt2YXIgbGFzdFNsYXNoPXBhdGgubGFzdEluZGV4T2YoXCIvXCIpO2lmKGxhc3RTbGFzaD09PS0xKXJldHVybiBwYXRoO3JldHVybiBwYXRoLnN1YnN0cihsYXN0U2xhc2grMSl9LGV4dG5hbWU6ZnVuY3Rpb24ocGF0aCl7cmV0dXJuIFBBVEguc3BsaXRQYXRoKHBhdGgpWzNdfSxqb2luOmZ1bmN0aW9uKCl7dmFyIHBhdGhzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gUEFUSC5ub3JtYWxpemUocGF0aHMuam9pbihcIi9cIikpfSxqb2luMjpmdW5jdGlvbihsLHIpe3JldHVybiBQQVRILm5vcm1hbGl6ZShsK1wiL1wiK3IpfX07ZnVuY3Rpb24gZ2V0UmFuZG9tRGV2aWNlKCl7aWYodHlwZW9mIGNyeXB0bz09PVwib2JqZWN0XCImJnR5cGVvZiBjcnlwdG9bXCJnZXRSYW5kb21WYWx1ZXNcIl09PT1cImZ1bmN0aW9uXCIpe3ZhciByYW5kb21CdWZmZXI9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyYW5kb21CdWZmZXIpO3JldHVybiByYW5kb21CdWZmZXJbMF19fWVsc2UgcmV0dXJuIGZ1bmN0aW9uKCl7YWJvcnQoXCJyYW5kb21EZXZpY2VcIil9fXZhciBQQVRIX0ZTPXtyZXNvbHZlOmZ1bmN0aW9uKCl7dmFyIHJlc29sdmVkUGF0aD1cIlwiLHJlc29sdmVkQWJzb2x1dGU9ZmFsc2U7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgtMTtpPj0tMSYmIXJlc29sdmVkQWJzb2x1dGU7aS0tKXt2YXIgcGF0aD1pPj0wP2FyZ3VtZW50c1tpXTpGUy5jd2QoKTtpZih0eXBlb2YgcGF0aCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKX1lbHNlIGlmKCFwYXRoKXtyZXR1cm5cIlwifXJlc29sdmVkUGF0aD1wYXRoK1wiL1wiK3Jlc29sdmVkUGF0aDtyZXNvbHZlZEFic29sdXRlPXBhdGguY2hhckF0KDApPT09XCIvXCJ9cmVzb2x2ZWRQYXRoPVBBVEgubm9ybWFsaXplQXJyYXkocmVzb2x2ZWRQYXRoLnNwbGl0KFwiL1wiKS5maWx0ZXIoZnVuY3Rpb24ocCl7cmV0dXJuISFwfSksIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oXCIvXCIpO3JldHVybihyZXNvbHZlZEFic29sdXRlP1wiL1wiOlwiXCIpK3Jlc29sdmVkUGF0aHx8XCIuXCJ9LHJlbGF0aXZlOmZ1bmN0aW9uKGZyb20sdG8pe2Zyb209UEFUSF9GUy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTt0bz1QQVRIX0ZTLnJlc29sdmUodG8pLnN1YnN0cigxKTtmdW5jdGlvbiB0cmltKGFycil7dmFyIHN0YXJ0PTA7Zm9yKDtzdGFydDxhcnIubGVuZ3RoO3N0YXJ0Kyspe2lmKGFycltzdGFydF0hPT1cIlwiKWJyZWFrfXZhciBlbmQ9YXJyLmxlbmd0aC0xO2Zvcig7ZW5kPj0wO2VuZC0tKXtpZihhcnJbZW5kXSE9PVwiXCIpYnJlYWt9aWYoc3RhcnQ+ZW5kKXJldHVybltdO3JldHVybiBhcnIuc2xpY2Uoc3RhcnQsZW5kLXN0YXJ0KzEpfXZhciBmcm9tUGFydHM9dHJpbShmcm9tLnNwbGl0KFwiL1wiKSk7dmFyIHRvUGFydHM9dHJpbSh0by5zcGxpdChcIi9cIikpO3ZhciBsZW5ndGg9TWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCx0b1BhcnRzLmxlbmd0aCk7dmFyIHNhbWVQYXJ0c0xlbmd0aD1sZW5ndGg7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtpZihmcm9tUGFydHNbaV0hPT10b1BhcnRzW2ldKXtzYW1lUGFydHNMZW5ndGg9aTticmVha319dmFyIG91dHB1dFBhcnRzPVtdO2Zvcih2YXIgaT1zYW1lUGFydHNMZW5ndGg7aTxmcm9tUGFydHMubGVuZ3RoO2krKyl7b3V0cHV0UGFydHMucHVzaChcIi4uXCIpfW91dHB1dFBhcnRzPW91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO3JldHVybiBvdXRwdXRQYXJ0cy5qb2luKFwiL1wiKX19O3ZhciBUVFk9e3R0eXM6W10saW5pdDpmdW5jdGlvbigpe30sc2h1dGRvd246ZnVuY3Rpb24oKXt9LHJlZ2lzdGVyOmZ1bmN0aW9uKGRldixvcHMpe1RUWS50dHlzW2Rldl09e2lucHV0OltdLG91dHB1dDpbXSxvcHM6b3BzfTtGUy5yZWdpc3RlckRldmljZShkZXYsVFRZLnN0cmVhbV9vcHMpfSxzdHJlYW1fb3BzOntvcGVuOmZ1bmN0aW9uKHN0cmVhbSl7dmFyIHR0eT1UVFkudHR5c1tzdHJlYW0ubm9kZS5yZGV2XTtpZighdHR5KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9c3RyZWFtLnR0eT10dHk7c3RyZWFtLnNlZWthYmxlPWZhbHNlfSxjbG9zZTpmdW5jdGlvbihzdHJlYW0pe3N0cmVhbS50dHkub3BzLmZsdXNoKHN0cmVhbS50dHkpfSxmbHVzaDpmdW5jdGlvbihzdHJlYW0pe3N0cmVhbS50dHkub3BzLmZsdXNoKHN0cmVhbS50dHkpfSxyZWFkOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3Mpe2lmKCFzdHJlYW0udHR5fHwhc3RyZWFtLnR0eS5vcHMuZ2V0X2NoYXIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYwKX12YXIgYnl0ZXNSZWFkPTA7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt2YXIgcmVzdWx0O3RyeXtyZXN1bHQ9c3RyZWFtLnR0eS5vcHMuZ2V0X2NoYXIoc3RyZWFtLnR0eSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpfWlmKHJlc3VsdD09PXVuZGVmaW5lZCYmYnl0ZXNSZWFkPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNil9aWYocmVzdWx0PT09bnVsbHx8cmVzdWx0PT09dW5kZWZpbmVkKWJyZWFrO2J5dGVzUmVhZCsrO2J1ZmZlcltvZmZzZXQraV09cmVzdWx0fWlmKGJ5dGVzUmVhZCl7c3RyZWFtLm5vZGUudGltZXN0YW1wPURhdGUubm93KCl9cmV0dXJuIGJ5dGVzUmVhZH0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvcyl7aWYoIXN0cmVhbS50dHl8fCFzdHJlYW0udHR5Lm9wcy5wdXRfY2hhcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjApfXRyeXtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3N0cmVhbS50dHkub3BzLnB1dF9jaGFyKHN0cmVhbS50dHksYnVmZmVyW29mZnNldCtpXSl9fWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX1pZihsZW5ndGgpe3N0cmVhbS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpfXJldHVybiBpfX0sZGVmYXVsdF90dHlfb3BzOntnZXRfY2hhcjpmdW5jdGlvbih0dHkpe2lmKCF0dHkuaW5wdXQubGVuZ3RoKXt2YXIgcmVzdWx0PW51bGw7aWYodHlwZW9mIHdpbmRvdyE9XCJ1bmRlZmluZWRcIiYmdHlwZW9mIHdpbmRvdy5wcm9tcHQ9PVwiZnVuY3Rpb25cIil7cmVzdWx0PXdpbmRvdy5wcm9tcHQoXCJJbnB1dDogXCIpO2lmKHJlc3VsdCE9PW51bGwpe3Jlc3VsdCs9XCJcXG5cIn19ZWxzZSBpZih0eXBlb2YgcmVhZGxpbmU9PVwiZnVuY3Rpb25cIil7cmVzdWx0PXJlYWRsaW5lKCk7aWYocmVzdWx0IT09bnVsbCl7cmVzdWx0Kz1cIlxcblwifX1pZighcmVzdWx0KXtyZXR1cm4gbnVsbH10dHkuaW5wdXQ9aW50QXJyYXlGcm9tU3RyaW5nKHJlc3VsdCx0cnVlKX1yZXR1cm4gdHR5LmlucHV0LnNoaWZ0KCl9LHB1dF9jaGFyOmZ1bmN0aW9uKHR0eSx2YWwpe2lmKHZhbD09PW51bGx8fHZhbD09PTEwKXtvdXQoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwwKSk7dHR5Lm91dHB1dD1bXX1lbHNle2lmKHZhbCE9MCl0dHkub3V0cHV0LnB1c2godmFsKX19LGZsdXNoOmZ1bmN0aW9uKHR0eSl7aWYodHR5Lm91dHB1dCYmdHR5Lm91dHB1dC5sZW5ndGg+MCl7b3V0KFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsMCkpO3R0eS5vdXRwdXQ9W119fX0sZGVmYXVsdF90dHkxX29wczp7cHV0X2NoYXI6ZnVuY3Rpb24odHR5LHZhbCl7aWYodmFsPT09bnVsbHx8dmFsPT09MTApe2VycihVVEY4QXJyYXlUb1N0cmluZyh0dHkub3V0cHV0LDApKTt0dHkub3V0cHV0PVtdfWVsc2V7aWYodmFsIT0wKXR0eS5vdXRwdXQucHVzaCh2YWwpfX0sZmx1c2g6ZnVuY3Rpb24odHR5KXtpZih0dHkub3V0cHV0JiZ0dHkub3V0cHV0Lmxlbmd0aD4wKXtlcnIoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwwKSk7dHR5Lm91dHB1dD1bXX19fX07ZnVuY3Rpb24gemVyb01lbW9yeShhZGRyZXNzLHNpemUpe0hFQVBVOC5maWxsKDAsYWRkcmVzcyxhZGRyZXNzK3NpemUpfWZ1bmN0aW9uIGFsaWduTWVtb3J5KHNpemUsYWxpZ25tZW50KXtyZXR1cm4gTWF0aC5jZWlsKHNpemUvYWxpZ25tZW50KSphbGlnbm1lbnR9ZnVuY3Rpb24gbW1hcEFsbG9jKHNpemUpe3NpemU9YWxpZ25NZW1vcnkoc2l6ZSw2NTUzNik7dmFyIHB0cj1fbWVtYWxpZ24oNjU1MzYsc2l6ZSk7aWYoIXB0cilyZXR1cm4gMDt6ZXJvTWVtb3J5KHB0cixzaXplKTtyZXR1cm4gcHRyfXZhciBNRU1GUz17b3BzX3RhYmxlOm51bGwsbW91bnQ6ZnVuY3Rpb24obW91bnQpe3JldHVybiBNRU1GUy5jcmVhdGVOb2RlKG51bGwsXCIvXCIsMTYzODR8NTExLDApfSxjcmVhdGVOb2RlOmZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUsZGV2KXtpZihGUy5pc0Jsa2Rldihtb2RlKXx8RlMuaXNGSUZPKG1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoIU1FTUZTLm9wc190YWJsZSl7TUVNRlMub3BzX3RhYmxlPXtkaXI6e25vZGU6e2dldGF0dHI6TUVNRlMubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOk1FTUZTLm5vZGVfb3BzLnNldGF0dHIsbG9va3VwOk1FTUZTLm5vZGVfb3BzLmxvb2t1cCxta25vZDpNRU1GUy5ub2RlX29wcy5ta25vZCxyZW5hbWU6TUVNRlMubm9kZV9vcHMucmVuYW1lLHVubGluazpNRU1GUy5ub2RlX29wcy51bmxpbmsscm1kaXI6TUVNRlMubm9kZV9vcHMucm1kaXIscmVhZGRpcjpNRU1GUy5ub2RlX29wcy5yZWFkZGlyLHN5bWxpbms6TUVNRlMubm9kZV9vcHMuc3ltbGlua30sc3RyZWFtOntsbHNlZWs6TUVNRlMuc3RyZWFtX29wcy5sbHNlZWt9fSxmaWxlOntub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyfSxzdHJlYW06e2xsc2VlazpNRU1GUy5zdHJlYW1fb3BzLmxsc2VlayxyZWFkOk1FTUZTLnN0cmVhbV9vcHMucmVhZCx3cml0ZTpNRU1GUy5zdHJlYW1fb3BzLndyaXRlLGFsbG9jYXRlOk1FTUZTLnN0cmVhbV9vcHMuYWxsb2NhdGUsbW1hcDpNRU1GUy5zdHJlYW1fb3BzLm1tYXAsbXN5bmM6TUVNRlMuc3RyZWFtX29wcy5tc3luY319LGxpbms6e25vZGU6e2dldGF0dHI6TUVNRlMubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOk1FTUZTLm5vZGVfb3BzLnNldGF0dHIscmVhZGxpbms6TUVNRlMubm9kZV9vcHMucmVhZGxpbmt9LHN0cmVhbTp7fX0sY2hyZGV2Ontub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyfSxzdHJlYW06RlMuY2hyZGV2X3N0cmVhbV9vcHN9fX12YXIgbm9kZT1GUy5jcmVhdGVOb2RlKHBhcmVudCxuYW1lLG1vZGUsZGV2KTtpZihGUy5pc0Rpcihub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5kaXIubm9kZTtub2RlLnN0cmVhbV9vcHM9TUVNRlMub3BzX3RhYmxlLmRpci5zdHJlYW07bm9kZS5jb250ZW50cz17fX1lbHNlIGlmKEZTLmlzRmlsZShub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5maWxlLm5vZGU7bm9kZS5zdHJlYW1fb3BzPU1FTUZTLm9wc190YWJsZS5maWxlLnN0cmVhbTtub2RlLnVzZWRCeXRlcz0wO25vZGUuY29udGVudHM9bnVsbH1lbHNlIGlmKEZTLmlzTGluayhub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5saW5rLm5vZGU7bm9kZS5zdHJlYW1fb3BzPU1FTUZTLm9wc190YWJsZS5saW5rLnN0cmVhbX1lbHNlIGlmKEZTLmlzQ2hyZGV2KG5vZGUubW9kZSkpe25vZGUubm9kZV9vcHM9TUVNRlMub3BzX3RhYmxlLmNocmRldi5ub2RlO25vZGUuc3RyZWFtX29wcz1NRU1GUy5vcHNfdGFibGUuY2hyZGV2LnN0cmVhbX1ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpO2lmKHBhcmVudCl7cGFyZW50LmNvbnRlbnRzW25hbWVdPW5vZGU7cGFyZW50LnRpbWVzdGFtcD1ub2RlLnRpbWVzdGFtcH1yZXR1cm4gbm9kZX0sZ2V0RmlsZURhdGFBc1R5cGVkQXJyYXk6ZnVuY3Rpb24obm9kZSl7aWYoIW5vZGUuY29udGVudHMpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO2lmKG5vZGUuY29udGVudHMuc3ViYXJyYXkpcmV0dXJuIG5vZGUuY29udGVudHMuc3ViYXJyYXkoMCxub2RlLnVzZWRCeXRlcyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5vZGUuY29udGVudHMpfSxleHBhbmRGaWxlU3RvcmFnZTpmdW5jdGlvbihub2RlLG5ld0NhcGFjaXR5KXt2YXIgcHJldkNhcGFjaXR5PW5vZGUuY29udGVudHM/bm9kZS5jb250ZW50cy5sZW5ndGg6MDtpZihwcmV2Q2FwYWNpdHk+PW5ld0NhcGFjaXR5KXJldHVybjt2YXIgQ0FQQUNJVFlfRE9VQkxJTkdfTUFYPTEwMjQqMTAyNDtuZXdDYXBhY2l0eT1NYXRoLm1heChuZXdDYXBhY2l0eSxwcmV2Q2FwYWNpdHkqKHByZXZDYXBhY2l0eTxDQVBBQ0lUWV9ET1VCTElOR19NQVg/MjoxLjEyNSk+Pj4wKTtpZihwcmV2Q2FwYWNpdHkhPTApbmV3Q2FwYWNpdHk9TWF0aC5tYXgobmV3Q2FwYWNpdHksMjU2KTt2YXIgb2xkQ29udGVudHM9bm9kZS5jb250ZW50cztub2RlLmNvbnRlbnRzPW5ldyBVaW50OEFycmF5KG5ld0NhcGFjaXR5KTtpZihub2RlLnVzZWRCeXRlcz4wKW5vZGUuY29udGVudHMuc2V0KG9sZENvbnRlbnRzLnN1YmFycmF5KDAsbm9kZS51c2VkQnl0ZXMpLDApfSxyZXNpemVGaWxlU3RvcmFnZTpmdW5jdGlvbihub2RlLG5ld1NpemUpe2lmKG5vZGUudXNlZEJ5dGVzPT1uZXdTaXplKXJldHVybjtpZihuZXdTaXplPT0wKXtub2RlLmNvbnRlbnRzPW51bGw7bm9kZS51c2VkQnl0ZXM9MH1lbHNle3ZhciBvbGRDb250ZW50cz1ub2RlLmNvbnRlbnRzO25vZGUuY29udGVudHM9bmV3IFVpbnQ4QXJyYXkobmV3U2l6ZSk7aWYob2xkQ29udGVudHMpe25vZGUuY29udGVudHMuc2V0KG9sZENvbnRlbnRzLnN1YmFycmF5KDAsTWF0aC5taW4obmV3U2l6ZSxub2RlLnVzZWRCeXRlcykpKX1ub2RlLnVzZWRCeXRlcz1uZXdTaXplfX0sbm9kZV9vcHM6e2dldGF0dHI6ZnVuY3Rpb24obm9kZSl7dmFyIGF0dHI9e307YXR0ci5kZXY9RlMuaXNDaHJkZXYobm9kZS5tb2RlKT9ub2RlLmlkOjE7YXR0ci5pbm89bm9kZS5pZDthdHRyLm1vZGU9bm9kZS5tb2RlO2F0dHIubmxpbms9MTthdHRyLnVpZD0wO2F0dHIuZ2lkPTA7YXR0ci5yZGV2PW5vZGUucmRldjtpZihGUy5pc0Rpcihub2RlLm1vZGUpKXthdHRyLnNpemU9NDA5Nn1lbHNlIGlmKEZTLmlzRmlsZShub2RlLm1vZGUpKXthdHRyLnNpemU9bm9kZS51c2VkQnl0ZXN9ZWxzZSBpZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7YXR0ci5zaXplPW5vZGUubGluay5sZW5ndGh9ZWxzZXthdHRyLnNpemU9MH1hdHRyLmF0aW1lPW5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTthdHRyLm10aW1lPW5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTthdHRyLmN0aW1lPW5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTthdHRyLmJsa3NpemU9NDA5NjthdHRyLmJsb2Nrcz1NYXRoLmNlaWwoYXR0ci5zaXplL2F0dHIuYmxrc2l6ZSk7cmV0dXJuIGF0dHJ9LHNldGF0dHI6ZnVuY3Rpb24obm9kZSxhdHRyKXtpZihhdHRyLm1vZGUhPT11bmRlZmluZWQpe25vZGUubW9kZT1hdHRyLm1vZGV9aWYoYXR0ci50aW1lc3RhbXAhPT11bmRlZmluZWQpe25vZGUudGltZXN0YW1wPWF0dHIudGltZXN0YW1wfWlmKGF0dHIuc2l6ZSE9PXVuZGVmaW5lZCl7TUVNRlMucmVzaXplRmlsZVN0b3JhZ2Uobm9kZSxhdHRyLnNpemUpfX0sbG9va3VwOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXt0aHJvdyBGUy5nZW5lcmljRXJyb3JzWzQ0XX0sbWtub2Q6ZnVuY3Rpb24ocGFyZW50LG5hbWUsbW9kZSxkZXYpe3JldHVybiBNRU1GUy5jcmVhdGVOb2RlKHBhcmVudCxuYW1lLG1vZGUsZGV2KX0scmVuYW1lOmZ1bmN0aW9uKG9sZF9ub2RlLG5ld19kaXIsbmV3X25hbWUpe2lmKEZTLmlzRGlyKG9sZF9ub2RlLm1vZGUpKXt2YXIgbmV3X25vZGU7dHJ5e25ld19ub2RlPUZTLmxvb2t1cE5vZGUobmV3X2RpcixuZXdfbmFtZSl9Y2F0Y2goZSl7fWlmKG5ld19ub2RlKXtmb3IodmFyIGkgaW4gbmV3X25vZGUuY29udGVudHMpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU1KX19fWRlbGV0ZSBvbGRfbm9kZS5wYXJlbnQuY29udGVudHNbb2xkX25vZGUubmFtZV07b2xkX25vZGUucGFyZW50LnRpbWVzdGFtcD1EYXRlLm5vdygpO29sZF9ub2RlLm5hbWU9bmV3X25hbWU7bmV3X2Rpci5jb250ZW50c1tuZXdfbmFtZV09b2xkX25vZGU7bmV3X2Rpci50aW1lc3RhbXA9b2xkX25vZGUucGFyZW50LnRpbWVzdGFtcDtvbGRfbm9kZS5wYXJlbnQ9bmV3X2Rpcn0sdW5saW5rOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXtkZWxldGUgcGFyZW50LmNvbnRlbnRzW25hbWVdO3BhcmVudC50aW1lc3RhbXA9RGF0ZS5ub3coKX0scm1kaXI6ZnVuY3Rpb24ocGFyZW50LG5hbWUpe3ZhciBub2RlPUZTLmxvb2t1cE5vZGUocGFyZW50LG5hbWUpO2Zvcih2YXIgaSBpbiBub2RlLmNvbnRlbnRzKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9ZGVsZXRlIHBhcmVudC5jb250ZW50c1tuYW1lXTtwYXJlbnQudGltZXN0YW1wPURhdGUubm93KCl9LHJlYWRkaXI6ZnVuY3Rpb24obm9kZSl7dmFyIGVudHJpZXM9W1wiLlwiLFwiLi5cIl07Zm9yKHZhciBrZXkgaW4gbm9kZS5jb250ZW50cyl7aWYoIW5vZGUuY29udGVudHMuaGFzT3duUHJvcGVydHkoa2V5KSl7Y29udGludWV9ZW50cmllcy5wdXNoKGtleSl9cmV0dXJuIGVudHJpZXN9LHN5bWxpbms6ZnVuY3Rpb24ocGFyZW50LG5ld25hbWUsb2xkcGF0aCl7dmFyIG5vZGU9TUVNRlMuY3JlYXRlTm9kZShwYXJlbnQsbmV3bmFtZSw1MTF8NDA5NjAsMCk7bm9kZS5saW5rPW9sZHBhdGg7cmV0dXJuIG5vZGV9LHJlYWRsaW5rOmZ1bmN0aW9uKG5vZGUpe2lmKCFGUy5pc0xpbmsobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJldHVybiBub2RlLmxpbmt9fSxzdHJlYW1fb3BzOntyZWFkOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbil7dmFyIGNvbnRlbnRzPXN0cmVhbS5ub2RlLmNvbnRlbnRzO2lmKHBvc2l0aW9uPj1zdHJlYW0ubm9kZS51c2VkQnl0ZXMpcmV0dXJuIDA7dmFyIHNpemU9TWF0aC5taW4oc3RyZWFtLm5vZGUudXNlZEJ5dGVzLXBvc2l0aW9uLGxlbmd0aCk7aWYoc2l6ZT44JiZjb250ZW50cy5zdWJhcnJheSl7YnVmZmVyLnNldChjb250ZW50cy5zdWJhcnJheShwb3NpdGlvbixwb3NpdGlvbitzaXplKSxvZmZzZXQpfWVsc2V7Zm9yKHZhciBpPTA7aTxzaXplO2krKylidWZmZXJbb2Zmc2V0K2ldPWNvbnRlbnRzW3Bvc2l0aW9uK2ldfXJldHVybiBzaXplfSx3cml0ZTpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24sY2FuT3duKXtpZihidWZmZXIuYnVmZmVyPT09SEVBUDguYnVmZmVyKXtjYW5Pd249ZmFsc2V9aWYoIWxlbmd0aClyZXR1cm4gMDt2YXIgbm9kZT1zdHJlYW0ubm9kZTtub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpO2lmKGJ1ZmZlci5zdWJhcnJheSYmKCFub2RlLmNvbnRlbnRzfHxub2RlLmNvbnRlbnRzLnN1YmFycmF5KSl7aWYoY2FuT3duKXtub2RlLmNvbnRlbnRzPWJ1ZmZlci5zdWJhcnJheShvZmZzZXQsb2Zmc2V0K2xlbmd0aCk7bm9kZS51c2VkQnl0ZXM9bGVuZ3RoO3JldHVybiBsZW5ndGh9ZWxzZSBpZihub2RlLnVzZWRCeXRlcz09PTAmJnBvc2l0aW9uPT09MCl7bm9kZS5jb250ZW50cz1idWZmZXIuc2xpY2Uob2Zmc2V0LG9mZnNldCtsZW5ndGgpO25vZGUudXNlZEJ5dGVzPWxlbmd0aDtyZXR1cm4gbGVuZ3RofWVsc2UgaWYocG9zaXRpb24rbGVuZ3RoPD1ub2RlLnVzZWRCeXRlcyl7bm9kZS5jb250ZW50cy5zZXQoYnVmZmVyLnN1YmFycmF5KG9mZnNldCxvZmZzZXQrbGVuZ3RoKSxwb3NpdGlvbik7cmV0dXJuIGxlbmd0aH19TUVNRlMuZXhwYW5kRmlsZVN0b3JhZ2Uobm9kZSxwb3NpdGlvbitsZW5ndGgpO2lmKG5vZGUuY29udGVudHMuc3ViYXJyYXkmJmJ1ZmZlci5zdWJhcnJheSl7bm9kZS5jb250ZW50cy5zZXQoYnVmZmVyLnN1YmFycmF5KG9mZnNldCxvZmZzZXQrbGVuZ3RoKSxwb3NpdGlvbil9ZWxzZXtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe25vZGUuY29udGVudHNbcG9zaXRpb24raV09YnVmZmVyW29mZnNldCtpXX19bm9kZS51c2VkQnl0ZXM9TWF0aC5tYXgobm9kZS51c2VkQnl0ZXMscG9zaXRpb24rbGVuZ3RoKTtyZXR1cm4gbGVuZ3RofSxsbHNlZWs6ZnVuY3Rpb24oc3RyZWFtLG9mZnNldCx3aGVuY2Upe3ZhciBwb3NpdGlvbj1vZmZzZXQ7aWYod2hlbmNlPT09MSl7cG9zaXRpb24rPXN0cmVhbS5wb3NpdGlvbn1lbHNlIGlmKHdoZW5jZT09PTIpe2lmKEZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSl7cG9zaXRpb24rPXN0cmVhbS5ub2RlLnVzZWRCeXRlc319aWYocG9zaXRpb248MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJldHVybiBwb3NpdGlvbn0sYWxsb2NhdGU6ZnVuY3Rpb24oc3RyZWFtLG9mZnNldCxsZW5ndGgpe01FTUZTLmV4cGFuZEZpbGVTdG9yYWdlKHN0cmVhbS5ub2RlLG9mZnNldCtsZW5ndGgpO3N0cmVhbS5ub2RlLnVzZWRCeXRlcz1NYXRoLm1heChzdHJlYW0ubm9kZS51c2VkQnl0ZXMsb2Zmc2V0K2xlbmd0aCl9LG1tYXA6ZnVuY3Rpb24oc3RyZWFtLGFkZHJlc3MsbGVuZ3RoLHBvc2l0aW9uLHByb3QsZmxhZ3Mpe2lmKGFkZHJlc3MhPT0wKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9aWYoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpfXZhciBwdHI7dmFyIGFsbG9jYXRlZDt2YXIgY29udGVudHM9c3RyZWFtLm5vZGUuY29udGVudHM7aWYoIShmbGFncyYyKSYmY29udGVudHMuYnVmZmVyPT09YnVmZmVyKXthbGxvY2F0ZWQ9ZmFsc2U7cHRyPWNvbnRlbnRzLmJ5dGVPZmZzZXR9ZWxzZXtpZihwb3NpdGlvbj4wfHxwb3NpdGlvbitsZW5ndGg8Y29udGVudHMubGVuZ3RoKXtpZihjb250ZW50cy5zdWJhcnJheSl7Y29udGVudHM9Y29udGVudHMuc3ViYXJyYXkocG9zaXRpb24scG9zaXRpb24rbGVuZ3RoKX1lbHNle2NvbnRlbnRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNvbnRlbnRzLHBvc2l0aW9uLHBvc2l0aW9uK2xlbmd0aCl9fWFsbG9jYXRlZD10cnVlO3B0cj1tbWFwQWxsb2MobGVuZ3RoKTtpZighcHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0OCl9SEVBUDguc2V0KGNvbnRlbnRzLHB0cil9cmV0dXJue3B0cjpwdHIsYWxsb2NhdGVkOmFsbG9jYXRlZH19LG1zeW5jOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxtbWFwRmxhZ3Mpe2lmKCFGUy5pc0ZpbGUoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKX1pZihtbWFwRmxhZ3MmMil7cmV0dXJuIDB9dmFyIGJ5dGVzV3JpdHRlbj1NRU1GUy5zdHJlYW1fb3BzLndyaXRlKHN0cmVhbSxidWZmZXIsMCxsZW5ndGgsb2Zmc2V0LGZhbHNlKTtyZXR1cm4gMH19fTtmdW5jdGlvbiBhc3luY0xvYWQodXJsLG9ubG9hZCxvbmVycm9yLG5vUnVuRGVwKXt2YXIgZGVwPSFub1J1bkRlcD9nZXRVbmlxdWVSdW5EZXBlbmRlbmN5KFwiYWwgXCIrdXJsKTpcIlwiO3JlYWRBc3luYyh1cmwsZnVuY3Rpb24oYXJyYXlCdWZmZXIpe2Fzc2VydChhcnJheUJ1ZmZlciwnTG9hZGluZyBkYXRhIGZpbGUgXCInK3VybCsnXCIgZmFpbGVkIChubyBhcnJheUJ1ZmZlcikuJyk7b25sb2FkKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7aWYoZGVwKXJlbW92ZVJ1bkRlcGVuZGVuY3koZGVwKX0sZnVuY3Rpb24oZXZlbnQpe2lmKG9uZXJyb3Ipe29uZXJyb3IoKX1lbHNle3Rocm93J0xvYWRpbmcgZGF0YSBmaWxlIFwiJyt1cmwrJ1wiIGZhaWxlZC4nfX0pO2lmKGRlcClhZGRSdW5EZXBlbmRlbmN5KGRlcCl9dmFyIEZTPXtyb290Om51bGwsbW91bnRzOltdLGRldmljZXM6e30sc3RyZWFtczpbXSxuZXh0SW5vZGU6MSxuYW1lVGFibGU6bnVsbCxjdXJyZW50UGF0aDpcIi9cIixpbml0aWFsaXplZDpmYWxzZSxpZ25vcmVQZXJtaXNzaW9uczp0cnVlLEVycm5vRXJyb3I6bnVsbCxnZW5lcmljRXJyb3JzOnt9LGZpbGVzeXN0ZW1zOm51bGwsc3luY0ZTUmVxdWVzdHM6MCxsb29rdXBQYXRoOmZ1bmN0aW9uKHBhdGgsb3B0cyl7cGF0aD1QQVRIX0ZTLnJlc29sdmUoRlMuY3dkKCkscGF0aCk7b3B0cz1vcHRzfHx7fTtpZighcGF0aClyZXR1cm57cGF0aDpcIlwiLG5vZGU6bnVsbH07dmFyIGRlZmF1bHRzPXtmb2xsb3dfbW91bnQ6dHJ1ZSxyZWN1cnNlX2NvdW50OjB9O2Zvcih2YXIga2V5IGluIGRlZmF1bHRzKXtpZihvcHRzW2tleV09PT11bmRlZmluZWQpe29wdHNba2V5XT1kZWZhdWx0c1trZXldfX1pZihvcHRzLnJlY3Vyc2VfY291bnQ+OCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpfXZhciBwYXJ0cz1QQVRILm5vcm1hbGl6ZUFycmF5KHBhdGguc3BsaXQoXCIvXCIpLmZpbHRlcihmdW5jdGlvbihwKXtyZXR1cm4hIXB9KSxmYWxzZSk7dmFyIGN1cnJlbnQ9RlMucm9vdDt2YXIgY3VycmVudF9wYXRoPVwiL1wiO2Zvcih2YXIgaT0wO2k8cGFydHMubGVuZ3RoO2krKyl7dmFyIGlzbGFzdD1pPT09cGFydHMubGVuZ3RoLTE7aWYoaXNsYXN0JiZvcHRzLnBhcmVudCl7YnJlYWt9Y3VycmVudD1GUy5sb29rdXBOb2RlKGN1cnJlbnQscGFydHNbaV0pO2N1cnJlbnRfcGF0aD1QQVRILmpvaW4yKGN1cnJlbnRfcGF0aCxwYXJ0c1tpXSk7aWYoRlMuaXNNb3VudHBvaW50KGN1cnJlbnQpKXtpZighaXNsYXN0fHxpc2xhc3QmJm9wdHMuZm9sbG93X21vdW50KXtjdXJyZW50PWN1cnJlbnQubW91bnRlZC5yb290fX1pZighaXNsYXN0fHxvcHRzLmZvbGxvdyl7dmFyIGNvdW50PTA7d2hpbGUoRlMuaXNMaW5rKGN1cnJlbnQubW9kZSkpe3ZhciBsaW5rPUZTLnJlYWRsaW5rKGN1cnJlbnRfcGF0aCk7Y3VycmVudF9wYXRoPVBBVEhfRlMucmVzb2x2ZShQQVRILmRpcm5hbWUoY3VycmVudF9wYXRoKSxsaW5rKTt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgoY3VycmVudF9wYXRoLHtyZWN1cnNlX2NvdW50Om9wdHMucmVjdXJzZV9jb3VudH0pO2N1cnJlbnQ9bG9va3VwLm5vZGU7aWYoY291bnQrKz40MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpfX19fXJldHVybntwYXRoOmN1cnJlbnRfcGF0aCxub2RlOmN1cnJlbnR9fSxnZXRQYXRoOmZ1bmN0aW9uKG5vZGUpe3ZhciBwYXRoO3doaWxlKHRydWUpe2lmKEZTLmlzUm9vdChub2RlKSl7dmFyIG1vdW50PW5vZGUubW91bnQubW91bnRwb2ludDtpZighcGF0aClyZXR1cm4gbW91bnQ7cmV0dXJuIG1vdW50W21vdW50Lmxlbmd0aC0xXSE9PVwiL1wiP21vdW50K1wiL1wiK3BhdGg6bW91bnQrcGF0aH1wYXRoPXBhdGg/bm9kZS5uYW1lK1wiL1wiK3BhdGg6bm9kZS5uYW1lO25vZGU9bm9kZS5wYXJlbnR9fSxoYXNoTmFtZTpmdW5jdGlvbihwYXJlbnRpZCxuYW1lKXt2YXIgaGFzaD0wO2Zvcih2YXIgaT0wO2k8bmFtZS5sZW5ndGg7aSsrKXtoYXNoPShoYXNoPDw1KS1oYXNoK25hbWUuY2hhckNvZGVBdChpKXwwfXJldHVybihwYXJlbnRpZCtoYXNoPj4+MCklRlMubmFtZVRhYmxlLmxlbmd0aH0saGFzaEFkZE5vZGU6ZnVuY3Rpb24obm9kZSl7dmFyIGhhc2g9RlMuaGFzaE5hbWUobm9kZS5wYXJlbnQuaWQsbm9kZS5uYW1lKTtub2RlLm5hbWVfbmV4dD1GUy5uYW1lVGFibGVbaGFzaF07RlMubmFtZVRhYmxlW2hhc2hdPW5vZGV9LGhhc2hSZW1vdmVOb2RlOmZ1bmN0aW9uKG5vZGUpe3ZhciBoYXNoPUZTLmhhc2hOYW1lKG5vZGUucGFyZW50LmlkLG5vZGUubmFtZSk7aWYoRlMubmFtZVRhYmxlW2hhc2hdPT09bm9kZSl7RlMubmFtZVRhYmxlW2hhc2hdPW5vZGUubmFtZV9uZXh0fWVsc2V7dmFyIGN1cnJlbnQ9RlMubmFtZVRhYmxlW2hhc2hdO3doaWxlKGN1cnJlbnQpe2lmKGN1cnJlbnQubmFtZV9uZXh0PT09bm9kZSl7Y3VycmVudC5uYW1lX25leHQ9bm9kZS5uYW1lX25leHQ7YnJlYWt9Y3VycmVudD1jdXJyZW50Lm5hbWVfbmV4dH19fSxsb29rdXBOb2RlOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXt2YXIgZXJyQ29kZT1GUy5tYXlMb29rdXAocGFyZW50KTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlLHBhcmVudCl9dmFyIGhhc2g9RlMuaGFzaE5hbWUocGFyZW50LmlkLG5hbWUpO2Zvcih2YXIgbm9kZT1GUy5uYW1lVGFibGVbaGFzaF07bm9kZTtub2RlPW5vZGUubmFtZV9uZXh0KXt2YXIgbm9kZU5hbWU9bm9kZS5uYW1lO2lmKG5vZGUucGFyZW50LmlkPT09cGFyZW50LmlkJiZub2RlTmFtZT09PW5hbWUpe3JldHVybiBub2RlfX1yZXR1cm4gRlMubG9va3VwKHBhcmVudCxuYW1lKX0sY3JlYXRlTm9kZTpmdW5jdGlvbihwYXJlbnQsbmFtZSxtb2RlLHJkZXYpe3ZhciBub2RlPW5ldyBGUy5GU05vZGUocGFyZW50LG5hbWUsbW9kZSxyZGV2KTtGUy5oYXNoQWRkTm9kZShub2RlKTtyZXR1cm4gbm9kZX0sZGVzdHJveU5vZGU6ZnVuY3Rpb24obm9kZSl7RlMuaGFzaFJlbW92ZU5vZGUobm9kZSl9LGlzUm9vdDpmdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZT09PW5vZGUucGFyZW50fSxpc01vdW50cG9pbnQ6ZnVuY3Rpb24obm9kZSl7cmV0dXJuISFub2RlLm1vdW50ZWR9LGlzRmlsZTpmdW5jdGlvbihtb2RlKXtyZXR1cm4obW9kZSY2MTQ0MCk9PT0zMjc2OH0saXNEaXI6ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNjE0NDApPT09MTYzODR9LGlzTGluazpmdW5jdGlvbihtb2RlKXtyZXR1cm4obW9kZSY2MTQ0MCk9PT00MDk2MH0saXNDaHJkZXY6ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNjE0NDApPT09ODE5Mn0saXNCbGtkZXY6ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNjE0NDApPT09MjQ1NzZ9LGlzRklGTzpmdW5jdGlvbihtb2RlKXtyZXR1cm4obW9kZSY2MTQ0MCk9PT00MDk2fSxpc1NvY2tldDpmdW5jdGlvbihtb2RlKXtyZXR1cm4obW9kZSY0OTE1Mik9PT00OTE1Mn0sZmxhZ01vZGVzOntcInJcIjowLFwicitcIjoyLFwid1wiOjU3NyxcIncrXCI6NTc4LFwiYVwiOjEwODksXCJhK1wiOjEwOTB9LG1vZGVTdHJpbmdUb0ZsYWdzOmZ1bmN0aW9uKHN0cil7dmFyIGZsYWdzPUZTLmZsYWdNb2Rlc1tzdHJdO2lmKHR5cGVvZiBmbGFncz09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gZmlsZSBvcGVuIG1vZGU6IFwiK3N0cil9cmV0dXJuIGZsYWdzfSxmbGFnc1RvUGVybWlzc2lvblN0cmluZzpmdW5jdGlvbihmbGFnKXt2YXIgcGVybXM9W1wiclwiLFwid1wiLFwicndcIl1bZmxhZyYzXTtpZihmbGFnJjUxMil7cGVybXMrPVwid1wifXJldHVybiBwZXJtc30sbm9kZVBlcm1pc3Npb25zOmZ1bmN0aW9uKG5vZGUscGVybXMpe2lmKEZTLmlnbm9yZVBlcm1pc3Npb25zKXtyZXR1cm4gMH1pZihwZXJtcy5pbmNsdWRlcyhcInJcIikmJiEobm9kZS5tb2RlJjI5Mikpe3JldHVybiAyfWVsc2UgaWYocGVybXMuaW5jbHVkZXMoXCJ3XCIpJiYhKG5vZGUubW9kZSYxNDYpKXtyZXR1cm4gMn1lbHNlIGlmKHBlcm1zLmluY2x1ZGVzKFwieFwiKSYmIShub2RlLm1vZGUmNzMpKXtyZXR1cm4gMn1yZXR1cm4gMH0sbWF5TG9va3VwOmZ1bmN0aW9uKGRpcil7dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGRpcixcInhcIik7aWYoZXJyQ29kZSlyZXR1cm4gZXJyQ29kZTtpZighZGlyLm5vZGVfb3BzLmxvb2t1cClyZXR1cm4gMjtyZXR1cm4gMH0sbWF5Q3JlYXRlOmZ1bmN0aW9uKGRpcixuYW1lKXt0cnl7dmFyIG5vZGU9RlMubG9va3VwTm9kZShkaXIsbmFtZSk7cmV0dXJuIDIwfWNhdGNoKGUpe31yZXR1cm4gRlMubm9kZVBlcm1pc3Npb25zKGRpcixcInd4XCIpfSxtYXlEZWxldGU6ZnVuY3Rpb24oZGlyLG5hbWUsaXNkaXIpe3ZhciBub2RlO3RyeXtub2RlPUZTLmxvb2t1cE5vZGUoZGlyLG5hbWUpfWNhdGNoKGUpe3JldHVybiBlLmVycm5vfXZhciBlcnJDb2RlPUZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsXCJ3eFwiKTtpZihlcnJDb2RlKXtyZXR1cm4gZXJyQ29kZX1pZihpc2Rpcil7aWYoIUZTLmlzRGlyKG5vZGUubW9kZSkpe3JldHVybiA1NH1pZihGUy5pc1Jvb3Qobm9kZSl8fEZTLmdldFBhdGgobm9kZSk9PT1GUy5jd2QoKSl7cmV0dXJuIDEwfX1lbHNle2lmKEZTLmlzRGlyKG5vZGUubW9kZSkpe3JldHVybiAzMX19cmV0dXJuIDB9LG1heU9wZW46ZnVuY3Rpb24obm9kZSxmbGFncyl7aWYoIW5vZGUpe3JldHVybiA0NH1pZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7cmV0dXJuIDMyfWVsc2UgaWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7aWYoRlMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmcoZmxhZ3MpIT09XCJyXCJ8fGZsYWdzJjUxMil7cmV0dXJuIDMxfX1yZXR1cm4gRlMubm9kZVBlcm1pc3Npb25zKG5vZGUsRlMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmcoZmxhZ3MpKX0sTUFYX09QRU5fRkRTOjQwOTYsbmV4dGZkOmZ1bmN0aW9uKGZkX3N0YXJ0LGZkX2VuZCl7ZmRfc3RhcnQ9ZmRfc3RhcnR8fDA7ZmRfZW5kPWZkX2VuZHx8RlMuTUFYX09QRU5fRkRTO2Zvcih2YXIgZmQ9ZmRfc3RhcnQ7ZmQ8PWZkX2VuZDtmZCsrKXtpZighRlMuc3RyZWFtc1tmZF0pe3JldHVybiBmZH19dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzMpfSxnZXRTdHJlYW06ZnVuY3Rpb24oZmQpe3JldHVybiBGUy5zdHJlYW1zW2ZkXX0sY3JlYXRlU3RyZWFtOmZ1bmN0aW9uKHN0cmVhbSxmZF9zdGFydCxmZF9lbmQpe2lmKCFGUy5GU1N0cmVhbSl7RlMuRlNTdHJlYW09ZnVuY3Rpb24oKXt9O0ZTLkZTU3RyZWFtLnByb3RvdHlwZT17b2JqZWN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxzZXQ6ZnVuY3Rpb24odmFsKXt0aGlzLm5vZGU9dmFsfX0saXNSZWFkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTF9fSxpc1dyaXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTB9fSxpc0FwcGVuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhZ3MmMTAyNH19fX12YXIgbmV3U3RyZWFtPW5ldyBGUy5GU1N0cmVhbTtmb3IodmFyIHAgaW4gc3RyZWFtKXtuZXdTdHJlYW1bcF09c3RyZWFtW3BdfXN0cmVhbT1uZXdTdHJlYW07dmFyIGZkPUZTLm5leHRmZChmZF9zdGFydCxmZF9lbmQpO3N0cmVhbS5mZD1mZDtGUy5zdHJlYW1zW2ZkXT1zdHJlYW07cmV0dXJuIHN0cmVhbX0sY2xvc2VTdHJlYW06ZnVuY3Rpb24oZmQpe0ZTLnN0cmVhbXNbZmRdPW51bGx9LGNocmRldl9zdHJlYW1fb3BzOntvcGVuOmZ1bmN0aW9uKHN0cmVhbSl7dmFyIGRldmljZT1GUy5nZXREZXZpY2Uoc3RyZWFtLm5vZGUucmRldik7c3RyZWFtLnN0cmVhbV9vcHM9ZGV2aWNlLnN0cmVhbV9vcHM7aWYoc3RyZWFtLnN0cmVhbV9vcHMub3Blbil7c3RyZWFtLnN0cmVhbV9vcHMub3BlbihzdHJlYW0pfX0sbGxzZWVrOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfX0sbWFqb3I6ZnVuY3Rpb24oZGV2KXtyZXR1cm4gZGV2Pj44fSxtaW5vcjpmdW5jdGlvbihkZXYpe3JldHVybiBkZXYmMjU1fSxtYWtlZGV2OmZ1bmN0aW9uKG1hLG1pKXtyZXR1cm4gbWE8PDh8bWl9LHJlZ2lzdGVyRGV2aWNlOmZ1bmN0aW9uKGRldixvcHMpe0ZTLmRldmljZXNbZGV2XT17c3RyZWFtX29wczpvcHN9fSxnZXREZXZpY2U6ZnVuY3Rpb24oZGV2KXtyZXR1cm4gRlMuZGV2aWNlc1tkZXZdfSxnZXRNb3VudHM6ZnVuY3Rpb24obW91bnQpe3ZhciBtb3VudHM9W107dmFyIGNoZWNrPVttb3VudF07d2hpbGUoY2hlY2subGVuZ3RoKXt2YXIgbT1jaGVjay5wb3AoKTttb3VudHMucHVzaChtKTtjaGVjay5wdXNoLmFwcGx5KGNoZWNrLG0ubW91bnRzKX1yZXR1cm4gbW91bnRzfSxzeW5jZnM6ZnVuY3Rpb24ocG9wdWxhdGUsY2FsbGJhY2spe2lmKHR5cGVvZiBwb3B1bGF0ZT09PVwiZnVuY3Rpb25cIil7Y2FsbGJhY2s9cG9wdWxhdGU7cG9wdWxhdGU9ZmFsc2V9RlMuc3luY0ZTUmVxdWVzdHMrKztpZihGUy5zeW5jRlNSZXF1ZXN0cz4xKXtlcnIoXCJ3YXJuaW5nOiBcIitGUy5zeW5jRlNSZXF1ZXN0cytcIiBGUy5zeW5jZnMgb3BlcmF0aW9ucyBpbiBmbGlnaHQgYXQgb25jZSwgcHJvYmFibHkganVzdCBkb2luZyBleHRyYSB3b3JrXCIpfXZhciBtb3VudHM9RlMuZ2V0TW91bnRzKEZTLnJvb3QubW91bnQpO3ZhciBjb21wbGV0ZWQ9MDtmdW5jdGlvbiBkb0NhbGxiYWNrKGVyckNvZGUpe0ZTLnN5bmNGU1JlcXVlc3RzLS07cmV0dXJuIGNhbGxiYWNrKGVyckNvZGUpfWZ1bmN0aW9uIGRvbmUoZXJyQ29kZSl7aWYoZXJyQ29kZSl7aWYoIWRvbmUuZXJyb3JlZCl7ZG9uZS5lcnJvcmVkPXRydWU7cmV0dXJuIGRvQ2FsbGJhY2soZXJyQ29kZSl9cmV0dXJufWlmKCsrY29tcGxldGVkPj1tb3VudHMubGVuZ3RoKXtkb0NhbGxiYWNrKG51bGwpfX1tb3VudHMuZm9yRWFjaChmdW5jdGlvbihtb3VudCl7aWYoIW1vdW50LnR5cGUuc3luY2ZzKXtyZXR1cm4gZG9uZShudWxsKX1tb3VudC50eXBlLnN5bmNmcyhtb3VudCxwb3B1bGF0ZSxkb25lKX0pfSxtb3VudDpmdW5jdGlvbih0eXBlLG9wdHMsbW91bnRwb2ludCl7dmFyIHJvb3Q9bW91bnRwb2ludD09PVwiL1wiO3ZhciBwc2V1ZG89IW1vdW50cG9pbnQ7dmFyIG5vZGU7aWYocm9vdCYmRlMucm9vdCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApfWVsc2UgaWYoIXJvb3QmJiFwc2V1ZG8pe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChtb3VudHBvaW50LHtmb2xsb3dfbW91bnQ6ZmFsc2V9KTttb3VudHBvaW50PWxvb2t1cC5wYXRoO25vZGU9bG9va3VwLm5vZGU7aWYoRlMuaXNNb3VudHBvaW50KG5vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9aWYoIUZTLmlzRGlyKG5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU0KX19dmFyIG1vdW50PXt0eXBlOnR5cGUsb3B0czpvcHRzLG1vdW50cG9pbnQ6bW91bnRwb2ludCxtb3VudHM6W119O3ZhciBtb3VudFJvb3Q9dHlwZS5tb3VudChtb3VudCk7bW91bnRSb290Lm1vdW50PW1vdW50O21vdW50LnJvb3Q9bW91bnRSb290O2lmKHJvb3Qpe0ZTLnJvb3Q9bW91bnRSb290fWVsc2UgaWYobm9kZSl7bm9kZS5tb3VudGVkPW1vdW50O2lmKG5vZGUubW91bnQpe25vZGUubW91bnQubW91bnRzLnB1c2gobW91bnQpfX1yZXR1cm4gbW91bnRSb290fSx1bm1vdW50OmZ1bmN0aW9uKG1vdW50cG9pbnQpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChtb3VudHBvaW50LHtmb2xsb3dfbW91bnQ6ZmFsc2V9KTtpZighRlMuaXNNb3VudHBvaW50KGxvb2t1cC5ub2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBub2RlPWxvb2t1cC5ub2RlO3ZhciBtb3VudD1ub2RlLm1vdW50ZWQ7dmFyIG1vdW50cz1GUy5nZXRNb3VudHMobW91bnQpO09iamVjdC5rZXlzKEZTLm5hbWVUYWJsZSkuZm9yRWFjaChmdW5jdGlvbihoYXNoKXt2YXIgY3VycmVudD1GUy5uYW1lVGFibGVbaGFzaF07d2hpbGUoY3VycmVudCl7dmFyIG5leHQ9Y3VycmVudC5uYW1lX25leHQ7aWYobW91bnRzLmluY2x1ZGVzKGN1cnJlbnQubW91bnQpKXtGUy5kZXN0cm95Tm9kZShjdXJyZW50KX1jdXJyZW50PW5leHR9fSk7bm9kZS5tb3VudGVkPW51bGw7dmFyIGlkeD1ub2RlLm1vdW50Lm1vdW50cy5pbmRleE9mKG1vdW50KTtub2RlLm1vdW50Lm1vdW50cy5zcGxpY2UoaWR4LDEpfSxsb29rdXA6ZnVuY3Rpb24ocGFyZW50LG5hbWUpe3JldHVybiBwYXJlbnQubm9kZV9vcHMubG9va3VwKHBhcmVudCxuYW1lKX0sbWtub2Q6ZnVuY3Rpb24ocGF0aCxtb2RlLGRldil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7dmFyIHBhcmVudD1sb29rdXAubm9kZTt2YXIgbmFtZT1QQVRILmJhc2VuYW1lKHBhdGgpO2lmKCFuYW1lfHxuYW1lPT09XCIuXCJ8fG5hbWU9PT1cIi4uXCIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgZXJyQ29kZT1GUy5tYXlDcmVhdGUocGFyZW50LG5hbWUpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfWlmKCFwYXJlbnQubm9kZV9vcHMubWtub2Qpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1yZXR1cm4gcGFyZW50Lm5vZGVfb3BzLm1rbm9kKHBhcmVudCxuYW1lLG1vZGUsZGV2KX0sY3JlYXRlOmZ1bmN0aW9uKHBhdGgsbW9kZSl7bW9kZT1tb2RlIT09dW5kZWZpbmVkP21vZGU6NDM4O21vZGUmPTQwOTU7bW9kZXw9MzI3Njg7cmV0dXJuIEZTLm1rbm9kKHBhdGgsbW9kZSwwKX0sbWtkaXI6ZnVuY3Rpb24ocGF0aCxtb2RlKXttb2RlPW1vZGUhPT11bmRlZmluZWQ/bW9kZTo1MTE7bW9kZSY9NTExfDUxMjttb2RlfD0xNjM4NDtyZXR1cm4gRlMubWtub2QocGF0aCxtb2RlLDApfSxta2RpclRyZWU6ZnVuY3Rpb24ocGF0aCxtb2RlKXt2YXIgZGlycz1wYXRoLnNwbGl0KFwiL1wiKTt2YXIgZD1cIlwiO2Zvcih2YXIgaT0wO2k8ZGlycy5sZW5ndGg7KytpKXtpZighZGlyc1tpXSljb250aW51ZTtkKz1cIi9cIitkaXJzW2ldO3RyeXtGUy5ta2RpcihkLG1vZGUpfWNhdGNoKGUpe2lmKGUuZXJybm8hPTIwKXRocm93IGV9fX0sbWtkZXY6ZnVuY3Rpb24ocGF0aCxtb2RlLGRldil7aWYodHlwZW9mIGRldj09PVwidW5kZWZpbmVkXCIpe2Rldj1tb2RlO21vZGU9NDM4fW1vZGV8PTgxOTI7cmV0dXJuIEZTLm1rbm9kKHBhdGgsbW9kZSxkZXYpfSxzeW1saW5rOmZ1bmN0aW9uKG9sZHBhdGgsbmV3cGF0aCl7aWYoIVBBVEhfRlMucmVzb2x2ZShvbGRwYXRoKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfXZhciBsb29rdXA9RlMubG9va3VwUGF0aChuZXdwYXRoLHtwYXJlbnQ6dHJ1ZX0pO3ZhciBwYXJlbnQ9bG9va3VwLm5vZGU7aWYoIXBhcmVudCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfXZhciBuZXduYW1lPVBBVEguYmFzZW5hbWUobmV3cGF0aCk7dmFyIGVyckNvZGU9RlMubWF5Q3JlYXRlKHBhcmVudCxuZXduYW1lKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLnN5bWxpbmspe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1yZXR1cm4gcGFyZW50Lm5vZGVfb3BzLnN5bWxpbmsocGFyZW50LG5ld25hbWUsb2xkcGF0aCl9LHJlbmFtZTpmdW5jdGlvbihvbGRfcGF0aCxuZXdfcGF0aCl7dmFyIG9sZF9kaXJuYW1lPVBBVEguZGlybmFtZShvbGRfcGF0aCk7dmFyIG5ld19kaXJuYW1lPVBBVEguZGlybmFtZShuZXdfcGF0aCk7dmFyIG9sZF9uYW1lPVBBVEguYmFzZW5hbWUob2xkX3BhdGgpO3ZhciBuZXdfbmFtZT1QQVRILmJhc2VuYW1lKG5ld19wYXRoKTt2YXIgbG9va3VwLG9sZF9kaXIsbmV3X2Rpcjtsb29rdXA9RlMubG9va3VwUGF0aChvbGRfcGF0aCx7cGFyZW50OnRydWV9KTtvbGRfZGlyPWxvb2t1cC5ub2RlO2xvb2t1cD1GUy5sb29rdXBQYXRoKG5ld19wYXRoLHtwYXJlbnQ6dHJ1ZX0pO25ld19kaXI9bG9va3VwLm5vZGU7aWYoIW9sZF9kaXJ8fCFuZXdfZGlyKXRocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KTtpZihvbGRfZGlyLm1vdW50IT09bmV3X2Rpci5tb3VudCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzUpfXZhciBvbGRfbm9kZT1GUy5sb29rdXBOb2RlKG9sZF9kaXIsb2xkX25hbWUpO3ZhciByZWxhdGl2ZT1QQVRIX0ZTLnJlbGF0aXZlKG9sZF9wYXRoLG5ld19kaXJuYW1lKTtpZihyZWxhdGl2ZS5jaGFyQXQoMCkhPT1cIi5cIil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJlbGF0aXZlPVBBVEhfRlMucmVsYXRpdmUobmV3X3BhdGgsb2xkX2Rpcm5hbWUpO2lmKHJlbGF0aXZlLmNoYXJBdCgwKSE9PVwiLlwiKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9dmFyIG5ld19ub2RlO3RyeXtuZXdfbm9kZT1GUy5sb29rdXBOb2RlKG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe31pZihvbGRfbm9kZT09PW5ld19ub2RlKXtyZXR1cm59dmFyIGlzZGlyPUZTLmlzRGlyKG9sZF9ub2RlLm1vZGUpO3ZhciBlcnJDb2RlPUZTLm1heURlbGV0ZShvbGRfZGlyLG9sZF9uYW1lLGlzZGlyKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1lcnJDb2RlPW5ld19ub2RlP0ZTLm1heURlbGV0ZShuZXdfZGlyLG5ld19uYW1lLGlzZGlyKTpGUy5tYXlDcmVhdGUobmV3X2RpcixuZXdfbmFtZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIW9sZF9kaXIubm9kZV9vcHMucmVuYW1lKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNNb3VudHBvaW50KG9sZF9ub2RlKXx8bmV3X25vZGUmJkZTLmlzTW91bnRwb2ludChuZXdfbm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKX1pZihuZXdfZGlyIT09b2xkX2Rpcil7ZXJyQ29kZT1GUy5ub2RlUGVybWlzc2lvbnMob2xkX2RpcixcIndcIik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9fUZTLmhhc2hSZW1vdmVOb2RlKG9sZF9ub2RlKTt0cnl7b2xkX2Rpci5ub2RlX29wcy5yZW5hbWUob2xkX25vZGUsbmV3X2RpcixuZXdfbmFtZSl9Y2F0Y2goZSl7dGhyb3cgZX1maW5hbGx5e0ZTLmhhc2hBZGROb2RlKG9sZF9ub2RlKX19LHJtZGlyOmZ1bmN0aW9uKHBhdGgpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtwYXJlbnQ6dHJ1ZX0pO3ZhciBwYXJlbnQ9bG9va3VwLm5vZGU7dmFyIG5hbWU9UEFUSC5iYXNlbmFtZShwYXRoKTt2YXIgbm9kZT1GUy5sb29rdXBOb2RlKHBhcmVudCxuYW1lKTt2YXIgZXJyQ29kZT1GUy5tYXlEZWxldGUocGFyZW50LG5hbWUsdHJ1ZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIXBhcmVudC5ub2RlX29wcy5ybWRpcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfWlmKEZTLmlzTW91bnRwb2ludChub2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApfXBhcmVudC5ub2RlX29wcy5ybWRpcihwYXJlbnQsbmFtZSk7RlMuZGVzdHJveU5vZGUobm9kZSl9LHJlYWRkaXI6ZnVuY3Rpb24ocGF0aCl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUubm9kZV9vcHMucmVhZGRpcil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpfXJldHVybiBub2RlLm5vZGVfb3BzLnJlYWRkaXIobm9kZSl9LHVubGluazpmdW5jdGlvbihwYXRoKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO3ZhciBuYW1lPVBBVEguYmFzZW5hbWUocGF0aCk7dmFyIG5vZGU9RlMubG9va3VwTm9kZShwYXJlbnQsbmFtZSk7dmFyIGVyckNvZGU9RlMubWF5RGVsZXRlKHBhcmVudCxuYW1lLGZhbHNlKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLnVubGluayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfWlmKEZTLmlzTW91bnRwb2ludChub2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApfXBhcmVudC5ub2RlX29wcy51bmxpbmsocGFyZW50LG5hbWUpO0ZTLmRlc3Ryb3lOb2RlKG5vZGUpfSxyZWFkbGluazpmdW5jdGlvbihwYXRoKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCk7dmFyIGxpbms9bG9va3VwLm5vZGU7aWYoIWxpbmspe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZighbGluay5ub2RlX29wcy5yZWFkbGluayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXJldHVybiBQQVRIX0ZTLnJlc29sdmUoRlMuZ2V0UGF0aChsaW5rLnBhcmVudCksbGluay5ub2RlX29wcy5yZWFkbGluayhsaW5rKSl9LHN0YXQ6ZnVuY3Rpb24ocGF0aCxkb250Rm9sbG93KXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250Rm9sbG93fSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZighbm9kZS5ub2RlX29wcy5nZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIG5vZGUubm9kZV9vcHMuZ2V0YXR0cihub2RlKX0sbHN0YXQ6ZnVuY3Rpb24ocGF0aCl7cmV0dXJuIEZTLnN0YXQocGF0aCx0cnVlKX0sY2htb2Q6ZnVuY3Rpb24ocGF0aCxtb2RlLGRvbnRGb2xsb3cpe3ZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT09XCJzdHJpbmdcIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udEZvbGxvd30pO25vZGU9bG9va3VwLm5vZGV9ZWxzZXtub2RlPXBhdGh9aWYoIW5vZGUubm9kZV9vcHMuc2V0YXR0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfW5vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHttb2RlOm1vZGUmNDA5NXxub2RlLm1vZGUmfjQwOTUsdGltZXN0YW1wOkRhdGUubm93KCl9KX0sbGNobW9kOmZ1bmN0aW9uKHBhdGgsbW9kZSl7RlMuY2htb2QocGF0aCxtb2RlLHRydWUpfSxmY2htb2Q6ZnVuY3Rpb24oZmQsbW9kZSl7dmFyIHN0cmVhbT1GUy5nZXRTdHJlYW0oZmQpO2lmKCFzdHJlYW0pe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfUZTLmNobW9kKHN0cmVhbS5ub2RlLG1vZGUpfSxjaG93bjpmdW5jdGlvbihwYXRoLHVpZCxnaWQsZG9udEZvbGxvdyl7dmFyIG5vZGU7aWYodHlwZW9mIHBhdGg9PT1cInN0cmluZ1wiKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OiFkb250Rm9sbG93fSk7bm9kZT1sb29rdXAubm9kZX1lbHNle25vZGU9cGF0aH1pZighbm9kZS5ub2RlX29wcy5zZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9bm9kZS5ub2RlX29wcy5zZXRhdHRyKG5vZGUse3RpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG93bjpmdW5jdGlvbihwYXRoLHVpZCxnaWQpe0ZTLmNob3duKHBhdGgsdWlkLGdpZCx0cnVlKX0sZmNob3duOmZ1bmN0aW9uKGZkLHVpZCxnaWQpe3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1GUy5jaG93bihzdHJlYW0ubm9kZSx1aWQsZ2lkKX0sdHJ1bmNhdGU6ZnVuY3Rpb24ocGF0aCxsZW4pe2lmKGxlbjwwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9dmFyIG5vZGU7aWYodHlwZW9mIHBhdGg9PT1cInN0cmluZ1wiKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OnRydWV9KTtub2RlPWxvb2t1cC5ub2RlfWVsc2V7bm9kZT1wYXRofWlmKCFub2RlLm5vZGVfb3BzLnNldGF0dHIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1pZihGUy5pc0Rpcihub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigzMSl9aWYoIUZTLmlzRmlsZShub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKG5vZGUsXCJ3XCIpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfW5vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHtzaXplOmxlbix0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxmdHJ1bmNhdGU6ZnVuY3Rpb24oZmQsbGVuKXt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1GUy50cnVuY2F0ZShzdHJlYW0ubm9kZSxsZW4pfSx1dGltZTpmdW5jdGlvbihwYXRoLGF0aW1lLG10aW1lKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OnRydWV9KTt2YXIgbm9kZT1sb29rdXAubm9kZTtub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSx7dGltZXN0YW1wOk1hdGgubWF4KGF0aW1lLG10aW1lKX0pfSxvcGVuOmZ1bmN0aW9uKHBhdGgsZmxhZ3MsbW9kZSxmZF9zdGFydCxmZF9lbmQpe2lmKHBhdGg9PT1cIlwiKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9ZmxhZ3M9dHlwZW9mIGZsYWdzPT09XCJzdHJpbmdcIj9GUy5tb2RlU3RyaW5nVG9GbGFncyhmbGFncyk6ZmxhZ3M7bW9kZT10eXBlb2YgbW9kZT09PVwidW5kZWZpbmVkXCI/NDM4Om1vZGU7aWYoZmxhZ3MmNjQpe21vZGU9bW9kZSY0MDk1fDMyNzY4fWVsc2V7bW9kZT0wfXZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT09XCJvYmplY3RcIil7bm9kZT1wYXRofWVsc2V7cGF0aD1QQVRILm5vcm1hbGl6ZShwYXRoKTt0cnl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohKGZsYWdzJjEzMTA3Mil9KTtub2RlPWxvb2t1cC5ub2RlfWNhdGNoKGUpe319dmFyIGNyZWF0ZWQ9ZmFsc2U7aWYoZmxhZ3MmNjQpe2lmKG5vZGUpe2lmKGZsYWdzJjEyOCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjApfX1lbHNle25vZGU9RlMubWtub2QocGF0aCxtb2RlLDApO2NyZWF0ZWQ9dHJ1ZX19aWYoIW5vZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1pZihGUy5pc0NocmRldihub2RlLm1vZGUpKXtmbGFncyY9fjUxMn1pZihmbGFncyY2NTUzNiYmIUZTLmlzRGlyKG5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU0KX1pZighY3JlYXRlZCl7dmFyIGVyckNvZGU9RlMubWF5T3Blbihub2RlLGZsYWdzKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX19aWYoZmxhZ3MmNTEyKXtGUy50cnVuY2F0ZShub2RlLDApfWZsYWdzJj1+KDEyOHw1MTJ8MTMxMDcyKTt2YXIgc3RyZWFtPUZTLmNyZWF0ZVN0cmVhbSh7bm9kZTpub2RlLHBhdGg6RlMuZ2V0UGF0aChub2RlKSxpZDpub2RlLmlkLGZsYWdzOmZsYWdzLG1vZGU6bm9kZS5tb2RlLHNlZWthYmxlOnRydWUscG9zaXRpb246MCxzdHJlYW1fb3BzOm5vZGUuc3RyZWFtX29wcyxub2RlX29wczpub2RlLm5vZGVfb3BzLHVuZ290dGVuOltdLGVycm9yOmZhbHNlfSxmZF9zdGFydCxmZF9lbmQpO2lmKHN0cmVhbS5zdHJlYW1fb3BzLm9wZW4pe3N0cmVhbS5zdHJlYW1fb3BzLm9wZW4oc3RyZWFtKX1pZihNb2R1bGVbXCJsb2dSZWFkRmlsZXNcIl0mJiEoZmxhZ3MmMSkpe2lmKCFGUy5yZWFkRmlsZXMpRlMucmVhZEZpbGVzPXt9O2lmKCEocGF0aCBpbiBGUy5yZWFkRmlsZXMpKXtGUy5yZWFkRmlsZXNbcGF0aF09MX19cmV0dXJuIHN0cmVhbX0sY2xvc2U6ZnVuY3Rpb24oc3RyZWFtKXtpZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZihzdHJlYW0uZ2V0ZGVudHMpc3RyZWFtLmdldGRlbnRzPW51bGw7dHJ5e2lmKHN0cmVhbS5zdHJlYW1fb3BzLmNsb3NlKXtzdHJlYW0uc3RyZWFtX29wcy5jbG9zZShzdHJlYW0pfX1jYXRjaChlKXt0aHJvdyBlfWZpbmFsbHl7RlMuY2xvc2VTdHJlYW0oc3RyZWFtLmZkKX1zdHJlYW0uZmQ9bnVsbH0saXNDbG9zZWQ6ZnVuY3Rpb24oc3RyZWFtKXtyZXR1cm4gc3RyZWFtLmZkPT09bnVsbH0sbGxzZWVrOmZ1bmN0aW9uKHN0cmVhbSxvZmZzZXQsd2hlbmNlKXtpZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZighc3RyZWFtLnNlZWthYmxlfHwhc3RyZWFtLnN0cmVhbV9vcHMubGxzZWVrKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig3MCl9aWYod2hlbmNlIT0wJiZ3aGVuY2UhPTEmJndoZW5jZSE9Mil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXN0cmVhbS5wb3NpdGlvbj1zdHJlYW0uc3RyZWFtX29wcy5sbHNlZWsoc3RyZWFtLG9mZnNldCx3aGVuY2UpO3N0cmVhbS51bmdvdHRlbj1bXTtyZXR1cm4gc3RyZWFtLnBvc2l0aW9ufSxyZWFkOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbil7aWYobGVuZ3RoPDB8fHBvc2l0aW9uPDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoRlMuaXNEaXIoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDMxKX1pZighc3RyZWFtLnN0cmVhbV9vcHMucmVhZCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBzZWVraW5nPXR5cGVvZiBwb3NpdGlvbiE9PVwidW5kZWZpbmVkXCI7aWYoIXNlZWtpbmcpe3Bvc2l0aW9uPXN0cmVhbS5wb3NpdGlvbn1lbHNlIGlmKCFzdHJlYW0uc2Vla2FibGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDcwKX12YXIgYnl0ZXNSZWFkPXN0cmVhbS5zdHJlYW1fb3BzLnJlYWQoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uKTtpZighc2Vla2luZylzdHJlYW0ucG9zaXRpb24rPWJ5dGVzUmVhZDtyZXR1cm4gYnl0ZXNSZWFkfSx3cml0ZTpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24sY2FuT3duKXtpZihsZW5ndGg8MHx8cG9zaXRpb248MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfWlmKEZTLmlzQ2xvc2VkKHN0cmVhbSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKChzdHJlYW0uZmxhZ3MmMjA5NzE1NSk9PT0wKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZihGUy5pc0RpcihzdHJlYW0ubm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzEpfWlmKCFzdHJlYW0uc3RyZWFtX29wcy53cml0ZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfWlmKHN0cmVhbS5zZWVrYWJsZSYmc3RyZWFtLmZsYWdzJjEwMjQpe0ZTLmxsc2VlayhzdHJlYW0sMCwyKX12YXIgc2Vla2luZz10eXBlb2YgcG9zaXRpb24hPT1cInVuZGVmaW5lZFwiO2lmKCFzZWVraW5nKXtwb3NpdGlvbj1zdHJlYW0ucG9zaXRpb259ZWxzZSBpZighc3RyZWFtLnNlZWthYmxlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig3MCl9dmFyIGJ5dGVzV3JpdHRlbj1zdHJlYW0uc3RyZWFtX29wcy53cml0ZShzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24sY2FuT3duKTtpZighc2Vla2luZylzdHJlYW0ucG9zaXRpb24rPWJ5dGVzV3JpdHRlbjtyZXR1cm4gYnl0ZXNXcml0dGVufSxhbGxvY2F0ZTpmdW5jdGlvbihzdHJlYW0sb2Zmc2V0LGxlbmd0aCl7aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYob2Zmc2V0PDB8fGxlbmd0aDw9MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfWlmKChzdHJlYW0uZmxhZ3MmMjA5NzE1NSk9PT0wKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZighRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpJiYhRlMuaXNEaXIoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKX1pZighc3RyZWFtLnN0cmVhbV9vcHMuYWxsb2NhdGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEzOCl9c3RyZWFtLnN0cmVhbV9vcHMuYWxsb2NhdGUoc3RyZWFtLG9mZnNldCxsZW5ndGgpfSxtbWFwOmZ1bmN0aW9uKHN0cmVhbSxhZGRyZXNzLGxlbmd0aCxwb3NpdGlvbixwcm90LGZsYWdzKXtpZigocHJvdCYyKSE9PTAmJihmbGFncyYyKT09PTAmJihzdHJlYW0uZmxhZ3MmMjA5NzE1NSkhPT0yKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyKX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMil9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLm1tYXApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKX1yZXR1cm4gc3RyZWFtLnN0cmVhbV9vcHMubW1hcChzdHJlYW0sYWRkcmVzcyxsZW5ndGgscG9zaXRpb24scHJvdCxmbGFncyl9LG1zeW5jOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxtbWFwRmxhZ3Mpe2lmKCFzdHJlYW18fCFzdHJlYW0uc3RyZWFtX29wcy5tc3luYyl7cmV0dXJuIDB9cmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLm1zeW5jKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxtbWFwRmxhZ3MpfSxtdW5tYXA6ZnVuY3Rpb24oc3RyZWFtKXtyZXR1cm4gMH0saW9jdGw6ZnVuY3Rpb24oc3RyZWFtLGNtZCxhcmcpe2lmKCFzdHJlYW0uc3RyZWFtX29wcy5pb2N0bCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTkpfXJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5pb2N0bChzdHJlYW0sY21kLGFyZyl9LHJlYWRGaWxlOmZ1bmN0aW9uKHBhdGgsb3B0cyl7b3B0cz1vcHRzfHx7fTtvcHRzLmZsYWdzPW9wdHMuZmxhZ3N8fDA7b3B0cy5lbmNvZGluZz1vcHRzLmVuY29kaW5nfHxcImJpbmFyeVwiO2lmKG9wdHMuZW5jb2RpbmchPT1cInV0ZjhcIiYmb3B0cy5lbmNvZGluZyE9PVwiYmluYXJ5XCIpe3Rocm93IG5ldyBFcnJvcignSW52YWxpZCBlbmNvZGluZyB0eXBlIFwiJytvcHRzLmVuY29kaW5nKydcIicpfXZhciByZXQ7dmFyIHN0cmVhbT1GUy5vcGVuKHBhdGgsb3B0cy5mbGFncyk7dmFyIHN0YXQ9RlMuc3RhdChwYXRoKTt2YXIgbGVuZ3RoPXN0YXQuc2l6ZTt2YXIgYnVmPW5ldyBVaW50OEFycmF5KGxlbmd0aCk7RlMucmVhZChzdHJlYW0sYnVmLDAsbGVuZ3RoLDApO2lmKG9wdHMuZW5jb2Rpbmc9PT1cInV0ZjhcIil7cmV0PVVURjhBcnJheVRvU3RyaW5nKGJ1ZiwwKX1lbHNlIGlmKG9wdHMuZW5jb2Rpbmc9PT1cImJpbmFyeVwiKXtyZXQ9YnVmfUZTLmNsb3NlKHN0cmVhbSk7cmV0dXJuIHJldH0sd3JpdGVGaWxlOmZ1bmN0aW9uKHBhdGgsZGF0YSxvcHRzKXtvcHRzPW9wdHN8fHt9O29wdHMuZmxhZ3M9b3B0cy5mbGFnc3x8NTc3O3ZhciBzdHJlYW09RlMub3BlbihwYXRoLG9wdHMuZmxhZ3Msb3B0cy5tb2RlKTtpZih0eXBlb2YgZGF0YT09PVwic3RyaW5nXCIpe3ZhciBidWY9bmV3IFVpbnQ4QXJyYXkobGVuZ3RoQnl0ZXNVVEY4KGRhdGEpKzEpO3ZhciBhY3R1YWxOdW1CeXRlcz1zdHJpbmdUb1VURjhBcnJheShkYXRhLGJ1ZiwwLGJ1Zi5sZW5ndGgpO0ZTLndyaXRlKHN0cmVhbSxidWYsMCxhY3R1YWxOdW1CeXRlcyx1bmRlZmluZWQsb3B0cy5jYW5Pd24pfWVsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKXtGUy53cml0ZShzdHJlYW0sZGF0YSwwLGRhdGEuYnl0ZUxlbmd0aCx1bmRlZmluZWQsb3B0cy5jYW5Pd24pfWVsc2V7dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlXCIpfUZTLmNsb3NlKHN0cmVhbSl9LGN3ZDpmdW5jdGlvbigpe3JldHVybiBGUy5jdXJyZW50UGF0aH0sY2hkaXI6ZnVuY3Rpb24ocGF0aCl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7aWYobG9va3VwLm5vZGU9PT1udWxsKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9aWYoIUZTLmlzRGlyKGxvb2t1cC5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCl9dmFyIGVyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKGxvb2t1cC5ub2RlLFwieFwiKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1GUy5jdXJyZW50UGF0aD1sb29rdXAucGF0aH0sY3JlYXRlRGVmYXVsdERpcmVjdG9yaWVzOmZ1bmN0aW9uKCl7RlMubWtkaXIoXCIvdG1wXCIpO0ZTLm1rZGlyKFwiL2hvbWVcIik7RlMubWtkaXIoXCIvaG9tZS93ZWJfdXNlclwiKX0sY3JlYXRlRGVmYXVsdERldmljZXM6ZnVuY3Rpb24oKXtGUy5ta2RpcihcIi9kZXZcIik7RlMucmVnaXN0ZXJEZXZpY2UoRlMubWFrZWRldigxLDMpLHtyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHdyaXRlOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3Mpe3JldHVybiBsZW5ndGh9fSk7RlMubWtkZXYoXCIvZGV2L251bGxcIixGUy5tYWtlZGV2KDEsMykpO1RUWS5yZWdpc3RlcihGUy5tYWtlZGV2KDUsMCksVFRZLmRlZmF1bHRfdHR5X29wcyk7VFRZLnJlZ2lzdGVyKEZTLm1ha2VkZXYoNiwwKSxUVFkuZGVmYXVsdF90dHkxX29wcyk7RlMubWtkZXYoXCIvZGV2L3R0eVwiLEZTLm1ha2VkZXYoNSwwKSk7RlMubWtkZXYoXCIvZGV2L3R0eTFcIixGUy5tYWtlZGV2KDYsMCkpO3ZhciByYW5kb21fZGV2aWNlPWdldFJhbmRvbURldmljZSgpO0ZTLmNyZWF0ZURldmljZShcIi9kZXZcIixcInJhbmRvbVwiLHJhbmRvbV9kZXZpY2UpO0ZTLmNyZWF0ZURldmljZShcIi9kZXZcIixcInVyYW5kb21cIixyYW5kb21fZGV2aWNlKTtGUy5ta2RpcihcIi9kZXYvc2htXCIpO0ZTLm1rZGlyKFwiL2Rldi9zaG0vdG1wXCIpfSxjcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXM6ZnVuY3Rpb24oKXtGUy5ta2RpcihcIi9wcm9jXCIpO3ZhciBwcm9jX3NlbGY9RlMubWtkaXIoXCIvcHJvYy9zZWxmXCIpO0ZTLm1rZGlyKFwiL3Byb2Mvc2VsZi9mZFwiKTtGUy5tb3VudCh7bW91bnQ6ZnVuY3Rpb24oKXt2YXIgbm9kZT1GUy5jcmVhdGVOb2RlKHByb2Nfc2VsZixcImZkXCIsMTYzODR8NTExLDczKTtub2RlLm5vZGVfb3BzPXtsb29rdXA6ZnVuY3Rpb24ocGFyZW50LG5hbWUpe3ZhciBmZD0rbmFtZTt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTt2YXIgcmV0PXtwYXJlbnQ6bnVsbCxtb3VudDp7bW91bnRwb2ludDpcImZha2VcIn0sbm9kZV9vcHM6e3JlYWRsaW5rOmZ1bmN0aW9uKCl7cmV0dXJuIHN0cmVhbS5wYXRofX19O3JldC5wYXJlbnQ9cmV0O3JldHVybiByZXR9fTtyZXR1cm4gbm9kZX19LHt9LFwiL3Byb2Mvc2VsZi9mZFwiKX0sY3JlYXRlU3RhbmRhcmRTdHJlYW1zOmZ1bmN0aW9uKCl7aWYoTW9kdWxlW1wic3RkaW5cIl0pe0ZTLmNyZWF0ZURldmljZShcIi9kZXZcIixcInN0ZGluXCIsTW9kdWxlW1wic3RkaW5cIl0pfWVsc2V7RlMuc3ltbGluayhcIi9kZXYvdHR5XCIsXCIvZGV2L3N0ZGluXCIpfWlmKE1vZHVsZVtcInN0ZG91dFwiXSl7RlMuY3JlYXRlRGV2aWNlKFwiL2RldlwiLFwic3Rkb3V0XCIsbnVsbCxNb2R1bGVbXCJzdGRvdXRcIl0pfWVsc2V7RlMuc3ltbGluayhcIi9kZXYvdHR5XCIsXCIvZGV2L3N0ZG91dFwiKX1pZihNb2R1bGVbXCJzdGRlcnJcIl0pe0ZTLmNyZWF0ZURldmljZShcIi9kZXZcIixcInN0ZGVyclwiLG51bGwsTW9kdWxlW1wic3RkZXJyXCJdKX1lbHNle0ZTLnN5bWxpbmsoXCIvZGV2L3R0eTFcIixcIi9kZXYvc3RkZXJyXCIpfXZhciBzdGRpbj1GUy5vcGVuKFwiL2Rldi9zdGRpblwiLDApO3ZhciBzdGRvdXQ9RlMub3BlbihcIi9kZXYvc3Rkb3V0XCIsMSk7dmFyIHN0ZGVycj1GUy5vcGVuKFwiL2Rldi9zdGRlcnJcIiwxKX0sZW5zdXJlRXJybm9FcnJvcjpmdW5jdGlvbigpe2lmKEZTLkVycm5vRXJyb3IpcmV0dXJuO0ZTLkVycm5vRXJyb3I9ZnVuY3Rpb24gRXJybm9FcnJvcihlcnJubyxub2RlKXt0aGlzLm5vZGU9bm9kZTt0aGlzLnNldEVycm5vPWZ1bmN0aW9uKGVycm5vKXt0aGlzLmVycm5vPWVycm5vfTt0aGlzLnNldEVycm5vKGVycm5vKTt0aGlzLm1lc3NhZ2U9XCJGUyBlcnJvclwifTtGUy5FcnJub0Vycm9yLnByb3RvdHlwZT1uZXcgRXJyb3I7RlMuRXJybm9FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3I9RlMuRXJybm9FcnJvcjtbNDRdLmZvckVhY2goZnVuY3Rpb24oY29kZSl7RlMuZ2VuZXJpY0Vycm9yc1tjb2RlXT1uZXcgRlMuRXJybm9FcnJvcihjb2RlKTtGUy5nZW5lcmljRXJyb3JzW2NvZGVdLnN0YWNrPVwiPGdlbmVyaWMgZXJyb3IsIG5vIHN0YWNrPlwifSl9LHN0YXRpY0luaXQ6ZnVuY3Rpb24oKXtGUy5lbnN1cmVFcnJub0Vycm9yKCk7RlMubmFtZVRhYmxlPW5ldyBBcnJheSg0MDk2KTtGUy5tb3VudChNRU1GUyx7fSxcIi9cIik7RlMuY3JlYXRlRGVmYXVsdERpcmVjdG9yaWVzKCk7RlMuY3JlYXRlRGVmYXVsdERldmljZXMoKTtGUy5jcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXMoKTtGUy5maWxlc3lzdGVtcz17XCJNRU1GU1wiOk1FTUZTfX0saW5pdDpmdW5jdGlvbihpbnB1dCxvdXRwdXQsZXJyb3Ipe0ZTLmluaXQuaW5pdGlhbGl6ZWQ9dHJ1ZTtGUy5lbnN1cmVFcnJub0Vycm9yKCk7TW9kdWxlW1wic3RkaW5cIl09aW5wdXR8fE1vZHVsZVtcInN0ZGluXCJdO01vZHVsZVtcInN0ZG91dFwiXT1vdXRwdXR8fE1vZHVsZVtcInN0ZG91dFwiXTtNb2R1bGVbXCJzdGRlcnJcIl09ZXJyb3J8fE1vZHVsZVtcInN0ZGVyclwiXTtGUy5jcmVhdGVTdGFuZGFyZFN0cmVhbXMoKX0scXVpdDpmdW5jdGlvbigpe0ZTLmluaXQuaW5pdGlhbGl6ZWQ9ZmFsc2U7dmFyIGZmbHVzaD1Nb2R1bGVbXCJfZmZsdXNoXCJdO2lmKGZmbHVzaClmZmx1c2goMCk7Zm9yKHZhciBpPTA7aTxGUy5zdHJlYW1zLmxlbmd0aDtpKyspe3ZhciBzdHJlYW09RlMuc3RyZWFtc1tpXTtpZighc3RyZWFtKXtjb250aW51ZX1GUy5jbG9zZShzdHJlYW0pfX0sZ2V0TW9kZTpmdW5jdGlvbihjYW5SZWFkLGNhbldyaXRlKXt2YXIgbW9kZT0wO2lmKGNhblJlYWQpbW9kZXw9MjkyfDczO2lmKGNhbldyaXRlKW1vZGV8PTE0NjtyZXR1cm4gbW9kZX0sZmluZE9iamVjdDpmdW5jdGlvbihwYXRoLGRvbnRSZXNvbHZlTGFzdExpbmspe3ZhciByZXQ9RlMuYW5hbHl6ZVBhdGgocGF0aCxkb250UmVzb2x2ZUxhc3RMaW5rKTtpZihyZXQuZXhpc3RzKXtyZXR1cm4gcmV0Lm9iamVjdH1lbHNle3JldHVybiBudWxsfX0sYW5hbHl6ZVBhdGg6ZnVuY3Rpb24ocGF0aCxkb250UmVzb2x2ZUxhc3RMaW5rKXt0cnl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udFJlc29sdmVMYXN0TGlua30pO3BhdGg9bG9va3VwLnBhdGh9Y2F0Y2goZSl7fXZhciByZXQ9e2lzUm9vdDpmYWxzZSxleGlzdHM6ZmFsc2UsZXJyb3I6MCxuYW1lOm51bGwscGF0aDpudWxsLG9iamVjdDpudWxsLHBhcmVudEV4aXN0czpmYWxzZSxwYXJlbnRQYXRoOm51bGwscGFyZW50T2JqZWN0Om51bGx9O3RyeXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7cGFyZW50OnRydWV9KTtyZXQucGFyZW50RXhpc3RzPXRydWU7cmV0LnBhcmVudFBhdGg9bG9va3VwLnBhdGg7cmV0LnBhcmVudE9iamVjdD1sb29rdXAubm9kZTtyZXQubmFtZT1QQVRILmJhc2VuYW1lKHBhdGgpO2xvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udFJlc29sdmVMYXN0TGlua30pO3JldC5leGlzdHM9dHJ1ZTtyZXQucGF0aD1sb29rdXAucGF0aDtyZXQub2JqZWN0PWxvb2t1cC5ub2RlO3JldC5uYW1lPWxvb2t1cC5ub2RlLm5hbWU7cmV0LmlzUm9vdD1sb29rdXAucGF0aD09PVwiL1wifWNhdGNoKGUpe3JldC5lcnJvcj1lLmVycm5vfXJldHVybiByZXR9LGNyZWF0ZVBhdGg6ZnVuY3Rpb24ocGFyZW50LHBhdGgsY2FuUmVhZCxjYW5Xcml0ZSl7cGFyZW50PXR5cGVvZiBwYXJlbnQ9PT1cInN0cmluZ1wiP3BhcmVudDpGUy5nZXRQYXRoKHBhcmVudCk7dmFyIHBhcnRzPXBhdGguc3BsaXQoXCIvXCIpLnJldmVyc2UoKTt3aGlsZShwYXJ0cy5sZW5ndGgpe3ZhciBwYXJ0PXBhcnRzLnBvcCgpO2lmKCFwYXJ0KWNvbnRpbnVlO3ZhciBjdXJyZW50PVBBVEguam9pbjIocGFyZW50LHBhcnQpO3RyeXtGUy5ta2RpcihjdXJyZW50KX1jYXRjaChlKXt9cGFyZW50PWN1cnJlbnR9cmV0dXJuIGN1cnJlbnR9LGNyZWF0ZUZpbGU6ZnVuY3Rpb24ocGFyZW50LG5hbWUscHJvcGVydGllcyxjYW5SZWFkLGNhbldyaXRlKXt2YXIgcGF0aD1QQVRILmpvaW4yKHR5cGVvZiBwYXJlbnQ9PT1cInN0cmluZ1wiP3BhcmVudDpGUy5nZXRQYXRoKHBhcmVudCksbmFtZSk7dmFyIG1vZGU9RlMuZ2V0TW9kZShjYW5SZWFkLGNhbldyaXRlKTtyZXR1cm4gRlMuY3JlYXRlKHBhdGgsbW9kZSl9LGNyZWF0ZURhdGFGaWxlOmZ1bmN0aW9uKHBhcmVudCxuYW1lLGRhdGEsY2FuUmVhZCxjYW5Xcml0ZSxjYW5Pd24pe3ZhciBwYXRoPW5hbWU/UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT09XCJzdHJpbmdcIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpOnBhcmVudDt2YXIgbW9kZT1GUy5nZXRNb2RlKGNhblJlYWQsY2FuV3JpdGUpO3ZhciBub2RlPUZTLmNyZWF0ZShwYXRoLG1vZGUpO2lmKGRhdGEpe2lmKHR5cGVvZiBkYXRhPT09XCJzdHJpbmdcIil7dmFyIGFycj1uZXcgQXJyYXkoZGF0YS5sZW5ndGgpO2Zvcih2YXIgaT0wLGxlbj1kYXRhLmxlbmd0aDtpPGxlbjsrK2kpYXJyW2ldPWRhdGEuY2hhckNvZGVBdChpKTtkYXRhPWFycn1GUy5jaG1vZChub2RlLG1vZGV8MTQ2KTt2YXIgc3RyZWFtPUZTLm9wZW4obm9kZSw1NzcpO0ZTLndyaXRlKHN0cmVhbSxkYXRhLDAsZGF0YS5sZW5ndGgsMCxjYW5Pd24pO0ZTLmNsb3NlKHN0cmVhbSk7RlMuY2htb2Qobm9kZSxtb2RlKX1yZXR1cm4gbm9kZX0sY3JlYXRlRGV2aWNlOmZ1bmN0aW9uKHBhcmVudCxuYW1lLGlucHV0LG91dHB1dCl7dmFyIHBhdGg9UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT09XCJzdHJpbmdcIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpO3ZhciBtb2RlPUZTLmdldE1vZGUoISFpbnB1dCwhIW91dHB1dCk7aWYoIUZTLmNyZWF0ZURldmljZS5tYWpvcilGUy5jcmVhdGVEZXZpY2UubWFqb3I9NjQ7dmFyIGRldj1GUy5tYWtlZGV2KEZTLmNyZWF0ZURldmljZS5tYWpvcisrLDApO0ZTLnJlZ2lzdGVyRGV2aWNlKGRldix7b3BlbjpmdW5jdGlvbihzdHJlYW0pe3N0cmVhbS5zZWVrYWJsZT1mYWxzZX0sY2xvc2U6ZnVuY3Rpb24oc3RyZWFtKXtpZihvdXRwdXQmJm91dHB1dC5idWZmZXImJm91dHB1dC5idWZmZXIubGVuZ3RoKXtvdXRwdXQoMTApfX0scmVhZDpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKXt2YXIgYnl0ZXNSZWFkPTA7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt2YXIgcmVzdWx0O3RyeXtyZXN1bHQ9aW5wdXQoKX1jYXRjaChlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSl9aWYocmVzdWx0PT09dW5kZWZpbmVkJiZieXRlc1JlYWQ9PT0wKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2KX1pZihyZXN1bHQ9PT1udWxsfHxyZXN1bHQ9PT11bmRlZmluZWQpYnJlYWs7Ynl0ZXNSZWFkKys7YnVmZmVyW29mZnNldCtpXT1yZXN1bHR9aWYoYnl0ZXNSZWFkKXtzdHJlYW0ubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKX1yZXR1cm4gYnl0ZXNSZWFkfSx3cml0ZTpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKXtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3RyeXtvdXRwdXQoYnVmZmVyW29mZnNldCtpXSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpfX1pZihsZW5ndGgpe3N0cmVhbS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpfXJldHVybiBpfX0pO3JldHVybiBGUy5ta2RldihwYXRoLG1vZGUsZGV2KX0sZm9yY2VMb2FkRmlsZTpmdW5jdGlvbihvYmope2lmKG9iai5pc0RldmljZXx8b2JqLmlzRm9sZGVyfHxvYmoubGlua3x8b2JqLmNvbnRlbnRzKXJldHVybiB0cnVlO2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBFcnJvcihcIkxhenkgbG9hZGluZyBzaG91bGQgaGF2ZSBiZWVuIHBlcmZvcm1lZCAoY29udGVudHMgc2V0KSBpbiBjcmVhdGVMYXp5RmlsZSwgYnV0IGl0IHdhcyBub3QuIExhenkgbG9hZGluZyBvbmx5IHdvcmtzIGluIHdlYiB3b3JrZXJzLiBVc2UgLS1lbWJlZC1maWxlIG9yIC0tcHJlbG9hZC1maWxlIGluIGVtY2Mgb24gdGhlIG1haW4gdGhyZWFkLlwiKX1lbHNlIGlmKHJlYWRfKXt0cnl7b2JqLmNvbnRlbnRzPWludEFycmF5RnJvbVN0cmluZyhyZWFkXyhvYmoudXJsKSx0cnVlKTtvYmoudXNlZEJ5dGVzPW9iai5jb250ZW50cy5sZW5ndGh9Y2F0Y2goZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpfX1lbHNle3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBsb2FkIHdpdGhvdXQgcmVhZCgpIG9yIFhNTEh0dHBSZXF1ZXN0LlwiKX19LGNyZWF0ZUxhenlGaWxlOmZ1bmN0aW9uKHBhcmVudCxuYW1lLHVybCxjYW5SZWFkLGNhbldyaXRlKXtmdW5jdGlvbiBMYXp5VWludDhBcnJheSgpe3RoaXMubGVuZ3RoS25vd249ZmFsc2U7dGhpcy5jaHVua3M9W119TGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLmdldD1mdW5jdGlvbiBMYXp5VWludDhBcnJheV9nZXQoaWR4KXtpZihpZHg+dGhpcy5sZW5ndGgtMXx8aWR4PDApe3JldHVybiB1bmRlZmluZWR9dmFyIGNodW5rT2Zmc2V0PWlkeCV0aGlzLmNodW5rU2l6ZTt2YXIgY2h1bmtOdW09aWR4L3RoaXMuY2h1bmtTaXplfDA7cmV0dXJuIHRoaXMuZ2V0dGVyKGNodW5rTnVtKVtjaHVua09mZnNldF19O0xhenlVaW50OEFycmF5LnByb3RvdHlwZS5zZXREYXRhR2V0dGVyPWZ1bmN0aW9uIExhenlVaW50OEFycmF5X3NldERhdGFHZXR0ZXIoZ2V0dGVyKXt0aGlzLmdldHRlcj1nZXR0ZXJ9O0xhenlVaW50OEFycmF5LnByb3RvdHlwZS5jYWNoZUxlbmd0aD1mdW5jdGlvbiBMYXp5VWludDhBcnJheV9jYWNoZUxlbmd0aCgpe3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKFwiSEVBRFwiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7aWYoISh4aHIuc3RhdHVzPj0yMDAmJnhoci5zdGF0dXM8MzAwfHx4aHIuc3RhdHVzPT09MzA0KSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBsb2FkIFwiK3VybCtcIi4gU3RhdHVzOiBcIit4aHIuc3RhdHVzKTt2YXIgZGF0YWxlbmd0aD1OdW1iZXIoeGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1sZW5ndGhcIikpO3ZhciBoZWFkZXI7dmFyIGhhc0J5dGVTZXJ2aW5nPShoZWFkZXI9eGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQWNjZXB0LVJhbmdlc1wiKSkmJmhlYWRlcj09PVwiYnl0ZXNcIjt2YXIgdXNlc0d6aXA9KGhlYWRlcj14aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LUVuY29kaW5nXCIpKSYmaGVhZGVyPT09XCJnemlwXCI7dmFyIGNodW5rU2l6ZT0xMDI0KjEwMjQ7aWYoIWhhc0J5dGVTZXJ2aW5nKWNodW5rU2l6ZT1kYXRhbGVuZ3RoO3ZhciBkb1hIUj1mdW5jdGlvbihmcm9tLHRvKXtpZihmcm9tPnRvKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcmFuZ2UgKFwiK2Zyb20rXCIsIFwiK3RvK1wiKSBvciBubyBieXRlcyByZXF1ZXN0ZWQhXCIpO2lmKHRvPmRhdGFsZW5ndGgtMSl0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IFwiK2RhdGFsZW5ndGgrXCIgYnl0ZXMgYXZhaWxhYmxlISBwcm9ncmFtbWVyIGVycm9yIVwiKTt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbihcIkdFVFwiLHVybCxmYWxzZSk7aWYoZGF0YWxlbmd0aCE9PWNodW5rU2l6ZSl4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsXCJieXRlcz1cIitmcm9tK1wiLVwiK3RvKTtpZih0eXBlb2YgVWludDhBcnJheSE9XCJ1bmRlZmluZWRcIil4aHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIjtpZih4aHIub3ZlcnJpZGVNaW1lVHlwZSl7eGhyLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpfXhoci5zZW5kKG51bGwpO2lmKCEoeGhyLnN0YXR1cz49MjAwJiZ4aHIuc3RhdHVzPDMwMHx8eGhyLnN0YXR1cz09PTMwNCkpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgbG9hZCBcIit1cmwrXCIuIFN0YXR1czogXCIreGhyLnN0YXR1cyk7aWYoeGhyLnJlc3BvbnNlIT09dW5kZWZpbmVkKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlfHxbXSl9ZWxzZXtyZXR1cm4gaW50QXJyYXlGcm9tU3RyaW5nKHhoci5yZXNwb25zZVRleHR8fFwiXCIsdHJ1ZSl9fTt2YXIgbGF6eUFycmF5PXRoaXM7bGF6eUFycmF5LnNldERhdGFHZXR0ZXIoZnVuY3Rpb24oY2h1bmtOdW0pe3ZhciBzdGFydD1jaHVua051bSpjaHVua1NpemU7dmFyIGVuZD0oY2h1bmtOdW0rMSkqY2h1bmtTaXplLTE7ZW5kPU1hdGgubWluKGVuZCxkYXRhbGVuZ3RoLTEpO2lmKHR5cGVvZiBsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT09PVwidW5kZWZpbmVkXCIpe2xhenlBcnJheS5jaHVua3NbY2h1bmtOdW1dPWRvWEhSKHN0YXJ0LGVuZCl9aWYodHlwZW9mIGxhenlBcnJheS5jaHVua3NbY2h1bmtOdW1dPT09XCJ1bmRlZmluZWRcIil0aHJvdyBuZXcgRXJyb3IoXCJkb1hIUiBmYWlsZWQhXCIpO3JldHVybiBsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXX0pO2lmKHVzZXNHemlwfHwhZGF0YWxlbmd0aCl7Y2h1bmtTaXplPWRhdGFsZW5ndGg9MTtkYXRhbGVuZ3RoPXRoaXMuZ2V0dGVyKDApLmxlbmd0aDtjaHVua1NpemU9ZGF0YWxlbmd0aDtvdXQoXCJMYXp5RmlsZXMgb24gZ3ppcCBmb3JjZXMgZG93bmxvYWQgb2YgdGhlIHdob2xlIGZpbGUgd2hlbiBsZW5ndGggaXMgYWNjZXNzZWRcIil9dGhpcy5fbGVuZ3RoPWRhdGFsZW5ndGg7dGhpcy5fY2h1bmtTaXplPWNodW5rU2l6ZTt0aGlzLmxlbmd0aEtub3duPXRydWV9O2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCE9PVwidW5kZWZpbmVkXCIpe2lmKCFFTlZJUk9OTUVOVF9JU19XT1JLRVIpdGhyb3dcIkNhbm5vdCBkbyBzeW5jaHJvbm91cyBiaW5hcnkgWEhScyBvdXRzaWRlIHdlYndvcmtlcnMgaW4gbW9kZXJuIGJyb3dzZXJzLiBVc2UgLS1lbWJlZC1maWxlIG9yIC0tcHJlbG9hZC1maWxlIGluIGVtY2NcIjt2YXIgbGF6eUFycmF5PW5ldyBMYXp5VWludDhBcnJheTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsYXp5QXJyYXkse2xlbmd0aDp7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMubGVuZ3RoS25vd24pe3RoaXMuY2FjaGVMZW5ndGgoKX1yZXR1cm4gdGhpcy5fbGVuZ3RofX0sY2h1bmtTaXplOntnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5sZW5ndGhLbm93bil7dGhpcy5jYWNoZUxlbmd0aCgpfXJldHVybiB0aGlzLl9jaHVua1NpemV9fX0pO3ZhciBwcm9wZXJ0aWVzPXtpc0RldmljZTpmYWxzZSxjb250ZW50czpsYXp5QXJyYXl9fWVsc2V7dmFyIHByb3BlcnRpZXM9e2lzRGV2aWNlOmZhbHNlLHVybDp1cmx9fXZhciBub2RlPUZTLmNyZWF0ZUZpbGUocGFyZW50LG5hbWUscHJvcGVydGllcyxjYW5SZWFkLGNhbldyaXRlKTtpZihwcm9wZXJ0aWVzLmNvbnRlbnRzKXtub2RlLmNvbnRlbnRzPXByb3BlcnRpZXMuY29udGVudHN9ZWxzZSBpZihwcm9wZXJ0aWVzLnVybCl7bm9kZS5jb250ZW50cz1udWxsO25vZGUudXJsPXByb3BlcnRpZXMudXJsfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5vZGUse3VzZWRCeXRlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudHMubGVuZ3RofX19KTt2YXIgc3RyZWFtX29wcz17fTt2YXIga2V5cz1PYmplY3Qua2V5cyhub2RlLnN0cmVhbV9vcHMpO2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpe3ZhciBmbj1ub2RlLnN0cmVhbV9vcHNba2V5XTtzdHJlYW1fb3BzW2tleV09ZnVuY3Rpb24gZm9yY2VMb2FkTGF6eUZpbGUoKXtGUy5mb3JjZUxvYWRGaWxlKG5vZGUpO3JldHVybiBmbi5hcHBseShudWxsLGFyZ3VtZW50cyl9fSk7c3RyZWFtX29wcy5yZWFkPWZ1bmN0aW9uIHN0cmVhbV9vcHNfcmVhZChzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24pe0ZTLmZvcmNlTG9hZEZpbGUobm9kZSk7dmFyIGNvbnRlbnRzPXN0cmVhbS5ub2RlLmNvbnRlbnRzO2lmKHBvc2l0aW9uPj1jb250ZW50cy5sZW5ndGgpcmV0dXJuIDA7dmFyIHNpemU9TWF0aC5taW4oY29udGVudHMubGVuZ3RoLXBvc2l0aW9uLGxlbmd0aCk7aWYoY29udGVudHMuc2xpY2Upe2Zvcih2YXIgaT0wO2k8c2l6ZTtpKyspe2J1ZmZlcltvZmZzZXQraV09Y29udGVudHNbcG9zaXRpb24raV19fWVsc2V7Zm9yKHZhciBpPTA7aTxzaXplO2krKyl7YnVmZmVyW29mZnNldCtpXT1jb250ZW50cy5nZXQocG9zaXRpb24raSl9fXJldHVybiBzaXplfTtub2RlLnN0cmVhbV9vcHM9c3RyZWFtX29wcztyZXR1cm4gbm9kZX0sY3JlYXRlUHJlbG9hZGVkRmlsZTpmdW5jdGlvbihwYXJlbnQsbmFtZSx1cmwsY2FuUmVhZCxjYW5Xcml0ZSxvbmxvYWQsb25lcnJvcixkb250Q3JlYXRlRmlsZSxjYW5Pd24scHJlRmluaXNoKXtCcm93c2VyLmluaXQoKTt2YXIgZnVsbG5hbWU9bmFtZT9QQVRIX0ZTLnJlc29sdmUoUEFUSC5qb2luMihwYXJlbnQsbmFtZSkpOnBhcmVudDt2YXIgZGVwPWdldFVuaXF1ZVJ1bkRlcGVuZGVuY3koXCJjcCBcIitmdWxsbmFtZSk7ZnVuY3Rpb24gcHJvY2Vzc0RhdGEoYnl0ZUFycmF5KXtmdW5jdGlvbiBmaW5pc2goYnl0ZUFycmF5KXtpZihwcmVGaW5pc2gpcHJlRmluaXNoKCk7aWYoIWRvbnRDcmVhdGVGaWxlKXtGUy5jcmVhdGVEYXRhRmlsZShwYXJlbnQsbmFtZSxieXRlQXJyYXksY2FuUmVhZCxjYW5Xcml0ZSxjYW5Pd24pfWlmKG9ubG9hZClvbmxvYWQoKTtyZW1vdmVSdW5EZXBlbmRlbmN5KGRlcCl9dmFyIGhhbmRsZWQ9ZmFsc2U7TW9kdWxlW1wicHJlbG9hZFBsdWdpbnNcIl0uZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pe2lmKGhhbmRsZWQpcmV0dXJuO2lmKHBsdWdpbltcImNhbkhhbmRsZVwiXShmdWxsbmFtZSkpe3BsdWdpbltcImhhbmRsZVwiXShieXRlQXJyYXksZnVsbG5hbWUsZmluaXNoLGZ1bmN0aW9uKCl7aWYob25lcnJvcilvbmVycm9yKCk7cmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfSk7aGFuZGxlZD10cnVlfX0pO2lmKCFoYW5kbGVkKWZpbmlzaChieXRlQXJyYXkpfWFkZFJ1bkRlcGVuZGVuY3koZGVwKTtpZih0eXBlb2YgdXJsPT1cInN0cmluZ1wiKXthc3luY0xvYWQodXJsLGZ1bmN0aW9uKGJ5dGVBcnJheSl7cHJvY2Vzc0RhdGEoYnl0ZUFycmF5KX0sb25lcnJvcil9ZWxzZXtwcm9jZXNzRGF0YSh1cmwpfX0saW5kZXhlZERCOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5pbmRleGVkREJ8fHdpbmRvdy5tb3pJbmRleGVkREJ8fHdpbmRvdy53ZWJraXRJbmRleGVkREJ8fHdpbmRvdy5tc0luZGV4ZWREQn0sREJfTkFNRTpmdW5jdGlvbigpe3JldHVyblwiRU1fRlNfXCIrd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSxEQl9WRVJTSU9OOjIwLERCX1NUT1JFX05BTUU6XCJGSUxFX0RBVEFcIixzYXZlRmlsZXNUb0RCOmZ1bmN0aW9uKHBhdGhzLG9ubG9hZCxvbmVycm9yKXtvbmxvYWQ9b25sb2FkfHxmdW5jdGlvbigpe307b25lcnJvcj1vbmVycm9yfHxmdW5jdGlvbigpe307dmFyIGluZGV4ZWREQj1GUy5pbmRleGVkREIoKTt0cnl7dmFyIG9wZW5SZXF1ZXN0PWluZGV4ZWREQi5vcGVuKEZTLkRCX05BTUUoKSxGUy5EQl9WRVJTSU9OKX1jYXRjaChlKXtyZXR1cm4gb25lcnJvcihlKX1vcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24gb3BlblJlcXVlc3Rfb251cGdyYWRlbmVlZGVkKCl7b3V0KFwiY3JlYXRpbmcgZGJcIik7dmFyIGRiPW9wZW5SZXF1ZXN0LnJlc3VsdDtkYi5jcmVhdGVPYmplY3RTdG9yZShGUy5EQl9TVE9SRV9OQU1FKX07b3BlblJlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uIG9wZW5SZXF1ZXN0X29uc3VjY2Vzcygpe3ZhciBkYj1vcGVuUmVxdWVzdC5yZXN1bHQ7dmFyIHRyYW5zYWN0aW9uPWRiLnRyYW5zYWN0aW9uKFtGUy5EQl9TVE9SRV9OQU1FXSxcInJlYWR3cml0ZVwiKTt2YXIgZmlsZXM9dHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoRlMuREJfU1RPUkVfTkFNRSk7dmFyIG9rPTAsZmFpbD0wLHRvdGFsPXBhdGhzLmxlbmd0aDtmdW5jdGlvbiBmaW5pc2goKXtpZihmYWlsPT0wKW9ubG9hZCgpO2Vsc2Ugb25lcnJvcigpfXBhdGhzLmZvckVhY2goZnVuY3Rpb24ocGF0aCl7dmFyIHB1dFJlcXVlc3Q9ZmlsZXMucHV0KEZTLmFuYWx5emVQYXRoKHBhdGgpLm9iamVjdC5jb250ZW50cyxwYXRoKTtwdXRSZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbiBwdXRSZXF1ZXN0X29uc3VjY2Vzcygpe29rKys7aWYob2srZmFpbD09dG90YWwpZmluaXNoKCl9O3B1dFJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbiBwdXRSZXF1ZXN0X29uZXJyb3IoKXtmYWlsKys7aWYob2srZmFpbD09dG90YWwpZmluaXNoKCl9fSk7dHJhbnNhY3Rpb24ub25lcnJvcj1vbmVycm9yfTtvcGVuUmVxdWVzdC5vbmVycm9yPW9uZXJyb3J9LGxvYWRGaWxlc0Zyb21EQjpmdW5jdGlvbihwYXRocyxvbmxvYWQsb25lcnJvcil7b25sb2FkPW9ubG9hZHx8ZnVuY3Rpb24oKXt9O29uZXJyb3I9b25lcnJvcnx8ZnVuY3Rpb24oKXt9O3ZhciBpbmRleGVkREI9RlMuaW5kZXhlZERCKCk7dHJ5e3ZhciBvcGVuUmVxdWVzdD1pbmRleGVkREIub3BlbihGUy5EQl9OQU1FKCksRlMuREJfVkVSU0lPTil9Y2F0Y2goZSl7cmV0dXJuIG9uZXJyb3IoZSl9b3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkPW9uZXJyb3I7b3BlblJlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uIG9wZW5SZXF1ZXN0X29uc3VjY2Vzcygpe3ZhciBkYj1vcGVuUmVxdWVzdC5yZXN1bHQ7dHJ5e3ZhciB0cmFuc2FjdGlvbj1kYi50cmFuc2FjdGlvbihbRlMuREJfU1RPUkVfTkFNRV0sXCJyZWFkb25seVwiKX1jYXRjaChlKXtvbmVycm9yKGUpO3JldHVybn12YXIgZmlsZXM9dHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoRlMuREJfU1RPUkVfTkFNRSk7dmFyIG9rPTAsZmFpbD0wLHRvdGFsPXBhdGhzLmxlbmd0aDtmdW5jdGlvbiBmaW5pc2goKXtpZihmYWlsPT0wKW9ubG9hZCgpO2Vsc2Ugb25lcnJvcigpfXBhdGhzLmZvckVhY2goZnVuY3Rpb24ocGF0aCl7dmFyIGdldFJlcXVlc3Q9ZmlsZXMuZ2V0KHBhdGgpO2dldFJlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uIGdldFJlcXVlc3Rfb25zdWNjZXNzKCl7aWYoRlMuYW5hbHl6ZVBhdGgocGF0aCkuZXhpc3RzKXtGUy51bmxpbmsocGF0aCl9RlMuY3JlYXRlRGF0YUZpbGUoUEFUSC5kaXJuYW1lKHBhdGgpLFBBVEguYmFzZW5hbWUocGF0aCksZ2V0UmVxdWVzdC5yZXN1bHQsdHJ1ZSx0cnVlLHRydWUpO29rKys7aWYob2srZmFpbD09dG90YWwpZmluaXNoKCl9O2dldFJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbiBnZXRSZXF1ZXN0X29uZXJyb3IoKXtmYWlsKys7aWYob2srZmFpbD09dG90YWwpZmluaXNoKCl9fSk7dHJhbnNhY3Rpb24ub25lcnJvcj1vbmVycm9yfTtvcGVuUmVxdWVzdC5vbmVycm9yPW9uZXJyb3J9fTt2YXIgU1lTQ0FMTFM9e21hcHBpbmdzOnt9LERFRkFVTFRfUE9MTE1BU0s6NSxjYWxjdWxhdGVBdDpmdW5jdGlvbihkaXJmZCxwYXRoLGFsbG93RW1wdHkpe2lmKHBhdGhbMF09PT1cIi9cIil7cmV0dXJuIHBhdGh9dmFyIGRpcjtpZihkaXJmZD09PS0xMDApe2Rpcj1GUy5jd2QoKX1lbHNle3ZhciBkaXJzdHJlYW09RlMuZ2V0U3RyZWFtKGRpcmZkKTtpZighZGlyc3RyZWFtKXRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO2Rpcj1kaXJzdHJlYW0ucGF0aH1pZihwYXRoLmxlbmd0aD09MCl7aWYoIWFsbG93RW1wdHkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX1yZXR1cm4gZGlyfXJldHVybiBQQVRILmpvaW4yKGRpcixwYXRoKX0sZG9TdGF0OmZ1bmN0aW9uKGZ1bmMscGF0aCxidWYpe3RyeXt2YXIgc3RhdD1mdW5jKHBhdGgpfWNhdGNoKGUpe2lmKGUmJmUubm9kZSYmUEFUSC5ub3JtYWxpemUocGF0aCkhPT1QQVRILm5vcm1hbGl6ZShGUy5nZXRQYXRoKGUubm9kZSkpKXtyZXR1cm4tNTR9dGhyb3cgZX1IRUFQMzJbYnVmPj4yXT1zdGF0LmRldjtIRUFQMzJbYnVmKzQ+PjJdPTA7SEVBUDMyW2J1Zis4Pj4yXT1zdGF0LmlubztIRUFQMzJbYnVmKzEyPj4yXT1zdGF0Lm1vZGU7SEVBUDMyW2J1ZisxNj4+Ml09c3RhdC5ubGluaztIRUFQMzJbYnVmKzIwPj4yXT1zdGF0LnVpZDtIRUFQMzJbYnVmKzI0Pj4yXT1zdGF0LmdpZDtIRUFQMzJbYnVmKzI4Pj4yXT1zdGF0LnJkZXY7SEVBUDMyW2J1ZiszMj4+Ml09MDt0ZW1wSTY0PVtzdGF0LnNpemU+Pj4wLCh0ZW1wRG91YmxlPXN0YXQuc2l6ZSwrTWF0aC5hYnModGVtcERvdWJsZSk+PTE/dGVtcERvdWJsZT4wPyhNYXRoLm1pbigrTWF0aC5mbG9vcih0ZW1wRG91YmxlLzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTUpfDApPj4+MDp+fitNYXRoLmNlaWwoKHRlbXBEb3VibGUtKyh+fnRlbXBEb3VibGU+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApXSxIRUFQMzJbYnVmKzQwPj4yXT10ZW1wSTY0WzBdLEhFQVAzMltidWYrNDQ+PjJdPXRlbXBJNjRbMV07SEVBUDMyW2J1Zis0OD4+Ml09NDA5NjtIRUFQMzJbYnVmKzUyPj4yXT1zdGF0LmJsb2NrcztIRUFQMzJbYnVmKzU2Pj4yXT1zdGF0LmF0aW1lLmdldFRpbWUoKS8xZTN8MDtIRUFQMzJbYnVmKzYwPj4yXT0wO0hFQVAzMltidWYrNjQ+PjJdPXN0YXQubXRpbWUuZ2V0VGltZSgpLzFlM3wwO0hFQVAzMltidWYrNjg+PjJdPTA7SEVBUDMyW2J1Zis3Mj4+Ml09c3RhdC5jdGltZS5nZXRUaW1lKCkvMWUzfDA7SEVBUDMyW2J1Zis3Nj4+Ml09MDt0ZW1wSTY0PVtzdGF0Lmlubz4+PjAsKHRlbXBEb3VibGU9c3RhdC5pbm8sK01hdGguYWJzKHRlbXBEb3VibGUpPj0xP3RlbXBEb3VibGU+MD8oTWF0aC5taW4oK01hdGguZmxvb3IodGVtcERvdWJsZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh0ZW1wRG91YmxlLSsofn50ZW1wRG91YmxlPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sSEVBUDMyW2J1Zis4MD4+Ml09dGVtcEk2NFswXSxIRUFQMzJbYnVmKzg0Pj4yXT10ZW1wSTY0WzFdO3JldHVybiAwfSxkb01zeW5jOmZ1bmN0aW9uKGFkZHIsc3RyZWFtLGxlbixmbGFncyxvZmZzZXQpe3ZhciBidWZmZXI9SEVBUFU4LnNsaWNlKGFkZHIsYWRkcitsZW4pO0ZTLm1zeW5jKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbixmbGFncyl9LGRvTWtkaXI6ZnVuY3Rpb24ocGF0aCxtb2RlKXtwYXRoPVBBVEgubm9ybWFsaXplKHBhdGgpO2lmKHBhdGhbcGF0aC5sZW5ndGgtMV09PT1cIi9cIilwYXRoPXBhdGguc3Vic3RyKDAscGF0aC5sZW5ndGgtMSk7RlMubWtkaXIocGF0aCxtb2RlLDApO3JldHVybiAwfSxkb01rbm9kOmZ1bmN0aW9uKHBhdGgsbW9kZSxkZXYpe3N3aXRjaChtb2RlJjYxNDQwKXtjYXNlIDMyNzY4OmNhc2UgODE5MjpjYXNlIDI0NTc2OmNhc2UgNDA5NjpjYXNlIDQ5MTUyOmJyZWFrO2RlZmF1bHQ6cmV0dXJuLTI4fUZTLm1rbm9kKHBhdGgsbW9kZSxkZXYpO3JldHVybiAwfSxkb1JlYWRsaW5rOmZ1bmN0aW9uKHBhdGgsYnVmLGJ1ZnNpemUpe2lmKGJ1ZnNpemU8PTApcmV0dXJuLTI4O3ZhciByZXQ9RlMucmVhZGxpbmsocGF0aCk7dmFyIGxlbj1NYXRoLm1pbihidWZzaXplLGxlbmd0aEJ5dGVzVVRGOChyZXQpKTt2YXIgZW5kQ2hhcj1IRUFQOFtidWYrbGVuXTtzdHJpbmdUb1VURjgocmV0LGJ1ZixidWZzaXplKzEpO0hFQVA4W2J1ZitsZW5dPWVuZENoYXI7cmV0dXJuIGxlbn0sZG9BY2Nlc3M6ZnVuY3Rpb24ocGF0aCxhbW9kZSl7aWYoYW1vZGUmfjcpe3JldHVybi0yOH12YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7Zm9sbG93OnRydWV9KTt2YXIgbm9kZT1sb29rdXAubm9kZTtpZighbm9kZSl7cmV0dXJuLTQ0fXZhciBwZXJtcz1cIlwiO2lmKGFtb2RlJjQpcGVybXMrPVwiclwiO2lmKGFtb2RlJjIpcGVybXMrPVwid1wiO2lmKGFtb2RlJjEpcGVybXMrPVwieFwiO2lmKHBlcm1zJiZGUy5ub2RlUGVybWlzc2lvbnMobm9kZSxwZXJtcykpe3JldHVybi0yfXJldHVybiAwfSxkb0R1cDpmdW5jdGlvbihwYXRoLGZsYWdzLHN1Z2dlc3RGRCl7dmFyIHN1Z2dlc3Q9RlMuZ2V0U3RyZWFtKHN1Z2dlc3RGRCk7aWYoc3VnZ2VzdClGUy5jbG9zZShzdWdnZXN0KTtyZXR1cm4gRlMub3BlbihwYXRoLGZsYWdzLDAsc3VnZ2VzdEZELHN1Z2dlc3RGRCkuZmR9LGRvUmVhZHY6ZnVuY3Rpb24oc3RyZWFtLGlvdixpb3ZjbnQsb2Zmc2V0KXt2YXIgcmV0PTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVAzMltpb3YraSo4Pj4yXTt2YXIgbGVuPUhFQVAzMltpb3YrKGkqOCs0KT4+Ml07dmFyIGN1cnI9RlMucmVhZChzdHJlYW0sSEVBUDgscHRyLGxlbixvZmZzZXQpO2lmKGN1cnI8MClyZXR1cm4tMTtyZXQrPWN1cnI7aWYoY3VycjxsZW4pYnJlYWt9cmV0dXJuIHJldH0sZG9Xcml0ZXY6ZnVuY3Rpb24oc3RyZWFtLGlvdixpb3ZjbnQsb2Zmc2V0KXt2YXIgcmV0PTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVAzMltpb3YraSo4Pj4yXTt2YXIgbGVuPUhFQVAzMltpb3YrKGkqOCs0KT4+Ml07dmFyIGN1cnI9RlMud3JpdGUoc3RyZWFtLEhFQVA4LHB0cixsZW4sb2Zmc2V0KTtpZihjdXJyPDApcmV0dXJuLTE7cmV0Kz1jdXJyfXJldHVybiByZXR9LHZhcmFyZ3M6dW5kZWZpbmVkLGdldDpmdW5jdGlvbigpe1NZU0NBTExTLnZhcmFyZ3MrPTQ7dmFyIHJldD1IRUFQMzJbU1lTQ0FMTFMudmFyYXJncy00Pj4yXTtyZXR1cm4gcmV0fSxnZXRTdHI6ZnVuY3Rpb24ocHRyKXt2YXIgcmV0PVVURjhUb1N0cmluZyhwdHIpO3JldHVybiByZXR9LGdldFN0cmVhbUZyb21GRDpmdW5jdGlvbihmZCl7dmFyIHN0cmVhbT1GUy5nZXRTdHJlYW0oZmQpO2lmKCFzdHJlYW0pdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7cmV0dXJuIHN0cmVhbX0sZ2V0NjQ6ZnVuY3Rpb24obG93LGhpZ2gpe3JldHVybiBsb3d9fTtmdW5jdGlvbiBfX19zeXNjYWxsX2ZjbnRsNjQoZmQsY21kLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3N3aXRjaChjbWQpe2Nhc2UgMDp7dmFyIGFyZz1TWVNDQUxMUy5nZXQoKTtpZihhcmc8MCl7cmV0dXJuLTI4fXZhciBuZXdTdHJlYW07bmV3U3RyZWFtPUZTLm9wZW4oc3RyZWFtLnBhdGgsc3RyZWFtLmZsYWdzLDAsYXJnKTtyZXR1cm4gbmV3U3RyZWFtLmZkfWNhc2UgMTpjYXNlIDI6cmV0dXJuIDA7Y2FzZSAzOnJldHVybiBzdHJlYW0uZmxhZ3M7Y2FzZSA0Ont2YXIgYXJnPVNZU0NBTExTLmdldCgpO3N0cmVhbS5mbGFnc3w9YXJnO3JldHVybiAwfWNhc2UgNTp7dmFyIGFyZz1TWVNDQUxMUy5nZXQoKTt2YXIgb2Zmc2V0PTA7SEVBUDE2W2FyZytvZmZzZXQ+PjFdPTI7cmV0dXJuIDB9Y2FzZSA2OmNhc2UgNzpyZXR1cm4gMDtjYXNlIDE2OmNhc2UgODpyZXR1cm4tMjg7Y2FzZSA5OnNldEVyck5vKDI4KTtyZXR1cm4tMTtkZWZhdWx0OntyZXR1cm4tMjh9fX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX2ZzdGF0NjQoZmQsYnVmKXt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3JldHVybiBTWVNDQUxMUy5kb1N0YXQoRlMuc3RhdCxzdHJlYW0ucGF0aCxidWYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfZnN0YXRhdDY0KGRpcmZkLHBhdGgsYnVmLGZsYWdzKXt0cnl7cGF0aD1TWVNDQUxMUy5nZXRTdHIocGF0aCk7dmFyIG5vZm9sbG93PWZsYWdzJjI1Njt2YXIgYWxsb3dFbXB0eT1mbGFncyY0MDk2O2ZsYWdzPWZsYWdzJn40MzUyO3BhdGg9U1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQscGF0aCxhbGxvd0VtcHR5KTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KG5vZm9sbG93P0ZTLmxzdGF0OkZTLnN0YXQscGF0aCxidWYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfaW9jdGwoZmQsb3AsdmFyYXJncyl7U1lTQ0FMTFMudmFyYXJncz12YXJhcmdzO3RyeXt2YXIgc3RyZWFtPVNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7c3dpdGNoKG9wKXtjYXNlIDIxNTA5OmNhc2UgMjE1MDU6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTtyZXR1cm4gMH1jYXNlIDIxNTEwOmNhc2UgMjE1MTE6Y2FzZSAyMTUxMjpjYXNlIDIxNTA2OmNhc2UgMjE1MDc6Y2FzZSAyMTUwODp7aWYoIXN0cmVhbS50dHkpcmV0dXJuLTU5O3JldHVybiAwfWNhc2UgMjE1MTk6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTt2YXIgYXJncD1TWVNDQUxMUy5nZXQoKTtIRUFQMzJbYXJncD4+Ml09MDtyZXR1cm4gMH1jYXNlIDIxNTIwOntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7cmV0dXJuLTI4fWNhc2UgMjE1MzE6e3ZhciBhcmdwPVNZU0NBTExTLmdldCgpO3JldHVybiBGUy5pb2N0bChzdHJlYW0sb3AsYXJncCl9Y2FzZSAyMTUyMzp7aWYoIXN0cmVhbS50dHkpcmV0dXJuLTU5O3JldHVybiAwfWNhc2UgMjE1MjQ6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTtyZXR1cm4gMH1kZWZhdWx0OmFib3J0KFwiYmFkIGlvY3RsIHN5c2NhbGwgXCIrb3ApfX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBzeXNjYWxsTW1hcDIoYWRkcixsZW4scHJvdCxmbGFncyxmZCxvZmYpe29mZjw8PTEyO3ZhciBwdHI7dmFyIGFsbG9jYXRlZD1mYWxzZTtpZigoZmxhZ3MmMTYpIT09MCYmYWRkciU2NTUzNiE9PTApe3JldHVybi0yOH1pZigoZmxhZ3MmMzIpIT09MCl7cHRyPW1tYXBBbGxvYyhsZW4pO2lmKCFwdHIpcmV0dXJuLTQ4O2FsbG9jYXRlZD10cnVlfWVsc2V7dmFyIGluZm89RlMuZ2V0U3RyZWFtKGZkKTtpZighaW5mbylyZXR1cm4tODt2YXIgcmVzPUZTLm1tYXAoaW5mbyxhZGRyLGxlbixvZmYscHJvdCxmbGFncyk7cHRyPXJlcy5wdHI7YWxsb2NhdGVkPXJlcy5hbGxvY2F0ZWR9U1lTQ0FMTFMubWFwcGluZ3NbcHRyXT17bWFsbG9jOnB0cixsZW46bGVuLGFsbG9jYXRlZDphbGxvY2F0ZWQsZmQ6ZmQscHJvdDpwcm90LGZsYWdzOmZsYWdzLG9mZnNldDpvZmZ9O3JldHVybiBwdHJ9ZnVuY3Rpb24gX19fc3lzY2FsbF9tbWFwMihhZGRyLGxlbixwcm90LGZsYWdzLGZkLG9mZil7dHJ5e3JldHVybiBzeXNjYWxsTW1hcDIoYWRkcixsZW4scHJvdCxmbGFncyxmZCxvZmYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIHN5c2NhbGxNdW5tYXAoYWRkcixsZW4pe3ZhciBpbmZvPVNZU0NBTExTLm1hcHBpbmdzW2FkZHJdO2lmKGxlbj09PTB8fCFpbmZvKXtyZXR1cm4tMjh9aWYobGVuPT09aW5mby5sZW4pe3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGluZm8uZmQpO2lmKHN0cmVhbSl7aWYoaW5mby5wcm90JjIpe1NZU0NBTExTLmRvTXN5bmMoYWRkcixzdHJlYW0sbGVuLGluZm8uZmxhZ3MsaW5mby5vZmZzZXQpfUZTLm11bm1hcChzdHJlYW0pfVNZU0NBTExTLm1hcHBpbmdzW2FkZHJdPW51bGw7aWYoaW5mby5hbGxvY2F0ZWQpe19mcmVlKGluZm8ubWFsbG9jKX19cmV0dXJuIDB9ZnVuY3Rpb24gX19fc3lzY2FsbF9tdW5tYXAoYWRkcixsZW4pe3RyeXtyZXR1cm4gc3lzY2FsbE11bm1hcChhZGRyLGxlbil9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9vcGVuKHBhdGgsZmxhZ3MsdmFyYXJncyl7U1lTQ0FMTFMudmFyYXJncz12YXJhcmdzO3RyeXt2YXIgcGF0aG5hbWU9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3ZhciBtb2RlPXZhcmFyZ3M/U1lTQ0FMTFMuZ2V0KCk6MDt2YXIgc3RyZWFtPUZTLm9wZW4ocGF0aG5hbWUsZmxhZ3MsbW9kZSk7cmV0dXJuIHN0cmVhbS5mZH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX3N0YXQ2NChwYXRoLGJ1Zil7dHJ5e3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3JldHVybiBTWVNDQUxMUy5kb1N0YXQoRlMuc3RhdCxwYXRoLGJ1Zil9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50KHByaW1pdGl2ZVR5cGUsbmFtZSxzaXplLG1pblJhbmdlLG1heFJhbmdlKXt9ZnVuY3Rpb24gZ2V0U2hpZnRGcm9tU2l6ZShzaXplKXtzd2l0Y2goc2l6ZSl7Y2FzZSAxOnJldHVybiAwO2Nhc2UgMjpyZXR1cm4gMTtjYXNlIDQ6cmV0dXJuIDI7Y2FzZSA4OnJldHVybiAzO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gdHlwZSBzaXplOiBcIitzaXplKX19ZnVuY3Rpb24gZW1iaW5kX2luaXRfY2hhckNvZGVzKCl7dmFyIGNvZGVzPW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgaT0wO2k8MjU2OysraSl7Y29kZXNbaV09U3RyaW5nLmZyb21DaGFyQ29kZShpKX1lbWJpbmRfY2hhckNvZGVzPWNvZGVzfXZhciBlbWJpbmRfY2hhckNvZGVzPXVuZGVmaW5lZDtmdW5jdGlvbiByZWFkTGF0aW4xU3RyaW5nKHB0cil7dmFyIHJldD1cIlwiO3ZhciBjPXB0cjt3aGlsZShIRUFQVThbY10pe3JldCs9ZW1iaW5kX2NoYXJDb2Rlc1tIRUFQVThbYysrXV19cmV0dXJuIHJldH12YXIgYXdhaXRpbmdEZXBlbmRlbmNpZXM9e307dmFyIHJlZ2lzdGVyZWRUeXBlcz17fTt2YXIgdHlwZURlcGVuZGVuY2llcz17fTt2YXIgY2hhcl8wPTQ4O3ZhciBjaGFyXzk9NTc7ZnVuY3Rpb24gbWFrZUxlZ2FsRnVuY3Rpb25OYW1lKG5hbWUpe2lmKHVuZGVmaW5lZD09PW5hbWUpe3JldHVyblwiX3Vua25vd25cIn1uYW1lPW5hbWUucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLFwiJFwiKTt2YXIgZj1uYW1lLmNoYXJDb2RlQXQoMCk7aWYoZj49Y2hhcl8wJiZmPD1jaGFyXzkpe3JldHVyblwiX1wiK25hbWV9ZWxzZXtyZXR1cm4gbmFtZX19ZnVuY3Rpb24gY3JlYXRlTmFtZWRGdW5jdGlvbihuYW1lLGJvZHkpe25hbWU9bWFrZUxlZ2FsRnVuY3Rpb25OYW1lKG5hbWUpO3JldHVybiBuZXcgRnVuY3Rpb24oXCJib2R5XCIsXCJyZXR1cm4gZnVuY3Rpb24gXCIrbmFtZStcIigpIHtcXG5cIisnICAgIFwidXNlIHN0cmljdFwiOycrXCIgICAgcmV0dXJuIGJvZHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcXG5cIitcIn07XFxuXCIpKGJvZHkpfWZ1bmN0aW9uIGV4dGVuZEVycm9yKGJhc2VFcnJvclR5cGUsZXJyb3JOYW1lKXt2YXIgZXJyb3JDbGFzcz1jcmVhdGVOYW1lZEZ1bmN0aW9uKGVycm9yTmFtZSxmdW5jdGlvbihtZXNzYWdlKXt0aGlzLm5hbWU9ZXJyb3JOYW1lO3RoaXMubWVzc2FnZT1tZXNzYWdlO3ZhciBzdGFjaz1uZXcgRXJyb3IobWVzc2FnZSkuc3RhY2s7aWYoc3RhY2shPT11bmRlZmluZWQpe3RoaXMuc3RhY2s9dGhpcy50b1N0cmluZygpK1wiXFxuXCIrc3RhY2sucmVwbGFjZSgvXkVycm9yKDpbXlxcbl0qKT9cXG4vLFwiXCIpfX0pO2Vycm9yQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYmFzZUVycm9yVHlwZS5wcm90b3R5cGUpO2Vycm9yQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yPWVycm9yQ2xhc3M7ZXJyb3JDbGFzcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLm1lc3NhZ2U9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLm5hbWV9ZWxzZXtyZXR1cm4gdGhpcy5uYW1lK1wiOiBcIit0aGlzLm1lc3NhZ2V9fTtyZXR1cm4gZXJyb3JDbGFzc312YXIgQmluZGluZ0Vycm9yPXVuZGVmaW5lZDtmdW5jdGlvbiB0aHJvd0JpbmRpbmdFcnJvcihtZXNzYWdlKXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKG1lc3NhZ2UpfXZhciBJbnRlcm5hbEVycm9yPXVuZGVmaW5lZDtmdW5jdGlvbiB0aHJvd0ludGVybmFsRXJyb3IobWVzc2FnZSl7dGhyb3cgbmV3IEludGVybmFsRXJyb3IobWVzc2FnZSl9ZnVuY3Rpb24gd2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQobXlUeXBlcyxkZXBlbmRlbnRUeXBlcyxnZXRUeXBlQ29udmVydGVycyl7bXlUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpe3R5cGVEZXBlbmRlbmNpZXNbdHlwZV09ZGVwZW5kZW50VHlwZXN9KTtmdW5jdGlvbiBvbkNvbXBsZXRlKHR5cGVDb252ZXJ0ZXJzKXt2YXIgbXlUeXBlQ29udmVydGVycz1nZXRUeXBlQ29udmVydGVycyh0eXBlQ29udmVydGVycyk7aWYobXlUeXBlQ29udmVydGVycy5sZW5ndGghPT1teVR5cGVzLmxlbmd0aCl7dGhyb3dJbnRlcm5hbEVycm9yKFwiTWlzbWF0Y2hlZCB0eXBlIGNvbnZlcnRlciBjb3VudFwiKX1mb3IodmFyIGk9MDtpPG15VHlwZXMubGVuZ3RoOysraSl7cmVnaXN0ZXJUeXBlKG15VHlwZXNbaV0sbXlUeXBlQ29udmVydGVyc1tpXSl9fXZhciB0eXBlQ29udmVydGVycz1uZXcgQXJyYXkoZGVwZW5kZW50VHlwZXMubGVuZ3RoKTt2YXIgdW5yZWdpc3RlcmVkVHlwZXM9W107dmFyIHJlZ2lzdGVyZWQ9MDtkZXBlbmRlbnRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uKGR0LGkpe2lmKHJlZ2lzdGVyZWRUeXBlcy5oYXNPd25Qcm9wZXJ0eShkdCkpe3R5cGVDb252ZXJ0ZXJzW2ldPXJlZ2lzdGVyZWRUeXBlc1tkdF19ZWxzZXt1bnJlZ2lzdGVyZWRUeXBlcy5wdXNoKGR0KTtpZighYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoZHQpKXthd2FpdGluZ0RlcGVuZGVuY2llc1tkdF09W119YXdhaXRpbmdEZXBlbmRlbmNpZXNbZHRdLnB1c2goZnVuY3Rpb24oKXt0eXBlQ29udmVydGVyc1tpXT1yZWdpc3RlcmVkVHlwZXNbZHRdOysrcmVnaXN0ZXJlZDtpZihyZWdpc3RlcmVkPT09dW5yZWdpc3RlcmVkVHlwZXMubGVuZ3RoKXtvbkNvbXBsZXRlKHR5cGVDb252ZXJ0ZXJzKX19KX19KTtpZigwPT09dW5yZWdpc3RlcmVkVHlwZXMubGVuZ3RoKXtvbkNvbXBsZXRlKHR5cGVDb252ZXJ0ZXJzKX19ZnVuY3Rpb24gcmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307aWYoIShcImFyZ1BhY2tBZHZhbmNlXCJpbiByZWdpc3RlcmVkSW5zdGFuY2UpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVnaXN0ZXJUeXBlIHJlZ2lzdGVyZWRJbnN0YW5jZSByZXF1aXJlcyBhcmdQYWNrQWR2YW5jZVwiKX12YXIgbmFtZT1yZWdpc3RlcmVkSW5zdGFuY2UubmFtZTtpZighcmF3VHlwZSl7dGhyb3dCaW5kaW5nRXJyb3IoJ3R5cGUgXCInK25hbWUrJ1wiIG11c3QgaGF2ZSBhIHBvc2l0aXZlIGludGVnZXIgdHlwZWlkIHBvaW50ZXInKX1pZihyZWdpc3RlcmVkVHlwZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe2lmKG9wdGlvbnMuaWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9ucyl7cmV0dXJufWVsc2V7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnXCIrbmFtZStcIicgdHdpY2VcIil9fXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXT1yZWdpc3RlcmVkSW5zdGFuY2U7ZGVsZXRlIHR5cGVEZXBlbmRlbmNpZXNbcmF3VHlwZV07aWYoYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe3ZhciBjYWxsYmFja3M9YXdhaXRpbmdEZXBlbmRlbmNpZXNbcmF3VHlwZV07ZGVsZXRlIGF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKGNiKXtjYigpfSl9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2wocmF3VHlwZSxuYW1lLHNpemUsdHJ1ZVZhbHVlLGZhbHNlVmFsdWUpe3ZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLFwiZnJvbVdpcmVUeXBlXCI6ZnVuY3Rpb24od3Qpe3JldHVybiEhd3R9LFwidG9XaXJlVHlwZVwiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLG8pe3JldHVybiBvP3RydWVWYWx1ZTpmYWxzZVZhbHVlfSxcImFyZ1BhY2tBZHZhbmNlXCI6OCxcInJlYWRWYWx1ZUZyb21Qb2ludGVyXCI6ZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA7aWYoc2l6ZT09PTEpe2hlYXA9SEVBUDh9ZWxzZSBpZihzaXplPT09Mil7aGVhcD1IRUFQMTZ9ZWxzZSBpZihzaXplPT09NCl7aGVhcD1IRUFQMzJ9ZWxzZXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBib29sZWFuIHR5cGUgc2l6ZTogXCIrbmFtZSl9cmV0dXJuIHRoaXNbXCJmcm9tV2lyZVR5cGVcIl0oaGVhcFtwb2ludGVyPj5zaGlmdF0pfSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2lzQWxpYXNPZihvdGhlcil7aWYoISh0aGlzIGluc3RhbmNlb2YgQ2xhc3NIYW5kbGUpKXtyZXR1cm4gZmFsc2V9aWYoIShvdGhlciBpbnN0YW5jZW9mIENsYXNzSGFuZGxlKSl7cmV0dXJuIGZhbHNlfXZhciBsZWZ0Q2xhc3M9dGhpcy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgbGVmdD10aGlzLiQkLnB0cjt2YXIgcmlnaHRDbGFzcz1vdGhlci4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgcmlnaHQ9b3RoZXIuJCQucHRyO3doaWxlKGxlZnRDbGFzcy5iYXNlQ2xhc3Mpe2xlZnQ9bGVmdENsYXNzLnVwY2FzdChsZWZ0KTtsZWZ0Q2xhc3M9bGVmdENsYXNzLmJhc2VDbGFzc313aGlsZShyaWdodENsYXNzLmJhc2VDbGFzcyl7cmlnaHQ9cmlnaHRDbGFzcy51cGNhc3QocmlnaHQpO3JpZ2h0Q2xhc3M9cmlnaHRDbGFzcy5iYXNlQ2xhc3N9cmV0dXJuIGxlZnRDbGFzcz09PXJpZ2h0Q2xhc3MmJmxlZnQ9PT1yaWdodH1mdW5jdGlvbiBzaGFsbG93Q29weUludGVybmFsUG9pbnRlcihvKXtyZXR1cm57Y291bnQ6by5jb3VudCxkZWxldGVTY2hlZHVsZWQ6by5kZWxldGVTY2hlZHVsZWQscHJlc2VydmVQb2ludGVyT25EZWxldGU6by5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSxwdHI6by5wdHIscHRyVHlwZTpvLnB0clR5cGUsc21hcnRQdHI6by5zbWFydFB0cixzbWFydFB0clR5cGU6by5zbWFydFB0clR5cGV9fWZ1bmN0aW9uIHRocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZChvYmope2Z1bmN0aW9uIGdldEluc3RhbmNlVHlwZU5hbWUoaGFuZGxlKXtyZXR1cm4gaGFuZGxlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLm5hbWV9dGhyb3dCaW5kaW5nRXJyb3IoZ2V0SW5zdGFuY2VUeXBlTmFtZShvYmopK1wiIGluc3RhbmNlIGFscmVhZHkgZGVsZXRlZFwiKX12YXIgZmluYWxpemF0aW9uR3JvdXA9ZmFsc2U7ZnVuY3Rpb24gZGV0YWNoRmluYWxpemVyKGhhbmRsZSl7fWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3IoJCQpe2lmKCQkLnNtYXJ0UHRyKXskJC5zbWFydFB0clR5cGUucmF3RGVzdHJ1Y3RvcigkJC5zbWFydFB0cil9ZWxzZXskJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5yYXdEZXN0cnVjdG9yKCQkLnB0cil9fWZ1bmN0aW9uIHJlbGVhc2VDbGFzc0hhbmRsZSgkJCl7JCQuY291bnQudmFsdWUtPTE7dmFyIHRvRGVsZXRlPTA9PT0kJC5jb3VudC52YWx1ZTtpZih0b0RlbGV0ZSl7cnVuRGVzdHJ1Y3RvcigkJCl9fWZ1bmN0aW9uIGF0dGFjaEZpbmFsaXplcihoYW5kbGUpe2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgRmluYWxpemF0aW9uR3JvdXApe2F0dGFjaEZpbmFsaXplcj1mdW5jdGlvbihoYW5kbGUpe3JldHVybiBoYW5kbGV9O3JldHVybiBoYW5kbGV9ZmluYWxpemF0aW9uR3JvdXA9bmV3IEZpbmFsaXphdGlvbkdyb3VwKGZ1bmN0aW9uKGl0ZXIpe2Zvcih2YXIgcmVzdWx0PWl0ZXIubmV4dCgpOyFyZXN1bHQuZG9uZTtyZXN1bHQ9aXRlci5uZXh0KCkpe3ZhciAkJD1yZXN1bHQudmFsdWU7aWYoISQkLnB0cil7Y29uc29sZS53YXJuKFwib2JqZWN0IGFscmVhZHkgZGVsZXRlZDogXCIrJCQucHRyKX1lbHNle3JlbGVhc2VDbGFzc0hhbmRsZSgkJCl9fX0pO2F0dGFjaEZpbmFsaXplcj1mdW5jdGlvbihoYW5kbGUpe2ZpbmFsaXphdGlvbkdyb3VwLnJlZ2lzdGVyKGhhbmRsZSxoYW5kbGUuJCQsaGFuZGxlLiQkKTtyZXR1cm4gaGFuZGxlfTtkZXRhY2hGaW5hbGl6ZXI9ZnVuY3Rpb24oaGFuZGxlKXtmaW5hbGl6YXRpb25Hcm91cC51bnJlZ2lzdGVyKGhhbmRsZS4kJCl9O3JldHVybiBhdHRhY2hGaW5hbGl6ZXIoaGFuZGxlKX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9jbG9uZSgpe2lmKCF0aGlzLiQkLnB0cil7dGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKHRoaXMpfWlmKHRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3RoaXMuJCQuY291bnQudmFsdWUrPTE7cmV0dXJuIHRoaXN9ZWxzZXt2YXIgY2xvbmU9YXR0YWNoRmluYWxpemVyKE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHskJDp7dmFsdWU6c2hhbGxvd0NvcHlJbnRlcm5hbFBvaW50ZXIodGhpcy4kJCl9fSkpO2Nsb25lLiQkLmNvdW50LnZhbHVlKz0xO2Nsb25lLiQkLmRlbGV0ZVNjaGVkdWxlZD1mYWxzZTtyZXR1cm4gY2xvbmV9fWZ1bmN0aW9uIENsYXNzSGFuZGxlX2RlbGV0ZSgpe2lmKCF0aGlzLiQkLnB0cil7dGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKHRoaXMpfWlmKHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uXCIpfWRldGFjaEZpbmFsaXplcih0aGlzKTtyZWxlYXNlQ2xhc3NIYW5kbGUodGhpcy4kJCk7aWYoIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3RoaXMuJCQuc21hcnRQdHI9dW5kZWZpbmVkO3RoaXMuJCQucHRyPXVuZGVmaW5lZH19ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfaXNEZWxldGVkKCl7cmV0dXJuIXRoaXMuJCQucHRyfXZhciBkZWxheUZ1bmN0aW9uPXVuZGVmaW5lZDt2YXIgZGVsZXRpb25RdWV1ZT1bXTtmdW5jdGlvbiBmbHVzaFBlbmRpbmdEZWxldGVzKCl7d2hpbGUoZGVsZXRpb25RdWV1ZS5sZW5ndGgpe3ZhciBvYmo9ZGVsZXRpb25RdWV1ZS5wb3AoKTtvYmouJCQuZGVsZXRlU2NoZWR1bGVkPWZhbHNlO29ialtcImRlbGV0ZVwiXSgpfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGVMYXRlcigpe2lmKCF0aGlzLiQkLnB0cil7dGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKHRoaXMpfWlmKHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uXCIpfWRlbGV0aW9uUXVldWUucHVzaCh0aGlzKTtpZihkZWxldGlvblF1ZXVlLmxlbmd0aD09PTEmJmRlbGF5RnVuY3Rpb24pe2RlbGF5RnVuY3Rpb24oZmx1c2hQZW5kaW5nRGVsZXRlcyl9dGhpcy4kJC5kZWxldGVTY2hlZHVsZWQ9dHJ1ZTtyZXR1cm4gdGhpc31mdW5jdGlvbiBpbml0X0NsYXNzSGFuZGxlKCl7Q2xhc3NIYW5kbGUucHJvdG90eXBlW1wiaXNBbGlhc09mXCJdPUNsYXNzSGFuZGxlX2lzQWxpYXNPZjtDbGFzc0hhbmRsZS5wcm90b3R5cGVbXCJjbG9uZVwiXT1DbGFzc0hhbmRsZV9jbG9uZTtDbGFzc0hhbmRsZS5wcm90b3R5cGVbXCJkZWxldGVcIl09Q2xhc3NIYW5kbGVfZGVsZXRlO0NsYXNzSGFuZGxlLnByb3RvdHlwZVtcImlzRGVsZXRlZFwiXT1DbGFzc0hhbmRsZV9pc0RlbGV0ZWQ7Q2xhc3NIYW5kbGUucHJvdG90eXBlW1wiZGVsZXRlTGF0ZXJcIl09Q2xhc3NIYW5kbGVfZGVsZXRlTGF0ZXJ9ZnVuY3Rpb24gQ2xhc3NIYW5kbGUoKXt9dmFyIHJlZ2lzdGVyZWRQb2ludGVycz17fTtmdW5jdGlvbiBlbnN1cmVPdmVybG9hZFRhYmxlKHByb3RvLG1ldGhvZE5hbWUsaHVtYW5OYW1lKXtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXt2YXIgcHJldkZ1bmM9cHJvdG9bbWV0aG9kTmFtZV07cHJvdG9bbWV0aG9kTmFtZV09ZnVuY3Rpb24oKXtpZighcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHMubGVuZ3RoKSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJGdW5jdGlvbiAnXCIraHVtYW5OYW1lK1wiJyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKFwiK2FyZ3VtZW50cy5sZW5ndGgrXCIpIC0gZXhwZWN0cyBvbmUgb2YgKFwiK3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUrXCIpIVwiKX1yZXR1cm4gcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGU9W107cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVtwcmV2RnVuYy5hcmdDb3VudF09cHJldkZ1bmN9fWZ1bmN0aW9uIGV4cG9zZVB1YmxpY1N5bWJvbChuYW1lLHZhbHVlLG51bUFyZ3VtZW50cyl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KG5hbWUpKXtpZih1bmRlZmluZWQ9PT1udW1Bcmd1bWVudHN8fHVuZGVmaW5lZCE9PU1vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlJiZ1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZVtudW1Bcmd1bWVudHNdKXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnXCIrbmFtZStcIicgdHdpY2VcIil9ZW5zdXJlT3ZlcmxvYWRUYWJsZShNb2R1bGUsbmFtZSxuYW1lKTtpZihNb2R1bGUuaGFzT3duUHJvcGVydHkobnVtQXJndW1lbnRzKSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgb3ZlcmxvYWRzIG9mIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzIChcIitudW1Bcmd1bWVudHMrXCIpIVwiKX1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZVtudW1Bcmd1bWVudHNdPXZhbHVlfWVsc2V7TW9kdWxlW25hbWVdPXZhbHVlO2lmKHVuZGVmaW5lZCE9PW51bUFyZ3VtZW50cyl7TW9kdWxlW25hbWVdLm51bUFyZ3VtZW50cz1udW1Bcmd1bWVudHN9fX1mdW5jdGlvbiBSZWdpc3RlcmVkQ2xhc3MobmFtZSxjb25zdHJ1Y3RvcixpbnN0YW5jZVByb3RvdHlwZSxyYXdEZXN0cnVjdG9yLGJhc2VDbGFzcyxnZXRBY3R1YWxUeXBlLHVwY2FzdCxkb3duY2FzdCl7dGhpcy5uYW1lPW5hbWU7dGhpcy5jb25zdHJ1Y3Rvcj1jb25zdHJ1Y3Rvcjt0aGlzLmluc3RhbmNlUHJvdG90eXBlPWluc3RhbmNlUHJvdG90eXBlO3RoaXMucmF3RGVzdHJ1Y3Rvcj1yYXdEZXN0cnVjdG9yO3RoaXMuYmFzZUNsYXNzPWJhc2VDbGFzczt0aGlzLmdldEFjdHVhbFR5cGU9Z2V0QWN0dWFsVHlwZTt0aGlzLnVwY2FzdD11cGNhc3Q7dGhpcy5kb3duY2FzdD1kb3duY2FzdDt0aGlzLnB1cmVWaXJ0dWFsRnVuY3Rpb25zPVtdfWZ1bmN0aW9uIHVwY2FzdFBvaW50ZXIocHRyLHB0ckNsYXNzLGRlc2lyZWRDbGFzcyl7d2hpbGUocHRyQ2xhc3MhPT1kZXNpcmVkQ2xhc3Mpe2lmKCFwdHJDbGFzcy51cGNhc3Qpe3Rocm93QmluZGluZ0Vycm9yKFwiRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiBcIitkZXNpcmVkQ2xhc3MubmFtZStcIiwgZ290IGFuIGluc3RhbmNlIG9mIFwiK3B0ckNsYXNzLm5hbWUpfXB0cj1wdHJDbGFzcy51cGNhc3QocHRyKTtwdHJDbGFzcz1wdHJDbGFzcy5iYXNlQ2xhc3N9cmV0dXJuIHB0cn1mdW5jdGlvbiBjb25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZShkZXN0cnVjdG9ycyxoYW5kbGUpe2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKFwibnVsbCBpcyBub3QgYSB2YWxpZCBcIit0aGlzLm5hbWUpfXJldHVybiAwfWlmKCFoYW5kbGUuJCQpe3Rocm93QmluZGluZ0Vycm9yKCdDYW5ub3QgcGFzcyBcIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJ1wiIGFzIGEgJyt0aGlzLm5hbWUpfWlmKCFoYW5kbGUuJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlIFwiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgcHRyPXVwY2FzdFBvaW50ZXIoaGFuZGxlLiQkLnB0cixoYW5kbGVDbGFzcyx0aGlzLnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIHB0cn1mdW5jdGlvbiBnZW5lcmljUG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXt2YXIgcHRyO2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKFwibnVsbCBpcyBub3QgYSB2YWxpZCBcIit0aGlzLm5hbWUpfWlmKHRoaXMuaXNTbWFydFBvaW50ZXIpe3B0cj10aGlzLnJhd0NvbnN0cnVjdG9yKCk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixwdHIpfXJldHVybiBwdHJ9ZWxzZXtyZXR1cm4gMH19aWYoIWhhbmRsZS4kJCl7dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzIFwiJytfZW1iaW5kX3JlcHIoaGFuZGxlKSsnXCIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgXCIrdGhpcy5uYW1lKX1pZighdGhpcy5pc0NvbnN0JiZoYW5kbGUuJCQucHRyVHlwZS5pc0NvbnN0KXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgXCIrKGhhbmRsZS4kJC5zbWFydFB0clR5cGU/aGFuZGxlLiQkLnNtYXJ0UHRyVHlwZS5uYW1lOmhhbmRsZS4kJC5wdHJUeXBlLm5hbWUpK1wiIHRvIHBhcmFtZXRlciB0eXBlIFwiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztwdHI9dXBjYXN0UG9pbnRlcihoYW5kbGUuJCQucHRyLGhhbmRsZUNsYXNzLHRoaXMucmVnaXN0ZXJlZENsYXNzKTtpZih0aGlzLmlzU21hcnRQb2ludGVyKXtpZih1bmRlZmluZWQ9PT1oYW5kbGUuJCQuc21hcnRQdHIpe3Rocm93QmluZGluZ0Vycm9yKFwiUGFzc2luZyByYXcgcG9pbnRlciB0byBzbWFydCBwb2ludGVyIGlzIGlsbGVnYWxcIil9c3dpdGNoKHRoaXMuc2hhcmluZ1BvbGljeSl7Y2FzZSAwOmlmKGhhbmRsZS4kJC5zbWFydFB0clR5cGU9PT10aGlzKXtwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyfWVsc2V7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlIFwiKyhoYW5kbGUuJCQuc21hcnRQdHJUeXBlP2hhbmRsZS4kJC5zbWFydFB0clR5cGUubmFtZTpoYW5kbGUuJCQucHRyVHlwZS5uYW1lKStcIiB0byBwYXJhbWV0ZXIgdHlwZSBcIit0aGlzLm5hbWUpfWJyZWFrO2Nhc2UgMTpwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyO2JyZWFrO2Nhc2UgMjppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3ZhciBjbG9uZWRIYW5kbGU9aGFuZGxlW1wiY2xvbmVcIl0oKTtwdHI9dGhpcy5yYXdTaGFyZShwdHIsRW12YWwudG9IYW5kbGUoZnVuY3Rpb24oKXtjbG9uZWRIYW5kbGVbXCJkZWxldGVcIl0oKX0pKTtpZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2godGhpcy5yYXdEZXN0cnVjdG9yLHB0cil9fWJyZWFrO2RlZmF1bHQ6dGhyb3dCaW5kaW5nRXJyb3IoXCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3lcIil9fXJldHVybiBwdHJ9ZnVuY3Rpb24gbm9uQ29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcihcIm51bGwgaXMgbm90IGEgdmFsaWQgXCIrdGhpcy5uYW1lKX1yZXR1cm4gMH1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgXCInK19lbWJpbmRfcmVwcihoYW5kbGUpKydcIiBhcyBhICcrdGhpcy5uYW1lKX1pZighaGFuZGxlLiQkLnB0cil7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSBcIit0aGlzLm5hbWUpfWlmKGhhbmRsZS4kJC5wdHJUeXBlLmlzQ29uc3Qpe3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSBcIitoYW5kbGUuJCQucHRyVHlwZS5uYW1lK1wiIHRvIHBhcmFtZXRlciB0eXBlIFwiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzczt2YXIgcHRyPXVwY2FzdFBvaW50ZXIoaGFuZGxlLiQkLnB0cixoYW5kbGVDbGFzcyx0aGlzLnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIHB0cn1mdW5jdGlvbiBzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gdGhpc1tcImZyb21XaXJlVHlwZVwiXShIRUFQVTMyW3BvaW50ZXI+PjJdKX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9nZXRQb2ludGVlKHB0cil7aWYodGhpcy5yYXdHZXRQb2ludGVlKXtwdHI9dGhpcy5yYXdHZXRQb2ludGVlKHB0cil9cmV0dXJuIHB0cn1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9kZXN0cnVjdG9yKHB0cil7aWYodGhpcy5yYXdEZXN0cnVjdG9yKXt0aGlzLnJhd0Rlc3RydWN0b3IocHRyKX19ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZGVsZXRlT2JqZWN0KGhhbmRsZSl7aWYoaGFuZGxlIT09bnVsbCl7aGFuZGxlW1wiZGVsZXRlXCJdKCl9fWZ1bmN0aW9uIGRvd25jYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXtpZihwdHJDbGFzcz09PWRlc2lyZWRDbGFzcyl7cmV0dXJuIHB0cn1pZih1bmRlZmluZWQ9PT1kZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKXtyZXR1cm4gbnVsbH12YXIgcnY9ZG93bmNhc3RQb2ludGVyKHB0cixwdHJDbGFzcyxkZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKTtpZihydj09PW51bGwpe3JldHVybiBudWxsfXJldHVybiBkZXNpcmVkQ2xhc3MuZG93bmNhc3QocnYpfWZ1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gT2JqZWN0LmtleXMocmVnaXN0ZXJlZEluc3RhbmNlcykubGVuZ3RofWZ1bmN0aW9uIGdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXMoKXt2YXIgcnY9W107Zm9yKHZhciBrIGluIHJlZ2lzdGVyZWRJbnN0YW5jZXMpe2lmKHJlZ2lzdGVyZWRJbnN0YW5jZXMuaGFzT3duUHJvcGVydHkoaykpe3J2LnB1c2gocmVnaXN0ZXJlZEluc3RhbmNlc1trXSl9fXJldHVybiBydn1mdW5jdGlvbiBzZXREZWxheUZ1bmN0aW9uKGZuKXtkZWxheUZ1bmN0aW9uPWZuO2lmKGRlbGV0aW9uUXVldWUubGVuZ3RoJiZkZWxheUZ1bmN0aW9uKXtkZWxheUZ1bmN0aW9uKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfX1mdW5jdGlvbiBpbml0X2VtYmluZCgpe01vZHVsZVtcImdldEluaGVyaXRlZEluc3RhbmNlQ291bnRcIl09Z2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudDtNb2R1bGVbXCJnZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzXCJdPWdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXM7TW9kdWxlW1wiZmx1c2hQZW5kaW5nRGVsZXRlc1wiXT1mbHVzaFBlbmRpbmdEZWxldGVzO01vZHVsZVtcInNldERlbGF5RnVuY3Rpb25cIl09c2V0RGVsYXlGdW5jdGlvbn12YXIgcmVnaXN0ZXJlZEluc3RhbmNlcz17fTtmdW5jdGlvbiBnZXRCYXNlc3RQb2ludGVyKGNsYXNzXyxwdHIpe2lmKHB0cj09PXVuZGVmaW5lZCl7dGhyb3dCaW5kaW5nRXJyb3IoXCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWRcIil9d2hpbGUoY2xhc3NfLmJhc2VDbGFzcyl7cHRyPWNsYXNzXy51cGNhc3QocHRyKTtjbGFzc189Y2xhc3NfLmJhc2VDbGFzc31yZXR1cm4gcHRyfWZ1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlKGNsYXNzXyxwdHIpe3B0cj1nZXRCYXNlc3RQb2ludGVyKGNsYXNzXyxwdHIpO3JldHVybiByZWdpc3RlcmVkSW5zdGFuY2VzW3B0cl19ZnVuY3Rpb24gbWFrZUNsYXNzSGFuZGxlKHByb3RvdHlwZSxyZWNvcmQpe2lmKCFyZWNvcmQucHRyVHlwZXx8IXJlY29yZC5wdHIpe3Rocm93SW50ZXJuYWxFcnJvcihcIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGVcIil9dmFyIGhhc1NtYXJ0UHRyVHlwZT0hIXJlY29yZC5zbWFydFB0clR5cGU7dmFyIGhhc1NtYXJ0UHRyPSEhcmVjb3JkLnNtYXJ0UHRyO2lmKGhhc1NtYXJ0UHRyVHlwZSE9PWhhc1NtYXJ0UHRyKXt0aHJvd0ludGVybmFsRXJyb3IoXCJCb3RoIHNtYXJ0UHRyVHlwZSBhbmQgc21hcnRQdHIgbXVzdCBiZSBzcGVjaWZpZWRcIil9cmVjb3JkLmNvdW50PXt2YWx1ZToxfTtyZXR1cm4gYXR0YWNoRmluYWxpemVyKE9iamVjdC5jcmVhdGUocHJvdG90eXBlLHskJDp7dmFsdWU6cmVjb3JkfX0pKX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9mcm9tV2lyZVR5cGUocHRyKXt2YXIgcmF3UG9pbnRlcj10aGlzLmdldFBvaW50ZWUocHRyKTtpZighcmF3UG9pbnRlcil7dGhpcy5kZXN0cnVjdG9yKHB0cik7cmV0dXJuIG51bGx9dmFyIHJlZ2lzdGVyZWRJbnN0YW5jZT1nZXRJbmhlcml0ZWRJbnN0YW5jZSh0aGlzLnJlZ2lzdGVyZWRDbGFzcyxyYXdQb2ludGVyKTtpZih1bmRlZmluZWQhPT1yZWdpc3RlcmVkSW5zdGFuY2Upe2lmKDA9PT1yZWdpc3RlcmVkSW5zdGFuY2UuJCQuY291bnQudmFsdWUpe3JlZ2lzdGVyZWRJbnN0YW5jZS4kJC5wdHI9cmF3UG9pbnRlcjtyZWdpc3RlcmVkSW5zdGFuY2UuJCQuc21hcnRQdHI9cHRyO3JldHVybiByZWdpc3RlcmVkSW5zdGFuY2VbXCJjbG9uZVwiXSgpfWVsc2V7dmFyIHJ2PXJlZ2lzdGVyZWRJbnN0YW5jZVtcImNsb25lXCJdKCk7dGhpcy5kZXN0cnVjdG9yKHB0cik7cmV0dXJuIHJ2fX1mdW5jdGlvbiBtYWtlRGVmYXVsdEhhbmRsZSgpe2lmKHRoaXMuaXNTbWFydFBvaW50ZXIpe3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6cmF3UG9pbnRlcixzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpwdHJ9KX1lbHNle3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6cHRyfSl9fXZhciBhY3R1YWxUeXBlPXRoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUocmF3UG9pbnRlcik7dmFyIHJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkPXJlZ2lzdGVyZWRQb2ludGVyc1thY3R1YWxUeXBlXTtpZighcmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQpe3JldHVybiBtYWtlRGVmYXVsdEhhbmRsZS5jYWxsKHRoaXMpfXZhciB0b1R5cGU7aWYodGhpcy5pc0NvbnN0KXt0b1R5cGU9cmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQuY29uc3RQb2ludGVyVHlwZX1lbHNle3RvVHlwZT1yZWdpc3RlcmVkUG9pbnRlclJlY29yZC5wb2ludGVyVHlwZX12YXIgZHA9ZG93bmNhc3RQb2ludGVyKHJhd1BvaW50ZXIsdGhpcy5yZWdpc3RlcmVkQ2xhc3MsdG9UeXBlLnJlZ2lzdGVyZWRDbGFzcyk7aWYoZHA9PT1udWxsKXtyZXR1cm4gbWFrZURlZmF1bHRIYW5kbGUuY2FsbCh0aGlzKX1pZih0aGlzLmlzU21hcnRQb2ludGVyKXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dG9UeXBlLHB0cjpkcCxzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpwdHJ9KX1lbHNle3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodG9UeXBlLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0b1R5cGUscHRyOmRwfSl9fWZ1bmN0aW9uIGluaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKXtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuZ2V0UG9pbnRlZT1SZWdpc3RlcmVkUG9pbnRlcl9nZXRQb2ludGVlO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZS5kZXN0cnVjdG9yPVJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3I7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlW1wiYXJnUGFja0FkdmFuY2VcIl09ODtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGVbXCJyZWFkVmFsdWVGcm9tUG9pbnRlclwiXT1zaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcjtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGVbXCJkZWxldGVPYmplY3RcIl09UmVnaXN0ZXJlZFBvaW50ZXJfZGVsZXRlT2JqZWN0O1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVtcImZyb21XaXJlVHlwZVwiXT1SZWdpc3RlcmVkUG9pbnRlcl9mcm9tV2lyZVR5cGV9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSxyZWdpc3RlcmVkQ2xhc3MsaXNSZWZlcmVuY2UsaXNDb25zdCxpc1NtYXJ0UG9pbnRlcixwb2ludGVlVHlwZSxzaGFyaW5nUG9saWN5LHJhd0dldFBvaW50ZWUscmF3Q29uc3RydWN0b3IscmF3U2hhcmUscmF3RGVzdHJ1Y3Rvcil7dGhpcy5uYW1lPW5hbWU7dGhpcy5yZWdpc3RlcmVkQ2xhc3M9cmVnaXN0ZXJlZENsYXNzO3RoaXMuaXNSZWZlcmVuY2U9aXNSZWZlcmVuY2U7dGhpcy5pc0NvbnN0PWlzQ29uc3Q7dGhpcy5pc1NtYXJ0UG9pbnRlcj1pc1NtYXJ0UG9pbnRlcjt0aGlzLnBvaW50ZWVUeXBlPXBvaW50ZWVUeXBlO3RoaXMuc2hhcmluZ1BvbGljeT1zaGFyaW5nUG9saWN5O3RoaXMucmF3R2V0UG9pbnRlZT1yYXdHZXRQb2ludGVlO3RoaXMucmF3Q29uc3RydWN0b3I9cmF3Q29uc3RydWN0b3I7dGhpcy5yYXdTaGFyZT1yYXdTaGFyZTt0aGlzLnJhd0Rlc3RydWN0b3I9cmF3RGVzdHJ1Y3RvcjtpZighaXNTbWFydFBvaW50ZXImJnJlZ2lzdGVyZWRDbGFzcy5iYXNlQ2xhc3M9PT11bmRlZmluZWQpe2lmKGlzQ29uc3Qpe3RoaXNbXCJ0b1dpcmVUeXBlXCJdPWNvbnN0Tm9TbWFydFB0clJhd1BvaW50ZXJUb1dpcmVUeXBlO3RoaXMuZGVzdHJ1Y3RvckZ1bmN0aW9uPW51bGx9ZWxzZXt0aGlzW1widG9XaXJlVHlwZVwiXT1ub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZTt0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsfX1lbHNle3RoaXNbXCJ0b1dpcmVUeXBlXCJdPWdlbmVyaWNQb2ludGVyVG9XaXJlVHlwZX19ZnVuY3Rpb24gcmVwbGFjZVB1YmxpY1N5bWJvbChuYW1lLHZhbHVlLG51bUFyZ3VtZW50cyl7aWYoIU1vZHVsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7dGhyb3dJbnRlcm5hbEVycm9yKFwiUmVwbGFjaW5nIG5vbmV4aXN0YW50IHB1YmxpYyBzeW1ib2xcIil9aWYodW5kZWZpbmVkIT09TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGUmJnVuZGVmaW5lZCE9PW51bUFyZ3VtZW50cyl7TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXT12YWx1ZX1lbHNle01vZHVsZVtuYW1lXT12YWx1ZTtNb2R1bGVbbmFtZV0uYXJnQ291bnQ9bnVtQXJndW1lbnRzfX1mdW5jdGlvbiBkeW5DYWxsTGVnYWN5KHNpZyxwdHIsYXJncyl7dmFyIGY9TW9kdWxlW1wiZHluQ2FsbF9cIitzaWddO3JldHVybiBhcmdzJiZhcmdzLmxlbmd0aD9mLmFwcGx5KG51bGwsW3B0cl0uY29uY2F0KGFyZ3MpKTpmLmNhbGwobnVsbCxwdHIpfWZ1bmN0aW9uIGR5bkNhbGwoc2lnLHB0cixhcmdzKXtpZihzaWcuaW5jbHVkZXMoXCJqXCIpKXtyZXR1cm4gZHluQ2FsbExlZ2FjeShzaWcscHRyLGFyZ3MpfXJldHVybiBnZXRXYXNtVGFibGVFbnRyeShwdHIpLmFwcGx5KG51bGwsYXJncyl9ZnVuY3Rpb24gZ2V0RHluQ2FsbGVyKHNpZyxwdHIpe3ZhciBhcmdDYWNoZT1bXTtyZXR1cm4gZnVuY3Rpb24oKXthcmdDYWNoZS5sZW5ndGg9YXJndW1lbnRzLmxlbmd0aDtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXthcmdDYWNoZVtpXT1hcmd1bWVudHNbaV19cmV0dXJuIGR5bkNhbGwoc2lnLHB0cixhcmdDYWNoZSl9fWZ1bmN0aW9uIGVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKHNpZ25hdHVyZSxyYXdGdW5jdGlvbil7c2lnbmF0dXJlPXJlYWRMYXRpbjFTdHJpbmcoc2lnbmF0dXJlKTtmdW5jdGlvbiBtYWtlRHluQ2FsbGVyKCl7aWYoc2lnbmF0dXJlLmluY2x1ZGVzKFwialwiKSl7cmV0dXJuIGdldER5bkNhbGxlcihzaWduYXR1cmUscmF3RnVuY3Rpb24pfXJldHVybiBnZXRXYXNtVGFibGVFbnRyeShyYXdGdW5jdGlvbil9dmFyIGZwPW1ha2VEeW5DYWxsZXIoKTtpZih0eXBlb2YgZnAhPT1cImZ1bmN0aW9uXCIpe3Rocm93QmluZGluZ0Vycm9yKFwidW5rbm93biBmdW5jdGlvbiBwb2ludGVyIHdpdGggc2lnbmF0dXJlIFwiK3NpZ25hdHVyZStcIjogXCIrcmF3RnVuY3Rpb24pfXJldHVybiBmcH12YXIgVW5ib3VuZFR5cGVFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSl7dmFyIHB0cj1fX19nZXRUeXBlTmFtZSh0eXBlKTt2YXIgcnY9cmVhZExhdGluMVN0cmluZyhwdHIpO19mcmVlKHB0cik7cmV0dXJuIHJ2fWZ1bmN0aW9uIHRocm93VW5ib3VuZFR5cGVFcnJvcihtZXNzYWdlLHR5cGVzKXt2YXIgdW5ib3VuZFR5cGVzPVtdO3ZhciBzZWVuPXt9O2Z1bmN0aW9uIHZpc2l0KHR5cGUpe2lmKHNlZW5bdHlwZV0pe3JldHVybn1pZihyZWdpc3RlcmVkVHlwZXNbdHlwZV0pe3JldHVybn1pZih0eXBlRGVwZW5kZW5jaWVzW3R5cGVdKXt0eXBlRGVwZW5kZW5jaWVzW3R5cGVdLmZvckVhY2godmlzaXQpO3JldHVybn11bmJvdW5kVHlwZXMucHVzaCh0eXBlKTtzZWVuW3R5cGVdPXRydWV9dHlwZXMuZm9yRWFjaCh2aXNpdCk7dGhyb3cgbmV3IFVuYm91bmRUeXBlRXJyb3IobWVzc2FnZStcIjogXCIrdW5ib3VuZFR5cGVzLm1hcChnZXRUeXBlTmFtZSkuam9pbihbXCIsIFwiXSkpfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzKHJhd1R5cGUscmF3UG9pbnRlclR5cGUscmF3Q29uc3RQb2ludGVyVHlwZSxiYXNlQ2xhc3NSYXdUeXBlLGdldEFjdHVhbFR5cGVTaWduYXR1cmUsZ2V0QWN0dWFsVHlwZSx1cGNhc3RTaWduYXR1cmUsdXBjYXN0LGRvd25jYXN0U2lnbmF0dXJlLGRvd25jYXN0LG5hbWUsZGVzdHJ1Y3RvclNpZ25hdHVyZSxyYXdEZXN0cnVjdG9yKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7Z2V0QWN0dWFsVHlwZT1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihnZXRBY3R1YWxUeXBlU2lnbmF0dXJlLGdldEFjdHVhbFR5cGUpO2lmKHVwY2FzdCl7dXBjYXN0PWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKHVwY2FzdFNpZ25hdHVyZSx1cGNhc3QpfWlmKGRvd25jYXN0KXtkb3duY2FzdD1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihkb3duY2FzdFNpZ25hdHVyZSxkb3duY2FzdCl9cmF3RGVzdHJ1Y3Rvcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihkZXN0cnVjdG9yU2lnbmF0dXJlLHJhd0Rlc3RydWN0b3IpO3ZhciBsZWdhbEZ1bmN0aW9uTmFtZT1tYWtlTGVnYWxGdW5jdGlvbk5hbWUobmFtZSk7ZXhwb3NlUHVibGljU3ltYm9sKGxlZ2FsRnVuY3Rpb25OYW1lLGZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKFwiQ2Fubm90IGNvbnN0cnVjdCBcIituYW1lK1wiIGR1ZSB0byB1bmJvdW5kIHR5cGVzXCIsW2Jhc2VDbGFzc1Jhd1R5cGVdKX0pO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtyYXdUeXBlLHJhd1BvaW50ZXJUeXBlLHJhd0NvbnN0UG9pbnRlclR5cGVdLGJhc2VDbGFzc1Jhd1R5cGU/W2Jhc2VDbGFzc1Jhd1R5cGVdOltdLGZ1bmN0aW9uKGJhc2Upe2Jhc2U9YmFzZVswXTt2YXIgYmFzZUNsYXNzO3ZhciBiYXNlUHJvdG90eXBlO2lmKGJhc2VDbGFzc1Jhd1R5cGUpe2Jhc2VDbGFzcz1iYXNlLnJlZ2lzdGVyZWRDbGFzcztiYXNlUHJvdG90eXBlPWJhc2VDbGFzcy5pbnN0YW5jZVByb3RvdHlwZX1lbHNle2Jhc2VQcm90b3R5cGU9Q2xhc3NIYW5kbGUucHJvdG90eXBlfXZhciBjb25zdHJ1Y3Rvcj1jcmVhdGVOYW1lZEZ1bmN0aW9uKGxlZ2FsRnVuY3Rpb25OYW1lLGZ1bmN0aW9uKCl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIT09aW5zdGFuY2VQcm90b3R5cGUpe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoXCJVc2UgJ25ldycgdG8gY29uc3RydWN0IFwiK25hbWUpfWlmKHVuZGVmaW5lZD09PXJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5KXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKG5hbWUrXCIgaGFzIG5vIGFjY2Vzc2libGUgY29uc3RydWN0b3JcIil9dmFyIGJvZHk9cmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJndW1lbnRzLmxlbmd0aF07aWYodW5kZWZpbmVkPT09Ym9keSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihcIlRyaWVkIHRvIGludm9rZSBjdG9yIG9mIFwiK25hbWUrXCIgd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzIChcIithcmd1bWVudHMubGVuZ3RoK1wiKSAtIGV4cGVjdGVkIChcIitPYmplY3Qua2V5cyhyZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKStcIikgcGFyYW1ldGVycyBpbnN0ZWFkIVwiKX1yZXR1cm4gYm9keS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTt2YXIgaW5zdGFuY2VQcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiYXNlUHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Y29uc3RydWN0b3J9fSk7Y29uc3RydWN0b3IucHJvdG90eXBlPWluc3RhbmNlUHJvdG90eXBlO3ZhciByZWdpc3RlcmVkQ2xhc3M9bmV3IFJlZ2lzdGVyZWRDbGFzcyhuYW1lLGNvbnN0cnVjdG9yLGluc3RhbmNlUHJvdG90eXBlLHJhd0Rlc3RydWN0b3IsYmFzZUNsYXNzLGdldEFjdHVhbFR5cGUsdXBjYXN0LGRvd25jYXN0KTt2YXIgcmVmZXJlbmNlQ29udmVydGVyPW5ldyBSZWdpc3RlcmVkUG9pbnRlcihuYW1lLHJlZ2lzdGVyZWRDbGFzcyx0cnVlLGZhbHNlLGZhbHNlKTt2YXIgcG9pbnRlckNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZStcIipcIixyZWdpc3RlcmVkQ2xhc3MsZmFsc2UsZmFsc2UsZmFsc2UpO3ZhciBjb25zdFBvaW50ZXJDb252ZXJ0ZXI9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUrXCIgY29uc3QqXCIscmVnaXN0ZXJlZENsYXNzLGZhbHNlLHRydWUsZmFsc2UpO3JlZ2lzdGVyZWRQb2ludGVyc1tyYXdUeXBlXT17cG9pbnRlclR5cGU6cG9pbnRlckNvbnZlcnRlcixjb25zdFBvaW50ZXJUeXBlOmNvbnN0UG9pbnRlckNvbnZlcnRlcn07cmVwbGFjZVB1YmxpY1N5bWJvbChsZWdhbEZ1bmN0aW9uTmFtZSxjb25zdHJ1Y3Rvcik7cmV0dXJuW3JlZmVyZW5jZUNvbnZlcnRlcixwb2ludGVyQ29udmVydGVyLGNvbnN0UG9pbnRlckNvbnZlcnRlcl19KX1mdW5jdGlvbiBoZWFwMzJWZWN0b3JUb0FycmF5KGNvdW50LGZpcnN0RWxlbWVudCl7dmFyIGFycmF5PVtdO2Zvcih2YXIgaT0wO2k8Y291bnQ7aSsrKXthcnJheS5wdXNoKEhFQVAzMlsoZmlyc3RFbGVtZW50Pj4yKStpXSl9cmV0dXJuIGFycmF5fWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKXt3aGlsZShkZXN0cnVjdG9ycy5sZW5ndGgpe3ZhciBwdHI9ZGVzdHJ1Y3RvcnMucG9wKCk7dmFyIGRlbD1kZXN0cnVjdG9ycy5wb3AoKTtkZWwocHRyKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3IocmF3Q2xhc3NUeXBlLGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcixpbnZva2VyU2lnbmF0dXJlLGludm9rZXIscmF3Q29uc3RydWN0b3Ipe2Fzc2VydChhcmdDb3VudD4wKTt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO2ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oaW52b2tlclNpZ25hdHVyZSxpbnZva2VyKTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxbcmF3Q2xhc3NUeXBlXSxmdW5jdGlvbihjbGFzc1R5cGUpe2NsYXNzVHlwZT1jbGFzc1R5cGVbMF07dmFyIGh1bWFuTmFtZT1cImNvbnN0cnVjdG9yIFwiK2NsYXNzVHlwZS5uYW1lO2lmKHVuZGVmaW5lZD09PWNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSl7Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5PVtdfWlmKHVuZGVmaW5lZCE9PWNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmdDb3VudC0xXSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihcIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKFwiKyhhcmdDb3VudC0xKStcIikgZm9yIGNsYXNzICdcIitjbGFzc1R5cGUubmFtZStcIichIE92ZXJsb2FkIHJlc29sdXRpb24gaXMgY3VycmVudGx5IG9ubHkgcGVyZm9ybWVkIHVzaW5nIHRoZSBwYXJhbWV0ZXIgY291bnQsIG5vdCBhY3R1YWwgdHlwZSBpbmZvIVwiKX1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJnQ291bnQtMV09ZnVuY3Rpb24gdW5ib3VuZFR5cGVIYW5kbGVyKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKFwiQ2Fubm90IGNvbnN0cnVjdCBcIitjbGFzc1R5cGUubmFtZStcIiBkdWUgdG8gdW5ib3VuZCB0eXBlc1wiLHJhd0FyZ1R5cGVzKX07d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10scmF3QXJnVHlwZXMsZnVuY3Rpb24oYXJnVHlwZXMpe2FyZ1R5cGVzLnNwbGljZSgxLDAsbnVsbCk7Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ0NvdW50LTFdPWNyYWZ0SW52b2tlckZ1bmN0aW9uKGh1bWFuTmFtZSxhcmdUeXBlcyxudWxsLGludm9rZXIscmF3Q29uc3RydWN0b3IpO3JldHVybltdfSk7cmV0dXJuW119KX1mdW5jdGlvbiBuZXdfKGNvbnN0cnVjdG9yLGFyZ3VtZW50TGlzdCl7aWYoIShjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIm5ld18gY2FsbGVkIHdpdGggY29uc3RydWN0b3IgdHlwZSBcIit0eXBlb2YgY29uc3RydWN0b3IrXCIgd2hpY2ggaXMgbm90IGEgZnVuY3Rpb25cIil9dmFyIGR1bW15PWNyZWF0ZU5hbWVkRnVuY3Rpb24oY29uc3RydWN0b3IubmFtZXx8XCJ1bmtub3duRnVuY3Rpb25OYW1lXCIsZnVuY3Rpb24oKXt9KTtkdW1teS5wcm90b3R5cGU9Y29uc3RydWN0b3IucHJvdG90eXBlO3ZhciBvYmo9bmV3IGR1bW15O3ZhciByPWNvbnN0cnVjdG9yLmFwcGx5KG9iaixhcmd1bWVudExpc3QpO3JldHVybiByIGluc3RhbmNlb2YgT2JqZWN0P3I6b2JqfWZ1bmN0aW9uIGNyYWZ0SW52b2tlckZ1bmN0aW9uKGh1bWFuTmFtZSxhcmdUeXBlcyxjbGFzc1R5cGUsY3BwSW52b2tlckZ1bmMsY3BwVGFyZ2V0RnVuYyl7dmFyIGFyZ0NvdW50PWFyZ1R5cGVzLmxlbmd0aDtpZihhcmdDb3VudDwyKXt0aHJvd0JpbmRpbmdFcnJvcihcImFyZ1R5cGVzIGFycmF5IHNpemUgbWlzbWF0Y2ghIE11c3QgYXQgbGVhc3QgZ2V0IHJldHVybiB2YWx1ZSBhbmQgJ3RoaXMnIHR5cGVzIVwiKX12YXIgaXNDbGFzc01ldGhvZEZ1bmM9YXJnVHlwZXNbMV0hPT1udWxsJiZjbGFzc1R5cGUhPT1udWxsO3ZhciBuZWVkc0Rlc3RydWN0b3JTdGFjaz1mYWxzZTtmb3IodmFyIGk9MTtpPGFyZ1R5cGVzLmxlbmd0aDsrK2kpe2lmKGFyZ1R5cGVzW2ldIT09bnVsbCYmYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uPT09dW5kZWZpbmVkKXtuZWVkc0Rlc3RydWN0b3JTdGFjaz10cnVlO2JyZWFrfX12YXIgcmV0dXJucz1hcmdUeXBlc1swXS5uYW1lIT09XCJ2b2lkXCI7dmFyIGFyZ3NMaXN0PVwiXCI7dmFyIGFyZ3NMaXN0V2lyZWQ9XCJcIjtmb3IodmFyIGk9MDtpPGFyZ0NvdW50LTI7KytpKXthcmdzTGlzdCs9KGkhPT0wP1wiLCBcIjpcIlwiKStcImFyZ1wiK2k7YXJnc0xpc3RXaXJlZCs9KGkhPT0wP1wiLCBcIjpcIlwiKStcImFyZ1wiK2krXCJXaXJlZFwifXZhciBpbnZva2VyRm5Cb2R5PVwicmV0dXJuIGZ1bmN0aW9uIFwiK21ha2VMZWdhbEZ1bmN0aW9uTmFtZShodW1hbk5hbWUpK1wiKFwiK2FyZ3NMaXN0K1wiKSB7XFxuXCIrXCJpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gXCIrKGFyZ0NvdW50LTIpK1wiKSB7XFxuXCIrXCJ0aHJvd0JpbmRpbmdFcnJvcignZnVuY3Rpb24gXCIraHVtYW5OYW1lK1wiIGNhbGxlZCB3aXRoICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMsIGV4cGVjdGVkIFwiKyhhcmdDb3VudC0yKStcIiBhcmdzIScpO1xcblwiK1wifVxcblwiO2lmKG5lZWRzRGVzdHJ1Y3RvclN0YWNrKXtpbnZva2VyRm5Cb2R5Kz1cInZhciBkZXN0cnVjdG9ycyA9IFtdO1xcblwifXZhciBkdG9yU3RhY2s9bmVlZHNEZXN0cnVjdG9yU3RhY2s/XCJkZXN0cnVjdG9yc1wiOlwibnVsbFwiO3ZhciBhcmdzMT1bXCJ0aHJvd0JpbmRpbmdFcnJvclwiLFwiaW52b2tlclwiLFwiZm5cIixcInJ1bkRlc3RydWN0b3JzXCIsXCJyZXRUeXBlXCIsXCJjbGFzc1BhcmFtXCJdO3ZhciBhcmdzMj1bdGhyb3dCaW5kaW5nRXJyb3IsY3BwSW52b2tlckZ1bmMsY3BwVGFyZ2V0RnVuYyxydW5EZXN0cnVjdG9ycyxhcmdUeXBlc1swXSxhcmdUeXBlc1sxXV07aWYoaXNDbGFzc01ldGhvZEZ1bmMpe2ludm9rZXJGbkJvZHkrPVwidmFyIHRoaXNXaXJlZCA9IGNsYXNzUGFyYW0udG9XaXJlVHlwZShcIitkdG9yU3RhY2srXCIsIHRoaXMpO1xcblwifWZvcih2YXIgaT0wO2k8YXJnQ291bnQtMjsrK2kpe2ludm9rZXJGbkJvZHkrPVwidmFyIGFyZ1wiK2krXCJXaXJlZCA9IGFyZ1R5cGVcIitpK1wiLnRvV2lyZVR5cGUoXCIrZHRvclN0YWNrK1wiLCBhcmdcIitpK1wiKTsgLy8gXCIrYXJnVHlwZXNbaSsyXS5uYW1lK1wiXFxuXCI7YXJnczEucHVzaChcImFyZ1R5cGVcIitpKTthcmdzMi5wdXNoKGFyZ1R5cGVzW2krMl0pfWlmKGlzQ2xhc3NNZXRob2RGdW5jKXthcmdzTGlzdFdpcmVkPVwidGhpc1dpcmVkXCIrKGFyZ3NMaXN0V2lyZWQubGVuZ3RoPjA/XCIsIFwiOlwiXCIpK2FyZ3NMaXN0V2lyZWR9aW52b2tlckZuQm9keSs9KHJldHVybnM/XCJ2YXIgcnYgPSBcIjpcIlwiKStcImludm9rZXIoZm5cIisoYXJnc0xpc3RXaXJlZC5sZW5ndGg+MD9cIiwgXCI6XCJcIikrYXJnc0xpc3RXaXJlZCtcIik7XFxuXCI7aWYobmVlZHNEZXN0cnVjdG9yU3RhY2spe2ludm9rZXJGbkJvZHkrPVwicnVuRGVzdHJ1Y3RvcnMoZGVzdHJ1Y3RvcnMpO1xcblwifWVsc2V7Zm9yKHZhciBpPWlzQ2xhc3NNZXRob2RGdW5jPzE6MjtpPGFyZ1R5cGVzLmxlbmd0aDsrK2kpe3ZhciBwYXJhbU5hbWU9aT09PTE/XCJ0aGlzV2lyZWRcIjpcImFyZ1wiKyhpLTIpK1wiV2lyZWRcIjtpZihhcmdUeXBlc1tpXS5kZXN0cnVjdG9yRnVuY3Rpb24hPT1udWxsKXtpbnZva2VyRm5Cb2R5Kz1wYXJhbU5hbWUrXCJfZHRvcihcIitwYXJhbU5hbWUrXCIpOyAvLyBcIithcmdUeXBlc1tpXS5uYW1lK1wiXFxuXCI7YXJnczEucHVzaChwYXJhbU5hbWUrXCJfZHRvclwiKTthcmdzMi5wdXNoKGFyZ1R5cGVzW2ldLmRlc3RydWN0b3JGdW5jdGlvbil9fX1pZihyZXR1cm5zKXtpbnZva2VyRm5Cb2R5Kz1cInZhciByZXQgPSByZXRUeXBlLmZyb21XaXJlVHlwZShydik7XFxuXCIrXCJyZXR1cm4gcmV0O1xcblwifWVsc2V7fWludm9rZXJGbkJvZHkrPVwifVxcblwiO2FyZ3MxLnB1c2goaW52b2tlckZuQm9keSk7dmFyIGludm9rZXJGdW5jdGlvbj1uZXdfKEZ1bmN0aW9uLGFyZ3MxKS5hcHBseShudWxsLGFyZ3MyKTtyZXR1cm4gaW52b2tlckZ1bmN0aW9ufWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2Z1bmN0aW9uKHJhd0NsYXNzVHlwZSxtZXRob2ROYW1lLGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcixpbnZva2VyU2lnbmF0dXJlLHJhd0ludm9rZXIsY29udGV4dCxpc1B1cmVWaXJ0dWFsKXt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO21ldGhvZE5hbWU9cmVhZExhdGluMVN0cmluZyhtZXRob2ROYW1lKTtyYXdJbnZva2VyPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGludm9rZXJTaWduYXR1cmUscmF3SW52b2tlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW3Jhd0NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9Y2xhc3NUeXBlLm5hbWUrXCIuXCIrbWV0aG9kTmFtZTtpZihtZXRob2ROYW1lLnN0YXJ0c1dpdGgoXCJAQFwiKSl7bWV0aG9kTmFtZT1TeW1ib2xbbWV0aG9kTmFtZS5zdWJzdHJpbmcoMildfWlmKGlzUHVyZVZpcnR1YWwpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MucHVyZVZpcnR1YWxGdW5jdGlvbnMucHVzaChtZXRob2ROYW1lKX1mdW5jdGlvbiB1bmJvdW5kVHlwZXNIYW5kbGVyKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgXCIraHVtYW5OYW1lK1wiIGR1ZSB0byB1bmJvdW5kIHR5cGVzXCIscmF3QXJnVHlwZXMpfXZhciBwcm90bz1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlO3ZhciBtZXRob2Q9cHJvdG9bbWV0aG9kTmFtZV07aWYodW5kZWZpbmVkPT09bWV0aG9kfHx1bmRlZmluZWQ9PT1tZXRob2Qub3ZlcmxvYWRUYWJsZSYmbWV0aG9kLmNsYXNzTmFtZSE9PWNsYXNzVHlwZS5uYW1lJiZtZXRob2QuYXJnQ291bnQ9PT1hcmdDb3VudC0yKXt1bmJvdW5kVHlwZXNIYW5kbGVyLmFyZ0NvdW50PWFyZ0NvdW50LTI7dW5ib3VuZFR5cGVzSGFuZGxlci5jbGFzc05hbWU9Y2xhc3NUeXBlLm5hbWU7cHJvdG9bbWV0aG9kTmFtZV09dW5ib3VuZFR5cGVzSGFuZGxlcn1lbHNle2Vuc3VyZU92ZXJsb2FkVGFibGUocHJvdG8sbWV0aG9kTmFtZSxodW1hbk5hbWUpO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMl09dW5ib3VuZFR5cGVzSGFuZGxlcn13aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxyYXdBcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIG1lbWJlckZ1bmN0aW9uPWNyYWZ0SW52b2tlckZ1bmN0aW9uKGh1bWFuTmFtZSxhcmdUeXBlcyxjbGFzc1R5cGUscmF3SW52b2tlcixjb250ZXh0KTtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXttZW1iZXJGdW5jdGlvbi5hcmdDb3VudD1hcmdDb3VudC0yO3Byb3RvW21ldGhvZE5hbWVdPW1lbWJlckZ1bmN0aW9ufWVsc2V7cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmdDb3VudC0yXT1tZW1iZXJGdW5jdGlvbn1yZXR1cm5bXX0pO3JldHVybltdfSl9dmFyIGVtdmFsX2ZyZWVfbGlzdD1bXTt2YXIgZW12YWxfaGFuZGxlX2FycmF5PVt7fSx7dmFsdWU6dW5kZWZpbmVkfSx7dmFsdWU6bnVsbH0se3ZhbHVlOnRydWV9LHt2YWx1ZTpmYWxzZX1dO2Z1bmN0aW9uIF9fZW12YWxfZGVjcmVmKGhhbmRsZSl7aWYoaGFuZGxlPjQmJjA9PT0tLWVtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnJlZmNvdW50KXtlbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXT11bmRlZmluZWQ7ZW12YWxfZnJlZV9saXN0LnB1c2goaGFuZGxlKX19ZnVuY3Rpb24gY291bnRfZW12YWxfaGFuZGxlcygpe3ZhciBjb3VudD0wO2Zvcih2YXIgaT01O2k8ZW12YWxfaGFuZGxlX2FycmF5Lmxlbmd0aDsrK2kpe2lmKGVtdmFsX2hhbmRsZV9hcnJheVtpXSE9PXVuZGVmaW5lZCl7Kytjb3VudH19cmV0dXJuIGNvdW50fWZ1bmN0aW9uIGdldF9maXJzdF9lbXZhbCgpe2Zvcih2YXIgaT01O2k8ZW12YWxfaGFuZGxlX2FycmF5Lmxlbmd0aDsrK2kpe2lmKGVtdmFsX2hhbmRsZV9hcnJheVtpXSE9PXVuZGVmaW5lZCl7cmV0dXJuIGVtdmFsX2hhbmRsZV9hcnJheVtpXX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gaW5pdF9lbXZhbCgpe01vZHVsZVtcImNvdW50X2VtdmFsX2hhbmRsZXNcIl09Y291bnRfZW12YWxfaGFuZGxlcztNb2R1bGVbXCJnZXRfZmlyc3RfZW12YWxcIl09Z2V0X2ZpcnN0X2VtdmFsfXZhciBFbXZhbD17dG9WYWx1ZTpmdW5jdGlvbihoYW5kbGUpe2lmKCFoYW5kbGUpe3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gXCIraGFuZGxlKX1yZXR1cm4gZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0udmFsdWV9LHRvSGFuZGxlOmZ1bmN0aW9uKHZhbHVlKXtzd2l0Y2godmFsdWUpe2Nhc2UgdW5kZWZpbmVkOntyZXR1cm4gMX1jYXNlIG51bGw6e3JldHVybiAyfWNhc2UgdHJ1ZTp7cmV0dXJuIDN9Y2FzZSBmYWxzZTp7cmV0dXJuIDR9ZGVmYXVsdDp7dmFyIGhhbmRsZT1lbXZhbF9mcmVlX2xpc3QubGVuZ3RoP2VtdmFsX2ZyZWVfbGlzdC5wb3AoKTplbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoO2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXtyZWZjb3VudDoxLHZhbHVlOnZhbHVlfTtyZXR1cm4gaGFuZGxlfX19fTtmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9lbXZhbChyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLFwiZnJvbVdpcmVUeXBlXCI6ZnVuY3Rpb24oaGFuZGxlKXt2YXIgcnY9RW12YWwudG9WYWx1ZShoYW5kbGUpO19fZW12YWxfZGVjcmVmKGhhbmRsZSk7cmV0dXJuIHJ2fSxcInRvV2lyZVR5cGVcIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7cmV0dXJuIEVtdmFsLnRvSGFuZGxlKHZhbHVlKX0sXCJhcmdQYWNrQWR2YW5jZVwiOjgsXCJyZWFkVmFsdWVGcm9tUG9pbnRlclwiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gZW51bVJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsc2lnbmVkKXtzd2l0Y2goc2hpZnQpe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVA4OkhFQVBVODtyZXR1cm4gdGhpc1tcImZyb21XaXJlVHlwZVwiXShoZWFwW3BvaW50ZXJdKX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXt2YXIgaGVhcD1zaWduZWQ/SEVBUDE2OkhFQVBVMTY7cmV0dXJuIHRoaXNbXCJmcm9tV2lyZVR5cGVcIl0oaGVhcFtwb2ludGVyPj4xXSl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVAzMjpIRUFQVTMyO3JldHVybiB0aGlzW1wiZnJvbVdpcmVUeXBlXCJdKGhlYXBbcG9pbnRlcj4+Ml0pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGludGVnZXIgdHlwZTogXCIrbmFtZSl9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2VudW0ocmF3VHlwZSxuYW1lLHNpemUsaXNTaWduZWQpe3ZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtmdW5jdGlvbiBjdG9yKCl7fWN0b3IudmFsdWVzPXt9O3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsY29uc3RydWN0b3I6Y3RvcixcImZyb21XaXJlVHlwZVwiOmZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnZhbHVlc1tjXX0sXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsYyl7cmV0dXJuIGMudmFsdWV9LFwiYXJnUGFja0FkdmFuY2VcIjo4LFwicmVhZFZhbHVlRnJvbVBvaW50ZXJcIjplbnVtUmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCxpc1NpZ25lZCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTtleHBvc2VQdWJsaWNTeW1ib2wobmFtZSxjdG9yKX1mdW5jdGlvbiByZXF1aXJlUmVnaXN0ZXJlZFR5cGUocmF3VHlwZSxodW1hbk5hbWUpe3ZhciBpbXBsPXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXTtpZih1bmRlZmluZWQ9PT1pbXBsKXt0aHJvd0JpbmRpbmdFcnJvcihodW1hbk5hbWUrXCIgaGFzIHVua25vd24gdHlwZSBcIitnZXRUeXBlTmFtZShyYXdUeXBlKSl9cmV0dXJuIGltcGx9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW51bV92YWx1ZShyYXdFbnVtVHlwZSxuYW1lLGVudW1WYWx1ZSl7dmFyIGVudW1UeXBlPXJlcXVpcmVSZWdpc3RlcmVkVHlwZShyYXdFbnVtVHlwZSxcImVudW1cIik7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBFbnVtPWVudW1UeXBlLmNvbnN0cnVjdG9yO3ZhciBWYWx1ZT1PYmplY3QuY3JlYXRlKGVudW1UeXBlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSx7dmFsdWU6e3ZhbHVlOmVudW1WYWx1ZX0sY29uc3RydWN0b3I6e3ZhbHVlOmNyZWF0ZU5hbWVkRnVuY3Rpb24oZW51bVR5cGUubmFtZStcIl9cIituYW1lLGZ1bmN0aW9uKCl7fSl9fSk7RW51bS52YWx1ZXNbZW51bVZhbHVlXT1WYWx1ZTtFbnVtW25hbWVdPVZhbHVlfWZ1bmN0aW9uIF9lbWJpbmRfcmVwcih2KXtpZih2PT09bnVsbCl7cmV0dXJuXCJudWxsXCJ9dmFyIHQ9dHlwZW9mIHY7aWYodD09PVwib2JqZWN0XCJ8fHQ9PT1cImFycmF5XCJ8fHQ9PT1cImZ1bmN0aW9uXCIpe3JldHVybiB2LnRvU3RyaW5nKCl9ZWxzZXtyZXR1cm5cIlwiK3Z9fWZ1bmN0aW9uIGZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCl7c3dpdGNoKHNoaWZ0KXtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzW1wiZnJvbVdpcmVUeXBlXCJdKEhFQVBGMzJbcG9pbnRlcj4+Ml0pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzW1wiZnJvbVdpcmVUeXBlXCJdKEhFQVBGNjRbcG9pbnRlcj4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGZsb2F0IHR5cGU6IFwiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdChyYXdUeXBlLG5hbWUsc2l6ZSl7dmFyIHNoaWZ0PWdldFNoaWZ0RnJvbVNpemUoc2l6ZSk7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsXCJmcm9tV2lyZVR5cGVcIjpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlfSxcInRvV2lyZVR5cGVcIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7cmV0dXJuIHZhbHVlfSxcImFyZ1BhY2tBZHZhbmNlXCI6OCxcInJlYWRWYWx1ZUZyb21Qb2ludGVyXCI6ZmxvYXRSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0KSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2Z1bmN0aW9uKG5hbWUsYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyLHNpZ25hdHVyZSxyYXdJbnZva2VyLGZuKXt2YXIgYXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyYXdJbnZva2VyPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKHNpZ25hdHVyZSxyYXdJbnZva2VyKTtleHBvc2VQdWJsaWNTeW1ib2wobmFtZSxmdW5jdGlvbigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIFwiK25hbWUrXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixhcmdUeXBlcyl9LGFyZ0NvdW50LTEpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLGFyZ1R5cGVzLGZ1bmN0aW9uKGFyZ1R5cGVzKXt2YXIgaW52b2tlckFyZ3NBcnJheT1bYXJnVHlwZXNbMF0sbnVsbF0uY29uY2F0KGFyZ1R5cGVzLnNsaWNlKDEpKTtyZXBsYWNlUHVibGljU3ltYm9sKG5hbWUsY3JhZnRJbnZva2VyRnVuY3Rpb24obmFtZSxpbnZva2VyQXJnc0FycmF5LG51bGwscmF3SW52b2tlcixmbiksYXJnQ291bnQtMSk7cmV0dXJuW119KX1mdW5jdGlvbiBpbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCxzaWduZWQpe3N3aXRjaChzaGlmdCl7Y2FzZSAwOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFM4RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVA4W3BvaW50ZXJdfTpmdW5jdGlvbiByZWFkVThGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFU4W3BvaW50ZXJdfTtjYXNlIDE6cmV0dXJuIHNpZ25lZD9mdW5jdGlvbiByZWFkUzE2RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVAxNltwb2ludGVyPj4xXX06ZnVuY3Rpb24gcmVhZFUxNkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQVTE2W3BvaW50ZXI+PjFdfTtjYXNlIDI6cmV0dXJuIHNpZ25lZD9mdW5jdGlvbiByZWFkUzMyRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVAzMltwb2ludGVyPj4yXX06ZnVuY3Rpb24gcmVhZFUzMkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQVTMyW3BvaW50ZXI+PjJdfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGludGVnZXIgdHlwZTogXCIrbmFtZSl9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIocHJpbWl0aXZlVHlwZSxuYW1lLHNpemUsbWluUmFuZ2UsbWF4UmFuZ2Upe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtpZihtYXhSYW5nZT09PS0xKXttYXhSYW5nZT00Mjk0OTY3Mjk1fXZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO3ZhciBmcm9tV2lyZVR5cGU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX07aWYobWluUmFuZ2U9PT0wKXt2YXIgYml0c2hpZnQ9MzItOCpzaXplO2Zyb21XaXJlVHlwZT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlPDxiaXRzaGlmdD4+PmJpdHNoaWZ0fX12YXIgaXNVbnNpZ25lZFR5cGU9bmFtZS5pbmNsdWRlcyhcInVuc2lnbmVkXCIpO3JlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lOm5hbWUsXCJmcm9tV2lyZVR5cGVcIjpmcm9tV2lyZVR5cGUsXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCImJnR5cGVvZiB2YWx1ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBcIicrX2VtYmluZF9yZXByKHZhbHVlKSsnXCIgdG8gJyt0aGlzLm5hbWUpfWlmKHZhbHVlPG1pblJhbmdlfHx2YWx1ZT5tYXhSYW5nZSl7dGhyb3cgbmV3IFR5cGVFcnJvcignUGFzc2luZyBhIG51bWJlciBcIicrX2VtYmluZF9yZXByKHZhbHVlKSsnXCIgZnJvbSBKUyBzaWRlIHRvIEMvQysrIHNpZGUgdG8gYW4gYXJndW1lbnQgb2YgdHlwZSBcIicrbmFtZSsnXCIsIHdoaWNoIGlzIG91dHNpZGUgdGhlIHZhbGlkIHJhbmdlIFsnK21pblJhbmdlK1wiLCBcIittYXhSYW5nZStcIl0hXCIpfXJldHVybiBpc1Vuc2lnbmVkVHlwZT92YWx1ZT4+PjA6dmFsdWV8MH0sXCJhcmdQYWNrQWR2YW5jZVwiOjgsXCJyZWFkVmFsdWVGcm9tUG9pbnRlclwiOmludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0LG1pblJhbmdlIT09MCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldyhyYXdUeXBlLGRhdGFUeXBlSW5kZXgsbmFtZSl7dmFyIHR5cGVNYXBwaW5nPVtJbnQ4QXJyYXksVWludDhBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheV07dmFyIFRBPXR5cGVNYXBwaW5nW2RhdGFUeXBlSW5kZXhdO2Z1bmN0aW9uIGRlY29kZU1lbW9yeVZpZXcoaGFuZGxlKXtoYW5kbGU9aGFuZGxlPj4yO3ZhciBoZWFwPUhFQVBVMzI7dmFyIHNpemU9aGVhcFtoYW5kbGVdO3ZhciBkYXRhPWhlYXBbaGFuZGxlKzFdO3JldHVybiBuZXcgVEEoYnVmZmVyLGRhdGEsc2l6ZSl9bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsXCJmcm9tV2lyZVR5cGVcIjpkZWNvZGVNZW1vcnlWaWV3LFwiYXJnUGFja0FkdmFuY2VcIjo4LFwicmVhZFZhbHVlRnJvbVBvaW50ZXJcIjpkZWNvZGVNZW1vcnlWaWV3fSx7aWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9uczp0cnVlfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZyhyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgc3RkU3RyaW5nSXNVVEY4PW5hbWU9PT1cInN0ZDo6c3RyaW5nXCI7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSxcImZyb21XaXJlVHlwZVwiOmZ1bmN0aW9uKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBzdHI7aWYoc3RkU3RyaW5nSXNVVEY4KXt2YXIgZGVjb2RlU3RhcnRQdHI9dmFsdWUrNDtmb3IodmFyIGk9MDtpPD1sZW5ndGg7KytpKXt2YXIgY3VycmVudEJ5dGVQdHI9dmFsdWUrNCtpO2lmKGk9PWxlbmd0aHx8SEVBUFU4W2N1cnJlbnRCeXRlUHRyXT09MCl7dmFyIG1heFJlYWQ9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9VVRGOFRvU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWQpO2lmKHN0cj09PXVuZGVmaW5lZCl7c3RyPXN0cmluZ1NlZ21lbnR9ZWxzZXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCk7c3RyKz1zdHJpbmdTZWdtZW50fWRlY29kZVN0YXJ0UHRyPWN1cnJlbnRCeXRlUHRyKzF9fX1lbHNle3ZhciBhPW5ldyBBcnJheShsZW5ndGgpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7YVtpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKEhFQVBVOFt2YWx1ZSs0K2ldKX1zdHI9YS5qb2luKFwiXCIpfV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSxcInRvV2lyZVR5cGVcIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFsdWU9bmV3IFVpbnQ4QXJyYXkodmFsdWUpfXZhciBnZXRMZW5ndGg7dmFyIHZhbHVlSXNPZlR5cGVTdHJpbmc9dHlwZW9mIHZhbHVlPT09XCJzdHJpbmdcIjtpZighKHZhbHVlSXNPZlR5cGVTdHJpbmd8fHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpKXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmdcIil9aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtnZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gbGVuZ3RoQnl0ZXNVVEY4KHZhbHVlKX19ZWxzZXtnZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdmFsdWUubGVuZ3RofX12YXIgbGVuZ3RoPWdldExlbmd0aCgpO3ZhciBwdHI9X21hbGxvYyg0K2xlbmd0aCsxKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoO2lmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7c3RyaW5nVG9VVEY4KHZhbHVlLHB0cis0LGxlbmd0aCsxKX1lbHNle2lmKHZhbHVlSXNPZlR5cGVTdHJpbmcpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7dmFyIGNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoaSk7aWYoY2hhckNvZGU+MjU1KXtfZnJlZShwdHIpO3Rocm93QmluZGluZ0Vycm9yKFwiU3RyaW5nIGhhcyBVVEYtMTYgY29kZSB1bml0cyB0aGF0IGRvIG5vdCBmaXQgaW4gOCBiaXRzXCIpfUhFQVBVOFtwdHIrNCtpXT1jaGFyQ29kZX19ZWxzZXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe0hFQVBVOFtwdHIrNCtpXT12YWx1ZVtpXX19fWlmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LFwiYXJnUGFja0FkdmFuY2VcIjo4LFwicmVhZFZhbHVlRnJvbVBvaW50ZXJcIjpzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpfX0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF93c3RyaW5nKHJhd1R5cGUsY2hhclNpemUsbmFtZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBkZWNvZGVTdHJpbmcsZW5jb2RlU3RyaW5nLGdldEhlYXAsbGVuZ3RoQnl0ZXNVVEYsc2hpZnQ7aWYoY2hhclNpemU9PT0yKXtkZWNvZGVTdHJpbmc9VVRGMTZUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYxNjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjE2O2dldEhlYXA9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUFUxNn07c2hpZnQ9MX1lbHNlIGlmKGNoYXJTaXplPT09NCl7ZGVjb2RlU3RyaW5nPVVURjMyVG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMzI7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYzMjtnZXRIZWFwPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVBVMzJ9O3NoaWZ0PTJ9cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSxcImZyb21XaXJlVHlwZVwiOmZ1bmN0aW9uKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBIRUFQPWdldEhlYXAoKTt2YXIgc3RyO3ZhciBkZWNvZGVTdGFydFB0cj12YWx1ZSs0O2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj12YWx1ZSs0K2kqY2hhclNpemU7aWYoaT09bGVuZ3RofHxIRUFQW2N1cnJlbnRCeXRlUHRyPj5zaGlmdF09PTApe3ZhciBtYXhSZWFkQnl0ZXM9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9ZGVjb2RlU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWRCeXRlcyk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudH1lbHNle3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgwKTtzdHIrPXN0cmluZ1NlZ21lbnR9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrY2hhclNpemV9fV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSxcInRvV2lyZVR5cGVcIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYoISh0eXBlb2YgdmFsdWU9PT1cInN0cmluZ1wiKSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSBcIituYW1lKX12YXIgbGVuZ3RoPWxlbmd0aEJ5dGVzVVRGKHZhbHVlKTt2YXIgcHRyPV9tYWxsb2MoNCtsZW5ndGgrY2hhclNpemUpO0hFQVBVMzJbcHRyPj4yXT1sZW5ndGg+PnNoaWZ0O2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LFwiYXJnUGFja0FkdmFuY2VcIjo4LFwicmVhZFZhbHVlRnJvbVBvaW50ZXJcIjpzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpfX0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse2lzVm9pZDp0cnVlLG5hbWU6bmFtZSxcImFyZ1BhY2tBZHZhbmNlXCI6MCxcImZyb21XaXJlVHlwZVwiOmZ1bmN0aW9uKCl7cmV0dXJuIHVuZGVmaW5lZH0sXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsbyl7cmV0dXJuIHVuZGVmaW5lZH19KX1mdW5jdGlvbiBfYWJvcnQoKXthYm9ydChcIlwiKX12YXIgX2Vtc2NyaXB0ZW5fZ2V0X25vdztfZW1zY3JpcHRlbl9nZXRfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpfTt2YXIgX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWM9dHJ1ZTtmdW5jdGlvbiBfY2xvY2tfZ2V0dGltZShjbGtfaWQsdHApe3ZhciBub3c7aWYoY2xrX2lkPT09MCl7bm93PURhdGUubm93KCl9ZWxzZSBpZigoY2xrX2lkPT09MXx8Y2xrX2lkPT09NCkmJl9lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljKXtub3c9X2Vtc2NyaXB0ZW5fZ2V0X25vdygpfWVsc2V7c2V0RXJyTm8oMjgpO3JldHVybi0xfUhFQVAzMlt0cD4+Ml09bm93LzFlM3wwO0hFQVAzMlt0cCs0Pj4yXT1ub3clMWUzKjFlMyoxZTN8MDtyZXR1cm4gMH1mdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKGRlc3Qsc3JjLG51bSl7SEVBUFU4LmNvcHlXaXRoaW4oZGVzdCxzcmMsc3JjK251bSl9ZnVuY3Rpb24gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihzaXplKXt0cnl7d2FzbU1lbW9yeS5ncm93KHNpemUtYnVmZmVyLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNik7dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO3JldHVybiAxfWNhdGNoKGUpe319ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAocmVxdWVzdGVkU2l6ZSl7dmFyIG9sZFNpemU9SEVBUFU4Lmxlbmd0aDtyZXF1ZXN0ZWRTaXplPXJlcXVlc3RlZFNpemU+Pj4wO3ZhciBtYXhIZWFwU2l6ZT0xMDczNzQxODI0O2lmKHJlcXVlc3RlZFNpemU+bWF4SGVhcFNpemUpe3JldHVybiBmYWxzZX1mb3IodmFyIGN1dERvd249MTtjdXREb3duPD00O2N1dERvd24qPTIpe3ZhciBvdmVyR3Jvd25IZWFwU2l6ZT1vbGRTaXplKigxKy4yL2N1dERvd24pO292ZXJHcm93bkhlYXBTaXplPU1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLHJlcXVlc3RlZFNpemUrMTAwNjYzMjk2KTt2YXIgbmV3U2l6ZT1NYXRoLm1pbihtYXhIZWFwU2l6ZSxhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsb3Zlckdyb3duSGVhcFNpemUpLDY1NTM2KSk7dmFyIHJlcGxhY2VtZW50PWVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIobmV3U2l6ZSk7aWYocmVwbGFjZW1lbnQpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9dmFyIEVOVj17fTtmdW5jdGlvbiBnZXRFeGVjdXRhYmxlTmFtZSgpe3JldHVybiB0aGlzUHJvZ3JhbXx8XCIuL3RoaXMucHJvZ3JhbVwifWZ1bmN0aW9uIGdldEVudlN0cmluZ3MoKXtpZighZ2V0RW52U3RyaW5ncy5zdHJpbmdzKXt2YXIgbGFuZz0odHlwZW9mIG5hdmlnYXRvcj09PVwib2JqZWN0XCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fFwiQ1wiKS5yZXBsYWNlKFwiLVwiLFwiX1wiKStcIi5VVEYtOFwiO3ZhciBlbnY9e1wiVVNFUlwiOlwid2ViX3VzZXJcIixcIkxPR05BTUVcIjpcIndlYl91c2VyXCIsXCJQQVRIXCI6XCIvXCIsXCJQV0RcIjpcIi9cIixcIkhPTUVcIjpcIi9ob21lL3dlYl91c2VyXCIsXCJMQU5HXCI6bGFuZyxcIl9cIjpnZXRFeGVjdXRhYmxlTmFtZSgpfTtmb3IodmFyIHggaW4gRU5WKXtpZihFTlZbeF09PT11bmRlZmluZWQpZGVsZXRlIGVudlt4XTtlbHNlIGVudlt4XT1FTlZbeF19dmFyIHN0cmluZ3M9W107Zm9yKHZhciB4IGluIGVudil7c3RyaW5ncy5wdXNoKHgrXCI9XCIrZW52W3hdKX1nZXRFbnZTdHJpbmdzLnN0cmluZ3M9c3RyaW5nc31yZXR1cm4gZ2V0RW52U3RyaW5ncy5zdHJpbmdzfWZ1bmN0aW9uIF9lbnZpcm9uX2dldChfX2Vudmlyb24sZW52aXJvbl9idWYpe3ZhciBidWZTaXplPTA7Z2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24oc3RyaW5nLGkpe3ZhciBwdHI9ZW52aXJvbl9idWYrYnVmU2l6ZTtIRUFQMzJbX19lbnZpcm9uK2kqND4+Ml09cHRyO3dyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcscHRyKTtidWZTaXplKz1zdHJpbmcubGVuZ3RoKzF9KTtyZXR1cm4gMH1mdW5jdGlvbiBfZW52aXJvbl9zaXplc19nZXQocGVudmlyb25fY291bnQscGVudmlyb25fYnVmX3NpemUpe3ZhciBzdHJpbmdzPWdldEVudlN0cmluZ3MoKTtIRUFQMzJbcGVudmlyb25fY291bnQ+PjJdPXN0cmluZ3MubGVuZ3RoO3ZhciBidWZTaXplPTA7c3RyaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHN0cmluZyl7YnVmU2l6ZSs9c3RyaW5nLmxlbmd0aCsxfSk7SEVBUDMyW3BlbnZpcm9uX2J1Zl9zaXplPj4yXT1idWZTaXplO3JldHVybiAwfWZ1bmN0aW9uIF9leGl0KHN0YXR1cyl7ZXhpdChzdGF0dXMpfWZ1bmN0aW9uIF9mZF9jbG9zZShmZCl7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtGUy5jbG9zZShzdHJlYW0pO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIF9mZF9yZWFkKGZkLGlvdixpb3ZjbnQscG51bSl7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTt2YXIgbnVtPVNZU0NBTExTLmRvUmVhZHYoc3RyZWFtLGlvdixpb3ZjbnQpO0hFQVAzMltwbnVtPj4yXT1udW07cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gX2ZkX3NlZWsoZmQsb2Zmc2V0X2xvdyxvZmZzZXRfaGlnaCx3aGVuY2UsbmV3T2Zmc2V0KXt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBISUdIX09GRlNFVD00Mjk0OTY3Mjk2O3ZhciBvZmZzZXQ9b2Zmc2V0X2hpZ2gqSElHSF9PRkZTRVQrKG9mZnNldF9sb3c+Pj4wKTt2YXIgRE9VQkxFX0xJTUlUPTkwMDcxOTkyNTQ3NDA5OTI7aWYob2Zmc2V0PD0tRE9VQkxFX0xJTUlUfHxvZmZzZXQ+PURPVUJMRV9MSU1JVCl7cmV0dXJuLTYxfUZTLmxsc2VlayhzdHJlYW0sb2Zmc2V0LHdoZW5jZSk7dGVtcEk2ND1bc3RyZWFtLnBvc2l0aW9uPj4+MCwodGVtcERvdWJsZT1zdHJlYW0ucG9zaXRpb24sK01hdGguYWJzKHRlbXBEb3VibGUpPj0xP3RlbXBEb3VibGU+MD8oTWF0aC5taW4oK01hdGguZmxvb3IodGVtcERvdWJsZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh0ZW1wRG91YmxlLSsofn50ZW1wRG91YmxlPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sSEVBUDMyW25ld09mZnNldD4+Ml09dGVtcEk2NFswXSxIRUFQMzJbbmV3T2Zmc2V0KzQ+PjJdPXRlbXBJNjRbMV07aWYoc3RyZWFtLmdldGRlbnRzJiZvZmZzZXQ9PT0wJiZ3aGVuY2U9PT0wKXN0cmVhbS5nZXRkZW50cz1udWxsO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIF9mZF93cml0ZShmZCxpb3YsaW92Y250LHBudW0pe3RyeXt2YXIgc3RyZWFtPVNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7dmFyIG51bT1TWVNDQUxMUy5kb1dyaXRldihzdHJlYW0saW92LGlvdmNudCk7SEVBUDMyW3BudW0+PjJdPW51bTtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybiBlLmVycm5vfX1mdW5jdGlvbiBfc2V0VGVtcFJldDAodmFsKXtzZXRUZW1wUmV0MCh2YWwpfWZ1bmN0aW9uIF9faXNMZWFwWWVhcih5ZWFyKXtyZXR1cm4geWVhciU0PT09MCYmKHllYXIlMTAwIT09MHx8eWVhciU0MDA9PT0wKX1mdW5jdGlvbiBfX2FycmF5U3VtKGFycmF5LGluZGV4KXt2YXIgc3VtPTA7Zm9yKHZhciBpPTA7aTw9aW5kZXg7c3VtKz1hcnJheVtpKytdKXt9cmV0dXJuIHN1bX12YXIgX19NT05USF9EQVlTX0xFQVA9WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTt2YXIgX19NT05USF9EQVlTX1JFR1VMQVI9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiBfX2FkZERheXMoZGF0ZSxkYXlzKXt2YXIgbmV3RGF0ZT1uZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7d2hpbGUoZGF5cz4wKXt2YXIgbGVhcD1fX2lzTGVhcFllYXIobmV3RGF0ZS5nZXRGdWxsWWVhcigpKTt2YXIgY3VycmVudE1vbnRoPW5ld0RhdGUuZ2V0TW9udGgoKTt2YXIgZGF5c0luQ3VycmVudE1vbnRoPShsZWFwP19fTU9OVEhfREFZU19MRUFQOl9fTU9OVEhfREFZU19SRUdVTEFSKVtjdXJyZW50TW9udGhdO2lmKGRheXM+ZGF5c0luQ3VycmVudE1vbnRoLW5ld0RhdGUuZ2V0RGF0ZSgpKXtkYXlzLT1kYXlzSW5DdXJyZW50TW9udGgtbmV3RGF0ZS5nZXREYXRlKCkrMTtuZXdEYXRlLnNldERhdGUoMSk7aWYoY3VycmVudE1vbnRoPDExKXtuZXdEYXRlLnNldE1vbnRoKGN1cnJlbnRNb250aCsxKX1lbHNle25ld0RhdGUuc2V0TW9udGgoMCk7bmV3RGF0ZS5zZXRGdWxsWWVhcihuZXdEYXRlLmdldEZ1bGxZZWFyKCkrMSl9fWVsc2V7bmV3RGF0ZS5zZXREYXRlKG5ld0RhdGUuZ2V0RGF0ZSgpK2RheXMpO3JldHVybiBuZXdEYXRlfX1yZXR1cm4gbmV3RGF0ZX1mdW5jdGlvbiBfc3RyZnRpbWUocyxtYXhzaXplLGZvcm1hdCx0bSl7dmFyIHRtX3pvbmU9SEVBUDMyW3RtKzQwPj4yXTt2YXIgZGF0ZT17dG1fc2VjOkhFQVAzMlt0bT4+Ml0sdG1fbWluOkhFQVAzMlt0bSs0Pj4yXSx0bV9ob3VyOkhFQVAzMlt0bSs4Pj4yXSx0bV9tZGF5OkhFQVAzMlt0bSsxMj4+Ml0sdG1fbW9uOkhFQVAzMlt0bSsxNj4+Ml0sdG1feWVhcjpIRUFQMzJbdG0rMjA+PjJdLHRtX3dkYXk6SEVBUDMyW3RtKzI0Pj4yXSx0bV95ZGF5OkhFQVAzMlt0bSsyOD4+Ml0sdG1faXNkc3Q6SEVBUDMyW3RtKzMyPj4yXSx0bV9nbXRvZmY6SEVBUDMyW3RtKzM2Pj4yXSx0bV96b25lOnRtX3pvbmU/VVRGOFRvU3RyaW5nKHRtX3pvbmUpOlwiXCJ9O3ZhciBwYXR0ZXJuPVVURjhUb1N0cmluZyhmb3JtYXQpO3ZhciBFWFBBTlNJT05fUlVMRVNfMT17XCIlY1wiOlwiJWEgJWIgJWQgJUg6JU06JVMgJVlcIixcIiVEXCI6XCIlbS8lZC8leVwiLFwiJUZcIjpcIiVZLSVtLSVkXCIsXCIlaFwiOlwiJWJcIixcIiVyXCI6XCIlSTolTTolUyAlcFwiLFwiJVJcIjpcIiVIOiVNXCIsXCIlVFwiOlwiJUg6JU06JVNcIixcIiV4XCI6XCIlbS8lZC8leVwiLFwiJVhcIjpcIiVIOiVNOiVTXCIsXCIlRWNcIjpcIiVjXCIsXCIlRUNcIjpcIiVDXCIsXCIlRXhcIjpcIiVtLyVkLyV5XCIsXCIlRVhcIjpcIiVIOiVNOiVTXCIsXCIlRXlcIjpcIiV5XCIsXCIlRVlcIjpcIiVZXCIsXCIlT2RcIjpcIiVkXCIsXCIlT2VcIjpcIiVlXCIsXCIlT0hcIjpcIiVIXCIsXCIlT0lcIjpcIiVJXCIsXCIlT21cIjpcIiVtXCIsXCIlT01cIjpcIiVNXCIsXCIlT1NcIjpcIiVTXCIsXCIlT3VcIjpcIiV1XCIsXCIlT1VcIjpcIiVVXCIsXCIlT1ZcIjpcIiVWXCIsXCIlT3dcIjpcIiV3XCIsXCIlT1dcIjpcIiVXXCIsXCIlT3lcIjpcIiV5XCJ9O2Zvcih2YXIgcnVsZSBpbiBFWFBBTlNJT05fUlVMRVNfMSl7cGF0dGVybj1wYXR0ZXJuLnJlcGxhY2UobmV3IFJlZ0V4cChydWxlLFwiZ1wiKSxFWFBBTlNJT05fUlVMRVNfMVtydWxlXSl9dmFyIFdFRUtEQVlTPVtcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdO3ZhciBNT05USFM9W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdO2Z1bmN0aW9uIGxlYWRpbmdTb21ldGhpbmcodmFsdWUsZGlnaXRzLGNoYXJhY3Rlcil7dmFyIHN0cj10eXBlb2YgdmFsdWU9PT1cIm51bWJlclwiP3ZhbHVlLnRvU3RyaW5nKCk6dmFsdWV8fFwiXCI7d2hpbGUoc3RyLmxlbmd0aDxkaWdpdHMpe3N0cj1jaGFyYWN0ZXJbMF0rc3RyfXJldHVybiBzdHJ9ZnVuY3Rpb24gbGVhZGluZ051bGxzKHZhbHVlLGRpZ2l0cyl7cmV0dXJuIGxlYWRpbmdTb21ldGhpbmcodmFsdWUsZGlnaXRzLFwiMFwiKX1mdW5jdGlvbiBjb21wYXJlQnlEYXkoZGF0ZTEsZGF0ZTIpe2Z1bmN0aW9uIHNnbih2YWx1ZSl7cmV0dXJuIHZhbHVlPDA/LTE6dmFsdWU+MD8xOjB9dmFyIGNvbXBhcmU7aWYoKGNvbXBhcmU9c2duKGRhdGUxLmdldEZ1bGxZZWFyKCktZGF0ZTIuZ2V0RnVsbFllYXIoKSkpPT09MCl7aWYoKGNvbXBhcmU9c2duKGRhdGUxLmdldE1vbnRoKCktZGF0ZTIuZ2V0TW9udGgoKSkpPT09MCl7Y29tcGFyZT1zZ24oZGF0ZTEuZ2V0RGF0ZSgpLWRhdGUyLmdldERhdGUoKSl9fXJldHVybiBjb21wYXJlfWZ1bmN0aW9uIGdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGgpe3N3aXRjaChqYW5Gb3VydGguZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBqYW5Gb3VydGg7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBnZXRXZWVrQmFzZWRZZWFyKGRhdGUpe3ZhciB0aGlzRGF0ZT1fX2FkZERheXMobmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsMCwxKSxkYXRlLnRtX3lkYXkpO3ZhciBqYW5Gb3VydGhUaGlzWWVhcj1uZXcgRGF0ZSh0aGlzRGF0ZS5nZXRGdWxsWWVhcigpLDAsNCk7dmFyIGphbkZvdXJ0aE5leHRZZWFyPW5ldyBEYXRlKHRoaXNEYXRlLmdldEZ1bGxZZWFyKCkrMSwwLDQpO3ZhciBmaXJzdFdlZWtTdGFydFRoaXNZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhUaGlzWWVhcik7dmFyIGZpcnN0V2Vla1N0YXJ0TmV4dFllYXI9Z2V0Rmlyc3RXZWVrU3RhcnREYXRlKGphbkZvdXJ0aE5leHRZZWFyKTtpZihjb21wYXJlQnlEYXkoZmlyc3RXZWVrU3RhcnRUaGlzWWVhcix0aGlzRGF0ZSk8PTApe2lmKGNvbXBhcmVCeURheShmaXJzdFdlZWtTdGFydE5leHRZZWFyLHRoaXNEYXRlKTw9MCl7cmV0dXJuIHRoaXNEYXRlLmdldEZ1bGxZZWFyKCkrMX1lbHNle3JldHVybiB0aGlzRGF0ZS5nZXRGdWxsWWVhcigpfX1lbHNle3JldHVybiB0aGlzRGF0ZS5nZXRGdWxsWWVhcigpLTF9fXZhciBFWFBBTlNJT05fUlVMRVNfMj17XCIlYVwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBXRUVLREFZU1tkYXRlLnRtX3dkYXldLnN1YnN0cmluZygwLDMpfSxcIiVBXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIFdFRUtEQVlTW2RhdGUudG1fd2RheV19LFwiJWJcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gTU9OVEhTW2RhdGUudG1fbW9uXS5zdWJzdHJpbmcoMCwzKX0sXCIlQlwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBNT05USFNbZGF0ZS50bV9tb25dfSxcIiVDXCI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHllYXI9ZGF0ZS50bV95ZWFyKzE5MDA7cmV0dXJuIGxlYWRpbmdOdWxscyh5ZWFyLzEwMHwwLDIpfSxcIiVkXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21kYXksMil9LFwiJWVcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ1NvbWV0aGluZyhkYXRlLnRtX21kYXksMixcIiBcIil9LFwiJWdcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZ2V0V2Vla0Jhc2VkWWVhcihkYXRlKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sXCIlR1wiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBnZXRXZWVrQmFzZWRZZWFyKGRhdGUpfSxcIiVIXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX2hvdXIsMil9LFwiJUlcIjpmdW5jdGlvbihkYXRlKXt2YXIgdHdlbHZlSG91cj1kYXRlLnRtX2hvdXI7aWYodHdlbHZlSG91cj09MCl0d2VsdmVIb3VyPTEyO2Vsc2UgaWYodHdlbHZlSG91cj4xMil0d2VsdmVIb3VyLT0xMjtyZXR1cm4gbGVhZGluZ051bGxzKHR3ZWx2ZUhvdXIsMil9LFwiJWpcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbWRheStfX2FycmF5U3VtKF9faXNMZWFwWWVhcihkYXRlLnRtX3llYXIrMTkwMCk/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIsZGF0ZS50bV9tb24tMSksMyl9LFwiJW1cIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbW9uKzEsMil9LFwiJU1cIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbWluLDIpfSxcIiVuXCI6ZnVuY3Rpb24oKXtyZXR1cm5cIlxcblwifSxcIiVwXCI6ZnVuY3Rpb24oZGF0ZSl7aWYoZGF0ZS50bV9ob3VyPj0wJiZkYXRlLnRtX2hvdXI8MTIpe3JldHVyblwiQU1cIn1lbHNle3JldHVyblwiUE1cIn19LFwiJVNcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fc2VjLDIpfSxcIiV0XCI6ZnVuY3Rpb24oKXtyZXR1cm5cIlxcdFwifSxcIiV1XCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fd2RheXx8N30sXCIlVVwiOmZ1bmN0aW9uKGRhdGUpe3ZhciBqYW5GaXJzdD1uZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCwwLDEpO3ZhciBmaXJzdFN1bmRheT1qYW5GaXJzdC5nZXREYXkoKT09PTA/amFuRmlyc3Q6X19hZGREYXlzKGphbkZpcnN0LDctamFuRmlyc3QuZ2V0RGF5KCkpO3ZhciBlbmREYXRlPW5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLGRhdGUudG1fbW9uLGRhdGUudG1fbWRheSk7aWYoY29tcGFyZUJ5RGF5KGZpcnN0U3VuZGF5LGVuZERhdGUpPDApe3ZhciBmZWJydWFyeUZpcnN0VW50aWxFbmRNb250aD1fX2FycmF5U3VtKF9faXNMZWFwWWVhcihlbmREYXRlLmdldEZ1bGxZZWFyKCkpP19fTU9OVEhfREFZU19MRUFQOl9fTU9OVEhfREFZU19SRUdVTEFSLGVuZERhdGUuZ2V0TW9udGgoKS0xKS0zMTt2YXIgZmlyc3RTdW5kYXlVbnRpbEVuZEphbnVhcnk9MzEtZmlyc3RTdW5kYXkuZ2V0RGF0ZSgpO3ZhciBkYXlzPWZpcnN0U3VuZGF5VW50aWxFbmRKYW51YXJ5K2ZlYnJ1YXJ5Rmlyc3RVbnRpbEVuZE1vbnRoK2VuZERhdGUuZ2V0RGF0ZSgpO3JldHVybiBsZWFkaW5nTnVsbHMoTWF0aC5jZWlsKGRheXMvNyksMil9cmV0dXJuIGNvbXBhcmVCeURheShmaXJzdFN1bmRheSxqYW5GaXJzdCk9PT0wP1wiMDFcIjpcIjAwXCJ9LFwiJVZcIjpmdW5jdGlvbihkYXRlKXt2YXIgamFuRm91cnRoVGhpc1llYXI9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsMCw0KTt2YXIgamFuRm91cnRoTmV4dFllYXI9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDEsMCw0KTt2YXIgZmlyc3RXZWVrU3RhcnRUaGlzWWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoVGhpc1llYXIpO3ZhciBmaXJzdFdlZWtTdGFydE5leHRZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhOZXh0WWVhcik7dmFyIGVuZERhdGU9X19hZGREYXlzKG5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsMSksZGF0ZS50bV95ZGF5KTtpZihjb21wYXJlQnlEYXkoZW5kRGF0ZSxmaXJzdFdlZWtTdGFydFRoaXNZZWFyKTwwKXtyZXR1cm5cIjUzXCJ9aWYoY29tcGFyZUJ5RGF5KGZpcnN0V2Vla1N0YXJ0TmV4dFllYXIsZW5kRGF0ZSk8PTApe3JldHVyblwiMDFcIn12YXIgZGF5c0RpZmZlcmVuY2U7aWYoZmlyc3RXZWVrU3RhcnRUaGlzWWVhci5nZXRGdWxsWWVhcigpPGRhdGUudG1feWVhcisxOTAwKXtkYXlzRGlmZmVyZW5jZT1kYXRlLnRtX3lkYXkrMzItZmlyc3RXZWVrU3RhcnRUaGlzWWVhci5nZXREYXRlKCl9ZWxzZXtkYXlzRGlmZmVyZW5jZT1kYXRlLnRtX3lkYXkrMS1maXJzdFdlZWtTdGFydFRoaXNZZWFyLmdldERhdGUoKX1yZXR1cm4gbGVhZGluZ051bGxzKE1hdGguY2VpbChkYXlzRGlmZmVyZW5jZS83KSwyKX0sXCIld1wiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLnRtX3dkYXl9LFwiJVdcIjpmdW5jdGlvbihkYXRlKXt2YXIgamFuRmlyc3Q9bmV3IERhdGUoZGF0ZS50bV95ZWFyLDAsMSk7dmFyIGZpcnN0TW9uZGF5PWphbkZpcnN0LmdldERheSgpPT09MT9qYW5GaXJzdDpfX2FkZERheXMoamFuRmlyc3QsamFuRmlyc3QuZ2V0RGF5KCk9PT0wPzE6Ny1qYW5GaXJzdC5nZXREYXkoKSsxKTt2YXIgZW5kRGF0ZT1uZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCxkYXRlLnRtX21vbixkYXRlLnRtX21kYXkpO2lmKGNvbXBhcmVCeURheShmaXJzdE1vbmRheSxlbmREYXRlKTwwKXt2YXIgZmVicnVhcnlGaXJzdFVudGlsRW5kTW9udGg9X19hcnJheVN1bShfX2lzTGVhcFllYXIoZW5kRGF0ZS5nZXRGdWxsWWVhcigpKT9fX01PTlRIX0RBWVNfTEVBUDpfX01PTlRIX0RBWVNfUkVHVUxBUixlbmREYXRlLmdldE1vbnRoKCktMSktMzE7dmFyIGZpcnN0TW9uZGF5VW50aWxFbmRKYW51YXJ5PTMxLWZpcnN0TW9uZGF5LmdldERhdGUoKTt2YXIgZGF5cz1maXJzdE1vbmRheVVudGlsRW5kSmFudWFyeStmZWJydWFyeUZpcnN0VW50aWxFbmRNb250aCtlbmREYXRlLmdldERhdGUoKTtyZXR1cm4gbGVhZGluZ051bGxzKE1hdGguY2VpbChkYXlzLzcpLDIpfXJldHVybiBjb21wYXJlQnlEYXkoZmlyc3RNb25kYXksamFuRmlyc3QpPT09MD9cIjAxXCI6XCIwMFwifSxcIiV5XCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuKGRhdGUudG1feWVhcisxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sXCIlWVwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLnRtX3llYXIrMTkwMH0sXCIlelwiOmZ1bmN0aW9uKGRhdGUpe3ZhciBvZmY9ZGF0ZS50bV9nbXRvZmY7dmFyIGFoZWFkPW9mZj49MDtvZmY9TWF0aC5hYnMob2ZmKS82MDtvZmY9b2ZmLzYwKjEwMCtvZmYlNjA7cmV0dXJuKGFoZWFkP1wiK1wiOlwiLVwiKStTdHJpbmcoXCIwMDAwXCIrb2ZmKS5zbGljZSgtNCl9LFwiJVpcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV96b25lfSxcIiUlXCI6ZnVuY3Rpb24oKXtyZXR1cm5cIiVcIn19O2Zvcih2YXIgcnVsZSBpbiBFWFBBTlNJT05fUlVMRVNfMil7aWYocGF0dGVybi5pbmNsdWRlcyhydWxlKSl7cGF0dGVybj1wYXR0ZXJuLnJlcGxhY2UobmV3IFJlZ0V4cChydWxlLFwiZ1wiKSxFWFBBTlNJT05fUlVMRVNfMltydWxlXShkYXRlKSl9fXZhciBieXRlcz1pbnRBcnJheUZyb21TdHJpbmcocGF0dGVybixmYWxzZSk7aWYoYnl0ZXMubGVuZ3RoPm1heHNpemUpe3JldHVybiAwfXdyaXRlQXJyYXlUb01lbW9yeShieXRlcyxzKTtyZXR1cm4gYnl0ZXMubGVuZ3RoLTF9ZnVuY3Rpb24gX3N0cmZ0aW1lX2wocyxtYXhzaXplLGZvcm1hdCx0bSl7cmV0dXJuIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKX12YXIgRlNOb2RlPWZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUscmRldil7aWYoIXBhcmVudCl7cGFyZW50PXRoaXN9dGhpcy5wYXJlbnQ9cGFyZW50O3RoaXMubW91bnQ9cGFyZW50Lm1vdW50O3RoaXMubW91bnRlZD1udWxsO3RoaXMuaWQ9RlMubmV4dElub2RlKys7dGhpcy5uYW1lPW5hbWU7dGhpcy5tb2RlPW1vZGU7dGhpcy5ub2RlX29wcz17fTt0aGlzLnN0cmVhbV9vcHM9e307dGhpcy5yZGV2PXJkZXZ9O3ZhciByZWFkTW9kZT0yOTJ8NzM7dmFyIHdyaXRlTW9kZT0xNDY7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRlNOb2RlLnByb3RvdHlwZSx7cmVhZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZyZWFkTW9kZSk9PT1yZWFkTW9kZX0sc2V0OmZ1bmN0aW9uKHZhbCl7dmFsP3RoaXMubW9kZXw9cmVhZE1vZGU6dGhpcy5tb2RlJj1+cmVhZE1vZGV9fSx3cml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZ3cml0ZU1vZGUpPT09d3JpdGVNb2RlfSxzZXQ6ZnVuY3Rpb24odmFsKXt2YWw/dGhpcy5tb2RlfD13cml0ZU1vZGU6dGhpcy5tb2RlJj1+d3JpdGVNb2RlfX0saXNGb2xkZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBGUy5pc0Rpcih0aGlzLm1vZGUpfX0saXNEZXZpY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBGUy5pc0NocmRldih0aGlzLm1vZGUpfX19KTtGUy5GU05vZGU9RlNOb2RlO0ZTLnN0YXRpY0luaXQoKTtlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKTtCaW5kaW5nRXJyb3I9TW9kdWxlW1wiQmluZGluZ0Vycm9yXCJdPWV4dGVuZEVycm9yKEVycm9yLFwiQmluZGluZ0Vycm9yXCIpO0ludGVybmFsRXJyb3I9TW9kdWxlW1wiSW50ZXJuYWxFcnJvclwiXT1leHRlbmRFcnJvcihFcnJvcixcIkludGVybmFsRXJyb3JcIik7aW5pdF9DbGFzc0hhbmRsZSgpO2luaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKTtpbml0X2VtYmluZCgpO1VuYm91bmRUeXBlRXJyb3I9TW9kdWxlW1wiVW5ib3VuZFR5cGVFcnJvclwiXT1leHRlbmRFcnJvcihFcnJvcixcIlVuYm91bmRUeXBlRXJyb3JcIik7aW5pdF9lbXZhbCgpO2Z1bmN0aW9uIGludEFycmF5RnJvbVN0cmluZyhzdHJpbmd5LGRvbnRBZGROdWxsLGxlbmd0aCl7dmFyIGxlbj1sZW5ndGg+MD9sZW5ndGg6bGVuZ3RoQnl0ZXNVVEY4KHN0cmluZ3kpKzE7dmFyIHU4YXJyYXk9bmV3IEFycmF5KGxlbik7dmFyIG51bUJ5dGVzV3JpdHRlbj1zdHJpbmdUb1VURjhBcnJheShzdHJpbmd5LHU4YXJyYXksMCx1OGFycmF5Lmxlbmd0aCk7aWYoZG9udEFkZE51bGwpdThhcnJheS5sZW5ndGg9bnVtQnl0ZXNXcml0dGVuO3JldHVybiB1OGFycmF5fXZhciBhc21MaWJyYXJ5QXJnPXtcImxcIjpfX19jeGFfYWxsb2NhdGVfZXhjZXB0aW9uLFwia1wiOl9fX2N4YV90aHJvdyxcIm1cIjpfX19zeXNjYWxsX2ZjbnRsNjQsXCJIXCI6X19fc3lzY2FsbF9mc3RhdDY0LFwiRlwiOl9fX3N5c2NhbGxfZnN0YXRhdDY0LFwiQVwiOl9fX3N5c2NhbGxfaW9jdGwsXCJKXCI6X19fc3lzY2FsbF9tbWFwMixcIklcIjpfX19zeXNjYWxsX211bm1hcCxcInBcIjpfX19zeXNjYWxsX29wZW4sXCJHXCI6X19fc3lzY2FsbF9zdGF0NjQsXCJ2XCI6X19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50LFwiTFwiOl9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2wsXCJzXCI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3MsXCJoXCI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3IsXCJhXCI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfZnVuY3Rpb24sXCJLXCI6X19lbWJpbmRfcmVnaXN0ZXJfZW12YWwsXCJuXCI6X19lbWJpbmRfcmVnaXN0ZXJfZW51bSxcImJcIjpfX2VtYmluZF9yZWdpc3Rlcl9lbnVtX3ZhbHVlLFwicVwiOl9fZW1iaW5kX3JlZ2lzdGVyX2Zsb2F0LFwiY1wiOl9fZW1iaW5kX3JlZ2lzdGVyX2Z1bmN0aW9uLFwiZVwiOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsXCJkXCI6X19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXcsXCJyXCI6X19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZyxcImpcIjpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyxcInRcIjpfX2VtYmluZF9yZWdpc3Rlcl92b2lkLFwiZ1wiOl9hYm9ydCxcIkNcIjpfY2xvY2tfZ2V0dGltZSxcInhcIjpfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLFwieVwiOl9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwLFwiRFwiOl9lbnZpcm9uX2dldCxcIkVcIjpfZW52aXJvbl9zaXplc19nZXQsXCJmXCI6X2V4aXQsXCJpXCI6X2ZkX2Nsb3NlLFwiQlwiOl9mZF9yZWFkLFwidVwiOl9mZF9zZWVrLFwib1wiOl9mZF93cml0ZSxcIndcIjpfc2V0VGVtcFJldDAsXCJ6XCI6X3N0cmZ0aW1lX2x9O3ZhciBhc209Y3JlYXRlV2FzbSgpO3ZhciBfX193YXNtX2NhbGxfY3RvcnM9TW9kdWxlW1wiX19fd2FzbV9jYWxsX2N0b3JzXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX3dhc21fY2FsbF9jdG9ycz1Nb2R1bGVbXCJfX193YXNtX2NhbGxfY3RvcnNcIl09TW9kdWxlW1wiYXNtXCJdW1wiTlwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX21hbGxvYz1Nb2R1bGVbXCJfbWFsbG9jXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9tYWxsb2M9TW9kdWxlW1wiX21hbGxvY1wiXT1Nb2R1bGVbXCJhc21cIl1bXCJPXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfZnJlZT1Nb2R1bGVbXCJfZnJlZVwiXT1mdW5jdGlvbigpe3JldHVybihfZnJlZT1Nb2R1bGVbXCJfZnJlZVwiXT1Nb2R1bGVbXCJhc21cIl1bXCJRXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX19nZXRUeXBlTmFtZT1Nb2R1bGVbXCJfX19nZXRUeXBlTmFtZVwiXT1mdW5jdGlvbigpe3JldHVybihfX19nZXRUeXBlTmFtZT1Nb2R1bGVbXCJfX19nZXRUeXBlTmFtZVwiXT1Nb2R1bGVbXCJhc21cIl1bXCJSXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzPU1vZHVsZVtcIl9fX2VtYmluZF9yZWdpc3Rlcl9uYXRpdmVfYW5kX2J1aWx0aW5fdHlwZXNcIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcz1Nb2R1bGVbXCJfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzXCJdPU1vZHVsZVtcImFzbVwiXVtcIlNcIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9fX2Vycm5vX2xvY2F0aW9uPU1vZHVsZVtcIl9fX2Vycm5vX2xvY2F0aW9uXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2Vycm5vX2xvY2F0aW9uPU1vZHVsZVtcIl9fX2Vycm5vX2xvY2F0aW9uXCJdPU1vZHVsZVtcImFzbVwiXVtcIlRcIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9tZW1hbGlnbj1Nb2R1bGVbXCJfbWVtYWxpZ25cIl09ZnVuY3Rpb24oKXtyZXR1cm4oX21lbWFsaWduPU1vZHVsZVtcIl9tZW1hbGlnblwiXT1Nb2R1bGVbXCJhc21cIl1bXCJVXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX3ZpaWppaT1Nb2R1bGVbXCJkeW5DYWxsX3ZpaWppaVwiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX3ZpaWppaT1Nb2R1bGVbXCJkeW5DYWxsX3ZpaWppaVwiXT1Nb2R1bGVbXCJhc21cIl1bXCJWXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2ppamk9TW9kdWxlW1wiZHluQ2FsbF9qaWppXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfamlqaT1Nb2R1bGVbXCJkeW5DYWxsX2ppamlcIl09TW9kdWxlW1wiYXNtXCJdW1wiV1wiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9paWlpaWo9TW9kdWxlW1wiZHluQ2FsbF9paWlpaWpcIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWo9TW9kdWxlW1wiZHluQ2FsbF9paWlpaWpcIl09TW9kdWxlW1wiYXNtXCJdW1wiWFwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9paWlpaWpqPU1vZHVsZVtcImR5bkNhbGxfaWlpaWlqalwiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2lpaWlpamo9TW9kdWxlW1wiZHluQ2FsbF9paWlpaWpqXCJdPU1vZHVsZVtcImFzbVwiXVtcIllcIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlpamo9TW9kdWxlW1wiZHluQ2FsbF9paWlpaWlqalwiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2lpaWlpaWpqPU1vZHVsZVtcImR5bkNhbGxfaWlpaWlpampcIl09TW9kdWxlW1wiYXNtXCJdW1wiWlwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgY2FsbGVkUnVuO2Z1bmN0aW9uIEV4aXRTdGF0dXMoc3RhdHVzKXt0aGlzLm5hbWU9XCJFeGl0U3RhdHVzXCI7dGhpcy5tZXNzYWdlPVwiUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdChcIitzdGF0dXMrXCIpXCI7dGhpcy5zdGF0dXM9c3RhdHVzfWRlcGVuZGVuY2llc0Z1bGZpbGxlZD1mdW5jdGlvbiBydW5DYWxsZXIoKXtpZighY2FsbGVkUnVuKXJ1bigpO2lmKCFjYWxsZWRSdW4pZGVwZW5kZW5jaWVzRnVsZmlsbGVkPXJ1bkNhbGxlcn07ZnVuY3Rpb24gcnVuKGFyZ3Mpe2FyZ3M9YXJnc3x8YXJndW1lbnRzXztpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufXByZVJ1bigpO2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59ZnVuY3Rpb24gZG9SdW4oKXtpZihjYWxsZWRSdW4pcmV0dXJuO2NhbGxlZFJ1bj10cnVlO01vZHVsZVtcImNhbGxlZFJ1blwiXT10cnVlO2lmKEFCT1JUKXJldHVybjtpbml0UnVudGltZSgpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtpZihNb2R1bGVbXCJvblJ1bnRpbWVJbml0aWFsaXplZFwiXSlNb2R1bGVbXCJvblJ1bnRpbWVJbml0aWFsaXplZFwiXSgpO3Bvc3RSdW4oKX1pZihNb2R1bGVbXCJzZXRTdGF0dXNcIl0pe01vZHVsZVtcInNldFN0YXR1c1wiXShcIlJ1bm5pbmcuLi5cIik7c2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtNb2R1bGVbXCJzZXRTdGF0dXNcIl0oXCJcIil9LDEpO2RvUnVuKCl9LDEpfWVsc2V7ZG9SdW4oKX19TW9kdWxlW1wicnVuXCJdPXJ1bjtmdW5jdGlvbiBleGl0KHN0YXR1cyxpbXBsaWNpdCl7RVhJVFNUQVRVUz1zdGF0dXM7aWYoa2VlcFJ1bnRpbWVBbGl2ZSgpKXt9ZWxzZXtleGl0UnVudGltZSgpfXByb2NFeGl0KHN0YXR1cyl9ZnVuY3Rpb24gcHJvY0V4aXQoY29kZSl7RVhJVFNUQVRVUz1jb2RlO2lmKCFrZWVwUnVudGltZUFsaXZlKCkpe2lmKE1vZHVsZVtcIm9uRXhpdFwiXSlNb2R1bGVbXCJvbkV4aXRcIl0oY29kZSk7QUJPUlQ9dHJ1ZX1xdWl0Xyhjb2RlLG5ldyBFeGl0U3RhdHVzKGNvZGUpKX1pZihNb2R1bGVbXCJwcmVJbml0XCJdKXtpZih0eXBlb2YgTW9kdWxlW1wicHJlSW5pdFwiXT09XCJmdW5jdGlvblwiKU1vZHVsZVtcInByZUluaXRcIl09W01vZHVsZVtcInByZUluaXRcIl1dO3doaWxlKE1vZHVsZVtcInByZUluaXRcIl0ubGVuZ3RoPjApe01vZHVsZVtcInByZUluaXRcIl0ucG9wKCkoKX19cnVuKCk7XG5cblxuICByZXR1cm4gTW9kdWxlLnJlYWR5XG59XG4pO1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IE1vZHVsZTsiLCAiaW1wb3J0IHsgaCwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XG5cbmltcG9ydCAqIGFzIGNnIGZyb20gJ2NoZXNzZ3JvdW5keC90eXBlcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICdjaGVzc2dyb3VuZHgvYXBpJztcblxuaW1wb3J0IHsgXyB9IGZyb20gJy4vaTE4bic7XG5pbXBvcnQgeyBjaGFuZ2VCb2FyZENTUywgY2hhbmdlUGllY2VDU1MgfSBmcm9tICcuL2RvY3VtZW50JztcbmltcG9ydCB7IFNldHRpbmdzLCBOdW1iZXJTZXR0aW5ncywgQm9vbGVhblNldHRpbmdzLCBTdHJpbmdTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2xpZGVyLCBjaGVja2JveCwgbm51ZUZpbGUgfSBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IHsgUHlDaGVzc01vZGVsIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEJPQVJEX0ZBTUlMSUVTLCBQSUVDRV9GQU1JTElFUywgVmFyaWFudCwgVkFSSUFOVFMgfSBmcm9tICcuL3ZhcmlhbnRzJztcblxuZXhwb3J0IGludGVyZmFjZSBCb2FyZENvbnRyb2xsZXIge1xuICAgIHJlYWRvbmx5IGNoZXNzZ3JvdW5kOiBBcGk7XG5cbiAgICByZWFkb25seSB2YXJpYW50OiBWYXJpYW50O1xuICAgIHJlYWRvbmx5IG15Y29sb3I6IGNnLkNvbG9yO1xuICAgIHJlYWRvbmx5IG9wcGNvbG9yOiBjZy5Db2xvcjtcbiAgICByZWFkb25seSBoYXNQb2NrZXRzOiBib29sZWFuO1xuXG4gICAgbm90YXRpb246IGNnLk5vdGF0aW9uO1xuICAgIGZ1bGxmZW46IHN0cmluZztcblxuICAgIG1vZGVsPzogUHlDaGVzc01vZGVsO1xuICAgIGF1dG9Qcm9tb3RlPzogYm9vbGVhbjtcbiAgICBhcnJvdz86IGJvb2xlYW47XG4gICAgbXVsdGlwdj86IG51bWJlcjtcbiAgICBldmFsRmlsZT86IHN0cmluZztcbiAgICBibGluZGZvbGQ/OiBib29sZWFuO1xuICAgIG1hdGVyaWFsRGlmZmVyZW5jZT86IGJvb2xlYW47XG4gICAgdXBkYXRlTWF0ZXJpYWw/OiBhbnk7XG4gICAgcHZib3hJbmk/OiBhbnk7XG4gICAgbm51ZUluaT86IGFueTtcbiAgICBjaGFydEZ1bmN0aW9ucz86IGFueVtdO1xuICAgIHZtYXRlcmlhbDA/OiBWTm9kZSB8IEhUTUxFbGVtZW50O1xuICAgIHZtYXRlcmlhbDE/OiBWTm9kZSB8IEhUTUxFbGVtZW50O1xuXG4gICAgZmxpcHBlZCgpOiBib29sZWFuO1xufVxuXG5jbGFzcyBCb2FyZFNldHRpbmdzIHtcbiAgICBjdHJsOiBCb2FyZENvbnRyb2xsZXI7XG4gICAgc2V0dGluZ3M6IHsgWyBrZXk6IHN0cmluZ106IFNldHRpbmdzPG51bWJlciB8IGJvb2xlYW4gfCBzdHJpbmc+IH07XG4gICAgYXNzZXRVUkw6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0ge307XG4gICAgICAgIHRoaXMuc2V0dGluZ3NbXCJhbmltYXRpb25cIl0gPSBuZXcgQW5pbWF0aW9uU2V0dGluZ3ModGhpcyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3NbXCJzaG93RGVzdHNcIl0gPSBuZXcgU2hvd0Rlc3RzU2V0dGluZ3ModGhpcyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3NbXCJhdXRvUHJvbW90ZVwiXSA9IG5ldyBBdXRvUHJvbW90ZVNldHRpbmdzKHRoaXMpO1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wiYXJyb3dcIl0gPSBuZXcgQXJyb3dTZXR0aW5ncyh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tcIm11bHRpcHZcIl0gPSBuZXcgTXVsdGlQVlNldHRpbmdzKHRoaXMpO1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wiYmxpbmRmb2xkXCJdID0gbmV3IEJsaW5kZm9sZFNldHRpbmdzKHRoaXMpO1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wibWF0ZXJpYWxEaWZmZXJlbmNlXCJdID0gbmV3IE1hdGVyaWFsRGlmZmVyZW5jZVNldHRpbmdzKHRoaXMpO1xuICAgIH1cblxuICAgIGdldFNldHRpbmdzKHNldHRpbmdzVHlwZTogc3RyaW5nLCBmYW1pbHk6IHN0cmluZykge1xuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGZhbWlseSArIHNldHRpbmdzVHlwZTtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzW2Z1bGxOYW1lXSkge1xuICAgICAgICAgICAgc3dpdGNoIChzZXR0aW5nc1R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQm9hcmRTdHlsZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzW2Z1bGxOYW1lXSA9IG5ldyBCb2FyZFN0eWxlU2V0dGluZ3ModGhpcywgZmFtaWx5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBpZWNlU3R5bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1tmdWxsTmFtZV0gPSBuZXcgUGllY2VTdHlsZVNldHRpbmdzKHRoaXMsIGZhbWlseSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJab29tXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NbZnVsbE5hbWVdID0gbmV3IFpvb21TZXR0aW5ncyh0aGlzLCBmYW1pbHkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiTm51ZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzW2Z1bGxOYW1lXSA9IG5ldyBObnVlU2V0dGluZ3ModGhpcywgZmFtaWx5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJVbmtub3duIHNldHRpbmdzIHR5cGUgXCIgKyBzZXR0aW5nc1R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3NbZnVsbE5hbWVdO1xuICAgIH1cblxuICAgIHVwZGF0ZUJvYXJkQW5kUGllY2VTdHlsZXMoKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKEJPQVJEX0ZBTUlMSUVTKS5mb3JFYWNoKGZhbWlseSA9PiB0aGlzLnVwZGF0ZUJvYXJkU3R5bGUoZmFtaWx5KSk7XG4gICAgICAgIE9iamVjdC5rZXlzKFBJRUNFX0ZBTUlMSUVTKS5mb3JFYWNoKGZhbWlseSA9PiB0aGlzLnVwZGF0ZVBpZWNlU3R5bGUoZmFtaWx5KSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQm9hcmRTdHlsZShmYW1pbHk6IGtleW9mIHR5cGVvZiBCT0FSRF9GQU1JTElFUykge1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmdldFNldHRpbmdzKFwiQm9hcmRTdHlsZVwiLCBmYW1pbHkgYXMgc3RyaW5nKS52YWx1ZSBhcyBudW1iZXI7XG4gICAgICAgIGNvbnN0IGJvYXJkID0gQk9BUkRfRkFNSUxJRVNbZmFtaWx5XS5ib2FyZENTU1tpZHhdO1xuICAgICAgICBjaGFuZ2VCb2FyZENTUyh0aGlzLmFzc2V0VVJMICwgZmFtaWx5IGFzIHN0cmluZywgYm9hcmQpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBpZWNlU3R5bGUoZmFtaWx5OiBrZXlvZiB0eXBlb2YgUElFQ0VfRkFNSUxJRVMpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5nZXRTZXR0aW5ncyhcIlBpZWNlU3R5bGVcIiwgZmFtaWx5IGFzIHN0cmluZykudmFsdWUgYXMgbnVtYmVyO1xuICAgICAgICBsZXQgY3NzID0gUElFQ0VfRkFNSUxJRVNbZmFtaWx5XS5waWVjZUNTU1tpZHhdO1xuICAgICAgICBjaGFuZ2VQaWVjZUNTUyh0aGlzLmFzc2V0VVJMLCBmYW1pbHkgYXMgc3RyaW5nLCBjc3MpO1xuICAgICAgICB0aGlzLnVwZGF0ZURyb3BTdWdnZXN0aW9uKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRHJvcFN1Z2dlc3Rpb24oKSB7XG4gICAgICAgIC8vIFJlZHJhdyB0aGUgcGllY2UgYmVpbmcgc3VnZ2VzdGVkIGZvciBkcm9wcGluZyBpbiB0aGUgbmV3IHBpZWNlIHN0eWxlXG4gICAgICAgIGlmICh0aGlzLmN0cmwgJiYgdGhpcy5jdHJsLmhhc1BvY2tldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZXNzZ3JvdW5kID0gdGhpcy5jdHJsLmNoZXNzZ3JvdW5kO1xuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdmcgaW1hZ2UnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueVxuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgY2hlc3Nncm91bmQucmVkcmF3QWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVab29tKGZhbWlseToga2V5b2YgdHlwZW9mIEJPQVJEX0ZBTUlMSUVTKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSB0aGlzLmN0cmw/LnZhcmlhbnQ7XG4gICAgICAgIGlmICh2YXJpYW50ICYmIHZhcmlhbnQuYm9hcmRGYW1pbHkgPT09IGZhbWlseSkge1xuICAgICAgICAgICAgY29uc3Qgem9vbVNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncyhcIlpvb21cIiwgZmFtaWx5IGFzIHN0cmluZykgYXMgWm9vbVNldHRpbmdzO1xuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHpvb21TZXR0aW5ncy52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNnLXdyYXA6bm90KC5wb2NrZXQpJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnLS16b29tOicgKyB6b29tKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGVzc2dyb3VuZC5yZXNpemUnKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbmFseXNpcyBuZWVkcyB0byB6b29tIGFuYWx5c2lzQ2hhcnQgYW5kIG1vdmV0aW1lQ2hhcnQgYXMgd2VsbFxuICAgICAgICAgICAgICAgIGlmICgnY2hhcnRGdW5jdGlvbnMnIGluIHRoaXMuY3RybCAmJiB0aGlzLmN0cmwuY2hhcnRGdW5jdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHJsLmNoYXJ0RnVuY3Rpb25zLmZvckVhY2goKGZ1bmM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyh0aGlzLmN0cmwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVCbGluZGZvbGQgKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wiYmxpbmRmb2xkXCJdLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHZpZXcodmFyaWFudE5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoIXZhcmlhbnROYW1lKSByZXR1cm4gaChcImRpdiNib2FyZC1zZXR0aW5nc1wiKTtcbiAgICAgICAgY29uc3QgdmFyaWFudCA9IFZBUklBTlRTW3ZhcmlhbnROYW1lXTtcblxuICAgICAgICBjb25zdCBzZXR0aW5nc0xpc3QgOiBWTm9kZVtdID0gW107XG5cbiAgICAgICAgY29uc3QgYm9hcmRGYW1pbHkgPSBWQVJJQU5UU1t2YXJpYW50TmFtZV0uYm9hcmRGYW1pbHk7XG4gICAgICAgIGNvbnN0IHBpZWNlRmFtaWx5ID0gVkFSSUFOVFNbdmFyaWFudE5hbWVdLnBpZWNlRmFtaWx5O1xuXG4gICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKHRoaXMuc2V0dGluZ3NbXCJhbmltYXRpb25cIl0udmlldygpKTtcblxuICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLnNldHRpbmdzW1wic2hvd0Rlc3RzXCJdLnZpZXcoKSk7XG5cbiAgICAgICAgaWYgKHZhcmlhbnQucHJvbW90aW9uLmF1dG9Qcm9tb3RlYWJsZSlcbiAgICAgICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKHRoaXMuc2V0dGluZ3NbXCJhdXRvUHJvbW90ZVwiXS52aWV3KCkpO1xuXG4gICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKHRoaXMuc2V0dGluZ3NbXCJhcnJvd1wiXS52aWV3KCkpO1xuXG4gICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKHRoaXMuc2V0dGluZ3NbXCJtdWx0aXB2XCJdLnZpZXcoKSk7XG5cbiAgICAgICAgaWYgKHZhcmlhbnROYW1lID09PSB0aGlzLmN0cmw/LnZhcmlhbnQubmFtZSlcbiAgICAgICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKHRoaXMuZ2V0U2V0dGluZ3MoXCJObnVlXCIsIHZhcmlhbnROYW1lIGFzIHN0cmluZykudmlldygpKTtcblxuICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLnNldHRpbmdzW1wiYmxpbmRmb2xkXCJdLnZpZXcoKSk7XG5cbiAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2godGhpcy5zZXR0aW5nc1tcIm1hdGVyaWFsRGlmZmVyZW5jZVwiXS52aWV3KCkpO1xuXG4gICAgICAgIGlmICh2YXJpYW50TmFtZSA9PT0gdGhpcy5jdHJsPy52YXJpYW50Lm5hbWUpXG4gICAgICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLmdldFNldHRpbmdzKFwiWm9vbVwiLCBib2FyZEZhbWlseSBhcyBzdHJpbmcpLnZpZXcoKSk7XG5cbiAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2goaCgnZGl2I3N0eWxlLXNldHRpbmdzJywgW1xuICAgICAgICAgICAgdGhpcy5nZXRTZXR0aW5ncyhcIkJvYXJkU3R5bGVcIiwgYm9hcmRGYW1pbHkgYXMgc3RyaW5nKS52aWV3KCksXG4gICAgICAgICAgICB0aGlzLmdldFNldHRpbmdzKFwiUGllY2VTdHlsZVwiLCBwaWVjZUZhbWlseSBhcyBzdHJpbmcpLnZpZXcoKSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCgpO1xuXG4gICAgICAgIHJldHVybiBoKCdkaXYjYm9hcmQtc2V0dGluZ3MnLCBzZXR0aW5nc0xpc3QpO1xuICAgIH1cbn1cblxuY2xhc3MgQW5pbWF0aW9uU2V0dGluZ3MgZXh0ZW5kcyBCb29sZWFuU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKCdhbmltYXRpb24nLCB0cnVlKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncy5jdHJsPy5jaGVzc2dyb3VuZC5zZXQoeyBhbmltYXRpb246IHsgZW5hYmxlZDogdGhpcy52YWx1ZSB9IH0pO1xuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2JywgY2hlY2tib3godGhpcywgJ2FuaW1hdGlvbicsIF8oXCJQaWVjZSBhbmltYXRpb25cIikpKTtcbiAgICB9XG59XG5cbmNsYXNzIEJvYXJkU3R5bGVTZXR0aW5ncyBleHRlbmRzIE51bWJlclNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuICAgIHJlYWRvbmx5IGJvYXJkRmFtaWx5OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzLCBib2FyZEZhbWlseTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKGJvYXJkRmFtaWx5ICsgJy1ib2FyZCcsIDApO1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MgPSBib2FyZFNldHRpbmdzO1xuICAgICAgICB0aGlzLmJvYXJkRmFtaWx5ID0gYm9hcmRGYW1pbHk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MudXBkYXRlQm9hcmRTdHlsZSh0aGlzLmJvYXJkRmFtaWx5KTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgY29uc3QgdmJvYXJkID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgYm9hcmRzIDogVk5vZGVbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGJvYXJkQ1NTID0gQk9BUkRfRkFNSUxJRVNbdGhpcy5ib2FyZEZhbWlseV0uYm9hcmRDU1M7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9hcmRDU1MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvYXJkcy5wdXNoKGgoJ2lucHV0I2JvYXJkJyArIGksIHtcbiAgICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IGV2dCA9PiB0aGlzLnZhbHVlID0gTnVtYmVyKChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSB9LFxuICAgICAgICAgICAgICAgIHByb3BzOiB7IHR5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJib2FyZFwiLCB2YWx1ZTogaSB9LFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IGNoZWNrZWQ6IHZib2FyZCA9PT0gaSB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgYm9hcmRzLnB1c2goaCgnbGFiZWwuYm9hcmQuYm9hcmQnICsgaSArICcuJyArIHRoaXMuYm9hcmRGYW1pbHksIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyBmb3I6IFwiYm9hcmRcIiArIGkgfSxcbiAgICAgICAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJy9zdGF0aWMvaW1hZ2VzL2JvYXJkLyR7Ym9hcmRDU1NbaV19JylgIH0sXG4gICAgICAgICAgICB9LCBcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGgoJ3NldHRpbmdzLWJvYXJkJywgYm9hcmRzKTtcbiAgICB9XG59XG5cbmNsYXNzIFBpZWNlU3R5bGVTZXR0aW5ncyBleHRlbmRzIE51bWJlclNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuICAgIHJlYWRvbmx5IHBpZWNlRmFtaWx5OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzLCBwaWVjZUZhbWlseTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHBpZWNlRmFtaWx5ICsgJy1waWVjZScsIDApO1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MgPSBib2FyZFNldHRpbmdzO1xuICAgICAgICB0aGlzLnBpZWNlRmFtaWx5ID0gcGllY2VGYW1pbHk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MudXBkYXRlUGllY2VTdHlsZSh0aGlzLnBpZWNlRmFtaWx5KTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgY29uc3QgdnBpZWNlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgcGllY2VzIDogVk5vZGVbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHBpZWNlQ1NTID0gUElFQ0VfRkFNSUxJRVNbdGhpcy5waWVjZUZhbWlseV0ucGllY2VDU1M7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGllY2VDU1MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBpZWNlcy5wdXNoKGgoJ2lucHV0I3BpZWNlJyArIGksIHtcbiAgICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IGUgPT4gdGhpcy52YWx1ZSA9IE51bWJlcigoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpIH0sXG4gICAgICAgICAgICAgICAgcHJvcHM6IHsgdHlwZTogXCJyYWRpb1wiLCBuYW1lOiBcInBpZWNlXCIsIHZhbHVlOiBpIH0sXG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgY2hlY2tlZDogdnBpZWNlID09PSBpIH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBwaWVjZXMucHVzaChoKCdsYWJlbC5waWVjZS5waWVjZScgKyBpICsgJy4nICsgdGhpcy5waWVjZUZhbWlseSwgeyBhdHRyczogeyBmb3I6IFwicGllY2VcIiArIGkgfSB9LCBcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGgoJ3NldHRpbmdzLXBpZWNlcycsIHBpZWNlcyk7XG4gICAgfVxufVxuXG5jbGFzcyBab29tU2V0dGluZ3MgZXh0ZW5kcyBOdW1iZXJTZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcbiAgICByZWFkb25seSBib2FyZEZhbWlseTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncywgYm9hcmRGYW1pbHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcihib2FyZEZhbWlseSArICctem9vbScsIDgwKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICAgICAgdGhpcy5ib2FyZEZhbWlseSA9IGJvYXJkRmFtaWx5O1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzLnVwZGF0ZVpvb20odGhpcy5ib2FyZEZhbWlseSk7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBzbGlkZXIodGhpcywgJ3pvb20nLCAwLCAxMDAsIHRoaXMuYm9hcmRGYW1pbHkuaW5jbHVkZXMoXCJzaG9naVwiKSA/IDEgOiAxLjE1NjI1LCBfKCdab29tJykpKTtcbiAgICB9XG59XG5cbmNsYXNzIFNob3dEZXN0c1NldHRpbmdzIGV4dGVuZHMgQm9vbGVhblNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncykge1xuICAgICAgICBzdXBlcignc2hvd0Rlc3RzJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MuY3RybD8uY2hlc3Nncm91bmQuc2V0KHtcbiAgICAgICAgICAgIG1vdmFibGU6IHtcbiAgICAgICAgICAgICAgICBzaG93RGVzdHM6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGNoZWNrYm94KHRoaXMsICdzaG93RGVzdHMnLCBfKFwiU2hvdyBwaWVjZSBkZXN0aW5hdGlvbnNcIikpKTtcbiAgICB9XG59XG5cbmNsYXNzIEF1dG9Qcm9tb3RlU2V0dGluZ3MgZXh0ZW5kcyBCb29sZWFuU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKCdhdXRvUHJvbW90ZScsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN0cmwgPSB0aGlzLmJvYXJkU2V0dGluZ3MuY3RybDtcbiAgICAgICAgaWYgKCdhdXRvUHJvbW90ZScgaW4gY3RybClcbiAgICAgICAgICAgIGN0cmwuYXV0b1Byb21vdGUgPSB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2JywgY2hlY2tib3godGhpcywgJ2F1dG9Qcm9tb3RlJywgXyhcIlByb21vdGUgdG8gdGhlIHRvcCBjaG9pY2UgYXV0b21hdGljYWxseVwiKSkpO1xuICAgIH1cbn1cblxuY2xhc3MgQXJyb3dTZXR0aW5ncyBleHRlbmRzIEJvb2xlYW5TZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcblxuICAgIGNvbnN0cnVjdG9yKGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgc3VwZXIoJ2Fycm93JywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjdHJsID0gdGhpcy5ib2FyZFNldHRpbmdzLmN0cmw7XG4gICAgICAgIGlmICgnYXJyb3cnIGluIGN0cmwpXG4gICAgICAgICAgICBjdHJsLmFycm93ID0gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGNoZWNrYm94KHRoaXMsICdhcnJvdycsIF8oXCJCZXN0IG1vdmUgYXJyb3cgaW4gYW5hbHlzaXMgYm9hcmRcIikpKTtcbiAgICB9XG59XG5cbmNsYXNzIE11bHRpUFZTZXR0aW5ncyBleHRlbmRzIE51bWJlclNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncykge1xuICAgICAgICBzdXBlcignbXVsdGlwdicsIDEpO1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MgPSBib2FyZFNldHRpbmdzO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY3RybCA9IHRoaXMuYm9hcmRTZXR0aW5ncy5jdHJsO1xuICAgICAgICBpZiAoJ211bHRpcHYnIGluIGN0cmwpXG4gICAgICAgICAgICBjdHJsLm11bHRpcHYgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgY3RybC5wdmJveEluaSgpO1xuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2Jywgc2xpZGVyKHRoaXMsICdtdWx0aXB2JywgMSwgNSwgMSwgXygnTXVsdGlQVicpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBObnVlU2V0dGluZ3MgZXh0ZW5kcyBTdHJpbmdTZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcbiAgICByZWFkb25seSB2YXJpYW50OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzLCB2YXJpYW50OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIodmFyaWFudCArICctbm51ZScsICcnKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICAgICAgdGhpcy52YXJpYW50ID0gdmFyaWFudDtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN0cmwgPSB0aGlzLmJvYXJkU2V0dGluZ3MuY3RybDtcbiAgICAgICAgaWYgKCdldmFsRmlsZScgaW4gY3RybClcbiAgICAgICAgICAgIGN0cmwuZXZhbEZpbGUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgY3RybC5ubnVlSW5pKCk7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBubnVlRmlsZSh0aGlzLCAnZXZhbEZpbGUnLCAnTk5VRScsIHRoaXMudmFyaWFudCkpO1xuICAgIH1cbn1cblxuY2xhc3MgQmxpbmRmb2xkU2V0dGluZ3MgZXh0ZW5kcyBCb29sZWFuU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKCdibGluZGZvbGQnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjdHJsID0gdGhpcy5ib2FyZFNldHRpbmdzLmN0cmw7XG4gICAgICAgIGlmICgnYmxpbmRmb2xkJyBpbiBjdHJsKVxuICAgICAgICAgICAgY3RybC5ibGluZGZvbGQgPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5ib2FyZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdibGluZGZvbGQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYmxpbmRmb2xkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2JywgY2hlY2tib3godGhpcywgJ2JsaW5kZm9sZCcsIF8oXCJJbnZpc2libGUgcGllY2VzXCIpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBNYXRlcmlhbERpZmZlcmVuY2VTZXR0aW5ncyBleHRlbmRzIEJvb2xlYW5TZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcblxuICAgIGNvbnN0cnVjdG9yKGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgc3VwZXIoJ21hdGVyaWFsRGlmZmVyZW5jZScsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN0cmwgPSB0aGlzLmJvYXJkU2V0dGluZ3MuY3RybDtcbiAgICAgICAgaWYgKCdtYXRlcmlhbERpZmZlcmVuY2UnIGluIGN0cmwpIHtcbiAgICAgICAgICAgIGN0cmwubWF0ZXJpYWxEaWZmZXJlbmNlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIGlmICgndXBkYXRlTWF0ZXJpYWwnIGluIGN0cmwpIHtcbiAgICAgICAgICAgICAgICBjdHJsLnVwZGF0ZU1hdGVyaWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGNoZWNrYm94KHRoaXMsICdjYXB0dXJlZCcsIF8oXCJTaG93IG1hdGVyaWFsIGRpZmZlcmVuY2VcIikpKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgYm9hcmRTZXR0aW5ncyA9IG5ldyBCb2FyZFNldHRpbmdzKCk7XG4iLCAiZXhwb3J0IGNvbnN0IHZhcmlhbnRzSW5pID0gYFxuIyBIeWJyaWQgdmFyaWFudCBvZiBHcmFuZC1jaGVzcyBhbmQgY3Jhenlob3VzZSwgdXNpbmcgR3JhbmQtY2hlc3MgYXMgYSB0ZW1wbGF0ZVxuW2dyYW5kaG91c2U6Z3JhbmRdXG5zdGFydEZlbiA9IHI4ci8xbmJxa2NhYm4xL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC8xTkJRS0NBQk4xL1I4UltdIHcgLSAtIDAgMVxucGllY2VEcm9wcyA9IHRydWVcbmNhcHR1cmVzVG9IYW5kID0gdHJ1ZVxuXG4jIEh5YnJpZCB2YXJpYW50IG9mIEdvdGhpYy1jaGVzcyBhbmQgY3Jhenlob3VzZSwgdXNpbmcgQ2FwYWJsYW5jYSBhcyBhIHRlbXBsYXRlXG5bZ290aGhvdXNlOmNhcGFibGFuY2FdXG5zdGFydEZlbiA9IHJuYnFja2FibnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQlFDS0FCTlJbXSB3IEtRa3EgLSAwIDFcbnBpZWNlRHJvcHMgPSB0cnVlXG5jYXB0dXJlc1RvSGFuZCA9IHRydWVcblxuIyBIeWJyaWQgdmFyaWFudCBvZiBFbWJhc3N5IGNoZXNzIGFuZCBjcmF6eWhvdXNlLCB1c2luZyBFbWJhc3N5IGFzIGEgdGVtcGxhdGVcbltlbWJhc3N5aG91c2U6ZW1iYXNzeV1cbnN0YXJ0RmVuID0gcm5icWtjYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CUUtDQUJOUltdIHcgS1FrcSAtIDAgMVxucGllY2VEcm9wcyA9IHRydWVcbmNhcHR1cmVzVG9IYW5kID0gdHJ1ZVxuXG5bZ29yb2dvcm9wbHVzOmdvcm9nb3JvXVxuc3RhcnRGZW4gPSBzZ2tncy81LzFwcHAxLzFQUFAxLzUvU0dLR1NbTE5sbl0gdyAwIDFcbmxhbmNlID0gbFxuc2hvZ2lLbmlnaHQgPSBuXG5wcm9tb3RlZFBpZWNlVHlwZSA9IGw6ZyBuOmdcblxuW3Nob2d1bjpjcmF6eWhvdXNlXVxuc3RhcnRGZW4gPSBybmIrZmtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkIrRktCTlJbXSB3IEtRa3EgLSAwIDFcbmNvbW1vbmVyID0gY1xuY2VudGF1ciA9IGdcbmFyY2hiaXNob3AgPSBhXG5jaGFuY2VsbG9yID0gbVxuZmVycyA9IGZcbnByb21vdGlvblJhbmsgPSA2XG5wcm9tb3Rpb25MaW1pdCA9IGc6MSBhOjEgbToxIHE6MVxucHJvbW90aW9uUGllY2VUeXBlcyA9IC1cbnByb21vdGVkUGllY2VUeXBlID0gcDpjIG46ZyBiOmEgcjptIGY6cVxubWFuZGF0b3J5UGF3blByb21vdGlvbiA9IGZhbHNlXG5maXJzdFJhbmtQYXduRHJvcHMgPSB0cnVlXG5wcm9tb3Rpb25ab25lUGF3bkRyb3BzID0gdHJ1ZVxud2hpdGVEcm9wUmVnaW9uID0gKjEgKjIgKjMgKjQgKjVcbmJsYWNrRHJvcFJlZ2lvbiA9ICo0ICo1ICo2ICo3ICo4XG5pbW1vYmlsaXR5SWxsZWdhbCA9IHRydWVcblxuW29yZGE6Y2hlc3NdXG5jZW50YXVyID0gaFxua25pYmlzID0gYVxua25pcm9vID0gbFxuc2lsdmVyID0geVxucHJvbW90aW9uUGllY2VUeXBlcyA9IHFoXG5zdGFydEZlbiA9IGxoYXlrYWhsLzgvcHBwcHBwcHAvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUSAtIDAgMVxuZmxhZ1BpZWNlID0ga1xud2hpdGVGbGFnID0gKjhcbmJsYWNrRmxhZyA9ICoxXG5cbltzeW5vY2hlc3M6cG9ja2V0a25pZ2h0XVxuamFuZ2dpQ2Fubm9uID0gY1xuc29sZGllciA9IHNcbmhvcnNlID0gaFxuZmVyc0FsZmlsID0gZVxuY29tbW9uZXIgPSBhXG5zdGFydEZlbiA9IHJuZWFrZW5yLzgvMWM0YzEvMXNzMnNzMS84LzgvUFBQUFBQUFAvUk5CUUtCTlJbc3NdIHcgS1EgLSAwIDFcbnN0YWxlbWF0ZVZhbHVlID0gbG9zc1xucGVycGV0dWFsQ2hlY2tJbGxlZ2FsID0gdHJ1ZVxuZmx5aW5nR2VuZXJhbCA9IHRydWVcbmJsYWNrRHJvcFJlZ2lvbiA9ICo1XG5mbGFnUGllY2UgPSBrXG53aGl0ZUZsYWcgPSAqOFxuYmxhY2tGbGFnID0gKjFcblxuW3NoaW5vYmk6Y3Jhenlob3VzZV1cbmNvbW1vbmVyID0gY1xuYmVycyA9IGRcbmFyY2hiaXNob3AgPSBqXG5mZXJzID0gbVxuc2hvZ2lLbmlnaHQgPSBoXG5sYW5jZSA9IGxcbnByb21vdGlvblJhbmsgPSA3XG5wcm9tb3Rpb25QaWVjZVR5cGVzID0gLVxucHJvbW90ZWRQaWVjZVR5cGUgPSBwOmMgbTpiIGg6biBsOnJcbm1hbmRhdG9yeVBpZWNlUHJvbW90aW9uID0gdHJ1ZVxuc3RhbGVtYXRlVmFsdWUgPSBsb3NzXG5uRm9sZFJ1bGUgPSA0XG5wZXJwZXR1YWxDaGVja0lsbGVnYWwgPSB0cnVlXG5zdGFydEZlbiA9IHJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvTEgxQ0sxSExbTEhNTURKXSB3IGtxIC0gMCAxXG5jYXB0dXJlc1RvSGFuZCA9IGZhbHNlXG53aGl0ZURyb3BSZWdpb24gPSAqMSAqMiAqMyAqNFxuaW1tb2JpbGl0eUlsbGVnYWwgPSB0cnVlXG5mbGFnUGllY2UgPSBrXG53aGl0ZUZsYWcgPSAqOFxuYmxhY2tGbGFnID0gKjFcblxuW29yZGFtaXJyb3I6Y2hlc3NdXG5jZW50YXVyID0gaFxua25pYmlzID0gYVxua25pcm9vID0gbFxuY3VzdG9tUGllY2UxID0gZjptUWNOXG5wcm9tb3Rpb25QaWVjZVR5cGVzID0gbGhhZlxuc3RhcnRGZW4gPSBsaGFma2FobC84L3BwcHBwcHBwLzgvOC9QUFBQUFBQUC84L0xIQUZLQUhMIHcgLSAtIDAgMVxuZmxhZ1BpZWNlID0ga1xud2hpdGVGbGFnID0gKjhcbmJsYWNrRmxhZyA9ICoxXG5cbltlbXBpcmU6Y2hlc3NdXG5jdXN0b21QaWVjZTEgPSBlOm1RY05cbmN1c3RvbVBpZWNlMiA9IGM6bVFjQlxuY3VzdG9tUGllY2UzID0gdDptUWNSXG5jdXN0b21QaWVjZTQgPSBkOm1RY0tcbnNvbGRpZXIgPSBzXG5wcm9tb3Rpb25QaWVjZVR5cGVzID0gcVxuc3RhcnRGZW4gPSBybmJxa2Juci9wcHBwcHBwcC84LzgvOC9QUFBTU1BQUC84L1RFQ0RLQ0VUIHcga3EgLSAwIDFcbnN0YWxlbWF0ZVZhbHVlID0gbG9zc1xubkZvbGRWYWx1ZSA9IGxvc3NcbmZsYWdQaWVjZSA9IGtcbndoaXRlRmxhZyA9ICo4XG5ibGFja0ZsYWcgPSAqMVxuZmx5aW5nR2VuZXJhbCA9IHRydWVcblxuW2NoYWtdXG5tYXhSYW5rID0gOVxubWF4RmlsZSA9IDlcbnJvb2sgPSByXG5rbmlnaHQgPSB2XG5jZW50YXVyID0galxuaW1tb2JpbGUgPSBvXG5jdXN0b21QaWVjZTEgPSBzOkZ2V1xuY3VzdG9tUGllY2UyID0gcTpwUVxuY3VzdG9tUGllY2UzID0gZDptUTJjUTJcbmN1c3RvbVBpZWNlNCA9IHA6ZnNtV2ZjZUZcbmN1c3RvbVBpZWNlNSA9IGs6V0ZcbmN1c3RvbVBpZWNlNiA9IHc6RnZXXG5zdGFydEZlbiA9IHJ2c3FranN2ci80bzQvcDFwMXAxcDFwLzkvOS85L1AxUDFQMVAxUC80TzQvUlZTSktRU1ZSIHcgLSAtIDAgMVxubW9iaWxpdHlSZWdpb25XaGl0ZUN1c3RvbVBpZWNlNiA9ICo1ICo2ICo3ICo4ICo5XG5tb2JpbGl0eVJlZ2lvbldoaXRlQ3VzdG9tUGllY2UzID0gKjUgKjYgKjcgKjggKjlcbm1vYmlsaXR5UmVnaW9uQmxhY2tDdXN0b21QaWVjZTYgPSAqMSAqMiAqMyAqNCAqNVxubW9iaWxpdHlSZWdpb25CbGFja0N1c3RvbVBpZWNlMyA9ICoxICoyICozICo0ICo1XG5wcm9tb3Rpb25SYW5rID0gNVxucHJvbW90aW9uUGllY2VUeXBlcyA9IC1cbm1hbmRhdG9yeVBpZWNlUHJvbW90aW9uID0gdHJ1ZVxucHJvbW90ZWRQaWVjZVR5cGUgPSBwOncgazpkXG5leHRpbmN0aW9uVmFsdWUgPSBsb3NzXG5leHRpbmN0aW9uUGllY2VUeXBlcyA9IGtkXG5leHRpbmN0aW9uUHNldWRvUm95YWwgPSB0cnVlXG5mbGFnUGllY2UgPSBkXG53aGl0ZUZsYWcgPSBlOFxuYmxhY2tGbGFnID0gZTJcbm5Nb3ZlUnVsZSA9IDUwXG5uRm9sZFJ1bGUgPSAzXG5uRm9sZFZhbHVlID0gZHJhd1xuc3RhbGVtYXRlVmFsdWUgPSBsb3NzXG5cbltjaGVubmlzXVxubWF4UmFuayA9IDdcbm1heEZpbGUgPSA3XG5tb2JpbGl0eVJlZ2lvbldoaXRlS2luZyA9IGIxIGMxIGQxIGUxIGYxIGIyIGMyIGQyIGUyIGYyIGIzIGMzIGQzIGUzIGYzIGI0IGM0IGQ0IGU0IGY0XG5tb2JpbGl0eVJlZ2lvbkJsYWNrS2luZyA9IGI0IGM0IGQ0IGU0IGY0IGI1IGM1IGQ1IGU1IGY1IGI2IGM2IGQ2IGU2IGY2IGI3IGM3IGQ3IGU3IGY3XG5jdXN0b21QaWVjZTEgPSBwOmZtV2ZjZUZcbmNhbm5vbiA9IGNcbmNvbW1vbmVyID0gbVxuZmVycyA9IGZcbnNvbGRpZXIgPSBzXG5raW5nID0ga1xuYmlzaG9wID0gYlxua25pZ2h0ID0gblxucm9vayA9IHJcbnByb21vdGlvblBpZWNlVHlwZXMgPSAtXG5wcm9tb3RlZFBpZWNlVHlwZSA9IHA6ciBmOmMgczpiIG06blxucHJvbW90aW9uUmFuayA9IDFcbnN0YXJ0RmVuID0gMWZrbTMvMXAxczMvNy83LzcvM1MxUDEvM01LRjFbXSB3IC0gMCAxXG5waWVjZURyb3BzID0gdHJ1ZVxuY2FwdHVyZXNUb0hhbmQgPSB0cnVlXG5waWVjZURlbW90aW9uID0gdHJ1ZVxubWFuZGF0b3J5UGllY2VQcm9tb3Rpb24gPSB0cnVlXG5kcm9wUHJvbW90ZWQgPSB0cnVlXG5jYXN0bGluZyA9IGZhbHNlXG5zdGFsZW1hdGVWYWx1ZSA9IGxvc3NgXG4iLCAiaW1wb3J0ICogYXMgY2cgZnJvbSAnY2hlc3Nncm91bmR4L3R5cGVzJztcbmltcG9ydCB7IENoZXNzZ3JvdW5kIH0gZnJvbSAnY2hlc3Nncm91bmR4JztcbmltcG9ydCB7IEFwaSB9IGZyb20gJ2NoZXNzZ3JvdW5keC9hcGknO1xuXG5pbXBvcnQgZmZpc2hNb2R1bGUsIHsgRmFpcnlTdG9ja2Zpc2gsIEJvYXJkLCBOb3RhdGlvbiB9IGZyb20gJ2ZmaXNoLWVzNic7XG5cbmltcG9ydCB7IGJvYXJkU2V0dGluZ3MsIEJvYXJkQ29udHJvbGxlciB9IGZyb20gJ0AvYm9hcmRTZXR0aW5ncyc7XG5pbXBvcnQgeyBDR01vdmUsIHVjaTJjZyB9IGZyb20gJ0AvY2hlc3MnO1xuaW1wb3J0IHsgUHlDaGVzc01vZGVsIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBWYXJpYW50LCBWQVJJQU5UUywgbm90YXRpb24sIG1vZGRlZFZhcmlhbnQgfSBmcm9tICdAL3ZhcmlhbnRzJztcbmltcG9ydCB7IHZhcmlhbnRzSW5pIH0gZnJvbSAnQC92YXJpYW50c0luaSc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDaGVzc2dyb3VuZENvbnRyb2xsZXIgaW1wbGVtZW50cyBCb2FyZENvbnRyb2xsZXIge1xuICAgIHJlYWRvbmx5IGhvbWU6IHN0cmluZztcblxuICAgIGNoZXNzZ3JvdW5kOiBBcGk7XG4gICAgZmZpc2g6IEZhaXJ5U3RvY2tmaXNoO1xuICAgIGZmaXNoQm9hcmQ6IEJvYXJkO1xuICAgIG5vdGF0aW9uQXNPYmplY3Q6IE5vdGF0aW9uO1xuXG4gICAgcmVhZG9ubHkgdmFyaWFudCA6IFZhcmlhbnQ7XG4gICAgcmVhZG9ubHkgY2hlc3M5NjAgOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGhhc1BvY2tldHM6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgYW5vbjogYm9vbGVhbjtcbiAgICBteWNvbG9yOiBjZy5Db2xvcjtcbiAgICBvcHBjb2xvcjogY2cuQ29sb3I7XG5cbiAgICBmdWxsZmVuOiBzdHJpbmc7XG4gICAgbm90YXRpb246IGNnLk5vdGF0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBtb2RlbDogUHlDaGVzc01vZGVsKSB7XG4gICAgICAgIHRoaXMuaG9tZSA9IG1vZGVsLmhvbWU7XG5cbiAgICAgICAgdGhpcy52YXJpYW50ID0gVkFSSUFOVFNbbW9kZWwudmFyaWFudF07XG4gICAgICAgIHRoaXMuY2hlc3M5NjAgPSBtb2RlbC5jaGVzczk2MCA9PT0gJ1RydWUnO1xuICAgICAgICB0aGlzLmhhc1BvY2tldHMgPSAhIXRoaXMudmFyaWFudC5wb2NrZXQ7XG4gICAgICAgIHRoaXMuYW5vbiA9IG1vZGVsLmFub24gPT09ICdUcnVlJztcbiAgICAgICAgdGhpcy5teWNvbG9yID0gJ3doaXRlJztcbiAgICAgICAgdGhpcy5vcHBjb2xvciA9ICdibGFjayc7XG4gICAgICAgIHRoaXMuZnVsbGZlbiA9IG1vZGVsLmZlbiBhcyBzdHJpbmc7XG4gICAgICAgIHRoaXMubm90YXRpb24gPSBub3RhdGlvbih0aGlzLnZhcmlhbnQpO1xuXG4gICAgICAgIGNvbnN0IHBvY2tldDAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9ja2V0MCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBwb2NrZXQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvY2tldDEnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuZnVsbGZlbi5zcGxpdChcIiBcIik7XG4gICAgICAgIGNvbnN0IGZlbl9wbGFjZW1lbnQ6IGNnLkZFTiA9IHBhcnRzWzBdO1xuXG4gICAgICAgIHRoaXMuY2hlc3Nncm91bmQgPSBDaGVzc2dyb3VuZChlbCwge1xuICAgICAgICAgICAgZmVuOiBmZW5fcGxhY2VtZW50IGFzIGNnLkZFTixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHRoaXMudmFyaWFudC5ib2FyZC5kaW1lbnNpb25zLFxuICAgICAgICAgICAgbm90YXRpb246IHRoaXMubm90YXRpb24sXG4gICAgICAgICAgICBhZGREaW1lbnNpb25zQ3NzVmFyc1RvOiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAga2luZ1JvbGVzOiB0aGlzLnZhcmlhbnQua2luZ1JvbGVzLFxuICAgICAgICAgICAgcG9ja2V0Um9sZXM6IHRoaXMudmFyaWFudC5wb2NrZXQ/LnJvbGVzLFxuICAgICAgICB9LCBwb2NrZXQwLCBwb2NrZXQxKTtcblxuICAgICAgICBib2FyZFNldHRpbmdzLmN0cmwgPSB0aGlzO1xuICAgICAgICBib2FyZFNldHRpbmdzLmFzc2V0VVJMID0gbW9kZWwuYXNzZXRVUkw7XG4gICAgICAgIGNvbnN0IGJvYXJkRmFtaWx5ID0gdGhpcy52YXJpYW50LmJvYXJkRmFtaWx5O1xuICAgICAgICBjb25zdCBwaWVjZUZhbWlseSA9IHRoaXMudmFyaWFudC5waWVjZUZhbWlseTtcbiAgICAgICAgYm9hcmRTZXR0aW5ncy51cGRhdGVCb2FyZFN0eWxlKGJvYXJkRmFtaWx5KTtcbiAgICAgICAgYm9hcmRTZXR0aW5ncy51cGRhdGVQaWVjZVN0eWxlKHBpZWNlRmFtaWx5KTtcbiAgICAgICAgYm9hcmRTZXR0aW5ncy51cGRhdGVab29tKGJvYXJkRmFtaWx5KTtcbiAgICAgICAgYm9hcmRTZXR0aW5ncy51cGRhdGVCbGluZGZvbGQoKTtcblxuICAgICAgICBmZmlzaE1vZHVsZSgpLnRoZW4obG9hZGVkTW9kdWxlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmZpc2ggPSBsb2FkZWRNb2R1bGU7XG4gICAgICAgICAgICB0aGlzLmZmaXNoLmxvYWRWYXJpYW50Q29uZmlnKHZhcmlhbnRzSW5pKTtcbiAgICAgICAgICAgIHRoaXMubm90YXRpb25Bc09iamVjdCA9IHRoaXMubm90YXRpb24yZmZpc2hqcyh0aGlzLm5vdGF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZmZpc2hCb2FyZCA9IG5ldyB0aGlzLmZmaXNoLkJvYXJkKFxuICAgICAgICAgICAgICAgIG1vZGRlZFZhcmlhbnQodGhpcy52YXJpYW50Lm5hbWUsIHRoaXMuY2hlc3M5NjAsIHRoaXMuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMsIHBhcnRzWzJdKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGxmZW4sXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVzczk2MCk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4gdGhpcy5mZmlzaEJvYXJkLmRlbGV0ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlT3JpZW50YXRpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hlc3Nncm91bmQudG9nZ2xlT3JpZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBmbGlwcGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ2JsYWNrJztcbiAgICB9XG5cbiAgICBsZWdhbE1vdmVzKCk6IENHTW92ZVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmZpc2hCb2FyZC5sZWdhbE1vdmVzKCkuc3BsaXQoXCIgXCIpLm1hcCh1Y2kyY2cpIGFzIENHTW92ZVtdO1xuICAgIH1cblxuICAgIG5vdGF0aW9uMmZmaXNoanMobjogY2cuTm90YXRpb24pOiBOb3RhdGlvbiB7XG4gICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgICAgY2FzZSBjZy5Ob3RhdGlvbi5BTEdFQlJBSUM6IHJldHVybiB0aGlzLmZmaXNoLk5vdGF0aW9uLlNBTjtcbiAgICAgICAgICAgIGNhc2UgY2cuTm90YXRpb24uU0hPR0lfQVJCTlVNOiByZXR1cm4gdGhpcy5mZmlzaC5Ob3RhdGlvbi5TSE9HSV9IT0RHRVNfTlVNQkVSO1xuICAgICAgICAgICAgY2FzZSBjZy5Ob3RhdGlvbi5KQU5HR0k6IHJldHVybiB0aGlzLmZmaXNoLk5vdGF0aW9uLkpBTkdHSTtcbiAgICAgICAgICAgIGNhc2UgY2cuTm90YXRpb24uWElBTkdRSV9BUkJOVU06IHJldHVybiB0aGlzLmZmaXNoLk5vdGF0aW9uLlhJQU5HUUlfV1hGO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIHRoaXMuZmZpc2guTm90YXRpb24uU0FOO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgeyBnZXRDb3VudGluZywgZ2V0SmFuZ2dpUG9pbnRzIH0gZnJvbSAnLi9jaGVzcyc7XG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJy4vZG9jdW1lbnQnO1xuXG4vLyBDb3VudGluZyBmb3IgbWFrcnVrLCBjYW1ib2RpYW4sIHNpdHR1eWluXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ291bnQoZmVuOiBzdHJpbmcsIHdoaXRlQ29udGFpbmVyOiBWTm9kZSB8IEVsZW1lbnQsIGJsYWNrQ29udGFpbmVyOiBWTm9kZSB8IEVsZW1lbnQpIHtcbiAgICBjb25zdCBbY291bnRpbmdQbHksIGNvdW50aW5nTGltaXQsIGNvdW50aW5nU2lkZSwgXSA9IGdldENvdW50aW5nKGZlbik7XG4gICAgd2hpdGVDb250YWluZXIgPSBwYXRjaCh3aGl0ZUNvbnRhaW5lciwgaCgnZGl2I21pc2MtaW5mb3cnLCAnJykpO1xuICAgIGJsYWNrQ29udGFpbmVyID0gcGF0Y2goYmxhY2tDb250YWluZXIsIGgoJ2RpdiNtaXNjLWluZm9iJywgJycpKTtcblxuICAgIGNvbnN0IGNvdW50aW5nU3RyID0gYCR7TWF0aC5mbG9vcigoY291bnRpbmdQbHkgKyAxKS8yKX0vJHtjb3VudGluZ0xpbWl0LzIgKyAoY291bnRpbmdMaW1pdC8yKSUyfWA7XG5cbiAgICBpZiAoY291bnRpbmdMaW1pdCAhPT0gMCAmJiBjb3VudGluZ1BseSAhPT0gMCkge1xuICAgICAgICBpZiAoY291bnRpbmdTaWRlID09PSAndycpXG4gICAgICAgICAgICB3aGl0ZUNvbnRhaW5lciA9IHBhdGNoKHdoaXRlQ29udGFpbmVyLCBoKCdkaXYjbWlzYy1pbmZvdycsIGNvdW50aW5nU3RyKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJsYWNrQ29udGFpbmVyID0gcGF0Y2goYmxhY2tDb250YWluZXIsIGgoJ2RpdiNtaXNjLWluZm9iJywgY291bnRpbmdTdHIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3doaXRlQ29udGFpbmVyLCBibGFja0NvbnRhaW5lcl07XG59XG5cbi8vIE1hdGVyaWFsIHBvaW50IGZvciBqYW5nZ2lcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb2ludChmZW46IHN0cmluZywgY2hvQ29udGFpbmVyOiBWTm9kZSB8IEVsZW1lbnQsIGhhbkNvbnRhaW5lcjogVk5vZGUgfCBFbGVtZW50KSB7XG4gICAgY29uc3QgYm9hcmQgPSBmZW4uc3BsaXQoXCIgXCIpWzBdO1xuICAgIGNvbnN0IFtjaG9Qb2ludCwgaGFuUG9pbnRdID0gZ2V0SmFuZ2dpUG9pbnRzKGJvYXJkKTtcbiAgICBjaG9Db250YWluZXIgPSBwYXRjaChjaG9Db250YWluZXIsIGgoJ2RpdiNtaXNjLWluZm93JywgeyBjbGFzczogeyd0ZXh0LWNvbG9yLWJsdWUnOiB0cnVlfSB9LCBjaG9Qb2ludCkpO1xuICAgIGhhbkNvbnRhaW5lciA9IHBhdGNoKGhhbkNvbnRhaW5lciwgaCgnZGl2I21pc2MtaW5mb2InLCB7IGNsYXNzOiB7J3RleHQtY29sb3ItcmVkJzogdHJ1ZX0gfSwgaGFuUG9pbnQpKTtcbiAgICByZXR1cm4gW2Nob0NvbnRhaW5lciwgaGFuQ29udGFpbmVyXTtcbn1cbiIsICJpbXBvcnQgeyBoLCBWTm9kZSB9IGZyb20gJ3NuYWJiZG9tJztcblxuaW1wb3J0IHsgSG93bCB9IGZyb20gJ2hvd2xlcic7XG5cbmltcG9ydCB7IF8gfSBmcm9tICcuL2kxOG4nO1xuaW1wb3J0IHsgVmFyaWFudCB9IGZyb20gJy4vdmFyaWFudHMnO1xuaW1wb3J0IHsgU3RyaW5nU2V0dGluZ3MsIE51bWJlclNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyByYWRpb0xpc3QsIHNsaWRlciB9IGZyb20gJy4vdmlldyc7XG5cblxuY2xhc3MgU291bmRzIHtcblxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRyYWNrTmFtZXMgPSB7XG4gICAgICAgIEdlbmVyaWNOb3RpZnk6ICdHZW5lcmljTm90aWZ5JyxcbiAgICAgICAgU29jaWFsTm90aWZ5OiAnU29jaWFsTm90aWZ5JyxcbiAgICAgICAgTW92ZTogJ01vdmUnLFxuICAgICAgICBDYXB0dXJlOiAnQ2FwdHVyZScsXG4gICAgICAgIENoZWNrOiAnQ2hlY2snLFxuICAgICAgICBEcmF3OiAnRHJhdycsXG4gICAgICAgIFZpY3Rvcnk6ICdWaWN0b3J5JyxcbiAgICAgICAgRGVmZWF0OiAnRGVmZWF0JyxcbiAgICAgICAgU2hvZ2lNb3ZlOiAnc2hvZ2lzbmFwJyxcbiAgICAgICAgU2hvZ2lDYXB0dXJlOiAnc2hvZ2lzbGFtJyxcbiAgICAgICAgQ2hhdDogJ2NoYXQnLFxuICAgICAgICBTZXR1cDogJ2RpbmRpbmcnLFxuICAgICAgICBMb3dUaW1lOiAnTG93VGltZScsXG4gICAgICAgIFRpY2s6ICdUaWNrJyxcbiAgICAgICAgRXhwbG9zaW9uOiAnRXhwbG9zaW9uJyxcbiAgICAgICAgQmVyc2VyazogJ0JlcnNlcmsnLFxuICAgIH07XG5cbiAgICB0cmFja3M6IHsgW2tleTogc3RyaW5nXTogSG93bCB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudHJhY2tzID0ge307XG4gICAgfVxuXG4gICAgdXBkYXRlVm9sdW1lKCkge1xuICAgICAgICBjb25zdCB2b2x1bWUgPSB2b2x1bWVTZXR0aW5ncy52YWx1ZTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy50cmFja3MpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tzW2tleV0udm9sdW1lKHZvbHVtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVNvdW5kVGhlbWUoYXNzZXRVUkw6IHN0cmluZykge1xuICAgICAgICBPYmplY3Qua2V5cyhTb3VuZHMudHJhY2tOYW1lcykuZm9yRWFjaCggKGtleToga2V5b2YgdHlwZW9mIFNvdW5kcy50cmFja05hbWVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrc1trZXldID0gdGhpcy5idWlsZFNvdW5kKGFzc2V0VVJMLCBTb3VuZHMudHJhY2tOYW1lc1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFNvdW5kKGFzc2V0VVJMOiBzdHJpbmcsIHRyYWNrTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHNvdW5kVGhlbWUgPSBzb3VuZFRoZW1lU2V0dGluZ3MudmFsdWU7XG4gICAgICAgIGNvbnN0IHNvdW5kVHJhY2sgPSAoc291bmRUaGVtZSA9PT0gJ3NpbGVudCcpID8gJ1NpbGVuY2UnIDogdHJhY2tOYW1lO1xuICAgICAgICBjb25zdCBzb3VuZCA9IG5ldyBIb3dsKHtcbiAgICAgICAgICAgIHNyYzogW1xuICAgICAgICAgICAgICAgIGFzc2V0VVJMICsgJy9zb3VuZC8nICsgc291bmRUaGVtZSArICcvJyArIHNvdW5kVHJhY2sgKyAnLm9nZycsXG4gICAgICAgICAgICAgICAgYXNzZXRVUkwgKyAnL3NvdW5kLycgKyBzb3VuZFRoZW1lICsgJy8nICsgc291bmRUcmFjayArICcubXAzJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG9ucGxheWVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5vbmNlKCd1bmxvY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdm9sdW1lOiB2b2x1bWVTZXR0aW5ncy52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzb3VuZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGF1ZGlvKCkge1xuICAgICAgICByZXR1cm4gc291bmRUaGVtZVNldHRpbmdzLnZhbHVlICE9PSAnc2lsZW50JztcbiAgICB9XG5cbiAgICBnZW5lcmljTm90aWZ5KCkgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5HZW5lcmljTm90aWZ5LnBsYXkoKTsgfVxuICAgIHNvY2lhbE5vdGlmeSgpICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLlNvY2lhbE5vdGlmeS5wbGF5KCk7IH1cbiAgICBtb3ZlKCkgICAgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5Nb3ZlLnBsYXkoKTsgfVxuICAgIGNhcHR1cmUoKSAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkNhcHR1cmUucGxheSgpOyB9XG4gICAgY2hlY2soKSAgICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuQ2hlY2sucGxheSgpOyB9XG4gICAgZHJhdygpICAgICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuRHJhdy5wbGF5KCk7IH1cbiAgICB2aWN0b3J5KCkgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5WaWN0b3J5LnBsYXkoKTsgfVxuICAgIGRlZmVhdCgpICAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkRlZmVhdC5wbGF5KCk7IH1cbiAgICBzaG9naW1vdmUoKSAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5TaG9naU1vdmUucGxheSgpOyB9XG4gICAgc2hvZ2ljYXB0dXJlKCkgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuU2hvZ2lDYXB0dXJlLnBsYXkoKTsgfVxuICAgIGNoYXQoKSAgICAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkNoYXQucGxheSgpOyB9XG4gICAgc2V0dXAoKSAgICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuU2V0dXAucGxheSgpOyB9XG4gICAgbG93VGltZSgpICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuTG93VGltZS5wbGF5KCk7IH1cbiAgICB0aWNrKCkgICAgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5UaWNrLnBsYXkoKTsgfVxuICAgIGV4cGxvc2lvbigpICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkV4cGxvc2lvbi5wbGF5KCk7IH1cbiAgICBiZXJzZXJrKCkgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5CZXJzZXJrLnBsYXkoKTsgfVxuXG4gICAgcHJpdmF0ZSBtb3ZlU291bmRTZXQ6IHtbazpzdHJpbmddOiB7IG1vdmU6ICgpPT4gdm9pZDsgY2FwdHVyZTogKCk9PnZvaWQ7fX0gPSB7XG4gICAgICAgIHJlZ3VsYXI6IHsgbW92ZTogKCkgPT4gdGhpcy5tb3ZlKCksIGNhcHR1cmU6ICgpID0+IHRoaXMuY2FwdHVyZSgpIH0sXG4gICAgICAgIHNob2dpOiB7IG1vdmU6ICgpID0+IHRoaXMuc2hvZ2ltb3ZlKCksIGNhcHR1cmU6ICgpID0+IHRoaXMuc2hvZ2ljYXB0dXJlKCkgfSxcbiAgICAgICAgYXRvbWljOiB7IG1vdmU6ICgpID0+IHRoaXMubW92ZSgpLCBjYXB0dXJlOiAoKSA9PiB0aGlzLmV4cGxvc2lvbigpIH0sXG4gICAgfTtcblxuICAgIG1vdmVTb3VuZCh2YXJpYW50OiBWYXJpYW50LCBjYXB0dXJlOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHNvdW5kU2V0ID0gdmFyaWFudC51aS5waWVjZVNvdW5kIGluIHRoaXMubW92ZVNvdW5kU2V0PyB0aGlzLm1vdmVTb3VuZFNldFt2YXJpYW50LnVpLnBpZWNlU291bmRdIDogdGhpcy5tb3ZlU291bmRTZXQucmVndWxhcjtcbiAgICAgICAgaWYgKGNhcHR1cmUpXG4gICAgICAgICAgICBzb3VuZFNldC5jYXB0dXJlKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNvdW5kU2V0Lm1vdmUoKTtcbiAgICB9XG5cbiAgICBnYW1lRW5kU291bmQocmVzdWx0OiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgc3dpdGNoIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCIxLzItMS8yXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMS0wXCI6XG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yID09PSBcIndoaXRlXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmljdG9yeSgpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZlYXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIwLTFcIjpcbiAgICAgICAgICAgICAgICBpZiAoY29sb3IgPT09IFwiYmxhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmVhdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmNsYXNzIFZvbHVtZVNldHRpbmdzIGV4dGVuZHMgTnVtYmVyU2V0dGluZ3Mge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCd2b2x1bWUnLCAxKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHNvdW5kLnVwZGF0ZVZvbHVtZSgpO1xuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2Jywgc2xpZGVyKHRoaXMsICdzb3VuZC12b2x1bWUnLCAwLCAxLCAwLjAxLCBfKCdWb2x1bWUnKSkpO1xuICAgIH1cbn1cblxuY29uc3Qgc291bmRUaGVtZXMgPSB7XG4gICAgc2lsZW50OiBcIlNpbGVudFwiLFxuICAgIHN0YW5kYXJkOiBcIlN0YW5kYXJkXCIsXG4gICAgcGlhbm86IFwiUGlhbm9cIixcbiAgICBuZXM6IFwiTkVTXCIsXG4gICAgc2Z4OiBcIlNGWFwiLFxuICAgIGZ1dHVyaXN0aWM6IFwiRnV0dXJpc3RpY1wiLFxuICAgIGxpc3A6IFwiTGlzcFwiLFxuICAgIHJvYm90OiBcIlJvYm90XCIsXG59O1xuXG5jbGFzcyBTb3VuZFRoZW1lU2V0dGluZ3MgZXh0ZW5kcyBTdHJpbmdTZXR0aW5ncyB7XG4gICAgYXNzZXRVUkw6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignc291bmR0aGVtZScsICdzdGFuZGFyZCcpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgc291bmQudXBkYXRlU291bmRUaGVtZSh0aGlzLmFzc2V0VVJMKTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdiNzb3VuZHRoZW1lLnJhZGlvLWxpc3QnLCByYWRpb0xpc3QodGhpcywgJ3NvdW5kdGhlbWUnLCBzb3VuZFRoZW1lcywgKF8sIGtleSkgPT4gdGhpcy52YWx1ZSA9IGtleSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNvdW5kID0gbmV3KFNvdW5kcyk7XG5leHBvcnQgY29uc3Qgdm9sdW1lU2V0dGluZ3MgPSBuZXcgVm9sdW1lU2V0dGluZ3MoKTtcbmV4cG9ydCBjb25zdCBzb3VuZFRoZW1lU2V0dGluZ3MgPSBuZXcgU291bmRUaGVtZVNldHRpbmdzKCk7XG4iLCAiaW1wb3J0IHsgaCB9IGZyb20gXCJzbmFiYmRvbVwiO1xuXG5pbXBvcnQgeyBfIH0gZnJvbSAnLi9pMThuJztcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnLi9kb2N1bWVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbnRyb2xsZXIge1xuICAgIGFub246IGJvb2xlYW47XG4gICAgZG9TZW5kOiBhbnk7XG4gICAgc3BlY3RhdG9yPzogYm9vbGVhbjtcbiAgICBnYW1lSWQ/OiBzdHJpbmc7XG4gICAgdG91cm5hbWVudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhdFZpZXcoY3RybDogQ2hhdENvbnRyb2xsZXIsIGNoYXRUeXBlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzcGVjdGF0b3IgPSAoXCJzcGVjdGF0b3JcIiBpbiBjdHJsICYmIGN0cmwuc3BlY3RhdG9yKTtcblxuICAgIGZ1bmN0aW9uIG9uS2V5UHJlc3MgKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKCEoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrYm94JykpLmNoZWNrZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUudHJpbSgpO1xuICAgICAgICBpZiAoKGUua2V5Q29kZSA9PT0gMTMgfHwgZS53aGljaCA9PT0gMTMpICYmIG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbTogYW55ID0ge3R5cGU6IGNoYXRUeXBlLCBtZXNzYWdlOiBtZXNzYWdlLCByb29tOiBzcGVjdGF0b3IgPyBcInNwZWN0YXRvclwiIDogXCJwbGF5ZXJcIn07XG4gICAgICAgICAgICBpZiAoXCJnYW1lSWRcIiBpbiBjdHJsKVxuICAgICAgICAgICAgICAgIG1bXCJnYW1lSWRcIl0gPSBjdHJsLmdhbWVJZDtcbiAgICAgICAgICAgIGlmIChcInRvdXJuYW1lbnRJZFwiIGluIGN0cmwpXG4gICAgICAgICAgICAgICAgbVtcInRvdXJuYW1lbnRJZFwiXSA9IGN0cmwudG91cm5hbWVudElkXG4gICAgICAgICAgICBjdHJsLmRvU2VuZChtKTtcbiAgICAgICAgICAgIChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25DbGljayAoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2YXRlZCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hlY2tib3gnKSkuY2hlY2tlZDtcbiAgICAgICAgY29uc3QgY2hhdEVudHJ5ID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LWVudHJ5JykpO1xuICAgICAgICAoPEhUTUxFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNoYXRUeXBlICsgXCItbWVzc2FnZXNcIikpLnN0eWxlLmRpc3BsYXkgPSBhY3RpdmF0ZWQgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgY2hhdEVudHJ5LmRpc2FibGVkID0gIWFjdGl2YXRlZDtcbiAgICAgICAgY2hhdEVudHJ5LnBsYWNlaG9sZGVyID0gYWN0aXZhdGVkID8gKGFub24gPyBfKCdTaWduIGluIHRvIGNoYXQnKSA6IF8oJ1BsZWFzZSBiZSBuaWNlIGluIHRoZSBjaGF0IScpKSA6IF8oXCJDaGF0IGlzIGRpc2FibGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBhbm9uID0gY3RybC5hbm9uO1xuICAgIHJldHVybiBoKGBkaXYjJHtjaGF0VHlwZX0uJHtjaGF0VHlwZX0uY2hhdGAsIFtcbiAgICAgICAgaCgnZGl2LmNoYXRyb29tJywgW1xuICAgICAgICAgICAgKHNwZWN0YXRvcikgPyBfKCdTcGVjdGF0b3Igcm9vbScpIDogXygnQ2hhdCByb29tJyksXG4gICAgICAgICAgICBoKCdpbnB1dCNjaGVja2JveCcsIHsgcHJvcHM6IHsgdGl0bGU6IF8oXCJUb2dnbGUgdGhlIGNoYXRcIiksIG5hbWU6IFwiY2hlY2tib3hcIiwgdHlwZTogXCJjaGVja2JveFwiLCBjaGVja2VkOiBcInRydWVcIiB9LCBvbjogeyBjbGljazogb25DbGljayB9IH0pXG4gICAgICAgIF0pLFxuICAgICAgICAvLyBUT0RPOiBsb2NrL3VubG9jayBjaGF0IHRvIHNwZWN0YXRvcnNcbiAgICAgICAgaChgb2wjJHtjaGF0VHlwZX0tbWVzc2FnZXNgLCBbIGgoJ2RpdiNtZXNzYWdlcycpIF0pLFxuICAgICAgICBoKCdpbnB1dCNjaGF0LWVudHJ5Jywge1xuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVudHJ5XCIsXG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAoYW5vbikgPyBfKCdTaWduIGluIHRvIGNoYXQnKSA6IF8oJ1BsZWFzZSBiZSBuaWNlIGluIHRoZSBjaGF0IScpLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiBhbm9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAxNDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHsga2V5cHJlc3M6IG9uS2V5UHJlc3MgfSxcbiAgICAgICAgfSlcbiAgICBdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXRNZXNzYWdlICh1c2VyOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgY2hhdFR5cGU6IHN0cmluZywgdGltZT86IG51bWJlcikge1xuICAgIGNvbnN0IGNoYXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGF0VHlwZSArICctbWVzc2FnZXMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAvLyBZb3UgbXVzdCBhZGQgYm9yZGVyIHdpZHRocywgcGFkZGluZyBhbmQgbWFyZ2lucyB0byB0aGUgcmlnaHQuXG4gICAgLy8gT25seSBzY3JvbGwgdGhlIGNoYXQgb24gYSBuZXcgbWVzc2FnZSBpZiB0aGUgdXNlciBpcyBhdCB0aGUgdmVyeSBib3R0b20gb2YgdGhlIGNoYXRcbiAgICBjb25zdCBpc0JvdHRvbSA9IGNoYXREaXYuc2Nyb2xsSGVpZ2h0IC0gKGNoYXREaXYuc2Nyb2xsVG9wICsgY2hhdERpdi5vZmZzZXRIZWlnaHQpIDwgODA7XG4gICAgY29uc3QgbG9jYWxUaW1lID0gdGltZSA/IG5ldyBEYXRlKHRpbWUgKiAxMDAwKS50b0xvY2FsZVRpbWVTdHJpbmcoXCJkZWZhdWx0XCIsIHsgaG91cjogXCIyLWRpZ2l0XCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIsIGhvdXIxMjogZmFsc2UgfSkgOiBcIlwiO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHVzZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBhdGNoKGNvbnRhaW5lciwgaCgnZGl2I21lc3NhZ2VzJywgWyBoKFwibGkubWVzc2FnZS5vZmZlclwiLCBbaChcInRcIiwgbWVzc2FnZSldKSBdKSk7XG4gICAgfSBlbHNlIGlmICh1c2VyID09PSAnX3NlcnZlcicpIHtcbiAgICAgICAgcGF0Y2goY29udGFpbmVyLCBoKCdkaXYjbWVzc2FnZXMnLCBbIGgoXCJsaS5tZXNzYWdlLnNlcnZlclwiLCBbaChcImRpdi50aW1lXCIsIGxvY2FsVGltZSksIGgoXCJ1c2VyXCIsIF8oJ1NlcnZlcicpKSwgaChcInRcIiwgbWVzc2FnZSldKSBdKSk7XG4gICAgfSBlbHNlIGlmICh1c2VyID09PSAnRGlzY29yZC1SZWxheScpIHtcbiAgICAgICAgY29uc3QgY29sb25JbmRleCA9IG1lc3NhZ2UuaW5kZXhPZignOicpOyAvLyBEaXNjb3JkIGRvZXNuJ3QgYWxsb3cgY29sb25zIGluIHVzZXJuYW1lcyBzbyB0aGUgZmlyc3QgY29sb24gc2lnbmlmaWVzIHRoZSBzdGFydCBvZiB0aGUgbWVzc2FnZVxuICAgICAgICBjb25zdCBkaXNjb3JkVXNlciA9IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpO1xuICAgICAgICBjb25zdCBkaXNjb3JkTWVzc2FnZSA9IG1lc3NhZ2Uuc3Vic3RyaW5nKGNvbG9uSW5kZXggKyAyKTtcbiAgICAgICAgcGF0Y2goY29udGFpbmVyLCBoKCdkaXYjbWVzc2FnZXMnLCBbIGgoXCJsaS5tZXNzYWdlXCIsIFtoKFwiZGl2LnRpbWVcIiwgbG9jYWxUaW1lKSwgaChcImRpdi5kaXNjb3JkLWljb24tY29udGFpbmVyXCIsIGgoXCJpbWcuaWNvbi1kaXNjb3JkLWljb25cIiwgeyBhdHRyczogeyBzcmM6ICcvc3RhdGljL2ljb25zL2Rpc2NvcmQuc3ZnJyB9IH0pKSwgaChcInVzZXJcIiwgZGlzY29yZFVzZXIpLCBoKFwidFwiLCBkaXNjb3JkTWVzc2FnZSldKSBdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goY29udGFpbmVyLCBoKCdkaXYjbWVzc2FnZXMnLCBbIGgoXCJsaS5tZXNzYWdlXCIsIFtoKFwiZGl2LnRpbWVcIiwgbG9jYWxUaW1lKSwgaChcInVzZXJcIiwgaChcImFcIiwgeyBhdHRyczoge2hyZWY6IFwiL0AvXCIgKyB1c2VyfSB9LCB1c2VyKSksIGgoXCJ0XCIsIG1lc3NhZ2UpXSkgXSkpO1xuICAgIH1cblxuICAgIGlmIChpc0JvdHRvbSkgc2V0VGltZW91dCgoKSA9PiB7Y2hhdERpdi5zY3JvbGxUb3AgPSBjaGF0RGl2LnNjcm9sbEhlaWdodDt9LCAyMDApO1xufVxuIiwgImltcG9ydCBXZWJzb2NrZXRIZWFydGJlYXRKcyBmcm9tICd3ZWJzb2NrZXQtaGVhcnRiZWF0LWpzJztcblxuaW1wb3J0IHsgaCwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICdjaGVzc2dyb3VuZHgvdXRpbCc7XG5cbmltcG9ydCB7IF8gfSBmcm9tICcuL2kxOG4nO1xuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICcuL2RvY3VtZW50JztcbmltcG9ydCB7IFN0ZXAsIE1zZ0NoYXQsIE1zZ0Z1bGxDaGF0LCBNc2dTcGVjdGF0b3JzLCBNc2dTaHV0ZG93bixNc2dHYW1lTm90Rm91bmQgfSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCB7IHVjaTJMYXN0TW92ZSwgbW92ZURlc3RzLCBjZzJ1Y2ksIHVucHJvbW90ZWRSb2xlLCBVQ0lNb3ZlIH0gZnJvbSAnLi9jaGVzcyc7XG5pbXBvcnQgeyBJbnB1dFR5cGUgfSBmcm9tICdAL2lucHV0L2lucHV0JztcbmltcG9ydCB7IEdhdGluZ0lucHV0IH0gZnJvbSAnLi9pbnB1dC9nYXRpbmcnO1xuaW1wb3J0IHsgUHJvbW90aW9uSW5wdXQgfSBmcm9tICcuL2lucHV0L3Byb21vdGlvbic7XG5pbXBvcnQgeyBEdWNrSW5wdXQgfSBmcm9tICcuL2lucHV0L2R1Y2snO1xuaW1wb3J0IHsgQ2hlc3Nncm91bmRDb250cm9sbGVyIH0gZnJvbSAnLi9jZ0N0cmwnO1xuaW1wb3J0IHsgSlNPTk9iamVjdCwgUHlDaGVzc01vZGVsIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyB1cGRhdGVDb3VudCwgdXBkYXRlUG9pbnQgfSBmcm9tICcuL2luZm8nO1xuaW1wb3J0IHsgc291bmQgfSBmcm9tICcuL3NvdW5kJztcbmltcG9ydCB7IGNoYXRNZXNzYWdlLCBDaGF0Q29udHJvbGxlciB9IGZyb20gJy4vY2hhdCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHYW1lQ29udHJvbGxlciBleHRlbmRzIENoZXNzZ3JvdW5kQ29udHJvbGxlciBpbXBsZW1lbnRzIENoYXRDb250cm9sbGVyIHtcbiAgICBzb2NrOiBXZWJzb2NrZXRIZWFydGJlYXRKcztcblxuICAgIC8vIEluZm9cbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgIGdhbWVJZDogc3RyaW5nO1xuICAgIHRvdXJuYW1lbnRJZDogc3RyaW5nO1xuICAgIGhhbmRpY2FwOiBib29sZWFuO1xuICAgIHdwbGF5ZXI6IHN0cmluZztcbiAgICBicGxheWVyOiBzdHJpbmc7XG4gICAgYWlMZXZlbDogbnVtYmVyO1xuICAgIHJhdGVkOiBzdHJpbmc7XG5cbiAgICBiYXNlOiBudW1iZXI7XG4gICAgaW5jOiBudW1iZXI7XG5cbiAgICBwbGF5ZXJzOiBzdHJpbmdbXTtcbiAgICB0aXRsZXM6IHN0cmluZ1tdO1xuICAgIHJhdGluZ3M6IHN0cmluZ1tdO1xuICAgIHd0aXRsZTogc3RyaW5nO1xuICAgIGJ0aXRsZTogc3RyaW5nO1xuICAgIHdyYXRpbmc6IHN0cmluZztcbiAgICBicmF0aW5nOiBzdHJpbmc7XG5cbiAgICAvLyBIZWxwZXJzXG4gICAgZ2F0aW5nOiBHYXRpbmdJbnB1dDtcbiAgICBwcm9tb3Rpb246IFByb21vdGlvbklucHV0O1xuICAgIGR1Y2s6IER1Y2tJbnB1dDtcblxuICAgIC8vIEdhbWUgc3RhdGVcbiAgICB0dXJuQ29sb3I6IGNnLkNvbG9yO1xuICAgIHN1ZmZpeDogc3RyaW5nO1xuXG4gICAgc2V0dXBGZW46IHN0cmluZztcblxuICAgIHByZW1vdmU/OiB7IG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE/OiBjZy5TZXRQcmVtb3ZlTWV0YWRhdGEgfTtcbiAgICBwcmVhY3Rpb246IGJvb2xlYW47XG5cbiAgICBzdGVwczogU3RlcFtdO1xuXG4gICAgLy8gVE9ETzogbW92ZUxpc3Q6IE1vdmVMaXN0O1xuICAgIHN0YXR1czogbnVtYmVyO1xuICAgIHBnbjogc3RyaW5nO1xuICAgIHBseTogbnVtYmVyO1xuICAgIHJlc3VsdDogc3RyaW5nO1xuXG4gICAgLy8gVUkgc3RhdGVcbiAgICB2cGxheWVyMDogVk5vZGU7XG4gICAgdnBsYXllcjE6IFZOb2RlO1xuICAgIHZtb3ZlbGlzdDogVk5vZGUgfCBIVE1MRWxlbWVudDtcbiAgICBnYW1lQ29udHJvbHM6IFZOb2RlO1xuICAgIG1vdmVDb250cm9sczogVk5vZGU7XG4gICAgY3RhYmxlQ29udGFpbmVyOiBWTm9kZSB8IEhUTUxFbGVtZW50O1xuICAgIGNsaWNrRHJvcDogY2cuUGllY2UgfCB1bmRlZmluZWQ7XG5cbiAgICBsYXN0bW92ZTogY2cuS2V5W107XG5cbiAgICBzcGVjdGF0b3I6IGJvb2xlYW47XG5cbiAgICAvLyBTZXR0aW5nc1xuICAgIGNsaWNrRHJvcEVuYWJsZWQ6IGJvb2xlYW47XG4gICAgYXV0b1Byb21vdGU/OiBib29sZWFuO1xuICAgIGRibENsaWNrUGFzcz86IGJvb2xlYW47XG5cbiAgICAvLyBNYWluIGxpbmUgcGx5IHdoZXJlIGFuYWx5c2lzIHZhcmlhdGlvbiBzdGFydHNcbiAgICBwbHlWYXJpOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG1vZGVsOiBQeUNoZXNzTW9kZWwpIHtcbiAgICAgICAgc3VwZXIgKGVsLCBtb2RlbCk7XG5cbiAgICAgICAgdGhpcy5nYW1lSWQgPSBtb2RlbFtcImdhbWVJZFwiXSBhcyBzdHJpbmc7XG4gICAgICAgIHRoaXMudG91cm5hbWVudElkID0gbW9kZWxbXCJ0b3VybmFtZW50SWRcIl1cbiAgICAgICAgdGhpcy51c2VybmFtZSA9IG1vZGVsW1widXNlcm5hbWVcIl07XG4gICAgICAgIHRoaXMud3BsYXllciA9IG1vZGVsW1wid3BsYXllclwiXTtcbiAgICAgICAgdGhpcy5icGxheWVyID0gbW9kZWxbXCJicGxheWVyXCJdO1xuICAgICAgICB0aGlzLmJhc2UgPSBOdW1iZXIobW9kZWxbXCJiYXNlXCJdKTtcbiAgICAgICAgdGhpcy5pbmMgPSBOdW1iZXIobW9kZWxbXCJpbmNcIl0pO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IE51bWJlcihtb2RlbFtcInN0YXR1c1wiXSk7XG4gICAgICAgIHRoaXMuc3RlcHMgPSBbXTtcbiAgICAgICAgdGhpcy5wZ24gPSBcIlwiO1xuICAgICAgICB0aGlzLnBseSA9IGlzTmFOKG1vZGVsW1wicGx5XCJdKSA/IDAgOiBtb2RlbFtcInBseVwiXTtcbiAgICAgICAgdGhpcy53dGl0bGUgPSBtb2RlbFtcInd0aXRsZVwiXTtcbiAgICAgICAgdGhpcy5idGl0bGUgPSBtb2RlbFtcImJ0aXRsZVwiXTtcbiAgICAgICAgdGhpcy53cmF0aW5nID0gbW9kZWxbXCJ3cmF0aW5nXCJdO1xuICAgICAgICB0aGlzLmJyYXRpbmcgPSBtb2RlbFtcImJyYXRpbmdcIl07XG4gICAgICAgIHRoaXMucmF0ZWQgPSBtb2RlbFtcInJhdGVkXCJdO1xuXG4gICAgICAgIHRoaXMuc3BlY3RhdG9yID0gdGhpcy51c2VybmFtZSAhPT0gdGhpcy53cGxheWVyICYmIHRoaXMudXNlcm5hbWUgIT09IHRoaXMuYnBsYXllcjtcblxuICAgICAgICB0aGlzLmdhdGluZyA9IG5ldyBHYXRpbmdJbnB1dCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9tb3Rpb24gPSBuZXcgUHJvbW90aW9uSW5wdXQodGhpcyk7XG4gICAgICAgIHRoaXMuZHVjayA9IG5ldyBEdWNrSW5wdXQodGhpcyk7XG5cbiAgICAgICAgLy8gb3JpZW50YXRpb24gPSB0aGlzLm15Y29sb3JcbiAgICAgICAgaWYgKHRoaXMuc3BlY3RhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLm15Y29sb3IgPSAnd2hpdGUnO1xuICAgICAgICAgICAgdGhpcy5vcHBjb2xvciA9ICdibGFjayc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm15Y29sb3IgPSB0aGlzLnVzZXJuYW1lID09PSB0aGlzLndwbGF5ZXIgPyAnd2hpdGUnIDogJ2JsYWNrJztcbiAgICAgICAgICAgIHRoaXMub3BwY29sb3IgPSB0aGlzLnVzZXJuYW1lID09PSB0aGlzLndwbGF5ZXIgPyAnYmxhY2snIDogJ3doaXRlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBsYXllcnNbMF0gaXMgdG9wIHBsYXllciwgcGxheWVyc1sxXSBpcyBib3R0b20gcGxheWVyXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcbiAgICAgICAgICAgIHRoaXMubXljb2xvciA9PT0gXCJ3aGl0ZVwiID8gdGhpcy5icGxheWVyIDogdGhpcy53cGxheWVyLFxuICAgICAgICAgICAgdGhpcy5teWNvbG9yID09PSBcIndoaXRlXCIgPyB0aGlzLndwbGF5ZXIgOiB0aGlzLmJwbGF5ZXJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy50aXRsZXMgPSBbXG4gICAgICAgICAgICB0aGlzLm15Y29sb3IgPT09IFwid2hpdGVcIiA/IHRoaXMuYnRpdGxlIDogdGhpcy53dGl0bGUsXG4gICAgICAgICAgICB0aGlzLm15Y29sb3IgPT09IFwid2hpdGVcIiA/IHRoaXMud3RpdGxlIDogdGhpcy5idGl0bGVcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5yYXRpbmdzID0gW1xuICAgICAgICAgICAgdGhpcy5teWNvbG9yID09PSBcIndoaXRlXCIgPyB0aGlzLmJyYXRpbmcgOiB0aGlzLndyYXRpbmcsXG4gICAgICAgICAgICB0aGlzLm15Y29sb3IgPT09IFwid2hpdGVcIiA/IHRoaXMud3JhdGluZyA6IHRoaXMuYnJhdGluZ1xuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMucmVzdWx0ID0gXCIqXCI7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy5mdWxsZmVuLnNwbGl0KFwiIFwiKTtcblxuICAgICAgICB0aGlzLnR1cm5Db2xvciA9IHBhcnRzWzFdID09PSBcIndcIiA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIjtcbiAgICAgICAgdGhpcy5zdWZmaXggPSAnJztcblxuICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldCh7XG4gICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBsb2NhbFN0b3JhZ2UuYW5pbWF0aW9uID09PSB1bmRlZmluZWQgfHwgbG9jYWxTdG9yYWdlLmFuaW1hdGlvbiA9PT0gXCJ0cnVlXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW92YWJsZToge1xuICAgICAgICAgICAgICAgIHNob3dEZXN0czogbG9jYWxTdG9yYWdlLnNob3dEZXN0cyA9PT0gdW5kZWZpbmVkIHx8IGxvY2FsU3RvcmFnZS5zaG93RGVzdHMgPT09IFwidHJ1ZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICdmZW4nOiB0aGlzLmZ1bGxmZW4sXG4gICAgICAgICAgICAnbW92ZSc6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICdjaGVjayc6IGZhbHNlLFxuICAgICAgICAgICAgJ3R1cm5Db2xvcic6IHRoaXMudHVybkNvbG9yLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZXREZXN0cygpO1xuICAgIH1cblxuICAgIGZsaXBwZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLm9yaWVudGF0aW9uICE9PSB0aGlzLm15Y29sb3I7XG4gICAgfVxuXG4gICAgc2V0RGVzdHMgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmZmaXNoQm9hcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gQXQgdmVyeSBmaXJzdCB0aW1lIHdlIG1heSBoYXZlIHRvIHdhaXQgZm9yIGZmaXNoIG1vZHVsZSB0byBpbml0aWFsaXplXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2V0RGVzdHMsIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsZWdhbE1vdmVzID0gdGhpcy5mZmlzaEJvYXJkLmxlZ2FsTW92ZXMoKS5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICBjb25zdCBkZXN0cyA9IG1vdmVEZXN0cyhsZWdhbE1vdmVzIGFzIFVDSU1vdmVbXSk7XG4gICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldCh7IG1vdmFibGU6IHsgZGVzdHM6IGRlc3RzIH19KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0ZXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nncm91bmQuc2V0KHsgY2hlY2s6ICh0aGlzLmZmaXNoQm9hcmQuaXNDaGVjaygpKSA/IHRoaXMudHVybkNvbG9yIDogZmFsc2V9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFic3RyYWN0IGRvU2VuZE1vdmUobW92ZTogc3RyaW5nKTogdm9pZDtcblxuICAgIHByb2Nlc3NJbnB1dChwaWVjZTogY2cuUGllY2UsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuTW92ZU1ldGFkYXRhLCBsYXN0U3VmZml4Pzogc3RyaW5nLCBsYXN0SW5wdXRUeXBlPzogSW5wdXRUeXBlKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAobGFzdElucHV0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWZmaXggPSAnJztcbiAgICAgICAgICAgICAgICB0aGlzLmdhdGluZy5zdGFydChwaWVjZSwgb3JpZywgZGVzdCwgbWV0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnYXRpbmcnOlxuICAgICAgICAgICAgICAgIGlmIChsYXN0U3VmZml4ID09PSAnLScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9tb3Rpb24uc3RhcnQocGllY2UsIG9yaWcsIGRlc3QsIG1ldGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VmZml4ICs9IGxhc3RTdWZmaXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHVjay5zdGFydChwaWVjZSwgb3JpZywgZGVzdCwgbWV0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHJvbW90aW9uJzpcbiAgICAgICAgICAgICAgICB0aGlzLnN1ZmZpeCArPSBsYXN0U3VmZml4O1xuICAgICAgICAgICAgICAgIHRoaXMuZHVjay5zdGFydChwaWVjZSwgb3JpZywgZGVzdCwgbWV0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkdWNrJzpcbiAgICAgICAgICAgICAgICB0aGlzLnN1ZmZpeCArPSBsYXN0U3VmZml4O1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1vdmUob3JpZywgZGVzdCwgdGhpcy5zdWZmaXgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VuZE1vdmUob3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBwcm9tbzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZG9TZW5kTW92ZShjZzJ1Y2kob3JpZyArIGRlc3QgKyBwcm9tbykpO1xuICAgIH1cblxuICAgIGdvUGx5KHBseTogbnVtYmVyLCBwbHlWYXJpID0gMCkge1xuICAgICAgICBjb25zdCB2diA9IHRoaXMuc3RlcHNbcGx5VmFyaV0/LnZhcmk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSAocGx5VmFyaSA+IDAgJiYgdnYpID8gdnZbcGx5IC0gcGx5VmFyaV0gOiB0aGlzLnN0ZXBzW3BseV07XG4gICAgICAgIGlmIChzdGVwID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBtb3ZlID0gdWNpMkxhc3RNb3ZlKHN0ZXAubW92ZSk7XG4gICAgICAgIGxldCBjYXB0dXJlID0gZmFsc2U7XG4gICAgICAgIGlmIChtb3ZlKSB7XG4gICAgICAgICAgICAvLyA5NjAga2luZyB0YWtlcyByb29rIGNhc3RsaW5nIGlzIG5vdCBjYXB0dXJlXG4gICAgICAgICAgICAvLyBUT0RPIERlZmVyIHRoaXMgbG9naWMgdG8gZmZpc2guanNcbiAgICAgICAgICAgIGNhcHR1cmUgPSAodGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQobW92ZVsxXSBhcyBjZy5LZXkpICE9PSB1bmRlZmluZWQgJiYgc3RlcC5zYW4/LnNsaWNlKDAsIDIpICE9PSAnTy0nKSB8fCAoc3RlcC5zYW4/LnNsaWNlKDEsIDIpID09PSAneCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZXQoe1xuICAgICAgICAgICAgZmVuOiBzdGVwLmZlbixcbiAgICAgICAgICAgIHR1cm5Db2xvcjogc3RlcC50dXJuQ29sb3IsXG4gICAgICAgICAgICBtb3ZhYmxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHN0ZXAudHVybkNvbG9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGVjazogc3RlcC5jaGVjayxcbiAgICAgICAgICAgIGxhc3RNb3ZlOiBtb3ZlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXREZXN0cygpO1xuXG4gICAgICAgIHRoaXMudHVybkNvbG9yID0gc3RlcC50dXJuQ29sb3I7XG4gICAgICAgIHRoaXMuZnVsbGZlbiA9IHN0ZXAuZmVuO1xuICAgICAgICB0aGlzLnN1ZmZpeCA9ICcnO1xuICAgICAgICB0aGlzLmR1Y2suaW5wdXRTdGF0ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGhpcy52YXJpYW50LnVpLmNvdW50aW5nKSB7XG4gICAgICAgICAgICB1cGRhdGVDb3VudChzdGVwLmZlbiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pc2MtaW5mb3cnKSBhcyBIVE1MRWxlbWVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pc2MtaW5mb2InKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52YXJpYW50LnVpLm1hdGVyaWFsUG9pbnQpIHtcbiAgICAgICAgICAgIHVwZGF0ZVBvaW50KHN0ZXAuZmVuLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWlzYy1pbmZvdycpIGFzIEhUTUxFbGVtZW50LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWlzYy1pbmZvYicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbHkgPT09IHRoaXMucGx5ICsgMSkge1xuICAgICAgICAgICAgc291bmQubW92ZVNvdW5kKHRoaXMudmFyaWFudCwgY2FwdHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBseSA9IHBseVxuICAgIH1cblxuICAgIGRvU2VuZCA9IChtZXNzYWdlOiBKU09OT2JqZWN0KSA9PiB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiLS0tPiBkb1NlbmQoKTpcIiwgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc29jay5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25Nb3ZlID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKF9vcmlnOiBjZy5LZXksIF9kZXN0OiBjZy5LZXksIGNhcHR1cmVkUGllY2U6IGNnLlBpZWNlKSA9PiB7XG4gICAgICAgICAgICBzb3VuZC5tb3ZlU291bmQodGhpcy52YXJpYW50LCAhIWNhcHR1cmVkUGllY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRHJvcCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChwaWVjZTogY2cuUGllY2UsIF9kZXN0OiBjZy5LZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChwaWVjZS5yb2xlKVxuICAgICAgICAgICAgICAgIHNvdW5kLm1vdmVTb3VuZCh0aGlzLnZhcmlhbnQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGxldCBsYXN0S2V5OiBjZy5LZXkgfCB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiAoa2V5OiBjZy5LZXkpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmR1Y2suaW5wdXRTdGF0ZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHVjay5maW5pc2goa2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLm1vdmFibGUuZGVzdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgICAgICAgIC8vIFNpdHR1eWluIGluIHBsYWNlIHByb21vdGlvbiBvbiBkb3VibGUgY2xpY2tcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLnN0YXRzLmN0cmxLZXkgfHwgKGxhc3RLZXkgPT09IGtleSAmJiBjdXJUaW1lIC0gbGFzdFRpbWUgPCA1MDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlc3Nncm91bmQuc3RhdGUubW92YWJsZS5kZXN0cy5nZXQoa2V5KT8uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YXJpYW50Lm5hbWUgPT09ICdzaXR0dXlpbicpIHsgLy8gVE9ETyBtYWtlIHRoaXMgbW9yZSBnZW5lcmljXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkN0cmwgaW4gcGxhY2UgcHJvbW90aW9uXCIsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldFBpZWNlcyhuZXcgTWFwKFtba2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHBpZWNlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdmLXBpZWNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tb3RlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfV1dKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLm1vdmFibGUuZGVzdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNlbGVjdFNxdWFyZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQubW92ZVNvdW5kKHRoaXMudmFyaWFudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW5wdXQocGllY2UsIGtleSwga2V5LCB7IHByZW1vdmU6IGZhbHNlIH0sICdmJywgJ3Byb21vdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCh0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLnN0YXRzLmN0cmxLZXkgfHwgdGhpcy5kYmxDbGlja1Bhc3MpICYmIHRoaXMudmFyaWFudC5ydWxlcy5wYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3Moa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0S2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYXN0S2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgIGxhc3RUaW1lID0gY3VyVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBwYXNzID0gKHBhc3NLZXk/OiBjZy5LZXkpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudHVybkNvbG9yID09PSB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLm1vdmFibGUuY29sb3IgfHwgdGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnYm90aCcpIHtcbiAgICAgICAgICAgIGlmICghcGFzc0tleSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBpZWNlcyA9IHRoaXMuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzdHMgPSB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLm1vdmFibGUuZGVzdHM7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaywgcF0gb2YgcGllY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwLnJvbGUgPT09ICdrLXBpZWNlJyAmJiBwLmNvbG9yID09PSB0aGlzLnR1cm5Db2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RzPy5nZXQoayk/LmluY2x1ZGVzKGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0tleSA9IGs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFzc0tleSkge1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgY2FsbGluZyBwYXNzKCkgYWdhaW4gYnkgc2VsZWN0U3F1YXJlKCkgLT4gb25TZWxlY3QoKVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nncm91bmQudW5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5tb3ZlU291bmQodGhpcy52YXJpYW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTW92ZShwYXNzS2V5LCBwYXNzS2V5LCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgICogQ3VzdG9tIHZhcmlhbnQtc3BlY2lmaWMgbG9naWMgdG8gYmUgdHJpZ2dlcmVkIG9uIG1vdmUgYW5kIGFsdGVyIHN0YXRlIG9mIGJvYXJkL3BvY2tldCBkZXBlbmRpbmcgb24gdmFyaWFudCBydWxlcy5cbiAgICAgICovXG4gICAgcHJvdGVjdGVkIG9uVXNlck1vdmUob3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXksIG1ldGE6IGNnLk1vdmVNZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5kdWNrLmlucHV0U3RhdGUgPT09IFwibW92ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmR1Y2suZmluaXNoKGRlc3QpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcmVhY3Rpb24gPSBtZXRhLnByZW1vdmU7XG4gICAgICAgIGNvbnN0IHBpZWNlcyA9IHRoaXMuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXM7XG4gICAgICAgIGxldCBtb3ZlZCA9IHBpZWNlcy5nZXQoZGVzdCk7XG4gICAgICAgIC8vIEZpeCBraW5nIHRvIHJvb2sgOTYwIGNhc3RsaW5nIGNhc2VcbiAgICAgICAgaWYgKG1vdmVkID09PSB1bmRlZmluZWQpIG1vdmVkID0ge3JvbGU6ICdrLXBpZWNlJywgY29sb3I6IHRoaXMubXljb2xvcn0gYXMgY2cuUGllY2U7XG5cbiAgICAgICAgLy8gY2hlc3Nncm91bmQgZG9lc24ndCBrbm93IGFib3V0IGVuIHBhc3NhbnQsIHNvIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZSBjYXB0dXJlZCBwYXduIG1hbnVhbGx5XG4gICAgICAgIGlmIChtZXRhLmNhcHR1cmVkID09PSB1bmRlZmluZWQgJiYgbW92ZWQgIT09IHVuZGVmaW5lZCAmJiBtb3ZlZC5yb2xlID09PSBcInAtcGllY2VcIiAmJiBvcmlnWzBdICE9PSBkZXN0WzBdICYmIHRoaXMudmFyaWFudC5ydWxlcy5lblBhc3NhbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHV0aWwua2V5MnBvcyhkZXN0KSxcbiAgICAgICAgICAgICAgICBwYXduS2V5ID0gdXRpbC5wb3Mya2V5KFtwb3NbMF0sIHBvc1sxXSArICh0aGlzLm15Y29sb3IgPT09ICd3aGl0ZScgPyAtMSA6IDEpXSk7XG4gICAgICAgICAgICBtZXRhLmNhcHR1cmVkID0gcGllY2VzLmdldChwYXduS2V5KTtcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nncm91bmQuc2V0UGllY2VzKG5ldyBNYXAoW1twYXduS2V5LCB1bmRlZmluZWRdXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSBjYXB0dXJlZCBwaWVjZSB0byB0aGUgcG9ja2V0XG4gICAgICAgIC8vIGNoZXNzZ3JvdW5kIGRvZXNuJ3Qga25vdyB3aGF0IHBpZWNlIHRvIHJldmVydCBhIGNhcHR1cmVkIHByb21vdGVkIHBpZWNlIGludG8sIHNvIGl0IG5lZWRzIHRvIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBpZiAodGhpcy52YXJpYW50LnBvY2tldD8uY2FwdHVyZVRvSGFuZCAmJiBtZXRhLmNhcHR1cmVkKSB7XG4gICAgICAgICAgICBjb25zdCBwaWVjZSA9IHtcbiAgICAgICAgICAgICAgICByb2xlOiB1bnByb21vdGVkUm9sZSh0aGlzLnZhcmlhbnQsIG1ldGEuY2FwdHVyZWQpLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB1dGlsLm9wcG9zaXRlKG1ldGEuY2FwdHVyZWQuY29sb3IpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nncm91bmQuY2hhbmdlUG9ja2V0KHBpZWNlLCAxKTtcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nncm91bmQuc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzSW5wdXQobW92ZWQsIG9yaWcsIGRlc3QsIG1ldGEpO1xuICAgICAgICB0aGlzLnByZWFjdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhcmlhbnQgc3BlY2lmaWMgbG9naWMgZm9yIHdoZW4gZHJvcHBpbmcgYSBwaWVjZSBmcm9tIHBvY2tldCBpcyBwZXJmb3JtZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgb25Vc2VyRHJvcChwaWVjZTogY2cuUGllY2UsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuTW92ZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMucHJlYWN0aW9uID0gbWV0YS5wcmVtb3ZlO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzSW5wdXQocGllY2UsIHV0aWwuZHJvcE9yaWdPZihyb2xlKSwgZGVzdCwgbWV0YSk7XG4gICAgICAgIHRoaXMucHJlYWN0aW9uID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1zZ1NwZWN0YXRvcnMgPSAobXNnOiBNc2dTcGVjdGF0b3JzKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVjdGF0b3JzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHBhdGNoKGNvbnRhaW5lciwgaCgndW5kZXItbGVmdCNzcGVjdGF0b3JzJywgXygnU3BlY3RhdG9yczogJykgKyBtc2cuc3BlY3RhdG9ycykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Nc2dDaGF0ID0gKG1zZzogTXNnQ2hhdCkgPT4ge1xuICAgICAgICBpZiAoKHRoaXMuc3BlY3RhdG9yICYmIG1zZy5yb29tID09PSAnc3BlY3RhdG9yJykgfHwgKCF0aGlzLnNwZWN0YXRvciAmJiBtc2cucm9vbSAhPT0gJ3NwZWN0YXRvcicpIHx8IG1zZy51c2VyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2hhdE1lc3NhZ2UobXNnLnVzZXIsIG1zZy5tZXNzYWdlLCBcInJvdW5kY2hhdFwiLCBtc2cudGltZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTXNnRnVsbENoYXQgPSAobXNnOiBNc2dGdWxsQ2hhdCkgPT4ge1xuICAgICAgICAvLyBUbyBwcmV2ZW50IG11bHRpcGxpY2F0aW9uIG9mIG1lc3NhZ2VzIHdlIGhhdmUgdG8gcmVtb3ZlIG9sZCBtZXNzYWdlcyBkaXYgZmlyc3RcbiAgICAgICAgcGF0Y2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VzJykgYXMgSFRNTEVsZW1lbnQsIGgoJ2RpdiNtZXNzYWdlcy1jbGVhcicpKTtcbiAgICAgICAgLy8gdGhlbiBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIHBhdGNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlcy1jbGVhcicpIGFzIEhUTUxFbGVtZW50LCBoKCdkaXYjbWVzc2FnZXMnKSk7XG4gICAgICAgIG1zZy5saW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgICAgICBpZiAoKHRoaXMuc3BlY3RhdG9yICYmIGxpbmUucm9vbSA9PT0gJ3NwZWN0YXRvcicpIHx8ICghdGhpcy5zcGVjdGF0b3IgJiYgbGluZS5yb29tICE9PSAnc3BlY3RhdG9yJykgfHwgbGluZS51c2VyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNoYXRNZXNzYWdlKGxpbmUudXNlciwgbGluZS5tZXNzYWdlLCBcInJvdW5kY2hhdFwiLCBsaW5lLnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTXNnR2FtZU5vdEZvdW5kID0gKG1zZzogTXNnR2FtZU5vdEZvdW5kKSA9PiB7XG4gICAgICAgIGFsZXJ0KF8oXCJSZXF1ZXN0ZWQgZ2FtZSAlMSBub3QgZm91bmQhXCIsIG1zZ1snZ2FtZUlkJ10pKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbih0aGlzLmhvbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Nc2dTaHV0ZG93biA9IChtc2c6IE1zZ1NodXRkb3duKSA9PiB7XG4gICAgICAgIGFsZXJ0KG1zZy5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25NZXNzYWdlKGV2dDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPCsrKyBvbk1lc3NhZ2UoKTpcIiwgZXZ0LmRhdGEpO1xuICAgICAgICBpZiAoZXZ0LmRhdGEgPT09ICcvbicpIHJldHVybjtcbiAgICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShldnQuZGF0YSk7XG4gICAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzcGVjdGF0b3JzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1zZ1NwZWN0YXRvcnMobXNnKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBcInJvdW5kY2hhdFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nc2dDaGF0KG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZnVsbGNoYXRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTXNnRnVsbENoYXQobXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJnYW1lX25vdF9mb3VuZFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nc2dHYW1lTm90Rm91bmQobXNnKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBcInNodXRkb3duXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1zZ1NodXRkb3duKG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibG9nb3V0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5kb1NlbmQoe3R5cGU6IFwibG9nb3V0XCJ9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJ0eXBlIFVzZXJJZCA9IHN0cmluZztcblxuZXhwb3J0IHR5cGUgUHV6emxlID0ge1xuICAgIF9pZDogc3RyaW5nO1xuICAgIGZlbjogc3RyaW5nO1xuICAgIHZhcmlhbnQ6IHN0cmluZztcbiAgICBtb3Zlczogc3RyaW5nO1xuICAgIGV2YWw6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZ2FtZUlkPzogc3RyaW5nO1xuICAgIHVwbG9hZGVkQnk/OiBzdHJpbmc7XG4gICAgc2l0ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgU2VydmVyRGF0YSA9IHtcbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgIHB5Y2hlc3NVUkw6IHN0cmluZztcbiAgICBob21lOiBzdHJpbmc7XG4gICAgYXNzZXRVUkw6IHN0cmluZztcbiAgICBmZW46IHN0cmluZztcbiAgICB2YXJpYW50OiBzdHJpbmc7XG4gICAgYWxsOiBib29sZWFuO1xuICAgIF9pZDogc3RyaW5nO1xuICAgIGdhbWVJZD86IHN0cmluZztcbiAgICBzaXRlPzogc3RyaW5nO1xuICAgIG1vdmVzOiBzdHJpbmc7XG4gICAgZXZhbDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBwbHk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV2aWV3IHtcbiAgYnk6IFVzZXJJZDtcbiAgYXQ6IERhdGU7XG4gIGFwcHJvdmVkOiBib29sZWFuO1xufVxuXG5jb25zdCBpZENoYXJzID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJztcbmNvbnN0IGlkTGVuZ3RoID0gNTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICBsZXQgcmVzdWx0ID0gJyc7XG4gIGZvciAobGV0IGkgPSBpZExlbmd0aDsgaSA+IDA7IC0taSkgcmVzdWx0ICs9IGlkQ2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaWRDaGFycy5sZW5ndGgpXTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsICJpbXBvcnQgeyBoLCBWTm9kZSB9IGZyb20gJ3NuYWJiZG9tJ1xuXG5pbXBvcnQgeyBWQVJJQU5UUyB9IGZyb20gJy4vdmFyaWFudHMnO1xuXG5pbXBvcnQgeyBTZXJ2ZXJEYXRhIH0gZnJvbSAnLi9wdXp6bGVyVHlwZXMnO1xuaW1wb3J0IFB1enpsZUNvbnRyb2xsZXIgZnJvbSAnLi9wdXp6bGVyQ3RybCc7XG5cbmZ1bmN0aW9uIHJ1bkdyb3VuZCh2bm9kZTogVk5vZGUsIGRhdGE6IFNlcnZlckRhdGEpIHtcbiAgICBjb25zdCBlbCA9IHZub2RlLmVsbSBhcyBIVE1MRWxlbWVudDtcbiAgICBuZXcgUHV6emxlQ29udHJvbGxlcihlbCwgZGF0YSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGRhdGE6IFNlcnZlckRhdGEpOiBWTm9kZSB7XG4gICAgY29uc3QgdmFyaWFudCA9IFZBUklBTlRTW2RhdGEudmFyaWFudF07XG4gICAgY29uc3QgcGFydHMgPSBkYXRhLmZlbi5zcGxpdCgnICcpO1xuICAgIGNvbnN0IGNvbG9yID0gcGFydHNbMV07XG4gICAgY29uc3QgZnVsbG1vdmUgPSBwYXJzZUludChwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSk7XG4gICAgY29uc3QgcGx5ID0gKGZ1bGxtb3ZlIC0xKSAqIDIgKyAoKGNvbG9yID09PSBcImJcIikgPyAxIDogMCk7XG4gICAgY29uc3QgZmVuID0gcGFydHMuam9pbignXycpLnJlcGxhY2UoL1xcKy9nLCAnLicpO1xuXG4gICAgbGV0IGdhbWVVcmw7XG4gICAgaWYgKGRhdGEuZ2FtZUlkKSB7XG4gICAgICAgIGdhbWVVcmwgPSBgJHtkYXRhLnB5Y2hlc3NVUkx9LyR7ZGF0YS5nYW1lSWR9P3BseT0ke3BseX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdhbWVVcmwgPSBgJHtkYXRhLnB5Y2hlc3NVUkx9L2FuYWx5c2lzLyR7ZGF0YS52YXJpYW50fT9mZW49JHtmZW59YDtcbiAgICB9XG5cbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCBgL3B1enpsZS8ke2RhdGEuX2lkfWApO1xuXG4gICAgcmV0dXJuIGgoJ21haW4nLCBbXG4gICAgICAgIGgoJ3NlY3Rpb24udG9wLWNvbnRyb2xzJywgW1xuICAgICAgICAgICAgaCgnZm9ybS52YXJpYW50JywgeyBwcm9wczoge21ldGhvZDogXCJwb3N0XCIsIGFjdGlvbjogJy92YXJpYW50J30gfSwgW1xuICAgICAgICAgICAgICAgIGgoJ3NlbGVjdCN2YXJpYW50JyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGgoJ2Zvcm0uYWxsJywgeyBwcm9wczoge21ldGhvZDogXCJwb3N0XCIsIGFjdGlvbjogJy9hbGwnfSB9LCBbXG4gICAgICAgICAgICAgICAgaCgnbGFiZWwnLCB7IGF0dHJzOiB7IGZvcjogJ2FsbCcgfSB9LCAnQWxsJyksXG4gICAgICAgICAgICAgICAgaCgnaW5wdXQjYWxsJyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGgoJ3NwYW4ud3JhcHBlcicsIFtcbiAgICAgICAgICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiAncHV6emxlZmlsZScgfSB9LCAnVXBsb2FkIHB1enpsZSBmaWxlOiAnKSxcbiAgICAgICAgICAgICAgICBoKCdpbnB1dCNwdXp6bGVmaWxlJyksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGgoJ2RpdiN1c2VybmFtZScsIGRhdGEudXNlcm5hbWUpLFxuICAgICAgICAgICAgaCgnYScsIHsgYXR0cnM6IHtocmVmOiAnL2xvZ291dCd9IH0sICdMb2cgb3V0JyksXG4gICAgICAgIF0pLFxuICAgICAgICBoKCdkaXYucHV6emxlJywgW1xuICAgICAgICAgICAgaCgnZGl2LnBvY2tldC10b3AnLCBbXG4gICAgICAgICAgICAgICAgaCgnZGl2LicgKyB2YXJpYW50LnBpZWNlRmFtaWx5ICsgJy4nICsgZGF0YS52YXJpYW50LCBbXG4gICAgICAgICAgICAgICAgICAgIGgoJ2Rpdi5jZy13cmFwLnBvY2tldCcsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGgoJ2RpdiNwb2NrZXQwJyksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBoKGBzZWxlY3Rpb24jbWFpbmJvYXJkLiR7dmFyaWFudC5ib2FyZEZhbWlseX0uJHt2YXJpYW50LnBpZWNlRmFtaWx5fS4ke3ZhcmlhbnQudWkuYm9hcmRNYXJrfWAsIFtcbiAgICAgICAgICAgICAgICBoKCdkaXYuY2ctd3JhcC4nICsgdmFyaWFudC5ib2FyZC5jZywgeyBob29rOiB7IGluc2VydDogKHZub2RlKSA9PiBydW5Hcm91bmQodm5vZGUsIGRhdGEpIH0gfSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGgoJ2Rpdi5wb2NrZXQtYm90JywgW1xuICAgICAgICAgICAgICAgIGgoJ2Rpdi4nICsgdmFyaWFudC5waWVjZUZhbWlseSArICcuJyArIGRhdGEudmFyaWFudCwgW1xuICAgICAgICAgICAgICAgICAgICBoKCdkaXYuY2ctd3JhcC5wb2NrZXQnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBoKCdkaXYjcG9ja2V0MScpLFxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgaCgnZGl2LnB1enpsZS11aScsIFtcbiAgICAgICAgICAgICAgICBoKCdkaXYucHV6emxlLWluZm8nLCBbXG4gICAgICAgICAgICAgICAgICAgIGgoJ3AucHV6emxlLWluZm8tdGl0bGUnLCBgQ2FuZGlkYXRlIGlkOiAke2RhdGEuX2lkfWApLFxuICAgICAgICAgICAgICAgICAgICBoKCdwJywgWydTaXRlOiAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgKCdzaXRlJyBpbiBkYXRhKSA/IGgoJ2EuYW5hbHlzZScsIHsgYXR0cnM6IHsgaHJlZjogYCR7ZGF0YS5zaXRlfWAsIHRhcmdldDogJ19ibGFuayd9IH0sIGAke2RhdGEuc2l0ZX1gKSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgaCgncCcsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdGcm9tIGdhbWU6ICcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoKCdhLmFuYWx5c2UnLCB7IGF0dHJzOiB7IGhyZWY6IGdhbWVVcmwsIHRhcmdldDogJ19ibGFuayd9IH0sICgnZ2FtZUlkJyBpbiBkYXRhKSA/IGAke2RhdGEuZ2FtZUlkfWAgOiAnYW5hbHlzaXMnKSxcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIGgoJ3AnLCBgVHlwZTogJHtkYXRhLnR5cGV9YCksXG4gICAgICAgICAgICAgICAgICAgIGgoJ3AnLCBgRXZhbDogJHtkYXRhLmV2YWx9YCksXG4gICAgICAgICAgICAgICAgICAgIGgoJ3Auc29sdXRpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgaCgncC5tb3ZlcycpLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGgoJ2Rpdi5wdXp6bGUtcmV2aWV3JywgW1xuICAgICAgICAgICAgICAgICAgICBoKCdidXR0b24ucmVqZWN0JyksXG4gICAgICAgICAgICAgICAgICAgIGgoJ2J1dHRvbi5hcHByb3ZlJyksXG4gICAgICAgICAgICAgICAgICAgIGgoJ2J1dHRvbi5hcHBlbmQnKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBoKCdkaXYucHV6emxlLXNraXAnKSxcbiAgICAgICAgICAgICAgICBoKCdkaXYucHV6emxlLWhlbHAnLCBbXG4gICAgICAgICAgICAgICAgICAgIGgoJ3AnLCBcIkRvZXMgdGhlIHB1enpsZSBmZWVsIGEgYml0IG9mZiwgY29tcHV0ZXItbGlrZSwgb3IgZnJ1c3RyYXRpbmc/IEp1c3QgcmVqZWN0IGl0LiBUb28gZGlmZmljdWx0IGFuZCB5b3UncmUgbm90IHN1cmUgaWYgaW50ZXJlc3Rpbmc/IFNraXAgaXQuIFVzZSBhcnJvdyBrZXlzIHRvIHJlcGxheSwgYmFja3NwYWNlL2VudGVyIHRvIHJldmlldywgYSB0byBhbmFseXNlLlwiKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXSlcbiAgICAgICAgXSksXG4gICAgICAgIGgoJ2Rpdi5yZXBsYXknLCBbXG4gICAgICAgICAgICBoKCdidXR0b24ucHJldicpLFxuICAgICAgICAgICAgaCgnYnV0dG9uLm5leHQnKSxcbiAgICAgICAgXSksXG4gICAgXSk7XG59XG4iLCAiaW1wb3J0IHsgU2VydmVyRGF0YSB9IGZyb20gJy4vcHV6emxlclR5cGVzJztcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnLi9kb2N1bWVudCc7XG5cbmltcG9ydCB2aWV3IGZyb20gJy4vcHV6emxlclZpZXcnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHV6emxlclN0YXJ0KGRhdGE6IFNlcnZlckRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpIGFzIEhUTUxFbGVtZW50O1xuICAgIHBhdGNoKGVsZW1lbnQsIHZpZXcoZGF0YSkpO1xufTtcblxud2luZG93LnB1enpsZXJTdGFydCA9IHB1enpsZXJTdGFydDtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQXNCQSxPQUFDLFNBQVNBLFNBQVFDLFdBQVVDLFlBQVc7QUFHbkMsWUFBSSxDQUFDRixTQUFRO0FBQ1Q7QUFBQSxRQUNKO0FBV0EsWUFBSSxPQUFPO0FBQUEsVUFDUCxHQUFHO0FBQUEsVUFDSCxHQUFHO0FBQUEsVUFDSCxJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixJQUFJO0FBQUEsVUFDSixLQUFLO0FBQUEsUUFDVDtBQVVBLFlBQUksZUFBZTtBQUFBLFVBQ2YsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBTTtBQUFBLFVBQ04sS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFBLFVBQ0wsS0FBSztBQUFB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QVMsUUFBTyxHQUFFLFFBQU8sRUFBQyxRQUFPLE1BQU0sV0FBVyxPQUFNLEVBQUMsR0FBRSxNQUFLLEVBQUMsTUFBSyxFQUFDLFNBQVEsTUFBTSxTQUFTLFNBQVEsU0FBUSxNQUFNLFNBQVMsUUFBTyxHQUFFLFFBQU8sRUFBQyxRQUFPLE1BQU0sV0FBVyxRQUFPLE1BQUssTUFBTSxXQUFXLE1BQUssT0FBTSxNQUFNLFdBQVcsT0FBTSxVQUFTLE1BQU0sV0FBVyxVQUFTLE1BQUssTUFBTSxXQUFXLE1BQUssT0FBTSxNQUFNLFdBQVcsTUFBSyxFQUFDLEdBQUUsTUFBSyxFQUFDLE1BQUssRUFBQyxTQUFRLE1BQU0sU0FBUyxTQUFRLFNBQVEsTUFBTSxTQUFTLFNBQVEsVUFBUyxNQUFNLFNBQVMsU0FBUSxHQUFFLFFBQU8sQ0FBQyxFQUFDLEdBQUUsUUFBTyxFQUFDLE1BQUssRUFBQyxTQUFRLE1BQU0sU0FBUyxTQUFRLFNBQVEsTUFBTSxTQUFTLFFBQU8sR0FBRSxRQUFPLEdBQUcsa0JBQWlCLEVBQUM7QUFBQSxRQUFDO0FBQUMsWUFBSSxPQUFLLEdBQUcsV0FBVyxRQUFPLE1BQUssTUFBSyxHQUFHO0FBQUUsWUFBRyxHQUFHLE1BQU0sS0FBSyxJQUFJLEdBQUU7QUFBQyxlQUFLLFdBQVMsTUFBTSxVQUFVLElBQUk7QUFBSyxlQUFLLGFBQVcsTUFBTSxVQUFVLElBQUk7QUFBTyxlQUFLLFdBQVMsQ0FBQztBQUFBLFFBQUMsV0FBUyxHQUFHLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxlQUFLLFdBQVMsTUFBTSxVQUFVLEtBQUs7QUFBSyxlQUFLLGFBQVcsTUFBTSxVQUFVLEtBQUs7QUFBTyxlQUFLLFlBQVU7QUFBRSxlQUFLLFdBQVM7QUFBQSxRQUFJLFdBQVMsR0FBRyxPQUFPLEtBQUssSUFBSSxHQUFFO0FBQUMsZUFBSyxXQUFTLE1BQU0sVUFBVSxLQUFLO0FBQUssZUFBSyxhQUFXLE1BQU0sVUFBVSxLQUFLO0FBQUEsUUFBTSxXQUFTLEdBQUcsU0FBUyxLQUFLLElBQUksR0FBRTtBQUFDLGVBQUssV0FBUyxNQUFNLFVBQVUsT0FBTztBQUFLLGVBQUssYUFBVyxNQUFNLFVBQVUsT0FBTztBQUFBLFFBQU07QUFBQyxhQUFLLFlBQVUsS0FBSyxJQUFJO0FBQUUsWUFBRyxRQUFPO0FBQUMsaUJBQU8sU0FBUyxJQUFJLElBQUU7QUFBSyxpQkFBTyxZQUFVLEtBQUs7QUFBQSxRQUFTO0FBQUMsZUFBTztBQUFBLE1BQUksR0FBRSx5QkFBd0IsU0FBUyxNQUFLO0FBQUMsWUFBRyxDQUFDLEtBQUs7QUFBUyxpQkFBTyxJQUFJLFdBQVcsQ0FBQztBQUFFLFlBQUcsS0FBSyxTQUFTO0FBQVMsaUJBQU8sS0FBSyxTQUFTLFNBQVMsR0FBRSxLQUFLLFNBQVM7QUFBRSxlQUFPLElBQUksV0FBVyxLQUFLLFFBQVE7QUFBQSxNQUFDLEdBQUUsbUJBQWtCLFNBQVMsTUFBSyxhQUFZO0FBQUMsWUFBSSxlQUFhLEtBQUssV0FBUyxLQUFLLFNBQVMsU0FBTztBQUFFLFlBQUcsZ0JBQWM7QUFBWTtBQUFPLFlBQUksd0JBQXNCLE9BQUs7QUFBSyxzQkFBWSxLQUFLLElBQUksYUFBWSxnQkFBYyxlQUFhLHdCQUFzQixJQUFFLFdBQVMsQ0FBQztBQUFFLFlBQUcsZ0JBQWM7QUFBRSx3QkFBWSxLQUFLLElBQUksYUFBWSxHQUFHO0FBQUUsWUFBSSxjQUFZLEtBQUs7QUFBUyxhQUFLLFdBQVMsSUFBSSxXQUFXLFdBQVc7QUFBRSxZQUFHLEtBQUssWUFBVTtBQUFFLGVBQUssU0FBUyxJQUFJLFlBQVksU0FBUyxHQUFFLEtBQUssU0FBUyxHQUFFLENBQUM7QUFBQSxNQUFDLEdBQUUsbUJBQWtCLFNBQVMsTUFBSyxTQUFRO0FBQUMsWUFBRyxLQUFLLGFBQVc7QUFBUTtBQUFPLFlBQUcsV0FBUyxHQUFFO0FBQUMsZUFBSyxXQUFTO0FBQUssZUFBSyxZQUFVO0FBQUEsUUFBQyxPQUFLO0FBQUMsY0FBSSxjQUFZLEtBQUs7QUFBUyxlQUFLLFdBQVMsSUFBSSxXQUFXLE9BQU87QUFBRSxjQUFHLGFBQVk7QUFBQyxpQkFBSyxTQUFTLElBQUksWUFBWSxTQUFTLEdBQUUsS0FBSyxJQUFJLFNBQVEsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUFBLFVBQUM7QUFBQyxlQUFLLFlBQVU7QUFBQSxRQUFPO0FBQUEsTUFBQyxHQUFFLFVBQVMsRUFBQyxTQUFRLFNBQVMsTUFBSztBQUFDLFlBQUksT0FBSyxDQUFDO0FBQUUsYUFBSyxNQUFJLEdBQUcsU0FBUyxLQUFLLElBQUksSUFBRSxLQUFLLEtBQUc7QUFBRSxhQUFLLE1BQUksS0FBSztBQUFHLGFBQUssT0FBSyxLQUFLO0FBQUssYUFBSyxRQUFNO0FBQUUsYUFBSyxNQUFJO0FBQUUsYUFBSyxNQUFJO0FBQUUsYUFBSyxPQUFLLEtBQUs7QUFBSyxZQUFHLEdBQUcsTUFBTSxLQUFLLElBQUksR0FBRTtBQUFDLGVBQUssT0FBSztBQUFBLFFBQUksV0FBUyxHQUFHLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxlQUFLLE9BQUssS0FBSztBQUFBLFFBQVMsV0FBUyxHQUFHLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxlQUFLLE9BQUssS0FBSyxLQUFLO0FBQUEsUUFBTSxPQUFLO0FBQUMsZUFBSyxPQUFLO0FBQUEsUUFBQztBQUFDLGFBQUssUUFBTSxJQUFJLEtBQUssS0FBSyxTQUFTO0FBQUUsYUFBSyxRQUFNLElBQUksS0FBSyxLQUFLLFNBQVM7QUFBRSxhQUFLLFFBQU0sSUFBSSxLQUFLLEtBQUssU0FBUztBQUFFLGFBQUssVUFBUTtBQUFLLGFBQUssU0FBTyxLQUFLLEtBQUssS0FBSyxPQUFLLEtBQUssT0FBTztBQUFFLGVBQU87QUFBQSxNQUFJLEdBQUUsU0FBUSxTQUFTLE1BQUssTUFBSztBQUFDLFlBQUcsS0FBSyxTQUFPLFFBQVU7QUFBQyxlQUFLLE9BQUssS0FBSztBQUFBLFFBQUk7QUFBQyxZQUFHLEtBQUssY0FBWSxRQUFVO0FBQUMsZUFBSyxZQUFVLEtBQUs7QUFBQSxRQUFTO0FBQUMsWUFBRyxLQUFLLFNBQU8sUUFBVTtBQUFDLGdCQUFNLGtCQUFrQixNQUFLLEtBQUssSUFBSTtBQUFBLFFBQUM7QUFBQSxNQUFDLEdBQUUsUUFBTyxTQUFTLFFBQU8sTUFBSztBQUFDLGNBQU0sR0FBRyxjQUFjLEVBQUU7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLFFBQU8sTUFBSyxNQUFLLEtBQUk7QUFBQyxlQUFPLE1BQU0sV0FBVyxRQUFPLE1BQUssTUFBSyxHQUFHO0FBQUEsTUFBQyxHQUFFLFFBQU8sU0FBUyxVQUFTLFNBQVEsVUFBUztBQUFDLFlBQUcsR0FBRyxNQUFNLFNBQVMsSUFBSSxHQUFFO0FBQUMsY0FBSTtBQUFTLGNBQUc7QUFBQyx1QkFBUyxHQUFHLFdBQVcsU0FBUSxRQUFRO0FBQUEsVUFBQyxTQUFPLEdBQU47QUFBQSxVQUFTO0FBQUMsY0FBRyxVQUFTO0FBQUMscUJBQVEsS0FBSyxTQUFTLFVBQVM7QUFBQyxvQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsWUFBQztBQUFBLFVBQUM7QUFBQSxRQUFDO0FBQUMsZUFBTyxTQUFTLE9BQU8sU0FBUyxTQUFTLElBQUk7QUFBRSxpQkFBUyxPQUFPLFlBQVUsS0FBSyxJQUFJO0FBQUUsaUJBQVMsT0FBSztBQUFTLGdCQUFRLFNBQVMsUUFBUSxJQUFFO0FBQVMsZ0JBQVEsWUFBVSxTQUFTLE9BQU87QUFBVSxpQkFBUyxTQUFPO0FBQUEsTUFBTyxHQUFFLFFBQU8sU0FBUyxRQUFPLE1BQUs7QUFBQyxlQUFPLE9BQU8sU0FBUyxJQUFJO0FBQUUsZUFBTyxZQUFVLEtBQUssSUFBSTtBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsUUFBTyxNQUFLO0FBQUMsWUFBSSxPQUFLLEdBQUcsV0FBVyxRQUFPLElBQUk7QUFBRSxpQkFBUSxLQUFLLEtBQUssVUFBUztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsZUFBTyxPQUFPLFNBQVMsSUFBSTtBQUFFLGVBQU8sWUFBVSxLQUFLLElBQUk7QUFBQSxNQUFDLEdBQUUsU0FBUSxTQUFTLE1BQUs7QUFBQyxZQUFJLFVBQVEsQ0FBQyxLQUFJLElBQUk7QUFBRSxpQkFBUUssUUFBTyxLQUFLLFVBQVM7QUFBQyxjQUFHLENBQUMsS0FBSyxTQUFTLGVBQWVBLElBQUcsR0FBRTtBQUFDO0FBQUEsVUFBUTtBQUFDLGtCQUFRLEtBQUtBLElBQUc7QUFBQSxRQUFDO0FBQUMsZUFBTztBQUFBLE1BQU8sR0FBRSxTQUFRLFNBQVMsUUFBTyxTQUFRLFNBQVE7QUFBQyxZQUFJLE9BQUssTUFBTSxXQUFXLFFBQU8sU0FBUSxNQUFJLE9BQU0sQ0FBQztBQUFFLGFBQUssT0FBSztBQUFRLGVBQU87QUFBQSxNQUFJLEdBQUUsVUFBUyxTQUFTLE1BQUs7QUFBQyxZQUFHLENBQUMsR0FBRyxPQUFPLEtBQUssSUFBSSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPLEtBQUs7QUFBQSxNQUFJLEVBQUMsR0FBRSxZQUFXLEVBQUMsTUFBSyxTQUFTLFFBQU9MLFNBQU8sUUFBTyxRQUFPLFVBQVM7QUFBQyxZQUFJLFdBQVMsT0FBTyxLQUFLO0FBQVMsWUFBRyxZQUFVLE9BQU8sS0FBSztBQUFVLGlCQUFPO0FBQUUsWUFBSSxPQUFLLEtBQUssSUFBSSxPQUFPLEtBQUssWUFBVSxVQUFTLE1BQU07QUFBRSxZQUFHLE9BQUssS0FBRyxTQUFTLFVBQVM7QUFBQyxVQUFBQSxRQUFPLElBQUksU0FBUyxTQUFTLFVBQVMsV0FBUyxJQUFJLEdBQUUsTUFBTTtBQUFBLFFBQUMsT0FBSztBQUFDLG1CQUFRLElBQUUsR0FBRSxJQUFFLE1BQUs7QUFBSSxZQUFBQSxRQUFPLFNBQU8sQ0FBQyxJQUFFLFNBQVMsV0FBUyxDQUFDO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFJLEdBQUUsT0FBTSxTQUFTLFFBQU9BLFNBQU8sUUFBTyxRQUFPLFVBQVMsUUFBTztBQUFDLFlBQUdBLFFBQU8sV0FBUyxNQUFNLFFBQU87QUFBQyxtQkFBTztBQUFBLFFBQUs7QUFBQyxZQUFHLENBQUM7QUFBTyxpQkFBTztBQUFFLFlBQUksT0FBSyxPQUFPO0FBQUssYUFBSyxZQUFVLEtBQUssSUFBSTtBQUFFLFlBQUdBLFFBQU8sYUFBVyxDQUFDLEtBQUssWUFBVSxLQUFLLFNBQVMsV0FBVTtBQUFDLGNBQUcsUUFBTztBQUFDLGlCQUFLLFdBQVNBLFFBQU8sU0FBUyxRQUFPLFNBQU8sTUFBTTtBQUFFLGlCQUFLLFlBQVU7QUFBTyxtQkFBTztBQUFBLFVBQU0sV0FBUyxLQUFLLGNBQVksS0FBRyxhQUFXLEdBQUU7QUFBQyxpQkFBSyxXQUFTQSxRQUFPLE1BQU0sUUFBTyxTQUFPLE1BQU07QUFBRSxpQkFBSyxZQUFVO0FBQU8sbUJBQU87QUFBQSxVQUFNLFdBQVMsV0FBUyxVQUFRLEtBQUssV0FBVTtBQUFDLGlCQUFLLFNBQVMsSUFBSUEsUUFBTyxTQUFTLFFBQU8sU0FBTyxNQUFNLEdBQUUsUUFBUTtBQUFFLG1CQUFPO0FBQUEsVUFBTTtBQUFBLFFBQUM7QUFBQyxjQUFNLGtCQUFrQixNQUFLLFdBQVMsTUFBTTtBQUFFLFlBQUcsS0FBSyxTQUFTLFlBQVVBLFFBQU8sVUFBUztBQUFDLGVBQUssU0FBUyxJQUFJQSxRQUFPLFNBQVMsUUFBTyxTQUFPLE1BQU0sR0FBRSxRQUFRO0FBQUEsUUFBQyxPQUFLO0FBQUMsbUJBQVEsSUFBRSxHQUFFLElBQUUsUUFBTyxLQUFJO0FBQUMsaUJBQUssU0FBUyxXQUFTLENBQUMsSUFBRUEsUUFBTyxTQUFPLENBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLGFBQUssWUFBVSxLQUFLLElBQUksS0FBSyxXQUFVLFdBQVMsTUFBTTtBQUFFLGVBQU87QUFBQSxNQUFNLEdBQUUsUUFBTyxTQUFTLFFBQU8sUUFBTyxRQUFPO0FBQUMsWUFBSSxXQUFTO0FBQU8sWUFBRyxXQUFTLEdBQUU7QUFBQyxzQkFBVSxPQUFPO0FBQUEsUUFBUSxXQUFTLFdBQVMsR0FBRTtBQUFDLGNBQUcsR0FBRyxPQUFPLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyx3QkFBVSxPQUFPLEtBQUs7QUFBQSxVQUFTO0FBQUEsUUFBQztBQUFDLFlBQUcsV0FBUyxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPO0FBQUEsTUFBUSxHQUFFLFVBQVMsU0FBUyxRQUFPLFFBQU8sUUFBTztBQUFDLGNBQU0sa0JBQWtCLE9BQU8sTUFBSyxTQUFPLE1BQU07QUFBRSxlQUFPLEtBQUssWUFBVSxLQUFLLElBQUksT0FBTyxLQUFLLFdBQVUsU0FBTyxNQUFNO0FBQUEsTUFBQyxHQUFFLE1BQUssU0FBUyxRQUFPLFNBQVEsUUFBTyxVQUFTLE1BQUssT0FBTTtBQUFDLFlBQUcsWUFBVSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsR0FBRyxPQUFPLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUk7QUFBSSxZQUFJO0FBQVUsWUFBSSxXQUFTLE9BQU8sS0FBSztBQUFTLFlBQUcsRUFBRSxRQUFNLE1BQUksU0FBUyxXQUFTLFFBQU87QUFBQyxzQkFBVTtBQUFNLGdCQUFJLFNBQVM7QUFBQSxRQUFVLE9BQUs7QUFBQyxjQUFHLFdBQVMsS0FBRyxXQUFTLFNBQU8sU0FBUyxRQUFPO0FBQUMsZ0JBQUcsU0FBUyxVQUFTO0FBQUMseUJBQVMsU0FBUyxTQUFTLFVBQVMsV0FBUyxNQUFNO0FBQUEsWUFBQyxPQUFLO0FBQUMseUJBQVMsTUFBTSxVQUFVLE1BQU0sS0FBSyxVQUFTLFVBQVMsV0FBUyxNQUFNO0FBQUEsWUFBQztBQUFBLFVBQUM7QUFBQyxzQkFBVTtBQUFLLGdCQUFJLFVBQVUsTUFBTTtBQUFFLGNBQUcsQ0FBQyxLQUFJO0FBQUMsa0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFVBQUM7QUFBQyxnQkFBTSxJQUFJLFVBQVMsR0FBRztBQUFBLFFBQUM7QUFBQyxlQUFNLEVBQUMsS0FBUSxVQUFtQjtBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsUUFBT0EsU0FBTyxRQUFPLFFBQU8sV0FBVTtBQUFDLFlBQUcsQ0FBQyxHQUFHLE9BQU8sT0FBTyxLQUFLLElBQUksR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxZQUFVLEdBQUU7QUFBQyxpQkFBTztBQUFBLFFBQUM7QUFBQyxZQUFJLGVBQWEsTUFBTSxXQUFXLE1BQU0sUUFBT0EsU0FBTyxHQUFFLFFBQU8sUUFBTyxLQUFLO0FBQUUsZUFBTztBQUFBLE1BQUMsRUFBQyxFQUFDO0FBQUUsZUFBUyxVQUFVLEtBQUksUUFBTyxTQUFRLFVBQVM7QUFBQyxZQUFJLE1BQUksQ0FBQyxXQUFTLHVCQUF1QixRQUFNLEdBQUcsSUFBRTtBQUFHLGtCQUFVLEtBQUksU0FBUyxhQUFZO0FBQUMsaUJBQU8sYUFBWSx3QkFBc0IsTUFBSSw0QkFBNEI7QUFBRSxpQkFBTyxJQUFJLFdBQVcsV0FBVyxDQUFDO0FBQUUsY0FBRztBQUFJLGdDQUFvQixHQUFHO0FBQUEsUUFBQyxHQUFFLFNBQVMsT0FBTTtBQUFDLGNBQUcsU0FBUTtBQUFDLG9CQUFRO0FBQUEsVUFBQyxPQUFLO0FBQUMsa0JBQUssd0JBQXNCLE1BQUk7QUFBQSxVQUFXO0FBQUEsUUFBQyxDQUFDO0FBQUUsWUFBRztBQUFJLDJCQUFpQixHQUFHO0FBQUEsTUFBQztBQUFDLFVBQUksS0FBRyxFQUFDLE1BQUssTUFBSyxRQUFPLENBQUMsR0FBRSxTQUFRLENBQUMsR0FBRSxTQUFRLENBQUMsR0FBRSxXQUFVLEdBQUUsV0FBVSxNQUFLLGFBQVksS0FBSSxhQUFZLE9BQU0sbUJBQWtCLE1BQUssWUFBVyxNQUFLLGVBQWMsQ0FBQyxHQUFFLGFBQVksTUFBSyxnQkFBZSxHQUFFLFlBQVcsU0FBUyxNQUFLLE1BQUs7QUFBQyxlQUFLLFFBQVEsUUFBUSxHQUFHLElBQUksR0FBRSxJQUFJO0FBQUUsZUFBSyxRQUFNLENBQUM7QUFBRSxZQUFHLENBQUM7QUFBSyxpQkFBTSxFQUFDLE1BQUssSUFBRyxNQUFLLEtBQUk7QUFBRSxZQUFJTSxZQUFTLEVBQUMsY0FBYSxNQUFLLGVBQWMsRUFBQztBQUFFLGlCQUFRRCxRQUFPQyxXQUFTO0FBQUMsY0FBRyxLQUFLRCxJQUFHLE1BQUksUUFBVTtBQUFDLGlCQUFLQSxJQUFHLElBQUVDLFVBQVNELElBQUc7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsS0FBSyxnQkFBYyxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFJLFFBQU0sS0FBSyxlQUFlLEtBQUssTUFBTSxHQUFHLEVBQUUsT0FBTyxTQUFTLEdBQUU7QUFBQyxpQkFBTSxDQUFDLENBQUM7QUFBQSxRQUFDLENBQUMsR0FBRSxLQUFLO0FBQUUsWUFBSSxVQUFRLEdBQUc7QUFBSyxZQUFJLGVBQWE7QUFBSSxpQkFBUSxJQUFFLEdBQUUsSUFBRSxNQUFNLFFBQU8sS0FBSTtBQUFDLGNBQUksU0FBTyxNQUFJLE1BQU0sU0FBTztBQUFFLGNBQUcsVUFBUSxLQUFLLFFBQU87QUFBQztBQUFBLFVBQUs7QUFBQyxvQkFBUSxHQUFHLFdBQVcsU0FBUSxNQUFNLENBQUMsQ0FBQztBQUFFLHlCQUFhLEtBQUssTUFBTSxjQUFhLE1BQU0sQ0FBQyxDQUFDO0FBQUUsY0FBRyxHQUFHLGFBQWEsT0FBTyxHQUFFO0FBQUMsZ0JBQUcsQ0FBQyxVQUFRLFVBQVEsS0FBSyxjQUFhO0FBQUMsd0JBQVEsUUFBUSxRQUFRO0FBQUEsWUFBSTtBQUFBLFVBQUM7QUFBQyxjQUFHLENBQUMsVUFBUSxLQUFLLFFBQU87QUFBQyxnQkFBSSxRQUFNO0FBQUUsbUJBQU0sR0FBRyxPQUFPLFFBQVEsSUFBSSxHQUFFO0FBQUMsa0JBQUksT0FBSyxHQUFHLFNBQVMsWUFBWTtBQUFFLDZCQUFhLFFBQVEsUUFBUSxLQUFLLFFBQVEsWUFBWSxHQUFFLElBQUk7QUFBRSxrQkFBSSxTQUFPLEdBQUcsV0FBVyxjQUFhLEVBQUMsZUFBYyxLQUFLLGNBQWEsQ0FBQztBQUFFLHdCQUFRLE9BQU87QUFBSyxrQkFBRyxVQUFRLElBQUc7QUFBQyxzQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsY0FBQztBQUFBLFlBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLGVBQU0sRUFBQyxNQUFLLGNBQWEsTUFBSyxRQUFPO0FBQUEsTUFBQyxHQUFFLFNBQVEsU0FBUyxNQUFLO0FBQUMsWUFBSTtBQUFLLGVBQU0sTUFBSztBQUFDLGNBQUcsR0FBRyxPQUFPLElBQUksR0FBRTtBQUFDLGdCQUFJLFFBQU0sS0FBSyxNQUFNO0FBQVcsZ0JBQUcsQ0FBQztBQUFLLHFCQUFPO0FBQU0sbUJBQU8sTUFBTSxNQUFNLFNBQU8sQ0FBQyxNQUFJLE1BQUksUUFBTSxNQUFJLE9BQUssUUFBTTtBQUFBLFVBQUk7QUFBQyxpQkFBSyxPQUFLLEtBQUssT0FBSyxNQUFJLE9BQUssS0FBSztBQUFLLGlCQUFLLEtBQUs7QUFBQSxRQUFNO0FBQUEsTUFBQyxHQUFFLFVBQVMsU0FBUyxVQUFTLE1BQUs7QUFBQyxZQUFJRSxRQUFLO0FBQUUsaUJBQVEsSUFBRSxHQUFFLElBQUUsS0FBSyxRQUFPLEtBQUk7QUFBQyxVQUFBQSxTQUFNQSxTQUFNLEtBQUdBLFFBQUssS0FBSyxXQUFXLENBQUMsSUFBRTtBQUFBLFFBQUM7QUFBQyxnQkFBTyxXQUFTQSxVQUFPLEtBQUcsR0FBRyxVQUFVO0FBQUEsTUFBTSxHQUFFLGFBQVksU0FBUyxNQUFLO0FBQUMsWUFBSUEsUUFBSyxHQUFHLFNBQVMsS0FBSyxPQUFPLElBQUcsS0FBSyxJQUFJO0FBQUUsYUFBSyxZQUFVLEdBQUcsVUFBVUEsS0FBSTtBQUFFLFdBQUcsVUFBVUEsS0FBSSxJQUFFO0FBQUEsTUFBSSxHQUFFLGdCQUFlLFNBQVMsTUFBSztBQUFDLFlBQUlBLFFBQUssR0FBRyxTQUFTLEtBQUssT0FBTyxJQUFHLEtBQUssSUFBSTtBQUFFLFlBQUcsR0FBRyxVQUFVQSxLQUFJLE1BQUksTUFBSztBQUFDLGFBQUcsVUFBVUEsS0FBSSxJQUFFLEtBQUs7QUFBQSxRQUFTLE9BQUs7QUFBQyxjQUFJLFVBQVEsR0FBRyxVQUFVQSxLQUFJO0FBQUUsaUJBQU0sU0FBUTtBQUFDLGdCQUFHLFFBQVEsY0FBWSxNQUFLO0FBQUMsc0JBQVEsWUFBVSxLQUFLO0FBQVU7QUFBQSxZQUFLO0FBQUMsc0JBQVEsUUFBUTtBQUFBLFVBQVM7QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLFlBQVcsU0FBUyxRQUFPLE1BQUs7QUFBQyxZQUFJLFVBQVEsR0FBRyxVQUFVLE1BQU07QUFBRSxZQUFHLFNBQVE7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxTQUFRLE1BQU07QUFBQSxRQUFDO0FBQUMsWUFBSUEsUUFBSyxHQUFHLFNBQVMsT0FBTyxJQUFHLElBQUk7QUFBRSxpQkFBUSxPQUFLLEdBQUcsVUFBVUEsS0FBSSxHQUFFLE1BQUssT0FBSyxLQUFLLFdBQVU7QUFBQyxjQUFJLFdBQVMsS0FBSztBQUFLLGNBQUcsS0FBSyxPQUFPLE9BQUssT0FBTyxNQUFJLGFBQVcsTUFBSztBQUFDLG1CQUFPO0FBQUEsVUFBSTtBQUFBLFFBQUM7QUFBQyxlQUFPLEdBQUcsT0FBTyxRQUFPLElBQUk7QUFBQSxNQUFDLEdBQUUsWUFBVyxTQUFTLFFBQU8sTUFBSyxNQUFLLE1BQUs7QUFBQyxZQUFJLE9BQUssSUFBSSxHQUFHLE9BQU8sUUFBTyxNQUFLLE1BQUssSUFBSTtBQUFFLFdBQUcsWUFBWSxJQUFJO0FBQUUsZUFBTztBQUFBLE1BQUksR0FBRSxhQUFZLFNBQVMsTUFBSztBQUFDLFdBQUcsZUFBZSxJQUFJO0FBQUEsTUFBQyxHQUFFLFFBQU8sU0FBUyxNQUFLO0FBQUMsZUFBTyxTQUFPLEtBQUs7QUFBQSxNQUFNLEdBQUUsY0FBYSxTQUFTLE1BQUs7QUFBQyxlQUFNLENBQUMsQ0FBQyxLQUFLO0FBQUEsTUFBTyxHQUFFLFFBQU8sU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSyxHQUFFLE9BQU0sU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSyxHQUFFLFFBQU8sU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSyxHQUFFLFVBQVMsU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSSxHQUFFLFVBQVMsU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSyxHQUFFLFFBQU8sU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSSxHQUFFLFVBQVMsU0FBUyxNQUFLO0FBQUMsZ0JBQU8sT0FBSyxXQUFTO0FBQUEsTUFBSyxHQUFFLFdBQVUsRUFBQyxLQUFJLEdBQUUsTUFBSyxHQUFFLEtBQUksS0FBSSxNQUFLLEtBQUksS0FBSSxNQUFLLE1BQUssS0FBSSxHQUFFLG1CQUFrQixTQUFTLEtBQUk7QUFBQyxZQUFJLFFBQU0sR0FBRyxVQUFVLEdBQUc7QUFBRSxZQUFHLE9BQU8sVUFBUSxhQUFZO0FBQUMsZ0JBQU0sSUFBSSxNQUFNLDZCQUEyQixHQUFHO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFLLEdBQUUseUJBQXdCLFNBQVMsTUFBSztBQUFDLFlBQUksUUFBTSxDQUFDLEtBQUksS0FBSSxJQUFJLEVBQUUsT0FBSyxDQUFDO0FBQUUsWUFBRyxPQUFLLEtBQUk7QUFBQyxtQkFBTztBQUFBLFFBQUc7QUFBQyxlQUFPO0FBQUEsTUFBSyxHQUFFLGlCQUFnQixTQUFTLE1BQUssT0FBTTtBQUFDLFlBQUcsR0FBRyxtQkFBa0I7QUFBQyxpQkFBTztBQUFBLFFBQUM7QUFBQyxZQUFHLE1BQU0sU0FBUyxHQUFHLEtBQUcsRUFBRSxLQUFLLE9BQUssTUFBSztBQUFDLGlCQUFPO0FBQUEsUUFBQyxXQUFTLE1BQU0sU0FBUyxHQUFHLEtBQUcsRUFBRSxLQUFLLE9BQUssTUFBSztBQUFDLGlCQUFPO0FBQUEsUUFBQyxXQUFTLE1BQU0sU0FBUyxHQUFHLEtBQUcsRUFBRSxLQUFLLE9BQUssS0FBSTtBQUFDLGlCQUFPO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFDLEdBQUUsV0FBVSxTQUFTLEtBQUk7QUFBQyxZQUFJLFVBQVEsR0FBRyxnQkFBZ0IsS0FBSSxHQUFHO0FBQUUsWUFBRztBQUFRLGlCQUFPO0FBQVEsWUFBRyxDQUFDLElBQUksU0FBUztBQUFPLGlCQUFPO0FBQUUsZUFBTztBQUFBLE1BQUMsR0FBRSxXQUFVLFNBQVMsS0FBSSxNQUFLO0FBQUMsWUFBRztBQUFDLGNBQUksT0FBSyxHQUFHLFdBQVcsS0FBSSxJQUFJO0FBQUUsaUJBQU87QUFBQSxRQUFFLFNBQU8sR0FBTjtBQUFBLFFBQVM7QUFBQyxlQUFPLEdBQUcsZ0JBQWdCLEtBQUksSUFBSTtBQUFBLE1BQUMsR0FBRSxXQUFVLFNBQVMsS0FBSSxNQUFLLE9BQU07QUFBQyxZQUFJO0FBQUssWUFBRztBQUFDLGlCQUFLLEdBQUcsV0FBVyxLQUFJLElBQUk7QUFBQSxRQUFDLFNBQU8sR0FBTjtBQUFTLGlCQUFPLEVBQUU7QUFBQSxRQUFLO0FBQUMsWUFBSSxVQUFRLEdBQUcsZ0JBQWdCLEtBQUksSUFBSTtBQUFFLFlBQUcsU0FBUTtBQUFDLGlCQUFPO0FBQUEsUUFBTztBQUFDLFlBQUcsT0FBTTtBQUFDLGNBQUcsQ0FBQyxHQUFHLE1BQU0sS0FBSyxJQUFJLEdBQUU7QUFBQyxtQkFBTztBQUFBLFVBQUU7QUFBQyxjQUFHLEdBQUcsT0FBTyxJQUFJLEtBQUcsR0FBRyxRQUFRLElBQUksTUFBSSxHQUFHLElBQUksR0FBRTtBQUFDLG1CQUFPO0FBQUEsVUFBRTtBQUFBLFFBQUMsT0FBSztBQUFDLGNBQUcsR0FBRyxNQUFNLEtBQUssSUFBSSxHQUFFO0FBQUMsbUJBQU87QUFBQSxVQUFFO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFDLEdBQUUsU0FBUSxTQUFTLE1BQUssT0FBTTtBQUFDLFlBQUcsQ0FBQyxNQUFLO0FBQUMsaUJBQU87QUFBQSxRQUFFO0FBQUMsWUFBRyxHQUFHLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxpQkFBTztBQUFBLFFBQUUsV0FBUyxHQUFHLE1BQU0sS0FBSyxJQUFJLEdBQUU7QUFBQyxjQUFHLEdBQUcsd0JBQXdCLEtBQUssTUFBSSxPQUFLLFFBQU0sS0FBSTtBQUFDLG1CQUFPO0FBQUEsVUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPLEdBQUcsZ0JBQWdCLE1BQUssR0FBRyx3QkFBd0IsS0FBSyxDQUFDO0FBQUEsTUFBQyxHQUFFLGNBQWEsTUFBSyxRQUFPLFNBQVMsVUFBUyxRQUFPO0FBQUMsbUJBQVMsWUFBVTtBQUFFLGlCQUFPLFVBQVEsR0FBRztBQUFhLGlCQUFRLEtBQUcsVUFBUyxNQUFJLFFBQU8sTUFBSztBQUFDLGNBQUcsQ0FBQyxHQUFHLFFBQVEsRUFBRSxHQUFFO0FBQUMsbUJBQU87QUFBQSxVQUFFO0FBQUEsUUFBQztBQUFDLGNBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLE1BQUMsR0FBRSxXQUFVLFNBQVMsSUFBRztBQUFDLGVBQU8sR0FBRyxRQUFRLEVBQUU7QUFBQSxNQUFDLEdBQUUsY0FBYSxTQUFTLFFBQU8sVUFBUyxRQUFPO0FBQUMsWUFBRyxDQUFDLEdBQUcsVUFBUztBQUFDLGFBQUcsV0FBUyxXQUFVO0FBQUEsVUFBQztBQUFFLGFBQUcsU0FBUyxZQUFVLEVBQUMsUUFBTyxFQUFDLEtBQUksV0FBVTtBQUFDLG1CQUFPLEtBQUs7QUFBQSxVQUFJLEdBQUUsS0FBSSxTQUFTLEtBQUk7QUFBQyxpQkFBSyxPQUFLO0FBQUEsVUFBRyxFQUFDLEdBQUUsUUFBTyxFQUFDLEtBQUksV0FBVTtBQUFDLG9CQUFPLEtBQUssUUFBTSxhQUFXO0FBQUEsVUFBQyxFQUFDLEdBQUUsU0FBUSxFQUFDLEtBQUksV0FBVTtBQUFDLG9CQUFPLEtBQUssUUFBTSxhQUFXO0FBQUEsVUFBQyxFQUFDLEdBQUUsVUFBUyxFQUFDLEtBQUksV0FBVTtBQUFDLG1CQUFPLEtBQUssUUFBTTtBQUFBLFVBQUksRUFBQyxFQUFDO0FBQUEsUUFBQztBQUFDLFlBQUksWUFBVSxJQUFJLEdBQUc7QUFBUyxpQkFBUSxLQUFLLFFBQU87QUFBQyxvQkFBVSxDQUFDLElBQUUsT0FBTyxDQUFDO0FBQUEsUUFBQztBQUFDLGlCQUFPO0FBQVUsWUFBSSxLQUFHLEdBQUcsT0FBTyxVQUFTLE1BQU07QUFBRSxlQUFPLEtBQUc7QUFBRyxXQUFHLFFBQVEsRUFBRSxJQUFFO0FBQU8sZUFBTztBQUFBLE1BQU0sR0FBRSxhQUFZLFNBQVMsSUFBRztBQUFDLFdBQUcsUUFBUSxFQUFFLElBQUU7QUFBQSxNQUFJLEdBQUUsbUJBQWtCLEVBQUMsTUFBSyxTQUFTLFFBQU87QUFBQyxZQUFJLFNBQU8sR0FBRyxVQUFVLE9BQU8sS0FBSyxJQUFJO0FBQUUsZUFBTyxhQUFXLE9BQU87QUFBVyxZQUFHLE9BQU8sV0FBVyxNQUFLO0FBQUMsaUJBQU8sV0FBVyxLQUFLLE1BQU07QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLFFBQU8sV0FBVTtBQUFDLGNBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLE1BQUMsRUFBQyxHQUFFLE9BQU0sU0FBUyxLQUFJO0FBQUMsZUFBTyxPQUFLO0FBQUEsTUFBQyxHQUFFLE9BQU0sU0FBUyxLQUFJO0FBQUMsZUFBTyxNQUFJO0FBQUEsTUFBRyxHQUFFLFNBQVEsU0FBUyxJQUFHLElBQUc7QUFBQyxlQUFPLE1BQUksSUFBRTtBQUFBLE1BQUUsR0FBRSxnQkFBZSxTQUFTLEtBQUksS0FBSTtBQUFDLFdBQUcsUUFBUSxHQUFHLElBQUUsRUFBQyxZQUFXLElBQUc7QUFBQSxNQUFDLEdBQUUsV0FBVSxTQUFTLEtBQUk7QUFBQyxlQUFPLEdBQUcsUUFBUSxHQUFHO0FBQUEsTUFBQyxHQUFFLFdBQVUsU0FBUyxPQUFNO0FBQUMsWUFBSSxTQUFPLENBQUM7QUFBRSxZQUFJLFFBQU0sQ0FBQyxLQUFLO0FBQUUsZUFBTSxNQUFNLFFBQU87QUFBQyxjQUFJLElBQUUsTUFBTSxJQUFJO0FBQUUsaUJBQU8sS0FBSyxDQUFDO0FBQUUsZ0JBQU0sS0FBSyxNQUFNLE9BQU0sRUFBRSxNQUFNO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFNLEdBQUUsUUFBTyxTQUFTLFVBQVMsVUFBUztBQUFDLFlBQUcsT0FBTyxhQUFXLFlBQVc7QUFBQyxxQkFBUztBQUFTLHFCQUFTO0FBQUEsUUFBSztBQUFDLFdBQUc7QUFBaUIsWUFBRyxHQUFHLGlCQUFlLEdBQUU7QUFBQyxjQUFJLGNBQVksR0FBRyxpQkFBZSx5RUFBeUU7QUFBQSxRQUFDO0FBQUMsWUFBSSxTQUFPLEdBQUcsVUFBVSxHQUFHLEtBQUssS0FBSztBQUFFLFlBQUksWUFBVTtBQUFFLGlCQUFTLFdBQVcsU0FBUTtBQUFDLGFBQUc7QUFBaUIsaUJBQU8sU0FBUyxPQUFPO0FBQUEsUUFBQztBQUFDLGlCQUFTLEtBQUssU0FBUTtBQUFDLGNBQUcsU0FBUTtBQUFDLGdCQUFHLENBQUMsS0FBSyxTQUFRO0FBQUMsbUJBQUssVUFBUTtBQUFLLHFCQUFPLFdBQVcsT0FBTztBQUFBLFlBQUM7QUFBQztBQUFBLFVBQU07QUFBQyxjQUFHLEVBQUUsYUFBVyxPQUFPLFFBQU87QUFBQyx1QkFBVyxJQUFJO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxlQUFPLFFBQVEsU0FBUyxPQUFNO0FBQUMsY0FBRyxDQUFDLE1BQU0sS0FBSyxRQUFPO0FBQUMsbUJBQU8sS0FBSyxJQUFJO0FBQUEsVUFBQztBQUFDLGdCQUFNLEtBQUssT0FBTyxPQUFNLFVBQVMsSUFBSTtBQUFBLFFBQUMsQ0FBQztBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsTUFBSyxNQUFLLFlBQVc7QUFBQyxZQUFJLE9BQUssZUFBYTtBQUFJLFlBQUksU0FBTyxDQUFDO0FBQVcsWUFBSTtBQUFLLFlBQUcsUUFBTSxHQUFHLE1BQUs7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQyxXQUFTLENBQUMsUUFBTSxDQUFDLFFBQU87QUFBQyxjQUFJLFNBQU8sR0FBRyxXQUFXLFlBQVcsRUFBQyxjQUFhLE1BQUssQ0FBQztBQUFFLHVCQUFXLE9BQU87QUFBSyxpQkFBSyxPQUFPO0FBQUssY0FBRyxHQUFHLGFBQWEsSUFBSSxHQUFFO0FBQUMsa0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFVBQUM7QUFBQyxjQUFHLENBQUMsR0FBRyxNQUFNLEtBQUssSUFBSSxHQUFFO0FBQUMsa0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFVBQUM7QUFBQSxRQUFDO0FBQUMsWUFBSSxRQUFNLEVBQUMsTUFBVSxNQUFVLFlBQXNCLFFBQU8sQ0FBQyxFQUFDO0FBQUUsWUFBSSxZQUFVLEtBQUssTUFBTSxLQUFLO0FBQUUsa0JBQVUsUUFBTTtBQUFNLGNBQU0sT0FBSztBQUFVLFlBQUcsTUFBSztBQUFDLGFBQUcsT0FBSztBQUFBLFFBQVMsV0FBUyxNQUFLO0FBQUMsZUFBSyxVQUFRO0FBQU0sY0FBRyxLQUFLLE9BQU07QUFBQyxpQkFBSyxNQUFNLE9BQU8sS0FBSyxLQUFLO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxlQUFPO0FBQUEsTUFBUyxHQUFFLFNBQVEsU0FBUyxZQUFXO0FBQUMsWUFBSSxTQUFPLEdBQUcsV0FBVyxZQUFXLEVBQUMsY0FBYSxNQUFLLENBQUM7QUFBRSxZQUFHLENBQUMsR0FBRyxhQUFhLE9BQU8sSUFBSSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFJLE9BQUssT0FBTztBQUFLLFlBQUksUUFBTSxLQUFLO0FBQVEsWUFBSSxTQUFPLEdBQUcsVUFBVSxLQUFLO0FBQUUsZUFBTyxLQUFLLEdBQUcsU0FBUyxFQUFFLFFBQVEsU0FBU0EsT0FBSztBQUFDLGNBQUksVUFBUSxHQUFHLFVBQVVBLEtBQUk7QUFBRSxpQkFBTSxTQUFRO0FBQUMsZ0JBQUksT0FBSyxRQUFRO0FBQVUsZ0JBQUcsT0FBTyxTQUFTLFFBQVEsS0FBSyxHQUFFO0FBQUMsaUJBQUcsWUFBWSxPQUFPO0FBQUEsWUFBQztBQUFDLHNCQUFRO0FBQUEsVUFBSTtBQUFBLFFBQUMsQ0FBQztBQUFFLGFBQUssVUFBUTtBQUFLLFlBQUksTUFBSSxLQUFLLE1BQU0sT0FBTyxRQUFRLEtBQUs7QUFBRSxhQUFLLE1BQU0sT0FBTyxPQUFPLEtBQUksQ0FBQztBQUFBLE1BQUMsR0FBRSxRQUFPLFNBQVMsUUFBTyxNQUFLO0FBQUMsZUFBTyxPQUFPLFNBQVMsT0FBTyxRQUFPLElBQUk7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLE1BQUssTUFBSyxLQUFJO0FBQUMsWUFBSSxTQUFPLEdBQUcsV0FBVyxNQUFLLEVBQUMsUUFBTyxLQUFJLENBQUM7QUFBRSxZQUFJLFNBQU8sT0FBTztBQUFLLFlBQUksT0FBSyxLQUFLLFNBQVMsSUFBSTtBQUFFLFlBQUcsQ0FBQyxRQUFNLFNBQU8sT0FBSyxTQUFPLE1BQUs7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUksVUFBUSxHQUFHLFVBQVUsUUFBTyxJQUFJO0FBQUUsWUFBRyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsT0FBTztBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsT0FBTyxTQUFTLE9BQU07QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sT0FBTyxTQUFTLE1BQU0sUUFBTyxNQUFLLE1BQUssR0FBRztBQUFBLE1BQUMsR0FBRSxRQUFPLFNBQVMsTUFBSyxNQUFLO0FBQUMsZUFBSyxTQUFPLFNBQVUsT0FBSztBQUFJLGdCQUFNO0FBQUssZ0JBQU07QUFBTSxlQUFPLEdBQUcsTUFBTSxNQUFLLE1BQUssQ0FBQztBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsTUFBSyxNQUFLO0FBQUMsZUFBSyxTQUFPLFNBQVUsT0FBSztBQUFJLGdCQUFNLE1BQUk7QUFBSSxnQkFBTTtBQUFNLGVBQU8sR0FBRyxNQUFNLE1BQUssTUFBSyxDQUFDO0FBQUEsTUFBQyxHQUFFLFdBQVUsU0FBUyxNQUFLLE1BQUs7QUFBQyxZQUFJLE9BQUssS0FBSyxNQUFNLEdBQUc7QUFBRSxZQUFJLElBQUU7QUFBRyxpQkFBUSxJQUFFLEdBQUUsSUFBRSxLQUFLLFFBQU8sRUFBRSxHQUFFO0FBQUMsY0FBRyxDQUFDLEtBQUssQ0FBQztBQUFFO0FBQVMsZUFBRyxNQUFJLEtBQUssQ0FBQztBQUFFLGNBQUc7QUFBQyxlQUFHLE1BQU0sR0FBRSxJQUFJO0FBQUEsVUFBQyxTQUFPLEdBQU47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QUcsYUFBYSxRQUFRLEtBQUcsWUFBVSxHQUFHLGFBQWEsUUFBUSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLFlBQVUsU0FBUTtBQUFDLG9CQUFRLEdBQUcsZ0JBQWdCLFNBQVEsR0FBRztBQUFFLGNBQUcsU0FBUTtBQUFDLGtCQUFNLElBQUksR0FBRyxXQUFXLE9BQU87QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLFdBQUcsZUFBZSxRQUFRO0FBQUUsWUFBRztBQUFDLGtCQUFRLFNBQVMsT0FBTyxVQUFTLFNBQVEsUUFBUTtBQUFBLFFBQUMsU0FBTyxHQUFOO0FBQVMsZ0JBQU07QUFBQSxRQUFDLFVBQUM7QUFBUSxhQUFHLFlBQVksUUFBUTtBQUFBLFFBQUM7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLE1BQUs7QUFBQyxZQUFJLFNBQU8sR0FBRyxXQUFXLE1BQUssRUFBQyxRQUFPLEtBQUksQ0FBQztBQUFFLFlBQUksU0FBTyxPQUFPO0FBQUssWUFBSSxPQUFLLEtBQUssU0FBUyxJQUFJO0FBQUUsWUFBSSxPQUFLLEdBQUcsV0FBVyxRQUFPLElBQUk7QUFBRSxZQUFJLFVBQVEsR0FBRyxVQUFVLFFBQU8sTUFBSyxJQUFJO0FBQUUsWUFBRyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsT0FBTztBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsT0FBTyxTQUFTLE9BQU07QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUcsR0FBRyxhQUFhLElBQUksR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsZUFBTyxTQUFTLE1BQU0sUUFBTyxJQUFJO0FBQUUsV0FBRyxZQUFZLElBQUk7QUFBQSxNQUFDLEdBQUUsU0FBUSxTQUFTLE1BQUs7QUFBQyxZQUFJLFNBQU8sR0FBRyxXQUFXLE1BQUssRUFBQyxRQUFPLEtBQUksQ0FBQztBQUFFLFlBQUksT0FBSyxPQUFPO0FBQUssWUFBRyxDQUFDLEtBQUssU0FBUyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPLEtBQUssU0FBUyxRQUFRLElBQUk7QUFBQSxNQUFDLEdBQUUsUUFBTyxTQUFTLE1BQUs7QUFBQyxZQUFJLFNBQU8sR0FBRyxXQUFXLE1BQUssRUFBQyxRQUFPLEtBQUksQ0FBQztBQUFFLFlBQUksU0FBTyxPQUFPO0FBQUssWUFBSSxPQUFLLEtBQUssU0FBUyxJQUFJO0FBQUUsWUFBSSxPQUFLLEdBQUcsV0FBVyxRQUFPLElBQUk7QUFBRSxZQUFJLFVBQVEsR0FBRyxVQUFVLFFBQU8sTUFBSyxLQUFLO0FBQUUsWUFBRyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsT0FBTztBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsT0FBTyxTQUFTLFFBQU87QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUcsR0FBRyxhQUFhLElBQUksR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsZUFBTyxTQUFTLE9BQU8sUUFBTyxJQUFJO0FBQUUsV0FBRyxZQUFZLElBQUk7QUFBQSxNQUFDLEdBQUUsVUFBUyxTQUFTLE1BQUs7QUFBQyxZQUFJLFNBQU8sR0FBRyxXQUFXLElBQUk7QUFBRSxZQUFJLE9BQUssT0FBTztBQUFLLFlBQUcsQ0FBQyxNQUFLO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsS0FBSyxTQUFTLFVBQVM7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sUUFBUSxRQUFRLEdBQUcsUUFBUSxLQUFLLE1BQU0sR0FBRSxLQUFLLFNBQVMsU0FBUyxJQUFJLENBQUM7QUFBQSxNQUFDLEdBQUUsTUFBSyxTQUFTLE1BQUssWUFBVztBQUFDLFlBQUksU0FBTyxHQUFHLFdBQVcsTUFBSyxFQUFDLFFBQU8sQ0FBQyxXQUFVLENBQUM7QUFBRSxZQUFJLE9BQUssT0FBTztBQUFLLFlBQUcsQ0FBQyxNQUFLO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsS0FBSyxTQUFTLFNBQVE7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sS0FBSyxTQUFTLFFBQVEsSUFBSTtBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsTUFBSztBQUFDLGVBQU8sR0FBRyxLQUFLLE1BQUssSUFBSTtBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsTUFBSyxNQUFLLFlBQVc7QUFBQyxZQUFJO0FBQUssWUFBRyxPQUFPLFNBQU8sVUFBUztBQUFDLGNBQUksU0FBTyxHQUFHLFdBQVcsTUFBSyxFQUFDLFFBQU8sQ0FBQyxXQUFVLENBQUM7QUFBRSxpQkFBSyxPQUFPO0FBQUEsUUFBSSxPQUFLO0FBQUMsaUJBQUs7QUFBQSxRQUFJO0FBQUMsWUFBRyxDQUFDLEtBQUssU0FBUyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxhQUFLLFNBQVMsUUFBUSxNQUFLLEVBQUMsTUFBSyxPQUFLLE9BQUssS0FBSyxPQUFLLENBQUMsTUFBSyxXQUFVLEtBQUssSUFBSSxFQUFDLENBQUM7QUFBQSxNQUFDLEdBQUUsUUFBTyxTQUFTLE1BQUssTUFBSztBQUFDLFdBQUcsTUFBTSxNQUFLLE1BQUssSUFBSTtBQUFBLE1BQUMsR0FBRSxRQUFPLFNBQVMsSUFBRyxNQUFLO0FBQUMsWUFBSSxTQUFPLEdBQUcsVUFBVSxFQUFFO0FBQUUsWUFBRyxDQUFDLFFBQU87QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLFdBQUcsTUFBTSxPQUFPLE1BQUssSUFBSTtBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsTUFBSyxLQUFJLEtBQUksWUFBVztBQUFDLFlBQUk7QUFBSyxZQUFHLE9BQU8s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QUFTLEdBQUUsWUFBVyxLQUFLLFlBQVcsVUFBUyxLQUFLLFVBQVMsVUFBUyxDQUFDLEdBQUUsT0FBTSxNQUFLLEdBQUUsVUFBUyxNQUFNO0FBQUUsWUFBRyxPQUFPLFdBQVcsTUFBSztBQUFDLGlCQUFPLFdBQVcsS0FBSyxNQUFNO0FBQUEsUUFBQztBQUFDLFlBQUdULFFBQU8sY0FBYyxLQUFHLEVBQUUsUUFBTSxJQUFHO0FBQUMsY0FBRyxDQUFDLEdBQUc7QUFBVSxlQUFHLFlBQVUsQ0FBQztBQUFFLGNBQUcsRUFBRSxRQUFRLEdBQUcsWUFBVztBQUFDLGVBQUcsVUFBVSxJQUFJLElBQUU7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFNLEdBQUUsT0FBTSxTQUFTLFFBQU87QUFBQyxZQUFHLEdBQUcsU0FBUyxNQUFNLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsT0FBTztBQUFTLGlCQUFPLFdBQVM7QUFBSyxZQUFHO0FBQUMsY0FBRyxPQUFPLFdBQVcsT0FBTTtBQUFDLG1CQUFPLFdBQVcsTUFBTSxNQUFNO0FBQUEsVUFBQztBQUFBLFFBQUMsU0FBTyxHQUFOO0FBQVMsZ0JBQU07QUFBQSxRQUFDLFVBQUM7QUFBUSxhQUFHLFlBQVksT0FBTyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sS0FBRztBQUFBLE1BQUksR0FBRSxVQUFTLFNBQVMsUUFBTztBQUFDLGVBQU8sT0FBTyxPQUFLO0FBQUEsTUFBSSxHQUFFLFFBQU8sU0FBUyxRQUFPLFFBQU8sUUFBTztBQUFDLFlBQUcsR0FBRyxTQUFTLE1BQU0sR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLENBQUM7QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLE9BQU8sWUFBVSxDQUFDLE9BQU8sV0FBVyxRQUFPO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLFVBQVEsS0FBRyxVQUFRLEtBQUcsVUFBUSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPLFdBQVMsT0FBTyxXQUFXLE9BQU8sUUFBTyxRQUFPLE1BQU07QUFBRSxlQUFPLFdBQVMsQ0FBQztBQUFFLGVBQU8sT0FBTztBQUFBLE1BQVEsR0FBRSxNQUFLLFNBQVMsUUFBT0UsU0FBTyxRQUFPLFFBQU8sVUFBUztBQUFDLFlBQUcsU0FBTyxLQUFHLFdBQVMsR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxHQUFHLFNBQVMsTUFBTSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUFBLFFBQUM7QUFBQyxhQUFJLE9BQU8sUUFBTSxhQUFXLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsR0FBRyxNQUFNLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUcsQ0FBQyxPQUFPLFdBQVcsTUFBSztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBSSxVQUFRLE9BQU8sYUFBVztBQUFZLFlBQUcsQ0FBQyxTQUFRO0FBQUMscUJBQVMsT0FBTztBQUFBLFFBQVEsV0FBUyxDQUFDLE9BQU8sVUFBUztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBSSxZQUFVLE9BQU8sV0FBVyxLQUFLLFFBQU9BLFNBQU8sUUFBTyxRQUFPLFFBQVE7QUFBRSxZQUFHLENBQUM7QUFBUSxpQkFBTyxZQUFVO0FBQVUsZUFBTztBQUFBLE1BQVMsR0FBRSxPQUFNLFNBQVMsUUFBT0EsU0FBTyxRQUFPLFFBQU8sVUFBUyxRQUFPO0FBQUMsWUFBRyxTQUFPLEtBQUcsV0FBUyxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLEdBQUcsU0FBUyxNQUFNLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLGFBQUksT0FBTyxRQUFNLGFBQVcsR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLENBQUM7QUFBQSxRQUFDO0FBQUMsWUFBRyxHQUFHLE1BQU0sT0FBTyxLQUFLLElBQUksR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLE9BQU8sV0FBVyxPQUFNO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLE9BQU8sWUFBVSxPQUFPLFFBQU0sTUFBSztBQUFDLGFBQUcsT0FBTyxRQUFPLEdBQUUsQ0FBQztBQUFBLFFBQUM7QUFBQyxZQUFJLFVBQVEsT0FBTyxhQUFXO0FBQVksWUFBRyxDQUFDLFNBQVE7QUFBQyxxQkFBUyxPQUFPO0FBQUEsUUFBUSxXQUFTLENBQUMsT0FBTyxVQUFTO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFJLGVBQWEsT0FBTyxXQUFXLE1BQU0sUUFBT0EsU0FBTyxRQUFPLFFBQU8sVUFBUyxNQUFNO0FBQUUsWUFBRyxDQUFDO0FBQVEsaUJBQU8sWUFBVTtBQUFhLGVBQU87QUFBQSxNQUFZLEdBQUUsVUFBUyxTQUFTLFFBQU8sUUFBTyxRQUFPO0FBQUMsWUFBRyxHQUFHLFNBQVMsTUFBTSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUFBLFFBQUM7QUFBQyxZQUFHLFNBQU8sS0FBRyxVQUFRLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGFBQUksT0FBTyxRQUFNLGFBQVcsR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLENBQUM7QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLEdBQUcsT0FBTyxPQUFPLEtBQUssSUFBSSxLQUFHLENBQUMsR0FBRyxNQUFNLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUcsQ0FBQyxPQUFPLFdBQVcsVUFBUztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEdBQUc7QUFBQSxRQUFDO0FBQUMsZUFBTyxXQUFXLFNBQVMsUUFBTyxRQUFPLE1BQU07QUFBQSxNQUFDLEdBQUUsTUFBSyxTQUFTLFFBQU8sU0FBUSxRQUFPLFVBQVMsTUFBSyxPQUFNO0FBQUMsYUFBSSxPQUFLLE9BQUssTUFBSSxRQUFNLE9BQUssTUFBSSxPQUFPLFFBQU0sYUFBVyxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUFBLFFBQUM7QUFBQyxhQUFJLE9BQU8sUUFBTSxhQUFXLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsQ0FBQyxPQUFPLFdBQVcsTUFBSztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsZUFBTyxPQUFPLFdBQVcsS0FBSyxRQUFPLFNBQVEsUUFBTyxVQUFTLE1BQUssS0FBSztBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsUUFBT0EsU0FBTyxRQUFPLFFBQU8sV0FBVTtBQUFDLFlBQUcsQ0FBQyxVQUFRLENBQUMsT0FBTyxXQUFXLE9BQU07QUFBQyxpQkFBTztBQUFBLFFBQUM7QUFBQyxlQUFPLE9BQU8sV0FBVyxNQUFNLFFBQU9BLFNBQU8sUUFBTyxRQUFPLFNBQVM7QUFBQSxNQUFDLEdBQUUsUUFBTyxTQUFTLFFBQU87QUFBQyxlQUFPO0FBQUEsTUFBQyxHQUFFLE9BQU0sU0FBUyxRQUFPLEtBQUksS0FBSTtBQUFDLFlBQUcsQ0FBQyxPQUFPLFdBQVcsT0FBTTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsZUFBTyxPQUFPLFdBQVcsTUFBTSxRQUFPLEtBQUksR0FBRztBQUFBLE1BQUMsR0FBRSxVQUFTLFNBQVMs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QUksTUFBSSxDQUFDLElBQUUsS0FBSztBQUFNLGVBQU8sTUFBSSxNQUFJLENBQUMsSUFBRSxLQUFLO0FBQUksZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFLEtBQUs7QUFBSSxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUUsS0FBSztBQUFLLGVBQU8sTUFBSSxNQUFJLENBQUMsSUFBRTtBQUFFLGtCQUFRLENBQUMsS0FBSyxTQUFPLElBQUcsYUFBVyxLQUFLLE1BQUssQ0FBQyxLQUFLLElBQUksVUFBVSxLQUFHLElBQUUsYUFBVyxLQUFHLEtBQUssSUFBSSxDQUFDLEtBQUssTUFBTSxhQUFXLFVBQVUsR0FBRSxVQUFVLElBQUUsT0FBSyxJQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssTUFBTSxhQUFXLEVBQUUsQ0FBQyxDQUFDLGVBQWEsTUFBSSxVQUFVLE1BQUksSUFBRSxFQUFFLEdBQUUsT0FBTyxNQUFJLE1BQUksQ0FBQyxJQUFFLFFBQVEsQ0FBQyxHQUFFLE9BQU8sTUFBSSxNQUFJLENBQUMsSUFBRSxRQUFRLENBQUM7QUFBRSxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUU7QUFBSyxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUUsS0FBSztBQUFPLGVBQU8sTUFBSSxNQUFJLENBQUMsSUFBRSxLQUFLLE1BQU0sUUFBUSxJQUFFLE1BQUk7QUFBRSxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUU7QUFBRSxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUUsS0FBSyxNQUFNLFFBQVEsSUFBRSxNQUFJO0FBQUUsZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFO0FBQUUsZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFLEtBQUssTUFBTSxRQUFRLElBQUUsTUFBSTtBQUFFLGVBQU8sTUFBSSxNQUFJLENBQUMsSUFBRTtBQUFFLGtCQUFRLENBQUMsS0FBSyxRQUFNLElBQUcsYUFBVyxLQUFLLEtBQUksQ0FBQyxLQUFLLElBQUksVUFBVSxLQUFHLElBQUUsYUFBVyxLQUFHLEtBQUssSUFBSSxDQUFDLEtBQUssTUFBTSxhQUFXLFVBQVUs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SyxNQUFNLElBQUk7QUFBQSxZQUM5RyxDQUFDO0FBQUEsWUFDRCxFQUFFLEtBQUs7QUFBQSxjQUNIO0FBQUEsY0FDQSxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUUsTUFBTSxTQUFTLFFBQVEsU0FBUSxFQUFFLEdBQUksWUFBWSxPQUFRLEdBQUcsS0FBSyxXQUFXLFVBQVU7QUFBQSxZQUNwSCxDQUFDO0FBQUEsWUFDRCxFQUFFLEtBQUssU0FBUyxLQUFLLE1BQU07QUFBQSxZQUMzQixFQUFFLEtBQUssU0FBUyxLQUFLLE1BQU07QUFBQSxZQUMzQixFQUFFLFlBQVk7QUFBQSxZQUNkLEVBQUUsU0FBUztBQUFBLFVBQ2YsQ0FBQztBQUFBLFVBQ0QsRUFBRSxxQkFBcUI7QUFBQSxZQUNuQixFQUFFLGVBQWU7QUFBQSxZQUNqQixFQUFFLGdCQUFnQjtBQUFBLFlBQ2xCLEVBQUUsZUFBZTtBQUFBLFVBQ3JCLENBQUM7QUFBQSxVQUNELEVBQUUsaUJBQWlCO0FBQUEsVUFDbkIsRUFBRSxtQkFBbUI7QUFBQSxZQUNqQixFQUFFLEtBQUssOE1BQThNO0FBQUEsVUFDek4sQ0FBQztBQUFBLFFBQ0wsQ0FBQztBQUFBLE1BQ0wsQ0FBQztBQUFBLE1BQ0QsRUFBRSxjQUFjO0FBQUEsUUFDWixFQUFFLGFBQWE7QUFBQSxRQUNmLEVBQUUsYUFBYTtBQUFBLE1BQ25CLENBQUM7QUFBQSxJQUNMLENBQUM7QUFBQSxFQUNMOzs7QUN6Rk8sV0FBUyxhQUFhLE1BQWtCO0FBQzNDLFlBQVEsSUFBSSxJQUFJO0FBQ2hCLFVBQU0sVUFBVSxTQUFTLGNBQWMsTUFBTTtBQUM3QyxVQUFNLFNBQVMsb0JBQUssSUFBSSxDQUFDO0FBQUEsRUFDN0I7QUFFQSxTQUFPLGVBQWU7IiwKICAibmFtZXMiOiBbIndpbmRvdyIsICJkb2N1bWVudCIsICJ1bmRlZmluZWQiLCAiaSIsICJNb3VzZXRyYXAiLCAic2VsZiIsICJtZXRob2QiLCAiSG93bGVyR2xvYmFsIiwgInNlbGYiLCAiSG93bGVyIiwgInNvdW5kIiwgImUiLCAiaSIsICJIb3dsIiwgIlNvdW5kIiwgInN0YXJ0IiwgInN0b3AiLCAiZW5kIiwgImRpZmYiLCAib3IiLCAidGFnTmFtZSIsICJwYXJlbnROb2RlIiwgImZyYWdtZW50IiwgIl9hIiwgIl9hIiwgImlzRWxlbWVudCIsICJ2bm9kZSIsICJpc0RvY3VtZW50RnJhZ21lbnQiLCAiaW5pdCIsICJoYXNoIiwgInBhdGNoIiwgInZub2RlIiwgInZub2RlIiwgInZub2RlIiwgInZub2RlIiwgInZub2RlIiwgInZub2RlIiwgIl9hIiwgIk5vdGF0aW9uIiwgImZpbGVzIiwgInJhbmtzIiwgIl9hIiwgIl9hIiwgInRhZ05hbWUiLCAiZGVmYXVsdHMiLCAiXyIsICJvcHRpb25zIiwgIl9hIiwgInN0ZXAiLCAidmFyaWFudCIsICJmaWxlcyIsICJ2YXJpYW50IiwgImkxOG4iLCAicmFua3MiLCAibGV0dGVycyIsICJfYSIsICJfIiwgIl9hIiwgIm9uQ2hhbmdlIiwgInZhcmlhbnQiLCAibW92ZSIsICJ2YXJpYW50IiwgIm1vdmUiLCAibW92ZSIsICJ2bm9kZSIsICJ2YXJpYW50IiwgIm1vdmUiLCAidm5vZGUiLCAibW92ZSIsICJiYWNrcmFuayIsICJmaWxlcyIsICJ4MSIsICJ5MSIsICJ4MiIsICJ5MiIsICJ2YXJpYW50IiwgImtpbmciLCAicm9vayIsICJfYSIsICJtb3ZlIiwgIl9hIiwgImtpbmciLCAibm93IiwgIl9hIiwgInN0YXJ0IiwgIl9hIiwgImNhbmNlbCIsICJtb3ZlIiwgImVuZCIsICJzdGFydCIsICJ0b2dnbGVPcmllbnRhdGlvbiIsICJzdGF0ZSIsICJfYSIsICJjYW5jZWwiLCAidmFyaWFudCIsICJidWlsdGluTW9iaWxpdHkiLCAiX2EiLCAicmVuZGVyU2hhcGUiLCAiZWwiLCAiY3JlYXRlRWxlbWVudCIsICJ0YWdOYW1lIiwgImJydXNoZXMiLCAiYnJ1c2giLCAiaCIsICJoYXNoIiwgImNyZWF0ZUVsZW1lbnQiLCAiZmlsZXMiLCAicmFua3MiLCAiX2EiLCAibW92ZSIsICJlbmQiLCAiY2FuY2VsIiwgInN0YXJ0IiwgInJlbmRlciIsICJwb3NUb1RyYW5zbGF0ZSIsICJhbmltIiwgImsiLCAiX2EiLCAicHJlbW92ZSIsICJyZW5kZXIiLCAicmVuZGVyU2hhcGUiLCAicmVuZGVyUmVzaXplZCIsICJwb3NUb1RyYW5zbGF0ZSIsICJfYSIsICJoYXNoIiwgInJlbmRlciIsICJyZW5kZXJSZXNpemVkIiwgInN0YXJ0IiwgIk1vZHVsZSIsICJhcnJheSIsICJidWZmZXIiLCAiZXJyIiwgImV4cG9ydHMiLCAic3RhcnQiLCAiZW5kIiwgImtleSIsICJkZWZhdWx0cyIsICJoYXNoIiwgImVycm5vIiwgInhociIsICJsYXp5QXJyYXkiLCAiYnl0ZUFycmF5IiwgImluZGV4ZWREQiIsICJmaWxlcyIsICJ0eXBlQ29udmVydGVycyIsICJoYW5kbGUiLCAiZGVsIiwgImFyZ1R5cGVzIiwgImRhdGUiLCAiX2EiLCAidmFyaWFudCIsICJib2FyZFNldHRpbmdzIiwgIl9hIiwgInNvdW5kIiwgInZhcmlhbnQiLCAiXyIsICJfYSIsICJzdGVwIiwgIm1vdmUiLCAibW92ZSIsICJ2YXJpYW50IiwgImZpbGVzIiwgInZub2RlIiwgInZhcmlhbnQiXQp9Cg==
