"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));

  // node_modules/mousetrap/mousetrap.js
  var require_mousetrap = __commonJS({
    "node_modules/mousetrap/mousetrap.js"(exports, module) {
      (function(window2, document2, undefined2) {
        if (!window2) {
          return;
        }
        var _MAP = {
          8: "backspace",
          9: "tab",
          13: "enter",
          16: "shift",
          17: "ctrl",
          18: "alt",
          20: "capslock",
          27: "esc",
          32: "space",
          33: "pageup",
          34: "pagedown",
          35: "end",
          36: "home",
          37: "left",
          38: "up",
          39: "right",
          40: "down",
          45: "ins",
          46: "del",
          91: "meta",
          93: "meta",
          224: "meta"
        };
        var _KEYCODE_MAP = {
          106: "*",
          107: "+",
          109: "-",
          110: ".",
          111: "/",
          186: ";",
          187: "=",
          188: ",",
          189: "-",
          190: ".",
          191: "/",
          192: "`",
          219: "[",
          220: "\\",
          221: "]",
          222: "'"
        };
        var _SHIFT_MAP = {
          "~": "`",
          "!": "1",
          "@": "2",
          "#": "3",
          "$": "4",
          "%": "5",
          "^": "6",
          "&": "7",
          "*": "8",
          "(": "9",
          ")": "0",
          "_": "-",
          "+": "=",
          ":": ";",
          '"': "'",
          "<": ",",
          ">": ".",
          "?": "/",
          "|": "\\"
        };
        var _SPECIAL_ALIASES = {
          "option": "alt",
          "command": "meta",
          "return": "enter",
          "escape": "esc",
          "plus": "+",
          "mod": /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl"
        };
        var _REVERSE_MAP;
        for (var i = 1; i < 20; ++i) {
          _MAP[111 + i] = "f" + i;
        }
        for (i = 0; i <= 9; ++i) {
          _MAP[i + 96] = i.toString();
        }
        function _addEvent(object, type, callback) {
          if (object.addEventListener) {
            object.addEventListener(type, callback, false);
            return;
          }
          object.attachEvent("on" + type, callback);
        }
        function _characterFromEvent(e) {
          if (e.type == "keypress") {
            var character = String.fromCharCode(e.which);
            if (!e.shiftKey) {
              character = character.toLowerCase();
            }
            return character;
          }
          if (_MAP[e.which]) {
            return _MAP[e.which];
          }
          if (_KEYCODE_MAP[e.which]) {
            return _KEYCODE_MAP[e.which];
          }
          return String.fromCharCode(e.which).toLowerCase();
        }
        function _modifiersMatch(modifiers1, modifiers2) {
          return modifiers1.sort().join(",") === modifiers2.sort().join(",");
        }
        function _eventModifiers(e) {
          var modifiers = [];
          if (e.shiftKey) {
            modifiers.push("shift");
          }
          if (e.altKey) {
            modifiers.push("alt");
          }
          if (e.ctrlKey) {
            modifiers.push("ctrl");
          }
          if (e.metaKey) {
            modifiers.push("meta");
          }
          return modifiers;
        }
        function _preventDefault(e) {
          if (e.preventDefault) {
            e.preventDefault();
            return;
          }
          e.returnValue = false;
        }
        function _stopPropagation(e) {
          if (e.stopPropagation) {
            e.stopPropagation();
            return;
          }
          e.cancelBubble = true;
        }
        function _isModifier(key) {
          return key == "shift" || key == "ctrl" || key == "alt" || key == "meta";
        }
        function _getReverseMap() {
          if (!_REVERSE_MAP) {
            _REVERSE_MAP = {};
            for (var key in _MAP) {
              if (key > 95 && key < 112) {
                continue;
              }
              if (_MAP.hasOwnProperty(key)) {
                _REVERSE_MAP[_MAP[key]] = key;
              }
            }
          }
          return _REVERSE_MAP;
        }
        function _pickBestAction(key, modifiers, action) {
          if (!action) {
            action = _getReverseMap()[key] ? "keydown" : "keypress";
          }
          if (action == "keypress" && modifiers.length) {
            action = "keydown";
          }
          return action;
        }
        function _keysFromString(combination) {
          if (combination === "+") {
            return ["+"];
          }
          combination = combination.replace(/\+{2}/g, "+plus");
          return combination.split("+");
        }
        function _getKeyInfo(combination, action) {
          var keys;
          var key;
          var i2;
          var modifiers = [];
          keys = _keysFromString(combination);
          for (i2 = 0; i2 < keys.length; ++i2) {
            key = keys[i2];
            if (_SPECIAL_ALIASES[key]) {
              key = _SPECIAL_ALIASES[key];
            }
            if (action && action != "keypress" && _SHIFT_MAP[key]) {
              key = _SHIFT_MAP[key];
              modifiers.push("shift");
            }
            if (_isModifier(key)) {
              modifiers.push(key);
            }
          }
          action = _pickBestAction(key, modifiers, action);
          return {
            key,
            modifiers,
            action
          };
        }
        function _belongsTo(element, ancestor) {
          if (element === null || element === document2) {
            return false;
          }
          if (element === ancestor) {
            return true;
          }
          return _belongsTo(element.parentNode, ancestor);
        }
        function Mousetrap2(targetElement) {
          var self2 = this;
          targetElement = targetElement || document2;
          if (!(self2 instanceof Mousetrap2)) {
            return new Mousetrap2(targetElement);
          }
          self2.target = targetElement;
          self2._callbacks = {};
          self2._directMap = {};
          var _sequenceLevels = {};
          var _resetTimer;
          var _ignoreNextKeyup = false;
          var _ignoreNextKeypress = false;
          var _nextExpectedAction = false;
          function _resetSequences(doNotReset) {
            doNotReset = doNotReset || {};
            var activeSequences = false, key;
            for (key in _sequenceLevels) {
              if (doNotReset[key]) {
                activeSequences = true;
                continue;
              }
              _sequenceLevels[key] = 0;
            }
            if (!activeSequences) {
              _nextExpectedAction = false;
            }
          }
          function _getMatches(character, modifiers, e, sequenceName, combination, level) {
            var i2;
            var callback;
            var matches = [];
            var action = e.type;
            if (!self2._callbacks[character]) {
              return [];
            }
            if (action == "keyup" && _isModifier(character)) {
              modifiers = [character];
            }
            for (i2 = 0; i2 < self2._callbacks[character].length; ++i2) {
              callback = self2._callbacks[character][i2];
              if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {
                continue;
              }
              if (action != callback.action) {
                continue;
              }
              if (action == "keypress" && !e.metaKey && !e.ctrlKey || _modifiersMatch(modifiers, callback.modifiers)) {
                var deleteCombo = !sequenceName && callback.combo == combination;
                var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;
                if (deleteCombo || deleteSequence) {
                  self2._callbacks[character].splice(i2, 1);
                }
                matches.push(callback);
              }
            }
            return matches;
          }
          function _fireCallback(callback, e, combo, sequence) {
            if (self2.stopCallback(e, e.target || e.srcElement, combo, sequence)) {
              return;
            }
            if (callback(e, combo) === false) {
              _preventDefault(e);
              _stopPropagation(e);
            }
          }
          self2._handleKey = function(character, modifiers, e) {
            var callbacks = _getMatches(character, modifiers, e);
            var i2;
            var doNotReset = {};
            var maxLevel = 0;
            var processedSequenceCallback = false;
            for (i2 = 0; i2 < callbacks.length; ++i2) {
              if (callbacks[i2].seq) {
                maxLevel = Math.max(maxLevel, callbacks[i2].level);
              }
            }
            for (i2 = 0; i2 < callbacks.length; ++i2) {
              if (callbacks[i2].seq) {
                if (callbacks[i2].level != maxLevel) {
                  continue;
                }
                processedSequenceCallback = true;
                doNotReset[callbacks[i2].seq] = 1;
                _fireCallback(callbacks[i2].callback, e, callbacks[i2].combo, callbacks[i2].seq);
                continue;
              }
              if (!processedSequenceCallback) {
                _fireCallback(callbacks[i2].callback, e, callbacks[i2].combo);
              }
            }
            var ignoreThisKeypress = e.type == "keypress" && _ignoreNextKeypress;
            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {
              _resetSequences(doNotReset);
            }
            _ignoreNextKeypress = processedSequenceCallback && e.type == "keydown";
          };
          function _handleKeyEvent(e) {
            if (typeof e.which !== "number") {
              e.which = e.keyCode;
            }
            var character = _characterFromEvent(e);
            if (!character) {
              return;
            }
            if (e.type == "keyup" && _ignoreNextKeyup === character) {
              _ignoreNextKeyup = false;
              return;
            }
            self2.handleKey(character, _eventModifiers(e), e);
          }
          function _resetSequenceTimer() {
            clearTimeout(_resetTimer);
            _resetTimer = setTimeout(_resetSequences, 1e3);
          }
          function _bindSequence(combo, keys, callback, action) {
            _sequenceLevels[combo] = 0;
            function _increaseSequence(nextAction) {
              return function() {
                _nextExpectedAction = nextAction;
                ++_sequenceLevels[combo];
                _resetSequenceTimer();
              };
            }
            function _callbackAndReset(e) {
              _fireCallback(callback, e, combo);
              if (action !== "keyup") {
                _ignoreNextKeyup = _characterFromEvent(e);
              }
              setTimeout(_resetSequences, 10);
            }
            for (var i2 = 0; i2 < keys.length; ++i2) {
              var isFinal = i2 + 1 === keys.length;
              var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i2 + 1]).action);
              _bindSingle(keys[i2], wrappedCallback, action, combo, i2);
            }
          }
          function _bindSingle(combination, callback, action, sequenceName, level) {
            self2._directMap[combination + ":" + action] = callback;
            combination = combination.replace(/\s+/g, " ");
            var sequence = combination.split(" ");
            var info;
            if (sequence.length > 1) {
              _bindSequence(combination, sequence, callback, action);
              return;
            }
            info = _getKeyInfo(combination, action);
            self2._callbacks[info.key] = self2._callbacks[info.key] || [];
            _getMatches(info.key, info.modifiers, { type: info.action }, sequenceName, combination, level);
            self2._callbacks[info.key][sequenceName ? "unshift" : "push"]({
              callback,
              modifiers: info.modifiers,
              action: info.action,
              seq: sequenceName,
              level,
              combo: combination
            });
          }
          self2._bindMultiple = function(combinations, callback, action) {
            for (var i2 = 0; i2 < combinations.length; ++i2) {
              _bindSingle(combinations[i2], callback, action);
            }
          };
          _addEvent(targetElement, "keypress", _handleKeyEvent);
          _addEvent(targetElement, "keydown", _handleKeyEvent);
          _addEvent(targetElement, "keyup", _handleKeyEvent);
        }
        Mousetrap2.prototype.bind = function(keys, callback, action) {
          var self2 = this;
          keys = keys instanceof Array ? keys : [keys];
          self2._bindMultiple.call(self2, keys, callback, action);
          return self2;
        };
        Mousetrap2.prototype.unbind = function(keys, action) {
          var self2 = this;
          return self2.bind.call(self2, keys, function() {
          }, action);
        };
        Mousetrap2.prototype.trigger = function(keys, action) {
          var self2 = this;
          if (self2._directMap[keys + ":" + action]) {
            self2._directMap[keys + ":" + action]({}, keys);
          }
          return self2;
        };
        Mousetrap2.prototype.reset = function() {
          var self2 = this;
          self2._callbacks = {};
          self2._directMap = {};
          return self2;
        };
        Mousetrap2.prototype.stopCallback = function(e, element) {
          var self2 = this;
          if ((" " + element.className + " ").indexOf(" mousetrap ") > -1) {
            return false;
          }
          if (_belongsTo(element, self2.target)) {
            return false;
          }
          if ("composedPath" in e && typeof e.composedPath === "function") {
            var initialEventTarget = e.composedPath()[0];
            if (initialEventTarget !== e.target) {
              element = initialEventTarget;
            }
          }
          return element.tagName == "INPUT" || element.tagName == "SELECT" || element.tagName == "TEXTAREA" || element.isContentEditable;
        };
        Mousetrap2.prototype.handleKey = function() {
          var self2 = this;
          return self2._handleKey.apply(self2, arguments);
        };
        Mousetrap2.addKeycodes = function(object) {
          for (var key in object) {
            if (object.hasOwnProperty(key)) {
              _MAP[key] = object[key];
            }
          }
          _REVERSE_MAP = null;
        };
        Mousetrap2.init = function() {
          var documentMousetrap = Mousetrap2(document2);
          for (var method in documentMousetrap) {
            if (method.charAt(0) !== "_") {
              Mousetrap2[method] = function(method2) {
                return function() {
                  return documentMousetrap[method2].apply(documentMousetrap, arguments);
                };
              }(method);
            }
          }
        };
        Mousetrap2.init();
        window2.Mousetrap = Mousetrap2;
        if (typeof module !== "undefined" && module.exports) {
          module.exports = Mousetrap2;
        }
        if (typeof define === "function" && define.amd) {
          define(function() {
            return Mousetrap2;
          });
        }
      })(typeof window !== "undefined" ? window : null, typeof window !== "undefined" ? document : null);
    }
  });

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound2 = self2._howls[i]._soundById(ids[j]);
                    if (sound2 && sound2._node) {
                      sound2._node.volume = sound2._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound2 = self2._howls[i]._soundById(ids[j]);
                  if (sound2 && sound2._node) {
                    sound2._node.muted = muted ? true : sound2._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/([0-6].)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound2 = self2._howls[i]._soundById(ids[j]);
                    if (sound2 && sound2._node && !sound2._node._unlocked) {
                      sound2._node._unlocked = true;
                      sound2._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl3 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl3.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str = self2._src[i];
                if (typeof str !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound2 = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound2) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound2._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound2._sprite = sprite;
              sound2._ended = false;
              var soundId = sound2._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound2._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound2._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound2._seek > 0 ? sound2._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout = duration * 1e3 / Math.abs(sound2._rate);
            var start4 = self2._sprite[sprite][0] / 1e3;
            var stop2 = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound2._sprite = sprite;
            sound2._ended = false;
            var setParams = function() {
              sound2._paused = false;
              sound2._seek = seek;
              sound2._start = start4;
              sound2._stop = stop2;
              sound2._loop = !!(sound2._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop2) {
              self2._ended(sound2);
              return;
            }
            var node = sound2._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound2);
                var vol = sound2._muted || self2._muted ? 0 : sound2._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound2._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound2._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound2._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout !== Infinity) {
                  self2._endTimers[sound2._id] = setTimeout(self2._ended.bind(self2, sound2), timeout);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound2._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound2._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound2._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound2._volume * Howler2.volume();
                node.playbackRate = sound2._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound2._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound2._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound2._ended = true;
                      sound2._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound2._id);
                  }
                  node.playbackRate = sound2._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound2._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound2._loop) {
                    self2._endTimers[sound2._id] = setTimeout(self2._ended.bind(self2, sound2), timeout);
                  } else {
                    self2._endTimers[sound2._id] = function() {
                      self2._ended(sound2);
                      node.removeEventListener("ended", self2._endTimers[sound2._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound2._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound2._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound2._id);
              }
            }
            return sound2._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound2 = self2._soundById(ids[i]);
              if (sound2 && !sound2._paused) {
                sound2._seek = self2.seek(ids[i]);
                sound2._rateSeek = 0;
                sound2._paused = true;
                self2._stopFade(ids[i]);
                if (sound2._node) {
                  if (self2._webAudio) {
                    if (!sound2._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound2._node.bufferSource.stop === "undefined") {
                      sound2._node.bufferSource.noteOff(0);
                    } else {
                      sound2._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound2._node);
                  } else if (!isNaN(sound2._node.duration) || sound2._node.duration === Infinity) {
                    sound2._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound2 ? sound2._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound2 = self2._soundById(ids[i]);
              if (sound2) {
                sound2._seek = sound2._start || 0;
                sound2._rateSeek = 0;
                sound2._paused = true;
                sound2._ended = true;
                self2._stopFade(ids[i]);
                if (sound2._node) {
                  if (self2._webAudio) {
                    if (sound2._node.bufferSource) {
                      if (typeof sound2._node.bufferSource.stop === "undefined") {
                        sound2._node.bufferSource.noteOff(0);
                      } else {
                        sound2._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound2._node);
                    }
                  } else if (!isNaN(sound2._node.duration) || sound2._node.duration === Infinity) {
                    sound2._node.currentTime = sound2._start || 0;
                    sound2._node.pause();
                    if (sound2._node.duration === Infinity) {
                      self2._clearSound(sound2._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound2._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound2 = self2._soundById(ids[i]);
              if (sound2) {
                sound2._muted = muted;
                if (sound2._interval) {
                  self2._stopFade(sound2._id);
                }
                if (self2._webAudio && sound2._node) {
                  sound2._node.gain.setValueAtTime(muted ? 0 : sound2._volume, Howler2.ctx.currentTime);
                } else if (sound2._node) {
                  sound2._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound2._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound2;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound2 = self2._soundById(id[i]);
                if (sound2) {
                  sound2._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound2._node && !sound2._muted) {
                    sound2._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound2._node && !sound2._muted) {
                    sound2._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound2._id);
                }
              }
            } else {
              sound2 = id ? self2._soundById(id) : self2._sounds[0];
              return sound2 ? sound2._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len = parseFloat(len);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound2 = self2._soundById(ids[i]);
              if (sound2) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound2._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end3 = currentTime + len / 1e3;
                  sound2._volume = from;
                  sound2._node.gain.setValueAtTime(from, currentTime);
                  sound2._node.gain.linearRampToValueAtTime(to, end3);
                }
                self2._startFadeInterval(sound2, from, to, len, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound2, from, to, len, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff2 = to - from;
            var steps = Math.abs(diff2 / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len / steps : len);
            var lastTick = Date.now();
            sound2._fadeTo = to;
            sound2._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len;
              lastTick = Date.now();
              vol += diff2 * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff2 < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound2._volume = vol;
              } else {
                self2.volume(vol, sound2._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound2._interval);
                sound2._interval = null;
                sound2._fadeTo = null;
                self2.volume(to, sound2._id);
                self2._emit("fade", sound2._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound2 = self2._soundById(id);
            if (sound2 && sound2._interval) {
              if (self2._webAudio) {
                sound2._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound2._interval);
              sound2._interval = null;
              self2.volume(sound2._fadeTo, id);
              sound2._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound2;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound2 = self2._soundById(parseInt(args[0], 10));
                return sound2 ? sound2._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound2 = self2._soundById(ids[i]);
              if (sound2) {
                sound2._loop = loop;
                if (self2._webAudio && sound2._node && sound2._node.bufferSource) {
                  sound2._node.bufferSource.loop = loop;
                  if (loop) {
                    sound2._node.bufferSource.loopStart = sound2._start || 0;
                    sound2._node.bufferSource.loopEnd = sound2._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound2;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound2 = self2._soundById(id[i]);
                if (sound2) {
                  if (self2.playing(id[i])) {
                    sound2._rateSeek = self2.seek(id[i]);
                    sound2._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound2._playStart;
                  }
                  sound2._rate = rate;
                  if (self2._webAudio && sound2._node && sound2._node.bufferSource) {
                    sound2._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound2._node) {
                    sound2._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound2._sprite][0] + self2._sprite[sound2._sprite][1]) / 1e3 - seek;
                  var timeout = duration * 1e3 / Math.abs(sound2._rate);
                  if (self2._endTimers[id[i]] || !sound2._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound2), timeout);
                  }
                  self2._emit("rate", sound2._id);
                }
              }
            } else {
              sound2 = self2._soundById(id);
              return sound2 ? sound2._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound2 = self2._soundById(id);
            if (sound2) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound2._seek = seek;
                sound2._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound2._node && !isNaN(sound2._node.duration)) {
                  sound2._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound2._playStart : 0;
                  var rateSeek = sound2._rateSeek ? sound2._rateSeek - sound2._seek : 0;
                  return sound2._seek + (rateSeek + realTime * Math.abs(sound2._rate));
                } else {
                  return sound2._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound2 = self2._soundById(id);
              return sound2 ? !sound2._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound2 = self2._soundById(id);
            if (sound2) {
              duration = self2._sprite[sound2._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound2) {
            var self2 = this;
            var sprite = sound2._sprite;
            if (!self2._webAudio && sound2._node && !sound2._node.paused && !sound2._node.ended && sound2._node.currentTime < sound2._stop) {
              setTimeout(self2._ended.bind(self2, sound2), 100);
              return self2;
            }
            var loop = !!(sound2._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound2._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound2._id, true).play(sound2._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound2._id);
              sound2._seek = sound2._start || 0;
              sound2._rateSeek = 0;
              sound2._playStart = Howler2.ctx.currentTime;
              var timeout = (sound2._stop - sound2._start) * 1e3 / Math.abs(sound2._rate);
              self2._endTimers[sound2._id] = setTimeout(self2._ended.bind(self2, sound2), timeout);
            }
            if (self2._webAudio && !loop) {
              sound2._paused = true;
              sound2._ended = true;
              sound2._seek = sound2._start || 0;
              sound2._rateSeek = 0;
              self2._clearTimer(sound2._id);
              self2._cleanBuffer(sound2._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound2._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound2 = self2._soundById(id);
                if (sound2 && sound2._node) {
                  sound2._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound2) {
            var self2 = this;
            sound2._node.bufferSource = Howler2.ctx.createBufferSource();
            sound2._node.bufferSource.buffer = cache[self2._src];
            if (sound2._panner) {
              sound2._node.bufferSource.connect(sound2._panner);
            } else {
              sound2._node.bufferSource.connect(sound2._node);
            }
            sound2._node.bufferSource.loop = sound2._loop;
            if (sound2._loop) {
              sound2._node.bufferSource.loopStart = sound2._start || 0;
              sound2._node.bufferSource.loopEnd = sound2._stop || 0;
            }
            sound2._node.bufferSource.playbackRate.setValueAtTime(sound2._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl3
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl3;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl3;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl3;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or2 = self2._orientation;
          y = typeof y !== "number" ? or2[1] : y;
          z = typeof z !== "number" ? or2[2] : z;
          xUp = typeof xUp !== "number" ? or2[3] : xUp;
          yUp = typeof yUp !== "number" ? or2[4] : yUp;
          zUp = typeof zUp !== "number" ? or2[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or2;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound2 = self2._soundById(ids[i]);
            if (sound2) {
              if (typeof pan === "number") {
                sound2._stereo = pan;
                sound2._pos = [pan, 0, 0];
                if (sound2._node) {
                  sound2._pannerAttr.panningModel = "equalpower";
                  if (!sound2._panner || !sound2._panner.pan) {
                    setupPanner(sound2, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound2._panner.positionX !== "undefined") {
                      sound2._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound2._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound2._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound2._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound2._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound2._id);
              } else {
                return sound2._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound2 = self2._soundById(ids[i]);
            if (sound2) {
              if (typeof x === "number") {
                sound2._pos = [x, y, z];
                if (sound2._node) {
                  if (!sound2._panner || sound2._panner.pan) {
                    setupPanner(sound2, "spatial");
                  }
                  if (typeof sound2._panner.positionX !== "undefined") {
                    sound2._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound2._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound2._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound2._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound2._id);
              } else {
                return sound2._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound2 = self2._soundById(ids[i]);
            if (sound2) {
              if (typeof x === "number") {
                sound2._orientation = [x, y, z];
                if (sound2._node) {
                  if (!sound2._panner) {
                    if (!sound2._pos) {
                      sound2._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound2, "spatial");
                  }
                  if (typeof sound2._panner.orientationX !== "undefined") {
                    sound2._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound2._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound2._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound2._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound2._id);
              } else {
                return sound2._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound2;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound2 = self2._soundById(parseInt(args[0], 10));
              return sound2 ? sound2._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound2 = self2._soundById(ids[i]);
            if (sound2) {
              var pa = sound2._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound2._panner;
              if (panner) {
                panner.coneInnerAngle = pa.coneInnerAngle;
                panner.coneOuterAngle = pa.coneOuterAngle;
                panner.coneOuterGain = pa.coneOuterGain;
                panner.distanceModel = pa.distanceModel;
                panner.maxDistance = pa.maxDistance;
                panner.refDistance = pa.refDistance;
                panner.rolloffFactor = pa.rolloffFactor;
                panner.panningModel = pa.panningModel;
              } else {
                if (!sound2._pos) {
                  sound2._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound2, "spatial");
              }
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound2, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound2._panner = Howler.ctx.createPanner();
            sound2._panner.coneInnerAngle = sound2._pannerAttr.coneInnerAngle;
            sound2._panner.coneOuterAngle = sound2._pannerAttr.coneOuterAngle;
            sound2._panner.coneOuterGain = sound2._pannerAttr.coneOuterGain;
            sound2._panner.distanceModel = sound2._pannerAttr.distanceModel;
            sound2._panner.maxDistance = sound2._pannerAttr.maxDistance;
            sound2._panner.refDistance = sound2._pannerAttr.refDistance;
            sound2._panner.rolloffFactor = sound2._pannerAttr.rolloffFactor;
            sound2._panner.panningModel = sound2._pannerAttr.panningModel;
            if (typeof sound2._panner.positionX !== "undefined") {
              sound2._panner.positionX.setValueAtTime(sound2._pos[0], Howler.ctx.currentTime);
              sound2._panner.positionY.setValueAtTime(sound2._pos[1], Howler.ctx.currentTime);
              sound2._panner.positionZ.setValueAtTime(sound2._pos[2], Howler.ctx.currentTime);
            } else {
              sound2._panner.setPosition(sound2._pos[0], sound2._pos[1], sound2._pos[2]);
            }
            if (typeof sound2._panner.orientationX !== "undefined") {
              sound2._panner.orientationX.setValueAtTime(sound2._orientation[0], Howler.ctx.currentTime);
              sound2._panner.orientationY.setValueAtTime(sound2._orientation[1], Howler.ctx.currentTime);
              sound2._panner.orientationZ.setValueAtTime(sound2._orientation[2], Howler.ctx.currentTime);
            } else {
              sound2._panner.setOrientation(sound2._orientation[0], sound2._orientation[1], sound2._orientation[2]);
            }
          } else {
            sound2._panner = Howler.ctx.createStereoPanner();
            sound2._panner.pan.setValueAtTime(sound2._stereo, Howler.ctx.currentTime);
          }
          sound2._panner.connect(sound2._node);
          if (!sound2._paused) {
            sound2._parent.pause(sound2._id, true).play(sound2._id, true);
          }
        };
      })();
    }
  });

  // node_modules/snabbdom/build/htmldomapi.js
  function createElement(tagName2, options) {
    return document.createElement(tagName2, options);
  }
  function createElementNS(namespaceURI, qualifiedName, options) {
    return document.createElementNS(namespaceURI, qualifiedName, options);
  }
  function createDocumentFragment() {
    return parseFragment(document.createDocumentFragment());
  }
  function createTextNode(text) {
    return document.createTextNode(text);
  }
  function createComment(text) {
    return document.createComment(text);
  }
  function insertBefore(parentNode2, newNode, referenceNode) {
    if (isDocumentFragment(parentNode2)) {
      let node = parentNode2;
      while (node && isDocumentFragment(node)) {
        const fragment2 = parseFragment(node);
        node = fragment2.parent;
      }
      parentNode2 = node !== null && node !== void 0 ? node : parentNode2;
    }
    if (isDocumentFragment(newNode)) {
      newNode = parseFragment(newNode, parentNode2);
    }
    if (referenceNode && isDocumentFragment(referenceNode)) {
      referenceNode = parseFragment(referenceNode).firstChildNode;
    }
    parentNode2.insertBefore(newNode, referenceNode);
  }
  function removeChild(node, child) {
    node.removeChild(child);
  }
  function appendChild(node, child) {
    if (isDocumentFragment(child)) {
      child = parseFragment(child, node);
    }
    node.appendChild(child);
  }
  function parentNode(node) {
    if (isDocumentFragment(node)) {
      while (node && isDocumentFragment(node)) {
        const fragment2 = parseFragment(node);
        node = fragment2.parent;
      }
      return node !== null && node !== void 0 ? node : null;
    }
    return node.parentNode;
  }
  function nextSibling(node) {
    var _a2;
    if (isDocumentFragment(node)) {
      const fragment2 = parseFragment(node);
      const parent = parentNode(fragment2);
      if (parent && fragment2.lastChildNode) {
        const children = Array.from(parent.childNodes);
        const index = children.indexOf(fragment2.lastChildNode);
        return (_a2 = children[index + 1]) !== null && _a2 !== void 0 ? _a2 : null;
      }
      return null;
    }
    return node.nextSibling;
  }
  function tagName(elm) {
    return elm.tagName;
  }
  function setTextContent(node, text) {
    node.textContent = text;
  }
  function getTextContent(node) {
    return node.textContent;
  }
  function isElement(node) {
    return node.nodeType === 1;
  }
  function isText(node) {
    return node.nodeType === 3;
  }
  function isComment(node) {
    return node.nodeType === 8;
  }
  function isDocumentFragment(node) {
    return node.nodeType === 11;
  }
  function parseFragment(fragmentNode, parentNode2) {
    var _a2, _b, _c;
    const fragment2 = fragmentNode;
    (_a2 = fragment2.parent) !== null && _a2 !== void 0 ? _a2 : fragment2.parent = parentNode2 !== null && parentNode2 !== void 0 ? parentNode2 : null;
    (_b = fragment2.firstChildNode) !== null && _b !== void 0 ? _b : fragment2.firstChildNode = fragmentNode.firstChild;
    (_c = fragment2.lastChildNode) !== null && _c !== void 0 ? _c : fragment2.lastChildNode = fragmentNode.lastChild;
    return fragment2;
  }
  var htmlDomApi = {
    createElement,
    createElementNS,
    createTextNode,
    createDocumentFragment,
    createComment,
    insertBefore,
    removeChild,
    appendChild,
    parentNode,
    nextSibling,
    tagName,
    setTextContent,
    getTextContent,
    isElement,
    isText,
    isComment,
    isDocumentFragment
  };

  // node_modules/snabbdom/build/vnode.js
  function vnode(sel, data, children, text, elm) {
    const key = data === void 0 ? void 0 : data.key;
    return { sel, data, children, text, elm, key };
  }

  // node_modules/snabbdom/build/is.js
  var array = Array.isArray;
  function primitive(s) {
    return typeof s === "string" || typeof s === "number" || s instanceof String || s instanceof Number;
  }

  // node_modules/snabbdom/build/init.js
  function isUndef(s) {
    return s === void 0;
  }
  function isDef(s) {
    return s !== void 0;
  }
  var emptyNode = vnode("", {}, [], void 0, void 0);
  function sameVnode(vnode1, vnode2) {
    var _a2, _b;
    const isSameKey = vnode1.key === vnode2.key;
    const isSameIs = ((_a2 = vnode1.data) === null || _a2 === void 0 ? void 0 : _a2.is) === ((_b = vnode2.data) === null || _b === void 0 ? void 0 : _b.is);
    const isSameSel = vnode1.sel === vnode2.sel;
    const isSameTextOrFragment = !vnode1.sel && vnode1.sel === vnode2.sel ? typeof vnode1.text === typeof vnode2.text : true;
    return isSameSel && isSameKey && isSameIs && isSameTextOrFragment;
  }
  function documentFragmentIsNotSupported() {
    throw new Error("The document fragment is not supported on this platform.");
  }
  function isElement2(api, vnode2) {
    return api.isElement(vnode2);
  }
  function isDocumentFragment2(api, vnode2) {
    return api.isDocumentFragment(vnode2);
  }
  function createKeyToOldIdx(children, beginIdx, endIdx) {
    var _a2;
    const map = {};
    for (let i = beginIdx; i <= endIdx; ++i) {
      const key = (_a2 = children[i]) === null || _a2 === void 0 ? void 0 : _a2.key;
      if (key !== void 0) {
        map[key] = i;
      }
    }
    return map;
  }
  var hooks = [
    "create",
    "update",
    "remove",
    "destroy",
    "pre",
    "post"
  ];
  function init(modules, domApi, options) {
    const cbs = {
      create: [],
      update: [],
      remove: [],
      destroy: [],
      pre: [],
      post: []
    };
    const api = domApi !== void 0 ? domApi : htmlDomApi;
    for (const hook of hooks) {
      for (const module of modules) {
        const currentHook = module[hook];
        if (currentHook !== void 0) {
          cbs[hook].push(currentHook);
        }
      }
    }
    function emptyNodeAt(elm) {
      const id = elm.id ? "#" + elm.id : "";
      const classes = elm.getAttribute("class");
      const c = classes ? "." + classes.split(" ").join(".") : "";
      return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], void 0, elm);
    }
    function emptyDocumentFragmentAt(frag) {
      return vnode(void 0, {}, [], void 0, frag);
    }
    function createRmCb(childElm, listeners) {
      return function rmCb() {
        if (--listeners === 0) {
          const parent = api.parentNode(childElm);
          api.removeChild(parent, childElm);
        }
      };
    }
    function createElm(vnode2, insertedVnodeQueue) {
      var _a2, _b, _c, _d;
      let i;
      let data = vnode2.data;
      if (data !== void 0) {
        const init2 = (_a2 = data.hook) === null || _a2 === void 0 ? void 0 : _a2.init;
        if (isDef(init2)) {
          init2(vnode2);
          data = vnode2.data;
        }
      }
      const children = vnode2.children;
      const sel = vnode2.sel;
      if (sel === "!") {
        if (isUndef(vnode2.text)) {
          vnode2.text = "";
        }
        vnode2.elm = api.createComment(vnode2.text);
      } else if (sel !== void 0) {
        const hashIdx = sel.indexOf("#");
        const dotIdx = sel.indexOf(".", hashIdx);
        const hash2 = hashIdx > 0 ? hashIdx : sel.length;
        const dot = dotIdx > 0 ? dotIdx : sel.length;
        const tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash2, dot)) : sel;
        const elm = vnode2.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag, data) : api.createElement(tag, data);
        if (hash2 < dot)
          elm.setAttribute("id", sel.slice(hash2 + 1, dot));
        if (dotIdx > 0)
          elm.setAttribute("class", sel.slice(dot + 1).replace(/\./g, " "));
        for (i = 0; i < cbs.create.length; ++i)
          cbs.create[i](emptyNode, vnode2);
        if (array(children)) {
          for (i = 0; i < children.length; ++i) {
            const ch = children[i];
            if (ch != null) {
              api.appendChild(elm, createElm(ch, insertedVnodeQueue));
            }
          }
        } else if (primitive(vnode2.text)) {
          api.appendChild(elm, api.createTextNode(vnode2.text));
        }
        const hook = vnode2.data.hook;
        if (isDef(hook)) {
          (_b = hook.create) === null || _b === void 0 ? void 0 : _b.call(hook, emptyNode, vnode2);
          if (hook.insert) {
            insertedVnodeQueue.push(vnode2);
          }
        }
      } else if (((_c = options === null || options === void 0 ? void 0 : options.experimental) === null || _c === void 0 ? void 0 : _c.fragments) && vnode2.children) {
        vnode2.elm = ((_d = api.createDocumentFragment) !== null && _d !== void 0 ? _d : documentFragmentIsNotSupported)();
        for (i = 0; i < cbs.create.length; ++i)
          cbs.create[i](emptyNode, vnode2);
        for (i = 0; i < vnode2.children.length; ++i) {
          const ch = vnode2.children[i];
          if (ch != null) {
            api.appendChild(vnode2.elm, createElm(ch, insertedVnodeQueue));
          }
        }
      } else {
        vnode2.elm = api.createTextNode(vnode2.text);
      }
      return vnode2.elm;
    }
    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {
      for (; startIdx <= endIdx; ++startIdx) {
        const ch = vnodes[startIdx];
        if (ch != null) {
          api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);
        }
      }
    }
    function invokeDestroyHook(vnode2) {
      var _a2, _b;
      const data = vnode2.data;
      if (data !== void 0) {
        (_b = (_a2 = data === null || data === void 0 ? void 0 : data.hook) === null || _a2 === void 0 ? void 0 : _a2.destroy) === null || _b === void 0 ? void 0 : _b.call(_a2, vnode2);
        for (let i = 0; i < cbs.destroy.length; ++i)
          cbs.destroy[i](vnode2);
        if (vnode2.children !== void 0) {
          for (let j = 0; j < vnode2.children.length; ++j) {
            const child = vnode2.children[j];
            if (child != null && typeof child !== "string") {
              invokeDestroyHook(child);
            }
          }
        }
      }
    }
    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {
      var _a2, _b;
      for (; startIdx <= endIdx; ++startIdx) {
        let listeners;
        let rm;
        const ch = vnodes[startIdx];
        if (ch != null) {
          if (isDef(ch.sel)) {
            invokeDestroyHook(ch);
            listeners = cbs.remove.length + 1;
            rm = createRmCb(ch.elm, listeners);
            for (let i = 0; i < cbs.remove.length; ++i)
              cbs.remove[i](ch, rm);
            const removeHook = (_b = (_a2 = ch === null || ch === void 0 ? void 0 : ch.data) === null || _a2 === void 0 ? void 0 : _a2.hook) === null || _b === void 0 ? void 0 : _b.remove;
            if (isDef(removeHook)) {
              removeHook(ch, rm);
            } else {
              rm();
            }
          } else if (ch.children) {
            invokeDestroyHook(ch);
            removeVnodes(parentElm, ch.children, 0, ch.children.length - 1);
          } else {
            api.removeChild(parentElm, ch.elm);
          }
        }
      }
    }
    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {
      let oldStartIdx = 0;
      let newStartIdx = 0;
      let oldEndIdx = oldCh.length - 1;
      let oldStartVnode = oldCh[0];
      let oldEndVnode = oldCh[oldEndIdx];
      let newEndIdx = newCh.length - 1;
      let newStartVnode = newCh[0];
      let newEndVnode = newCh[newEndIdx];
      let oldKeyToIdx;
      let idxInOld;
      let elmToMove;
      let before;
      while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
        if (oldStartVnode == null) {
          oldStartVnode = oldCh[++oldStartIdx];
        } else if (oldEndVnode == null) {
          oldEndVnode = oldCh[--oldEndIdx];
        } else if (newStartVnode == null) {
          newStartVnode = newCh[++newStartIdx];
        } else if (newEndVnode == null) {
          newEndVnode = newCh[--newEndIdx];
        } else if (sameVnode(oldStartVnode, newStartVnode)) {
          patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);
          oldStartVnode = oldCh[++oldStartIdx];
          newStartVnode = newCh[++newStartIdx];
        } else if (sameVnode(oldEndVnode, newEndVnode)) {
          patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);
          oldEndVnode = oldCh[--oldEndIdx];
          newEndVnode = newCh[--newEndIdx];
        } else if (sameVnode(oldStartVnode, newEndVnode)) {
          patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);
          api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));
          oldStartVnode = oldCh[++oldStartIdx];
          newEndVnode = newCh[--newEndIdx];
        } else if (sameVnode(oldEndVnode, newStartVnode)) {
          patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);
          api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);
          oldEndVnode = oldCh[--oldEndIdx];
          newStartVnode = newCh[++newStartIdx];
        } else {
          if (oldKeyToIdx === void 0) {
            oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);
          }
          idxInOld = oldKeyToIdx[newStartVnode.key];
          if (isUndef(idxInOld)) {
            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
          } else {
            elmToMove = oldCh[idxInOld];
            if (elmToMove.sel !== newStartVnode.sel) {
              api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
            } else {
              patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);
              oldCh[idxInOld] = void 0;
              api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);
            }
          }
          newStartVnode = newCh[++newStartIdx];
        }
      }
      if (newStartIdx <= newEndIdx) {
        before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;
        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);
      }
      if (oldStartIdx <= oldEndIdx) {
        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);
      }
    }
    function patchVnode(oldVnode, vnode2, insertedVnodeQueue) {
      var _a2, _b, _c, _d, _e, _f, _g, _h;
      const hook = (_a2 = vnode2.data) === null || _a2 === void 0 ? void 0 : _a2.hook;
      (_b = hook === null || hook === void 0 ? void 0 : hook.prepatch) === null || _b === void 0 ? void 0 : _b.call(hook, oldVnode, vnode2);
      const elm = vnode2.elm = oldVnode.elm;
      if (oldVnode === vnode2)
        return;
      if (vnode2.data !== void 0 || isDef(vnode2.text) && vnode2.text !== oldVnode.text) {
        (_c = vnode2.data) !== null && _c !== void 0 ? _c : vnode2.data = {};
        (_d = oldVnode.data) !== null && _d !== void 0 ? _d : oldVnode.data = {};
        for (let i = 0; i < cbs.update.length; ++i)
          cbs.update[i](oldVnode, vnode2);
        (_g = (_f = (_e = vnode2.data) === null || _e === void 0 ? void 0 : _e.hook) === null || _f === void 0 ? void 0 : _f.update) === null || _g === void 0 ? void 0 : _g.call(_f, oldVnode, vnode2);
      }
      const oldCh = oldVnode.children;
      const ch = vnode2.children;
      if (isUndef(vnode2.text)) {
        if (isDef(oldCh) && isDef(ch)) {
          if (oldCh !== ch)
            updateChildren(elm, oldCh, ch, insertedVnodeQueue);
        } else if (isDef(ch)) {
          if (isDef(oldVnode.text))
            api.setTextContent(elm, "");
          addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);
        } else if (isDef(oldCh)) {
          removeVnodes(elm, oldCh, 0, oldCh.length - 1);
        } else if (isDef(oldVnode.text)) {
          api.setTextContent(elm, "");
        }
      } else if (oldVnode.text !== vnode2.text) {
        if (isDef(oldCh)) {
          removeVnodes(elm, oldCh, 0, oldCh.length - 1);
        }
        api.setTextContent(elm, vnode2.text);
      }
      (_h = hook === null || hook === void 0 ? void 0 : hook.postpatch) === null || _h === void 0 ? void 0 : _h.call(hook, oldVnode, vnode2);
    }
    return function patch2(oldVnode, vnode2) {
      let i, elm, parent;
      const insertedVnodeQueue = [];
      for (i = 0; i < cbs.pre.length; ++i)
        cbs.pre[i]();
      if (isElement2(api, oldVnode)) {
        oldVnode = emptyNodeAt(oldVnode);
      } else if (isDocumentFragment2(api, oldVnode)) {
        oldVnode = emptyDocumentFragmentAt(oldVnode);
      }
      if (sameVnode(oldVnode, vnode2)) {
        patchVnode(oldVnode, vnode2, insertedVnodeQueue);
      } else {
        elm = oldVnode.elm;
        parent = api.parentNode(elm);
        createElm(vnode2, insertedVnodeQueue);
        if (parent !== null) {
          api.insertBefore(parent, vnode2.elm, api.nextSibling(elm));
          removeVnodes(parent, [oldVnode], 0, 0);
        }
      }
      for (i = 0; i < insertedVnodeQueue.length; ++i) {
        insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);
      }
      for (i = 0; i < cbs.post.length; ++i)
        cbs.post[i]();
      return vnode2;
    };
  }

  // node_modules/snabbdom/build/h.js
  function addNS(data, children, sel) {
    data.ns = "http://www.w3.org/2000/svg";
    if (sel !== "foreignObject" && children !== void 0) {
      for (let i = 0; i < children.length; ++i) {
        const child = children[i];
        if (typeof child === "string")
          continue;
        const childData = child.data;
        if (childData !== void 0) {
          addNS(childData, child.children, child.sel);
        }
      }
    }
  }
  function h(sel, b, c) {
    let data = {};
    let children;
    let text;
    let i;
    if (c !== void 0) {
      if (b !== null) {
        data = b;
      }
      if (array(c)) {
        children = c;
      } else if (primitive(c)) {
        text = c.toString();
      } else if (c && c.sel) {
        children = [c];
      }
    } else if (b !== void 0 && b !== null) {
      if (array(b)) {
        children = b;
      } else if (primitive(b)) {
        text = b.toString();
      } else if (b && b.sel) {
        children = [b];
      } else {
        data = b;
      }
    }
    if (children !== void 0) {
      for (i = 0; i < children.length; ++i) {
        if (primitive(children[i]))
          children[i] = vnode(void 0, void 0, void 0, children[i], void 0);
      }
    }
    if (sel[0] === "s" && sel[1] === "v" && sel[2] === "g" && (sel.length === 3 || sel[3] === "." || sel[3] === "#")) {
      addNS(data, children, sel);
    }
    return vnode(sel, data, children, text, void 0);
  }

  // node_modules/snabbdom/build/tovnode.js
  function toVNode(node, domApi) {
    const api = domApi !== void 0 ? domApi : htmlDomApi;
    let text;
    if (api.isElement(node)) {
      const id = node.id ? "#" + node.id : "";
      const cn = node.getAttribute("class");
      const c = cn ? "." + cn.split(" ").join(".") : "";
      const sel = api.tagName(node).toLowerCase() + id + c;
      const attrs = {};
      const dataset = {};
      const data = {};
      const children = [];
      let name;
      let i, n;
      const elmAttrs = node.attributes;
      const elmChildren = node.childNodes;
      for (i = 0, n = elmAttrs.length; i < n; i++) {
        name = elmAttrs[i].nodeName;
        if (name[0] === "d" && name[1] === "a" && name[2] === "t" && name[3] === "a" && name[4] === "-") {
          dataset[name.slice(5)] = elmAttrs[i].nodeValue || "";
        } else if (name !== "id" && name !== "class") {
          attrs[name] = elmAttrs[i].nodeValue;
        }
      }
      for (i = 0, n = elmChildren.length; i < n; i++) {
        children.push(toVNode(elmChildren[i], domApi));
      }
      if (Object.keys(attrs).length > 0)
        data.attrs = attrs;
      if (Object.keys(dataset).length > 0)
        data.dataset = dataset;
      if (sel[0] === "s" && sel[1] === "v" && sel[2] === "g" && (sel.length === 3 || sel[3] === "." || sel[3] === "#")) {
        addNS(data, children, sel);
      }
      return vnode(sel, data, children, void 0, node);
    } else if (api.isText(node)) {
      text = api.getTextContent(node);
      return vnode(void 0, void 0, void 0, text, node);
    } else if (api.isComment(node)) {
      text = api.getTextContent(node);
      return vnode("!", {}, [], text, node);
    } else {
      return vnode("", {}, [], void 0, node);
    }
  }

  // node_modules/snabbdom/build/modules/attributes.js
  var xlinkNS = "http://www.w3.org/1999/xlink";
  var xmlNS = "http://www.w3.org/XML/1998/namespace";
  var colonChar = 58;
  var xChar = 120;
  function updateAttrs(oldVnode, vnode2) {
    let key;
    const elm = vnode2.elm;
    let oldAttrs = oldVnode.data.attrs;
    let attrs = vnode2.data.attrs;
    if (!oldAttrs && !attrs)
      return;
    if (oldAttrs === attrs)
      return;
    oldAttrs = oldAttrs || {};
    attrs = attrs || {};
    for (key in attrs) {
      const cur = attrs[key];
      const old = oldAttrs[key];
      if (old !== cur) {
        if (cur === true) {
          elm.setAttribute(key, "");
        } else if (cur === false) {
          elm.removeAttribute(key);
        } else {
          if (key.charCodeAt(0) !== xChar) {
            elm.setAttribute(key, cur);
          } else if (key.charCodeAt(3) === colonChar) {
            elm.setAttributeNS(xmlNS, key, cur);
          } else if (key.charCodeAt(5) === colonChar) {
            elm.setAttributeNS(xlinkNS, key, cur);
          } else {
            elm.setAttribute(key, cur);
          }
        }
      }
    }
    for (key in oldAttrs) {
      if (!(key in attrs)) {
        elm.removeAttribute(key);
      }
    }
  }
  var attributesModule = {
    create: updateAttrs,
    update: updateAttrs
  };

  // node_modules/snabbdom/build/modules/class.js
  function updateClass(oldVnode, vnode2) {
    let cur;
    let name;
    const elm = vnode2.elm;
    let oldClass = oldVnode.data.class;
    let klass = vnode2.data.class;
    if (!oldClass && !klass)
      return;
    if (oldClass === klass)
      return;
    oldClass = oldClass || {};
    klass = klass || {};
    for (name in oldClass) {
      if (oldClass[name] && !Object.prototype.hasOwnProperty.call(klass, name)) {
        elm.classList.remove(name);
      }
    }
    for (name in klass) {
      cur = klass[name];
      if (cur !== oldClass[name]) {
        elm.classList[cur ? "add" : "remove"](name);
      }
    }
  }
  var classModule = { create: updateClass, update: updateClass };

  // node_modules/snabbdom/build/modules/eventlisteners.js
  function invokeHandler(handler, vnode2, event) {
    if (typeof handler === "function") {
      handler.call(vnode2, event, vnode2);
    } else if (typeof handler === "object") {
      for (let i = 0; i < handler.length; i++) {
        invokeHandler(handler[i], vnode2, event);
      }
    }
  }
  function handleEvent(event, vnode2) {
    const name = event.type;
    const on = vnode2.data.on;
    if (on && on[name]) {
      invokeHandler(on[name], vnode2, event);
    }
  }
  function createListener() {
    return function handler(event) {
      handleEvent(event, handler.vnode);
    };
  }
  function updateEventListeners(oldVnode, vnode2) {
    const oldOn = oldVnode.data.on;
    const oldListener = oldVnode.listener;
    const oldElm = oldVnode.elm;
    const on = vnode2 && vnode2.data.on;
    const elm = vnode2 && vnode2.elm;
    let name;
    if (oldOn === on) {
      return;
    }
    if (oldOn && oldListener) {
      if (!on) {
        for (name in oldOn) {
          oldElm.removeEventListener(name, oldListener, false);
        }
      } else {
        for (name in oldOn) {
          if (!on[name]) {
            oldElm.removeEventListener(name, oldListener, false);
          }
        }
      }
    }
    if (on) {
      const listener = vnode2.listener = oldVnode.listener || createListener();
      listener.vnode = vnode2;
      if (!oldOn) {
        for (name in on) {
          elm.addEventListener(name, listener, false);
        }
      } else {
        for (name in on) {
          if (!oldOn[name]) {
            elm.addEventListener(name, listener, false);
          }
        }
      }
    }
  }
  var eventListenersModule = {
    create: updateEventListeners,
    update: updateEventListeners,
    destroy: updateEventListeners
  };

  // node_modules/snabbdom/build/modules/props.js
  function updateProps(oldVnode, vnode2) {
    let key;
    let cur;
    let old;
    const elm = vnode2.elm;
    let oldProps = oldVnode.data.props;
    let props = vnode2.data.props;
    if (!oldProps && !props)
      return;
    if (oldProps === props)
      return;
    oldProps = oldProps || {};
    props = props || {};
    for (key in props) {
      cur = props[key];
      old = oldProps[key];
      if (old !== cur && (key !== "value" || elm[key] !== cur)) {
        elm[key] = cur;
      }
    }
  }
  var propsModule = { create: updateProps, update: updateProps };

  // node_modules/snabbdom/build/modules/style.js
  var raf = typeof window !== "undefined" && window.requestAnimationFrame.bind(window) || setTimeout;
  var nextFrame = function(fn) {
    raf(function() {
      raf(fn);
    });
  };
  var reflowForced = false;
  function setNextFrame(obj, prop, val) {
    nextFrame(function() {
      obj[prop] = val;
    });
  }
  function updateStyle(oldVnode, vnode2) {
    let cur;
    let name;
    const elm = vnode2.elm;
    let oldStyle = oldVnode.data.style;
    let style = vnode2.data.style;
    if (!oldStyle && !style)
      return;
    if (oldStyle === style)
      return;
    oldStyle = oldStyle || {};
    style = style || {};
    const oldHasDel = "delayed" in oldStyle;
    for (name in oldStyle) {
      if (!style[name]) {
        if (name[0] === "-" && name[1] === "-") {
          elm.style.removeProperty(name);
        } else {
          elm.style[name] = "";
        }
      }
    }
    for (name in style) {
      cur = style[name];
      if (name === "delayed" && style.delayed) {
        for (const name2 in style.delayed) {
          cur = style.delayed[name2];
          if (!oldHasDel || cur !== oldStyle.delayed[name2]) {
            setNextFrame(elm.style, name2, cur);
          }
        }
      } else if (name !== "remove" && cur !== oldStyle[name]) {
        if (name[0] === "-" && name[1] === "-") {
          elm.style.setProperty(name, cur);
        } else {
          elm.style[name] = cur;
        }
      }
    }
  }
  function applyDestroyStyle(vnode2) {
    let style;
    let name;
    const elm = vnode2.elm;
    const s = vnode2.data.style;
    if (!s || !(style = s.destroy))
      return;
    for (name in style) {
      elm.style[name] = style[name];
    }
  }
  function applyRemoveStyle(vnode2, rm) {
    const s = vnode2.data.style;
    if (!s || !s.remove) {
      rm();
      return;
    }
    if (!reflowForced) {
      vnode2.elm.offsetLeft;
      reflowForced = true;
    }
    let name;
    const elm = vnode2.elm;
    let i = 0;
    const style = s.remove;
    let amount = 0;
    const applied = [];
    for (name in style) {
      applied.push(name);
      elm.style[name] = style[name];
    }
    const compStyle = getComputedStyle(elm);
    const props = compStyle["transition-property"].split(", ");
    for (; i < props.length; ++i) {
      if (applied.indexOf(props[i]) !== -1)
        amount++;
    }
    elm.addEventListener("transitionend", function(ev) {
      if (ev.target === elm)
        --amount;
      if (amount === 0)
        rm();
    });
  }
  function forceReflow() {
    reflowForced = false;
  }
  var styleModule = {
    pre: forceReflow,
    create: updateStyle,
    update: updateStyle,
    destroy: applyDestroyStyle,
    remove: applyRemoveStyle
  };

  // client/document.ts
  var patch = init([classModule, attributesModule, propsModule, eventListenersModule, styleModule]);
  function getDocumentData(name) {
    const elm = document.getElementById("pychess-variants");
    if (elm) {
      return elm.getAttribute("data-" + name.toLowerCase());
    } else {
      return "";
    }
  }
  function changeCSS(cssLinkIndex, cssFile) {
    document.getElementsByTagName("link").item(cssLinkIndex).setAttribute("href", cssFile);
  }
  var BOARD_CSS_IDX = 1;
  var PIECE_CSS_IDX = 2;
  function changeBoardCSS(assetUrl, family, cssFile) {
    const sheet = document.styleSheets[BOARD_CSS_IDX];
    const cssRules = sheet.cssRules;
    for (let i = 0; i < cssRules.length; i++) {
      const rule = cssRules[i];
      if (!(rule instanceof CSSStyleRule)) {
        continue;
      }
      if (rule.selectorText === `.${family} cg-board`) {
        sheet.deleteRule(i);
        const newRule = `.${family} cg-board {background-image: url(${assetUrl}/images/board/${cssFile})}`;
        sheet.insertRule(newRule, i);
        break;
      }
    }
  }
  function changePieceCSS(assetUrl, family, cssFile) {
    let cssLinkIndex = PIECE_CSS_IDX;
    switch (family) {
      case "standard":
        break;
      case "seirawan":
        cssLinkIndex += 1;
        break;
      case "makruk":
        cssLinkIndex += 2;
        break;
      case "sittuyin":
        cssLinkIndex += 3;
        break;
      case "asean":
        cssLinkIndex += 4;
        break;
      case "shogi":
        cssLinkIndex += 5;
        break;
      case "kyoto":
        cssLinkIndex += 6;
        break;
      case "tori":
        cssLinkIndex += 7;
        break;
      case "xiangqi":
        cssLinkIndex += 8;
        break;
      case "capa":
        cssLinkIndex += 9;
        break;
      case "shako":
        cssLinkIndex += 10;
        break;
      case "shogun":
        cssLinkIndex += 11;
        break;
      case "janggi":
        cssLinkIndex += 12;
        break;
      case "orda":
        cssLinkIndex += 13;
        break;
      case "synochess":
        cssLinkIndex += 14;
        break;
      case "hoppel":
        cssLinkIndex += 15;
        break;
      case "dobutsu":
        cssLinkIndex += 16;
        break;
      case "shinobi":
        cssLinkIndex += 17;
        break;
      case "empire":
        cssLinkIndex += 18;
        break;
      case "ordamirror":
        cssLinkIndex += 19;
        break;
      case "chak":
        cssLinkIndex += 20;
        break;
      case "chennis":
        cssLinkIndex += 21;
        break;
      case "spartan":
        cssLinkIndex += 22;
        break;
      default:
        throw "Unknown piece family " + family;
    }
    const newUrl = `${assetUrl}/piece/${family}/${cssFile}.css`;
    changeCSS(cssLinkIndex, newUrl);
  }
  function bind(eventName, f, redraw) {
    return {
      insert(vnode2) {
        var _a2;
        (_a2 = vnode2.elm) == null ? void 0 : _a2.addEventListener(eventName, (e) => {
          const res = f(e);
          if (redraw)
            redraw();
          return res;
        });
      }
    };
  }

  // node_modules/chessgroundx/types.js
  var Notation;
  (function(Notation3) {
    Notation3[Notation3["ALGEBRAIC"] = 0] = "ALGEBRAIC";
    Notation3[Notation3["SHOGI_ENGLET"] = 1] = "SHOGI_ENGLET";
    Notation3[Notation3["SHOGI_ARBNUM"] = 2] = "SHOGI_ARBNUM";
    Notation3[Notation3["SHOGI_HANNUM"] = 3] = "SHOGI_HANNUM";
    Notation3[Notation3["JANGGI"] = 4] = "JANGGI";
    Notation3[Notation3["XIANGQI_ARBNUM"] = 5] = "XIANGQI_ARBNUM";
    Notation3[Notation3["XIANGQI_HANNUM"] = 6] = "XIANGQI_HANNUM";
    Notation3[Notation3["THAI_ALGEBRAIC"] = 7] = "THAI_ALGEBRAIC";
  })(Notation || (Notation = {}));
  var colors = ["white", "black"];
  var files = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p"];
  var ranks = ["1", "2", "3", "4", "5", "6", "7", "8", "9", ":", ";", "<", "=", ">", "?", "@"];
  var letters = [
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
    "g",
    "h",
    "i",
    "j",
    "k",
    "l",
    "m",
    "n",
    "o",
    "p",
    "q",
    "r",
    "s",
    "t",
    "u",
    "v",
    "w",
    "x",
    "y",
    "z"
  ];

  // node_modules/chessgroundx/util.js
  var invRanks = [...ranks].reverse();
  function files2(n) {
    return files.slice(0, n);
  }
  function ranks2(n) {
    return ranks.slice(0, n);
  }
  function allKeys(bd) {
    return Array.prototype.concat(...files2(bd.width).map((c) => ranks2(bd.height).map((r) => c + r)));
  }
  function allPos(bd) {
    return allKeys(bd).map(key2pos);
  }
  var pos2key = (pos) => files[pos[0]] + ranks[pos[1]];
  var key2pos = (k) => [k.charCodeAt(0) - 97, k.charCodeAt(1) - 49];
  function roleOf(letter) {
    return letter.replace("+", "p").replace("*", "_").replace("@", "").toLowerCase() + "-piece";
  }
  function letterOf(role, uppercase = false) {
    const letterPart = role.slice(0, role.indexOf("-"));
    const letter = (letterPart.length > 1 ? letterPart.replace("p", "+") : letterPart).replace("_", "*");
    return uppercase ? letter.toUpperCase() : letter;
  }
  function dropOrigOf(role) {
    return letterOf(role, true) + "@";
  }
  function isDropOrig(orig) {
    return orig[0] === orig[0].toUpperCase();
  }
  function isKey(selectable) {
    return typeof selectable === "string" && selectable[0] === selectable[0].toLowerCase();
  }
  function isPiece(selectable) {
    return typeof selectable !== "string";
  }
  function isSame(lhs, rhs) {
    if (isPiece(lhs) && isPiece(rhs))
      return samePiece(lhs, rhs);
    else
      return lhs === rhs;
  }
  function changeNumber(map, key, num) {
    var _a2;
    map.set(key, ((_a2 = map.get(key)) !== null && _a2 !== void 0 ? _a2 : 0) + num);
  }
  function memo(f) {
    let v;
    const ret = () => {
      if (v === void 0)
        v = f();
      return v;
    };
    ret.clear = () => {
      v = void 0;
    };
    return ret;
  }
  var timer = () => {
    let startAt;
    return {
      start() {
        startAt = performance.now();
      },
      cancel() {
        startAt = void 0;
      },
      stop() {
        if (!startAt)
          return 0;
        const time = performance.now() - startAt;
        startAt = void 0;
        return time;
      }
    };
  };
  var opposite = (c) => c === "white" ? "black" : "white";
  var samePiece = (p1, p2) => p1.role === p2.role && p1.color === p2.color && !!p1.promoted === !!p2.promoted;
  var pieceSide = (p, o) => p.color === o ? "ally" : "enemy";
  var pieceClasses = (p, o) => `${p.color} ${pieceSide(p, o)} ${p.promoted ? "promoted " : ""}${p.role}`;
  var distanceSq = (pos1, pos2) => {
    const dx = pos1[0] - pos2[0], dy = pos1[1] - pos2[1];
    return dx * dx + dy * dy;
  };
  var posToTranslate = (bounds, bd) => (pos, asWhite) => [
    (asWhite ? pos[0] : bd.width - 1 - pos[0]) * bounds.width / bd.width,
    (asWhite ? bd.height - 1 - pos[1] : pos[1]) * bounds.height / bd.height
  ];
  var translate = (el, pos) => {
    el.style.transform = `translate(${pos[0]}px,${pos[1]}px)`;
  };
  var translateAndScale = (el, pos, scale = 1) => {
    el.style.transform = `translate(${pos[0]}px,${pos[1]}px) scale(${scale})`;
  };
  var setVisible = (el, v) => {
    el.style.visibility = v ? "visible" : "hidden";
  };
  var eventPosition = (e) => {
    var _a2;
    if (e.clientX || e.clientX === 0)
      return [e.clientX, e.clientY];
    if ((_a2 = e.targetTouches) === null || _a2 === void 0 ? void 0 : _a2[0])
      return [e.targetTouches[0].clientX, e.targetTouches[0].clientY];
    return;
  };
  var isRightButton = (e) => e.buttons === 2 || e.button === 2;
  var createEl = (tagName2, className) => {
    const el = document.createElement(tagName2);
    if (className)
      el.className = className;
    return el;
  };
  var isMiniBoard = (el) => {
    return Array.from(el.classList).includes("mini");
  };
  function computeSquareCenter(key, asWhite, bounds, bd) {
    const pos = key2pos(key);
    if (!asWhite) {
      pos[0] = bd.width - 1 - pos[0];
      pos[1] = bd.height - 1 - pos[1];
    }
    return [
      bounds.left + bounds.width * (pos[0] + 0.5) / bd.width,
      bounds.top + bounds.height * (bd.height - pos[1] - 0.5) / bd.height
    ];
  }

  // node_modules/gettext.js/lib/gettext.js
  var i18n = function(options) {
    options = options || {};
    this && (this.__version = "1.1.1");
    var defaults2 = {
      domain: "messages",
      locale: (typeof document !== "undefined" ? document.documentElement.getAttribute("lang") : false) || "en",
      plural_func: function(n) {
        return { nplurals: 2, plural: n != 1 ? 1 : 0 };
      },
      ctxt_delimiter: String.fromCharCode(4)
      // \u0004
    };
    var _2 = {
      isObject: function(obj) {
        var type = typeof obj;
        return type === "function" || type === "object" && !!obj;
      },
      isArray: function(obj) {
        return toString.call(obj) === "[object Array]";
      }
    };
    var _plural_funcs = {}, _locale = options.locale || defaults2.locale, _domain = options.domain || defaults2.domain, _dictionary = {}, _plural_forms = {}, _ctxt_delimiter = options.ctxt_delimiter || defaults2.ctxt_delimiter;
    if (options.messages) {
      _dictionary[_domain] = {};
      _dictionary[_domain][_locale] = options.messages;
    }
    if (options.plural_forms) {
      _plural_forms[_locale] = options.plural_forms;
    }
    var strfmt = function(fmt) {
      var args = arguments;
      return fmt.replace(/%%/g, "%% ").replace(/%(\d+)/g, function(str, p1) {
        return args[p1];
      }).replace(/%% /g, "%");
    };
    var removeContext = function(str) {
      if (str.indexOf(_ctxt_delimiter) !== -1) {
        var parts = str.split(_ctxt_delimiter);
        return parts[1];
      }
      return str;
    };
    var expand_locale = function(locale) {
      var locales = [locale], i = locale.lastIndexOf("-");
      while (i > 0) {
        locale = locale.slice(0, i);
        locales.push(locale);
        i = locale.lastIndexOf("-");
      }
      return locales;
    };
    var normalizeLocale = function(locale) {
      locale = locale.replace("_", "-");
      var i = locale.search(/[.@]/);
      if (i != -1)
        locale = locale.slice(0, i);
      return locale;
    };
    var getPluralFunc = function(plural_form) {
      var pf_re = new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");
      if (!pf_re.test(plural_form))
        throw new Error(strfmt('The plural form "%1" is not valid', plural_form));
      return new Function("n", "var plural, nplurals; " + plural_form + " return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };");
    };
    var t = function(messages, n, options2) {
      if (!options2.plural_form)
        return strfmt.apply(this, [removeContext(messages[0])].concat(Array.prototype.slice.call(arguments, 3)));
      var plural;
      if (options2.plural_func) {
        plural = options2.plural_func(n);
      } else if (!_plural_funcs[_locale]) {
        _plural_funcs[_locale] = getPluralFunc(_plural_forms[_locale]);
        plural = _plural_funcs[_locale](n);
      } else {
        plural = _plural_funcs[_locale](n);
      }
      if ("undefined" === typeof plural.plural || plural.plural > plural.nplurals || messages.length <= plural.plural)
        plural.plural = 0;
      return strfmt.apply(this, [removeContext(messages[plural.plural]), n].concat(Array.prototype.slice.call(arguments, 3)));
    };
    return {
      strfmt,
      // expose strfmt util
      expand_locale,
      // expose expand_locale util
      // Declare shortcuts
      __: function() {
        return this.gettext.apply(this, arguments);
      },
      _n: function() {
        return this.ngettext.apply(this, arguments);
      },
      _p: function() {
        return this.pgettext.apply(this, arguments);
      },
      setMessages: function(domain, locale, messages, plural_forms) {
        if (!domain || !locale || !messages)
          throw new Error("You must provide a domain, a locale and messages");
        if ("string" !== typeof domain || "string" !== typeof locale || !_2.isObject(messages))
          throw new Error("Invalid arguments");
        locale = normalizeLocale(locale);
        if (plural_forms)
          _plural_forms[locale] = plural_forms;
        if (!_dictionary[domain])
          _dictionary[domain] = {};
        _dictionary[domain][locale] = messages;
        return this;
      },
      loadJSON: function(jsonData, domain) {
        if (!_2.isObject(jsonData))
          jsonData = JSON.parse(jsonData);
        if (!jsonData[""] || !jsonData[""]["language"] || !jsonData[""]["plural-forms"])
          throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');
        var headers = jsonData[""];
        delete jsonData[""];
        return this.setMessages(domain || defaults2.domain, headers["language"], jsonData, headers["plural-forms"]);
      },
      setLocale: function(locale) {
        _locale = normalizeLocale(locale);
        return this;
      },
      getLocale: function() {
        return _locale;
      },
      // getter/setter for domain
      textdomain: function(domain) {
        if (!domain)
          return _domain;
        _domain = domain;
        return this;
      },
      gettext: function(msgid) {
        return this.dcnpgettext.apply(this, [void 0, void 0, msgid, void 0, void 0].concat(Array.prototype.slice.call(arguments, 1)));
      },
      ngettext: function(msgid, msgid_plural, n) {
        return this.dcnpgettext.apply(this, [void 0, void 0, msgid, msgid_plural, n].concat(Array.prototype.slice.call(arguments, 3)));
      },
      pgettext: function(msgctxt, msgid) {
        return this.dcnpgettext.apply(this, [void 0, msgctxt, msgid, void 0, void 0].concat(Array.prototype.slice.call(arguments, 2)));
      },
      dcnpgettext: function(domain, msgctxt, msgid, msgid_plural, n) {
        domain = domain || _domain;
        if ("string" !== typeof msgid)
          throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string', msgid));
        var translation, options2 = { plural_form: false }, key = msgctxt ? msgctxt + _ctxt_delimiter + msgid : msgid, exist, locale, locales = expand_locale(_locale);
        for (var i in locales) {
          locale = locales[i];
          exist = _dictionary[domain] && _dictionary[domain][locale] && _dictionary[domain][locale][key];
          if (msgid_plural) {
            exist = exist && "string" !== typeof _dictionary[domain][locale][key];
          } else {
            exist = exist && "string" === typeof _dictionary[domain][locale][key];
          }
          if (exist) {
            break;
          }
        }
        if (!exist) {
          translation = msgid;
          options2.plural_func = defaults2.plural_func;
        } else {
          translation = _dictionary[domain][locale][key];
        }
        if (!msgid_plural)
          return t.apply(this, [[translation], n, options2].concat(Array.prototype.slice.call(arguments, 5)));
        options2.plural_form = true;
        return t.apply(this, [exist ? translation : [msgid, msgid_plural], n, options2].concat(Array.prototype.slice.call(arguments, 5)));
      }
    };
  };
  var gettext_default = i18n;

  // client/settings.ts
  var Settings = class {
    constructor(name) {
      this.name = name;
    }
    get value() {
      return this._value;
    }
    set value(value) {
      localStorage[this.name] = value;
      this._value = value;
      this.update();
    }
  };
  var StringSettings = class extends Settings {
    constructor(name, defaultValue) {
      var _a2, _b;
      super(name);
      this._value = (_b = (_a2 = getDocumentData(name)) != null ? _a2 : localStorage[name]) != null ? _b : defaultValue;
    }
  };
  var NumberSettings = class extends Settings {
    constructor(name, defaultValue) {
      var _a2, _b;
      super(name);
      this._value = Number((_b = getDocumentData(name)) != null ? _b : (_a2 = localStorage[name]) != null ? _a2 : defaultValue);
    }
  };
  var BooleanSettings = class extends Settings {
    constructor(name, defaultValue) {
      super(name);
      if (getDocumentData(name))
        this._value = getDocumentData(name) === "True";
      else if (localStorage[name])
        this._value = localStorage[name] === "true";
      else
        this._value = defaultValue;
    }
  };

  // node_modules/idb-keyval/dist/index.js
  function promisifyRequest(request) {
    return new Promise((resolve, reject) => {
      request.oncomplete = request.onsuccess = () => resolve(request.result);
      request.onabort = request.onerror = () => reject(request.error);
    });
  }
  function createStore(dbName, storeName) {
    const request = indexedDB.open(dbName);
    request.onupgradeneeded = () => request.result.createObjectStore(storeName);
    const dbp = promisifyRequest(request);
    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));
  }
  var defaultGetStoreFunc;
  function defaultGetStore() {
    if (!defaultGetStoreFunc) {
      defaultGetStoreFunc = createStore("keyval-store", "keyval");
    }
    return defaultGetStoreFunc;
  }
  function get(key, customStore = defaultGetStore()) {
    return customStore("readonly", (store) => promisifyRequest(store.get(key)));
  }
  function set(key, value, customStore = defaultGetStore()) {
    return customStore("readwrite", (store) => {
      store.put(value, key);
      return promisifyRequest(store.transaction);
    });
  }
  function del(key, customStore = defaultGetStore()) {
    return customStore("readwrite", (store) => {
      store.delete(key);
      return promisifyRequest(store.transaction);
    });
  }

  // client/view.ts
  function radioList(settings, name, options, onchange) {
    const result = [];
    Object.keys(options).forEach((key) => {
      const id = name + "-" + key;
      result.push(h(`input#${id}`, {
        props: { name, type: "radio", value: key },
        attrs: { checked: settings.value === key },
        on: { change: (evt) => onchange(evt, key) }
      }));
      result.push(h("label", { attrs: { for: id } }, options[key]));
    });
    return result;
  }
  function slider(settings, name, min = 0, max = 100, step2 = 1, text) {
    const id = name;
    return [
      h(`input#${id}.slider`, {
        props: { name, type: "range", min, max, step: step2, value: settings.value },
        on: { input: (e) => settings.value = Number(e.target.value) }
      }),
      h("label", { attrs: { for: id } }, text)
    ];
  }
  function checkbox(settings, name, text) {
    const id = name;
    return [
      h(`input#${id}`, {
        props: { name, type: "checkbox" },
        attrs: { checked: settings.value },
        on: { change: (evt) => settings.value = evt.target.checked }
      }),
      h("label", { attrs: { for: id } }, text)
    ];
  }
  function nnueFile(settings, name, text, variant2) {
    const id = name;
    return [
      h(`input#${id}`, {
        props: { name, type: "file", accept: "*.nnue", title: _("Page reload required after change") },
        on: { change: (evt) => {
          const files3 = evt.target.files;
          if (files3 && files3.length > 0) {
            const fileName = files3[0].name;
            if (possibleNnueFile(fileName, variant2)) {
              settings.value = "";
              console.log("Selected file:", fileName);
              get(`${variant2}--nnue-file`).then((nnuefile) => {
                if (nnuefile === void 0) {
                  saveNnueFileToIdb(settings, variant2, files3[0]);
                } else {
                  if (nnuefile === fileName) {
                    console.log(variant2, "is already in idb.");
                  } else {
                    del(`${variant2}--nnue-file`);
                    saveNnueFileToIdb(settings, variant2, files3[0]);
                  }
                }
              });
            }
          }
        } }
      }),
      h("label", { attrs: { for: id } }, text)
    ];
  }
  function saveNnueFileToIdb(settings, variant2, file) {
    const fileName = file.name;
    var fileReader = new FileReader();
    fileReader.onload = function(event) {
      set(`${variant2}--nnue-data`, event.target.result).then(() => {
        set(`${variant2}--nnue-file`, fileName).then((nnuefile) => {
          settings.value = fileName;
          console.log(`${nnuefile} saved!`);
        }).catch((err) => {
          alert(err);
        });
      }).catch((err) => {
        alert(err);
      });
    };
    fileReader.readAsArrayBuffer(file);
  }
  function possibleNnueFile(fileName, variant2) {
    let possible;
    let prefix;
    switch (variant2) {
      case "chess":
      case "placement":
        prefix = "nn";
        break;
      case "cambodian":
        prefix = "makruk";
        break;
      default:
        prefix = variant2;
    }
    possible = fileName.startsWith(`${prefix}-`);
    if (!possible) {
      alert(`.nnue file name required to start with ${prefix}-`);
    }
    return possible;
  }

  // client/i18n.ts
  var i18n2 = gettext_default();
  function _(msgid, ...vars) {
    return i18n2.gettext(msgid, vars);
  }
  var LANGUAGES = {
    en: "English",
    de: "Deutsch",
    es: "Espa\xF1ol",
    fr: "Fran\xE7ais",
    gl_ES: "Galego",
    hu: "Magyar",
    it: "Italiano",
    ja: "\u65E5\u672C\u8A9E",
    ko: "\uD55C\uAD6D\uC5B4",
    nl: "Nederlands",
    pl: "Polskie",
    pt: "Portugu\xEAs",
    ru: "P\u0443\u0441\u0441\u043A\u0438\u0439",
    th: "\u0E44\u0E17\u0E22",
    tr: "T\xFCrk\xE7e",
    zh_CN: "\u7B80\u4F53\u4E2D\u6587",
    zh_TW: "\u7E41\u9AD4\u4E2D\u6587"
  };
  var LANGUAGETEXT = {
    en: "Language",
    de: "Sprache",
    es: "Idioma",
    fr: "Langue",
    gl_ES: "Lingua",
    hu: "Nyelv",
    it: "Lingua",
    ja: "\u8A00\u8A9E",
    ko: "\uC5B8\uC5B4",
    nl: "Taal",
    pl: "J\u0119zyk ",
    pt: "Lingua",
    ru: "\u042F\u0437\u044B\u043A",
    th: "\u0E20\u0E32\u0E29\u0E32",
    tr: "Dil",
    zh_CN: "\u8BED\u8A00",
    zh_TW: "\u8A9E\u8A00"
  };
  var preferredLang = window.navigator.language.slice(0, 2);
  var _a;
  var translatedLanguage = (_a = LANGUAGETEXT[preferredLang]) != null ? _a : "Language";
  var translatedColorNames = [
    _("White"),
    _("Black"),
    _("Red"),
    _("Blue"),
    _("Gold"),
    _("Pink"),
    _("Green")
  ];
  var translatedVariantDisplayNames = [
    _("chess"),
    _("crazyhouse"),
    _("placement"),
    _("atomic"),
    _("makruk"),
    _("makpong"),
    _("ouk chaktrang"),
    _("sittuyin"),
    _("asean"),
    _("shogi"),
    _("minishogi"),
    _("kyoto shogi"),
    _("dobutsu"),
    _("gorogoro"),
    _("gorogoro+"),
    _("tori shogi"),
    _("xiangqi"),
    _("manchu"),
    _("janggi"),
    _("minixiangqi"),
    _("capablanca"),
    _("capahouse"),
    _("s-chess"),
    _("s-house"),
    _("grand"),
    _("grandhouse"),
    _("shako"),
    _("shogun"),
    _("hoppel-poppel"),
    _("orda"),
    _("synochess"),
    _("shinobi"),
    _("empire"),
    _("orda mirror"),
    _("chak"),
    _("chennis")
  ];
  var translatedCustomStartPositions = [
    _("PawnsPushed"),
    _("PawnsPassed"),
    _("UpsideDown"),
    _("Theban"),
    _("No castle"),
    _("Lance HC"),
    _("Bishop HC"),
    _("Rook HC"),
    _("Rook+Lance HC"),
    _("2-Piece HC"),
    _("4-Piece HC"),
    _("6-Piece HC"),
    _("8-Piece HC"),
    _("9-Piece HC"),
    _("10-Piece HC"),
    _("Gorogoro Plus N+L"),
    _("Original (No N+L)"),
    _("Left Quail HC"),
    _("Falcon HC"),
    _("Falcon + Left Quail HC"),
    _("Falcon + Both Quails HC"),
    _("Bird"),
    _("Carrera"),
    _("Gothic"),
    _("Embassy"),
    _("Conservative")
  ];
  var translatedTooltips = [
    _("Chess, unmodified, as it's played by FIDE standards."),
    _("Take captured pieces and drop them back on to the board as your own."),
    _("Choose where your pieces start."),
    _("Pieces explode upon capture."),
    _("The duck must be moved to a new square after every turn."),
    _("Thai Chess. A game closely resembling the original Chaturanga. Similar to Chess but with a different queen and bishop."),
    _("Makruk variant where kings cannot move to escape out of check."),
    _("Cambodian Chess. Makruk with a few additional opening abilities."),
    _("Burmese Chess. Similar to Makruk, but pieces are placed at the start of the match."),
    _("Makruk using the board/pieces from International Chess as well as pawn promotion rules."),
    _("Japanese Chess, and the standard 9x9 version played today with drops and promotions. "),
    _("5x5 Shogi for more compact and faster games. There are no knights or lances."),
    _("A wild Shogi variant on a 5x5 board where pieces flip into a different piece after each move."),
    _("3x4 game with cute animals, designed to teach children how to play Shogi."),
    _("5x6 Shogi designed to introduce tactics with the generals."),
    _("A confrontational 7x7 variant with unique pieces each named after different birds."),
    _("Chinese Chess, one of the oldest and most played board games in the world."),
    _("Xiangqi variant where one side has a chariot that can also move as a cannon or horse."),
    _("Korean Chess, similar to Xiangqi but plays much differently. Tournament rules are used."),
    _("Compact version of Xiangqi played on a 7x7 board without a river."),
    _("Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a 10x8 board."),
    _("Capablanca with Crazyhouse drop rules."),
    _("Hybrid pieces, the hawk (B+N) and elephant (R+N), can enter the board after moving a back rank piece."),
    _("S-Chess with Crazyhouse drop rules."),
    _("Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a grand 10x10 board."),
    _("Grand Chess with Crazyhouse drop rules."),
    _("Introduces the cannon and elephant from Xiangqi into a 10x10 chess board."),
    _("Pieces promote and can be dropped, similar to Shogi."),
    _("Knights capture as bishops; bishops  capture as knights."),
    _("Asymmetric variant where one army has pieces that move like knights but capture differently."),
    _("Asymmetric East vs. West variant which pits the western Chess army against a Xiangqi and Janggi-styled army."),
    _("Asymmetric variant which pits the western Chess army against a drop-based, Shogi-styled army."),
    _("Asymmetric variant where one army has pieces that move like queens but capture as usual."),
    _("Orda Chess variant with two Horde armies. The Falcon replaces the Yurt."),
    _("Mayan chess. Inspired by cultural elements of Mesoamerica."),
    _("Pieces alternate between two forms with each move."),
    _("Like Capablanca Chess but with Grand starting setup."),
    _("Embassy with Crazyhouse drop rules."),
    _("Like Capablanca Chess but with a different starting setup."),
    _("Gothic with Crazyhouse drop rules.")
  ];
  var LanguageSettings = class extends StringSettings {
    constructor() {
      super("lang", "en");
    }
    update() {
    }
    view() {
      const langList = radioList(
        this,
        "lang",
        LANGUAGES,
        (evt, key) => {
          this.value = key;
          evt.target.form.submit();
        }
      );
      return h("div#settings-lang", [
        h("form.radio-list", { props: { method: "post", action: "/translation/select" } }, langList)
      ]);
    }
  };
  var languageSettings = new LanguageSettings();

  // node_modules/chessgroundx/fen.js
  var initial = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";
  function read(fen, bd) {
    const piecesPart = fen.split(" ")[0];
    const bracketIdx = piecesPart.indexOf("[");
    let boardPart;
    let pocketPart;
    if (bracketIdx > -1) {
      boardPart = piecesPart.slice(0, bracketIdx);
      pocketPart = piecesPart.slice(bracketIdx + 1, piecesPart.indexOf("]"));
    } else {
      const ranks3 = piecesPart.split("/");
      boardPart = ranks3.slice(0, bd.height).join("/");
      pocketPart = ranks3.length > bd.height ? ranks3[bd.height] : void 0;
    }
    return {
      pieces: readBoard(boardPart),
      pockets: readPockets(pocketPart)
    };
  }
  function readBoard(fen) {
    if (fen === "start")
      fen = initial;
    const pieces = /* @__PURE__ */ new Map();
    let row = fen.split("/").length - 1;
    let col = 0;
    let promoted = false;
    let num = 0;
    for (const c of fen) {
      switch (c) {
        case " ":
        case "[":
          return pieces;
        case "/":
          --row;
          if (row < 0)
            return pieces;
          col = 0;
          num = 0;
          break;
        case "+":
          promoted = true;
          break;
        case "~": {
          const piece = pieces.get(pos2key([col - 1, row]));
          if (piece)
            piece.promoted = true;
          break;
        }
        default: {
          const nb = c.charCodeAt(0);
          if (48 <= nb && nb < 58) {
            num = 10 * num + nb - 48;
          } else {
            col += num;
            num = 0;
            const letter = c.toLowerCase();
            const piece = {
              role: roleOf(letter),
              color: c === letter ? "black" : "white"
            };
            if (promoted) {
              piece.role = "p" + piece.role;
              piece.promoted = true;
              promoted = false;
            }
            pieces.set(pos2key([col, row]), piece);
            ++col;
          }
        }
      }
    }
    return pieces;
  }
  function readPockets(pocketStr) {
    if (pocketStr !== void 0) {
      const whitePocket = /* @__PURE__ */ new Map();
      const blackPocket = /* @__PURE__ */ new Map();
      for (const p of pocketStr) {
        const role = roleOf(p);
        if (/[A-Z]/.test(p))
          changeNumber(whitePocket, role, 1);
        else if (/[a-z]/.test(p))
          changeNumber(blackPocket, role, 1);
      }
      return {
        white: whitePocket,
        black: blackPocket
      };
    } else {
      return void 0;
    }
  }
  function write(boardState, bd) {
    return writeBoard(boardState.pieces, bd) + writePockets(boardState.pockets);
  }
  function writeBoard(pieces, bd) {
    return invRanks.slice(-bd.height).map((y) => files.slice(0, bd.width).map((x) => {
      const piece = pieces.get(x + y);
      if (piece) {
        let p = letterOf(piece.role, piece.color === "white");
        if (piece.promoted && p.charAt(0) !== "+")
          p += "~";
        return p;
      } else
        return "1";
    }).join("")).join("/").replace(/1{2,}/g, (s) => s.length.toString());
  }
  function writePockets(pockets) {
    if (pockets)
      return "[" + writePocket(pockets.white, true) + writePocket(pockets.black, false) + "]";
    else
      return "";
  }
  function writePocket(pocket, asWhite) {
    const letters2 = [];
    for (const [r, n] of pocket.entries())
      letters2.push(letterOf(r, asWhite).repeat(n));
    return letters2.join("");
  }

  // client/material.ts
  function equivalentRole(role, equivalences, captureToHand) {
    if (captureToHand) {
      if (role.indexOf("-") > 1)
        return role.slice(1);
      else
        return role;
    } else {
      if (role in equivalences)
        return equivalences[role];
      else
        return role;
    }
  }
  function calculateDiff(fen, dimensions, equivalences, captureToHand) {
    var _a2, _b, _c;
    const materialDiff = /* @__PURE__ */ new Map();
    const boardState = read(fen, dimensions);
    for (const [_2, piece] of boardState.pieces) {
      const role = equivalentRole(piece.role, equivalences, captureToHand);
      const num = (_a2 = materialDiff.get(role)) != null ? _a2 : 0;
      materialDiff.set(role, piece.color === "white" ? num - 1 : num + 1);
    }
    if (boardState.pockets) {
      for (const [r, c] of boardState.pockets.white.entries()) {
        const role = equivalentRole(r, equivalences, captureToHand);
        const num = (_b = materialDiff.get(role)) != null ? _b : 0;
        materialDiff.set(role, num - c);
      }
      for (const [r, c] of boardState.pockets.black.entries()) {
        const role = equivalentRole(r, equivalences, captureToHand);
        const num = (_c = materialDiff.get(role)) != null ? _c : 0;
        materialDiff.set(role, num + c);
      }
    }
    return materialDiff;
  }

  // client/variants.ts
  var BOARD_FAMILIES = {
    standard8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["8x8brown.svg", "8x8blue.svg", "8x8green.svg", "8x8maple.jpg", "8x8olive.jpg", "8x8santa.png", "8x8wood2.jpg", "8x8wood4.jpg", "8x8ic.svg", "8x8purple.svg"] },
    standard10x8: { dimensions: { width: 10, height: 8 }, cg: "cg-640", boardCSS: ["10x8brown.svg", "10x8blue.svg", "10x8green.svg", "10x8maple.jpg", "10x8olive.jpg"] },
    standard10x10: { dimensions: { width: 10, height: 10 }, cg: "cg-640-640", boardCSS: ["10x10brown.svg", "10x10blue.svg", "10x10green.svg", "10x10maple.jpg", "10x10olive.jpg"] },
    grand10x10: { dimensions: { width: 10, height: 10 }, cg: "cg-640-640", boardCSS: ["Grandboard.svg", "10x10brown.svg", "10x10blue.svg", "10x10green.svg", "10x10maple.jpg", "10x10mapleGrand.png"] },
    makruk8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["makruk2.svg", "makruk.svg", "makrukWhite.svg", "makruk.jpg", "makrukWood.png"] },
    sittuyin8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["sittuyin2.svg", "sittuyin.svg", "sittuyin.jpg", "sittuyingreen.svg", "sittuyinGrainBrown.svg", "sittuyinWood.png"] },
    shogi9x9: { dimensions: { width: 9, height: 9 }, cg: "cg-576", boardCSS: ["shogi.svg", "Shogiban1.png", "Shogiban2.png", "shogic.svg", "ShogiMaple.png", "ShogiGrayTexture.png", "ShogiSpace1.svg", "dobutsu.png", "ShogiOak.png"] },
    shogi7x7: { dimensions: { width: 7, height: 7 }, cg: "cg-448-516", boardCSS: ["ToriPlain.svg", "ToriWood.svg", "ToriDaySky.svg", "ToriNightSky.svg"] },
    shogi5x5: { dimensions: { width: 5, height: 5 }, cg: "cg-260", boardCSS: ["minishogi.svg", "MiniboardWood1.png", "MiniboardWood2.png", "MinishogiDobutsu.svg", "MinishogiDobutsu2.svg"] },
    shogi5x6: { dimensions: { width: 5, height: 6 }, cg: "cg-260-360", boardCSS: ["gorogoro.svg", "gorogoroboard.svg", "gorogoro2.svg", "GorogoroWood.png"] },
    shogi3x4: { dimensions: { width: 3, height: 4 }, cg: "cg-156", boardCSS: ["doubutsuboard.svg", "dobutsu3x4.svg"] },
    xiangqi9x10: { dimensions: { width: 9, height: 10 }, cg: "cg-576-640", boardCSS: ["xiangqi.svg", "xiangqic.svg", "xiangqiCTexture.png", "xiangqiPaper.png", "xiangqiWood.png", "xiangqiDark.svg", "xiangqiWikimedia.svg", "xiangqiLightWood.png", "xiangqiSand.svg"] },
    xiangqi7x7: { dimensions: { width: 7, height: 7 }, cg: "cg-448", boardCSS: ["minixiangqi.svg", "minixiangqiw.png", "minixqlg.svg"] },
    janggi9x10: { dimensions: { width: 9, height: 10 }, cg: "cg-576-640", boardCSS: ["JanggiBrown.svg", "JanggiPaper.png", "JanggiWood.png", "JanggiDark.svg", "JanggiWoodDark.svg", "JanggiStone.svg"] },
    shogun8x8: { dimensions: { width: 8, height: 8 }, cg: "cg-512", boardCSS: ["ShogunPlain.svg", "ShogunMaple.png", "ShogunMaple2.png", "ShogunBlue.svg", "8x8brown.svg", "8x8maple.jpg"] },
    chak9x9: { dimensions: { width: 9, height: 9 }, cg: "cg-540", boardCSS: ["StandardChakBoard.svg", "ColoredChakBoard.svg", "ChakArt.jpg"] },
    chennis7x7: { dimensions: { width: 7, height: 7 }, cg: "cg-448", boardCSS: ["WimbledonBoard.svg", "FrenchOpenBoard.svg", "USOpenBoard.svg"] }
  };
  var PIECE_FAMILIES = {
    standard: { pieceCSS: ["standard", "green", "alpha", "chess_kaneo", "santa", "maestro", "dubrovny", "disguised", "atopdown"] },
    capa: { pieceCSS: ["capa0", "capa1", "capa2", "capa3", "capa4", "capa5", "disguised"] },
    seirawan: { pieceCSS: ["seir1", "seir0", "seir2", "seir3", "seir4", "seir5", "disguised"] },
    makruk: { pieceCSS: ["makrukwb", "makrukwr", "makruk", "makruks", "makruki", "makrukc", "disguised"] },
    sittuyin: { pieceCSS: ["sittuyins", "sittuyinkagr", "sittuyinkabr", "sittuyinm", "sittuyini", "sittuyincb", "disguised"] },
    asean: { pieceCSS: ["aseani", "aseanm", "aseanc", "aseans", "aseancb", "disguised"] },
    shogi: { pieceCSS: ["shogik", "shogi", "shogiw", "shogip", "shogim", "shogip3d", "shogikw3d", "shogid", "shogiim", "shogibw", "portk", "porti", "disguised"] },
    kyoto: { pieceCSS: ["kyoto", "kyotok", "kyotoks", "kyotoi", "kyotod", "disguised"] },
    dobutsu: { pieceCSS: ["dobutsu", "disguised"] },
    tori: { pieceCSS: ["torii", "torik", "torim", "porti", "disguised"] },
    xiangqi: { pieceCSS: ["xiangqi2d", "xiangqi2di", "xiangqi", "xiangqict3", "xiangqihnz", "xiangqict2", "xiangqihnzw", "xiangqict2w", "xiangqiwikim", "xiangqiKa", "xiangqittxqhnz", "xiangqittxqintl", "disguised", "euro"] },
    janggi: { pieceCSS: ["janggihb", "janggihg", "janggiikak", "janggiikaw", "janggikak", "janggikaw", "janggiib", "janggiig", "disguised"] },
    shako: { pieceCSS: ["shako0", "shako1", "shako2", "disguised"] },
    shogun: { pieceCSS: ["shogun0", "shogun1", "shogun2", "shogun3", "shogun4", "shogun5", "disguised"] },
    orda: { pieceCSS: ["orda0", "orda1", "disguised"] },
    synochess: { pieceCSS: ["synochess0", "synochess1", "synochess2", "synochess3", "synochess4", "synochess5", "disguised"] },
    hoppel: { pieceCSS: ["hoppel0", "hoppel1", "hoppel2", "disguised"] },
    shinobi: { pieceCSS: ["shinobi0", "shinobi1", "disguised"] },
    empire: { pieceCSS: ["empire0", "empire1", "disguised"] },
    ordamirror: { pieceCSS: ["ordamirror0", "ordamirror1", "disguised"] },
    chak: { pieceCSS: ["chak0", "disguised"] },
    chennis: { pieceCSS: ["chennis0", "chennis1", "chennis2", "disguised"] },
    spartan: { pieceCSS: ["spartan0", "disguised"] }
  };
  function variant(config) {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G;
    return {
      name: config.name,
      _displayName: (_a2 = config.displayName) != null ? _a2 : config.name,
      displayName: function(chess960 = false) {
        return _(this._displayName).toUpperCase() + (chess960 ? "960" : "");
      },
      _tooltip: config.tooltip,
      get tooltip() {
        return _(this._tooltip);
      },
      chess960: !!config.chess960,
      _icon: config.icon,
      _icon960: (_b = config.icon960) != null ? _b : config.icon,
      icon: function(chess960 = false) {
        return chess960 ? this._icon960 : this._icon;
      },
      startFen: config.startFen,
      boardFamily: config.boardFamily,
      board: BOARD_FAMILIES[config.boardFamily],
      pieceFamily: config.pieceFamily,
      piece: PIECE_FAMILIES[config.pieceFamily],
      colors: (_c = config.colors) != null ? _c : { first: "White", second: "Black" },
      pieceRow: Array.isArray(config.pieceRow) ? {
        white: config.pieceRow.map(roleOf),
        black: config.pieceRow.map(roleOf)
      } : {
        white: config.pieceRow.white.map(roleOf),
        black: config.pieceRow.black.map(roleOf)
      },
      kingRoles: ((_d = config.kingRoles) != null ? _d : ["k"]).map(roleOf),
      pocket: config.pocket ? {
        roles: Array.isArray(config.pocket.roles) ? {
          white: config.pocket.roles.map(roleOf),
          black: config.pocket.roles.map(roleOf)
        } : {
          white: config.pocket.roles.white.map(roleOf),
          black: config.pocket.roles.black.map(roleOf)
        },
        captureToHand: config.pocket.captureToHand
      } : void 0,
      promotion: {
        type: (_f = (_e = config.promotion) == null ? void 0 : _e.type) != null ? _f : "regular",
        order: (_i = (_g = config.promotion) == null ? void 0 : _g.order) != null ? _i : ((_h = config.promotion) == null ? void 0 : _h.type) === "shogi" ? ["+", ""] : ["q", "c", "e", "a", "h", "n", "r", "b", "p"],
        roles: ((_k = (_j = config.promotion) == null ? void 0 : _j.roles) != null ? _k : ["p"]).map(roleOf),
        strict: (_l = config.promotion) == null ? void 0 : _l.strict,
        get autoPromoteable() {
          return this.order.length > 2;
        }
      },
      rules: {
        defaultTimeControl: (_n = (_m = config.rules) == null ? void 0 : _m.defaultTimeControl) != null ? _n : "incremental",
        enPassant: !!((_o = config.rules) == null ? void 0 : _o.enPassant),
        gate: !!((_p = config.rules) == null ? void 0 : _p.gate),
        duck: !!((_q = config.rules) == null ? void 0 : _q.duck),
        pass: !!((_r = config.rules) == null ? void 0 : _r.pass),
        setup: !!((_s = config.rules) == null ? void 0 : _s.setup)
      },
      material: {
        showDiff: !((_t = config.pocket) == null ? void 0 : _t.captureToHand),
        initialDiff: calculateDiff(config.startFen, BOARD_FAMILIES[config.boardFamily].dimensions, (_v = (_u = config.material) == null ? void 0 : _u.equivalences) != null ? _v : {}, !!((_w = config.pocket) == null ? void 0 : _w.captureToHand)),
        equivalences: (_y = (_x = config.material) == null ? void 0 : _x.equivalences) != null ? _y : {}
      },
      ui: {
        counting: (_z = config.ui) == null ? void 0 : _z.counting,
        materialPoint: (_A = config.ui) == null ? void 0 : _A.materialPoint,
        showPromoted: (_C = (_B = config.ui) == null ? void 0 : _B.showPromoted) != null ? _C : false,
        pieceSound: (_E = (_D = config.ui) == null ? void 0 : _D.pieceSound) != null ? _E : "regular",
        boardMark: (_G = (_F = config.ui) == null ? void 0 : _F.boardMark) != null ? _G : ""
      },
      alternateStart: config.alternateStart
    };
  }
  var VARIANTS = {
    chess: variant({
      name: "chess",
      tooltip: "Chess, unmodified, as it's played by FIDE standards.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      chess960: true,
      icon: "M",
      icon960: "V",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "PawnsPushed": "rnbqkbnr/8/8/pppppppp/PPPPPPPP/8/8/RNBQKBNR w KQkq - 0 1",
        "PawnsPassed": "rnbqkbnr/8/8/PPPPPPPP/pppppppp/8/8/RNBQKBNR w KQkq - 0 1",
        "UpsideDown": "RNBKQBNR/PPPPPPPP/8/8/8/8/pppppppp/rnbkqbnr w - - 0 1",
        "Theban": "1p6/2p3kn/3p2pp/4pppp/5ppp/8/PPPPPPPP/PPPPPPKN w - - 0 1",
        "No castle": "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w - - 0 1"
      }
    }),
    crazyhouse: variant({
      name: "crazyhouse",
      tooltip: "Take captured pieces and drop them back on to the board as your own.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR[] w KQkq - 0 1",
      chess960: true,
      icon: "+",
      icon960: "%",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      pocket: {
        roles: ["p", "n", "b", "r", "q"],
        captureToHand: true
      },
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "PawnsPushed": "rnbqkbnr/8/8/pppppppp/PPPPPPPP/8/8/RNBQKBNR w - - 0 1",
        "PawnsPassed": "rnbqkbnr/8/8/PPPPPPPP/pppppppp/8/8/RNBQKBNR w - - 0 1",
        "UpsideDown": "RNBQKBNR/PPPPPPPP/8/8/8/8/pppppppp/rnbqkbnr w - - 0 1",
        "Theban": "1p6/2p3kn/3p2pp/4pppp/5ppp/8/PPPPPPPP/PPPPPPKN w - - 0 1",
        "No castle": "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w - - 0 1"
      }
    }),
    placement: variant({
      name: "placement",
      tooltip: "Choose where your pieces start.",
      startFen: "8/pppppppp/8/8/8/8/PPPPPPPP/8[KQRRBBNNkqrrbbnn] w - - 0 1",
      icon: "S",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      pocket: { roles: ["n", "b", "r", "q", "k"], captureToHand: false },
      rules: { enPassant: true }
    }),
    atomic: variant({
      name: "atomic",
      tooltip: "Pieces explode upon capture.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      chess960: true,
      icon: "~",
      icon960: "\\",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      rules: { enPassant: true },
      ui: { pieceSound: "atomic" }
    }),
    duck: variant({
      name: "duck",
      tooltip: "The duck must be moved to a new square after every turn.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      icon: "\u{1F986}",
      boardFamily: "standard8x8",
      pieceFamily: "standard",
      pieceRow: { white: ["k", "q", "r", "b", "n", "p", "*"], black: ["k", "q", "r", "b", "n", "p"] },
      rules: { enPassant: true, duck: true }
    }),
    makruk: variant({
      name: "makruk",
      tooltip: "Thai Chess. A game closely resembling the original Chaturanga. Similar to Chess but with a different queen and bishop.",
      startFen: "rnsmksnr/8/pppppppp/8/8/PPPPPPPP/8/RNSKMSNR w - - 0 1",
      icon: "Q",
      boardFamily: "makruk8x8",
      pieceFamily: "makruk",
      pieceRow: ["k", "s", "m", "n", "r", "p", "m~"],
      promotion: { type: "regular", order: ["m"] },
      ui: { counting: "makruk", showPromoted: true }
    }),
    makpong: variant({
      name: "makpong",
      tooltip: _("Makruk variant where kings cannot move to escape out of check."),
      startFen: "rnsmksnr/8/pppppppp/8/8/PPPPPPPP/8/RNSKMSNR w - - 0 1",
      icon: "O",
      boardFamily: "makruk8x8",
      pieceFamily: "makruk",
      pieceRow: ["k", "s", "m", "n", "r", "p", "m~"],
      promotion: { type: "regular", order: ["m"] },
      ui: { counting: "makruk", showPromoted: true }
    }),
    cambodian: variant({
      name: "cambodian",
      displayName: "ouk chaktrang",
      tooltip: "Cambodian Chess. Makruk with a few additional opening abilities.",
      startFen: "rnsmksnr/8/pppppppp/8/8/PPPPPPPP/8/RNSKMSNR w DEde - 0 1",
      icon: "!",
      boardFamily: "makruk8x8",
      pieceFamily: "makruk",
      pieceRow: ["k", "s", "m", "n", "r", "p", "m~"],
      promotion: { type: "regular", order: ["m"] },
      ui: { counting: "makruk", showPromoted: true }
    }),
    sittuyin: variant({
      name: "sittuyin",
      tooltip: "Burmese Chess. Similar to Makruk, but pieces are placed at the start of the match.",
      startFen: "8/8/4pppp/pppp4/4PPPP/PPPP4/8/8[KFRRSSNNkfrrssnn] w - - 0 1",
      icon: ":",
      boardFamily: "sittuyin8x8",
      pieceFamily: "sittuyin",
      colors: { first: "Red", second: "Black" },
      pieceRow: ["k", "f", "s", "n", "r", "p"],
      pocket: { roles: ["r", "n", "s", "f", "k"], captureToHand: false },
      promotion: { type: "regular", order: ["f"] }
    }),
    asean: variant({
      name: "asean",
      tooltip: "Makruk using the board/pieces from International Chess as well as pawn promotion rules.",
      startFen: "rnbqkbnr/8/pppppppp/8/8/PPPPPPPP/8/RNBQKBNR w - - 0 1",
      icon: "\u267B",
      boardFamily: "standard8x8",
      pieceFamily: "asean",
      pieceRow: ["k", "q", "b", "n", "r", "p"],
      promotion: { type: "regular", order: ["r", "n", "b", "q"] },
      ui: { counting: "asean" }
    }),
    shogi: variant({
      name: "shogi",
      tooltip: _("Japanese Chess, and the standard 9x9 version played today with drops and promotions. "),
      startFen: "lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] w 0 1",
      icon: "K",
      boardFamily: "shogi9x9",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "r", "b", "s", "n", "l", "p"],
      pocket: { roles: ["p", "l", "n", "s", "g", "b", "r"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "l", "n", "s", "r", "b"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" },
      alternateStart: {
        "": "",
        "Lance HC": "lnsgkgsn1/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "Bishop HC": "lnsgkgsnl/1r7/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "Rook HC": "lnsgkgsnl/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "Rook+Lance HC": "lnsgkgsn1/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "2-Piece HC": "lnsgkgsnl/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "4-Piece HC": "1nsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "6-Piece HC": "2sgkgs2/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "8-Piece HC": "3gkg3/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "9-Piece HC": "3gk4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1",
        "10-Piece HC": "4k4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL[-] b 0 1"
      }
    }),
    minishogi: variant({
      name: "minishogi",
      tooltip: "5x5 Shogi for more compact and faster games. There are no knights or lances.",
      startFen: "rbsgk/4p/5/P4/KGSBR[-] w 0 1",
      icon: "6",
      boardFamily: "shogi5x5",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "r", "b", "s", "p"],
      pocket: { roles: ["p", "s", "g", "b", "r"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "s", "r", "b"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    kyotoshogi: variant({
      name: "kyotoshogi",
      displayName: "kyoto shogi",
      tooltip: "A wild Shogi variant on a 5x5 board where pieces flip into a different piece after each move.",
      startFen: "p+nks+l/5/5/5/+LSK+NP[-] w 0 1",
      icon: ")",
      boardFamily: "shogi5x5",
      pieceFamily: "kyoto",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "l", "s", "n", "p"],
      pocket: { roles: ["p", "l", "n", "s"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "l", "n", "s"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    dobutsu: variant({
      name: "dobutsu",
      tooltip: _("3x4 game with cute animals, designed to teach children how to play Shogi."),
      startFen: "gle/1c1/1C1/ELG[-] w 0 1",
      icon: "8",
      boardFamily: "shogi3x4",
      pieceFamily: "dobutsu",
      colors: { first: "Black", second: "White" },
      pieceRow: ["l", "g", "e", "c"],
      kingRoles: ["l"],
      pocket: { roles: ["e", "g", "c"], captureToHand: true },
      promotion: { type: "shogi", roles: ["c"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    gorogoro: variant({
      name: "gorogoro",
      tooltip: "5x6 Shogi designed to introduce tactics with the generals.",
      startFen: "sgkgs/5/1ppp1/1PPP1/5/SGKGS[-] w 0 1",
      icon: "\u{1F431}",
      boardFamily: "shogi5x6",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "s", "p"],
      pocket: { roles: ["p", "s", "g"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "s"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" }
    }),
    gorogoroplus: variant({
      name: "gorogoroplus",
      displayName: "gorogoro+",
      tooltip: "5x6 Shogi designed to introduce tactics with the generals.",
      startFen: "sgkgs/5/1ppp1/1PPP1/5/SGKGS[LNln] w 0 1",
      icon: "\u{1F431}",
      boardFamily: "shogi5x6",
      pieceFamily: "shogi",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "g", "s", "n", "l", "p"],
      pocket: { roles: ["p", "l", "n", "s", "g"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "s", "n", "l"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" },
      alternateStart: {
        "Gorogoro Plus N+L": "",
        "Original (No N+L)": "sgkgs/5/1ppp1/1PPP1/5/SGKGS[-] w 0 1"
      }
    }),
    torishogi: variant({
      name: "torishogi",
      displayName: "tori shogi",
      tooltip: "A confrontational 7x7 variant with unique pieces each named after different birds.",
      startFen: "rpckcpl/3f3/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[-] w 0 1",
      icon: "\u{1F426}",
      boardFamily: "shogi7x7",
      pieceFamily: "tori",
      colors: { first: "Black", second: "White" },
      pieceRow: ["k", "c", "p", "l", "r", "f", "s"],
      pocket: { roles: ["s", "p", "l", "r", "c", "f"], captureToHand: true },
      promotion: { type: "shogi", roles: ["s", "f"] },
      rules: { defaultTimeControl: "byoyomi" },
      ui: { pieceSound: "shogi" },
      alternateStart: {
        "": "",
        "Left Quail HC": "rpckcp1/3f3/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1",
        "Falcon HC": "rpckcpl/7/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1",
        "Falcon + Left Quail HC": "rpckcp1/7/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1",
        "Falcon + Both Quails HC": "1pckcp1/7/sssssss/2s1S2/SSSSSSS/3F3/LPCKCPR[] b 0 1"
      }
    }),
    xiangqi: variant({
      name: "xiangqi",
      tooltip: "Chinese Chess, one of the oldest and most played board games in the world.",
      startFen: "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1",
      icon: "|",
      boardFamily: "xiangqi9x10",
      pieceFamily: "xiangqi",
      colors: { first: "Red", second: "Black" },
      pieceRow: ["k", "a", "c", "r", "b", "n", "p"],
      promotion: { type: "regular", roles: [] }
    }),
    manchu: variant({
      name: "manchu",
      tooltip: "Xiangqi variant where one side has a chariot that can also move as a cannon or horse.",
      startFen: "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/9/9/M1BAKAB2 w - - 0 1",
      icon: "{",
      boardFamily: "xiangqi9x10",
      pieceFamily: "xiangqi",
      colors: { first: "Red", second: "Black" },
      pieceRow: { white: ["k", "a", "m", "b", "p"], black: ["k", "a", "c", "r", "b", "n", "p"] },
      promotion: { type: "regular", roles: [] }
    }),
    janggi: variant({
      name: "janggi",
      tooltip: "Korean Chess, similar to Xiangqi but plays much differently. Tournament rules are used.",
      startFen: "rnba1abnr/4k4/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/4K4/RNBA1ABNR w - - 0 1",
      icon: "=",
      boardFamily: "janggi9x10",
      pieceFamily: "janggi",
      colors: { first: "Blue", second: "Red" },
      pieceRow: ["k", "a", "c", "r", "b", "n", "p"],
      promotion: { type: "regular", roles: [] },
      rules: { defaultTimeControl: "byoyomi", pass: true, setup: true },
      ui: { materialPoint: "janggi" }
    }),
    minixiangqi: variant({
      name: "minixiangqi",
      tooltip: "Compact version of Xiangqi played on a 7x7 board without a river.",
      startFen: "rcnkncr/p1ppp1p/7/7/7/P1PPP1P/RCNKNCR w - - 0 1",
      icon: "7",
      boardFamily: "xiangqi7x7",
      pieceFamily: "xiangqi",
      colors: { first: "Red", second: "Black" },
      pieceRow: ["k", "c", "r", "n", "p"],
      promotion: { type: "regular", roles: [] }
    }),
    capablanca: variant({
      name: "capablanca",
      tooltip: "Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a 10x8 board.",
      startFen: "rnabqkbcnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNABQKBCNR w KQkq - 0 1",
      chess960: true,
      icon: "P",
      icon960: ",",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "Bird": "rnbcqkabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBCQKABNR w KQkq - 0 1",
        "Carrera": "rcnbqkbnar/pppppppppp/10/10/10/10/PPPPPPPPPP/RCNBQKBNAR w KQkq - 0 1",
        "Conservative": "arnbqkbnrc/pppppppppp/10/10/10/10/PPPPPPPPPP/ARNBQKBNRC w KQkq - 0 1",
        "Embassy": "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR w KQkq - 0 1",
        "Gothic": "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR w KQkq - 0 1",
        "Schoolbook": "rqnbakbncr/pppppppppp/10/10/10/10/PPPPPPPPPP/RQNBAKBNCR w KQkq - 0 1"
      }
    }),
    capahouse: variant({
      name: "capahouse",
      tooltip: _("Capablanca with Crazyhouse drop rules."),
      startFen: "rnabqkbcnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNABQKBCNR[] w KQkq - 0 1",
      chess960: true,
      icon: "&",
      icon960: "'",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true },
      alternateStart: {
        "": "",
        "Bird": "rnbcqkabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBCQKABNR[] w KQkq - 0 1",
        "Carrera": "rcnbqkbnar/pppppppppp/10/10/10/10/PPPPPPPPPP/RCNBQKBNAR[] w KQkq - 0 1",
        "Conservative": "arnbqkbnrc/pppppppppp/10/10/10/10/PPPPPPPPPP/ARNBQKBNRC[] w KQkq - 0 1",
        "Embassy": "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR[] w KQkq - 0 1",
        "Gothic": "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR[] w KQkq - 0 1",
        "Schoolbook": "rqnbakbncr/pppppppppp/10/10/10/10/PPPPPPPPPP/RQNBAKBNCR[] w KQkq - 0 1"
      }
    }),
    seirawan: variant({
      name: "seirawan",
      displayName: "s-chess",
      tooltip: "Hybrid pieces, the hawk (B+N) and elephant (R+N), can enter the board after moving a back rank piece.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR[HEhe] w KQBCDFGkqbcdfg - 0 1",
      icon: "L",
      chess960: true,
      icon960: "}",
      boardFamily: "standard8x8",
      pieceFamily: "seirawan",
      pieceRow: ["k", "q", "e", "h", "r", "b", "n", "p"],
      pocket: { roles: ["h", "e"], captureToHand: false },
      rules: { enPassant: true, gate: true }
    }),
    shouse: variant({
      name: "shouse",
      displayName: "s-house",
      tooltip: "S-Chess with Crazyhouse drop rules.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR[HEhe] w KQBCDFGkqbcdfg - 0 1",
      icon: "$",
      boardFamily: "standard8x8",
      pieceFamily: "seirawan",
      pieceRow: ["k", "q", "e", "h", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "h", "e", "q"], captureToHand: true },
      rules: { enPassant: true, gate: true }
    }),
    grand: variant({
      name: "grand",
      tooltip: _("Play with the hybrid pieces, archbishop (B+N) and chancellor (R+N), on a grand 10x10 board."),
      startFen: "r8r/1nbqkcabn1/pppppppppp/10/10/10/10/PPPPPPPPPP/1NBQKCABN1/R8R w - - 0 1",
      icon: "(",
      boardFamily: "grand10x10",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    grandhouse: variant({
      name: "grandhouse",
      tooltip: "Grand Chess with Crazyhouse drop rules.",
      startFen: "r8r/1nbqkcabn1/pppppppppp/10/10/10/10/PPPPPPPPPP/1NBQKCABN1/R8R[] w - - 0 1",
      icon: "*",
      boardFamily: "grand10x10",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true }
    }),
    shako: variant({
      name: "shako",
      tooltip: "Introduces the cannon and elephant from Xiangqi into a 10x10 chess board.",
      startFen: "c8c/ernbqkbnre/pppppppppp/10/10/10/10/PPPPPPPPPP/ERNBQKBNRE/C8C w KQkq - 0 1",
      icon: "9",
      boardFamily: "standard10x10",
      pieceFamily: "shako",
      pieceRow: ["k", "q", "e", "c", "r", "b", "n", "p"],
      promotion: { type: "regular", order: ["q", "n", "c", "r", "e", "b"] },
      rules: { enPassant: true }
    }),
    shogun: variant({
      name: "shogun",
      tooltip: "Pieces promote and can be dropped, similar to Shogi.",
      startFen: "rnb+fkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNB+FKBNR w KQkq - 0 1",
      icon: "-",
      boardFamily: "shogun8x8",
      pieceFamily: "shogun",
      pieceRow: ["k", "f", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "f"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "f", "r", "b", "n"] },
      rules: { defaultTimeControl: "byoyomi", enPassant: true }
    }),
    hoppelpoppel: variant({
      name: "hoppelpoppel",
      displayName: "hoppel-poppel",
      tooltip: "Knights capture as bishops; bishops  capture as knights.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
      icon: "`",
      boardFamily: "standard8x8",
      pieceFamily: "hoppel",
      pieceRow: ["k", "q", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    orda: variant({
      name: "orda",
      tooltip: "Asymmetric variant where one army has pieces that move like knights but capture differently.",
      startFen: "lhaykahl/8/pppppppp/8/8/8/PPPPPPPP/RNBQKBNR w KQ - 0 1",
      icon: "R",
      boardFamily: "standard8x8",
      pieceFamily: "orda",
      colors: { first: "White", second: "Gold" },
      pieceRow: { white: ["k", "q", "r", "b", "n", "p", "h"], black: ["k", "y", "l", "a", "h", "p", "q"] },
      promotion: { type: "regular", order: ["q", "h"] },
      rules: { enPassant: true },
      ui: { boardMark: "campmate" }
    }),
    synochess: variant({
      name: "synochess",
      tooltip: _("Asymmetric East vs. West variant which pits the western Chess army against a Xiangqi and Janggi-styled army."),
      startFen: "rneakenr/8/1c4c1/1ss2ss1/8/8/PPPPPPPP/RNBQKBNR[ss] w KQ - 0 1",
      icon: "_",
      boardFamily: "standard8x8",
      pieceFamily: "synochess",
      colors: { first: "White", second: "Red" },
      pieceRow: { white: ["k", "q", "r", "b", "n", "p"], black: ["k", "a", "c", "r", "e", "n", "s"] },
      pocket: { roles: { white: [], black: ["s"] }, captureToHand: false },
      ui: { boardMark: "campmate" }
    }),
    shinobi: variant({
      name: "shinobi",
      tooltip: "Asymmetric variant which pits the western Chess army against a drop-based, Shogi-styled army.",
      startFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/LH1CK1HL[LHMMDJ] w kq - 0 1",
      icon: "\u{1F422}",
      boardFamily: "standard8x8",
      pieceFamily: "shinobi",
      colors: { first: "Pink", second: "Black" },
      pieceRow: { white: ["k", "d", "j", "c", "l", "h", "m", "p"], black: ["k", "q", "r", "b", "n", "p"] },
      pocket: { roles: { white: ["l", "h", "m", "d", "j"], black: [] }, captureToHand: false },
      promotion: { type: "shogi", roles: ["p", "l", "h", "m"] },
      rules: { enPassant: true },
      ui: { boardMark: "campmate" },
      material: {
        equivalences: {
          "pl-piece": "r-piece",
          "ph-piece": "n-piece",
          "pm-piece": "b-piece",
          "pp-piece": "c-piece"
        }
      }
    }),
    empire: variant({
      name: "empire",
      tooltip: _("Asymmetric variant where one army has pieces that move like queens but capture as usual."),
      startFen: "rnbqkbnr/pppppppp/8/8/8/PPPSSPPP/8/TECDKCET w kq - 0 1",
      icon: "\u265A",
      boardFamily: "standard8x8",
      pieceFamily: "empire",
      colors: { first: "Gold", second: "Black" },
      pieceRow: { white: ["k", "d", "t", "c", "e", "p", "s", "q"], black: ["k", "q", "r", "b", "n", "p"] },
      rules: { enPassant: true },
      ui: { boardMark: "campmate" }
    }),
    ordamirror: variant({
      name: "ordamirror",
      displayName: "orda mirror",
      tooltip: _("Orda Chess variant with two Horde armies. The Falcon replaces the Yurt."),
      startFen: "lhafkahl/8/pppppppp/8/8/PPPPPPPP/8/LHAFKAHL w - - 0 1",
      icon: "\u25E9",
      boardFamily: "standard8x8",
      pieceFamily: "ordamirror",
      colors: { first: "White", second: "Gold" },
      pieceRow: ["k", "f", "l", "a", "h", "p"],
      promotion: { type: "regular", order: ["h", "l", "f", "a"] },
      ui: { boardMark: "campmate" }
    }),
    chak: variant({
      name: "chak",
      tooltip: "Mayan chess. Inspired by cultural elements of Mesoamerica.",
      startFen: "rvsqkjsvr/4o4/p1p1p1p1p/9/9/9/P1P1P1P1P/4O4/RVSJKQSVR w - - 0 1",
      icon: "\u{1F42C}",
      boardFamily: "chak9x9",
      pieceFamily: "chak",
      colors: { first: "White", second: "Green" },
      pieceRow: ["k", "j", "q", "r", "v", "s", "o", "p"],
      kingRoles: ["k", "+k"],
      promotion: {
        type: "shogi",
        roles: ["p", "k"],
        strict: {
          isPromoted: (piece, pos) => {
            switch (piece.role) {
              case "p-piece":
              case "pp-piece":
              case "k-piece":
              case "pk-piece":
                return piece.color === "white" && pos[1] >= 4 || piece.color === "black" && pos[1] <= 4;
              default:
                return false;
            }
          }
        }
      },
      material: {
        equivalences: {
          "pk-piece": "k-piece"
        }
      }
    }),
    chennis: variant({
      name: "chennis",
      tooltip: "Pieces alternate between two forms with each move.",
      startFen: "1fkm3/1p1s3/7/7/7/3S1P1/3MKF1[] w - 0 1",
      icon: "\u{1F3BE}",
      boardFamily: "chennis7x7",
      pieceFamily: "chennis",
      pieceRow: ["k", "p", "m", "s", "f"],
      pocket: { roles: ["p", "m", "s", "f"], captureToHand: true },
      promotion: { type: "shogi", roles: ["p", "m", "s", "f"] }
    }),
    spartan: variant({
      name: "spartan",
      tooltip: _("Asymmetric Spartans vs. Persians variant."),
      startFen: "lgkcckwl/hhhhhhhh/8/8/8/8/PPPPPPPP/RNBQKBNR w KQ - 0 1",
      icon: "\u237A",
      boardFamily: "standard8x8",
      pieceFamily: "spartan",
      pieceRow: { white: ["k", "q", "r", "b", "n", "p"], black: ["k", "g", "w", "l", "c", "h"] }
    }),
    // We support the functionality to import/store/analyze some variants
    // but don't want to add them to leaderboard page
    embassy: variant({
      name: "embassy",
      tooltip: "Like Capablanca Chess but with Grand starting setup.",
      startFen: "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR w KQkq - 0 1",
      icon: "P",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    embassyhouse: variant({
      name: "embassyhouse",
      tooltip: "Embassy with Crazyhouse drop rules.",
      startFen: "rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR[] w KQkq - 0 1",
      icon: "&",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true }
    }),
    gothic: variant({
      name: "gothic",
      tooltip: "Like Capablanca Chess but with a different starting setup.",
      startFen: "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR w KQkq - 0 1",
      icon: "P",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      rules: { enPassant: true }
    }),
    gothhouse: variant({
      name: "gothhouse",
      tooltip: _("Gothic with Crazyhouse drop rules."),
      startFen: "rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR[] w KQkq - 0 1",
      icon: "&",
      boardFamily: "standard10x8",
      pieceFamily: "capa",
      pieceRow: ["k", "q", "c", "a", "r", "b", "n", "p"],
      pocket: { roles: ["p", "n", "b", "r", "a", "c", "q"], captureToHand: true },
      rules: { enPassant: true }
    })
  };
  var variants = Object.keys(VARIANTS);
  var disabledVariants = ["gothic", "gothhouse", "embassy", "embassyhouse", "gorogoro"];
  var enabledVariants = variants.filter((v) => !disabledVariants.includes(v));
  var variantGroups = {
    standard: { variants: ["chess", "crazyhouse", "placement", "atomic", "duck"] },
    sea: { variants: ["makruk", "makpong", "cambodian", "sittuyin", "asean"] },
    shogi: { variants: ["shogi", "minishogi", "kyotoshogi", "dobutsu", "gorogoroplus", "torishogi"] },
    xiangqi: { variants: ["xiangqi", "manchu", "janggi", "minixiangqi"] },
    fairy: { variants: ["capablanca", "capahouse", "seirawan", "shouse", "grand", "grandhouse", "shako", "shogun", "hoppelpoppel"] },
    army: { variants: ["orda", "synochess", "shinobi", "empire", "ordamirror", "chak", "chennis", "spartan"] }
  };
  function variantGroupLabel(group) {
    const groups = {
      standard: _("Chess Variants"),
      sea: _("Makruk Variants"),
      shogi: _("Shogi Variants"),
      xiangqi: _("Xiangqi Variants"),
      fairy: _("Fairy Piece Variants"),
      army: _("New Army Variants")
    };
    return groups[group];
  }
  function selectVariant(id, selected, onChange2, hookInsert) {
    return h(
      "select#" + id,
      {
        props: { name: id },
        on: { change: onChange2 },
        hook: { insert: hookInsert }
      },
      Object.keys(variantGroups).map((g) => {
        const group = variantGroups[g];
        return h("optgroup", { props: { label: variantGroupLabel(g) } }, group.variants.map((v) => {
          const variant2 = VARIANTS[v];
          return h("option", {
            props: { value: v, title: variant2.tooltip },
            attrs: { selected: v === selected }
          }, variant2.displayName(false));
        }));
      })
    );
  }
  function moddedVariant(variantName, chess960, pieces, castling) {
    if (!chess960 && ["capablanca", "capahouse"].includes(variantName)) {
      const whiteKing = pieces.get("e1");
      const blackKing = pieces.get("e8");
      if (castling !== "-" && (!castling.includes("K") && !castling.includes("Q") || whiteKing && samePiece(whiteKing, { role: "k-piece", color: "white" })) && (!castling.includes("k") && !castling.includes("q") || blackKing && samePiece(blackKing, { role: "k-piece", color: "black" })))
        return variantName.includes("house") ? "embassyhouse" : "embassy";
    }
    return variantName;
  }
  function notation(variant2) {
    let cgNotation = Notation.ALGEBRAIC;
    switch (variant2.name) {
      case "janggi":
        cgNotation = Notation.JANGGI;
        break;
      case "shogi":
      case "minishogi":
      case "kyotoshogi":
      case "dobutsu":
      case "gorogoro":
      case "gorogoroplus":
      case "torishogi":
        cgNotation = Notation.SHOGI_ARBNUM;
        break;
      case "xiangqi":
      case "minixiangqi":
        cgNotation = Notation.XIANGQI_ARBNUM;
        break;
    }
    return cgNotation;
  }

  // client/puzzlerCtrl.ts
  var Mousetrap = __toESM(require_mousetrap());

  // client/chess.ts
  function uci2cg(move3) {
    return move3.replace(/10/g, ":");
  }
  function uci2LastMove(move3) {
    if (!move3)
      return void 0;
    let moveStr = uci2cg(move3);
    if (moveStr.startsWith("+"))
      moveStr = moveStr.slice(1);
    const comma = moveStr.indexOf(",");
    const lastMove = [moveStr.slice(0, 2), moveStr.slice(2, 4)];
    if (comma > -1)
      lastMove.push(moveStr.slice(-2));
    return lastMove;
  }
  function cg2uci(move3) {
    return move3.replace(/:/g, "10");
  }
  function getCounting(fen) {
    const parts = fen.split(" ");
    let countingPly = Number(parts[4]);
    if (isNaN(countingPly))
      countingPly = 0;
    let countingLimit = Number(parts[3]);
    if (isNaN(countingLimit))
      countingLimit = 0;
    const board = parts[0];
    const whitePieces = (board.match(/[A-Z]/g) || []).length;
    const blackPieces = (board.match(/[a-z]/g) || []).length;
    const pawns = (board.match(/[Pp]/g) || []).length;
    const countingType = countingLimit === 0 ? "none" : pawns === 0 && (whitePieces <= 1 || blackPieces <= 1) ? "piece" : "board";
    const sideToMove = parts[1];
    const opponent = sideToMove === "w" ? "b" : "w";
    const countingSide = countingType === "none" || countingPly === 0 ? "" : countingPly % 2 === 0 ? sideToMove : opponent;
    return [countingPly, countingLimit, countingSide, countingType];
  }
  function getJanggiPoints(board) {
    let choPoint = 0;
    let hanPoint = 1.5;
    for (const c of board) {
      switch (c) {
        case "P":
          choPoint += 2;
          break;
        case "A":
        case "B":
          choPoint += 3;
          break;
        case "N":
          choPoint += 5;
          break;
        case "C":
          choPoint += 7;
          break;
        case "R":
          choPoint += 13;
          break;
        case "p":
          hanPoint += 2;
          break;
        case "a":
        case "b":
          hanPoint += 3;
          break;
        case "n":
          hanPoint += 5;
          break;
        case "c":
          hanPoint += 7;
          break;
        case "r":
          hanPoint += 13;
          break;
      }
    }
    return [choPoint, hanPoint];
  }
  function unpromotedRole(variant2, piece) {
    if (piece.promoted) {
      if (variant2.promotion.type === "shogi")
        return piece.role.slice(1);
      else
        return "p-piece";
    } else {
      return piece.role;
    }
  }
  function promotedRole(variant2, piece) {
    if (!piece.promoted && variant2.promotion.roles.includes(piece.role)) {
      if (variant2.promotion.type === "shogi")
        return "p" + piece.role;
      else
        return roleOf(variant2.promotion.order[0]);
    } else {
      return piece.role;
    }
  }
  function moveDests(legalMoves) {
    const dests = /* @__PURE__ */ new Map();
    legalMoves.map(uci2cg).forEach((move3) => {
      const orig = move3.slice(0, 2);
      const dest = move3.slice(2, 4);
      if (dests.has(orig))
        dests.get(orig).push(dest);
      else
        dests.set(orig, [dest]);
    });
    return dests;
  }
  function promotionSuffix(move3) {
    if (move3.startsWith("+")) {
      return "+";
    } else {
      const comma = move3.indexOf(",");
      if (comma > -1)
        move3 = move3.substring(0, comma);
      const last = move3.slice(-1);
      if (last.match(/[a-z+-]/))
        return last;
      else
        return "";
    }
  }
  function colorCase(color, str) {
    if (color === "white")
      return str.toUpperCase();
    else
      return str.toLowerCase();
  }

  // client/input/input.ts
  var ExtraInput = class {
    constructor(ctrl) {
      this.ctrl = ctrl;
    }
    next(suffix) {
      if (this.data)
        this.ctrl.processInput(this.data.piece, this.data.orig, this.data.dest, this.data.meta, suffix, this.type);
      this.data = void 0;
    }
  };

  // client/input/gating.ts
  var GatingInput = class extends ExtraInput {
    constructor(ctrl) {
      super(ctrl);
      this.type = "gating";
      this.choices = {};
    }
    /*
     * NOTE: This code only works with S-Chess, S-Chess960, and S-House
     *       Some parts assume an 8x8 board
     *       Please modify as you see fit if other gating variants come along
     */
    start(piece, orig, dest, meta) {
      this.data = { piece, orig, dest, meta };
      if (!this.ctrl.variant.rules.gate || isDropOrig(orig) || !this.canGate(orig)) {
        this.next("-");
        return;
      }
      this.choices = {};
      this.choices[orig] = this.gatingChoices(orig, dest);
      if (piece.role === "k-piece" && orig[1] === dest[1]) {
        const rookOrig = this.ctrl.chess960 ? dest : (dest[0] === "g" ? "h" : "a") + orig[1];
        const rookChoices = this.gatingChoices(rookOrig, orig);
        if (rookChoices.length > 0) {
          rookChoices.push("");
          this.choices[rookOrig] = rookChoices;
          if (this.choices[orig].length <= 1)
            delete this.choices[orig];
        }
      }
      const keys = Object.keys(this.choices);
      if (keys.length === 1 && this.choices[keys[0]].length === 1)
        this.finish("", orig);
      else
        this.drawGating(piece.color, this.ctrl.chessground.state.orientation);
    }
    canGate(orig) {
      const fen = this.ctrl.fullfen;
      const parts = fen.split(" ");
      const castling = parts[2];
      const color = parts[1] === "w" ? "white" : "black";
      const gateRank = color === "white" ? "1" : "8";
      if (orig[1] === gateRank) {
        if (castling.includes(colorCase(color, orig[0]))) {
          return true;
        }
        if (!this.ctrl.chess960) {
          if (orig[0] === "e" || orig[0] === "h") {
            if (castling.includes(colorCase(color, "K")))
              return true;
          }
          if (orig[0] === "e" || orig[0] === "a") {
            if (castling.includes(colorCase(color, "Q")))
              return true;
          }
        }
      }
      return false;
    }
    gatingChoices(orig, dest) {
      const possibleGating = this.ctrl.legalMoves().filter((move3) => move3.includes(orig + dest));
      return possibleGating.map(promotionSuffix).map((s) => s === "" ? "" : roleOf(s));
    }
    gate(piece, key) {
      this.ctrl.chessground.newPiece(piece, key, true);
    }
    drawGating(color, orientation) {
      const container = toVNode(document.querySelector("extension"));
      patch(container, this.view(color, orientation));
    }
    drawNoGating() {
      const container = document.getElementById("extension_choice");
      if (container)
        patch(container, h("extension"));
    }
    finish(role, key) {
      if (this.data) {
        console.log(role, key);
        this.drawNoGating();
        const letter = role === "" ? "" : letterOf(role);
        if (role === "") {
          this.next("");
        } else {
          this.gate({ role, color: this.data.piece.color }, key);
          if (key === this.data.orig)
            this.next(letter);
          else
            this.castlingNext(letter, key);
        }
        this.choices = {};
      }
    }
    castlingNext(suffix, key) {
      if (this.data)
        this.ctrl.processInput(this.data.piece, key, this.data.orig, this.data.meta, suffix, this.type);
      this.data = void 0;
    }
    cancel() {
      this.drawNoGating();
      this.ctrl.goPly(this.ctrl.ply);
    }
    squareView(orig, color, orientation) {
      const leftFile = key2pos(orig)[0];
      const left = (orientation === "white" ? leftFile : 7 - leftFile) * 12.5;
      return this.choices[orig].map((role, i) => {
        const top = (color === orientation ? 7 - i : i) * 12.5;
        console.log(role, orig);
        return h("square", {
          style: { top: top + "%", left: left + "%" },
          hook: bind("click", (e) => {
            e.stopPropagation();
            this.finish(role, orig);
          }, null)
        }, [
          h("piece." + role + "." + color)
        ]);
      });
    }
    view(color, orientation) {
      const direction = color === orientation ? "top" : "bottom";
      let squares = [];
      const pocket = this.ctrl.variant.pocket.roles[color];
      let orig;
      for (orig in this.choices) {
        this.choices[orig].sort((a, b) => pocket.indexOf(a) - pocket.indexOf(b));
        squares.push(...this.squareView(orig, color, orientation));
      }
      return h(
        "div#extension_choice." + direction,
        {
          hook: {
            insert: (vnode2) => {
              const el = vnode2.elm;
              el.addEventListener("click", () => this.cancel());
              el.addEventListener("contextmenu", (e) => {
                e.preventDefault();
                return false;
              });
            }
          }
        },
        squares
      );
    }
  };

  // client/input/promotion.ts
  var PromotionInput = class extends ExtraInput {
    constructor(ctrl) {
      super(ctrl);
      this.type = "promotion";
      this.choices = {};
    }
    start(piece, orig, dest, meta) {
      this.data = { piece, orig, dest, meta };
      if (this.ctrl.chessground.state.boardState.pieces.get(dest) === void 0) {
        this.next("");
        return;
      }
      const choices = this.promotionChoices(piece, orig, dest);
      const autoSuffix = this.ctrl.variant.promotion.order[0];
      const autoRole = this.ctrl.variant.promotion.type === "shogi" ? void 0 : roleOf(autoSuffix);
      const disableAutoPromote = meta.ctrlKey;
      if (this.ctrl.variant.promotion.autoPromoteable && this.ctrl.autoPromote && !disableAutoPromote && autoRole && autoSuffix && choices[autoRole] === autoSuffix)
        this.choices = { [autoRole]: autoSuffix };
      else
        this.choices = choices;
      if (Object.keys(this.choices).length === 1) {
        const role = Object.keys(this.choices)[0];
        this.finish(role);
      } else {
        this.drawPromo(dest, piece.color);
      }
    }
    promotionChoices(piece, orig, dest) {
      const variant2 = this.ctrl.variant;
      const possiblePromotions = this.ctrl.legalMoves().filter((move3) => move3.includes(orig + dest));
      const choices = {};
      possiblePromotions.map(promotionSuffix).forEach((suffix) => {
        let role;
        if (suffix === "+")
          role = promotedRole(variant2, piece);
        else if (suffix === "-")
          role = unpromotedRole(variant2, piece);
        else if (suffix === "")
          role = piece.role;
        else
          role = roleOf(suffix);
        choices[role] = suffix;
      });
      return choices;
    }
    promote(key, role) {
      const ground = this.ctrl.chessground;
      const piece = ground.state.boardState.pieces.get(key);
      if (piece && piece.role !== role) {
        ground.setPieces(/* @__PURE__ */ new Map([[key, {
          color: piece.color,
          role,
          promoted: true
        }]]));
      }
    }
    drawPromo(dest, color) {
      const container = toVNode(document.querySelector("extension"));
      patch(container, this.view(dest, color, this.ctrl.chessground.state.orientation));
    }
    drawNoPromo() {
      const container = document.getElementById("extension_choice");
      if (container)
        patch(container, h("extension"));
    }
    finish(role) {
      if (this.data) {
        this.drawNoPromo();
        this.promote(this.data.dest, role);
        if (isDropOrig(this.data.orig))
          this.dropNext(role);
        else
          this.next(this.choices[role]);
      }
    }
    dropNext(role) {
      if (this.data)
        this.ctrl.processInput(this.data.piece, dropOrigOf(role), this.data.dest, this.data.meta, "", "promotion");
      this.data = void 0;
    }
    cancel() {
      this.drawNoPromo();
      this.ctrl.goPly(this.ctrl.ply);
    }
    view(dest, color, orientation) {
      const variant2 = this.ctrl.variant;
      const width = variant2.board.dimensions.width;
      const height = variant2.board.dimensions.height;
      const pos = key2pos(dest);
      const choices = Object.keys(this.choices);
      choices.sort((a, b) => variant2.promotion.order.indexOf(this.choices[a]) - variant2.promotion.order.indexOf(this.choices[b]));
      const direction = color === orientation ? "bottom" : "top";
      const leftFile = orientation === "white" ? pos[0] : width - 1 - pos[0];
      const left = leftFile * (100 / width);
      const topRank = orientation === "white" ? height - 1 - pos[1] : pos[1];
      const side = color === orientation ? "ally" : "enemy";
      return h(
        "div#extension_choice",
        {
          hook: {
            insert: (vnode2) => {
              const el = vnode2.elm;
              el.addEventListener("click", () => this.cancel());
              el.addEventListener("contextmenu", (e) => {
                e.preventDefault();
                return false;
              });
            }
          }
        },
        choices.map((role, i) => {
          const rank = topRank + (direction === "bottom" ? i : -i);
          const top = rank * (100 / height);
          return h(
            "square",
            {
              style: { top: top + "%", left: left + "%" },
              hook: bind("click", (e) => {
                e.stopPropagation();
                this.finish(role);
              }, null)
            },
            [h(`piece.${role}.${color}.${side}`)]
          );
        })
      );
    }
  };

  // client/input/duck.ts
  var DuckInput = class extends ExtraInput {
    constructor(ctrl) {
      super(ctrl);
      this.type = "duck";
      this.inputState = void 0;
      this.duckDests = [];
    }
    start(piece, orig, dest, meta) {
      this.data = { piece, orig, dest, meta };
      if (!this.ctrl.variant.rules.duck) {
        this.next("");
        return;
      }
      this.duckDests = this.ctrl.legalMoves().filter((move3) => move3.includes(orig + dest)).map((move3) => move3.slice(-2));
      let duckKey;
      const pieces = this.ctrl.chessground.state.boardState.pieces;
      for (const [k, p] of pieces) {
        if (p.role === "_-piece") {
          duckKey = k;
          break;
        }
      }
      if (meta.captured && this.ctrl.variant.kingRoles.includes(meta.captured.role)) {
        this.finish(orig);
        return;
      }
      const undo = document.getElementById("undo");
      if (undo && undo.tagName === "DIV") {
        patch(
          undo,
          h("button#undo", { on: { click: () => this.ctrl.undo() }, props: { title: _("Undo") } }, [h("i", { class: { "icon": true, "icon-reply": true } })])
        );
      }
      if (!duckKey) {
        this.inputState = "click";
      } else {
        this.ctrl.chessground.state.boardState.pieces.get(duckKey).color = piece.color;
        this.ctrl.chessground.set({
          turnColor: piece.color,
          movable: {
            dests: /* @__PURE__ */ new Map([[duckKey, this.duckDests]])
          }
        });
        this.inputState = "move";
      }
    }
    finish(key) {
      if (this.duckDests.includes(key) && this.data) {
        this.ctrl.chessground.state.lastMove = [this.data.orig, this.data.dest, key];
        this.next("," + this.data.dest + key);
        this.inputState = void 0;
        this.data = void 0;
      }
    }
  };

  // node_modules/chessgroundx/premove.js
  var diff = (a, b) => Math.abs(a - b);
  var pawn = (color) => (x1, y1, x2, y2) => diff(x1, x2) < 2 && (color === "white" ? (
    // allow 2 squares from first two ranks, for horde
    y2 === y1 + 1 || y1 <= 1 && y2 === y1 + 2 && x1 === x2
  ) : y2 === y1 - 1 || y1 >= 6 && y2 === y1 - 2 && x1 === x2);
  var knight = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 && yd === 2 || xd === 2 && yd === 1;
  };
  var bishop = (x1, y1, x2, y2) => {
    return diff(x1, x2) === diff(y1, y2);
  };
  var rook = (x1, y1, x2, y2) => {
    return x1 === x2 || y1 === y2;
  };
  var queen = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);
  };
  var king = (color, rookFiles, canCastle) => (x1, y1, x2, y2) => diff(x1, x2) < 2 && diff(y1, y2) < 2 || canCastle && y1 === y2 && y1 === (color === "white" ? 0 : 7) && (x1 === 4 && (x2 === 2 && rookFiles.includes(0) || x2 === 6 && rookFiles.includes(7)) || rookFiles.includes(x2));
  function rookFilesOf(pieces, color) {
    const backrank2 = color === "white" ? "1" : "8";
    const files3 = [];
    for (const [key, piece] of pieces) {
      if (key[1] === backrank2 && piece.color === color && piece.role === "r-piece") {
        files3.push(key2pos(key)[0]);
      }
    }
    return files3;
  }
  function and(...ms) {
    return (x1, y1, x2, y2) => ms.map((m) => m(x1, y1, x2, y2)).reduce((a, b) => a && b);
  }
  function or(...ms) {
    return (x1, y1, x2, y2) => ms.map((m) => m(x1, y1, x2, y2)).reduce((a, b) => a || b);
  }
  function _distance(dist) {
    return (x1, y1, x2, y2) => Math.max(diff(x1, x2), diff(y1, y2)) <= dist;
  }
  function memoizeDistance() {
    const cache = {};
    return (dist) => {
      const key = `${dist}`;
      if (!(key in cache))
        cache[key] = _distance(dist);
      return cache[key];
    };
  }
  var distance = memoizeDistance();
  function backrank(color) {
    return color === "white" ? 0 : 7;
  }
  var kingNoCastling = (x1, y1, x2, y2) => {
    return diff(x1, x2) < 2 && diff(y1, y2) < 2;
  };
  function king960(color, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && y1 === y2 && y1 === backrank(color) && rookFiles.includes(x2);
  }
  function kingCapa(color, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && y1 === y2 && y1 === backrank(color) && x1 === 5 && (x2 === 8 && rookFiles.includes(9) || x2 === 2 && rookFiles.includes(0));
  }
  function kingShako(color, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && y1 === y2 && y1 === (color === "white" ? 1 : 8) && x1 === 5 && (x2 === 7 && rookFiles.includes(8) || x2 === 3 && rookFiles.includes(1));
  }
  function rookFilesOfShako(pieces, color) {
    const backrank2 = color === "white" ? "2" : "9";
    const files3 = [];
    for (const [key, piece] of pieces) {
      if (key[1] === backrank2 && piece.color === color && piece.role === "r-piece") {
        files3.push(key2pos(key)[0]);
      }
    }
    return files3;
  }
  function kingOuk(color, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) || canCastle && (color === "white" ? x1 === 3 && y1 === 0 && (x2 === 1 || x2 === 5) && y2 === 1 : x1 === 4 && y1 === 7 && (x2 === 6 || x2 === 2) && y2 === 6);
  }
  function pawnNoDoubleStep(color) {
    return (x1, y1, x2, y2) => diff(x1, x2) < 2 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function pawnGrand(color) {
    return (x1, y1, x2, y2) => diff(x1, x2) < 2 && (color === "white" ? y2 === y1 + 1 || y1 <= 2 && y2 === y1 + 2 && x1 === x2 : y2 === y1 - 1 || y1 >= 7 && y2 === y1 - 2 && x1 === x2);
  }
  function pawnSittuyin(pieces, color) {
    return (x1, y1, x2, y2) => {
      let canPromote = (color === "white" ? y1 >= 4 : y1 <= 3) && (x1 === y1 || 7 - x1 === y1);
      if (!canPromote) {
        let pawnCount = 0;
        for (const p of pieces.values())
          if (p.role === "p-piece" && p.color === color)
            pawnCount += 1;
        canPromote || (canPromote = pawnCount === 1);
      }
      return pawnNoDoubleStep(color)(x1, y1, x2, y2) || canPromote && ferz(x1, y1, x2, y2);
    };
  }
  function pawnBerolina(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? (
        // allow 2 squares from first two ranks, for horde
        y2 === y1 + 1 && xd <= 1 || y1 <= 1 && y2 === y1 + 2 && xd === 2
      ) : y2 === y1 - 1 && xd <= 1 || y1 >= 6 && y2 === y1 - 2 && xd === 2;
    };
  }
  var sideways = (x1, y1, x2, y2) => {
    return y1 === y2 && diff(x1, x2) <= 1;
  };
  var wazir = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 && yd === 0 || xd === 0 && yd === 1;
  };
  var ferz = (x1, y1, x2, y2) => diff(x1, x2) === diff(y1, y2) && diff(x1, x2) === 1;
  function ferzOuk(color) {
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) || (color === "white" ? x1 === 4 && y1 === 0 && x2 === 4 && y2 === 2 : x1 === 3 && y1 === 7 && x2 === 3 && y2 === 5);
  }
  var elephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === yd && xd === 2;
  };
  var archbishop = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  var chancellor = (x1, y1, x2, y2) => {
    return rook(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  var amazon = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  var centaur = (x1, y1, x2, y2) => {
    return kingNoCastling(x1, y1, x2, y2) || knight(x1, y1, x2, y2);
  };
  function shogiLance(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 > y1 : y2 < y1);
  }
  function shogiSilver(color) {
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) || x1 === x2 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function shogiGold(color) {
    return (x1, y1, x2, y2) => wazir(x1, y1, x2, y2) || diff(x1, x2) < 2 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function shogiPawn(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1);
  }
  function shogiKnight(color) {
    return (x1, y1, x2, y2) => (x2 === x1 - 1 || x2 === x1 + 1) && (color === "white" ? y2 === y1 + 2 : y2 === y1 - 2);
  }
  var shogiDragon = (x1, y1, x2, y2) => {
    return rook(x1, y1, x2, y2) || ferz(x1, y1, x2, y2);
  };
  var shogiHorse = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || wazir(x1, y1, x2, y2);
  };
  function _palace(bd, color) {
    const middleFile = Math.floor(bd.width / 2);
    const startingRank = color === "white" ? 0 : bd.height - 3;
    return [
      [middleFile - 1, startingRank + 2],
      [middleFile, startingRank + 2],
      [middleFile + 1, startingRank + 2],
      [middleFile - 1, startingRank + 1],
      [middleFile, startingRank + 1],
      [middleFile + 1, startingRank + 1],
      [middleFile - 1, startingRank],
      [middleFile, startingRank],
      [middleFile + 1, startingRank]
    ];
  }
  function memoizePalace() {
    const cache = {};
    return (bd, color) => {
      const key = `${bd.width}x${bd.height}${color.slice(0, 1)}`;
      if (!(key in cache))
        cache[key] = _palace(bd, color);
      return cache[key];
    };
  }
  var palace = memoizePalace();
  function xiangqiPawn(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1) || y2 === y1 && diff(x1, x2) < 2 && (color === "white" ? y1 > 4 : y1 < 5);
  }
  function minixiangqiPawn(color) {
    return (x1, y1, x2, y2) => x2 === x1 && (color === "white" ? y2 === y1 + 1 : y2 === y1 - 1) || y2 === y1 && diff(x1, x2) < 2;
  }
  function xiangqiElephant(color) {
    return (x1, y1, x2, y2) => elephant(x1, y1, x2, y2) && (color === "white" ? y2 < 5 : y2 > 4);
  }
  function xiangqiAdvisor(color, bd) {
    const p = palace(bd, color);
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) && p.some((point) => point[0] === x2 && point[1] === y2);
  }
  function xiangqiKing(color, bd) {
    const p = palace(bd, color);
    return (x1, y1, x2, y2) => wazir(x1, y1, x2, y2) && p.some((point) => point[0] === x2 && point[1] === y2);
  }
  var shakoElephant = (x1, y1, x2, y2) => {
    return diff(x1, x2) === diff(y1, y2) && diff(x1, x2) < 3;
  };
  var janggiElephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 2 && yd === 3 || xd === 3 && yd === 2;
  };
  function janggiPawn(color, bd) {
    const oppPalace = palace(bd, opposite(color));
    return (x1, y1, x2, y2) => {
      const palacePos = oppPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      let additionalMobility;
      switch (palacePos) {
        case 0:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && color === "black" && y22 === y12 - 1;
          break;
        case 2:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && color === "black" && y22 === y12 - 1;
          break;
        case 4:
          additionalMobility = (x12, y12, x22, y22) => diff(x12, x22) === 1 && (color === "white" ? y22 === y12 + 1 : y22 === y12 - 1);
          break;
        case 6:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && color === "white" && y22 === y12 + 1;
          break;
        case 8:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && color === "white" && y22 === y12 + 1;
          break;
        default:
          additionalMobility = () => false;
      }
      return minixiangqiPawn(color)(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2);
    };
  }
  function janggiRook(bd) {
    const wPalace = palace(bd, "white");
    const bPalace = palace(bd, "black");
    return (x1, y1, x2, y2) => {
      let additionalMobility;
      const wPalacePos = wPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      const bPalacePos = bPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      const palacePos = wPalacePos !== -1 ? wPalacePos : bPalacePos;
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      switch (palacePos) {
        case 0:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 > x12 && x22 <= x12 + 2 && y22 < y12 && y22 >= y12 - 2;
          break;
        case 2:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 < x12 && x22 >= x12 - 2 && y22 < y12 && y22 >= y12 - 2;
          break;
        case 4:
          additionalMobility = ferz;
          break;
        case 6:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 > x12 && x22 <= x12 + 2 && y22 > y12 && y22 <= y12 + 2;
          break;
        case 8:
          additionalMobility = (x12, y12, x22, y22) => xd === yd && x22 < x12 && x22 >= x12 - 2 && y22 > y12 && y22 <= y12 + 2;
          break;
        default:
          additionalMobility = () => false;
      }
      return rook(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2);
    };
  }
  function janggiKing(color, bd) {
    const ownPalace = palace(bd, color);
    return (x1, y1, x2, y2) => {
      const palacePos = ownPalace.findIndex((point) => point[0] === x1 && point[1] === y1);
      let additionalMobility;
      switch (palacePos) {
        case 0:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && y22 === y12 - 1;
          break;
        case 2:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && y22 === y12 - 1;
          break;
        case 4:
          additionalMobility = ferz;
          break;
        case 6:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 + 1 && y22 === y12 + 1;
          break;
        case 8:
          additionalMobility = (x12, y12, x22, y22) => x22 === x12 - 1 && y22 === y12 + 1;
          break;
        default:
          additionalMobility = () => false;
      }
      return (wazir(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2)) && ownPalace.some((point) => point[0] === x2 && point[1] === y2);
    };
  }
  var musketeerLeopard = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === 1 || xd === 2) && (yd === 1 || yd === 2);
  };
  var musketeerHawk = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 0 && (yd === 2 || yd === 3) || yd === 0 && (xd === 2 || xd === 3) || xd === yd && (xd === 2 || xd === 3);
  };
  var musketeerElephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 || yd === 1 || xd === 2 && (yd === 0 || yd === 2) || xd === 0 && yd === 2;
  };
  var musketeerCannon = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd < 3 && (yd < 2 || yd === 2 && xd === 0);
  };
  var musketeerUnicorn = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return knight(x1, y1, x2, y2) || xd === 1 && yd === 3 || xd === 3 && yd === 1;
  };
  var musketeerDragon = (x1, y1, x2, y2) => {
    return knight(x1, y1, x2, y2) || queen(x1, y1, x2, y2);
  };
  var musketeerFortress = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === yd && xd < 4 || yd === 0 && xd === 2 || yd === 2 && xd < 2;
  };
  var musketeerSpider = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd < 3 && yd < 3 && !(xd === 1 && yd === 0) && !(xd === 0 && yd === 1);
  };
  function toriGoose(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? xd === 2 && y2 === y1 + 2 || xd === 0 && y2 === y1 - 2 : xd === 2 && y2 === y1 - 2 || xd === 0 && y2 === y1 + 2;
    };
  }
  function toriLeftQuail(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return color === "white" ? x2 === x1 && y2 > y1 || xd === yd && x2 > x1 && y2 < y1 || x2 === x1 - 1 && y2 === y1 - 1 : x2 === x1 && y2 < y1 || xd === yd && x2 < x1 && y2 > y1 || x2 === x1 + 1 && y2 === y1 + 1;
    };
  }
  function toriRightQuail(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return color === "white" ? x2 === x1 && y2 > y1 || xd === yd && x2 < x1 && y2 < y1 || x2 === x1 + 1 && y2 === y1 - 1 : x2 === x1 && y2 < y1 || xd === yd && x2 > x1 && y2 > y1 || x2 === x1 - 1 && y2 === y1 + 1;
    };
  }
  function toriPheasant(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? x2 === x1 && y2 === y1 + 2 || xd === 1 && y2 === y1 - 1 : x2 === x1 && y2 === y1 - 2 || xd === 1 && y2 === y1 + 1;
    };
  }
  var toriCrane = (x1, y1, x2, y2) => {
    return kingNoCastling(x1, y1, x2, y2) && y2 !== y1;
  };
  function toriFalcon(color) {
    return (x1, y1, x2, y2) => {
      return color === "white" ? kingNoCastling(x1, y1, x2, y2) && !(x2 === x1 && y2 === y1 - 1) : kingNoCastling(x1, y1, x2, y2) && !(x2 === x1 && y2 === y1 + 1);
    };
  }
  function toriEagle(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return color === "white" ? kingNoCastling(x1, y1, x2, y2) || xd === yd && (y2 > y1 || y2 < y1 && yd <= 2) || x2 === x1 && y2 < y1 : kingNoCastling(x1, y1, x2, y2) || xd === yd && (y2 < y1 || y2 > y1 && yd <= 2) || x2 === x1 && y2 > y1;
    };
  }
  function pawnChak(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      return color === "white" ? y2 >= y1 && y2 - y1 <= 1 && xd <= 1 : y1 >= y2 && y1 - y2 <= 1 && xd <= 1;
    };
  }
  function chakWarrior(color) {
    return (x1, y1, x2, y2) => toriCrane(x1, y1, x2, y2) && (color === "white" ? y2 >= 4 : y2 <= 4);
  }
  function chakDivineKing(color) {
    return (x1, y1, x2, y2) => {
      const xd = diff(x1, x2);
      const yd = diff(y1, y2);
      return queen(x1, y1, x2, y2) && xd <= 2 && yd <= 2 && (color === "white" ? y2 >= 4 : y2 <= 4);
    };
  }
  function kingChennis(color) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) && x2 >= 1 && x2 <= 5 && (color === "white" ? y2 <= 3 : y2 >= 3);
  }
  var noMove = () => false;
  function premove(variant2, chess960, bd) {
    const mobility = builtinMobility(variant2, chess960, bd);
    return (boardState, key, canCastle) => {
      const pos = key2pos(key);
      return allPos(bd).filter((pos2) => (pos[0] !== pos2[0] || pos[1] !== pos2[1]) && mobility(boardState, key, canCastle)(pos[0], pos[1], pos2[0], pos2[1])).map(pos2key);
    };
  }
  function builtinMobility(variant2, chess960, bd) {
    switch (variant2) {
      case "xiangqi":
      case "manchu":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return xiangqiPawn(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return xiangqiElephant(color);
            case "a-piece":
              return xiangqiAdvisor(color, bd);
            case "k-piece":
              return xiangqiKing(color, bd);
            case "m-piece":
              return chancellor;
            default:
              return noMove;
          }
        };
      case "janggi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return janggiPawn(color, bd);
            case "c-piece":
            case "r-piece":
              return janggiRook(bd);
            case "n-piece":
              return knight;
            case "b-piece":
              return janggiElephant;
            case "a-piece":
            case "k-piece":
              return janggiKing(color, bd);
            default:
              return noMove;
          }
        };
      case "minixiangqi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return minixiangqiPawn(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "k-piece":
              return xiangqiKing(color, bd);
            default:
              return noMove;
          }
        };
      case "shogi":
      case "minishogi":
      case "gorogoro":
      case "gorogoroplus":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return shogiPawn(color);
            case "l-piece":
              return shogiLance(color);
            case "n-piece":
              return shogiKnight(color);
            case "k-piece":
              return kingNoCastling;
            case "s-piece":
              return shogiSilver(color);
            case "g-piece":
            case "pp-piece":
            case "pl-piece":
            case "pn-piece":
            case "ps-piece":
              return shogiGold(color);
            case "b-piece":
              return bishop;
            case "r-piece":
              return rook;
            case "pr-piece":
              return shogiDragon;
            case "pb-piece":
              return shogiHorse;
            default:
              return noMove;
          }
        };
      case "kyotoshogi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "l-piece":
              return shogiLance(color);
            case "pl-piece":
              return shogiGold(color);
            case "s-piece":
              return shogiSilver(color);
            case "ps-piece":
              return bishop;
            case "n-piece":
              return shogiKnight(color);
            case "pn-piece":
              return shogiGold(color);
            case "p-piece":
              return shogiPawn(color);
            case "pp-piece":
              return rook;
            case "k-piece":
              return kingNoCastling;
            default:
              return noMove;
          }
        };
      case "dobutsu":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "c-piece":
              return shogiPawn(color);
            case "e-piece":
              return ferz;
            case "g-piece":
              return wazir;
            case "l-piece":
              return kingNoCastling;
            case "pc-piece":
              return shogiGold(color);
            default:
              return noMove;
          }
        };
      case "torishogi":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "s-piece":
              return shogiPawn(color);
            case "ps-piece":
              return toriGoose(color);
            case "l-piece":
              return toriLeftQuail(color);
            case "r-piece":
              return toriRightQuail(color);
            case "p-piece":
              return toriPheasant(color);
            case "c-piece":
              return toriCrane;
            case "f-piece":
              return toriFalcon(color);
            case "pf-piece":
              return toriEagle(color);
            case "k-piece":
              return kingNoCastling;
            default:
              return noMove;
          }
        };
      case "makruk":
      case "makpong":
      case "sittuyin":
      case "cambodian":
      case "asean":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return variant2 === "sittuyin" ? pawnSittuyin(boardState.pieces, color) : pawnNoDoubleStep(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
            case "s-piece":
              return shogiSilver(color);
            case "q-piece":
            case "f-piece":
            case "m-piece":
              return variant2 === "cambodian" ? ferzOuk(color) : ferz;
            case "k-piece":
              return variant2 === "cambodian" ? kingOuk(color, canCastle) : kingNoCastling;
            default:
              return noMove;
          }
        };
      case "grand":
      case "grandhouse":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnGrand(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "c-piece":
              return chancellor;
            case "a-piece":
              return archbishop;
            case "k-piece":
              return kingNoCastling;
            default:
              return noMove;
          }
        };
      case "shako":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnGrand(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "e-piece":
              return shakoElephant;
            case "k-piece":
              return kingShako(color, rookFilesOfShako(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "shogun":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "pp-piece":
              return kingNoCastling;
            case "r-piece":
              return rook;
            case "pr-piece":
              return chancellor;
            case "n-piece":
              return knight;
            case "pn-piece":
              return centaur;
            case "b-piece":
              return bishop;
            case "pb-piece":
              return archbishop;
            case "f-piece":
              return ferz;
            case "pf-piece":
              return queen;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "orda":
      case "ordamirror":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "l-piece":
              return chancellor;
            case "h-piece":
              return centaur;
            case "a-piece":
              return archbishop;
            case "y-piece":
              return shogiSilver(color);
            case "f-piece":
              return amazon;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "synochess":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "c-piece":
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "s-piece":
              return minixiangqiPawn(color);
            case "e-piece":
              return shakoElephant;
            case "a-piece":
              return kingNoCastling;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle && color === "white");
            default:
              return noMove;
          }
        };
      case "musketeer":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "l-piece":
              return musketeerLeopard;
            case "o-piece":
              return musketeerCannon;
            case "u-piece":
              return musketeerUnicorn;
            case "d-piece":
              return musketeerDragon;
            case "c-piece":
              return chancellor;
            case "a-piece":
              return archbishop;
            case "e-piece":
              return musketeerElephant;
            case "h-piece":
              return musketeerHawk;
            case "f-piece":
              return musketeerFortress;
            case "s-piece":
              return musketeerSpider;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "hoppelpoppel":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
            case "b-piece":
              return archbishop;
            case "q-piece":
              return queen;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "shinobi":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "pl-piece":
            case "r-piece":
              return rook;
            case "ph-piece":
            case "n-piece":
              return knight;
            case "pm-piece":
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "pp-piece":
            case "c-piece":
              return kingNoCastling;
            case "l-piece":
              return shogiLance(color);
            case "h-piece":
              return shogiKnight(color);
            case "m-piece":
              return ferz;
            case "d-piece":
              return shogiDragon;
            case "j-piece":
              return archbishop;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "empire":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "s-piece":
              return minixiangqiPawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
            case "d-piece":
            case "t-piece":
            case "c-piece":
              return queen;
            case "e-piece":
              return amazon;
            case "k-piece":
              return king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "chak":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnChak(color);
            case "pp-piece":
              return chakWarrior(color);
            case "r-piece":
              return rook;
            case "v-piece":
              return knight;
            case "s-piece":
              return toriCrane;
            case "j-piece":
              return centaur;
            case "q-piece":
              return queen;
            case "k-piece":
              return kingNoCastling;
            case "pk-piece":
              return chakDivineKing(color);
            case "o-piece":
            default:
              return noMove;
          }
        };
      case "chennis":
        return (boardState, key) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawnNoDoubleStep(color);
            case "pp-piece":
              return rook;
            case "s-piece":
              return minixiangqiPawn(color);
            case "ps-piece":
              return bishop;
            case "f-piece":
              return ferz;
            case "pf-piece":
              return rook;
            case "m-piece":
              return kingNoCastling;
            case "pm-piece":
              return knight;
            case "k-piece":
              return kingChennis(color);
            default:
              return noMove;
          }
        };
      case "spartan":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "h-piece":
              return pawnBerolina(color);
            case "g-piece":
              return shogiDragon;
            case "w-piece":
              return archbishop;
            case "c-piece":
              return and(rook, distance(2));
            case "l-piece":
              return or(and(bishop, distance(2)), sideways);
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "k-piece":
              return chess960 ? king960(color, rookFilesOf(boardState.pieces, color), canCastle) : king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      case "capablanca":
      case "capahouse":
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "c-piece":
              return chancellor;
            case "a-piece":
              return archbishop;
            case "k-piece":
              return chess960 ? king960(color, rookFilesOf(boardState.pieces, color), canCastle) : kingCapa(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
      default:
        return (boardState, key, canCastle) => {
          const piece = boardState.pieces.get(key);
          const role = piece.role;
          const color = piece.color;
          switch (role) {
            case "p-piece":
              return pawn(color);
            case "r-piece":
              return rook;
            case "n-piece":
              return knight;
            case "b-piece":
              return bishop;
            case "q-piece":
              return queen;
            case "e-piece":
            case "c-piece":
              return chancellor;
            case "h-piece":
            case "a-piece":
              return archbishop;
            case "k-piece":
              return chess960 ? king960(color, rookFilesOf(boardState.pieces, color), canCastle) : king(color, rookFilesOf(boardState.pieces, color), canCastle);
            default:
              return noMove;
          }
        };
    }
  }

  // node_modules/chessgroundx/board.js
  function callUserFunction(f, ...args) {
    if (f)
      setTimeout(() => f(...args), 1);
  }
  function toggleOrientation(state) {
    state.orientation = opposite(state.orientation);
    state.animation.current = state.draggable.current = state.selectable.selected = void 0;
  }
  function setPieces(state, pieces) {
    for (const [key, piece] of pieces) {
      if (piece)
        state.boardState.pieces.set(key, piece);
      else
        state.boardState.pieces.delete(key);
    }
  }
  function setCheck(state, color) {
    state.check = void 0;
    if (color === true)
      color = state.turnColor;
    if (color)
      for (const [k, p] of state.boardState.pieces) {
        if (state.kingRoles.includes(p.role) && p.color === color) {
          state.check = k;
          break;
        }
      }
  }
  function setPremove(state, orig, dest, meta) {
    state.premovable.current = [orig, dest];
    callUserFunction(state.premovable.events.set, orig, dest, meta);
  }
  function unsetPremove(state) {
    if (state.premovable.current) {
      state.premovable.current = void 0;
      callUserFunction(state.premovable.events.unset);
    }
  }
  function tryAutoCastle(state, orig, dest) {
    if (!state.autoCastle)
      return false;
    const king2 = state.boardState.pieces.get(orig);
    if (!king2 || king2.role !== "k-piece")
      return false;
    const origPos = key2pos(orig);
    const destPos = key2pos(dest);
    if (origPos[1] !== 0 && origPos[1] !== 7 || origPos[1] !== destPos[1])
      return false;
    if (origPos[0] === 4 && !state.boardState.pieces.has(dest)) {
      if (destPos[0] === 6)
        dest = pos2key([7, destPos[1]]);
      else if (destPos[0] === 2)
        dest = pos2key([0, destPos[1]]);
    }
    const rook2 = state.boardState.pieces.get(dest);
    if (!rook2 || rook2.color !== king2.color || rook2.role !== "r-piece")
      return false;
    state.boardState.pieces.delete(orig);
    state.boardState.pieces.delete(dest);
    if (origPos[0] < destPos[0]) {
      state.boardState.pieces.set(pos2key([6, destPos[1]]), king2);
      state.boardState.pieces.set(pos2key([5, destPos[1]]), rook2);
    } else {
      state.boardState.pieces.set(pos2key([2, destPos[1]]), king2);
      state.boardState.pieces.set(pos2key([3, destPos[1]]), rook2);
    }
    return true;
  }
  function baseMove(state, orig, dest) {
    const origPiece = state.boardState.pieces.get(orig), destPiece = state.boardState.pieces.get(dest);
    if (orig === dest || !origPiece)
      return false;
    const captured = destPiece && destPiece.color !== origPiece.color ? destPiece : void 0;
    if (dest === state.selectable.selected)
      unselect(state);
    callUserFunction(state.events.move, orig, dest, captured);
    if (!tryAutoCastle(state, orig, dest)) {
      state.boardState.pieces.set(dest, origPiece);
      state.boardState.pieces.delete(orig);
    }
    state.lastMove = [orig, dest];
    state.check = void 0;
    callUserFunction(state.events.change);
    return captured || true;
  }
  function baseNewPiece(state, piece, dest, fromPocket, force) {
    if (state.boardState.pieces.has(dest)) {
      if (force)
        state.boardState.pieces.delete(dest);
      else
        return false;
    }
    callUserFunction(state.events.dropNewPiece, piece, dest);
    state.boardState.pieces.set(dest, piece);
    if (fromPocket)
      changeNumber(state.boardState.pockets[piece.color], piece.role, -1);
    state.lastMove = [dropOrigOf(piece.role), dest];
    state.check = void 0;
    callUserFunction(state.events.change);
    state.movable.dests = void 0;
    state.turnColor = opposite(state.turnColor);
    return true;
  }
  function baseUserMove(state, orig, dest, fromPocket, force) {
    const result = isKey(orig) ? baseMove(state, orig, dest) : baseNewPiece(state, orig, dest, fromPocket, force);
    if (result) {
      state.movable.dests = void 0;
      state.turnColor = opposite(state.turnColor);
      state.animation.current = void 0;
    }
    return result;
  }
  function userMove(state, orig, dest, fromPocket, force) {
    if (canMove(state, orig, dest, fromPocket) || force) {
      const result = baseUserMove(state, orig, dest, fromPocket, force);
      if (result) {
        const holdTime = state.hold.stop();
        unselect(state);
        const metadata = {
          premove: false,
          ctrlKey: state.stats.ctrlKey,
          holdTime
        };
        if (result !== true)
          metadata.captured = result;
        if (isKey(orig))
          callUserFunction(state.movable.events.after, orig, dest, metadata);
        else
          callUserFunction(state.movable.events.afterNewPiece, orig, dest, metadata);
        return true;
      }
    } else if (canPremove(state, orig, dest, fromPocket)) {
      setPremove(state, isKey(orig) ? orig : dropOrigOf(orig.role), dest, {
        ctrlKey: state.stats.ctrlKey
      });
      unselect(state);
      return true;
    }
    unselect(state);
    return false;
  }
  function select(state, selected, force) {
    if (isKey(selected))
      callUserFunction(state.events.select, selected);
    else
      callUserFunction(state.events.selectPocket, selected);
    if (state.selectable.selected) {
      if (isSame(state.selectable.selected, selected) && !state.draggable.enabled) {
        unselect(state);
        state.hold.cancel();
        return;
      } else if ((state.selectable.enabled || force) && isKey(selected) && state.selectable.selected !== selected) {
        if (userMove(state, state.selectable.selected, selected, !!state.selectable.fromPocket)) {
          state.stats.dragged = false;
          return;
        }
      }
    }
    if ((state.selectable.enabled || state.draggable.enabled) && (isMovable(state, selected, true) || isPremovable(state, selected, true))) {
      setSelected(state, selected, true);
      state.hold.start();
    }
  }
  function setSelected(state, selected, fromPocket) {
    if (isKey(selected))
      setSelectedKey(state, selected);
    else
      setDropMode(state, selected, !!fromPocket);
  }
  function setSelectedKey(state, key) {
    state.selectable.selected = key;
    state.selectable.fromPocket = false;
    if (isPremovable(state, key, false)) {
      state.premovable.dests = state.premovable.premoveFunc(state.boardState, key, state.premovable.castle);
    } else {
      state.premovable.dests = void 0;
    }
  }
  function setDropMode(state, piece, fromPocket) {
    state.selectable.selected = piece;
    state.selectable.fromPocket = fromPocket;
    if (isPremovable(state, piece, fromPocket)) {
      state.premovable.dests = state.premovable.predropFunc(state.boardState, piece);
    } else {
      state.premovable.dests = void 0;
    }
  }
  function unselect(state) {
    state.selectable.selected = void 0;
    state.premovable.dests = void 0;
    state.hold.cancel();
  }
  function pieceAvailability(state, orig, fromPocket) {
    var _a2, _b;
    let piece;
    let available = false;
    if (isKey(orig)) {
      piece = state.boardState.pieces.get(orig);
      available = !!piece;
    } else {
      piece = orig;
      const num = (_b = (_a2 = state.boardState.pockets) === null || _a2 === void 0 ? void 0 : _a2[piece.color].get(piece.role)) !== null && _b !== void 0 ? _b : 0;
      available = !fromPocket || num > 0;
    }
    return [piece, available];
  }
  function isMovable(state, orig, fromPocket) {
    const [piece, available] = pieceAvailability(state, orig, fromPocket);
    return available && (state.movable.color === "both" || state.movable.color === piece.color && state.turnColor === piece.color);
  }
  var canMove = (state, orig, dest, fromPocket) => {
    var _a2, _b;
    return orig !== dest && isMovable(state, orig, fromPocket) && (state.movable.free || !!((_b = (_a2 = state.movable.dests) === null || _a2 === void 0 ? void 0 : _a2.get(isKey(orig) ? orig : dropOrigOf(orig.role))) === null || _b === void 0 ? void 0 : _b.includes(dest)));
  };
  function isPremovable(state, orig, fromPocket) {
    const [piece, available] = pieceAvailability(state, orig, fromPocket);
    return available && state.premovable.enabled && state.movable.color === piece.color && state.turnColor !== piece.color;
  }
  var canPremove = (state, orig, dest, fromPocket) => orig !== dest && isPremovable(state, orig, fromPocket) && (isKey(orig) ? state.premovable.premoveFunc(state.boardState, orig, state.premovable.castle).includes(dest) : state.premovable.predropFunc(state.boardState, orig).includes(dest));
  function isDraggable(state, orig, fromPocket) {
    const [piece, available] = pieceAvailability(state, orig, fromPocket);
    return available && state.draggable.enabled && (state.movable.color === "both" || state.movable.color === piece.color && (state.turnColor === piece.color || state.premovable.enabled));
  }
  function playPremove(state) {
    const move3 = state.premovable.current;
    if (!move3)
      return false;
    const orig = isKey(move3[0]) ? move3[0] : { role: roleOf(move3[0]), color: state.turnColor };
    const dest = move3[1];
    let success = false;
    if (canMove(state, orig, dest, true)) {
      const result = baseUserMove(state, orig, dest, true);
      if (result) {
        const metadata = { premove: true };
        if (result !== true)
          metadata.captured = result;
        if (isKey(orig))
          callUserFunction(state.movable.events.after, orig, dest, metadata);
        else
          callUserFunction(state.movable.events.afterNewPiece, orig, dest, metadata);
        success = true;
      }
    }
    unsetPremove(state);
    return success;
  }
  function cancelMove(state) {
    unsetPremove(state);
    unselect(state);
  }
  function stop(state) {
    state.movable.color = state.movable.dests = state.animation.current = void 0;
    cancelMove(state);
  }
  function getKeyAtDomPos(pos, asWhite, bounds, bd) {
    let file = Math.floor(bd.width * (pos[0] - bounds.left) / bounds.width);
    if (!asWhite)
      file = bd.width - 1 - file;
    let rank = bd.height - 1 - Math.floor(bd.height * (pos[1] - bounds.top) / bounds.height);
    if (!asWhite)
      rank = bd.height - 1 - rank;
    return file >= 0 && file < bd.width && rank >= 0 && rank < bd.height ? pos2key([file, rank]) : void 0;
  }
  function getSnappedKeyAtDomPos(orig, pos, asWhite, bounds, bd) {
    const origPos = key2pos(orig);
    const validSnapPos = allPos(bd).filter((pos2) => {
      return queen(origPos[0], origPos[1], pos2[0], pos2[1]) || knight(origPos[0], origPos[1], pos2[0], pos2[1]) || // Only apply this to 9x10 board to avoid interfering with other variants beside Janggi
      bd.width === 9 && bd.height === 10 && janggiElephant(origPos[0], origPos[1], pos2[0], pos2[1]);
    });
    const validSnapCenters = validSnapPos.map((pos2) => computeSquareCenter(pos2key(pos2), asWhite, bounds, bd));
    const validSnapDistances = validSnapCenters.map((pos2) => distanceSq(pos, pos2));
    const [, closestSnapIndex] = validSnapDistances.reduce((a, b, index) => a[0] < b ? a : [b, index], [validSnapDistances[0], 0]);
    return pos2key(validSnapPos[closestSnapIndex]);
  }
  var whitePov = (s) => s.orientation === "white";

  // node_modules/chessgroundx/config.js
  function applyAnimation(state, config) {
    if (config.animation) {
      deepMerge(state.animation, config.animation);
      if ((state.animation.duration || 0) < 70)
        state.animation.enabled = false;
    }
  }
  function configure(state, config) {
    var _a2, _b, _c;
    if ((_a2 = config.movable) === null || _a2 === void 0 ? void 0 : _a2.dests)
      state.movable.dests = void 0;
    if ((_b = config.drawable) === null || _b === void 0 ? void 0 : _b.autoShapes)
      state.drawable.autoShapes = [];
    deepMerge(state, config);
    if (config.fen) {
      const boardState = read(config.fen, state.dimensions);
      const draggedPiece = state.boardState.pieces.get("a0");
      if (draggedPiece !== void 0)
        boardState.pieces.set("a0", draggedPiece);
      if (state.pocketRoles)
        boardState.pockets = (_c = boardState.pockets) !== null && _c !== void 0 ? _c : { white: /* @__PURE__ */ new Map(), black: /* @__PURE__ */ new Map() };
      else
        boardState.pockets = void 0;
      state.boardState = boardState;
      state.drawable.shapes = [];
    }
    if ("check" in config || "kingRoles" in config)
      setCheck(state, config.check || false);
    if ("lastMove" in config && !config.lastMove)
      state.lastMove = void 0;
    else if (config.lastMove)
      state.lastMove = config.lastMove;
    if (state.selectable.selected)
      setSelected(state, state.selectable.selected, state.selectable.fromPocket);
    applyAnimation(state, config);
    if (!state.movable.rookCastle && state.movable.dests) {
      const rank = state.movable.color === "white" ? "1" : "8", kingStartPos = "e" + rank, dests = state.movable.dests.get(kingStartPos), king2 = state.boardState.pieces.get(kingStartPos);
      if (!dests || !king2 || king2.role !== "k-piece")
        return;
      state.movable.dests.set(kingStartPos, dests.filter((d) => !(d === "a" + rank && dests.includes("c" + rank)) && !(d === "h" + rank && dests.includes("g" + rank))));
    }
  }
  function deepMerge(base, extend) {
    for (const key in extend) {
      if (Object.prototype.hasOwnProperty.call(extend, key)) {
        if (Object.prototype.hasOwnProperty.call(base, key) && isPlainObject(base[key]) && isPlainObject(extend[key]))
          deepMerge(base[key], extend[key]);
        else
          base[key] = extend[key];
      }
    }
  }
  function isPlainObject(o) {
    if (typeof o !== "object" || o === null)
      return false;
    const proto = Object.getPrototypeOf(o);
    return proto === Object.prototype || proto === null;
  }

  // node_modules/chessgroundx/anim.js
  var anim = (mutation, state) => state.animation.enabled ? animate(mutation, state) : render(mutation, state);
  function render(mutation, state) {
    const result = mutation(state);
    state.dom.redraw();
    return result;
  }
  var makePiece = (key, piece) => ({
    key,
    pos: key2pos(key),
    piece
  });
  var closer = (piece, pieces) => pieces.sort((p1, p2) => distanceSq(piece.pos, p1.pos) - distanceSq(piece.pos, p2.pos))[0];
  function computePlan(prevPieces, current) {
    const anims = /* @__PURE__ */ new Map(), animedOrigs = [], fadings = /* @__PURE__ */ new Map(), missings = [], news = [], prePieces = /* @__PURE__ */ new Map();
    let curP, preP, vector;
    for (const [k, p] of prevPieces) {
      prePieces.set(k, makePiece(k, p));
    }
    for (const key of allKeys(current.dimensions)) {
      curP = current.boardState.pieces.get(key);
      preP = prePieces.get(key);
      if (curP) {
        if (preP) {
          if (!samePiece(curP, preP.piece)) {
            missings.push(preP);
            news.push(makePiece(key, curP));
          }
        } else
          news.push(makePiece(key, curP));
      } else if (preP)
        missings.push(preP);
    }
    for (const newP of news) {
      preP = closer(newP, missings.filter((p) => samePiece(newP.piece, p.piece)));
      if (preP) {
        vector = [preP.pos[0] - newP.pos[0], preP.pos[1] - newP.pos[1]];
        anims.set(newP.key, vector.concat(vector));
        animedOrigs.push(preP.key);
      }
    }
    for (const p of missings) {
      if (!animedOrigs.includes(p.key))
        fadings.set(p.key, p.piece);
    }
    return {
      anims,
      fadings
    };
  }
  function step(state, now) {
    const cur = state.animation.current;
    if (cur === void 0) {
      if (!state.dom.destroyed)
        state.dom.redrawNow();
      return;
    }
    const rest = 1 - (now - cur.start) * cur.frequency;
    if (rest <= 0) {
      state.animation.current = void 0;
      state.dom.redrawNow();
    } else {
      const ease = easing(rest);
      for (const cfg of cur.plan.anims.values()) {
        cfg[2] = cfg[0] * ease;
        cfg[3] = cfg[1] * ease;
      }
      state.dom.redrawNow(true);
      requestAnimationFrame((now2 = performance.now()) => step(state, now2));
    }
  }
  function animate(mutation, state) {
    const prevPieces = new Map(state.boardState.pieces);
    const result = mutation(state);
    const plan = computePlan(prevPieces, state);
    if (plan.anims.size || plan.fadings.size) {
      const alreadyRunning = state.animation.current && state.animation.current.start;
      state.animation.current = {
        start: performance.now(),
        frequency: 1 / state.animation.duration,
        plan
      };
      if (!alreadyRunning)
        step(state, performance.now());
    } else {
      state.dom.redraw();
    }
    return result;
  }
  var easing = (t) => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;

  // node_modules/chessgroundx/draw.js
  var brushes = ["green", "red", "blue", "yellow"];
  function start(state, e) {
    if (e.touches && e.touches.length > 1)
      return;
    e.stopPropagation();
    e.preventDefault();
    e.ctrlKey ? unselect(state) : cancelMove(state);
    const pos = eventPosition(e), orig = getKeyAtDomPos(pos, whitePov(state), state.dom.bounds(), state.dimensions);
    if (!orig)
      return;
    state.drawable.current = {
      orig,
      pos,
      brush: eventBrush(e),
      snapToValidMove: state.drawable.defaultSnapToValidMove
    };
    processDraw(state);
  }
  function processDraw(state) {
    requestAnimationFrame(() => {
      const cur = state.drawable.current;
      if (cur) {
        const keyAtDomPos = getKeyAtDomPos(cur.pos, whitePov(state), state.dom.bounds(), state.dimensions);
        if (!keyAtDomPos) {
          cur.snapToValidMove = false;
        }
        const mouseSq = cur.snapToValidMove ? getSnappedKeyAtDomPos(cur.orig, cur.pos, whitePov(state), state.dom.bounds(), state.dimensions) : keyAtDomPos;
        if (mouseSq !== cur.mouseSq) {
          cur.mouseSq = mouseSq;
          cur.dest = mouseSq !== cur.orig ? mouseSq : void 0;
          state.dom.redrawNow();
        }
        processDraw(state);
      }
    });
  }
  function move(state, e) {
    if (state.drawable.current)
      state.drawable.current.pos = eventPosition(e);
  }
  function end(state) {
    const cur = state.drawable.current;
    if (cur) {
      if (cur.mouseSq)
        addShape(state.drawable, cur);
      cancel(state);
    }
  }
  function cancel(state) {
    if (state.drawable.current) {
      state.drawable.current = void 0;
      state.dom.redraw();
    }
  }
  function clear(state) {
    if (state.drawable.shapes.length) {
      state.drawable.shapes = [];
      state.dom.redraw();
      onChange(state.drawable);
    }
  }
  function eventBrush(e) {
    var _a2;
    const modA = (e.shiftKey || e.ctrlKey) && isRightButton(e);
    const modB = e.altKey || e.metaKey || ((_a2 = e.getModifierState) === null || _a2 === void 0 ? void 0 : _a2.call(e, "AltGraph"));
    return brushes[(modA ? 1 : 0) + (modB ? 2 : 0)];
  }
  function addShape(drawable, cur) {
    const sameShape = (s) => s.orig === cur.orig && s.dest === cur.dest;
    const similar = drawable.shapes.find(sameShape);
    if (similar)
      drawable.shapes = drawable.shapes.filter((s) => !sameShape(s));
    if (!similar || similar.brush !== cur.brush)
      drawable.shapes.push(cur);
    onChange(drawable);
  }
  function onChange(drawable) {
    if (drawable.onChange)
      drawable.onChange(drawable.shapes);
  }

  // node_modules/chessgroundx/drag.js
  function start2(s, e) {
    if (!e.isTrusted || e.button !== void 0 && e.button !== 0)
      return;
    if (e.touches && e.touches.length > 1)
      return;
    const bounds = s.dom.bounds(), position = eventPosition(e), orig = getKeyAtDomPos(position, whitePov(s), bounds, s.dimensions);
    if (!orig)
      return;
    const piece = s.boardState.pieces.get(orig);
    const previouslySelected = s.selectable.selected;
    if (!previouslySelected && s.drawable.enabled && (s.drawable.eraseOnClick || !piece || piece.color !== s.turnColor))
      clear(s);
    if (e.cancelable !== false && (!e.touches || s.blockTouchScroll || piece || previouslySelected || pieceCloseTo(s, position)))
      e.preventDefault();
    const hadPremove = !!s.premovable.current;
    s.stats.ctrlKey = e.ctrlKey;
    if (s.selectable.selected && canMove(s, s.selectable.selected, orig, !!s.selectable.fromPocket)) {
      anim((state) => select(state, orig), s);
    } else {
      select(s, orig);
    }
    const stillSelected = s.selectable.selected === orig;
    const element = pieceElementByKey(s, orig);
    if (piece && element && stillSelected && isDraggable(s, orig, false)) {
      s.draggable.current = {
        orig,
        piece,
        origPos: position,
        pos: position,
        started: s.draggable.autoDistance && s.stats.dragged,
        element,
        previouslySelected,
        originTarget: e.target,
        keyHasChanged: false
      };
      element.cgDragging = true;
      element.classList.add("dragging");
      const ghost = s.dom.elements.ghost;
      if (ghost) {
        ghost.className = "ghost " + pieceClasses(piece, s.orientation);
        translate(ghost, posToTranslate(bounds, s.dimensions)(key2pos(orig), whitePov(s)));
        setVisible(ghost, true);
      }
      processDrag(s);
    } else {
      if (hadPremove)
        unsetPremove(s);
    }
    s.dom.redraw();
  }
  function pieceCloseTo(s, pos) {
    const asWhite = whitePov(s), bounds = s.dom.bounds(), radiusSq = Math.pow(bounds.width / s.dimensions.width, 2);
    for (const key of s.boardState.pieces.keys()) {
      const center = computeSquareCenter(key, asWhite, bounds, s.dimensions);
      if (distanceSq(center, pos) <= radiusSq)
        return true;
    }
    return false;
  }
  function dragNewPiece(s, piece, fromPocket, e, previouslySelected, force) {
    s.dom.redraw();
    const position = eventPosition(e);
    s.boardState.pieces.set("a0", piece);
    s.draggable.current = {
      orig: "a0",
      piece,
      origPos: position,
      pos: position,
      started: true,
      element: () => pieceElementByKey(s, "a0"),
      previouslySelected,
      originTarget: e.target,
      fromPocket,
      force: !!force,
      keyHasChanged: false
    };
    processDrag(s);
  }
  function processDrag(s) {
    requestAnimationFrame(() => {
      var _a2;
      const cur = s.draggable.current;
      if (!cur)
        return;
      if ((_a2 = s.animation.current) === null || _a2 === void 0 ? void 0 : _a2.plan.anims.has(cur.orig))
        s.animation.current = void 0;
      const origPiece = s.boardState.pieces.get(cur.orig);
      if (!samePiece(origPiece, cur.piece))
        cancel2(s);
      else {
        if (!cur.started && distanceSq(cur.pos, cur.origPos) >= Math.pow(s.draggable.distance, 2))
          cur.started = true;
        if (cur.started) {
          if (typeof cur.element === "function") {
            const found = cur.element();
            if (!found)
              return;
            found.cgDragging = true;
            found.classList.add("dragging");
            cur.element = found;
          }
          const bounds = s.dom.bounds();
          translate(cur.element, [
            cur.pos[0] - bounds.left - bounds.width / (2 * s.dimensions.width),
            cur.pos[1] - bounds.top - bounds.height / (2 * s.dimensions.height)
          ]);
          if (cur.orig !== "a0")
            cur.keyHasChanged || (cur.keyHasChanged = cur.orig !== getKeyAtDomPos(cur.pos, whitePov(s), bounds, s.dimensions));
        }
      }
      processDrag(s);
    });
  }
  function move2(s, e) {
    if (s.draggable.current && (!e.touches || e.touches.length < 2)) {
      s.draggable.current.pos = eventPosition(e);
    }
  }
  function end2(s, e) {
    var _a2;
    const cur = s.draggable.current;
    if (!cur)
      return;
    if (e.type === "touchend" && e.cancelable !== false)
      e.preventDefault();
    if (e.type === "touchend" && cur.originTarget !== e.target) {
      s.draggable.current = void 0;
      return;
    }
    unsetPremove(s);
    const eventPos = eventPosition(e) || cur.pos;
    const dest = getKeyAtDomPos(eventPos, whitePov(s), s.dom.bounds(), s.dimensions);
    const target = e.target;
    const onPocket = Number((_a2 = target.getAttribute("data-nb")) !== null && _a2 !== void 0 ? _a2 : -1) >= 0;
    const targetPiece = onPocket ? { role: target.getAttribute("data-role"), color: target.getAttribute("data-color") } : void 0;
    if (dest && cur.started && cur.orig !== dest) {
      s.stats.ctrlKey = e.ctrlKey;
      if (userMove(s, cur.orig !== "a0" ? cur.orig : cur.piece, dest, !!cur.fromPocket))
        s.stats.dragged = true;
    } else if (s.draggable.deleteOnDropOff && !dest) {
      s.boardState.pieces.delete(cur.orig);
      if (cur.fromPocket)
        changeNumber(s.boardState.pockets[cur.piece.color], cur.piece.role, -1);
      callUserFunction(s.events.change);
    }
    if ((cur.previouslySelected && (cur.orig === cur.previouslySelected || isSame(cur.piece, cur.previouslySelected)) || cur.keyHasChanged) && (cur.orig === dest || !dest))
      unselect(s);
    if (cur.orig === "a0" && (!targetPiece || !samePiece(cur.piece, targetPiece)))
      unselect(s);
    else if (!s.selectable.enabled)
      unselect(s);
    if (cur.orig === "a0")
      s.boardState.pieces.delete("a0");
    removeDragElements(s);
    s.draggable.current = void 0;
    s.dom.redraw();
  }
  function cancel2(s) {
    const cur = s.draggable.current;
    if (cur) {
      s.draggable.current = void 0;
      s.boardState.pieces.delete("a0");
      unselect(s);
      removeDragElements(s);
      s.dom.redraw();
    }
  }
  function removeDragElements(s) {
    const e = s.dom.elements;
    if (e.ghost)
      setVisible(e.ghost, false);
  }
  function pieceElementByKey(s, key) {
    let el = s.dom.elements.board.firstChild;
    while (el) {
      if (el.cgKey === key && el.tagName === "PIECE")
        return el;
      el = el.nextSibling;
    }
    return;
  }

  // node_modules/chessgroundx/explosion.js
  function explosion(state, keys) {
    state.exploding = { stage: 1, keys };
    state.dom.redraw();
    setTimeout(() => {
      setStage(state, 2);
      setTimeout(() => setStage(state, void 0), 120);
    }, 120);
  }
  function setStage(state, stage) {
    if (state.exploding) {
      if (stage)
        state.exploding.stage = stage;
      else
        state.exploding = void 0;
      state.dom.redraw();
    }
  }

  // node_modules/chessgroundx/api.js
  function start3(state, redrawAll) {
    function toggleOrientation2() {
      toggleOrientation(state);
      redrawAll();
    }
    return {
      set(config) {
        if (config.orientation && config.orientation !== state.orientation)
          toggleOrientation2();
        applyAnimation(state, config);
        (config.fen ? anim : render)((state2) => configure(state2, config), state);
      },
      state,
      getFen: () => write(state.boardState, state.dimensions),
      toggleOrientation: toggleOrientation2,
      setPieces(pieces) {
        anim((state2) => setPieces(state2, pieces), state);
      },
      changePocket(piece, num) {
        var _a2;
        if ((_a2 = state.pocketRoles) === null || _a2 === void 0 ? void 0 : _a2[piece.color].includes(piece.role)) {
          changeNumber(state.boardState.pockets[piece.color], piece.role, num);
          state.dom.redraw();
        }
      },
      selectSquare(key, force) {
        if (key)
          anim((state2) => select(state2, key, force), state);
        else if (state.selectable.selected) {
          unselect(state);
          state.dom.redraw();
        }
      },
      selectPocket(piece) {
        if (piece)
          anim((state2) => select(state2, piece), state);
        else if (state.selectable.selected) {
          unselect(state);
          state.dom.redraw();
        }
      },
      unselect() {
        unselect(state);
      },
      move(orig, dest) {
        if (isDropOrig(orig))
          baseNewPiece(state, { role: roleOf(orig), color: state.turnColor }, dest, true);
        else
          anim((state2) => baseMove(state2, orig, dest), state);
      },
      newPiece(piece, key, fromPocket) {
        anim((state2) => baseNewPiece(state2, piece, key, fromPocket), state);
      },
      playPremove() {
        if (state.premovable.current) {
          if (anim(playPremove, state))
            return true;
          state.dom.redraw();
        }
        return false;
      },
      cancelPremove() {
        render(unsetPremove, state);
      },
      cancelMove() {
        render((state2) => {
          cancelMove(state2);
          cancel2(state2);
        }, state);
      },
      stop() {
        render((state2) => {
          stop(state2);
          cancel2(state2);
        }, state);
      },
      explode(keys) {
        explosion(state, keys);
      },
      setAutoShapes(shapes) {
        render((state2) => state2.drawable.autoShapes = shapes, state);
      },
      setShapes(shapes) {
        render((state2) => state2.drawable.shapes = shapes, state);
      },
      getKeyAtDomPos(pos) {
        return getKeyAtDomPos(pos, whitePov(state), state.dom.bounds(), state.dimensions);
      },
      redrawAll,
      dragNewPiece(piece, fromPocket, event, force) {
        dragNewPiece(state, piece, fromPocket, event, void 0, force);
      },
      destroy() {
        stop(state);
        state.dom.unbind && state.dom.unbind();
        state.dom.destroyed = true;
      }
    };
  }

  // node_modules/chessgroundx/predrop.js
  var wholeBoard = () => true;
  function rankRange(from, to, color, bd) {
    if (from < 0)
      from += bd.height;
    if (to < 0)
      to += bd.height;
    return (_x, y) => {
      if (color === "black")
        y = bd.height - 1 - y;
      return from <= y && y < to;
    };
  }
  function predrop(variant2, bd) {
    const mobility = builtinMobility2(variant2, bd);
    return (boardState, piece) => allPos(bd).filter((pos) => {
      var _a2;
      return ((_a2 = boardState.pieces.get(pos2key(pos))) === null || _a2 === void 0 ? void 0 : _a2.color) !== piece.color && mobility(piece)(pos[0], pos[1]);
    }).map(pos2key);
  }
  function builtinMobility2(variant2, bd) {
    switch (variant2) {
      case "crazyhouse":
      case "shouse":
      case "capahouse":
      case "gothhouse":
        return (piece) => piece.role === "p-piece" ? rankRange(1, -1, piece.color, bd) : wholeBoard;
      case "placement":
        return (piece) => rankRange(0, 1, piece.color, bd);
      case "sittuyin":
        return (piece) => piece.role === "r-piece" ? rankRange(0, 1, piece.color, bd) : rankRange(0, 3, piece.color, bd);
      case "shogi":
      case "minishogi":
      case "gorogoro":
      case "gorogoroplus":
        return (piece) => {
          switch (piece.role) {
            case "p-piece":
            case "l-piece":
              return rankRange(0, -1, piece.color, bd);
            case "n-piece":
              return rankRange(0, -2, piece.color, bd);
            default:
              return wholeBoard;
          }
        };
      case "torishogi":
        return (piece) => piece.role === "s-piece" ? rankRange(0, -1, piece.color, bd) : wholeBoard;
      case "grandhouse":
        return (piece) => piece.role === "p-piece" ? rankRange(1, 7, piece.color, bd) : wholeBoard;
      case "shogun":
        return (piece) => rankRange(0, 5, piece.color, bd);
      case "synochess":
        return () => (_x, y) => y === 4;
      case "shinobi":
        return () => (_x, y) => y <= 3;
      case "kyotoshogi":
      case "dobutsu":
      case "chennis":
      default:
        return () => wholeBoard;
    }
  }

  // node_modules/chessgroundx/state.js
  function defaults() {
    return {
      boardState: read(initial, { width: 8, height: 8 }),
      orientation: "white",
      turnColor: "white",
      coordinates: true,
      ranksPosition: "right",
      autoCastle: true,
      viewOnly: false,
      disableContextMenu: false,
      addPieceZIndex: false,
      blockTouchScroll: false,
      pieceKey: false,
      highlight: {
        lastMove: true,
        check: true
      },
      animation: {
        enabled: true,
        duration: 200
      },
      movable: {
        free: true,
        color: "both",
        showDests: true,
        events: {},
        rookCastle: true
      },
      premovable: {
        enabled: true,
        premoveFunc: premove("chess", false, { width: 8, height: 8 }),
        predropFunc: predrop("chess", { width: 8, height: 8 }),
        castle: true,
        events: {}
      },
      draggable: {
        enabled: true,
        distance: 3,
        autoDistance: true,
        showGhost: true,
        deleteOnDropOff: false
      },
      selectable: {
        enabled: true
      },
      stats: {
        // on touchscreen, default to "tap-tap" moves
        // instead of drag
        dragged: !("ontouchstart" in window)
      },
      events: {},
      drawable: {
        enabled: true,
        visible: true,
        defaultSnapToValidMove: true,
        eraseOnClick: true,
        shapes: [],
        autoShapes: [],
        brushes: {
          green: { key: "g", color: "#15781B", opacity: 1, lineWidth: 10 },
          red: { key: "r", color: "#882020", opacity: 1, lineWidth: 10 },
          blue: { key: "b", color: "#003088", opacity: 1, lineWidth: 10 },
          yellow: { key: "y", color: "#e68f00", opacity: 1, lineWidth: 10 },
          paleBlue: { key: "pb", color: "#003088", opacity: 0.4, lineWidth: 15 },
          paleGreen: { key: "pg", color: "#15781B", opacity: 0.4, lineWidth: 15 },
          paleRed: { key: "pr", color: "#882020", opacity: 0.4, lineWidth: 15 },
          paleGrey: {
            key: "pgr",
            color: "#4a4a4a",
            opacity: 0.35,
            lineWidth: 15
          }
        },
        prevSvgHash: ""
      },
      hold: timer(),
      dimensions: { width: 8, height: 8 },
      notation: Notation.ALGEBRAIC,
      kingRoles: ["k-piece"]
    };
  }

  // node_modules/chessgroundx/sync.js
  function syncShapes(shapes, root, renderShape3) {
    const hashesInDom = /* @__PURE__ */ new Map(), toRemove = [];
    for (const sc of shapes)
      hashesInDom.set(sc.hash, false);
    let el = root.firstChild, elHash;
    while (el) {
      elHash = el.getAttribute("cgHash");
      if (hashesInDom.has(elHash))
        hashesInDom.set(elHash, true);
      else
        toRemove.push(el);
      el = el.nextSibling;
    }
    for (const el2 of toRemove)
      root.removeChild(el2);
    for (const sc of shapes) {
      if (!hashesInDom.get(sc.hash))
        root.appendChild(renderShape3(sc));
    }
  }

  // node_modules/chessgroundx/svg.js
  function createElement2(tagName2) {
    return document.createElementNS("http://www.w3.org/2000/svg", tagName2);
  }
  function renderSvg(state, svg, customSvg) {
    const d = state.drawable, curD = d.current, cur = curD && curD.mouseSq ? curD : void 0, arrowDests = /* @__PURE__ */ new Map(), bounds = state.dom.bounds(), nonPieceAutoShapes = d.autoShapes.filter((autoShape) => !autoShape.piece);
    for (const s of d.shapes.concat(nonPieceAutoShapes).concat(cur ? [cur] : [])) {
      if (s.dest)
        arrowDests.set(s.dest, (arrowDests.get(s.dest) || 0) + 1);
    }
    const shapes = d.shapes.concat(nonPieceAutoShapes).map((s) => {
      return {
        shape: s,
        current: false,
        hash: shapeHash(s, arrowDests, false, bounds)
      };
    });
    if (cur)
      shapes.push({
        shape: cur,
        current: true,
        hash: shapeHash(cur, arrowDests, true, bounds)
      });
    const fullHash = shapes.map((sc) => sc.hash).join(";");
    if (fullHash === state.drawable.prevSvgHash)
      return;
    state.drawable.prevSvgHash = fullHash;
    const defsEl = svg.querySelector("defs");
    const shapesEl = svg.querySelector("g");
    const customSvgsEl = customSvg.querySelector("g");
    syncDefs(d, shapes, defsEl);
    syncShapes(shapes.filter((s) => !s.shape.customSvg), shapesEl, (shape) => renderShape(state, shape, d.brushes, arrowDests, bounds));
    syncShapes(shapes.filter((s) => s.shape.customSvg), customSvgsEl, (shape) => renderShape(state, shape, d.brushes, arrowDests, bounds));
  }
  function syncDefs(d, shapes, defsEl) {
    const brushes2 = /* @__PURE__ */ new Map();
    let brush;
    for (const s of shapes) {
      if (s.shape.dest) {
        brush = d.brushes[s.shape.brush];
        if (s.shape.modifiers)
          brush = makeCustomBrush(brush, s.shape.modifiers);
        brushes2.set(brush.key, brush);
      }
    }
    const keysInDom = /* @__PURE__ */ new Set();
    let el = defsEl.firstChild;
    while (el) {
      keysInDom.add(el.getAttribute("cgKey"));
      el = el.nextSibling;
    }
    for (const [key, brush2] of brushes2.entries()) {
      if (!keysInDom.has(key))
        defsEl.appendChild(renderMarker(brush2));
    }
  }
  function shapeHash({ orig, dest, brush, piece, modifiers, customSvg }, arrowDests, current, bounds) {
    return [
      bounds.width,
      bounds.height,
      current,
      orig,
      dest,
      brush,
      dest && (arrowDests.get(dest) || 0) > 1,
      piece && pieceHash(piece),
      modifiers && modifiersHash(modifiers),
      customSvg && customSvgHash(customSvg)
    ].filter((x) => x).join(",");
  }
  function pieceHash(piece) {
    return [piece.color, piece.role, piece.promoted, piece.scale].filter((x) => x).join(",");
  }
  function modifiersHash(m) {
    return "" + (m.lineWidth || "");
  }
  function customSvgHash(s) {
    let h2 = 0;
    for (let i = 0; i < s.length; i++) {
      h2 = (h2 << 5) - h2 + s.charCodeAt(i) >>> 0;
    }
    return "custom-" + h2.toString();
  }
  function renderShape(state, { shape, current, hash: hash2 }, brushes2, arrowDests, bounds) {
    let el;
    const orig = orient(key2pos(shape.orig), state.orientation, state.dimensions);
    if (shape.customSvg) {
      el = renderCustomSvg(shape.customSvg, orig, bounds, state.dimensions);
    } else {
      if (shape.dest) {
        let brush = brushes2[shape.brush];
        if (shape.modifiers)
          brush = makeCustomBrush(brush, shape.modifiers);
        el = renderArrow(brush, orig, orient(key2pos(shape.dest), state.orientation, state.dimensions), current, (arrowDests.get(shape.dest) || 0) > 1, bounds, state.dimensions);
      } else
        el = renderCircle(brushes2[shape.brush], orig, current, bounds, state.dimensions);
    }
    el.setAttribute("cgHash", hash2);
    return el;
  }
  function renderCustomSvg(customSvg, pos, bounds, bd) {
    const [x, y] = pos2user(pos, bounds, bd);
    const g = setAttributes(createElement2("g"), { transform: `translate(${x},${y})` });
    const svg = setAttributes(createElement2("svg"), { width: 1, height: 1, viewBox: "0 0 100 100" });
    g.appendChild(svg);
    svg.innerHTML = customSvg;
    return g;
  }
  function renderCircle(brush, pos, current, bounds, bd) {
    const o = pos2user(pos, bounds, bd), widths = circleWidth(), radius = (bounds.width + bounds.height) / (4 * Math.max(bounds.width, bounds.height));
    return setAttributes(createElement2("circle"), {
      stroke: brush.color,
      "stroke-width": widths[current ? 0 : 1],
      fill: "none",
      opacity: opacity(brush, current),
      cx: o[0],
      cy: o[1],
      r: radius - widths[1] / 2
    });
  }
  function renderArrow(brush, orig, dest, current, shorten, bounds, bd) {
    const m = arrowMargin(shorten && !current), a = pos2user(orig, bounds, bd), b = pos2user(dest, bounds, bd), dx = b[0] - a[0], dy = b[1] - a[1], angle = Math.atan2(dy, dx), xo = Math.cos(angle) * m, yo = Math.sin(angle) * m;
    return setAttributes(createElement2("line"), {
      stroke: brush.color,
      "stroke-width": lineWidth(brush, current),
      "stroke-linecap": "round",
      "marker-end": "url(#arrowhead-" + brush.key + ")",
      opacity: opacity(brush, current),
      x1: a[0],
      y1: a[1],
      x2: b[0] - xo,
      y2: b[1] - yo
    });
  }
  function renderMarker(brush) {
    const marker = setAttributes(createElement2("marker"), {
      id: "arrowhead-" + brush.key,
      orient: "auto",
      markerWidth: 4,
      markerHeight: 8,
      refX: 2.05,
      refY: 2.01
    });
    marker.appendChild(setAttributes(createElement2("path"), {
      d: "M0,0 V4 L3,2 Z",
      fill: brush.color
    }));
    marker.setAttribute("cgKey", brush.key);
    return marker;
  }
  function setAttributes(el, attrs) {
    for (const key in attrs) {
      if (Object.prototype.hasOwnProperty.call(attrs, key))
        el.setAttribute(key, attrs[key]);
    }
    return el;
  }
  function orient(pos, color, bd) {
    return color === "white" ? pos : [bd.width - 1 - pos[0], bd.height - 1 - pos[1]];
  }
  function makeCustomBrush(base, modifiers) {
    return {
      color: base.color,
      opacity: Math.round(base.opacity * 10) / 10,
      lineWidth: Math.round(modifiers.lineWidth || base.lineWidth),
      key: [base.key, modifiers.lineWidth].filter((x) => x).join("")
    };
  }
  function circleWidth() {
    return [3 / 64, 4 / 64];
  }
  function lineWidth(brush, current) {
    return (brush.lineWidth || 10) * (current ? 0.85 : 1) / 64;
  }
  function opacity(brush, current) {
    return (brush.opacity || 1) * (current ? 0.9 : 1);
  }
  function arrowMargin(shorten) {
    return (shorten ? 20 : 10) / 64;
  }
  function pos2user(pos, bounds, bd) {
    const xScale = Math.min(1, bounds.width / bounds.height) * Math.max(1, bd.height / bd.width);
    const yScale = Math.min(1, bounds.height / bounds.width) * Math.max(1, bd.width / bd.height);
    return [(pos[0] - (bd.width - 1) / 2) * xScale, ((bd.height - 1) / 2 - pos[1]) * yScale];
  }

  // node_modules/chessgroundx/wrap.js
  var LETTER_ENGLISH = letters;
  var LETTER_THAI = ["\u0E01", "\u0E02", "\u0E04", "\u0E07", "\u0E08", "\u0E09", "\u0E0A", "\u0E0D", "\u0E15", "\u0E16", "\u0E17", "\u0E19", "\u0E1B", "\u0E1C", "\u0E1E", "\u0E21"];
  var NUMBER_ARABIC = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16"];
  var NUMBER_JANGGI = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "1", "2", "3", "4", "5", "6"];
  var NUMBER_HANZI = [
    "\u4E00",
    "\u4E8C",
    "\u4E09",
    "\u56DB",
    "\u4E94",
    "\u516D",
    "\u4E03",
    "\u516B",
    "\u4E5D",
    "\u5341",
    "\u5341\u4E00",
    "\u5341\u4E8C",
    "\u5341\u4E09",
    "\u5341\u56DB",
    "\u5341\u4E94",
    "\u5341\u516D"
  ];
  var NUMBER_THAI = ["\u0E51", "\u0E52", "\u0E53", "\u0E54", "\u0E55", "\u0E56", "\u0E57", "\u0E58", "\u0E59", "\u0E51\u0E50", "\u0E51\u0E51", "\u0E51\u0E52", "\u0E51\u0E53", "\u0E51\u0E54", "\u0E51\u0E55", "\u0E51\u0E56"];
  var coordFormat = {
    [Notation.ALGEBRAIC]: [
      {
        coords: LETTER_ENGLISH,
        position: "bottom",
        direction: "forward"
      },
      {
        coords: NUMBER_ARABIC,
        position: "side",
        direction: "forward"
      }
    ],
    [Notation.SHOGI_ENGLET]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "backward"
      },
      {
        coords: LETTER_ENGLISH,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.SHOGI_ARBNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "backward"
      },
      {
        coords: NUMBER_ARABIC,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.SHOGI_HANNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "backward"
      },
      {
        coords: NUMBER_HANZI,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.JANGGI]: [
      {
        coords: NUMBER_ARABIC,
        position: "bottom",
        direction: "forward"
      },
      {
        coords: NUMBER_JANGGI,
        position: "side",
        direction: "backward"
      }
    ],
    [Notation.XIANGQI_ARBNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "forward",
        noBlackReverse: true
      },
      {
        coords: NUMBER_ARABIC,
        position: "bottom",
        direction: "backward",
        noBlackReverse: true
      }
    ],
    [Notation.XIANGQI_HANNUM]: [
      {
        coords: NUMBER_ARABIC,
        position: "top",
        direction: "forward",
        noBlackReverse: true
      },
      {
        coords: NUMBER_HANZI,
        position: "bottom",
        direction: "backward",
        noBlackReverse: true
      }
    ],
    [Notation.THAI_ALGEBRAIC]: [
      {
        coords: LETTER_THAI,
        position: "bottom",
        direction: "forward"
      },
      {
        coords: NUMBER_THAI,
        position: "side",
        direction: "forward"
      }
    ]
  };
  function renderWrap(element, s) {
    element.innerHTML = "";
    element.classList.add("cg-wrap");
    for (const c of colors)
      element.classList.toggle("orientation-" + c, s.orientation === c);
    element.classList.toggle("manipulable", !s.viewOnly);
    const container = createEl("cg-container");
    element.appendChild(container);
    const extension = createEl("extension");
    container.appendChild(extension);
    const board = createEl("cg-board");
    container.appendChild(board);
    let pocketBottom, pocketTop;
    if (isMiniBoard(element)) {
      if (s.boardState.pockets) {
        pocketBottom = createEl("pocketBottom");
        pocketTop = createEl("pocketTop");
        container.insertBefore(s.orientation === "white" ? pocketTop : pocketBottom, board);
        container.insertBefore(s.orientation === "white" ? pocketBottom : pocketTop, board.nextSibling);
      }
    }
    let svg;
    let customSvg;
    let autoPieces;
    if (s.drawable.visible) {
      const width = s.dimensions.width;
      const height = s.dimensions.height;
      svg = setAttributes(createElement2("svg"), {
        class: "cg-shapes",
        viewBox: `${-width / 2} ${-height / 2} ${width} ${height}`,
        preserveAspectRatio: "xMidYMid slice"
      });
      svg.appendChild(createElement2("defs"));
      svg.appendChild(createElement2("g"));
      customSvg = setAttributes(createElement2("svg"), {
        class: "cg-custom-svgs",
        viewBox: `${-(width - 1) / 2} ${-(height - 1) / 2} ${width} ${height}`,
        preserveAspectRatio: "xMidYMid slice"
      });
      customSvg.appendChild(createElement2("g"));
      autoPieces = createEl("cg-auto-pieces");
      container.appendChild(svg);
      container.appendChild(customSvg);
      container.appendChild(autoPieces);
    }
    if (s.coordinates) {
      coordFormat[s.notation].forEach((f) => {
        const max = f.position === "side" ? s.dimensions.height : s.dimensions.width;
        const pos = f.position;
        const coords = f.coords.slice(0, max);
        container.appendChild(renderCoords(coords, `${pos} ${f.direction}${f.noBlackReverse ? "" : " " + s.orientation}`));
      });
    }
    let ghost;
    if (s.draggable.enabled && s.draggable.showGhost) {
      ghost = createEl("piece", "ghost");
      setVisible(ghost, false);
      container.appendChild(ghost);
    }
    return {
      pocketTop,
      pocketBottom,
      board,
      container,
      wrap: element,
      ghost,
      svg,
      customSvg,
      autoPieces
    };
  }
  function renderCoords(elems, className) {
    const el = createEl("coords", className);
    let f;
    for (const elem of elems) {
      f = createEl("coord");
      f.textContent = elem;
      el.appendChild(f);
    }
    return el;
  }

  // node_modules/chessgroundx/pocket.js
  function renderPocketsInitial(state, elements, pocketTop, pocketBottom) {
    if (pocketTop) {
      pocketTop.innerHTML = "";
      elements.pocketTop = pocketTop;
      pocketView(state, elements.pocketTop, "top");
    }
    if (pocketBottom) {
      pocketBottom.innerHTML = "";
      elements.pocketBottom = pocketBottom;
      pocketView(state, elements.pocketBottom, "bottom");
    }
  }
  function pocketView(state, pocketEl, position) {
    if (!state.pocketRoles)
      return;
    const color = position === "top" ? opposite(state.orientation) : state.orientation;
    const roles = state.pocketRoles[color];
    const pl = String(roles.length);
    const files3 = String(state.dimensions.width);
    const ranks3 = String(state.dimensions.height);
    pocketEl.setAttribute("style", `--pocketLength: ${pl}; --files: ${files3}; --ranks: ${ranks3}`);
    pocketEl.classList.add("pocket", position);
    roles.forEach((role) => {
      const pieceName = pieceClasses({ role, color }, state.orientation);
      const sq = createEl("square");
      const p = createEl("piece", pieceName);
      sq.appendChild(p);
      p.setAttribute("data-color", color);
      p.setAttribute("data-role", role);
      renderPiece(state, sq);
      pocketEl.appendChild(sq);
    });
  }
  function renderPockets(state) {
    renderPocket(state, state.dom.elements.pocketBottom);
    renderPocket(state, state.dom.elements.pocketTop);
  }
  function renderPocket(state, pocketEl) {
    if (pocketEl) {
      let sq = pocketEl.firstChild;
      if (sq && sq.firstChild) {
        const color = sq.firstChild.getAttribute("data-color");
        pocketEl.classList.toggle("usable", !state.viewOnly && (state.movable.free || state.movable.color === "both" || !!color && state.movable.color === color));
        while (sq) {
          renderPiece(state, sq);
          sq = sq.nextSibling;
        }
      }
    }
  }
  function renderPiece(state, sq) {
    var _a2, _b, _c;
    const p = sq.firstChild;
    const role = p.getAttribute("data-role");
    const color = p.getAttribute("data-color");
    p.setAttribute("data-nb", "" + ((_a2 = state.boardState.pockets[color].get(role)) !== null && _a2 !== void 0 ? _a2 : 0));
    const piece = { role, color };
    const selected = state.selectable.selected;
    sq.classList.toggle("selected-square", !!selected && isPiece(selected) && state.selectable.fromPocket && samePiece(selected, piece));
    const premoveOrig = (_b = state.premovable.current) === null || _b === void 0 ? void 0 : _b[0];
    sq.classList.toggle("premove", !!premoveOrig && isDropOrig(premoveOrig) && roleOf(premoveOrig) === role && state.turnColor !== color);
    sq.classList.toggle("last-move", state.highlight.lastMove && !!((_c = state.lastMove) === null || _c === void 0 ? void 0 : _c.includes(dropOrigOf(role))) && state.turnColor !== color);
  }
  function drag(s, e) {
    if (!e.isTrusted || e.button !== void 0 && e.button !== 0)
      return;
    if (e.touches && e.touches.length > 1)
      return;
    const el = e.target, role = el.getAttribute("data-role"), color = el.getAttribute("data-color"), n = Number(el.getAttribute("data-nb"));
    if (n === 0)
      return;
    const piece = { role, color };
    const previouslySelected = s.selectable.selected;
    if (!previouslySelected && s.drawable.enabled && (s.drawable.eraseOnClick || piece.color !== s.turnColor))
      clear(s);
    if (e.cancelable !== false)
      e.preventDefault();
    const hadPremove = !!s.premovable.current;
    s.stats.ctrlKey = e.ctrlKey;
    select(s, piece);
    const selected = s.selectable.selected;
    const stillSelected = selected && isSame(selected, piece);
    if (stillSelected && isDraggable(s, piece, true)) {
      dragNewPiece(s, piece, true, e, previouslySelected);
    } else {
      if (hadPremove)
        unsetPremove(s);
    }
    s.dom.redraw();
  }

  // node_modules/chessgroundx/events.js
  function bindBoard(s, onResize) {
    const boardEl = s.dom.elements.board;
    if ("ResizeObserver" in window)
      new ResizeObserver(onResize).observe(s.dom.elements.wrap);
    if (s.viewOnly)
      return;
    const onStart = startDragOrDraw(s);
    boardEl.addEventListener("touchstart", onStart, {
      passive: false
    });
    boardEl.addEventListener("mousedown", onStart, {
      passive: false
    });
    if (s.disableContextMenu || s.drawable.enabled) {
      boardEl.addEventListener("contextmenu", (e) => e.preventDefault());
    }
  }
  function bindDocument(s, onResize) {
    const unbinds = [];
    if (!("ResizeObserver" in window))
      unbinds.push(unbindable(document.body, "chessground.resize", onResize));
    if (!s.viewOnly) {
      const onmove = dragOrDraw(s, move2, move);
      const onend = dragOrDraw(s, end2, end);
      for (const ev of ["touchmove", "mousemove"])
        unbinds.push(unbindable(document, ev, onmove));
      for (const ev of ["touchend", "mouseup"])
        unbinds.push(unbindable(document, ev, onend));
      const onScroll = () => s.dom.bounds.clear();
      unbinds.push(unbindable(document, "scroll", onScroll, { capture: true, passive: true }));
      unbinds.push(unbindable(window, "resize", onScroll, { passive: true }));
      const pocketTop = s.dom.elements.pocketTop;
      const pocketBottom = s.dom.elements.pocketBottom;
      const pocketStart = startDragOrDrawPocket(s);
      [pocketTop, pocketBottom].forEach((el) => {
        if (el) {
          for (const ev of ["touchstart", "mousedown"])
            unbinds.push(unbindable(el, ev, pocketStart));
          if (s.disableContextMenu || s.drawable.enabled)
            unbinds.push(unbindable(el, "contextmenu", (e) => e.preventDefault()));
        }
      });
    }
    return () => unbinds.forEach((f) => f());
  }
  function unbindable(el, eventName, callback, options) {
    el.addEventListener(eventName, callback, options);
    return () => el.removeEventListener(eventName, callback, options);
  }
  var startDragOrDraw = (s) => (e) => {
    if (s.draggable.current)
      cancel2(s);
    else if (s.drawable.current)
      cancel(s);
    else if (e.shiftKey || isRightButton(e)) {
      if (s.drawable.enabled)
        start(s, e);
    } else if (!s.viewOnly) {
      start2(s, e);
    }
  };
  var startDragOrDrawPocket = (s) => (e) => {
    if (s.draggable.current)
      cancel2(s);
    else if (s.drawable.current)
      cancel(s);
    else if (e.shiftKey || isRightButton(e)) {
      if (s.drawable.enabled)
        start(s, e);
    } else if (!s.viewOnly) {
      drag(s, e);
    }
  };
  var dragOrDraw = (s, withDrag, withDraw) => (e) => {
    if (s.drawable.current) {
      if (s.drawable.enabled)
        withDraw(s, e);
    } else if (!s.viewOnly)
      withDrag(s, e);
  };

  // node_modules/chessgroundx/render.js
  function render2(s) {
    const asWhite = whitePov(s), posToTranslate2 = posToTranslate(s.dom.bounds(), s.dimensions), boardEl = s.dom.elements.board, pieces = s.boardState.pieces, curAnim = s.animation.current, anims = curAnim ? curAnim.plan.anims : /* @__PURE__ */ new Map(), fadings = curAnim ? curAnim.plan.fadings : /* @__PURE__ */ new Map(), curDrag = s.draggable.current, squares = computeSquareClasses(s), samePieces = /* @__PURE__ */ new Set(), sameSquares = /* @__PURE__ */ new Set(), movedPieces = /* @__PURE__ */ new Map(), movedSquares = /* @__PURE__ */ new Map();
    let k, el, pieceAtKey, elPieceName, anim2, fading, pMvdset, pMvd, sMvdset, sMvd;
    el = boardEl.firstChild;
    while (el) {
      k = el.cgKey;
      if (isPieceNode(el)) {
        pieceAtKey = pieces.get(k);
        anim2 = anims.get(k);
        fading = fadings.get(k);
        elPieceName = el.cgPiece;
        if (el.cgDragging && (!curDrag || curDrag.orig !== k)) {
          el.classList.remove("dragging");
          translate(el, posToTranslate2(key2pos(k), asWhite));
          el.cgDragging = false;
        }
        if (!fading && el.cgFading) {
          el.cgFading = false;
          el.classList.remove("fading");
        }
        if (pieceAtKey) {
          if (anim2 && el.cgAnimating && elPieceName === pieceClasses(pieceAtKey, s.orientation)) {
            const pos = key2pos(k);
            pos[0] += anim2[2];
            pos[1] += anim2[3];
            el.classList.add("anim");
            translate(el, posToTranslate2(pos, asWhite));
          } else if (el.cgAnimating) {
            el.cgAnimating = false;
            el.classList.remove("anim");
            translate(el, posToTranslate2(key2pos(k), asWhite));
            if (s.addPieceZIndex)
              el.style.zIndex = posZIndex(key2pos(k), asWhite);
          }
          if (elPieceName === pieceClasses(pieceAtKey, s.orientation) && (!fading || !el.cgFading)) {
            samePieces.add(k);
          } else {
            if (fading && elPieceName === pieceClasses(fading, s.orientation)) {
              el.classList.add("fading");
              el.cgFading = true;
            } else {
              appendValue(movedPieces, elPieceName, el);
            }
          }
        } else {
          appendValue(movedPieces, elPieceName, el);
        }
      } else if (isSquareNode(el)) {
        const cn = el.className;
        if (squares.get(k) === cn)
          sameSquares.add(k);
        else
          appendValue(movedSquares, cn, el);
      }
      el = el.nextSibling;
    }
    for (const [sk, className] of squares) {
      if (!sameSquares.has(sk)) {
        sMvdset = movedSquares.get(className);
        sMvd = sMvdset && sMvdset.pop();
        const translation = posToTranslate2(key2pos(sk), asWhite);
        if (sMvd) {
          sMvd.cgKey = sk;
          translate(sMvd, translation);
        } else {
          const squareNode = createEl("square", className);
          squareNode.cgKey = sk;
          translate(squareNode, translation);
          boardEl.insertBefore(squareNode, boardEl.firstChild);
        }
      }
    }
    for (const [k2, p] of pieces) {
      anim2 = anims.get(k2);
      if (!samePieces.has(k2)) {
        pMvdset = movedPieces.get(pieceClasses(p, s.orientation));
        pMvd = pMvdset && pMvdset.pop();
        if (pMvd) {
          pMvd.cgKey = k2;
          if (pMvd.cgFading) {
            pMvd.classList.remove("fading");
            pMvd.cgFading = false;
          }
          const pos = key2pos(k2);
          if (s.addPieceZIndex)
            pMvd.style.zIndex = posZIndex(pos, asWhite);
          if (anim2) {
            pMvd.cgAnimating = true;
            pMvd.classList.add("anim");
            pos[0] += anim2[2];
            pos[1] += anim2[3];
          }
          translate(pMvd, posToTranslate2(pos, asWhite));
        } else {
          const pieceName = pieceClasses(p, s.orientation), pieceNode = createEl("piece", pieceName), pos = key2pos(k2);
          pieceNode.cgPiece = pieceName;
          pieceNode.cgKey = k2;
          if (anim2) {
            pieceNode.cgAnimating = true;
            pos[0] += anim2[2];
            pos[1] += anim2[3];
          }
          translate(pieceNode, posToTranslate2(pos, asWhite));
          if (s.addPieceZIndex)
            pieceNode.style.zIndex = posZIndex(pos, asWhite);
          boardEl.appendChild(pieceNode);
        }
      }
    }
    for (const nodes of movedPieces.values())
      removeNodes(s, nodes);
    for (const nodes of movedSquares.values())
      removeNodes(s, nodes);
  }
  function renderResized(s) {
    const asWhite = whitePov(s), posToTranslate2 = posToTranslate(s.dom.bounds(), s.dimensions);
    let el = s.dom.elements.board.firstChild;
    while (el) {
      if (isPieceNode(el) && !el.cgAnimating || isSquareNode(el)) {
        translate(el, posToTranslate2(key2pos(el.cgKey), asWhite));
      }
      el = el.nextSibling;
    }
  }
  function updateBounds(s) {
    var _a2, _b, _c, _d, _e, _f;
    const bounds = s.dom.elements.wrap.getBoundingClientRect();
    const container = s.dom.elements.container;
    const ratio = bounds.height / bounds.width;
    const width = Math.floor(bounds.width * window.devicePixelRatio / s.dimensions.width) * s.dimensions.width / window.devicePixelRatio;
    const height = width * ratio;
    container.style.width = width + "px";
    container.style.height = height + "px";
    s.dom.bounds.clear();
    (_a2 = s.addDimensionsCssVarsTo) === null || _a2 === void 0 ? void 0 : _a2.style.setProperty("--cg-width", width + "px");
    (_b = s.addDimensionsCssVarsTo) === null || _b === void 0 ? void 0 : _b.style.setProperty("--cg-height", height + "px");
    (_c = s.dom.elements.pocketTop) === null || _c === void 0 ? void 0 : _c.style.setProperty("--cg-width", width + "px");
    (_d = s.dom.elements.pocketTop) === null || _d === void 0 ? void 0 : _d.style.setProperty("--cg-height", height + "px");
    (_e = s.dom.elements.pocketBottom) === null || _e === void 0 ? void 0 : _e.style.setProperty("--cg-width", width + "px");
    (_f = s.dom.elements.pocketBottom) === null || _f === void 0 ? void 0 : _f.style.setProperty("--cg-height", height + "px");
  }
  var isPieceNode = (el) => el.tagName === "PIECE";
  var isSquareNode = (el) => el.tagName === "SQUARE";
  function removeNodes(s, nodes) {
    for (const node of nodes)
      s.dom.elements.board.removeChild(node);
  }
  function posZIndex(pos, asWhite) {
    const minZ = 3;
    const rank = pos[1];
    const z = asWhite ? minZ + 7 - rank : minZ + rank;
    return `${z}`;
  }
  function computeSquareClasses(s) {
    var _a2;
    const squares = /* @__PURE__ */ new Map();
    if (s.lastMove && s.highlight.lastMove)
      for (const k of s.lastMove) {
        if (isKey(k) && k !== "a0")
          addSquare(squares, k, "last-move");
      }
    if (s.check && s.highlight.check)
      addSquare(squares, s.check, "check");
    const selected = s.selectable.selected;
    if (selected) {
      if (isKey(selected))
        addSquare(squares, selected, "selected");
      if (s.movable.showDests) {
        const dests = (_a2 = s.movable.dests) === null || _a2 === void 0 ? void 0 : _a2.get(isKey(selected) ? selected : dropOrigOf(selected.role));
        if (dests)
          for (const k of dests) {
            addSquare(squares, k, "move-dest" + (s.boardState.pieces.has(k) ? " oc" : ""));
          }
        const pDests = s.premovable.dests;
        if (pDests)
          for (const k of pDests) {
            addSquare(squares, k, "premove-dest" + (s.boardState.pieces.has(k) ? " oc" : ""));
          }
      }
    }
    const premove2 = s.premovable.current;
    if (premove2) {
      for (const k of premove2)
        if (isKey(k))
          addSquare(squares, k, "current-premove");
    }
    const o = s.exploding;
    if (o)
      for (const k of o.keys)
        addSquare(squares, k, "exploding" + o.stage);
    return squares;
  }
  function addSquare(squares, key, klass) {
    const classes = squares.get(key);
    if (classes)
      squares.set(key, `${classes} ${klass}`);
    else
      squares.set(key, klass);
  }
  function appendValue(map, key, value) {
    const arr = map.get(key);
    if (arr)
      arr.push(value);
    else
      map.set(key, [value]);
  }

  // node_modules/chessgroundx/autoPieces.js
  function render3(state, autoPieceEl) {
    const autoPieces = state.drawable.autoShapes.filter((autoShape) => autoShape.piece);
    const autoPieceShapes = autoPieces.map((s) => {
      return {
        shape: s,
        hash: hash(s),
        current: false
      };
    });
    syncShapes(autoPieceShapes, autoPieceEl, (shape) => renderShape2(state, shape, state.dom.bounds()));
  }
  function renderResized2(state) {
    var _a2;
    const asWhite = whitePov(state), posToTranslate2 = posToTranslate(state.dom.bounds(), state.dimensions);
    let el = (_a2 = state.dom.elements.autoPieces) === null || _a2 === void 0 ? void 0 : _a2.firstChild;
    while (el) {
      translateAndScale(el, posToTranslate2(key2pos(el.cgKey), asWhite), el.cgScale);
      el = el.nextSibling;
    }
  }
  function renderShape2(state, { shape, hash: hash2 }, bounds) {
    if (shape.piece) {
      const orig = shape.orig;
      const scale = shape.piece.scale;
      const pieceEl = createEl("piece", pieceClasses(shape.piece, state.orientation));
      pieceEl.setAttribute("cgHash", hash2);
      pieceEl.cgKey = orig;
      pieceEl.cgScale = scale;
      translateAndScale(pieceEl, posToTranslate(bounds, state.dimensions)(key2pos(orig), whitePov(state)), scale);
      return pieceEl;
    } else {
      return createEl("piece", "");
    }
  }
  var hash = (autoPiece) => {
    var _a2, _b, _c;
    return [autoPiece.orig, (_a2 = autoPiece.piece) === null || _a2 === void 0 ? void 0 : _a2.role, (_b = autoPiece.piece) === null || _b === void 0 ? void 0 : _b.color, (_c = autoPiece.piece) === null || _c === void 0 ? void 0 : _c.scale].join(",");
  };

  // node_modules/chessgroundx/chessground.js
  function Chessground(element, config, pocketTop, pocketBottom) {
    const maybeState = defaults();
    configure(maybeState, config || {});
    function redrawAll() {
      const prevUnbind = "dom" in maybeState ? maybeState.dom.unbind : void 0;
      const elements = renderWrap(element, maybeState), bounds = memo(() => elements.board.getBoundingClientRect()), redrawNow = (skipSvg) => {
        render2(state);
        renderPockets(state);
        if (elements.autoPieces)
          render3(state, elements.autoPieces);
        if (!skipSvg && elements.svg)
          renderSvg(state, elements.svg, elements.customSvg);
      }, onResize = () => {
        updateBounds(state);
        renderResized(state);
        if (elements.autoPieces)
          renderResized2(state);
      };
      if (elements.pocketTop)
        pocketTop = elements.pocketTop;
      if (elements.pocketBottom)
        pocketBottom = elements.pocketBottom;
      renderPocketsInitial(maybeState, elements, pocketTop, pocketBottom);
      const state = maybeState;
      state.dom = {
        elements,
        bounds,
        redraw: debounceRedraw(redrawNow),
        redrawNow,
        unbind: prevUnbind
      };
      state.drawable.prevSvgHash = "";
      updateBounds(state);
      redrawNow(false);
      bindBoard(state, onResize);
      if (!prevUnbind)
        state.dom.unbind = bindDocument(state, onResize);
      state.events.insert && state.events.insert(elements);
      return state;
    }
    return start3(redrawAll(), redrawAll);
  }
  function debounceRedraw(redrawNow) {
    let redrawing = false;
    return () => {
      if (redrawing)
        return;
      redrawing = true;
      requestAnimationFrame(() => {
        redrawNow();
        redrawing = false;
      });
    };
  }

  // node_modules/ffish-es6/ffish.js
  var Module = function() {
    var _scriptDir = typeof document !== "undefined" && document.currentScript ? document.currentScript.src : void 0;
    return function(Module2) {
      Module2 = Module2 || {};
      var Module2 = typeof Module2 !== "undefined" ? Module2 : {};
      var readyPromiseResolve, readyPromiseReject;
      Module2["ready"] = new Promise(function(resolve, reject) {
        readyPromiseResolve = resolve;
        readyPromiseReject = reject;
      });
      var moduleOverrides = {};
      var key;
      for (key in Module2) {
        if (Module2.hasOwnProperty(key)) {
          moduleOverrides[key] = Module2[key];
        }
      }
      var arguments_ = [];
      var thisProgram = "./this.program";
      var quit_ = function(status, toThrow) {
        throw toThrow;
      };
      var ENVIRONMENT_IS_WEB = typeof window === "object";
      var ENVIRONMENT_IS_WORKER = typeof importScripts === "function";
      var ENVIRONMENT_IS_NODE = typeof process === "object" && typeof process.versions === "object" && typeof process.versions.node === "string";
      var scriptDirectory = "";
      function locateFile(path) {
        if (Module2["locateFile"]) {
          return Module2["locateFile"](path, scriptDirectory);
        }
        return scriptDirectory + path;
      }
      var read_, readAsync, readBinary, setWindowTitle;
      if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {
        if (ENVIRONMENT_IS_WORKER) {
          scriptDirectory = self.location.href;
        } else if (typeof document !== "undefined" && document.currentScript) {
          scriptDirectory = document.currentScript.src;
        }
        if (_scriptDir) {
          scriptDirectory = _scriptDir;
        }
        if (scriptDirectory.indexOf("blob:") !== 0) {
          scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, "").lastIndexOf("/") + 1);
        } else {
          scriptDirectory = "";
        }
        {
          read_ = function(url) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, false);
            xhr.send(null);
            return xhr.responseText;
          };
          if (ENVIRONMENT_IS_WORKER) {
            readBinary = function(url) {
              var xhr = new XMLHttpRequest();
              xhr.open("GET", url, false);
              xhr.responseType = "arraybuffer";
              xhr.send(null);
              return new Uint8Array(xhr.response);
            };
          }
          readAsync = function(url, onload, onerror) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, true);
            xhr.responseType = "arraybuffer";
            xhr.onload = function() {
              if (xhr.status == 200 || xhr.status == 0 && xhr.response) {
                onload(xhr.response);
                return;
              }
              onerror();
            };
            xhr.onerror = onerror;
            xhr.send(null);
          };
        }
        setWindowTitle = function(title) {
          document.title = title;
        };
      } else {
      }
      var out = Module2["print"] || console.log.bind(console);
      var err = Module2["printErr"] || console.warn.bind(console);
      for (key in moduleOverrides) {
        if (moduleOverrides.hasOwnProperty(key)) {
          Module2[key] = moduleOverrides[key];
        }
      }
      moduleOverrides = null;
      if (Module2["arguments"])
        arguments_ = Module2["arguments"];
      if (Module2["thisProgram"])
        thisProgram = Module2["thisProgram"];
      if (Module2["quit"])
        quit_ = Module2["quit"];
      var tempRet0 = 0;
      var setTempRet0 = function(value) {
        tempRet0 = value;
      };
      var wasmBinary;
      if (Module2["wasmBinary"])
        wasmBinary = Module2["wasmBinary"];
      var noExitRuntime = Module2["noExitRuntime"] || true;
      if (typeof WebAssembly !== "object") {
        abort("no native wasm support detected");
      }
      var wasmMemory;
      var ABORT = false;
      var EXITSTATUS;
      function assert(condition, text) {
        if (!condition) {
          abort("Assertion failed: " + text);
        }
      }
      var UTF8Decoder = typeof TextDecoder !== "undefined" ? new TextDecoder("utf8") : void 0;
      function UTF8ArrayToString(heap, idx, maxBytesToRead) {
        var endIdx = idx + maxBytesToRead;
        var endPtr = idx;
        while (heap[endPtr] && !(endPtr >= endIdx))
          ++endPtr;
        if (endPtr - idx > 16 && heap.subarray && UTF8Decoder) {
          return UTF8Decoder.decode(heap.subarray(idx, endPtr));
        } else {
          var str = "";
          while (idx < endPtr) {
            var u0 = heap[idx++];
            if (!(u0 & 128)) {
              str += String.fromCharCode(u0);
              continue;
            }
            var u1 = heap[idx++] & 63;
            if ((u0 & 224) == 192) {
              str += String.fromCharCode((u0 & 31) << 6 | u1);
              continue;
            }
            var u2 = heap[idx++] & 63;
            if ((u0 & 240) == 224) {
              u0 = (u0 & 15) << 12 | u1 << 6 | u2;
            } else {
              u0 = (u0 & 7) << 18 | u1 << 12 | u2 << 6 | heap[idx++] & 63;
            }
            if (u0 < 65536) {
              str += String.fromCharCode(u0);
            } else {
              var ch = u0 - 65536;
              str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);
            }
          }
        }
        return str;
      }
      function UTF8ToString(ptr, maxBytesToRead) {
        return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : "";
      }
      function stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {
        if (!(maxBytesToWrite > 0))
          return 0;
        var startIdx = outIdx;
        var endIdx = outIdx + maxBytesToWrite - 1;
        for (var i = 0; i < str.length; ++i) {
          var u = str.charCodeAt(i);
          if (u >= 55296 && u <= 57343) {
            var u1 = str.charCodeAt(++i);
            u = 65536 + ((u & 1023) << 10) | u1 & 1023;
          }
          if (u <= 127) {
            if (outIdx >= endIdx)
              break;
            heap[outIdx++] = u;
          } else if (u <= 2047) {
            if (outIdx + 1 >= endIdx)
              break;
            heap[outIdx++] = 192 | u >> 6;
            heap[outIdx++] = 128 | u & 63;
          } else if (u <= 65535) {
            if (outIdx + 2 >= endIdx)
              break;
            heap[outIdx++] = 224 | u >> 12;
            heap[outIdx++] = 128 | u >> 6 & 63;
            heap[outIdx++] = 128 | u & 63;
          } else {
            if (outIdx + 3 >= endIdx)
              break;
            heap[outIdx++] = 240 | u >> 18;
            heap[outIdx++] = 128 | u >> 12 & 63;
            heap[outIdx++] = 128 | u >> 6 & 63;
            heap[outIdx++] = 128 | u & 63;
          }
        }
        heap[outIdx] = 0;
        return outIdx - startIdx;
      }
      function stringToUTF8(str, outPtr, maxBytesToWrite) {
        return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);
      }
      function lengthBytesUTF8(str) {
        var len = 0;
        for (var i = 0; i < str.length; ++i) {
          var u = str.charCodeAt(i);
          if (u >= 55296 && u <= 57343)
            u = 65536 + ((u & 1023) << 10) | str.charCodeAt(++i) & 1023;
          if (u <= 127)
            ++len;
          else if (u <= 2047)
            len += 2;
          else if (u <= 65535)
            len += 3;
          else
            len += 4;
        }
        return len;
      }
      var UTF16Decoder = typeof TextDecoder !== "undefined" ? new TextDecoder("utf-16le") : void 0;
      function UTF16ToString(ptr, maxBytesToRead) {
        var endPtr = ptr;
        var idx = endPtr >> 1;
        var maxIdx = idx + maxBytesToRead / 2;
        while (!(idx >= maxIdx) && HEAPU16[idx])
          ++idx;
        endPtr = idx << 1;
        if (endPtr - ptr > 32 && UTF16Decoder) {
          return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));
        } else {
          var str = "";
          for (var i = 0; !(i >= maxBytesToRead / 2); ++i) {
            var codeUnit = HEAP16[ptr + i * 2 >> 1];
            if (codeUnit == 0)
              break;
            str += String.fromCharCode(codeUnit);
          }
          return str;
        }
      }
      function stringToUTF16(str, outPtr, maxBytesToWrite) {
        if (maxBytesToWrite === void 0) {
          maxBytesToWrite = 2147483647;
        }
        if (maxBytesToWrite < 2)
          return 0;
        maxBytesToWrite -= 2;
        var startPtr = outPtr;
        var numCharsToWrite = maxBytesToWrite < str.length * 2 ? maxBytesToWrite / 2 : str.length;
        for (var i = 0; i < numCharsToWrite; ++i) {
          var codeUnit = str.charCodeAt(i);
          HEAP16[outPtr >> 1] = codeUnit;
          outPtr += 2;
        }
        HEAP16[outPtr >> 1] = 0;
        return outPtr - startPtr;
      }
      function lengthBytesUTF16(str) {
        return str.length * 2;
      }
      function UTF32ToString(ptr, maxBytesToRead) {
        var i = 0;
        var str = "";
        while (!(i >= maxBytesToRead / 4)) {
          var utf32 = HEAP32[ptr + i * 4 >> 2];
          if (utf32 == 0)
            break;
          ++i;
          if (utf32 >= 65536) {
            var ch = utf32 - 65536;
            str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);
          } else {
            str += String.fromCharCode(utf32);
          }
        }
        return str;
      }
      function stringToUTF32(str, outPtr, maxBytesToWrite) {
        if (maxBytesToWrite === void 0) {
          maxBytesToWrite = 2147483647;
        }
        if (maxBytesToWrite < 4)
          return 0;
        var startPtr = outPtr;
        var endPtr = startPtr + maxBytesToWrite - 4;
        for (var i = 0; i < str.length; ++i) {
          var codeUnit = str.charCodeAt(i);
          if (codeUnit >= 55296 && codeUnit <= 57343) {
            var trailSurrogate = str.charCodeAt(++i);
            codeUnit = 65536 + ((codeUnit & 1023) << 10) | trailSurrogate & 1023;
          }
          HEAP32[outPtr >> 2] = codeUnit;
          outPtr += 4;
          if (outPtr + 4 > endPtr)
            break;
        }
        HEAP32[outPtr >> 2] = 0;
        return outPtr - startPtr;
      }
      function lengthBytesUTF32(str) {
        var len = 0;
        for (var i = 0; i < str.length; ++i) {
          var codeUnit = str.charCodeAt(i);
          if (codeUnit >= 55296 && codeUnit <= 57343)
            ++i;
          len += 4;
        }
        return len;
      }
      function writeArrayToMemory(array2, buffer2) {
        HEAP8.set(array2, buffer2);
      }
      function writeAsciiToMemory(str, buffer2, dontAddNull) {
        for (var i = 0; i < str.length; ++i) {
          HEAP8[buffer2++ >> 0] = str.charCodeAt(i);
        }
        if (!dontAddNull)
          HEAP8[buffer2 >> 0] = 0;
      }
      function alignUp(x, multiple) {
        if (x % multiple > 0) {
          x += multiple - x % multiple;
        }
        return x;
      }
      var buffer, HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;
      function updateGlobalBufferAndViews(buf) {
        buffer = buf;
        Module2["HEAP8"] = HEAP8 = new Int8Array(buf);
        Module2["HEAP16"] = HEAP16 = new Int16Array(buf);
        Module2["HEAP32"] = HEAP32 = new Int32Array(buf);
        Module2["HEAPU8"] = HEAPU8 = new Uint8Array(buf);
        Module2["HEAPU16"] = HEAPU16 = new Uint16Array(buf);
        Module2["HEAPU32"] = HEAPU32 = new Uint32Array(buf);
        Module2["HEAPF32"] = HEAPF32 = new Float32Array(buf);
        Module2["HEAPF64"] = HEAPF64 = new Float64Array(buf);
      }
      var INITIAL_MEMORY = Module2["INITIAL_MEMORY"] || 33554432;
      var wasmTable;
      var __ATPRERUN__ = [];
      var __ATINIT__ = [];
      var __ATPOSTRUN__ = [];
      var runtimeInitialized = false;
      var runtimeExited = false;
      var runtimeKeepaliveCounter = 0;
      function keepRuntimeAlive() {
        return noExitRuntime || runtimeKeepaliveCounter > 0;
      }
      function preRun() {
        if (Module2["preRun"]) {
          if (typeof Module2["preRun"] == "function")
            Module2["preRun"] = [Module2["preRun"]];
          while (Module2["preRun"].length) {
            addOnPreRun(Module2["preRun"].shift());
          }
        }
        callRuntimeCallbacks(__ATPRERUN__);
      }
      function initRuntime() {
        runtimeInitialized = true;
        if (!Module2["noFSInit"] && !FS.init.initialized)
          FS.init();
        FS.ignorePermissions = false;
        TTY.init();
        callRuntimeCallbacks(__ATINIT__);
      }
      function exitRuntime() {
        runtimeExited = true;
      }
      function postRun() {
        if (Module2["postRun"]) {
          if (typeof Module2["postRun"] == "function")
            Module2["postRun"] = [Module2["postRun"]];
          while (Module2["postRun"].length) {
            addOnPostRun(Module2["postRun"].shift());
          }
        }
        callRuntimeCallbacks(__ATPOSTRUN__);
      }
      function addOnPreRun(cb) {
        __ATPRERUN__.unshift(cb);
      }
      function addOnInit(cb) {
        __ATINIT__.unshift(cb);
      }
      function addOnPostRun(cb) {
        __ATPOSTRUN__.unshift(cb);
      }
      var runDependencies = 0;
      var runDependencyWatcher = null;
      var dependenciesFulfilled = null;
      function getUniqueRunDependency(id) {
        return id;
      }
      function addRunDependency(id) {
        runDependencies++;
        if (Module2["monitorRunDependencies"]) {
          Module2["monitorRunDependencies"](runDependencies);
        }
      }
      function removeRunDependency(id) {
        runDependencies--;
        if (Module2["monitorRunDependencies"]) {
          Module2["monitorRunDependencies"](runDependencies);
        }
        if (runDependencies == 0) {
          if (runDependencyWatcher !== null) {
            clearInterval(runDependencyWatcher);
            runDependencyWatcher = null;
          }
          if (dependenciesFulfilled) {
            var callback = dependenciesFulfilled;
            dependenciesFulfilled = null;
            callback();
          }
        }
      }
      Module2["preloadedImages"] = {};
      Module2["preloadedAudios"] = {};
      function abort(what) {
        {
          if (Module2["onAbort"]) {
            Module2["onAbort"](what);
          }
        }
        what = "Aborted(" + what + ")";
        err(what);
        ABORT = true;
        EXITSTATUS = 1;
        what += ". Build with -s ASSERTIONS=1 for more info.";
        var e = new WebAssembly.RuntimeError(what);
        readyPromiseReject(e);
        throw e;
      }
      var dataURIPrefix = "data:application/octet-stream;base64,";
      function isDataURI(filename) {
        return filename.startsWith(dataURIPrefix);
      }
      var wasmBinaryFile;
      wasmBinaryFile = "ffish.wasm";
      if (!isDataURI(wasmBinaryFile)) {
        wasmBinaryFile = locateFile(wasmBinaryFile);
      }
      function getBinary(file) {
        try {
          if (file == wasmBinaryFile && wasmBinary) {
            return new Uint8Array(wasmBinary);
          }
          if (readBinary) {
            return readBinary(file);
          } else {
            throw "both async and sync fetching of the wasm failed";
          }
        } catch (err2) {
          abort(err2);
        }
      }
      function getBinaryPromise() {
        if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {
          if (typeof fetch === "function") {
            return fetch(wasmBinaryFile, { credentials: "same-origin" }).then(function(response) {
              if (!response["ok"]) {
                throw "failed to load wasm binary file at '" + wasmBinaryFile + "'";
              }
              return response["arrayBuffer"]();
            }).catch(function() {
              return getBinary(wasmBinaryFile);
            });
          }
        }
        return Promise.resolve().then(function() {
          return getBinary(wasmBinaryFile);
        });
      }
      function createWasm() {
        var info = { "a": asmLibraryArg };
        function receiveInstance(instance, module) {
          var exports2 = instance.exports;
          Module2["asm"] = exports2;
          wasmMemory = Module2["asm"]["M"];
          updateGlobalBufferAndViews(wasmMemory.buffer);
          wasmTable = Module2["asm"]["P"];
          addOnInit(Module2["asm"]["N"]);
          removeRunDependency("wasm-instantiate");
        }
        addRunDependency("wasm-instantiate");
        function receiveInstantiationResult(result) {
          receiveInstance(result["instance"]);
        }
        function instantiateArrayBuffer(receiver) {
          return getBinaryPromise().then(function(binary) {
            return WebAssembly.instantiate(binary, info);
          }).then(function(instance) {
            return instance;
          }).then(receiver, function(reason) {
            err("failed to asynchronously prepare wasm: " + reason);
            abort(reason);
          });
        }
        function instantiateAsync() {
          if (!wasmBinary && typeof WebAssembly.instantiateStreaming === "function" && !isDataURI(wasmBinaryFile) && typeof fetch === "function") {
            return fetch(wasmBinaryFile, { credentials: "same-origin" }).then(function(response) {
              var result = WebAssembly.instantiateStreaming(response, info);
              return result.then(receiveInstantiationResult, function(reason) {
                err("wasm streaming compile failed: " + reason);
                err("falling back to ArrayBuffer instantiation");
                return instantiateArrayBuffer(receiveInstantiationResult);
              });
            });
          } else {
            return instantiateArrayBuffer(receiveInstantiationResult);
          }
        }
        if (Module2["instantiateWasm"]) {
          try {
            var exports = Module2["instantiateWasm"](info, receiveInstance);
            return exports;
          } catch (e) {
            err("Module.instantiateWasm callback failed with error: " + e);
            return false;
          }
        }
        instantiateAsync().catch(readyPromiseReject);
        return {};
      }
      var tempDouble;
      var tempI64;
      function callRuntimeCallbacks(callbacks) {
        while (callbacks.length > 0) {
          var callback = callbacks.shift();
          if (typeof callback == "function") {
            callback(Module2);
            continue;
          }
          var func = callback.func;
          if (typeof func === "number") {
            if (callback.arg === void 0) {
              getWasmTableEntry(func)();
            } else {
              getWasmTableEntry(func)(callback.arg);
            }
          } else {
            func(callback.arg === void 0 ? null : callback.arg);
          }
        }
      }
      var wasmTableMirror = [];
      function getWasmTableEntry(funcPtr) {
        var func = wasmTableMirror[funcPtr];
        if (!func) {
          if (funcPtr >= wasmTableMirror.length)
            wasmTableMirror.length = funcPtr + 1;
          wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);
        }
        return func;
      }
      function ___cxa_allocate_exception(size) {
        return _malloc(size + 16) + 16;
      }
      function ExceptionInfo(excPtr) {
        this.excPtr = excPtr;
        this.ptr = excPtr - 16;
        this.set_type = function(type) {
          HEAP32[this.ptr + 4 >> 2] = type;
        };
        this.get_type = function() {
          return HEAP32[this.ptr + 4 >> 2];
        };
        this.set_destructor = function(destructor) {
          HEAP32[this.ptr + 8 >> 2] = destructor;
        };
        this.get_destructor = function() {
          return HEAP32[this.ptr + 8 >> 2];
        };
        this.set_refcount = function(refcount) {
          HEAP32[this.ptr >> 2] = refcount;
        };
        this.set_caught = function(caught) {
          caught = caught ? 1 : 0;
          HEAP8[this.ptr + 12 >> 0] = caught;
        };
        this.get_caught = function() {
          return HEAP8[this.ptr + 12 >> 0] != 0;
        };
        this.set_rethrown = function(rethrown) {
          rethrown = rethrown ? 1 : 0;
          HEAP8[this.ptr + 13 >> 0] = rethrown;
        };
        this.get_rethrown = function() {
          return HEAP8[this.ptr + 13 >> 0] != 0;
        };
        this.init = function(type, destructor) {
          this.set_type(type);
          this.set_destructor(destructor);
          this.set_refcount(0);
          this.set_caught(false);
          this.set_rethrown(false);
        };
        this.add_ref = function() {
          var value = HEAP32[this.ptr >> 2];
          HEAP32[this.ptr >> 2] = value + 1;
        };
        this.release_ref = function() {
          var prev = HEAP32[this.ptr >> 2];
          HEAP32[this.ptr >> 2] = prev - 1;
          return prev === 1;
        };
      }
      var exceptionLast = 0;
      var uncaughtExceptionCount = 0;
      function ___cxa_throw(ptr, type, destructor) {
        var info = new ExceptionInfo(ptr);
        info.init(type, destructor);
        exceptionLast = ptr;
        uncaughtExceptionCount++;
        throw ptr;
      }
      function setErrNo(value) {
        HEAP32[___errno_location() >> 2] = value;
        return value;
      }
      var PATH = { splitPath: function(filename) {
        var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
        return splitPathRe.exec(filename).slice(1);
      }, normalizeArray: function(parts, allowAboveRoot) {
        var up = 0;
        for (var i = parts.length - 1; i >= 0; i--) {
          var last = parts[i];
          if (last === ".") {
            parts.splice(i, 1);
          } else if (last === "..") {
            parts.splice(i, 1);
            up++;
          } else if (up) {
            parts.splice(i, 1);
            up--;
          }
        }
        if (allowAboveRoot) {
          for (; up; up--) {
            parts.unshift("..");
          }
        }
        return parts;
      }, normalize: function(path) {
        var isAbsolute = path.charAt(0) === "/", trailingSlash = path.substr(-1) === "/";
        path = PATH.normalizeArray(path.split("/").filter(function(p) {
          return !!p;
        }), !isAbsolute).join("/");
        if (!path && !isAbsolute) {
          path = ".";
        }
        if (path && trailingSlash) {
          path += "/";
        }
        return (isAbsolute ? "/" : "") + path;
      }, dirname: function(path) {
        var result = PATH.splitPath(path), root = result[0], dir = result[1];
        if (!root && !dir) {
          return ".";
        }
        if (dir) {
          dir = dir.substr(0, dir.length - 1);
        }
        return root + dir;
      }, basename: function(path) {
        if (path === "/")
          return "/";
        path = PATH.normalize(path);
        path = path.replace(/\/$/, "");
        var lastSlash = path.lastIndexOf("/");
        if (lastSlash === -1)
          return path;
        return path.substr(lastSlash + 1);
      }, extname: function(path) {
        return PATH.splitPath(path)[3];
      }, join: function() {
        var paths = Array.prototype.slice.call(arguments, 0);
        return PATH.normalize(paths.join("/"));
      }, join2: function(l, r) {
        return PATH.normalize(l + "/" + r);
      } };
      function getRandomDevice() {
        if (typeof crypto === "object" && typeof crypto["getRandomValues"] === "function") {
          var randomBuffer = new Uint8Array(1);
          return function() {
            crypto.getRandomValues(randomBuffer);
            return randomBuffer[0];
          };
        } else
          return function() {
            abort("randomDevice");
          };
      }
      var PATH_FS = { resolve: function() {
        var resolvedPath = "", resolvedAbsolute = false;
        for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
          var path = i >= 0 ? arguments[i] : FS.cwd();
          if (typeof path !== "string") {
            throw new TypeError("Arguments to path.resolve must be strings");
          } else if (!path) {
            return "";
          }
          resolvedPath = path + "/" + resolvedPath;
          resolvedAbsolute = path.charAt(0) === "/";
        }
        resolvedPath = PATH.normalizeArray(resolvedPath.split("/").filter(function(p) {
          return !!p;
        }), !resolvedAbsolute).join("/");
        return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
      }, relative: function(from, to) {
        from = PATH_FS.resolve(from).substr(1);
        to = PATH_FS.resolve(to).substr(1);
        function trim(arr) {
          var start4 = 0;
          for (; start4 < arr.length; start4++) {
            if (arr[start4] !== "")
              break;
          }
          var end3 = arr.length - 1;
          for (; end3 >= 0; end3--) {
            if (arr[end3] !== "")
              break;
          }
          if (start4 > end3)
            return [];
          return arr.slice(start4, end3 - start4 + 1);
        }
        var fromParts = trim(from.split("/"));
        var toParts = trim(to.split("/"));
        var length = Math.min(fromParts.length, toParts.length);
        var samePartsLength = length;
        for (var i = 0; i < length; i++) {
          if (fromParts[i] !== toParts[i]) {
            samePartsLength = i;
            break;
          }
        }
        var outputParts = [];
        for (var i = samePartsLength; i < fromParts.length; i++) {
          outputParts.push("..");
        }
        outputParts = outputParts.concat(toParts.slice(samePartsLength));
        return outputParts.join("/");
      } };
      var TTY = { ttys: [], init: function() {
      }, shutdown: function() {
      }, register: function(dev, ops) {
        TTY.ttys[dev] = { input: [], output: [], ops };
        FS.registerDevice(dev, TTY.stream_ops);
      }, stream_ops: { open: function(stream) {
        var tty = TTY.ttys[stream.node.rdev];
        if (!tty) {
          throw new FS.ErrnoError(43);
        }
        stream.tty = tty;
        stream.seekable = false;
      }, close: function(stream) {
        stream.tty.ops.flush(stream.tty);
      }, flush: function(stream) {
        stream.tty.ops.flush(stream.tty);
      }, read: function(stream, buffer2, offset, length, pos) {
        if (!stream.tty || !stream.tty.ops.get_char) {
          throw new FS.ErrnoError(60);
        }
        var bytesRead = 0;
        for (var i = 0; i < length; i++) {
          var result;
          try {
            result = stream.tty.ops.get_char(stream.tty);
          } catch (e) {
            throw new FS.ErrnoError(29);
          }
          if (result === void 0 && bytesRead === 0) {
            throw new FS.ErrnoError(6);
          }
          if (result === null || result === void 0)
            break;
          bytesRead++;
          buffer2[offset + i] = result;
        }
        if (bytesRead) {
          stream.node.timestamp = Date.now();
        }
        return bytesRead;
      }, write: function(stream, buffer2, offset, length, pos) {
        if (!stream.tty || !stream.tty.ops.put_char) {
          throw new FS.ErrnoError(60);
        }
        try {
          for (var i = 0; i < length; i++) {
            stream.tty.ops.put_char(stream.tty, buffer2[offset + i]);
          }
        } catch (e) {
          throw new FS.ErrnoError(29);
        }
        if (length) {
          stream.node.timestamp = Date.now();
        }
        return i;
      } }, default_tty_ops: { get_char: function(tty) {
        if (!tty.input.length) {
          var result = null;
          if (typeof window != "undefined" && typeof window.prompt == "function") {
            result = window.prompt("Input: ");
            if (result !== null) {
              result += "\n";
            }
          } else if (typeof readline == "function") {
            result = readline();
            if (result !== null) {
              result += "\n";
            }
          }
          if (!result) {
            return null;
          }
          tty.input = intArrayFromString(result, true);
        }
        return tty.input.shift();
      }, put_char: function(tty, val) {
        if (val === null || val === 10) {
          out(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        } else {
          if (val != 0)
            tty.output.push(val);
        }
      }, flush: function(tty) {
        if (tty.output && tty.output.length > 0) {
          out(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        }
      } }, default_tty1_ops: { put_char: function(tty, val) {
        if (val === null || val === 10) {
          err(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        } else {
          if (val != 0)
            tty.output.push(val);
        }
      }, flush: function(tty) {
        if (tty.output && tty.output.length > 0) {
          err(UTF8ArrayToString(tty.output, 0));
          tty.output = [];
        }
      } } };
      function zeroMemory(address, size) {
        HEAPU8.fill(0, address, address + size);
      }
      function alignMemory(size, alignment) {
        return Math.ceil(size / alignment) * alignment;
      }
      function mmapAlloc(size) {
        size = alignMemory(size, 65536);
        var ptr = _memalign(65536, size);
        if (!ptr)
          return 0;
        zeroMemory(ptr, size);
        return ptr;
      }
      var MEMFS = { ops_table: null, mount: function(mount) {
        return MEMFS.createNode(null, "/", 16384 | 511, 0);
      }, createNode: function(parent, name, mode, dev) {
        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {
          throw new FS.ErrnoError(63);
        }
        if (!MEMFS.ops_table) {
          MEMFS.ops_table = { dir: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr, lookup: MEMFS.node_ops.lookup, mknod: MEMFS.node_ops.mknod, rename: MEMFS.node_ops.rename, unlink: MEMFS.node_ops.unlink, rmdir: MEMFS.node_ops.rmdir, readdir: MEMFS.node_ops.readdir, symlink: MEMFS.node_ops.symlink }, stream: { llseek: MEMFS.stream_ops.llseek } }, file: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr }, stream: { llseek: MEMFS.stream_ops.llseek, read: MEMFS.stream_ops.read, write: MEMFS.stream_ops.write, allocate: MEMFS.stream_ops.allocate, mmap: MEMFS.stream_ops.mmap, msync: MEMFS.stream_ops.msync } }, link: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr, readlink: MEMFS.node_ops.readlink }, stream: {} }, chrdev: { node: { getattr: MEMFS.node_ops.getattr, setattr: MEMFS.node_ops.setattr }, stream: FS.chrdev_stream_ops } };
        }
        var node = FS.createNode(parent, name, mode, dev);
        if (FS.isDir(node.mode)) {
          node.node_ops = MEMFS.ops_table.dir.node;
          node.stream_ops = MEMFS.ops_table.dir.stream;
          node.contents = {};
        } else if (FS.isFile(node.mode)) {
          node.node_ops = MEMFS.ops_table.file.node;
          node.stream_ops = MEMFS.ops_table.file.stream;
          node.usedBytes = 0;
          node.contents = null;
        } else if (FS.isLink(node.mode)) {
          node.node_ops = MEMFS.ops_table.link.node;
          node.stream_ops = MEMFS.ops_table.link.stream;
        } else if (FS.isChrdev(node.mode)) {
          node.node_ops = MEMFS.ops_table.chrdev.node;
          node.stream_ops = MEMFS.ops_table.chrdev.stream;
        }
        node.timestamp = Date.now();
        if (parent) {
          parent.contents[name] = node;
          parent.timestamp = node.timestamp;
        }
        return node;
      }, getFileDataAsTypedArray: function(node) {
        if (!node.contents)
          return new Uint8Array(0);
        if (node.contents.subarray)
          return node.contents.subarray(0, node.usedBytes);
        return new Uint8Array(node.contents);
      }, expandFileStorage: function(node, newCapacity) {
        var prevCapacity = node.contents ? node.contents.length : 0;
        if (prevCapacity >= newCapacity)
          return;
        var CAPACITY_DOUBLING_MAX = 1024 * 1024;
        newCapacity = Math.max(newCapacity, prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2 : 1.125) >>> 0);
        if (prevCapacity != 0)
          newCapacity = Math.max(newCapacity, 256);
        var oldContents = node.contents;
        node.contents = new Uint8Array(newCapacity);
        if (node.usedBytes > 0)
          node.contents.set(oldContents.subarray(0, node.usedBytes), 0);
      }, resizeFileStorage: function(node, newSize) {
        if (node.usedBytes == newSize)
          return;
        if (newSize == 0) {
          node.contents = null;
          node.usedBytes = 0;
        } else {
          var oldContents = node.contents;
          node.contents = new Uint8Array(newSize);
          if (oldContents) {
            node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes)));
          }
          node.usedBytes = newSize;
        }
      }, node_ops: { getattr: function(node) {
        var attr = {};
        attr.dev = FS.isChrdev(node.mode) ? node.id : 1;
        attr.ino = node.id;
        attr.mode = node.mode;
        attr.nlink = 1;
        attr.uid = 0;
        attr.gid = 0;
        attr.rdev = node.rdev;
        if (FS.isDir(node.mode)) {
          attr.size = 4096;
        } else if (FS.isFile(node.mode)) {
          attr.size = node.usedBytes;
        } else if (FS.isLink(node.mode)) {
          attr.size = node.link.length;
        } else {
          attr.size = 0;
        }
        attr.atime = new Date(node.timestamp);
        attr.mtime = new Date(node.timestamp);
        attr.ctime = new Date(node.timestamp);
        attr.blksize = 4096;
        attr.blocks = Math.ceil(attr.size / attr.blksize);
        return attr;
      }, setattr: function(node, attr) {
        if (attr.mode !== void 0) {
          node.mode = attr.mode;
        }
        if (attr.timestamp !== void 0) {
          node.timestamp = attr.timestamp;
        }
        if (attr.size !== void 0) {
          MEMFS.resizeFileStorage(node, attr.size);
        }
      }, lookup: function(parent, name) {
        throw FS.genericErrors[44];
      }, mknod: function(parent, name, mode, dev) {
        return MEMFS.createNode(parent, name, mode, dev);
      }, rename: function(old_node, new_dir, new_name) {
        if (FS.isDir(old_node.mode)) {
          var new_node;
          try {
            new_node = FS.lookupNode(new_dir, new_name);
          } catch (e) {
          }
          if (new_node) {
            for (var i in new_node.contents) {
              throw new FS.ErrnoError(55);
            }
          }
        }
        delete old_node.parent.contents[old_node.name];
        old_node.parent.timestamp = Date.now();
        old_node.name = new_name;
        new_dir.contents[new_name] = old_node;
        new_dir.timestamp = old_node.parent.timestamp;
        old_node.parent = new_dir;
      }, unlink: function(parent, name) {
        delete parent.contents[name];
        parent.timestamp = Date.now();
      }, rmdir: function(parent, name) {
        var node = FS.lookupNode(parent, name);
        for (var i in node.contents) {
          throw new FS.ErrnoError(55);
        }
        delete parent.contents[name];
        parent.timestamp = Date.now();
      }, readdir: function(node) {
        var entries = [".", ".."];
        for (var key2 in node.contents) {
          if (!node.contents.hasOwnProperty(key2)) {
            continue;
          }
          entries.push(key2);
        }
        return entries;
      }, symlink: function(parent, newname, oldpath) {
        var node = MEMFS.createNode(parent, newname, 511 | 40960, 0);
        node.link = oldpath;
        return node;
      }, readlink: function(node) {
        if (!FS.isLink(node.mode)) {
          throw new FS.ErrnoError(28);
        }
        return node.link;
      } }, stream_ops: { read: function(stream, buffer2, offset, length, position) {
        var contents = stream.node.contents;
        if (position >= stream.node.usedBytes)
          return 0;
        var size = Math.min(stream.node.usedBytes - position, length);
        if (size > 8 && contents.subarray) {
          buffer2.set(contents.subarray(position, position + size), offset);
        } else {
          for (var i = 0; i < size; i++)
            buffer2[offset + i] = contents[position + i];
        }
        return size;
      }, write: function(stream, buffer2, offset, length, position, canOwn) {
        if (buffer2.buffer === HEAP8.buffer) {
          canOwn = false;
        }
        if (!length)
          return 0;
        var node = stream.node;
        node.timestamp = Date.now();
        if (buffer2.subarray && (!node.contents || node.contents.subarray)) {
          if (canOwn) {
            node.contents = buffer2.subarray(offset, offset + length);
            node.usedBytes = length;
            return length;
          } else if (node.usedBytes === 0 && position === 0) {
            node.contents = buffer2.slice(offset, offset + length);
            node.usedBytes = length;
            return length;
          } else if (position + length <= node.usedBytes) {
            node.contents.set(buffer2.subarray(offset, offset + length), position);
            return length;
          }
        }
        MEMFS.expandFileStorage(node, position + length);
        if (node.contents.subarray && buffer2.subarray) {
          node.contents.set(buffer2.subarray(offset, offset + length), position);
        } else {
          for (var i = 0; i < length; i++) {
            node.contents[position + i] = buffer2[offset + i];
          }
        }
        node.usedBytes = Math.max(node.usedBytes, position + length);
        return length;
      }, llseek: function(stream, offset, whence) {
        var position = offset;
        if (whence === 1) {
          position += stream.position;
        } else if (whence === 2) {
          if (FS.isFile(stream.node.mode)) {
            position += stream.node.usedBytes;
          }
        }
        if (position < 0) {
          throw new FS.ErrnoError(28);
        }
        return position;
      }, allocate: function(stream, offset, length) {
        MEMFS.expandFileStorage(stream.node, offset + length);
        stream.node.usedBytes = Math.max(stream.node.usedBytes, offset + length);
      }, mmap: function(stream, address, length, position, prot, flags) {
        if (address !== 0) {
          throw new FS.ErrnoError(28);
        }
        if (!FS.isFile(stream.node.mode)) {
          throw new FS.ErrnoError(43);
        }
        var ptr;
        var allocated;
        var contents = stream.node.contents;
        if (!(flags & 2) && contents.buffer === buffer) {
          allocated = false;
          ptr = contents.byteOffset;
        } else {
          if (position > 0 || position + length < contents.length) {
            if (contents.subarray) {
              contents = contents.subarray(position, position + length);
            } else {
              contents = Array.prototype.slice.call(contents, position, position + length);
            }
          }
          allocated = true;
          ptr = mmapAlloc(length);
          if (!ptr) {
            throw new FS.ErrnoError(48);
          }
          HEAP8.set(contents, ptr);
        }
        return { ptr, allocated };
      }, msync: function(stream, buffer2, offset, length, mmapFlags) {
        if (!FS.isFile(stream.node.mode)) {
          throw new FS.ErrnoError(43);
        }
        if (mmapFlags & 2) {
          return 0;
        }
        var bytesWritten = MEMFS.stream_ops.write(stream, buffer2, 0, length, offset, false);
        return 0;
      } } };
      function asyncLoad(url, onload, onerror, noRunDep) {
        var dep = !noRunDep ? getUniqueRunDependency("al " + url) : "";
        readAsync(url, function(arrayBuffer) {
          assert(arrayBuffer, 'Loading data file "' + url + '" failed (no arrayBuffer).');
          onload(new Uint8Array(arrayBuffer));
          if (dep)
            removeRunDependency(dep);
        }, function(event) {
          if (onerror) {
            onerror();
          } else {
            throw 'Loading data file "' + url + '" failed.';
          }
        });
        if (dep)
          addRunDependency(dep);
      }
      var FS = { root: null, mounts: [], devices: {}, streams: [], nextInode: 1, nameTable: null, currentPath: "/", initialized: false, ignorePermissions: true, ErrnoError: null, genericErrors: {}, filesystems: null, syncFSRequests: 0, lookupPath: function(path, opts) {
        path = PATH_FS.resolve(FS.cwd(), path);
        opts = opts || {};
        if (!path)
          return { path: "", node: null };
        var defaults2 = { follow_mount: true, recurse_count: 0 };
        for (var key2 in defaults2) {
          if (opts[key2] === void 0) {
            opts[key2] = defaults2[key2];
          }
        }
        if (opts.recurse_count > 8) {
          throw new FS.ErrnoError(32);
        }
        var parts = PATH.normalizeArray(path.split("/").filter(function(p) {
          return !!p;
        }), false);
        var current = FS.root;
        var current_path = "/";
        for (var i = 0; i < parts.length; i++) {
          var islast = i === parts.length - 1;
          if (islast && opts.parent) {
            break;
          }
          current = FS.lookupNode(current, parts[i]);
          current_path = PATH.join2(current_path, parts[i]);
          if (FS.isMountpoint(current)) {
            if (!islast || islast && opts.follow_mount) {
              current = current.mounted.root;
            }
          }
          if (!islast || opts.follow) {
            var count = 0;
            while (FS.isLink(current.mode)) {
              var link = FS.readlink(current_path);
              current_path = PATH_FS.resolve(PATH.dirname(current_path), link);
              var lookup = FS.lookupPath(current_path, { recurse_count: opts.recurse_count });
              current = lookup.node;
              if (count++ > 40) {
                throw new FS.ErrnoError(32);
              }
            }
          }
        }
        return { path: current_path, node: current };
      }, getPath: function(node) {
        var path;
        while (true) {
          if (FS.isRoot(node)) {
            var mount = node.mount.mountpoint;
            if (!path)
              return mount;
            return mount[mount.length - 1] !== "/" ? mount + "/" + path : mount + path;
          }
          path = path ? node.name + "/" + path : node.name;
          node = node.parent;
        }
      }, hashName: function(parentid, name) {
        var hash2 = 0;
        for (var i = 0; i < name.length; i++) {
          hash2 = (hash2 << 5) - hash2 + name.charCodeAt(i) | 0;
        }
        return (parentid + hash2 >>> 0) % FS.nameTable.length;
      }, hashAddNode: function(node) {
        var hash2 = FS.hashName(node.parent.id, node.name);
        node.name_next = FS.nameTable[hash2];
        FS.nameTable[hash2] = node;
      }, hashRemoveNode: function(node) {
        var hash2 = FS.hashName(node.parent.id, node.name);
        if (FS.nameTable[hash2] === node) {
          FS.nameTable[hash2] = node.name_next;
        } else {
          var current = FS.nameTable[hash2];
          while (current) {
            if (current.name_next === node) {
              current.name_next = node.name_next;
              break;
            }
            current = current.name_next;
          }
        }
      }, lookupNode: function(parent, name) {
        var errCode = FS.mayLookup(parent);
        if (errCode) {
          throw new FS.ErrnoError(errCode, parent);
        }
        var hash2 = FS.hashName(parent.id, name);
        for (var node = FS.nameTable[hash2]; node; node = node.name_next) {
          var nodeName = node.name;
          if (node.parent.id === parent.id && nodeName === name) {
            return node;
          }
        }
        return FS.lookup(parent, name);
      }, createNode: function(parent, name, mode, rdev) {
        var node = new FS.FSNode(parent, name, mode, rdev);
        FS.hashAddNode(node);
        return node;
      }, destroyNode: function(node) {
        FS.hashRemoveNode(node);
      }, isRoot: function(node) {
        return node === node.parent;
      }, isMountpoint: function(node) {
        return !!node.mounted;
      }, isFile: function(mode) {
        return (mode & 61440) === 32768;
      }, isDir: function(mode) {
        return (mode & 61440) === 16384;
      }, isLink: function(mode) {
        return (mode & 61440) === 40960;
      }, isChrdev: function(mode) {
        return (mode & 61440) === 8192;
      }, isBlkdev: function(mode) {
        return (mode & 61440) === 24576;
      }, isFIFO: function(mode) {
        return (mode & 61440) === 4096;
      }, isSocket: function(mode) {
        return (mode & 49152) === 49152;
      }, flagModes: { "r": 0, "r+": 2, "w": 577, "w+": 578, "a": 1089, "a+": 1090 }, modeStringToFlags: function(str) {
        var flags = FS.flagModes[str];
        if (typeof flags === "undefined") {
          throw new Error("Unknown file open mode: " + str);
        }
        return flags;
      }, flagsToPermissionString: function(flag) {
        var perms = ["r", "w", "rw"][flag & 3];
        if (flag & 512) {
          perms += "w";
        }
        return perms;
      }, nodePermissions: function(node, perms) {
        if (FS.ignorePermissions) {
          return 0;
        }
        if (perms.includes("r") && !(node.mode & 292)) {
          return 2;
        } else if (perms.includes("w") && !(node.mode & 146)) {
          return 2;
        } else if (perms.includes("x") && !(node.mode & 73)) {
          return 2;
        }
        return 0;
      }, mayLookup: function(dir) {
        var errCode = FS.nodePermissions(dir, "x");
        if (errCode)
          return errCode;
        if (!dir.node_ops.lookup)
          return 2;
        return 0;
      }, mayCreate: function(dir, name) {
        try {
          var node = FS.lookupNode(dir, name);
          return 20;
        } catch (e) {
        }
        return FS.nodePermissions(dir, "wx");
      }, mayDelete: function(dir, name, isdir) {
        var node;
        try {
          node = FS.lookupNode(dir, name);
        } catch (e) {
          return e.errno;
        }
        var errCode = FS.nodePermissions(dir, "wx");
        if (errCode) {
          return errCode;
        }
        if (isdir) {
          if (!FS.isDir(node.mode)) {
            return 54;
          }
          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {
            return 10;
          }
        } else {
          if (FS.isDir(node.mode)) {
            return 31;
          }
        }
        return 0;
      }, mayOpen: function(node, flags) {
        if (!node) {
          return 44;
        }
        if (FS.isLink(node.mode)) {
          return 32;
        } else if (FS.isDir(node.mode)) {
          if (FS.flagsToPermissionString(flags) !== "r" || flags & 512) {
            return 31;
          }
        }
        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));
      }, MAX_OPEN_FDS: 4096, nextfd: function(fd_start, fd_end) {
        fd_start = fd_start || 0;
        fd_end = fd_end || FS.MAX_OPEN_FDS;
        for (var fd = fd_start; fd <= fd_end; fd++) {
          if (!FS.streams[fd]) {
            return fd;
          }
        }
        throw new FS.ErrnoError(33);
      }, getStream: function(fd) {
        return FS.streams[fd];
      }, createStream: function(stream, fd_start, fd_end) {
        if (!FS.FSStream) {
          FS.FSStream = function() {
          };
          FS.FSStream.prototype = { object: { get: function() {
            return this.node;
          }, set: function(val) {
            this.node = val;
          } }, isRead: { get: function() {
            return (this.flags & 2097155) !== 1;
          } }, isWrite: { get: function() {
            return (this.flags & 2097155) !== 0;
          } }, isAppend: { get: function() {
            return this.flags & 1024;
          } } };
        }
        var newStream = new FS.FSStream();
        for (var p in stream) {
          newStream[p] = stream[p];
        }
        stream = newStream;
        var fd = FS.nextfd(fd_start, fd_end);
        stream.fd = fd;
        FS.streams[fd] = stream;
        return stream;
      }, closeStream: function(fd) {
        FS.streams[fd] = null;
      }, chrdev_stream_ops: { open: function(stream) {
        var device = FS.getDevice(stream.node.rdev);
        stream.stream_ops = device.stream_ops;
        if (stream.stream_ops.open) {
          stream.stream_ops.open(stream);
        }
      }, llseek: function() {
        throw new FS.ErrnoError(70);
      } }, major: function(dev) {
        return dev >> 8;
      }, minor: function(dev) {
        return dev & 255;
      }, makedev: function(ma, mi) {
        return ma << 8 | mi;
      }, registerDevice: function(dev, ops) {
        FS.devices[dev] = { stream_ops: ops };
      }, getDevice: function(dev) {
        return FS.devices[dev];
      }, getMounts: function(mount) {
        var mounts = [];
        var check = [mount];
        while (check.length) {
          var m = check.pop();
          mounts.push(m);
          check.push.apply(check, m.mounts);
        }
        return mounts;
      }, syncfs: function(populate, callback) {
        if (typeof populate === "function") {
          callback = populate;
          populate = false;
        }
        FS.syncFSRequests++;
        if (FS.syncFSRequests > 1) {
          err("warning: " + FS.syncFSRequests + " FS.syncfs operations in flight at once, probably just doing extra work");
        }
        var mounts = FS.getMounts(FS.root.mount);
        var completed = 0;
        function doCallback(errCode) {
          FS.syncFSRequests--;
          return callback(errCode);
        }
        function done(errCode) {
          if (errCode) {
            if (!done.errored) {
              done.errored = true;
              return doCallback(errCode);
            }
            return;
          }
          if (++completed >= mounts.length) {
            doCallback(null);
          }
        }
        mounts.forEach(function(mount) {
          if (!mount.type.syncfs) {
            return done(null);
          }
          mount.type.syncfs(mount, populate, done);
        });
      }, mount: function(type, opts, mountpoint) {
        var root = mountpoint === "/";
        var pseudo = !mountpoint;
        var node;
        if (root && FS.root) {
          throw new FS.ErrnoError(10);
        } else if (!root && !pseudo) {
          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });
          mountpoint = lookup.path;
          node = lookup.node;
          if (FS.isMountpoint(node)) {
            throw new FS.ErrnoError(10);
          }
          if (!FS.isDir(node.mode)) {
            throw new FS.ErrnoError(54);
          }
        }
        var mount = { type, opts, mountpoint, mounts: [] };
        var mountRoot = type.mount(mount);
        mountRoot.mount = mount;
        mount.root = mountRoot;
        if (root) {
          FS.root = mountRoot;
        } else if (node) {
          node.mounted = mount;
          if (node.mount) {
            node.mount.mounts.push(mount);
          }
        }
        return mountRoot;
      }, unmount: function(mountpoint) {
        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });
        if (!FS.isMountpoint(lookup.node)) {
          throw new FS.ErrnoError(28);
        }
        var node = lookup.node;
        var mount = node.mounted;
        var mounts = FS.getMounts(mount);
        Object.keys(FS.nameTable).forEach(function(hash2) {
          var current = FS.nameTable[hash2];
          while (current) {
            var next = current.name_next;
            if (mounts.includes(current.mount)) {
              FS.destroyNode(current);
            }
            current = next;
          }
        });
        node.mounted = null;
        var idx = node.mount.mounts.indexOf(mount);
        node.mount.mounts.splice(idx, 1);
      }, lookup: function(parent, name) {
        return parent.node_ops.lookup(parent, name);
      }, mknod: function(path, mode, dev) {
        var lookup = FS.lookupPath(path, { parent: true });
        var parent = lookup.node;
        var name = PATH.basename(path);
        if (!name || name === "." || name === "..") {
          throw new FS.ErrnoError(28);
        }
        var errCode = FS.mayCreate(parent, name);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.mknod) {
          throw new FS.ErrnoError(63);
        }
        return parent.node_ops.mknod(parent, name, mode, dev);
      }, create: function(path, mode) {
        mode = mode !== void 0 ? mode : 438;
        mode &= 4095;
        mode |= 32768;
        return FS.mknod(path, mode, 0);
      }, mkdir: function(path, mode) {
        mode = mode !== void 0 ? mode : 511;
        mode &= 511 | 512;
        mode |= 16384;
        return FS.mknod(path, mode, 0);
      }, mkdirTree: function(path, mode) {
        var dirs = path.split("/");
        var d = "";
        for (var i = 0; i < dirs.length; ++i) {
          if (!dirs[i])
            continue;
          d += "/" + dirs[i];
          try {
            FS.mkdir(d, mode);
          } catch (e) {
            if (e.errno != 20)
              throw e;
          }
        }
      }, mkdev: function(path, mode, dev) {
        if (typeof dev === "undefined") {
          dev = mode;
          mode = 438;
        }
        mode |= 8192;
        return FS.mknod(path, mode, dev);
      }, symlink: function(oldpath, newpath) {
        if (!PATH_FS.resolve(oldpath)) {
          throw new FS.ErrnoError(44);
        }
        var lookup = FS.lookupPath(newpath, { parent: true });
        var parent = lookup.node;
        if (!parent) {
          throw new FS.ErrnoError(44);
        }
        var newname = PATH.basename(newpath);
        var errCode = FS.mayCreate(parent, newname);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.symlink) {
          throw new FS.ErrnoError(63);
        }
        return parent.node_ops.symlink(parent, newname, oldpath);
      }, rename: function(old_path, new_path) {
        var old_dirname = PATH.dirname(old_path);
        var new_dirname = PATH.dirname(new_path);
        var old_name = PATH.basename(old_path);
        var new_name = PATH.basename(new_path);
        var lookup, old_dir, new_dir;
        lookup = FS.lookupPath(old_path, { parent: true });
        old_dir = lookup.node;
        lookup = FS.lookupPath(new_path, { parent: true });
        new_dir = lookup.node;
        if (!old_dir || !new_dir)
          throw new FS.ErrnoError(44);
        if (old_dir.mount !== new_dir.mount) {
          throw new FS.ErrnoError(75);
        }
        var old_node = FS.lookupNode(old_dir, old_name);
        var relative = PATH_FS.relative(old_path, new_dirname);
        if (relative.charAt(0) !== ".") {
          throw new FS.ErrnoError(28);
        }
        relative = PATH_FS.relative(new_path, old_dirname);
        if (relative.charAt(0) !== ".") {
          throw new FS.ErrnoError(55);
        }
        var new_node;
        try {
          new_node = FS.lookupNode(new_dir, new_name);
        } catch (e) {
        }
        if (old_node === new_node) {
          return;
        }
        var isdir = FS.isDir(old_node.mode);
        var errCode = FS.mayDelete(old_dir, old_name, isdir);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        errCode = new_node ? FS.mayDelete(new_dir, new_name, isdir) : FS.mayCreate(new_dir, new_name);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!old_dir.node_ops.rename) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isMountpoint(old_node) || new_node && FS.isMountpoint(new_node)) {
          throw new FS.ErrnoError(10);
        }
        if (new_dir !== old_dir) {
          errCode = FS.nodePermissions(old_dir, "w");
          if (errCode) {
            throw new FS.ErrnoError(errCode);
          }
        }
        FS.hashRemoveNode(old_node);
        try {
          old_dir.node_ops.rename(old_node, new_dir, new_name);
        } catch (e) {
          throw e;
        } finally {
          FS.hashAddNode(old_node);
        }
      }, rmdir: function(path) {
        var lookup = FS.lookupPath(path, { parent: true });
        var parent = lookup.node;
        var name = PATH.basename(path);
        var node = FS.lookupNode(parent, name);
        var errCode = FS.mayDelete(parent, name, true);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.rmdir) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isMountpoint(node)) {
          throw new FS.ErrnoError(10);
        }
        parent.node_ops.rmdir(parent, name);
        FS.destroyNode(node);
      }, readdir: function(path) {
        var lookup = FS.lookupPath(path, { follow: true });
        var node = lookup.node;
        if (!node.node_ops.readdir) {
          throw new FS.ErrnoError(54);
        }
        return node.node_ops.readdir(node);
      }, unlink: function(path) {
        var lookup = FS.lookupPath(path, { parent: true });
        var parent = lookup.node;
        var name = PATH.basename(path);
        var node = FS.lookupNode(parent, name);
        var errCode = FS.mayDelete(parent, name, false);
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        if (!parent.node_ops.unlink) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isMountpoint(node)) {
          throw new FS.ErrnoError(10);
        }
        parent.node_ops.unlink(parent, name);
        FS.destroyNode(node);
      }, readlink: function(path) {
        var lookup = FS.lookupPath(path);
        var link = lookup.node;
        if (!link) {
          throw new FS.ErrnoError(44);
        }
        if (!link.node_ops.readlink) {
          throw new FS.ErrnoError(28);
        }
        return PATH_FS.resolve(FS.getPath(link.parent), link.node_ops.readlink(link));
      }, stat: function(path, dontFollow) {
        var lookup = FS.lookupPath(path, { follow: !dontFollow });
        var node = lookup.node;
        if (!node) {
          throw new FS.ErrnoError(44);
        }
        if (!node.node_ops.getattr) {
          throw new FS.ErrnoError(63);
        }
        return node.node_ops.getattr(node);
      }, lstat: function(path) {
        return FS.stat(path, true);
      }, chmod: function(path, mode, dontFollow) {
        var node;
        if (typeof path === "string") {
          var lookup = FS.lookupPath(path, { follow: !dontFollow });
          node = lookup.node;
        } else {
          node = path;
        }
        if (!node.node_ops.setattr) {
          throw new FS.ErrnoError(63);
        }
        node.node_ops.setattr(node, { mode: mode & 4095 | node.mode & ~4095, timestamp: Date.now() });
      }, lchmod: function(path, mode) {
        FS.chmod(path, mode, true);
      }, fchmod: function(fd, mode) {
        var stream = FS.getStream(fd);
        if (!stream) {
          throw new FS.ErrnoError(8);
        }
        FS.chmod(stream.node, mode);
      }, chown: function(path, uid, gid, dontFollow) {
        var node;
        if (typeof path === "string") {
          var lookup = FS.lookupPath(path, { follow: !dontFollow });
          node = lookup.node;
        } else {
          node = path;
        }
        if (!node.node_ops.setattr) {
          throw new FS.ErrnoError(63);
        }
        node.node_ops.setattr(node, { timestamp: Date.now() });
      }, lchown: function(path, uid, gid) {
        FS.chown(path, uid, gid, true);
      }, fchown: function(fd, uid, gid) {
        var stream = FS.getStream(fd);
        if (!stream) {
          throw new FS.ErrnoError(8);
        }
        FS.chown(stream.node, uid, gid);
      }, truncate: function(path, len) {
        if (len < 0) {
          throw new FS.ErrnoError(28);
        }
        var node;
        if (typeof path === "string") {
          var lookup = FS.lookupPath(path, { follow: true });
          node = lookup.node;
        } else {
          node = path;
        }
        if (!node.node_ops.setattr) {
          throw new FS.ErrnoError(63);
        }
        if (FS.isDir(node.mode)) {
          throw new FS.ErrnoError(31);
        }
        if (!FS.isFile(node.mode)) {
          throw new FS.ErrnoError(28);
        }
        var errCode = FS.nodePermissions(node, "w");
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        node.node_ops.setattr(node, { size: len, timestamp: Date.now() });
      }, ftruncate: function(fd, len) {
        var stream = FS.getStream(fd);
        if (!stream) {
          throw new FS.ErrnoError(8);
        }
        if ((stream.flags & 2097155) === 0) {
          throw new FS.ErrnoError(28);
        }
        FS.truncate(stream.node, len);
      }, utime: function(path, atime, mtime) {
        var lookup = FS.lookupPath(path, { follow: true });
        var node = lookup.node;
        node.node_ops.setattr(node, { timestamp: Math.max(atime, mtime) });
      }, open: function(path, flags, mode, fd_start, fd_end) {
        if (path === "") {
          throw new FS.ErrnoError(44);
        }
        flags = typeof flags === "string" ? FS.modeStringToFlags(flags) : flags;
        mode = typeof mode === "undefined" ? 438 : mode;
        if (flags & 64) {
          mode = mode & 4095 | 32768;
        } else {
          mode = 0;
        }
        var node;
        if (typeof path === "object") {
          node = path;
        } else {
          path = PATH.normalize(path);
          try {
            var lookup = FS.lookupPath(path, { follow: !(flags & 131072) });
            node = lookup.node;
          } catch (e) {
          }
        }
        var created = false;
        if (flags & 64) {
          if (node) {
            if (flags & 128) {
              throw new FS.ErrnoError(20);
            }
          } else {
            node = FS.mknod(path, mode, 0);
            created = true;
          }
        }
        if (!node) {
          throw new FS.ErrnoError(44);
        }
        if (FS.isChrdev(node.mode)) {
          flags &= ~512;
        }
        if (flags & 65536 && !FS.isDir(node.mode)) {
          throw new FS.ErrnoError(54);
        }
        if (!created) {
          var errCode = FS.mayOpen(node, flags);
          if (errCode) {
            throw new FS.ErrnoError(errCode);
          }
        }
        if (flags & 512) {
          FS.truncate(node, 0);
        }
        flags &= ~(128 | 512 | 131072);
        var stream = FS.createStream({ node, path: FS.getPath(node), id: node.id, flags, mode: node.mode, seekable: true, position: 0, stream_ops: node.stream_ops, node_ops: node.node_ops, ungotten: [], error: false }, fd_start, fd_end);
        if (stream.stream_ops.open) {
          stream.stream_ops.open(stream);
        }
        if (Module2["logReadFiles"] && !(flags & 1)) {
          if (!FS.readFiles)
            FS.readFiles = {};
          if (!(path in FS.readFiles)) {
            FS.readFiles[path] = 1;
          }
        }
        return stream;
      }, close: function(stream) {
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if (stream.getdents)
          stream.getdents = null;
        try {
          if (stream.stream_ops.close) {
            stream.stream_ops.close(stream);
          }
        } catch (e) {
          throw e;
        } finally {
          FS.closeStream(stream.fd);
        }
        stream.fd = null;
      }, isClosed: function(stream) {
        return stream.fd === null;
      }, llseek: function(stream, offset, whence) {
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if (!stream.seekable || !stream.stream_ops.llseek) {
          throw new FS.ErrnoError(70);
        }
        if (whence != 0 && whence != 1 && whence != 2) {
          throw new FS.ErrnoError(28);
        }
        stream.position = stream.stream_ops.llseek(stream, offset, whence);
        stream.ungotten = [];
        return stream.position;
      }, read: function(stream, buffer2, offset, length, position) {
        if (length < 0 || position < 0) {
          throw new FS.ErrnoError(28);
        }
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if ((stream.flags & 2097155) === 1) {
          throw new FS.ErrnoError(8);
        }
        if (FS.isDir(stream.node.mode)) {
          throw new FS.ErrnoError(31);
        }
        if (!stream.stream_ops.read) {
          throw new FS.ErrnoError(28);
        }
        var seeking = typeof position !== "undefined";
        if (!seeking) {
          position = stream.position;
        } else if (!stream.seekable) {
          throw new FS.ErrnoError(70);
        }
        var bytesRead = stream.stream_ops.read(stream, buffer2, offset, length, position);
        if (!seeking)
          stream.position += bytesRead;
        return bytesRead;
      }, write: function(stream, buffer2, offset, length, position, canOwn) {
        if (length < 0 || position < 0) {
          throw new FS.ErrnoError(28);
        }
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if ((stream.flags & 2097155) === 0) {
          throw new FS.ErrnoError(8);
        }
        if (FS.isDir(stream.node.mode)) {
          throw new FS.ErrnoError(31);
        }
        if (!stream.stream_ops.write) {
          throw new FS.ErrnoError(28);
        }
        if (stream.seekable && stream.flags & 1024) {
          FS.llseek(stream, 0, 2);
        }
        var seeking = typeof position !== "undefined";
        if (!seeking) {
          position = stream.position;
        } else if (!stream.seekable) {
          throw new FS.ErrnoError(70);
        }
        var bytesWritten = stream.stream_ops.write(stream, buffer2, offset, length, position, canOwn);
        if (!seeking)
          stream.position += bytesWritten;
        return bytesWritten;
      }, allocate: function(stream, offset, length) {
        if (FS.isClosed(stream)) {
          throw new FS.ErrnoError(8);
        }
        if (offset < 0 || length <= 0) {
          throw new FS.ErrnoError(28);
        }
        if ((stream.flags & 2097155) === 0) {
          throw new FS.ErrnoError(8);
        }
        if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {
          throw new FS.ErrnoError(43);
        }
        if (!stream.stream_ops.allocate) {
          throw new FS.ErrnoError(138);
        }
        stream.stream_ops.allocate(stream, offset, length);
      }, mmap: function(stream, address, length, position, prot, flags) {
        if ((prot & 2) !== 0 && (flags & 2) === 0 && (stream.flags & 2097155) !== 2) {
          throw new FS.ErrnoError(2);
        }
        if ((stream.flags & 2097155) === 1) {
          throw new FS.ErrnoError(2);
        }
        if (!stream.stream_ops.mmap) {
          throw new FS.ErrnoError(43);
        }
        return stream.stream_ops.mmap(stream, address, length, position, prot, flags);
      }, msync: function(stream, buffer2, offset, length, mmapFlags) {
        if (!stream || !stream.stream_ops.msync) {
          return 0;
        }
        return stream.stream_ops.msync(stream, buffer2, offset, length, mmapFlags);
      }, munmap: function(stream) {
        return 0;
      }, ioctl: function(stream, cmd, arg) {
        if (!stream.stream_ops.ioctl) {
          throw new FS.ErrnoError(59);
        }
        return stream.stream_ops.ioctl(stream, cmd, arg);
      }, readFile: function(path, opts) {
        opts = opts || {};
        opts.flags = opts.flags || 0;
        opts.encoding = opts.encoding || "binary";
        if (opts.encoding !== "utf8" && opts.encoding !== "binary") {
          throw new Error('Invalid encoding type "' + opts.encoding + '"');
        }
        var ret;
        var stream = FS.open(path, opts.flags);
        var stat = FS.stat(path);
        var length = stat.size;
        var buf = new Uint8Array(length);
        FS.read(stream, buf, 0, length, 0);
        if (opts.encoding === "utf8") {
          ret = UTF8ArrayToString(buf, 0);
        } else if (opts.encoding === "binary") {
          ret = buf;
        }
        FS.close(stream);
        return ret;
      }, writeFile: function(path, data, opts) {
        opts = opts || {};
        opts.flags = opts.flags || 577;
        var stream = FS.open(path, opts.flags, opts.mode);
        if (typeof data === "string") {
          var buf = new Uint8Array(lengthBytesUTF8(data) + 1);
          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);
          FS.write(stream, buf, 0, actualNumBytes, void 0, opts.canOwn);
        } else if (ArrayBuffer.isView(data)) {
          FS.write(stream, data, 0, data.byteLength, void 0, opts.canOwn);
        } else {
          throw new Error("Unsupported data type");
        }
        FS.close(stream);
      }, cwd: function() {
        return FS.currentPath;
      }, chdir: function(path) {
        var lookup = FS.lookupPath(path, { follow: true });
        if (lookup.node === null) {
          throw new FS.ErrnoError(44);
        }
        if (!FS.isDir(lookup.node.mode)) {
          throw new FS.ErrnoError(54);
        }
        var errCode = FS.nodePermissions(lookup.node, "x");
        if (errCode) {
          throw new FS.ErrnoError(errCode);
        }
        FS.currentPath = lookup.path;
      }, createDefaultDirectories: function() {
        FS.mkdir("/tmp");
        FS.mkdir("/home");
        FS.mkdir("/home/web_user");
      }, createDefaultDevices: function() {
        FS.mkdir("/dev");
        FS.registerDevice(FS.makedev(1, 3), { read: function() {
          return 0;
        }, write: function(stream, buffer2, offset, length, pos) {
          return length;
        } });
        FS.mkdev("/dev/null", FS.makedev(1, 3));
        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);
        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);
        FS.mkdev("/dev/tty", FS.makedev(5, 0));
        FS.mkdev("/dev/tty1", FS.makedev(6, 0));
        var random_device = getRandomDevice();
        FS.createDevice("/dev", "random", random_device);
        FS.createDevice("/dev", "urandom", random_device);
        FS.mkdir("/dev/shm");
        FS.mkdir("/dev/shm/tmp");
      }, createSpecialDirectories: function() {
        FS.mkdir("/proc");
        var proc_self = FS.mkdir("/proc/self");
        FS.mkdir("/proc/self/fd");
        FS.mount({ mount: function() {
          var node = FS.createNode(proc_self, "fd", 16384 | 511, 73);
          node.node_ops = { lookup: function(parent, name) {
            var fd = +name;
            var stream = FS.getStream(fd);
            if (!stream)
              throw new FS.ErrnoError(8);
            var ret = { parent: null, mount: { mountpoint: "fake" }, node_ops: { readlink: function() {
              return stream.path;
            } } };
            ret.parent = ret;
            return ret;
          } };
          return node;
        } }, {}, "/proc/self/fd");
      }, createStandardStreams: function() {
        if (Module2["stdin"]) {
          FS.createDevice("/dev", "stdin", Module2["stdin"]);
        } else {
          FS.symlink("/dev/tty", "/dev/stdin");
        }
        if (Module2["stdout"]) {
          FS.createDevice("/dev", "stdout", null, Module2["stdout"]);
        } else {
          FS.symlink("/dev/tty", "/dev/stdout");
        }
        if (Module2["stderr"]) {
          FS.createDevice("/dev", "stderr", null, Module2["stderr"]);
        } else {
          FS.symlink("/dev/tty1", "/dev/stderr");
        }
        var stdin = FS.open("/dev/stdin", 0);
        var stdout = FS.open("/dev/stdout", 1);
        var stderr = FS.open("/dev/stderr", 1);
      }, ensureErrnoError: function() {
        if (FS.ErrnoError)
          return;
        FS.ErrnoError = function ErrnoError(errno, node) {
          this.node = node;
          this.setErrno = function(errno2) {
            this.errno = errno2;
          };
          this.setErrno(errno);
          this.message = "FS error";
        };
        FS.ErrnoError.prototype = new Error();
        FS.ErrnoError.prototype.constructor = FS.ErrnoError;
        [44].forEach(function(code) {
          FS.genericErrors[code] = new FS.ErrnoError(code);
          FS.genericErrors[code].stack = "<generic error, no stack>";
        });
      }, staticInit: function() {
        FS.ensureErrnoError();
        FS.nameTable = new Array(4096);
        FS.mount(MEMFS, {}, "/");
        FS.createDefaultDirectories();
        FS.createDefaultDevices();
        FS.createSpecialDirectories();
        FS.filesystems = { "MEMFS": MEMFS };
      }, init: function(input, output, error) {
        FS.init.initialized = true;
        FS.ensureErrnoError();
        Module2["stdin"] = input || Module2["stdin"];
        Module2["stdout"] = output || Module2["stdout"];
        Module2["stderr"] = error || Module2["stderr"];
        FS.createStandardStreams();
      }, quit: function() {
        FS.init.initialized = false;
        var fflush = Module2["_fflush"];
        if (fflush)
          fflush(0);
        for (var i = 0; i < FS.streams.length; i++) {
          var stream = FS.streams[i];
          if (!stream) {
            continue;
          }
          FS.close(stream);
        }
      }, getMode: function(canRead, canWrite) {
        var mode = 0;
        if (canRead)
          mode |= 292 | 73;
        if (canWrite)
          mode |= 146;
        return mode;
      }, findObject: function(path, dontResolveLastLink) {
        var ret = FS.analyzePath(path, dontResolveLastLink);
        if (ret.exists) {
          return ret.object;
        } else {
          return null;
        }
      }, analyzePath: function(path, dontResolveLastLink) {
        try {
          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });
          path = lookup.path;
        } catch (e) {
        }
        var ret = { isRoot: false, exists: false, error: 0, name: null, path: null, object: null, parentExists: false, parentPath: null, parentObject: null };
        try {
          var lookup = FS.lookupPath(path, { parent: true });
          ret.parentExists = true;
          ret.parentPath = lookup.path;
          ret.parentObject = lookup.node;
          ret.name = PATH.basename(path);
          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });
          ret.exists = true;
          ret.path = lookup.path;
          ret.object = lookup.node;
          ret.name = lookup.node.name;
          ret.isRoot = lookup.path === "/";
        } catch (e) {
          ret.error = e.errno;
        }
        return ret;
      }, createPath: function(parent, path, canRead, canWrite) {
        parent = typeof parent === "string" ? parent : FS.getPath(parent);
        var parts = path.split("/").reverse();
        while (parts.length) {
          var part = parts.pop();
          if (!part)
            continue;
          var current = PATH.join2(parent, part);
          try {
            FS.mkdir(current);
          } catch (e) {
          }
          parent = current;
        }
        return current;
      }, createFile: function(parent, name, properties, canRead, canWrite) {
        var path = PATH.join2(typeof parent === "string" ? parent : FS.getPath(parent), name);
        var mode = FS.getMode(canRead, canWrite);
        return FS.create(path, mode);
      }, createDataFile: function(parent, name, data, canRead, canWrite, canOwn) {
        var path = name ? PATH.join2(typeof parent === "string" ? parent : FS.getPath(parent), name) : parent;
        var mode = FS.getMode(canRead, canWrite);
        var node = FS.create(path, mode);
        if (data) {
          if (typeof data === "string") {
            var arr = new Array(data.length);
            for (var i = 0, len = data.length; i < len; ++i)
              arr[i] = data.charCodeAt(i);
            data = arr;
          }
          FS.chmod(node, mode | 146);
          var stream = FS.open(node, 577);
          FS.write(stream, data, 0, data.length, 0, canOwn);
          FS.close(stream);
          FS.chmod(node, mode);
        }
        return node;
      }, createDevice: function(parent, name, input, output) {
        var path = PATH.join2(typeof parent === "string" ? parent : FS.getPath(parent), name);
        var mode = FS.getMode(!!input, !!output);
        if (!FS.createDevice.major)
          FS.createDevice.major = 64;
        var dev = FS.makedev(FS.createDevice.major++, 0);
        FS.registerDevice(dev, { open: function(stream) {
          stream.seekable = false;
        }, close: function(stream) {
          if (output && output.buffer && output.buffer.length) {
            output(10);
          }
        }, read: function(stream, buffer2, offset, length, pos) {
          var bytesRead = 0;
          for (var i = 0; i < length; i++) {
            var result;
            try {
              result = input();
            } catch (e) {
              throw new FS.ErrnoError(29);
            }
            if (result === void 0 && bytesRead === 0) {
              throw new FS.ErrnoError(6);
            }
            if (result === null || result === void 0)
              break;
            bytesRead++;
            buffer2[offset + i] = result;
          }
          if (bytesRead) {
            stream.node.timestamp = Date.now();
          }
          return bytesRead;
        }, write: function(stream, buffer2, offset, length, pos) {
          for (var i = 0; i < length; i++) {
            try {
              output(buffer2[offset + i]);
            } catch (e) {
              throw new FS.ErrnoError(29);
            }
          }
          if (length) {
            stream.node.timestamp = Date.now();
          }
          return i;
        } });
        return FS.mkdev(path, mode, dev);
      }, forceLoadFile: function(obj) {
        if (obj.isDevice || obj.isFolder || obj.link || obj.contents)
          return true;
        if (typeof XMLHttpRequest !== "undefined") {
          throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
        } else if (read_) {
          try {
            obj.contents = intArrayFromString(read_(obj.url), true);
            obj.usedBytes = obj.contents.length;
          } catch (e) {
            throw new FS.ErrnoError(29);
          }
        } else {
          throw new Error("Cannot load without read() or XMLHttpRequest.");
        }
      }, createLazyFile: function(parent, name, url, canRead, canWrite) {
        function LazyUint8Array() {
          this.lengthKnown = false;
          this.chunks = [];
        }
        LazyUint8Array.prototype.get = function LazyUint8Array_get(idx) {
          if (idx > this.length - 1 || idx < 0) {
            return void 0;
          }
          var chunkOffset = idx % this.chunkSize;
          var chunkNum = idx / this.chunkSize | 0;
          return this.getter(chunkNum)[chunkOffset];
        };
        LazyUint8Array.prototype.setDataGetter = function LazyUint8Array_setDataGetter(getter) {
          this.getter = getter;
        };
        LazyUint8Array.prototype.cacheLength = function LazyUint8Array_cacheLength() {
          var xhr = new XMLHttpRequest();
          xhr.open("HEAD", url, false);
          xhr.send(null);
          if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304))
            throw new Error("Couldn't load " + url + ". Status: " + xhr.status);
          var datalength = Number(xhr.getResponseHeader("Content-length"));
          var header;
          var hasByteServing = (header = xhr.getResponseHeader("Accept-Ranges")) && header === "bytes";
          var usesGzip = (header = xhr.getResponseHeader("Content-Encoding")) && header === "gzip";
          var chunkSize = 1024 * 1024;
          if (!hasByteServing)
            chunkSize = datalength;
          var doXHR = function(from, to) {
            if (from > to)
              throw new Error("invalid range (" + from + ", " + to + ") or no bytes requested!");
            if (to > datalength - 1)
              throw new Error("only " + datalength + " bytes available! programmer error!");
            var xhr2 = new XMLHttpRequest();
            xhr2.open("GET", url, false);
            if (datalength !== chunkSize)
              xhr2.setRequestHeader("Range", "bytes=" + from + "-" + to);
            if (typeof Uint8Array != "undefined")
              xhr2.responseType = "arraybuffer";
            if (xhr2.overrideMimeType) {
              xhr2.overrideMimeType("text/plain; charset=x-user-defined");
            }
            xhr2.send(null);
            if (!(xhr2.status >= 200 && xhr2.status < 300 || xhr2.status === 304))
              throw new Error("Couldn't load " + url + ". Status: " + xhr2.status);
            if (xhr2.response !== void 0) {
              return new Uint8Array(xhr2.response || []);
            } else {
              return intArrayFromString(xhr2.responseText || "", true);
            }
          };
          var lazyArray2 = this;
          lazyArray2.setDataGetter(function(chunkNum) {
            var start4 = chunkNum * chunkSize;
            var end3 = (chunkNum + 1) * chunkSize - 1;
            end3 = Math.min(end3, datalength - 1);
            if (typeof lazyArray2.chunks[chunkNum] === "undefined") {
              lazyArray2.chunks[chunkNum] = doXHR(start4, end3);
            }
            if (typeof lazyArray2.chunks[chunkNum] === "undefined")
              throw new Error("doXHR failed!");
            return lazyArray2.chunks[chunkNum];
          });
          if (usesGzip || !datalength) {
            chunkSize = datalength = 1;
            datalength = this.getter(0).length;
            chunkSize = datalength;
            out("LazyFiles on gzip forces download of the whole file when length is accessed");
          }
          this._length = datalength;
          this._chunkSize = chunkSize;
          this.lengthKnown = true;
        };
        if (typeof XMLHttpRequest !== "undefined") {
          if (!ENVIRONMENT_IS_WORKER)
            throw "Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";
          var lazyArray = new LazyUint8Array();
          Object.defineProperties(lazyArray, { length: { get: function() {
            if (!this.lengthKnown) {
              this.cacheLength();
            }
            return this._length;
          } }, chunkSize: { get: function() {
            if (!this.lengthKnown) {
              this.cacheLength();
            }
            return this._chunkSize;
          } } });
          var properties = { isDevice: false, contents: lazyArray };
        } else {
          var properties = { isDevice: false, url };
        }
        var node = FS.createFile(parent, name, properties, canRead, canWrite);
        if (properties.contents) {
          node.contents = properties.contents;
        } else if (properties.url) {
          node.contents = null;
          node.url = properties.url;
        }
        Object.defineProperties(node, { usedBytes: { get: function() {
          return this.contents.length;
        } } });
        var stream_ops = {};
        var keys = Object.keys(node.stream_ops);
        keys.forEach(function(key2) {
          var fn = node.stream_ops[key2];
          stream_ops[key2] = function forceLoadLazyFile() {
            FS.forceLoadFile(node);
            return fn.apply(null, arguments);
          };
        });
        stream_ops.read = function stream_ops_read(stream, buffer2, offset, length, position) {
          FS.forceLoadFile(node);
          var contents = stream.node.contents;
          if (position >= contents.length)
            return 0;
          var size = Math.min(contents.length - position, length);
          if (contents.slice) {
            for (var i = 0; i < size; i++) {
              buffer2[offset + i] = contents[position + i];
            }
          } else {
            for (var i = 0; i < size; i++) {
              buffer2[offset + i] = contents.get(position + i);
            }
          }
          return size;
        };
        node.stream_ops = stream_ops;
        return node;
      }, createPreloadedFile: function(parent, name, url, canRead, canWrite, onload, onerror, dontCreateFile, canOwn, preFinish) {
        Browser.init();
        var fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;
        var dep = getUniqueRunDependency("cp " + fullname);
        function processData(byteArray) {
          function finish(byteArray2) {
            if (preFinish)
              preFinish();
            if (!dontCreateFile) {
              FS.createDataFile(parent, name, byteArray2, canRead, canWrite, canOwn);
            }
            if (onload)
              onload();
            removeRunDependency(dep);
          }
          var handled = false;
          Module2["preloadPlugins"].forEach(function(plugin) {
            if (handled)
              return;
            if (plugin["canHandle"](fullname)) {
              plugin["handle"](byteArray, fullname, finish, function() {
                if (onerror)
                  onerror();
                removeRunDependency(dep);
              });
              handled = true;
            }
          });
          if (!handled)
            finish(byteArray);
        }
        addRunDependency(dep);
        if (typeof url == "string") {
          asyncLoad(url, function(byteArray) {
            processData(byteArray);
          }, onerror);
        } else {
          processData(url);
        }
      }, indexedDB: function() {
        return window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
      }, DB_NAME: function() {
        return "EM_FS_" + window.location.pathname;
      }, DB_VERSION: 20, DB_STORE_NAME: "FILE_DATA", saveFilesToDB: function(paths, onload, onerror) {
        onload = onload || function() {
        };
        onerror = onerror || function() {
        };
        var indexedDB2 = FS.indexedDB();
        try {
          var openRequest = indexedDB2.open(FS.DB_NAME(), FS.DB_VERSION);
        } catch (e) {
          return onerror(e);
        }
        openRequest.onupgradeneeded = function openRequest_onupgradeneeded() {
          out("creating db");
          var db = openRequest.result;
          db.createObjectStore(FS.DB_STORE_NAME);
        };
        openRequest.onsuccess = function openRequest_onsuccess() {
          var db = openRequest.result;
          var transaction = db.transaction([FS.DB_STORE_NAME], "readwrite");
          var files3 = transaction.objectStore(FS.DB_STORE_NAME);
          var ok = 0, fail = 0, total = paths.length;
          function finish() {
            if (fail == 0)
              onload();
            else
              onerror();
          }
          paths.forEach(function(path) {
            var putRequest = files3.put(FS.analyzePath(path).object.contents, path);
            putRequest.onsuccess = function putRequest_onsuccess() {
              ok++;
              if (ok + fail == total)
                finish();
            };
            putRequest.onerror = function putRequest_onerror() {
              fail++;
              if (ok + fail == total)
                finish();
            };
          });
          transaction.onerror = onerror;
        };
        openRequest.onerror = onerror;
      }, loadFilesFromDB: function(paths, onload, onerror) {
        onload = onload || function() {
        };
        onerror = onerror || function() {
        };
        var indexedDB2 = FS.indexedDB();
        try {
          var openRequest = indexedDB2.open(FS.DB_NAME(), FS.DB_VERSION);
        } catch (e) {
          return onerror(e);
        }
        openRequest.onupgradeneeded = onerror;
        openRequest.onsuccess = function openRequest_onsuccess() {
          var db = openRequest.result;
          try {
            var transaction = db.transaction([FS.DB_STORE_NAME], "readonly");
          } catch (e) {
            onerror(e);
            return;
          }
          var files3 = transaction.objectStore(FS.DB_STORE_NAME);
          var ok = 0, fail = 0, total = paths.length;
          function finish() {
            if (fail == 0)
              onload();
            else
              onerror();
          }
          paths.forEach(function(path) {
            var getRequest = files3.get(path);
            getRequest.onsuccess = function getRequest_onsuccess() {
              if (FS.analyzePath(path).exists) {
                FS.unlink(path);
              }
              FS.createDataFile(PATH.dirname(path), PATH.basename(path), getRequest.result, true, true, true);
              ok++;
              if (ok + fail == total)
                finish();
            };
            getRequest.onerror = function getRequest_onerror() {
              fail++;
              if (ok + fail == total)
                finish();
            };
          });
          transaction.onerror = onerror;
        };
        openRequest.onerror = onerror;
      } };
      var SYSCALLS = { mappings: {}, DEFAULT_POLLMASK: 5, calculateAt: function(dirfd, path, allowEmpty) {
        if (path[0] === "/") {
          return path;
        }
        var dir;
        if (dirfd === -100) {
          dir = FS.cwd();
        } else {
          var dirstream = FS.getStream(dirfd);
          if (!dirstream)
            throw new FS.ErrnoError(8);
          dir = dirstream.path;
        }
        if (path.length == 0) {
          if (!allowEmpty) {
            throw new FS.ErrnoError(44);
          }
          return dir;
        }
        return PATH.join2(dir, path);
      }, doStat: function(func, path, buf) {
        try {
          var stat = func(path);
        } catch (e) {
          if (e && e.node && PATH.normalize(path) !== PATH.normalize(FS.getPath(e.node))) {
            return -54;
          }
          throw e;
        }
        HEAP32[buf >> 2] = stat.dev;
        HEAP32[buf + 4 >> 2] = 0;
        HEAP32[buf + 8 >> 2] = stat.ino;
        HEAP32[buf + 12 >> 2] = stat.mode;
        HEAP32[buf + 16 >> 2] = stat.nlink;
        HEAP32[buf + 20 >> 2] = stat.uid;
        HEAP32[buf + 24 >> 2] = stat.gid;
        HEAP32[buf + 28 >> 2] = stat.rdev;
        HEAP32[buf + 32 >> 2] = 0;
        tempI64 = [stat.size >>> 0, (tempDouble = stat.size, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math.min(+Math.floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[buf + 40 >> 2] = tempI64[0], HEAP32[buf + 44 >> 2] = tempI64[1];
        HEAP32[buf + 48 >> 2] = 4096;
        HEAP32[buf + 52 >> 2] = stat.blocks;
        HEAP32[buf + 56 >> 2] = stat.atime.getTime() / 1e3 | 0;
        HEAP32[buf + 60 >> 2] = 0;
        HEAP32[buf + 64 >> 2] = stat.mtime.getTime() / 1e3 | 0;
        HEAP32[buf + 68 >> 2] = 0;
        HEAP32[buf + 72 >> 2] = stat.ctime.getTime() / 1e3 | 0;
        HEAP32[buf + 76 >> 2] = 0;
        tempI64 = [stat.ino >>> 0, (tempDouble = stat.ino, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math.min(+Math.floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[buf + 80 >> 2] = tempI64[0], HEAP32[buf + 84 >> 2] = tempI64[1];
        return 0;
      }, doMsync: function(addr, stream, len, flags, offset) {
        var buffer2 = HEAPU8.slice(addr, addr + len);
        FS.msync(stream, buffer2, offset, len, flags);
      }, doMkdir: function(path, mode) {
        path = PATH.normalize(path);
        if (path[path.length - 1] === "/")
          path = path.substr(0, path.length - 1);
        FS.mkdir(path, mode, 0);
        return 0;
      }, doMknod: function(path, mode, dev) {
        switch (mode & 61440) {
          case 32768:
          case 8192:
          case 24576:
          case 4096:
          case 49152:
            break;
          default:
            return -28;
        }
        FS.mknod(path, mode, dev);
        return 0;
      }, doReadlink: function(path, buf, bufsize) {
        if (bufsize <= 0)
          return -28;
        var ret = FS.readlink(path);
        var len = Math.min(bufsize, lengthBytesUTF8(ret));
        var endChar = HEAP8[buf + len];
        stringToUTF8(ret, buf, bufsize + 1);
        HEAP8[buf + len] = endChar;
        return len;
      }, doAccess: function(path, amode) {
        if (amode & ~7) {
          return -28;
        }
        var lookup = FS.lookupPath(path, { follow: true });
        var node = lookup.node;
        if (!node) {
          return -44;
        }
        var perms = "";
        if (amode & 4)
          perms += "r";
        if (amode & 2)
          perms += "w";
        if (amode & 1)
          perms += "x";
        if (perms && FS.nodePermissions(node, perms)) {
          return -2;
        }
        return 0;
      }, doDup: function(path, flags, suggestFD) {
        var suggest = FS.getStream(suggestFD);
        if (suggest)
          FS.close(suggest);
        return FS.open(path, flags, 0, suggestFD, suggestFD).fd;
      }, doReadv: function(stream, iov, iovcnt, offset) {
        var ret = 0;
        for (var i = 0; i < iovcnt; i++) {
          var ptr = HEAP32[iov + i * 8 >> 2];
          var len = HEAP32[iov + (i * 8 + 4) >> 2];
          var curr = FS.read(stream, HEAP8, ptr, len, offset);
          if (curr < 0)
            return -1;
          ret += curr;
          if (curr < len)
            break;
        }
        return ret;
      }, doWritev: function(stream, iov, iovcnt, offset) {
        var ret = 0;
        for (var i = 0; i < iovcnt; i++) {
          var ptr = HEAP32[iov + i * 8 >> 2];
          var len = HEAP32[iov + (i * 8 + 4) >> 2];
          var curr = FS.write(stream, HEAP8, ptr, len, offset);
          if (curr < 0)
            return -1;
          ret += curr;
        }
        return ret;
      }, varargs: void 0, get: function() {
        SYSCALLS.varargs += 4;
        var ret = HEAP32[SYSCALLS.varargs - 4 >> 2];
        return ret;
      }, getStr: function(ptr) {
        var ret = UTF8ToString(ptr);
        return ret;
      }, getStreamFromFD: function(fd) {
        var stream = FS.getStream(fd);
        if (!stream)
          throw new FS.ErrnoError(8);
        return stream;
      }, get64: function(low, high) {
        return low;
      } };
      function ___syscall_fcntl64(fd, cmd, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          switch (cmd) {
            case 0: {
              var arg = SYSCALLS.get();
              if (arg < 0) {
                return -28;
              }
              var newStream;
              newStream = FS.open(stream.path, stream.flags, 0, arg);
              return newStream.fd;
            }
            case 1:
            case 2:
              return 0;
            case 3:
              return stream.flags;
            case 4: {
              var arg = SYSCALLS.get();
              stream.flags |= arg;
              return 0;
            }
            case 5: {
              var arg = SYSCALLS.get();
              var offset = 0;
              HEAP16[arg + offset >> 1] = 2;
              return 0;
            }
            case 6:
            case 7:
              return 0;
            case 16:
            case 8:
              return -28;
            case 9:
              setErrNo(28);
              return -1;
            default: {
              return -28;
            }
          }
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_fstat64(fd, buf) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          return SYSCALLS.doStat(FS.stat, stream.path, buf);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_fstatat64(dirfd, path, buf, flags) {
        try {
          path = SYSCALLS.getStr(path);
          var nofollow = flags & 256;
          var allowEmpty = flags & 4096;
          flags = flags & ~4352;
          path = SYSCALLS.calculateAt(dirfd, path, allowEmpty);
          return SYSCALLS.doStat(nofollow ? FS.lstat : FS.stat, path, buf);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_ioctl(fd, op, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          switch (op) {
            case 21509:
            case 21505: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            case 21510:
            case 21511:
            case 21512:
            case 21506:
            case 21507:
            case 21508: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            case 21519: {
              if (!stream.tty)
                return -59;
              var argp = SYSCALLS.get();
              HEAP32[argp >> 2] = 0;
              return 0;
            }
            case 21520: {
              if (!stream.tty)
                return -59;
              return -28;
            }
            case 21531: {
              var argp = SYSCALLS.get();
              return FS.ioctl(stream, op, argp);
            }
            case 21523: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            case 21524: {
              if (!stream.tty)
                return -59;
              return 0;
            }
            default:
              abort("bad ioctl syscall " + op);
          }
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function syscallMmap2(addr, len, prot, flags, fd, off) {
        off <<= 12;
        var ptr;
        var allocated = false;
        if ((flags & 16) !== 0 && addr % 65536 !== 0) {
          return -28;
        }
        if ((flags & 32) !== 0) {
          ptr = mmapAlloc(len);
          if (!ptr)
            return -48;
          allocated = true;
        } else {
          var info = FS.getStream(fd);
          if (!info)
            return -8;
          var res = FS.mmap(info, addr, len, off, prot, flags);
          ptr = res.ptr;
          allocated = res.allocated;
        }
        SYSCALLS.mappings[ptr] = { malloc: ptr, len, allocated, fd, prot, flags, offset: off };
        return ptr;
      }
      function ___syscall_mmap2(addr, len, prot, flags, fd, off) {
        try {
          return syscallMmap2(addr, len, prot, flags, fd, off);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function syscallMunmap(addr, len) {
        var info = SYSCALLS.mappings[addr];
        if (len === 0 || !info) {
          return -28;
        }
        if (len === info.len) {
          var stream = FS.getStream(info.fd);
          if (stream) {
            if (info.prot & 2) {
              SYSCALLS.doMsync(addr, stream, len, info.flags, info.offset);
            }
            FS.munmap(stream);
          }
          SYSCALLS.mappings[addr] = null;
          if (info.allocated) {
            _free(info.malloc);
          }
        }
        return 0;
      }
      function ___syscall_munmap(addr, len) {
        try {
          return syscallMunmap(addr, len);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_open(path, flags, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var pathname = SYSCALLS.getStr(path);
          var mode = varargs ? SYSCALLS.get() : 0;
          var stream = FS.open(pathname, flags, mode);
          return stream.fd;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function ___syscall_stat64(path, buf) {
        try {
          path = SYSCALLS.getStr(path);
          return SYSCALLS.doStat(FS.stat, path, buf);
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return -e.errno;
        }
      }
      function __embind_register_bigint(primitiveType, name, size, minRange, maxRange) {
      }
      function getShiftFromSize(size) {
        switch (size) {
          case 1:
            return 0;
          case 2:
            return 1;
          case 4:
            return 2;
          case 8:
            return 3;
          default:
            throw new TypeError("Unknown type size: " + size);
        }
      }
      function embind_init_charCodes() {
        var codes = new Array(256);
        for (var i = 0; i < 256; ++i) {
          codes[i] = String.fromCharCode(i);
        }
        embind_charCodes = codes;
      }
      var embind_charCodes = void 0;
      function readLatin1String(ptr) {
        var ret = "";
        var c = ptr;
        while (HEAPU8[c]) {
          ret += embind_charCodes[HEAPU8[c++]];
        }
        return ret;
      }
      var awaitingDependencies = {};
      var registeredTypes = {};
      var typeDependencies = {};
      var char_0 = 48;
      var char_9 = 57;
      function makeLegalFunctionName(name) {
        if (void 0 === name) {
          return "_unknown";
        }
        name = name.replace(/[^a-zA-Z0-9_]/g, "$");
        var f = name.charCodeAt(0);
        if (f >= char_0 && f <= char_9) {
          return "_" + name;
        } else {
          return name;
        }
      }
      function createNamedFunction(name, body) {
        name = makeLegalFunctionName(name);
        return new Function("body", "return function " + name + '() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(body);
      }
      function extendError(baseErrorType, errorName) {
        var errorClass = createNamedFunction(errorName, function(message) {
          this.name = errorName;
          this.message = message;
          var stack = new Error(message).stack;
          if (stack !== void 0) {
            this.stack = this.toString() + "\n" + stack.replace(/^Error(:[^\n]*)?\n/, "");
          }
        });
        errorClass.prototype = Object.create(baseErrorType.prototype);
        errorClass.prototype.constructor = errorClass;
        errorClass.prototype.toString = function() {
          if (this.message === void 0) {
            return this.name;
          } else {
            return this.name + ": " + this.message;
          }
        };
        return errorClass;
      }
      var BindingError = void 0;
      function throwBindingError(message) {
        throw new BindingError(message);
      }
      var InternalError = void 0;
      function throwInternalError(message) {
        throw new InternalError(message);
      }
      function whenDependentTypesAreResolved(myTypes, dependentTypes, getTypeConverters) {
        myTypes.forEach(function(type) {
          typeDependencies[type] = dependentTypes;
        });
        function onComplete(typeConverters2) {
          var myTypeConverters = getTypeConverters(typeConverters2);
          if (myTypeConverters.length !== myTypes.length) {
            throwInternalError("Mismatched type converter count");
          }
          for (var i = 0; i < myTypes.length; ++i) {
            registerType(myTypes[i], myTypeConverters[i]);
          }
        }
        var typeConverters = new Array(dependentTypes.length);
        var unregisteredTypes = [];
        var registered = 0;
        dependentTypes.forEach(function(dt, i) {
          if (registeredTypes.hasOwnProperty(dt)) {
            typeConverters[i] = registeredTypes[dt];
          } else {
            unregisteredTypes.push(dt);
            if (!awaitingDependencies.hasOwnProperty(dt)) {
              awaitingDependencies[dt] = [];
            }
            awaitingDependencies[dt].push(function() {
              typeConverters[i] = registeredTypes[dt];
              ++registered;
              if (registered === unregisteredTypes.length) {
                onComplete(typeConverters);
              }
            });
          }
        });
        if (0 === unregisteredTypes.length) {
          onComplete(typeConverters);
        }
      }
      function registerType(rawType, registeredInstance, options) {
        options = options || {};
        if (!("argPackAdvance" in registeredInstance)) {
          throw new TypeError("registerType registeredInstance requires argPackAdvance");
        }
        var name = registeredInstance.name;
        if (!rawType) {
          throwBindingError('type "' + name + '" must have a positive integer typeid pointer');
        }
        if (registeredTypes.hasOwnProperty(rawType)) {
          if (options.ignoreDuplicateRegistrations) {
            return;
          } else {
            throwBindingError("Cannot register type '" + name + "' twice");
          }
        }
        registeredTypes[rawType] = registeredInstance;
        delete typeDependencies[rawType];
        if (awaitingDependencies.hasOwnProperty(rawType)) {
          var callbacks = awaitingDependencies[rawType];
          delete awaitingDependencies[rawType];
          callbacks.forEach(function(cb) {
            cb();
          });
        }
      }
      function __embind_register_bool(rawType, name, size, trueValue, falseValue) {
        var shift = getShiftFromSize(size);
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": function(wt) {
          return !!wt;
        }, "toWireType": function(destructors, o) {
          return o ? trueValue : falseValue;
        }, "argPackAdvance": 8, "readValueFromPointer": function(pointer) {
          var heap;
          if (size === 1) {
            heap = HEAP8;
          } else if (size === 2) {
            heap = HEAP16;
          } else if (size === 4) {
            heap = HEAP32;
          } else {
            throw new TypeError("Unknown boolean type size: " + name);
          }
          return this["fromWireType"](heap[pointer >> shift]);
        }, destructorFunction: null });
      }
      function ClassHandle_isAliasOf(other) {
        if (!(this instanceof ClassHandle)) {
          return false;
        }
        if (!(other instanceof ClassHandle)) {
          return false;
        }
        var leftClass = this.$$.ptrType.registeredClass;
        var left = this.$$.ptr;
        var rightClass = other.$$.ptrType.registeredClass;
        var right = other.$$.ptr;
        while (leftClass.baseClass) {
          left = leftClass.upcast(left);
          leftClass = leftClass.baseClass;
        }
        while (rightClass.baseClass) {
          right = rightClass.upcast(right);
          rightClass = rightClass.baseClass;
        }
        return leftClass === rightClass && left === right;
      }
      function shallowCopyInternalPointer(o) {
        return { count: o.count, deleteScheduled: o.deleteScheduled, preservePointerOnDelete: o.preservePointerOnDelete, ptr: o.ptr, ptrType: o.ptrType, smartPtr: o.smartPtr, smartPtrType: o.smartPtrType };
      }
      function throwInstanceAlreadyDeleted(obj) {
        function getInstanceTypeName(handle) {
          return handle.$$.ptrType.registeredClass.name;
        }
        throwBindingError(getInstanceTypeName(obj) + " instance already deleted");
      }
      var finalizationGroup = false;
      function detachFinalizer(handle) {
      }
      function runDestructor($$) {
        if ($$.smartPtr) {
          $$.smartPtrType.rawDestructor($$.smartPtr);
        } else {
          $$.ptrType.registeredClass.rawDestructor($$.ptr);
        }
      }
      function releaseClassHandle($$) {
        $$.count.value -= 1;
        var toDelete = 0 === $$.count.value;
        if (toDelete) {
          runDestructor($$);
        }
      }
      function attachFinalizer(handle) {
        if ("undefined" === typeof FinalizationGroup) {
          attachFinalizer = function(handle2) {
            return handle2;
          };
          return handle;
        }
        finalizationGroup = new FinalizationGroup(function(iter) {
          for (var result = iter.next(); !result.done; result = iter.next()) {
            var $$ = result.value;
            if (!$$.ptr) {
              console.warn("object already deleted: " + $$.ptr);
            } else {
              releaseClassHandle($$);
            }
          }
        });
        attachFinalizer = function(handle2) {
          finalizationGroup.register(handle2, handle2.$$, handle2.$$);
          return handle2;
        };
        detachFinalizer = function(handle2) {
          finalizationGroup.unregister(handle2.$$);
        };
        return attachFinalizer(handle);
      }
      function ClassHandle_clone() {
        if (!this.$$.ptr) {
          throwInstanceAlreadyDeleted(this);
        }
        if (this.$$.preservePointerOnDelete) {
          this.$$.count.value += 1;
          return this;
        } else {
          var clone = attachFinalizer(Object.create(Object.getPrototypeOf(this), { $$: { value: shallowCopyInternalPointer(this.$$) } }));
          clone.$$.count.value += 1;
          clone.$$.deleteScheduled = false;
          return clone;
        }
      }
      function ClassHandle_delete() {
        if (!this.$$.ptr) {
          throwInstanceAlreadyDeleted(this);
        }
        if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {
          throwBindingError("Object already scheduled for deletion");
        }
        detachFinalizer(this);
        releaseClassHandle(this.$$);
        if (!this.$$.preservePointerOnDelete) {
          this.$$.smartPtr = void 0;
          this.$$.ptr = void 0;
        }
      }
      function ClassHandle_isDeleted() {
        return !this.$$.ptr;
      }
      var delayFunction = void 0;
      var deletionQueue = [];
      function flushPendingDeletes() {
        while (deletionQueue.length) {
          var obj = deletionQueue.pop();
          obj.$$.deleteScheduled = false;
          obj["delete"]();
        }
      }
      function ClassHandle_deleteLater() {
        if (!this.$$.ptr) {
          throwInstanceAlreadyDeleted(this);
        }
        if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {
          throwBindingError("Object already scheduled for deletion");
        }
        deletionQueue.push(this);
        if (deletionQueue.length === 1 && delayFunction) {
          delayFunction(flushPendingDeletes);
        }
        this.$$.deleteScheduled = true;
        return this;
      }
      function init_ClassHandle() {
        ClassHandle.prototype["isAliasOf"] = ClassHandle_isAliasOf;
        ClassHandle.prototype["clone"] = ClassHandle_clone;
        ClassHandle.prototype["delete"] = ClassHandle_delete;
        ClassHandle.prototype["isDeleted"] = ClassHandle_isDeleted;
        ClassHandle.prototype["deleteLater"] = ClassHandle_deleteLater;
      }
      function ClassHandle() {
      }
      var registeredPointers = {};
      function ensureOverloadTable(proto, methodName, humanName) {
        if (void 0 === proto[methodName].overloadTable) {
          var prevFunc = proto[methodName];
          proto[methodName] = function() {
            if (!proto[methodName].overloadTable.hasOwnProperty(arguments.length)) {
              throwBindingError("Function '" + humanName + "' called with an invalid number of arguments (" + arguments.length + ") - expects one of (" + proto[methodName].overloadTable + ")!");
            }
            return proto[methodName].overloadTable[arguments.length].apply(this, arguments);
          };
          proto[methodName].overloadTable = [];
          proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;
        }
      }
      function exposePublicSymbol(name, value, numArguments) {
        if (Module2.hasOwnProperty(name)) {
          if (void 0 === numArguments || void 0 !== Module2[name].overloadTable && void 0 !== Module2[name].overloadTable[numArguments]) {
            throwBindingError("Cannot register public name '" + name + "' twice");
          }
          ensureOverloadTable(Module2, name, name);
          if (Module2.hasOwnProperty(numArguments)) {
            throwBindingError("Cannot register multiple overloads of a function with the same number of arguments (" + numArguments + ")!");
          }
          Module2[name].overloadTable[numArguments] = value;
        } else {
          Module2[name] = value;
          if (void 0 !== numArguments) {
            Module2[name].numArguments = numArguments;
          }
        }
      }
      function RegisteredClass(name, constructor, instancePrototype, rawDestructor, baseClass, getActualType, upcast, downcast) {
        this.name = name;
        this.constructor = constructor;
        this.instancePrototype = instancePrototype;
        this.rawDestructor = rawDestructor;
        this.baseClass = baseClass;
        this.getActualType = getActualType;
        this.upcast = upcast;
        this.downcast = downcast;
        this.pureVirtualFunctions = [];
      }
      function upcastPointer(ptr, ptrClass, desiredClass) {
        while (ptrClass !== desiredClass) {
          if (!ptrClass.upcast) {
            throwBindingError("Expected null or instance of " + desiredClass.name + ", got an instance of " + ptrClass.name);
          }
          ptr = ptrClass.upcast(ptr);
          ptrClass = ptrClass.baseClass;
        }
        return ptr;
      }
      function constNoSmartPtrRawPointerToWireType(destructors, handle) {
        if (handle === null) {
          if (this.isReference) {
            throwBindingError("null is not a valid " + this.name);
          }
          return 0;
        }
        if (!handle.$$) {
          throwBindingError('Cannot pass "' + _embind_repr(handle) + '" as a ' + this.name);
        }
        if (!handle.$$.ptr) {
          throwBindingError("Cannot pass deleted object as a pointer of type " + this.name);
        }
        var handleClass = handle.$$.ptrType.registeredClass;
        var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);
        return ptr;
      }
      function genericPointerToWireType(destructors, handle) {
        var ptr;
        if (handle === null) {
          if (this.isReference) {
            throwBindingError("null is not a valid " + this.name);
          }
          if (this.isSmartPointer) {
            ptr = this.rawConstructor();
            if (destructors !== null) {
              destructors.push(this.rawDestructor, ptr);
            }
            return ptr;
          } else {
            return 0;
          }
        }
        if (!handle.$$) {
          throwBindingError('Cannot pass "' + _embind_repr(handle) + '" as a ' + this.name);
        }
        if (!handle.$$.ptr) {
          throwBindingError("Cannot pass deleted object as a pointer of type " + this.name);
        }
        if (!this.isConst && handle.$$.ptrType.isConst) {
          throwBindingError("Cannot convert argument of type " + (handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name) + " to parameter type " + this.name);
        }
        var handleClass = handle.$$.ptrType.registeredClass;
        ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);
        if (this.isSmartPointer) {
          if (void 0 === handle.$$.smartPtr) {
            throwBindingError("Passing raw pointer to smart pointer is illegal");
          }
          switch (this.sharingPolicy) {
            case 0:
              if (handle.$$.smartPtrType === this) {
                ptr = handle.$$.smartPtr;
              } else {
                throwBindingError("Cannot convert argument of type " + (handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name) + " to parameter type " + this.name);
              }
              break;
            case 1:
              ptr = handle.$$.smartPtr;
              break;
            case 2:
              if (handle.$$.smartPtrType === this) {
                ptr = handle.$$.smartPtr;
              } else {
                var clonedHandle = handle["clone"]();
                ptr = this.rawShare(ptr, Emval.toHandle(function() {
                  clonedHandle["delete"]();
                }));
                if (destructors !== null) {
                  destructors.push(this.rawDestructor, ptr);
                }
              }
              break;
            default:
              throwBindingError("Unsupporting sharing policy");
          }
        }
        return ptr;
      }
      function nonConstNoSmartPtrRawPointerToWireType(destructors, handle) {
        if (handle === null) {
          if (this.isReference) {
            throwBindingError("null is not a valid " + this.name);
          }
          return 0;
        }
        if (!handle.$$) {
          throwBindingError('Cannot pass "' + _embind_repr(handle) + '" as a ' + this.name);
        }
        if (!handle.$$.ptr) {
          throwBindingError("Cannot pass deleted object as a pointer of type " + this.name);
        }
        if (handle.$$.ptrType.isConst) {
          throwBindingError("Cannot convert argument of type " + handle.$$.ptrType.name + " to parameter type " + this.name);
        }
        var handleClass = handle.$$.ptrType.registeredClass;
        var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);
        return ptr;
      }
      function simpleReadValueFromPointer(pointer) {
        return this["fromWireType"](HEAPU32[pointer >> 2]);
      }
      function RegisteredPointer_getPointee(ptr) {
        if (this.rawGetPointee) {
          ptr = this.rawGetPointee(ptr);
        }
        return ptr;
      }
      function RegisteredPointer_destructor(ptr) {
        if (this.rawDestructor) {
          this.rawDestructor(ptr);
        }
      }
      function RegisteredPointer_deleteObject(handle) {
        if (handle !== null) {
          handle["delete"]();
        }
      }
      function downcastPointer(ptr, ptrClass, desiredClass) {
        if (ptrClass === desiredClass) {
          return ptr;
        }
        if (void 0 === desiredClass.baseClass) {
          return null;
        }
        var rv = downcastPointer(ptr, ptrClass, desiredClass.baseClass);
        if (rv === null) {
          return null;
        }
        return desiredClass.downcast(rv);
      }
      function getInheritedInstanceCount() {
        return Object.keys(registeredInstances).length;
      }
      function getLiveInheritedInstances() {
        var rv = [];
        for (var k in registeredInstances) {
          if (registeredInstances.hasOwnProperty(k)) {
            rv.push(registeredInstances[k]);
          }
        }
        return rv;
      }
      function setDelayFunction(fn) {
        delayFunction = fn;
        if (deletionQueue.length && delayFunction) {
          delayFunction(flushPendingDeletes);
        }
      }
      function init_embind() {
        Module2["getInheritedInstanceCount"] = getInheritedInstanceCount;
        Module2["getLiveInheritedInstances"] = getLiveInheritedInstances;
        Module2["flushPendingDeletes"] = flushPendingDeletes;
        Module2["setDelayFunction"] = setDelayFunction;
      }
      var registeredInstances = {};
      function getBasestPointer(class_, ptr) {
        if (ptr === void 0) {
          throwBindingError("ptr should not be undefined");
        }
        while (class_.baseClass) {
          ptr = class_.upcast(ptr);
          class_ = class_.baseClass;
        }
        return ptr;
      }
      function getInheritedInstance(class_, ptr) {
        ptr = getBasestPointer(class_, ptr);
        return registeredInstances[ptr];
      }
      function makeClassHandle(prototype, record) {
        if (!record.ptrType || !record.ptr) {
          throwInternalError("makeClassHandle requires ptr and ptrType");
        }
        var hasSmartPtrType = !!record.smartPtrType;
        var hasSmartPtr = !!record.smartPtr;
        if (hasSmartPtrType !== hasSmartPtr) {
          throwInternalError("Both smartPtrType and smartPtr must be specified");
        }
        record.count = { value: 1 };
        return attachFinalizer(Object.create(prototype, { $$: { value: record } }));
      }
      function RegisteredPointer_fromWireType(ptr) {
        var rawPointer = this.getPointee(ptr);
        if (!rawPointer) {
          this.destructor(ptr);
          return null;
        }
        var registeredInstance = getInheritedInstance(this.registeredClass, rawPointer);
        if (void 0 !== registeredInstance) {
          if (0 === registeredInstance.$$.count.value) {
            registeredInstance.$$.ptr = rawPointer;
            registeredInstance.$$.smartPtr = ptr;
            return registeredInstance["clone"]();
          } else {
            var rv = registeredInstance["clone"]();
            this.destructor(ptr);
            return rv;
          }
        }
        function makeDefaultHandle() {
          if (this.isSmartPointer) {
            return makeClassHandle(this.registeredClass.instancePrototype, { ptrType: this.pointeeType, ptr: rawPointer, smartPtrType: this, smartPtr: ptr });
          } else {
            return makeClassHandle(this.registeredClass.instancePrototype, { ptrType: this, ptr });
          }
        }
        var actualType = this.registeredClass.getActualType(rawPointer);
        var registeredPointerRecord = registeredPointers[actualType];
        if (!registeredPointerRecord) {
          return makeDefaultHandle.call(this);
        }
        var toType;
        if (this.isConst) {
          toType = registeredPointerRecord.constPointerType;
        } else {
          toType = registeredPointerRecord.pointerType;
        }
        var dp = downcastPointer(rawPointer, this.registeredClass, toType.registeredClass);
        if (dp === null) {
          return makeDefaultHandle.call(this);
        }
        if (this.isSmartPointer) {
          return makeClassHandle(toType.registeredClass.instancePrototype, { ptrType: toType, ptr: dp, smartPtrType: this, smartPtr: ptr });
        } else {
          return makeClassHandle(toType.registeredClass.instancePrototype, { ptrType: toType, ptr: dp });
        }
      }
      function init_RegisteredPointer() {
        RegisteredPointer.prototype.getPointee = RegisteredPointer_getPointee;
        RegisteredPointer.prototype.destructor = RegisteredPointer_destructor;
        RegisteredPointer.prototype["argPackAdvance"] = 8;
        RegisteredPointer.prototype["readValueFromPointer"] = simpleReadValueFromPointer;
        RegisteredPointer.prototype["deleteObject"] = RegisteredPointer_deleteObject;
        RegisteredPointer.prototype["fromWireType"] = RegisteredPointer_fromWireType;
      }
      function RegisteredPointer(name, registeredClass, isReference, isConst, isSmartPointer, pointeeType, sharingPolicy, rawGetPointee, rawConstructor, rawShare, rawDestructor) {
        this.name = name;
        this.registeredClass = registeredClass;
        this.isReference = isReference;
        this.isConst = isConst;
        this.isSmartPointer = isSmartPointer;
        this.pointeeType = pointeeType;
        this.sharingPolicy = sharingPolicy;
        this.rawGetPointee = rawGetPointee;
        this.rawConstructor = rawConstructor;
        this.rawShare = rawShare;
        this.rawDestructor = rawDestructor;
        if (!isSmartPointer && registeredClass.baseClass === void 0) {
          if (isConst) {
            this["toWireType"] = constNoSmartPtrRawPointerToWireType;
            this.destructorFunction = null;
          } else {
            this["toWireType"] = nonConstNoSmartPtrRawPointerToWireType;
            this.destructorFunction = null;
          }
        } else {
          this["toWireType"] = genericPointerToWireType;
        }
      }
      function replacePublicSymbol(name, value, numArguments) {
        if (!Module2.hasOwnProperty(name)) {
          throwInternalError("Replacing nonexistant public symbol");
        }
        if (void 0 !== Module2[name].overloadTable && void 0 !== numArguments) {
          Module2[name].overloadTable[numArguments] = value;
        } else {
          Module2[name] = value;
          Module2[name].argCount = numArguments;
        }
      }
      function dynCallLegacy(sig, ptr, args) {
        var f = Module2["dynCall_" + sig];
        return args && args.length ? f.apply(null, [ptr].concat(args)) : f.call(null, ptr);
      }
      function dynCall(sig, ptr, args) {
        if (sig.includes("j")) {
          return dynCallLegacy(sig, ptr, args);
        }
        return getWasmTableEntry(ptr).apply(null, args);
      }
      function getDynCaller(sig, ptr) {
        var argCache = [];
        return function() {
          argCache.length = arguments.length;
          for (var i = 0; i < arguments.length; i++) {
            argCache[i] = arguments[i];
          }
          return dynCall(sig, ptr, argCache);
        };
      }
      function embind__requireFunction(signature, rawFunction) {
        signature = readLatin1String(signature);
        function makeDynCaller() {
          if (signature.includes("j")) {
            return getDynCaller(signature, rawFunction);
          }
          return getWasmTableEntry(rawFunction);
        }
        var fp = makeDynCaller();
        if (typeof fp !== "function") {
          throwBindingError("unknown function pointer with signature " + signature + ": " + rawFunction);
        }
        return fp;
      }
      var UnboundTypeError = void 0;
      function getTypeName(type) {
        var ptr = ___getTypeName(type);
        var rv = readLatin1String(ptr);
        _free(ptr);
        return rv;
      }
      function throwUnboundTypeError(message, types) {
        var unboundTypes = [];
        var seen = {};
        function visit(type) {
          if (seen[type]) {
            return;
          }
          if (registeredTypes[type]) {
            return;
          }
          if (typeDependencies[type]) {
            typeDependencies[type].forEach(visit);
            return;
          }
          unboundTypes.push(type);
          seen[type] = true;
        }
        types.forEach(visit);
        throw new UnboundTypeError(message + ": " + unboundTypes.map(getTypeName).join([", "]));
      }
      function __embind_register_class(rawType, rawPointerType, rawConstPointerType, baseClassRawType, getActualTypeSignature, getActualType, upcastSignature, upcast, downcastSignature, downcast, name, destructorSignature, rawDestructor) {
        name = readLatin1String(name);
        getActualType = embind__requireFunction(getActualTypeSignature, getActualType);
        if (upcast) {
          upcast = embind__requireFunction(upcastSignature, upcast);
        }
        if (downcast) {
          downcast = embind__requireFunction(downcastSignature, downcast);
        }
        rawDestructor = embind__requireFunction(destructorSignature, rawDestructor);
        var legalFunctionName = makeLegalFunctionName(name);
        exposePublicSymbol(legalFunctionName, function() {
          throwUnboundTypeError("Cannot construct " + name + " due to unbound types", [baseClassRawType]);
        });
        whenDependentTypesAreResolved([rawType, rawPointerType, rawConstPointerType], baseClassRawType ? [baseClassRawType] : [], function(base) {
          base = base[0];
          var baseClass;
          var basePrototype;
          if (baseClassRawType) {
            baseClass = base.registeredClass;
            basePrototype = baseClass.instancePrototype;
          } else {
            basePrototype = ClassHandle.prototype;
          }
          var constructor = createNamedFunction(legalFunctionName, function() {
            if (Object.getPrototypeOf(this) !== instancePrototype) {
              throw new BindingError("Use 'new' to construct " + name);
            }
            if (void 0 === registeredClass.constructor_body) {
              throw new BindingError(name + " has no accessible constructor");
            }
            var body = registeredClass.constructor_body[arguments.length];
            if (void 0 === body) {
              throw new BindingError("Tried to invoke ctor of " + name + " with invalid number of parameters (" + arguments.length + ") - expected (" + Object.keys(registeredClass.constructor_body).toString() + ") parameters instead!");
            }
            return body.apply(this, arguments);
          });
          var instancePrototype = Object.create(basePrototype, { constructor: { value: constructor } });
          constructor.prototype = instancePrototype;
          var registeredClass = new RegisteredClass(name, constructor, instancePrototype, rawDestructor, baseClass, getActualType, upcast, downcast);
          var referenceConverter = new RegisteredPointer(name, registeredClass, true, false, false);
          var pointerConverter = new RegisteredPointer(name + "*", registeredClass, false, false, false);
          var constPointerConverter = new RegisteredPointer(name + " const*", registeredClass, false, true, false);
          registeredPointers[rawType] = { pointerType: pointerConverter, constPointerType: constPointerConverter };
          replacePublicSymbol(legalFunctionName, constructor);
          return [referenceConverter, pointerConverter, constPointerConverter];
        });
      }
      function heap32VectorToArray(count, firstElement) {
        var array2 = [];
        for (var i = 0; i < count; i++) {
          array2.push(HEAP32[(firstElement >> 2) + i]);
        }
        return array2;
      }
      function runDestructors(destructors) {
        while (destructors.length) {
          var ptr = destructors.pop();
          var del2 = destructors.pop();
          del2(ptr);
        }
      }
      function __embind_register_class_constructor(rawClassType, argCount, rawArgTypesAddr, invokerSignature, invoker, rawConstructor) {
        assert(argCount > 0);
        var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);
        invoker = embind__requireFunction(invokerSignature, invoker);
        whenDependentTypesAreResolved([], [rawClassType], function(classType) {
          classType = classType[0];
          var humanName = "constructor " + classType.name;
          if (void 0 === classType.registeredClass.constructor_body) {
            classType.registeredClass.constructor_body = [];
          }
          if (void 0 !== classType.registeredClass.constructor_body[argCount - 1]) {
            throw new BindingError("Cannot register multiple constructors with identical number of parameters (" + (argCount - 1) + ") for class '" + classType.name + "'! Overload resolution is currently only performed using the parameter count, not actual type info!");
          }
          classType.registeredClass.constructor_body[argCount - 1] = function unboundTypeHandler() {
            throwUnboundTypeError("Cannot construct " + classType.name + " due to unbound types", rawArgTypes);
          };
          whenDependentTypesAreResolved([], rawArgTypes, function(argTypes) {
            argTypes.splice(1, 0, null);
            classType.registeredClass.constructor_body[argCount - 1] = craftInvokerFunction(humanName, argTypes, null, invoker, rawConstructor);
            return [];
          });
          return [];
        });
      }
      function new_(constructor, argumentList) {
        if (!(constructor instanceof Function)) {
          throw new TypeError("new_ called with constructor type " + typeof constructor + " which is not a function");
        }
        var dummy = createNamedFunction(constructor.name || "unknownFunctionName", function() {
        });
        dummy.prototype = constructor.prototype;
        var obj = new dummy();
        var r = constructor.apply(obj, argumentList);
        return r instanceof Object ? r : obj;
      }
      function craftInvokerFunction(humanName, argTypes, classType, cppInvokerFunc, cppTargetFunc) {
        var argCount = argTypes.length;
        if (argCount < 2) {
          throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");
        }
        var isClassMethodFunc = argTypes[1] !== null && classType !== null;
        var needsDestructorStack = false;
        for (var i = 1; i < argTypes.length; ++i) {
          if (argTypes[i] !== null && argTypes[i].destructorFunction === void 0) {
            needsDestructorStack = true;
            break;
          }
        }
        var returns = argTypes[0].name !== "void";
        var argsList = "";
        var argsListWired = "";
        for (var i = 0; i < argCount - 2; ++i) {
          argsList += (i !== 0 ? ", " : "") + "arg" + i;
          argsListWired += (i !== 0 ? ", " : "") + "arg" + i + "Wired";
        }
        var invokerFnBody = "return function " + makeLegalFunctionName(humanName) + "(" + argsList + ") {\nif (arguments.length !== " + (argCount - 2) + ") {\nthrowBindingError('function " + humanName + " called with ' + arguments.length + ' arguments, expected " + (argCount - 2) + " args!');\n}\n";
        if (needsDestructorStack) {
          invokerFnBody += "var destructors = [];\n";
        }
        var dtorStack = needsDestructorStack ? "destructors" : "null";
        var args1 = ["throwBindingError", "invoker", "fn", "runDestructors", "retType", "classParam"];
        var args2 = [throwBindingError, cppInvokerFunc, cppTargetFunc, runDestructors, argTypes[0], argTypes[1]];
        if (isClassMethodFunc) {
          invokerFnBody += "var thisWired = classParam.toWireType(" + dtorStack + ", this);\n";
        }
        for (var i = 0; i < argCount - 2; ++i) {
          invokerFnBody += "var arg" + i + "Wired = argType" + i + ".toWireType(" + dtorStack + ", arg" + i + "); // " + argTypes[i + 2].name + "\n";
          args1.push("argType" + i);
          args2.push(argTypes[i + 2]);
        }
        if (isClassMethodFunc) {
          argsListWired = "thisWired" + (argsListWired.length > 0 ? ", " : "") + argsListWired;
        }
        invokerFnBody += (returns ? "var rv = " : "") + "invoker(fn" + (argsListWired.length > 0 ? ", " : "") + argsListWired + ");\n";
        if (needsDestructorStack) {
          invokerFnBody += "runDestructors(destructors);\n";
        } else {
          for (var i = isClassMethodFunc ? 1 : 2; i < argTypes.length; ++i) {
            var paramName = i === 1 ? "thisWired" : "arg" + (i - 2) + "Wired";
            if (argTypes[i].destructorFunction !== null) {
              invokerFnBody += paramName + "_dtor(" + paramName + "); // " + argTypes[i].name + "\n";
              args1.push(paramName + "_dtor");
              args2.push(argTypes[i].destructorFunction);
            }
          }
        }
        if (returns) {
          invokerFnBody += "var ret = retType.fromWireType(rv);\nreturn ret;\n";
        } else {
        }
        invokerFnBody += "}\n";
        args1.push(invokerFnBody);
        var invokerFunction = new_(Function, args1).apply(null, args2);
        return invokerFunction;
      }
      function __embind_register_class_function(rawClassType, methodName, argCount, rawArgTypesAddr, invokerSignature, rawInvoker, context, isPureVirtual) {
        var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);
        methodName = readLatin1String(methodName);
        rawInvoker = embind__requireFunction(invokerSignature, rawInvoker);
        whenDependentTypesAreResolved([], [rawClassType], function(classType) {
          classType = classType[0];
          var humanName = classType.name + "." + methodName;
          if (methodName.startsWith("@@")) {
            methodName = Symbol[methodName.substring(2)];
          }
          if (isPureVirtual) {
            classType.registeredClass.pureVirtualFunctions.push(methodName);
          }
          function unboundTypesHandler() {
            throwUnboundTypeError("Cannot call " + humanName + " due to unbound types", rawArgTypes);
          }
          var proto = classType.registeredClass.instancePrototype;
          var method = proto[methodName];
          if (void 0 === method || void 0 === method.overloadTable && method.className !== classType.name && method.argCount === argCount - 2) {
            unboundTypesHandler.argCount = argCount - 2;
            unboundTypesHandler.className = classType.name;
            proto[methodName] = unboundTypesHandler;
          } else {
            ensureOverloadTable(proto, methodName, humanName);
            proto[methodName].overloadTable[argCount - 2] = unboundTypesHandler;
          }
          whenDependentTypesAreResolved([], rawArgTypes, function(argTypes) {
            var memberFunction = craftInvokerFunction(humanName, argTypes, classType, rawInvoker, context);
            if (void 0 === proto[methodName].overloadTable) {
              memberFunction.argCount = argCount - 2;
              proto[methodName] = memberFunction;
            } else {
              proto[methodName].overloadTable[argCount - 2] = memberFunction;
            }
            return [];
          });
          return [];
        });
      }
      var emval_free_list = [];
      var emval_handle_array = [{}, { value: void 0 }, { value: null }, { value: true }, { value: false }];
      function __emval_decref(handle) {
        if (handle > 4 && 0 === --emval_handle_array[handle].refcount) {
          emval_handle_array[handle] = void 0;
          emval_free_list.push(handle);
        }
      }
      function count_emval_handles() {
        var count = 0;
        for (var i = 5; i < emval_handle_array.length; ++i) {
          if (emval_handle_array[i] !== void 0) {
            ++count;
          }
        }
        return count;
      }
      function get_first_emval() {
        for (var i = 5; i < emval_handle_array.length; ++i) {
          if (emval_handle_array[i] !== void 0) {
            return emval_handle_array[i];
          }
        }
        return null;
      }
      function init_emval() {
        Module2["count_emval_handles"] = count_emval_handles;
        Module2["get_first_emval"] = get_first_emval;
      }
      var Emval = { toValue: function(handle) {
        if (!handle) {
          throwBindingError("Cannot use deleted val. handle = " + handle);
        }
        return emval_handle_array[handle].value;
      }, toHandle: function(value) {
        switch (value) {
          case void 0: {
            return 1;
          }
          case null: {
            return 2;
          }
          case true: {
            return 3;
          }
          case false: {
            return 4;
          }
          default: {
            var handle = emval_free_list.length ? emval_free_list.pop() : emval_handle_array.length;
            emval_handle_array[handle] = { refcount: 1, value };
            return handle;
          }
        }
      } };
      function __embind_register_emval(rawType, name) {
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": function(handle) {
          var rv = Emval.toValue(handle);
          __emval_decref(handle);
          return rv;
        }, "toWireType": function(destructors, value) {
          return Emval.toHandle(value);
        }, "argPackAdvance": 8, "readValueFromPointer": simpleReadValueFromPointer, destructorFunction: null });
      }
      function enumReadValueFromPointer(name, shift, signed) {
        switch (shift) {
          case 0:
            return function(pointer) {
              var heap = signed ? HEAP8 : HEAPU8;
              return this["fromWireType"](heap[pointer]);
            };
          case 1:
            return function(pointer) {
              var heap = signed ? HEAP16 : HEAPU16;
              return this["fromWireType"](heap[pointer >> 1]);
            };
          case 2:
            return function(pointer) {
              var heap = signed ? HEAP32 : HEAPU32;
              return this["fromWireType"](heap[pointer >> 2]);
            };
          default:
            throw new TypeError("Unknown integer type: " + name);
        }
      }
      function __embind_register_enum(rawType, name, size, isSigned) {
        var shift = getShiftFromSize(size);
        name = readLatin1String(name);
        function ctor() {
        }
        ctor.values = {};
        registerType(rawType, { name, constructor: ctor, "fromWireType": function(c) {
          return this.constructor.values[c];
        }, "toWireType": function(destructors, c) {
          return c.value;
        }, "argPackAdvance": 8, "readValueFromPointer": enumReadValueFromPointer(name, shift, isSigned), destructorFunction: null });
        exposePublicSymbol(name, ctor);
      }
      function requireRegisteredType(rawType, humanName) {
        var impl = registeredTypes[rawType];
        if (void 0 === impl) {
          throwBindingError(humanName + " has unknown type " + getTypeName(rawType));
        }
        return impl;
      }
      function __embind_register_enum_value(rawEnumType, name, enumValue) {
        var enumType = requireRegisteredType(rawEnumType, "enum");
        name = readLatin1String(name);
        var Enum = enumType.constructor;
        var Value = Object.create(enumType.constructor.prototype, { value: { value: enumValue }, constructor: { value: createNamedFunction(enumType.name + "_" + name, function() {
        }) } });
        Enum.values[enumValue] = Value;
        Enum[name] = Value;
      }
      function _embind_repr(v) {
        if (v === null) {
          return "null";
        }
        var t = typeof v;
        if (t === "object" || t === "array" || t === "function") {
          return v.toString();
        } else {
          return "" + v;
        }
      }
      function floatReadValueFromPointer(name, shift) {
        switch (shift) {
          case 2:
            return function(pointer) {
              return this["fromWireType"](HEAPF32[pointer >> 2]);
            };
          case 3:
            return function(pointer) {
              return this["fromWireType"](HEAPF64[pointer >> 3]);
            };
          default:
            throw new TypeError("Unknown float type: " + name);
        }
      }
      function __embind_register_float(rawType, name, size) {
        var shift = getShiftFromSize(size);
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": function(value) {
          return value;
        }, "toWireType": function(destructors, value) {
          return value;
        }, "argPackAdvance": 8, "readValueFromPointer": floatReadValueFromPointer(name, shift), destructorFunction: null });
      }
      function __embind_register_function(name, argCount, rawArgTypesAddr, signature, rawInvoker, fn) {
        var argTypes = heap32VectorToArray(argCount, rawArgTypesAddr);
        name = readLatin1String(name);
        rawInvoker = embind__requireFunction(signature, rawInvoker);
        exposePublicSymbol(name, function() {
          throwUnboundTypeError("Cannot call " + name + " due to unbound types", argTypes);
        }, argCount - 1);
        whenDependentTypesAreResolved([], argTypes, function(argTypes2) {
          var invokerArgsArray = [argTypes2[0], null].concat(argTypes2.slice(1));
          replacePublicSymbol(name, craftInvokerFunction(name, invokerArgsArray, null, rawInvoker, fn), argCount - 1);
          return [];
        });
      }
      function integerReadValueFromPointer(name, shift, signed) {
        switch (shift) {
          case 0:
            return signed ? function readS8FromPointer(pointer) {
              return HEAP8[pointer];
            } : function readU8FromPointer(pointer) {
              return HEAPU8[pointer];
            };
          case 1:
            return signed ? function readS16FromPointer(pointer) {
              return HEAP16[pointer >> 1];
            } : function readU16FromPointer(pointer) {
              return HEAPU16[pointer >> 1];
            };
          case 2:
            return signed ? function readS32FromPointer(pointer) {
              return HEAP32[pointer >> 2];
            } : function readU32FromPointer(pointer) {
              return HEAPU32[pointer >> 2];
            };
          default:
            throw new TypeError("Unknown integer type: " + name);
        }
      }
      function __embind_register_integer(primitiveType, name, size, minRange, maxRange) {
        name = readLatin1String(name);
        if (maxRange === -1) {
          maxRange = 4294967295;
        }
        var shift = getShiftFromSize(size);
        var fromWireType = function(value) {
          return value;
        };
        if (minRange === 0) {
          var bitshift = 32 - 8 * size;
          fromWireType = function(value) {
            return value << bitshift >>> bitshift;
          };
        }
        var isUnsignedType = name.includes("unsigned");
        registerType(primitiveType, { name, "fromWireType": fromWireType, "toWireType": function(destructors, value) {
          if (typeof value !== "number" && typeof value !== "boolean") {
            throw new TypeError('Cannot convert "' + _embind_repr(value) + '" to ' + this.name);
          }
          if (value < minRange || value > maxRange) {
            throw new TypeError('Passing a number "' + _embind_repr(value) + '" from JS side to C/C++ side to an argument of type "' + name + '", which is outside the valid range [' + minRange + ", " + maxRange + "]!");
          }
          return isUnsignedType ? value >>> 0 : value | 0;
        }, "argPackAdvance": 8, "readValueFromPointer": integerReadValueFromPointer(name, shift, minRange !== 0), destructorFunction: null });
      }
      function __embind_register_memory_view(rawType, dataTypeIndex, name) {
        var typeMapping = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array];
        var TA = typeMapping[dataTypeIndex];
        function decodeMemoryView(handle) {
          handle = handle >> 2;
          var heap = HEAPU32;
          var size = heap[handle];
          var data = heap[handle + 1];
          return new TA(buffer, data, size);
        }
        name = readLatin1String(name);
        registerType(rawType, { name, "fromWireType": decodeMemoryView, "argPackAdvance": 8, "readValueFromPointer": decodeMemoryView }, { ignoreDuplicateRegistrations: true });
      }
      function __embind_register_std_string(rawType, name) {
        name = readLatin1String(name);
        var stdStringIsUTF8 = name === "std::string";
        registerType(rawType, { name, "fromWireType": function(value) {
          var length = HEAPU32[value >> 2];
          var str;
          if (stdStringIsUTF8) {
            var decodeStartPtr = value + 4;
            for (var i = 0; i <= length; ++i) {
              var currentBytePtr = value + 4 + i;
              if (i == length || HEAPU8[currentBytePtr] == 0) {
                var maxRead = currentBytePtr - decodeStartPtr;
                var stringSegment = UTF8ToString(decodeStartPtr, maxRead);
                if (str === void 0) {
                  str = stringSegment;
                } else {
                  str += String.fromCharCode(0);
                  str += stringSegment;
                }
                decodeStartPtr = currentBytePtr + 1;
              }
            }
          } else {
            var a = new Array(length);
            for (var i = 0; i < length; ++i) {
              a[i] = String.fromCharCode(HEAPU8[value + 4 + i]);
            }
            str = a.join("");
          }
          _free(value);
          return str;
        }, "toWireType": function(destructors, value) {
          if (value instanceof ArrayBuffer) {
            value = new Uint8Array(value);
          }
          var getLength;
          var valueIsOfTypeString = typeof value === "string";
          if (!(valueIsOfTypeString || value instanceof Uint8Array || value instanceof Uint8ClampedArray || value instanceof Int8Array)) {
            throwBindingError("Cannot pass non-string to std::string");
          }
          if (stdStringIsUTF8 && valueIsOfTypeString) {
            getLength = function() {
              return lengthBytesUTF8(value);
            };
          } else {
            getLength = function() {
              return value.length;
            };
          }
          var length = getLength();
          var ptr = _malloc(4 + length + 1);
          HEAPU32[ptr >> 2] = length;
          if (stdStringIsUTF8 && valueIsOfTypeString) {
            stringToUTF8(value, ptr + 4, length + 1);
          } else {
            if (valueIsOfTypeString) {
              for (var i = 0; i < length; ++i) {
                var charCode = value.charCodeAt(i);
                if (charCode > 255) {
                  _free(ptr);
                  throwBindingError("String has UTF-16 code units that do not fit in 8 bits");
                }
                HEAPU8[ptr + 4 + i] = charCode;
              }
            } else {
              for (var i = 0; i < length; ++i) {
                HEAPU8[ptr + 4 + i] = value[i];
              }
            }
          }
          if (destructors !== null) {
            destructors.push(_free, ptr);
          }
          return ptr;
        }, "argPackAdvance": 8, "readValueFromPointer": simpleReadValueFromPointer, destructorFunction: function(ptr) {
          _free(ptr);
        } });
      }
      function __embind_register_std_wstring(rawType, charSize, name) {
        name = readLatin1String(name);
        var decodeString, encodeString, getHeap, lengthBytesUTF, shift;
        if (charSize === 2) {
          decodeString = UTF16ToString;
          encodeString = stringToUTF16;
          lengthBytesUTF = lengthBytesUTF16;
          getHeap = function() {
            return HEAPU16;
          };
          shift = 1;
        } else if (charSize === 4) {
          decodeString = UTF32ToString;
          encodeString = stringToUTF32;
          lengthBytesUTF = lengthBytesUTF32;
          getHeap = function() {
            return HEAPU32;
          };
          shift = 2;
        }
        registerType(rawType, { name, "fromWireType": function(value) {
          var length = HEAPU32[value >> 2];
          var HEAP = getHeap();
          var str;
          var decodeStartPtr = value + 4;
          for (var i = 0; i <= length; ++i) {
            var currentBytePtr = value + 4 + i * charSize;
            if (i == length || HEAP[currentBytePtr >> shift] == 0) {
              var maxReadBytes = currentBytePtr - decodeStartPtr;
              var stringSegment = decodeString(decodeStartPtr, maxReadBytes);
              if (str === void 0) {
                str = stringSegment;
              } else {
                str += String.fromCharCode(0);
                str += stringSegment;
              }
              decodeStartPtr = currentBytePtr + charSize;
            }
          }
          _free(value);
          return str;
        }, "toWireType": function(destructors, value) {
          if (!(typeof value === "string")) {
            throwBindingError("Cannot pass non-string to C++ string type " + name);
          }
          var length = lengthBytesUTF(value);
          var ptr = _malloc(4 + length + charSize);
          HEAPU32[ptr >> 2] = length >> shift;
          encodeString(value, ptr + 4, length + charSize);
          if (destructors !== null) {
            destructors.push(_free, ptr);
          }
          return ptr;
        }, "argPackAdvance": 8, "readValueFromPointer": simpleReadValueFromPointer, destructorFunction: function(ptr) {
          _free(ptr);
        } });
      }
      function __embind_register_void(rawType, name) {
        name = readLatin1String(name);
        registerType(rawType, { isVoid: true, name, "argPackAdvance": 0, "fromWireType": function() {
          return void 0;
        }, "toWireType": function(destructors, o) {
          return void 0;
        } });
      }
      function _abort() {
        abort("");
      }
      var _emscripten_get_now;
      _emscripten_get_now = function() {
        return performance.now();
      };
      var _emscripten_get_now_is_monotonic = true;
      function _clock_gettime(clk_id, tp) {
        var now;
        if (clk_id === 0) {
          now = Date.now();
        } else if ((clk_id === 1 || clk_id === 4) && _emscripten_get_now_is_monotonic) {
          now = _emscripten_get_now();
        } else {
          setErrNo(28);
          return -1;
        }
        HEAP32[tp >> 2] = now / 1e3 | 0;
        HEAP32[tp + 4 >> 2] = now % 1e3 * 1e3 * 1e3 | 0;
        return 0;
      }
      function _emscripten_memcpy_big(dest, src, num) {
        HEAPU8.copyWithin(dest, src, src + num);
      }
      function emscripten_realloc_buffer(size) {
        try {
          wasmMemory.grow(size - buffer.byteLength + 65535 >>> 16);
          updateGlobalBufferAndViews(wasmMemory.buffer);
          return 1;
        } catch (e) {
        }
      }
      function _emscripten_resize_heap(requestedSize) {
        var oldSize = HEAPU8.length;
        requestedSize = requestedSize >>> 0;
        var maxHeapSize = 1073741824;
        if (requestedSize > maxHeapSize) {
          return false;
        }
        for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {
          var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);
          overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);
          var newSize = Math.min(maxHeapSize, alignUp(Math.max(requestedSize, overGrownHeapSize), 65536));
          var replacement = emscripten_realloc_buffer(newSize);
          if (replacement) {
            return true;
          }
        }
        return false;
      }
      var ENV = {};
      function getExecutableName() {
        return thisProgram || "./this.program";
      }
      function getEnvStrings() {
        if (!getEnvStrings.strings) {
          var lang = (typeof navigator === "object" && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8";
          var env = { "USER": "web_user", "LOGNAME": "web_user", "PATH": "/", "PWD": "/", "HOME": "/home/web_user", "LANG": lang, "_": getExecutableName() };
          for (var x in ENV) {
            if (ENV[x] === void 0)
              delete env[x];
            else
              env[x] = ENV[x];
          }
          var strings = [];
          for (var x in env) {
            strings.push(x + "=" + env[x]);
          }
          getEnvStrings.strings = strings;
        }
        return getEnvStrings.strings;
      }
      function _environ_get(__environ, environ_buf) {
        var bufSize = 0;
        getEnvStrings().forEach(function(string, i) {
          var ptr = environ_buf + bufSize;
          HEAP32[__environ + i * 4 >> 2] = ptr;
          writeAsciiToMemory(string, ptr);
          bufSize += string.length + 1;
        });
        return 0;
      }
      function _environ_sizes_get(penviron_count, penviron_buf_size) {
        var strings = getEnvStrings();
        HEAP32[penviron_count >> 2] = strings.length;
        var bufSize = 0;
        strings.forEach(function(string) {
          bufSize += string.length + 1;
        });
        HEAP32[penviron_buf_size >> 2] = bufSize;
        return 0;
      }
      function _exit(status) {
        exit(status);
      }
      function _fd_close(fd) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          FS.close(stream);
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _fd_read(fd, iov, iovcnt, pnum) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          var num = SYSCALLS.doReadv(stream, iov, iovcnt);
          HEAP32[pnum >> 2] = num;
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          var HIGH_OFFSET = 4294967296;
          var offset = offset_high * HIGH_OFFSET + (offset_low >>> 0);
          var DOUBLE_LIMIT = 9007199254740992;
          if (offset <= -DOUBLE_LIMIT || offset >= DOUBLE_LIMIT) {
            return -61;
          }
          FS.llseek(stream, offset, whence);
          tempI64 = [stream.position >>> 0, (tempDouble = stream.position, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math.min(+Math.floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[newOffset >> 2] = tempI64[0], HEAP32[newOffset + 4 >> 2] = tempI64[1];
          if (stream.getdents && offset === 0 && whence === 0)
            stream.getdents = null;
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _fd_write(fd, iov, iovcnt, pnum) {
        try {
          var stream = SYSCALLS.getStreamFromFD(fd);
          var num = SYSCALLS.doWritev(stream, iov, iovcnt);
          HEAP32[pnum >> 2] = num;
          return 0;
        } catch (e) {
          if (typeof FS === "undefined" || !(e instanceof FS.ErrnoError))
            throw e;
          return e.errno;
        }
      }
      function _setTempRet0(val) {
        setTempRet0(val);
      }
      function __isLeapYear(year) {
        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
      }
      function __arraySum(array2, index) {
        var sum = 0;
        for (var i = 0; i <= index; sum += array2[i++]) {
        }
        return sum;
      }
      var __MONTH_DAYS_LEAP = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      var __MONTH_DAYS_REGULAR = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      function __addDays(date, days) {
        var newDate = new Date(date.getTime());
        while (days > 0) {
          var leap = __isLeapYear(newDate.getFullYear());
          var currentMonth = newDate.getMonth();
          var daysInCurrentMonth = (leap ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR)[currentMonth];
          if (days > daysInCurrentMonth - newDate.getDate()) {
            days -= daysInCurrentMonth - newDate.getDate() + 1;
            newDate.setDate(1);
            if (currentMonth < 11) {
              newDate.setMonth(currentMonth + 1);
            } else {
              newDate.setMonth(0);
              newDate.setFullYear(newDate.getFullYear() + 1);
            }
          } else {
            newDate.setDate(newDate.getDate() + days);
            return newDate;
          }
        }
        return newDate;
      }
      function _strftime(s, maxsize, format, tm) {
        var tm_zone = HEAP32[tm + 40 >> 2];
        var date = { tm_sec: HEAP32[tm >> 2], tm_min: HEAP32[tm + 4 >> 2], tm_hour: HEAP32[tm + 8 >> 2], tm_mday: HEAP32[tm + 12 >> 2], tm_mon: HEAP32[tm + 16 >> 2], tm_year: HEAP32[tm + 20 >> 2], tm_wday: HEAP32[tm + 24 >> 2], tm_yday: HEAP32[tm + 28 >> 2], tm_isdst: HEAP32[tm + 32 >> 2], tm_gmtoff: HEAP32[tm + 36 >> 2], tm_zone: tm_zone ? UTF8ToString(tm_zone) : "" };
        var pattern = UTF8ToString(format);
        var EXPANSION_RULES_1 = { "%c": "%a %b %d %H:%M:%S %Y", "%D": "%m/%d/%y", "%F": "%Y-%m-%d", "%h": "%b", "%r": "%I:%M:%S %p", "%R": "%H:%M", "%T": "%H:%M:%S", "%x": "%m/%d/%y", "%X": "%H:%M:%S", "%Ec": "%c", "%EC": "%C", "%Ex": "%m/%d/%y", "%EX": "%H:%M:%S", "%Ey": "%y", "%EY": "%Y", "%Od": "%d", "%Oe": "%e", "%OH": "%H", "%OI": "%I", "%Om": "%m", "%OM": "%M", "%OS": "%S", "%Ou": "%u", "%OU": "%U", "%OV": "%V", "%Ow": "%w", "%OW": "%W", "%Oy": "%y" };
        for (var rule in EXPANSION_RULES_1) {
          pattern = pattern.replace(new RegExp(rule, "g"), EXPANSION_RULES_1[rule]);
        }
        var WEEKDAYS = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        var MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        function leadingSomething(value, digits, character) {
          var str = typeof value === "number" ? value.toString() : value || "";
          while (str.length < digits) {
            str = character[0] + str;
          }
          return str;
        }
        function leadingNulls(value, digits) {
          return leadingSomething(value, digits, "0");
        }
        function compareByDay(date1, date2) {
          function sgn(value) {
            return value < 0 ? -1 : value > 0 ? 1 : 0;
          }
          var compare;
          if ((compare = sgn(date1.getFullYear() - date2.getFullYear())) === 0) {
            if ((compare = sgn(date1.getMonth() - date2.getMonth())) === 0) {
              compare = sgn(date1.getDate() - date2.getDate());
            }
          }
          return compare;
        }
        function getFirstWeekStartDate(janFourth) {
          switch (janFourth.getDay()) {
            case 0:
              return new Date(janFourth.getFullYear() - 1, 11, 29);
            case 1:
              return janFourth;
            case 2:
              return new Date(janFourth.getFullYear(), 0, 3);
            case 3:
              return new Date(janFourth.getFullYear(), 0, 2);
            case 4:
              return new Date(janFourth.getFullYear(), 0, 1);
            case 5:
              return new Date(janFourth.getFullYear() - 1, 11, 31);
            case 6:
              return new Date(janFourth.getFullYear() - 1, 11, 30);
          }
        }
        function getWeekBasedYear(date2) {
          var thisDate = __addDays(new Date(date2.tm_year + 1900, 0, 1), date2.tm_yday);
          var janFourthThisYear = new Date(thisDate.getFullYear(), 0, 4);
          var janFourthNextYear = new Date(thisDate.getFullYear() + 1, 0, 4);
          var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);
          var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);
          if (compareByDay(firstWeekStartThisYear, thisDate) <= 0) {
            if (compareByDay(firstWeekStartNextYear, thisDate) <= 0) {
              return thisDate.getFullYear() + 1;
            } else {
              return thisDate.getFullYear();
            }
          } else {
            return thisDate.getFullYear() - 1;
          }
        }
        var EXPANSION_RULES_2 = { "%a": function(date2) {
          return WEEKDAYS[date2.tm_wday].substring(0, 3);
        }, "%A": function(date2) {
          return WEEKDAYS[date2.tm_wday];
        }, "%b": function(date2) {
          return MONTHS[date2.tm_mon].substring(0, 3);
        }, "%B": function(date2) {
          return MONTHS[date2.tm_mon];
        }, "%C": function(date2) {
          var year = date2.tm_year + 1900;
          return leadingNulls(year / 100 | 0, 2);
        }, "%d": function(date2) {
          return leadingNulls(date2.tm_mday, 2);
        }, "%e": function(date2) {
          return leadingSomething(date2.tm_mday, 2, " ");
        }, "%g": function(date2) {
          return getWeekBasedYear(date2).toString().substring(2);
        }, "%G": function(date2) {
          return getWeekBasedYear(date2);
        }, "%H": function(date2) {
          return leadingNulls(date2.tm_hour, 2);
        }, "%I": function(date2) {
          var twelveHour = date2.tm_hour;
          if (twelveHour == 0)
            twelveHour = 12;
          else if (twelveHour > 12)
            twelveHour -= 12;
          return leadingNulls(twelveHour, 2);
        }, "%j": function(date2) {
          return leadingNulls(date2.tm_mday + __arraySum(__isLeapYear(date2.tm_year + 1900) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, date2.tm_mon - 1), 3);
        }, "%m": function(date2) {
          return leadingNulls(date2.tm_mon + 1, 2);
        }, "%M": function(date2) {
          return leadingNulls(date2.tm_min, 2);
        }, "%n": function() {
          return "\n";
        }, "%p": function(date2) {
          if (date2.tm_hour >= 0 && date2.tm_hour < 12) {
            return "AM";
          } else {
            return "PM";
          }
        }, "%S": function(date2) {
          return leadingNulls(date2.tm_sec, 2);
        }, "%t": function() {
          return "	";
        }, "%u": function(date2) {
          return date2.tm_wday || 7;
        }, "%U": function(date2) {
          var janFirst = new Date(date2.tm_year + 1900, 0, 1);
          var firstSunday = janFirst.getDay() === 0 ? janFirst : __addDays(janFirst, 7 - janFirst.getDay());
          var endDate = new Date(date2.tm_year + 1900, date2.tm_mon, date2.tm_mday);
          if (compareByDay(firstSunday, endDate) < 0) {
            var februaryFirstUntilEndMonth = __arraySum(__isLeapYear(endDate.getFullYear()) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, endDate.getMonth() - 1) - 31;
            var firstSundayUntilEndJanuary = 31 - firstSunday.getDate();
            var days = firstSundayUntilEndJanuary + februaryFirstUntilEndMonth + endDate.getDate();
            return leadingNulls(Math.ceil(days / 7), 2);
          }
          return compareByDay(firstSunday, janFirst) === 0 ? "01" : "00";
        }, "%V": function(date2) {
          var janFourthThisYear = new Date(date2.tm_year + 1900, 0, 4);
          var janFourthNextYear = new Date(date2.tm_year + 1901, 0, 4);
          var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);
          var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);
          var endDate = __addDays(new Date(date2.tm_year + 1900, 0, 1), date2.tm_yday);
          if (compareByDay(endDate, firstWeekStartThisYear) < 0) {
            return "53";
          }
          if (compareByDay(firstWeekStartNextYear, endDate) <= 0) {
            return "01";
          }
          var daysDifference;
          if (firstWeekStartThisYear.getFullYear() < date2.tm_year + 1900) {
            daysDifference = date2.tm_yday + 32 - firstWeekStartThisYear.getDate();
          } else {
            daysDifference = date2.tm_yday + 1 - firstWeekStartThisYear.getDate();
          }
          return leadingNulls(Math.ceil(daysDifference / 7), 2);
        }, "%w": function(date2) {
          return date2.tm_wday;
        }, "%W": function(date2) {
          var janFirst = new Date(date2.tm_year, 0, 1);
          var firstMonday = janFirst.getDay() === 1 ? janFirst : __addDays(janFirst, janFirst.getDay() === 0 ? 1 : 7 - janFirst.getDay() + 1);
          var endDate = new Date(date2.tm_year + 1900, date2.tm_mon, date2.tm_mday);
          if (compareByDay(firstMonday, endDate) < 0) {
            var februaryFirstUntilEndMonth = __arraySum(__isLeapYear(endDate.getFullYear()) ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR, endDate.getMonth() - 1) - 31;
            var firstMondayUntilEndJanuary = 31 - firstMonday.getDate();
            var days = firstMondayUntilEndJanuary + februaryFirstUntilEndMonth + endDate.getDate();
            return leadingNulls(Math.ceil(days / 7), 2);
          }
          return compareByDay(firstMonday, janFirst) === 0 ? "01" : "00";
        }, "%y": function(date2) {
          return (date2.tm_year + 1900).toString().substring(2);
        }, "%Y": function(date2) {
          return date2.tm_year + 1900;
        }, "%z": function(date2) {
          var off = date2.tm_gmtoff;
          var ahead = off >= 0;
          off = Math.abs(off) / 60;
          off = off / 60 * 100 + off % 60;
          return (ahead ? "+" : "-") + String("0000" + off).slice(-4);
        }, "%Z": function(date2) {
          return date2.tm_zone;
        }, "%%": function() {
          return "%";
        } };
        for (var rule in EXPANSION_RULES_2) {
          if (pattern.includes(rule)) {
            pattern = pattern.replace(new RegExp(rule, "g"), EXPANSION_RULES_2[rule](date));
          }
        }
        var bytes = intArrayFromString(pattern, false);
        if (bytes.length > maxsize) {
          return 0;
        }
        writeArrayToMemory(bytes, s);
        return bytes.length - 1;
      }
      function _strftime_l(s, maxsize, format, tm) {
        return _strftime(s, maxsize, format, tm);
      }
      var FSNode = function(parent, name, mode, rdev) {
        if (!parent) {
          parent = this;
        }
        this.parent = parent;
        this.mount = parent.mount;
        this.mounted = null;
        this.id = FS.nextInode++;
        this.name = name;
        this.mode = mode;
        this.node_ops = {};
        this.stream_ops = {};
        this.rdev = rdev;
      };
      var readMode = 292 | 73;
      var writeMode = 146;
      Object.defineProperties(FSNode.prototype, { read: { get: function() {
        return (this.mode & readMode) === readMode;
      }, set: function(val) {
        val ? this.mode |= readMode : this.mode &= ~readMode;
      } }, write: { get: function() {
        return (this.mode & writeMode) === writeMode;
      }, set: function(val) {
        val ? this.mode |= writeMode : this.mode &= ~writeMode;
      } }, isFolder: { get: function() {
        return FS.isDir(this.mode);
      } }, isDevice: { get: function() {
        return FS.isChrdev(this.mode);
      } } });
      FS.FSNode = FSNode;
      FS.staticInit();
      embind_init_charCodes();
      BindingError = Module2["BindingError"] = extendError(Error, "BindingError");
      InternalError = Module2["InternalError"] = extendError(Error, "InternalError");
      init_ClassHandle();
      init_RegisteredPointer();
      init_embind();
      UnboundTypeError = Module2["UnboundTypeError"] = extendError(Error, "UnboundTypeError");
      init_emval();
      function intArrayFromString(stringy, dontAddNull, length) {
        var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;
        var u8array = new Array(len);
        var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);
        if (dontAddNull)
          u8array.length = numBytesWritten;
        return u8array;
      }
      var asmLibraryArg = { "l": ___cxa_allocate_exception, "k": ___cxa_throw, "m": ___syscall_fcntl64, "H": ___syscall_fstat64, "F": ___syscall_fstatat64, "A": ___syscall_ioctl, "J": ___syscall_mmap2, "I": ___syscall_munmap, "p": ___syscall_open, "G": ___syscall_stat64, "v": __embind_register_bigint, "L": __embind_register_bool, "s": __embind_register_class, "h": __embind_register_class_constructor, "a": __embind_register_class_function, "K": __embind_register_emval, "n": __embind_register_enum, "b": __embind_register_enum_value, "q": __embind_register_float, "c": __embind_register_function, "e": __embind_register_integer, "d": __embind_register_memory_view, "r": __embind_register_std_string, "j": __embind_register_std_wstring, "t": __embind_register_void, "g": _abort, "C": _clock_gettime, "x": _emscripten_memcpy_big, "y": _emscripten_resize_heap, "D": _environ_get, "E": _environ_sizes_get, "f": _exit, "i": _fd_close, "B": _fd_read, "u": _fd_seek, "o": _fd_write, "w": _setTempRet0, "z": _strftime_l };
      var asm = createWasm();
      var ___wasm_call_ctors = Module2["___wasm_call_ctors"] = function() {
        return (___wasm_call_ctors = Module2["___wasm_call_ctors"] = Module2["asm"]["N"]).apply(null, arguments);
      };
      var _malloc = Module2["_malloc"] = function() {
        return (_malloc = Module2["_malloc"] = Module2["asm"]["O"]).apply(null, arguments);
      };
      var _free = Module2["_free"] = function() {
        return (_free = Module2["_free"] = Module2["asm"]["Q"]).apply(null, arguments);
      };
      var ___getTypeName = Module2["___getTypeName"] = function() {
        return (___getTypeName = Module2["___getTypeName"] = Module2["asm"]["R"]).apply(null, arguments);
      };
      var ___embind_register_native_and_builtin_types = Module2["___embind_register_native_and_builtin_types"] = function() {
        return (___embind_register_native_and_builtin_types = Module2["___embind_register_native_and_builtin_types"] = Module2["asm"]["S"]).apply(null, arguments);
      };
      var ___errno_location = Module2["___errno_location"] = function() {
        return (___errno_location = Module2["___errno_location"] = Module2["asm"]["T"]).apply(null, arguments);
      };
      var _memalign = Module2["_memalign"] = function() {
        return (_memalign = Module2["_memalign"] = Module2["asm"]["U"]).apply(null, arguments);
      };
      var dynCall_viijii = Module2["dynCall_viijii"] = function() {
        return (dynCall_viijii = Module2["dynCall_viijii"] = Module2["asm"]["V"]).apply(null, arguments);
      };
      var dynCall_jiji = Module2["dynCall_jiji"] = function() {
        return (dynCall_jiji = Module2["dynCall_jiji"] = Module2["asm"]["W"]).apply(null, arguments);
      };
      var dynCall_iiiiij = Module2["dynCall_iiiiij"] = function() {
        return (dynCall_iiiiij = Module2["dynCall_iiiiij"] = Module2["asm"]["X"]).apply(null, arguments);
      };
      var dynCall_iiiiijj = Module2["dynCall_iiiiijj"] = function() {
        return (dynCall_iiiiijj = Module2["dynCall_iiiiijj"] = Module2["asm"]["Y"]).apply(null, arguments);
      };
      var dynCall_iiiiiijj = Module2["dynCall_iiiiiijj"] = function() {
        return (dynCall_iiiiiijj = Module2["dynCall_iiiiiijj"] = Module2["asm"]["Z"]).apply(null, arguments);
      };
      var calledRun;
      function ExitStatus(status) {
        this.name = "ExitStatus";
        this.message = "Program terminated with exit(" + status + ")";
        this.status = status;
      }
      dependenciesFulfilled = function runCaller() {
        if (!calledRun)
          run();
        if (!calledRun)
          dependenciesFulfilled = runCaller;
      };
      function run(args) {
        args = args || arguments_;
        if (runDependencies > 0) {
          return;
        }
        preRun();
        if (runDependencies > 0) {
          return;
        }
        function doRun() {
          if (calledRun)
            return;
          calledRun = true;
          Module2["calledRun"] = true;
          if (ABORT)
            return;
          initRuntime();
          readyPromiseResolve(Module2);
          if (Module2["onRuntimeInitialized"])
            Module2["onRuntimeInitialized"]();
          postRun();
        }
        if (Module2["setStatus"]) {
          Module2["setStatus"]("Running...");
          setTimeout(function() {
            setTimeout(function() {
              Module2["setStatus"]("");
            }, 1);
            doRun();
          }, 1);
        } else {
          doRun();
        }
      }
      Module2["run"] = run;
      function exit(status, implicit) {
        EXITSTATUS = status;
        if (keepRuntimeAlive()) {
        } else {
          exitRuntime();
        }
        procExit(status);
      }
      function procExit(code) {
        EXITSTATUS = code;
        if (!keepRuntimeAlive()) {
          if (Module2["onExit"])
            Module2["onExit"](code);
          ABORT = true;
        }
        quit_(code, new ExitStatus(code));
      }
      if (Module2["preInit"]) {
        if (typeof Module2["preInit"] == "function")
          Module2["preInit"] = [Module2["preInit"]];
        while (Module2["preInit"].length > 0) {
          Module2["preInit"].pop()();
        }
      }
      run();
      return Module2.ready;
    };
  }();
  var ffish_default = Module;

  // client/boardSettings.ts
  var BoardSettings = class {
    constructor() {
      this.settings = {};
      this.settings["animation"] = new AnimationSettings(this);
      this.settings["showDests"] = new ShowDestsSettings(this);
      this.settings["autoPromote"] = new AutoPromoteSettings(this);
      this.settings["arrow"] = new ArrowSettings(this);
      this.settings["multipv"] = new MultiPVSettings(this);
      this.settings["blindfold"] = new BlindfoldSettings(this);
      this.settings["materialDifference"] = new MaterialDifferenceSettings(this);
    }
    getSettings(settingsType, family) {
      const fullName = family + settingsType;
      if (!this.settings[fullName]) {
        switch (settingsType) {
          case "BoardStyle":
            this.settings[fullName] = new BoardStyleSettings(this, family);
            break;
          case "PieceStyle":
            this.settings[fullName] = new PieceStyleSettings(this, family);
            break;
          case "Zoom":
            this.settings[fullName] = new ZoomSettings(this, family);
            break;
          case "Nnue":
            this.settings[fullName] = new NnueSettings(this, family);
            break;
          default:
            throw "Unknown settings type " + settingsType;
        }
      }
      return this.settings[fullName];
    }
    updateBoardAndPieceStyles() {
      Object.keys(BOARD_FAMILIES).forEach((family) => this.updateBoardStyle(family));
      Object.keys(PIECE_FAMILIES).forEach((family) => this.updatePieceStyle(family));
    }
    updateBoardStyle(family) {
      const idx = this.getSettings("BoardStyle", family).value;
      const board = BOARD_FAMILIES[family].boardCSS[idx];
      changeBoardCSS(this.assetURL, family, board);
    }
    updatePieceStyle(family) {
      const idx = this.getSettings("PieceStyle", family).value;
      let css = PIECE_FAMILIES[family].pieceCSS[idx];
      changePieceCSS(this.assetURL, family, css);
      this.updateDropSuggestion();
    }
    updateDropSuggestion() {
      if (this.ctrl && this.ctrl.hasPockets) {
        const chessground = this.ctrl.chessground;
        const el = document.querySelector("svg image");
        if (el) {
          chessground.redrawAll();
        }
      }
    }
    updateZoom(family) {
      var _a2;
      const variant2 = (_a2 = this.ctrl) == null ? void 0 : _a2.variant;
      if (variant2 && variant2.boardFamily === family) {
        const zoomSettings = this.getSettings("Zoom", family);
        const zoom = zoomSettings.value;
        const el = document.querySelector(".cg-wrap:not(.pocket)");
        if (el) {
          document.body.setAttribute("style", "--zoom:" + zoom);
          document.body.dispatchEvent(new Event("chessground.resize"));
          if ("chartFunctions" in this.ctrl && this.ctrl.chartFunctions) {
            this.ctrl.chartFunctions.forEach((func) => {
              func(this.ctrl);
            });
          }
        }
      }
    }
    updateBlindfold() {
      this.settings["blindfold"].update();
    }
    view(variantName) {
      var _a2, _b;
      if (!variantName)
        return h("div#board-settings");
      const variant2 = VARIANTS[variantName];
      const settingsList = [];
      const boardFamily = VARIANTS[variantName].boardFamily;
      const pieceFamily = VARIANTS[variantName].pieceFamily;
      settingsList.push(this.settings["animation"].view());
      settingsList.push(this.settings["showDests"].view());
      if (variant2.promotion.autoPromoteable)
        settingsList.push(this.settings["autoPromote"].view());
      settingsList.push(this.settings["arrow"].view());
      settingsList.push(this.settings["multipv"].view());
      if (variantName === ((_a2 = this.ctrl) == null ? void 0 : _a2.variant.name))
        settingsList.push(this.getSettings("Nnue", variantName).view());
      settingsList.push(this.settings["blindfold"].view());
      settingsList.push(this.settings["materialDifference"].view());
      if (variantName === ((_b = this.ctrl) == null ? void 0 : _b.variant.name))
        settingsList.push(this.getSettings("Zoom", boardFamily).view());
      settingsList.push(
        h("div#style-settings", [
          this.getSettings("BoardStyle", boardFamily).view(),
          this.getSettings("PieceStyle", pieceFamily).view()
        ])
      );
      settingsList.push();
      return h("div#board-settings", settingsList);
    }
  };
  var AnimationSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("animation", true);
      this.boardSettings = boardSettings2;
    }
    update() {
      var _a2;
      (_a2 = this.boardSettings.ctrl) == null ? void 0 : _a2.chessground.set({ animation: { enabled: this.value } });
    }
    view() {
      return h("div", checkbox(this, "animation", _("Piece animation")));
    }
  };
  var BoardStyleSettings = class extends NumberSettings {
    constructor(boardSettings2, boardFamily) {
      super(boardFamily + "-board", 0);
      this.boardSettings = boardSettings2;
      this.boardFamily = boardFamily;
    }
    update() {
      this.boardSettings.updateBoardStyle(this.boardFamily);
    }
    view() {
      const vboard = this.value;
      const boards = [];
      const boardCSS = BOARD_FAMILIES[this.boardFamily].boardCSS;
      for (let i = 0; i < boardCSS.length; i++) {
        boards.push(h("input#board" + i, {
          on: { change: (evt) => this.value = Number(evt.target.value) },
          props: { type: "radio", name: "board", value: i },
          attrs: { checked: vboard === i }
        }));
        boards.push(h("label.board.board" + i + "." + this.boardFamily, {
          attrs: { for: "board" + i },
          style: { backgroundImage: `url('/static/images/board/${boardCSS[i]}')` }
        }, ""));
      }
      return h("settings-board", boards);
    }
  };
  var PieceStyleSettings = class extends NumberSettings {
    constructor(boardSettings2, pieceFamily) {
      super(pieceFamily + "-piece", 0);
      this.boardSettings = boardSettings2;
      this.pieceFamily = pieceFamily;
    }
    update() {
      this.boardSettings.updatePieceStyle(this.pieceFamily);
    }
    view() {
      const vpiece = this.value;
      const pieces = [];
      const pieceCSS = PIECE_FAMILIES[this.pieceFamily].pieceCSS;
      for (let i = 0; i < pieceCSS.length; i++) {
        pieces.push(h("input#piece" + i, {
          on: { change: (e) => this.value = Number(e.target.value) },
          props: { type: "radio", name: "piece", value: i },
          attrs: { checked: vpiece === i }
        }));
        pieces.push(h("label.piece.piece" + i + "." + this.pieceFamily, { attrs: { for: "piece" + i } }, ""));
      }
      return h("settings-pieces", pieces);
    }
  };
  var ZoomSettings = class extends NumberSettings {
    constructor(boardSettings2, boardFamily) {
      super(boardFamily + "-zoom", 80);
      this.boardSettings = boardSettings2;
      this.boardFamily = boardFamily;
    }
    update() {
      this.boardSettings.updateZoom(this.boardFamily);
    }
    view() {
      return h("div", slider(this, "zoom", 0, 100, this.boardFamily.includes("shogi") ? 1 : 1.15625, _("Zoom")));
    }
  };
  var ShowDestsSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("showDests", true);
      this.boardSettings = boardSettings2;
    }
    update() {
      var _a2;
      (_a2 = this.boardSettings.ctrl) == null ? void 0 : _a2.chessground.set({
        movable: {
          showDests: this.value
        }
      });
    }
    view() {
      return h("div", checkbox(this, "showDests", _("Show piece destinations")));
    }
  };
  var AutoPromoteSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("autoPromote", false);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("autoPromote" in ctrl)
        ctrl.autoPromote = this.value;
    }
    view() {
      return h("div", checkbox(this, "autoPromote", _("Promote to the top choice automatically")));
    }
  };
  var ArrowSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("arrow", true);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("arrow" in ctrl)
        ctrl.arrow = this.value;
    }
    view() {
      return h("div", checkbox(this, "arrow", _("Best move arrow in analysis board")));
    }
  };
  var MultiPVSettings = class extends NumberSettings {
    constructor(boardSettings2) {
      super("multipv", 1);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("multipv" in ctrl)
        ctrl.multipv = this.value;
      ctrl.pvboxIni();
    }
    view() {
      return h("div", slider(this, "multipv", 1, 5, 1, _("MultiPV")));
    }
  };
  var NnueSettings = class extends StringSettings {
    constructor(boardSettings2, variant2) {
      super(variant2 + "-nnue", "");
      this.boardSettings = boardSettings2;
      this.variant = variant2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("evalFile" in ctrl)
        ctrl.evalFile = this.value;
      ctrl.nnueIni();
    }
    view() {
      return h("div", nnueFile(this, "evalFile", "NNUE", this.variant));
    }
  };
  var BlindfoldSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("blindfold", false);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("blindfold" in ctrl)
        ctrl.blindfold = this.value;
      const el = document.getElementById("mainboard");
      if (el) {
        if (this.value) {
          el.classList.add("blindfold");
        } else {
          el.classList.remove("blindfold");
        }
      }
    }
    view() {
      return h("div", checkbox(this, "blindfold", _("Invisible pieces")));
    }
  };
  var MaterialDifferenceSettings = class extends BooleanSettings {
    constructor(boardSettings2) {
      super("materialDifference", false);
      this.boardSettings = boardSettings2;
    }
    update() {
      const ctrl = this.boardSettings.ctrl;
      if ("materialDifference" in ctrl) {
        ctrl.materialDifference = this.value;
        if ("updateMaterial" in ctrl) {
          ctrl.updateMaterial();
        }
      }
    }
    view() {
      return h("div", checkbox(this, "captured", _("Show material difference")));
    }
  };
  var boardSettings = new BoardSettings();

  // client/variantsIni.ts
  var variantsIni = `
# Hybrid variant of Grand-chess and crazyhouse, using Grand-chess as a template
[grandhouse:grand]
startFen = r8r/1nbqkcabn1/pppppppppp/10/10/10/10/PPPPPPPPPP/1NBQKCABN1/R8R[] w - - 0 1
pieceDrops = true
capturesToHand = true

# Hybrid variant of Gothic-chess and crazyhouse, using Capablanca as a template
[gothhouse:capablanca]
startFen = rnbqckabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQCKABNR[] w KQkq - 0 1
pieceDrops = true
capturesToHand = true

# Hybrid variant of Embassy chess and crazyhouse, using Embassy as a template
[embassyhouse:embassy]
startFen = rnbqkcabnr/pppppppppp/10/10/10/10/PPPPPPPPPP/RNBQKCABNR[] w KQkq - 0 1
pieceDrops = true
capturesToHand = true

[gorogoroplus:gorogoro]
startFen = sgkgs/5/1ppp1/1PPP1/5/SGKGS[LNln] w 0 1
lance = l
shogiKnight = n
promotedPieceType = l:g n:g

[shogun:crazyhouse]
startFen = rnb+fkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNB+FKBNR[] w KQkq - 0 1
commoner = c
centaur = g
archbishop = a
chancellor = m
fers = f
promotionRank = 6
promotionLimit = g:1 a:1 m:1 q:1
promotionPieceTypes = -
promotedPieceType = p:c n:g b:a r:m f:q
mandatoryPawnPromotion = false
firstRankPawnDrops = true
promotionZonePawnDrops = true
whiteDropRegion = *1 *2 *3 *4 *5
blackDropRegion = *4 *5 *6 *7 *8
immobilityIllegal = true

[orda:chess]
centaur = h
knibis = a
kniroo = l
silver = y
promotionPieceTypes = qh
startFen = lhaykahl/8/pppppppp/8/8/8/PPPPPPPP/RNBQKBNR w KQ - 0 1
flagPiece = k
whiteFlag = *8
blackFlag = *1

[synochess:pocketknight]
janggiCannon = c
soldier = s
horse = h
fersAlfil = e
commoner = a
startFen = rneakenr/8/1c4c1/1ss2ss1/8/8/PPPPPPPP/RNBQKBNR[ss] w KQ - 0 1
stalemateValue = loss
perpetualCheckIllegal = true
flyingGeneral = true
blackDropRegion = *5
flagPiece = k
whiteFlag = *8
blackFlag = *1

[shinobi:crazyhouse]
commoner = c
bers = d
archbishop = j
fers = m
shogiKnight = h
lance = l
promotionRank = 7
promotionPieceTypes = -
promotedPieceType = p:c m:b h:n l:r
mandatoryPiecePromotion = true
stalemateValue = loss
nFoldRule = 4
perpetualCheckIllegal = true
startFen = rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/LH1CK1HL[LHMMDJ] w kq - 0 1
capturesToHand = false
whiteDropRegion = *1 *2 *3 *4
immobilityIllegal = true
flagPiece = k
whiteFlag = *8
blackFlag = *1

[ordamirror:chess]
centaur = h
knibis = a
kniroo = l
customPiece1 = f:mQcN
promotionPieceTypes = lhaf
startFen = lhafkahl/8/pppppppp/8/8/PPPPPPPP/8/LHAFKAHL w - - 0 1
flagPiece = k
whiteFlag = *8
blackFlag = *1

[empire:chess]
customPiece1 = e:mQcN
customPiece2 = c:mQcB
customPiece3 = t:mQcR
customPiece4 = d:mQcK
soldier = s
promotionPieceTypes = q
startFen = rnbqkbnr/pppppppp/8/8/8/PPPSSPPP/8/TECDKCET w kq - 0 1
stalemateValue = loss
nFoldValue = loss
flagPiece = k
whiteFlag = *8
blackFlag = *1
flyingGeneral = true

[chak]
maxRank = 9
maxFile = 9
rook = r
knight = v
centaur = j
immobile = o
customPiece1 = s:FvW
customPiece2 = q:pQ
customPiece3 = d:mQ2cQ2
customPiece4 = p:fsmWfceF
customPiece5 = k:WF
customPiece6 = w:FvW
startFen = rvsqkjsvr/4o4/p1p1p1p1p/9/9/9/P1P1P1P1P/4O4/RVSJKQSVR w - - 0 1
mobilityRegionWhiteCustomPiece6 = *5 *6 *7 *8 *9
mobilityRegionWhiteCustomPiece3 = *5 *6 *7 *8 *9
mobilityRegionBlackCustomPiece6 = *1 *2 *3 *4 *5
mobilityRegionBlackCustomPiece3 = *1 *2 *3 *4 *5
promotionRank = 5
promotionPieceTypes = -
mandatoryPiecePromotion = true
promotedPieceType = p:w k:d
extinctionValue = loss
extinctionPieceTypes = kd
extinctionPseudoRoyal = true
flagPiece = d
whiteFlag = e8
blackFlag = e2
nMoveRule = 50
nFoldRule = 3
nFoldValue = draw
stalemateValue = loss

[chennis]
maxRank = 7
maxFile = 7
mobilityRegionWhiteKing = b1 c1 d1 e1 f1 b2 c2 d2 e2 f2 b3 c3 d3 e3 f3 b4 c4 d4 e4 f4
mobilityRegionBlackKing = b4 c4 d4 e4 f4 b5 c5 d5 e5 f5 b6 c6 d6 e6 f6 b7 c7 d7 e7 f7
customPiece1 = p:fmWfceF
cannon = c
commoner = m
fers = f
soldier = s
king = k
bishop = b
knight = n
rook = r
promotionPieceTypes = -
promotedPieceType = p:r f:c s:b m:n
promotionRank = 1
startFen = 1fkm3/1p1s3/7/7/7/3S1P1/3MKF1[] w - 0 1
pieceDrops = true
capturesToHand = true
pieceDemotion = true
mandatoryPiecePromotion = true
dropPromoted = true
castling = false
stalemateValue = loss`;

  // client/cgCtrl.ts
  var ChessgroundController = class {
    constructor(el, model) {
      var _a2;
      this.home = model.home;
      this.variant = VARIANTS[model.variant];
      this.chess960 = model.chess960 === "True";
      this.hasPockets = !!this.variant.pocket;
      this.anon = model.anon === "True";
      this.mycolor = "white";
      this.oppcolor = "black";
      this.fullfen = model.fen;
      this.notation = notation(this.variant);
      const pocket0 = document.getElementById("pocket0");
      const pocket1 = document.getElementById("pocket1");
      const parts = this.fullfen.split(" ");
      const fen_placement = parts[0];
      this.chessground = Chessground(el, {
        fen: fen_placement,
        dimensions: this.variant.board.dimensions,
        notation: this.notation,
        addDimensionsCssVarsTo: document.body,
        kingRoles: this.variant.kingRoles,
        pocketRoles: (_a2 = this.variant.pocket) == null ? void 0 : _a2.roles
      }, pocket0, pocket1);
      boardSettings.ctrl = this;
      boardSettings.assetURL = model.assetURL;
      const boardFamily = this.variant.boardFamily;
      const pieceFamily = this.variant.pieceFamily;
      boardSettings.updateBoardStyle(boardFamily);
      boardSettings.updatePieceStyle(pieceFamily);
      boardSettings.updateZoom(boardFamily);
      boardSettings.updateBlindfold();
      ffish_default().then((loadedModule) => {
        this.ffish = loadedModule;
        this.ffish.loadVariantConfig(variantsIni);
        this.notationAsObject = this.notation2ffishjs(this.notation);
        this.ffishBoard = new this.ffish.Board(
          moddedVariant(this.variant.name, this.chess960, this.chessground.state.boardState.pieces, parts[2]),
          this.fullfen,
          this.chess960
        );
        window.addEventListener("beforeunload", () => this.ffishBoard.delete());
      });
    }
    toggleOrientation() {
      this.chessground.toggleOrientation();
    }
    flipped() {
      return this.chessground.state.orientation === "black";
    }
    legalMoves() {
      return this.ffishBoard.legalMoves().split(" ").map(uci2cg);
    }
    notation2ffishjs(n) {
      switch (n) {
        case Notation.ALGEBRAIC:
          return this.ffish.Notation.SAN;
        case Notation.SHOGI_ARBNUM:
          return this.ffish.Notation.SHOGI_HODGES_NUMBER;
        case Notation.JANGGI:
          return this.ffish.Notation.JANGGI;
        case Notation.XIANGQI_ARBNUM:
          return this.ffish.Notation.XIANGQI_WXF;
        default:
          return this.ffish.Notation.SAN;
      }
    }
  };

  // client/info.ts
  function updateCount(fen, whiteContainer, blackContainer) {
    const [countingPly, countingLimit, countingSide] = getCounting(fen);
    whiteContainer = patch(whiteContainer, h("div#misc-infow", ""));
    blackContainer = patch(blackContainer, h("div#misc-infob", ""));
    const countingStr = `${Math.floor((countingPly + 1) / 2)}/${countingLimit / 2 + countingLimit / 2 % 2}`;
    if (countingLimit !== 0 && countingPly !== 0) {
      if (countingSide === "w")
        whiteContainer = patch(whiteContainer, h("div#misc-infow", countingStr));
      else
        blackContainer = patch(blackContainer, h("div#misc-infob", countingStr));
    }
    return [whiteContainer, blackContainer];
  }
  function updatePoint(fen, choContainer, hanContainer) {
    const board = fen.split(" ")[0];
    const [choPoint, hanPoint] = getJanggiPoints(board);
    choContainer = patch(choContainer, h("div#misc-infow", { class: { "text-color-blue": true } }, choPoint));
    hanContainer = patch(hanContainer, h("div#misc-infob", { class: { "text-color-red": true } }, hanPoint));
    return [choContainer, hanContainer];
  }

  // client/sound.ts
  var import_howler = __toESM(require_howler());
  var _Sounds = class {
    constructor() {
      this.moveSoundSet = {
        regular: { move: () => this.move(), capture: () => this.capture() },
        shogi: { move: () => this.shogimove(), capture: () => this.shogicapture() },
        atomic: { move: () => this.move(), capture: () => this.explosion() }
      };
      this.tracks = {};
    }
    updateVolume() {
      const volume = volumeSettings.value;
      Object.keys(this.tracks).forEach((key) => {
        this.tracks[key].volume(volume);
      });
    }
    updateSoundTheme(assetURL) {
      Object.keys(_Sounds.trackNames).forEach((key) => {
        this.tracks[key] = this.buildSound(assetURL, _Sounds.trackNames[key]);
      });
    }
    buildSound(assetURL, trackName) {
      const soundTheme = soundThemeSettings.value;
      const soundTrack = soundTheme === "silent" ? "Silence" : trackName;
      const sound2 = new import_howler.Howl({
        src: [
          assetURL + "/sound/" + soundTheme + "/" + soundTrack + ".ogg",
          assetURL + "/sound/" + soundTheme + "/" + soundTrack + ".mp3"
        ],
        onplayerror: function() {
          sound2.once("unlock", function() {
            sound2.play();
          });
        },
        volume: volumeSettings.value
      });
      return sound2;
    }
    audio() {
      return soundThemeSettings.value !== "silent";
    }
    genericNotify() {
      if (this.audio())
        this.tracks.GenericNotify.play();
    }
    socialNotify() {
      if (this.audio())
        this.tracks.SocialNotify.play();
    }
    move() {
      if (this.audio())
        this.tracks.Move.play();
    }
    capture() {
      if (this.audio())
        this.tracks.Capture.play();
    }
    check() {
      if (this.audio())
        this.tracks.Check.play();
    }
    draw() {
      if (this.audio())
        this.tracks.Draw.play();
    }
    victory() {
      if (this.audio())
        this.tracks.Victory.play();
    }
    defeat() {
      if (this.audio())
        this.tracks.Defeat.play();
    }
    shogimove() {
      if (this.audio())
        this.tracks.ShogiMove.play();
    }
    shogicapture() {
      if (this.audio())
        this.tracks.ShogiCapture.play();
    }
    chat() {
      if (this.audio())
        this.tracks.Chat.play();
    }
    setup() {
      if (this.audio())
        this.tracks.Setup.play();
    }
    lowTime() {
      if (this.audio())
        this.tracks.LowTime.play();
    }
    tick() {
      if (this.audio())
        this.tracks.Tick.play();
    }
    explosion() {
      if (this.audio())
        this.tracks.Explosion.play();
    }
    berserk() {
      if (this.audio())
        this.tracks.Berserk.play();
    }
    moveSound(variant2, capture) {
      const soundSet = variant2.ui.pieceSound in this.moveSoundSet ? this.moveSoundSet[variant2.ui.pieceSound] : this.moveSoundSet.regular;
      if (capture)
        soundSet.capture();
      else
        soundSet.move();
    }
    gameEndSound(result, color) {
      switch (result) {
        case "1/2-1/2":
          this.draw();
          break;
        case "1-0":
          if (color === "white")
            this.victory();
          else
            this.defeat();
          break;
        case "0-1":
          if (color === "black")
            this.victory();
          else
            this.defeat();
          break;
      }
    }
  };
  var Sounds = _Sounds;
  Sounds.trackNames = {
    GenericNotify: "GenericNotify",
    SocialNotify: "SocialNotify",
    Move: "Move",
    Capture: "Capture",
    Check: "Check",
    Draw: "Draw",
    Victory: "Victory",
    Defeat: "Defeat",
    ShogiMove: "shogisnap",
    ShogiCapture: "shogislam",
    Chat: "chat",
    Setup: "dinding",
    LowTime: "LowTime",
    Tick: "Tick",
    Explosion: "Explosion",
    Berserk: "Berserk"
  };
  var VolumeSettings = class extends NumberSettings {
    constructor() {
      super("volume", 1);
    }
    update() {
      sound.updateVolume();
    }
    view() {
      return h("div", slider(this, "sound-volume", 0, 1, 0.01, _("Volume")));
    }
  };
  var soundThemes = {
    silent: "Silent",
    standard: "Standard",
    piano: "Piano",
    nes: "NES",
    sfx: "SFX",
    futuristic: "Futuristic",
    lisp: "Lisp",
    robot: "Robot"
  };
  var SoundThemeSettings = class extends StringSettings {
    constructor() {
      super("soundtheme", "standard");
    }
    update() {
      sound.updateSoundTheme(this.assetURL);
    }
    view() {
      return h("div#soundtheme.radio-list", radioList(this, "soundtheme", soundThemes, (_2, key) => this.value = key));
    }
  };
  var sound = new Sounds();
  var volumeSettings = new VolumeSettings();
  var soundThemeSettings = new SoundThemeSettings();

  // client/chat.ts
  function chatMessage(user, message, chatType, time) {
    const chatDiv = document.getElementById(chatType + "-messages");
    const isBottom = chatDiv.scrollHeight - (chatDiv.scrollTop + chatDiv.offsetHeight) < 80;
    const localTime = time ? new Date(time * 1e3).toLocaleTimeString("default", { hour: "2-digit", minute: "2-digit", hour12: false }) : "";
    const container = document.getElementById("messages");
    if (user.length === 0) {
      patch(container, h("div#messages", [h("li.message.offer", [h("t", message)])]));
    } else if (user === "_server") {
      patch(container, h("div#messages", [h("li.message.server", [h("div.time", localTime), h("user", _("Server")), h("t", message)])]));
    } else if (user === "Discord-Relay") {
      const colonIndex = message.indexOf(":");
      const discordUser = message.substring(0, colonIndex);
      const discordMessage = message.substring(colonIndex + 2);
      patch(container, h("div#messages", [h("li.message", [h("div.time", localTime), h("div.discord-icon-container", h("img.icon-discord-icon", { attrs: { src: "/static/icons/discord.svg" } })), h("user", discordUser), h("t", discordMessage)])]));
    } else {
      patch(container, h("div#messages", [h("li.message", [h("div.time", localTime), h("user", h("a", { attrs: { href: "/@/" + user } }, user)), h("t", message)])]));
    }
    if (isBottom)
      setTimeout(() => {
        chatDiv.scrollTop = chatDiv.scrollHeight;
      }, 200);
  }

  // client/gameCtrl.ts
  var GameController = class extends ChessgroundController {
    constructor(el, model) {
      super(el, model);
      this.setDests = () => {
        if (this.ffishBoard === void 0) {
          setTimeout(this.setDests, 100);
        } else {
          const legalMoves = this.ffishBoard.legalMoves().split(" ");
          const dests = moveDests(legalMoves);
          this.chessground.set({ movable: { dests } });
          if (this.steps.length === 1) {
            this.chessground.set({ check: this.ffishBoard.isCheck() ? this.turnColor : false });
          }
        }
      };
      this.doSend = (message) => {
        this.sock.send(JSON.stringify(message));
      };
      this.onMove = () => {
        return (_orig, _dest, capturedPiece) => {
          sound.moveSound(this.variant, !!capturedPiece);
        };
      };
      this.onDrop = () => {
        return (piece, _dest) => {
          if (piece.role)
            sound.moveSound(this.variant, false);
        };
      };
      this.onSelect = () => {
        let lastTime = performance.now();
        let lastKey;
        return (key) => {
          var _a2;
          if (this.duck.inputState === "click") {
            this.duck.finish(key);
            return;
          }
          if (this.chessground.state.movable.dests === void 0)
            return;
          const curTime = performance.now();
          if (this.chessground.state.stats.ctrlKey || lastKey === key && curTime - lastTime < 500) {
            if ((_a2 = this.chessground.state.movable.dests.get(key)) == null ? void 0 : _a2.includes(key)) {
              const piece = this.chessground.state.boardState.pieces.get(key);
              if (this.variant.name === "sittuyin") {
                this.chessground.setPieces(/* @__PURE__ */ new Map([[key, {
                  color: piece.color,
                  role: "f-piece",
                  promoted: true
                }]]));
                this.chessground.state.movable.dests = void 0;
                this.chessground.selectSquare(key);
                sound.moveSound(this.variant, false);
                this.processInput(piece, key, key, { premove: false }, "f", "promotion");
              } else if ((this.chessground.state.stats.ctrlKey || this.dblClickPass) && this.variant.rules.pass) {
                this.pass(key);
              }
            }
            lastKey = void 0;
          } else {
            lastKey = key;
            lastTime = curTime;
          }
        };
      };
      this.pass = (passKey) => {
        var _a2;
        if (this.turnColor === this.chessground.state.movable.color || this.chessground.state.movable.color === "both") {
          if (!passKey) {
            const pieces = this.chessground.state.boardState.pieces;
            const dests = this.chessground.state.movable.dests;
            for (const [k, p] of pieces) {
              if (p.role === "k-piece" && p.color === this.turnColor) {
                if ((_a2 = dests == null ? void 0 : dests.get(k)) == null ? void 0 : _a2.includes(k)) {
                  passKey = k;
                  break;
                }
              }
            }
          }
          if (passKey) {
            this.chessground.unselect();
            sound.moveSound(this.variant, false);
            this.sendMove(passKey, passKey, "");
          }
        }
      };
      this.onMsgSpectators = (msg) => {
        const container = document.getElementById("spectators");
        patch(container, h("under-left#spectators", _("Spectators: ") + msg.spectators));
      };
      this.onMsgChat = (msg) => {
        if (this.spectator && msg.room === "spectator" || !this.spectator && msg.room !== "spectator" || msg.user.length === 0) {
          chatMessage(msg.user, msg.message, "roundchat", msg.time);
        }
      };
      this.onMsgFullChat = (msg) => {
        patch(document.getElementById("messages"), h("div#messages-clear"));
        patch(document.getElementById("messages-clear"), h("div#messages"));
        msg.lines.forEach((line) => {
          if (this.spectator && line.room === "spectator" || !this.spectator && line.room !== "spectator" || line.user.length === 0) {
            chatMessage(line.user, line.message, "roundchat", line.time);
          }
        });
      };
      this.onMsgGameNotFound = (msg) => {
        alert(_("Requested game %1 not found!", msg["gameId"]));
        window.location.assign(this.home);
      };
      this.onMsgShutdown = (msg) => {
        alert(msg.message);
      };
      this.gameId = model["gameId"];
      this.tournamentId = model["tournamentId"];
      this.username = model["username"];
      this.wplayer = model["wplayer"];
      this.bplayer = model["bplayer"];
      this.base = Number(model["base"]);
      this.inc = Number(model["inc"]);
      this.status = Number(model["status"]);
      this.steps = [];
      this.pgn = "";
      this.ply = isNaN(model["ply"]) ? 0 : model["ply"];
      this.wtitle = model["wtitle"];
      this.btitle = model["btitle"];
      this.wrating = model["wrating"];
      this.brating = model["brating"];
      this.rated = model["rated"];
      this.spectator = this.username !== this.wplayer && this.username !== this.bplayer;
      this.gating = new GatingInput(this);
      this.promotion = new PromotionInput(this);
      this.duck = new DuckInput(this);
      if (this.spectator) {
        this.mycolor = "white";
        this.oppcolor = "black";
      } else {
        this.mycolor = this.username === this.wplayer ? "white" : "black";
        this.oppcolor = this.username === this.wplayer ? "black" : "white";
      }
      this.players = [
        this.mycolor === "white" ? this.bplayer : this.wplayer,
        this.mycolor === "white" ? this.wplayer : this.bplayer
      ];
      this.titles = [
        this.mycolor === "white" ? this.btitle : this.wtitle,
        this.mycolor === "white" ? this.wtitle : this.btitle
      ];
      this.ratings = [
        this.mycolor === "white" ? this.brating : this.wrating,
        this.mycolor === "white" ? this.wrating : this.brating
      ];
      this.result = "*";
      const parts = this.fullfen.split(" ");
      this.turnColor = parts[1] === "w" ? "white" : "black";
      this.suffix = "";
      this.chessground.set({
        animation: {
          enabled: localStorage.animation === void 0 || localStorage.animation === "true"
        },
        movable: {
          showDests: localStorage.showDests === void 0 || localStorage.showDests === "true"
        }
      });
      this.steps.push({
        "fen": this.fullfen,
        "move": void 0,
        "check": false,
        "turnColor": this.turnColor
      });
      this.setDests();
    }
    flipped() {
      return this.chessground.state.orientation !== this.mycolor;
    }
    processInput(piece, orig, dest, meta, lastSuffix, lastInputType) {
      switch (lastInputType) {
        case void 0:
          this.suffix = "";
          this.gating.start(piece, orig, dest, meta);
          break;
        case "gating":
          if (lastSuffix === "-") {
            this.promotion.start(piece, orig, dest, meta);
          } else {
            this.suffix += lastSuffix;
            this.duck.start(piece, orig, dest, meta);
          }
          break;
        case "promotion":
          this.suffix += lastSuffix;
          this.duck.start(piece, orig, dest, meta);
          break;
        case "duck":
          this.suffix += lastSuffix;
          this.sendMove(orig, dest, this.suffix);
          break;
      }
    }
    sendMove(orig, dest, promo) {
      this.doSendMove(cg2uci(orig + dest + promo));
    }
    goPly(ply, plyVari = 0) {
      var _a2, _b, _c;
      const vv = (_a2 = this.steps[plyVari]) == null ? void 0 : _a2.vari;
      const step2 = plyVari > 0 && vv ? vv[ply - plyVari] : this.steps[ply];
      if (step2 === void 0)
        return;
      const move3 = uci2LastMove(step2.move);
      let capture = false;
      if (move3) {
        capture = this.chessground.state.boardState.pieces.get(move3[1]) !== void 0 && ((_b = step2.san) == null ? void 0 : _b.slice(0, 2)) !== "O-" || ((_c = step2.san) == null ? void 0 : _c.slice(1, 2)) === "x";
      }
      this.chessground.set({
        fen: step2.fen,
        turnColor: step2.turnColor,
        movable: {
          color: step2.turnColor
        },
        check: step2.check,
        lastMove: move3
      });
      this.setDests();
      this.turnColor = step2.turnColor;
      this.fullfen = step2.fen;
      this.suffix = "";
      this.duck.inputState = void 0;
      if (this.variant.ui.counting) {
        updateCount(step2.fen, document.getElementById("misc-infow"), document.getElementById("misc-infob"));
      }
      if (this.variant.ui.materialPoint) {
        updatePoint(step2.fen, document.getElementById("misc-infow"), document.getElementById("misc-infob"));
      }
      if (ply === this.ply + 1) {
        sound.moveSound(this.variant, capture);
      }
      this.ply = ply;
    }
    /**
      * Custom variant-specific logic to be triggered on move and alter state of board/pocket depending on variant rules.
      */
    onUserMove(orig, dest, meta) {
      var _a2;
      if (this.duck.inputState === "move") {
        this.duck.finish(dest);
        return;
      }
      this.preaction = meta.premove;
      const pieces = this.chessground.state.boardState.pieces;
      let moved = pieces.get(dest);
      if (moved === void 0)
        moved = { role: "k-piece", color: this.mycolor };
      if (meta.captured === void 0 && moved !== void 0 && moved.role === "p-piece" && orig[0] !== dest[0] && this.variant.rules.enPassant) {
        const pos = key2pos(dest), pawnKey = pos2key([pos[0], pos[1] + (this.mycolor === "white" ? -1 : 1)]);
        meta.captured = pieces.get(pawnKey);
        this.chessground.setPieces(/* @__PURE__ */ new Map([[pawnKey, void 0]]));
      }
      if (((_a2 = this.variant.pocket) == null ? void 0 : _a2.captureToHand) && meta.captured) {
        const piece = {
          role: unpromotedRole(this.variant, meta.captured),
          color: opposite(meta.captured.color)
        };
        this.chessground.changePocket(piece, 1);
        this.chessground.state.dom.redraw();
      }
      this.processInput(moved, orig, dest, meta);
      this.preaction = false;
    }
    /**
     * Variant specific logic for when dropping a piece from pocket is performed
     */
    onUserDrop(piece, dest, meta) {
      this.preaction = meta.premove;
      const role = piece.role;
      this.processInput(piece, dropOrigOf(role), dest, meta);
      this.preaction = false;
    }
    onMessage(evt) {
      if (evt.data === "/n")
        return;
      const msg = JSON.parse(evt.data);
      switch (msg.type) {
        case "spectators":
          this.onMsgSpectators(msg);
          break;
        case "roundchat":
          this.onMsgChat(msg);
          break;
        case "fullchat":
          this.onMsgFullChat(msg);
          break;
        case "game_not_found":
          this.onMsgGameNotFound(msg);
          break;
        case "shutdown":
          this.onMsgShutdown(msg);
          break;
        case "logout":
          this.doSend({ type: "logout" });
          break;
      }
    }
  };

  // client/puzzlerTypes.ts
  var idChars = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  var idLength = 5;
  function randomId() {
    let result = "";
    for (let i = idLength; i > 0; --i)
      result += idChars[Math.floor(Math.random() * idChars.length)];
    return result;
  }

  // client/puzzlerCtrl.ts
  var PuzzleController = class extends GameController {
    constructor(el, data) {
      const model = {
        home: data.home,
        assetURL: data.assetURL,
        username: data.username,
        variant: data.variant,
        fen: data.fen,
        ply: data.ply,
        gameId: data.gameId
      };
      super(el, model);
      this.moves = [];
      this.movesSan = [];
      this.undo = () => {
        console.log("Undo");
      };
      this.createSolutionSan = () => {
        if (this.ffishBoard === void 0) {
          console.log("updateSolution() WAIT 100...");
          setTimeout(this.createSolutionSan, 100);
        } else {
          this.solutionSan = this.ffishBoard.variationSan(this.solution.join(" "), this.notationAsObject, false).split(" ");
          console.log("updateSolution() solutionSan=", this.solutionSan);
          this.solutionEl = document.querySelector(".solution");
          if (this.solution) {
            this.updateSolution();
          }
          ;
        }
      };
      this.updateSolution = () => {
        this.solutionEl = patch(this.solutionEl, h("p.solution", [
          "Solution: ",
          ...this.solutionSan.map(
            (san, i) => h("san", {
              class: { done: this.moves[i] === this.solution[i] }
            }, san)
          )
        ]));
        this.movesEl = patch(this.movesEl, h("p.moves", [
          "My moves: ",
          ...this.movesSan.map(
            (move3, i) => h("uci", {
              class: { done: this.moves[i] === this.solution[i] }
            }, move3)
          )
        ]));
      };
      this.canAppend = () => this.moves.length > this.solution.length && this.moves.slice(0, this.solution.length).join(" ") === this.solution.join(" ");
      this.canForward = () => this.moves.length < this.solution.length && this.moves.join(" ") == this.solution.slice(0, this.moves.length).join(" ");
      this.isComplete = () => this.moves.join(" ") == this.solution.join(" ");
      this.isInVariation = () => !this.isComplete() && !this.canForward();
      this.cgConfig = (move3) => {
        const fen = this.ffishBoard.fen(this.variant.ui.showPromoted, 0);
        const turnColor = fen.split(" ")[1] === "w" ? "white" : "black";
        this.turnColor = turnColor;
        return {
          fen,
          turnColor,
          movable: {
            color: turnColor
          },
          check: this.ffishBoard.isCheck(),
          lastMove: uci2LastMove(move3)
        };
      };
      this.username = data.username;
      this.solution = model.variant === "duck" ? data.moves.match(/[^,]+,[^,]+/g) : data.moves.split(",");
      this.moves = [];
      this._id = data._id;
      this.all = data.all;
      if (!data.ply) {
        const parts = data.fen.split(" ");
        const color = parts[1];
        const fullmove = parseInt(parts[parts.length - 1]);
        this.ply = (fullmove - 1) * 2 + (color === "b" ? 1 : 0);
      }
      this.chessground.set({
        animation: { enabled: true },
        orientation: this.turnColor,
        turnColor: this.turnColor,
        movable: {
          free: false,
          color: this.turnColor,
          //                showDests: this.showDests,
          events: {
            after: (orig, dest, meta) => this.onUserMove(orig, dest, meta),
            afterNewPiece: (role, dest, meta) => this.onUserDrop(role, dest, meta)
          }
        },
        events: {
          move: this.onMove(),
          dropNewPiece: this.onDrop(),
          select: this.onSelect()
        }
      });
      changePieceCSS(model.assetURL, "shogi", "porti");
      changePieceCSS(model.assetURL, "tori", "porti");
      changePieceCSS(model.assetURL, "kyoto", "kyotoi");
      changePieceCSS(model.assetURL, "xiangqi", "xiangqi2di");
      changePieceCSS(model.assetURL, "janggi", "janggiikaw");
      const vVariant = this.variant.name || "chess";
      const variantEl = document.getElementById("variant");
      patch(variantEl, selectVariant("variant", vVariant, () => this.setVariant(true), () => this.setVariant(false)));
      const allEl = document.getElementById("all");
      patch(allEl, h(
        "input#all",
        {
          props: { name: "all", type: "checkbox" },
          attrs: { checked: this.all, title: "View already reviewed and skipped puzzles as well." },
          on: { click: () => this.setAll() }
        }
      ));
      const fileEl = document.getElementById("puzzlefile");
      patch(fileEl, h(
        "input#puzzlefile",
        {
          props: { name: "puzzlefile", type: "file", accept: ".epd", title: "Select a .epd file generated by chess-variants-puzzler." },
          on: { change: () => this.readFile() }
        }
      ));
      this.movesEl = document.querySelector(".moves");
      const approveEl = document.querySelector(".approve");
      patch(approveEl, h("button.approve", { on: { click: () => this.review(true) } }, [
        h("em", "Approve"),
        h("strong", "\u2713"),
        h("em", "[enter]")
      ]));
      const rejectEl = document.querySelector(".reject");
      patch(rejectEl, h("button.reject", { on: { click: () => this.review(false) } }, [
        h("em", "Reject"),
        h("strong", "\u2717"),
        h("em", "[backspace]")
      ]));
      const appendEl = document.querySelector(".append");
      patch(appendEl, h("button.append", { attrs: { disabled: true, title: "Complete the solution with missing moves." }, on: { click: () => this.append() } }, [
        h("em", "solution"),
        h("strong", "\u2191"),
        h("em", "my moves")
      ]));
      const skipEl = document.querySelector(".puzzle-skip");
      patch(skipEl, h("div.puzzle-skip", [h("button", { on: { click: () => this.skip() } }, "Skip")]));
      const forwardEl = document.querySelector(".next");
      patch(forwardEl, h("button.next", { on: { click: () => this.forward() } }, "Forward >"));
      const rewindEl = document.querySelector(".prev");
      patch(
        rewindEl,
        h(
          "button.prev",
          {
            attrs: { disabled: true },
            class: { variation: false },
            on: { click: () => this.rewind() }
          },
          "< Rewind"
        )
      );
      this.createSolutionSan();
      const noRepeat = (f) => (e) => {
        if (!e.repeat)
          f();
      };
      Mousetrap.bind("left", noRepeat(() => this.rewind()));
      Mousetrap.bind("right", noRepeat(() => this.forward()));
      Mousetrap.bind("backspace", noRepeat(() => this.review(false)));
      Mousetrap.bind("enter", noRepeat(() => this.review(true)));
      Mousetrap.bind("a", () => document.querySelector("a.analyse").click());
    }
    setVariant(isInput) {
      const e = document.getElementById("variant");
      const variant2 = e.options[e.selectedIndex].value;
      const p = document.querySelector(".variant");
      console.log("Selected varient is:", variant2, isInput);
      p.submit();
    }
    setAll() {
      const e = document.getElementById("all");
      const all = e.checked;
      const p = document.querySelector(".all");
      console.log("Selected all is:", all);
      p.submit();
    }
    updateGui(move3) {
      this.chessground.set(this.cgConfig(move3));
      this.setDests();
      const rewindEl = document.querySelector(".prev");
      rewindEl.classList.toggle("variation", this.isInVariation());
      rewindEl.disabled = this.moves.length === 0;
      const forwardEl = document.querySelector(".next");
      forwardEl.disabled = !this.canForward();
      const appendEl = document.querySelector(".append");
      appendEl.disabled = !this.canAppend();
      this.updateSolution();
    }
    skip() {
      window.location.assign(`${this.home}/skip?skipped=${this._id}`);
    }
    append() {
      this.solution = [...this.moves];
      this.solutionSan = [...this.movesSan];
      const rewindEl = document.querySelector(".prev");
      rewindEl.classList.toggle("variation", false);
      this.updateSolution();
    }
    doSendMove(move3) {
      console.log(move3);
      this.moves.push(move3);
      const san = this.ffishBoard.sanMove(move3, this.notationAsObject);
      this.movesSan.push(san);
      this.ffishBoard.push(move3);
      this.updateGui(move3);
    }
    rewind() {
      if (this.moves.length === 0)
        return;
      this.moves.pop();
      this.movesSan.pop();
      this.ffishBoard.pop();
      const move3 = this.moves[this.moves.length - 1];
      this.updateGui(move3);
    }
    forward() {
      const move3 = this.solution[this.moves.length];
      if (move3) {
        this.doSendMove(move3);
      }
    }
    review(approved) {
      const elApprove = document.querySelector(".approve");
      const elReject = document.querySelector(".reject");
      console.log("approved:", approved);
      if (approved) {
        elApprove.classList.toggle("active", true);
        elReject.classList.toggle("active", false);
      } else {
        elApprove.classList.toggle("active", false);
        elReject.classList.toggle("active", true);
      }
      console.log("review", approved);
      window.location.assign(`${this.home}/review/${this._id}?approved=${approved ? 1 : 0}&moves=${this.solution.join(",")}`);
    }
    readFile() {
      const fileEl = document.getElementById("puzzlefile");
      const files3 = fileEl.files;
      if (files3) {
        const username = this.username;
        const fileReader = new FileReader();
        fileReader.readAsText(files3[0]);
        fileReader.onload = function() {
          if (fileReader.result) {
            const allLines = fileReader.result.split("\n");
            allLines.forEach((line) => {
              if (line.trim()) {
                const parts = line.trim().split(";");
                const ops = Object.fromEntries(parts.slice(1).map((s) => s.split(" ")));
                const puzzle = {
                  _id: randomId(),
                  fen: parts[0],
                  variant: ops.variant,
                  moves: ops.pv,
                  eval: ops.eval,
                  type: ops.type,
                  uploadedBy: username
                };
                if (ops.site) {
                  if (ops.site.includes("pychess")) {
                    puzzle.gameId = ops.site.slice(-8);
                  } else {
                    puzzle.site = ops.site;
                  }
                }
                postPuzzle(puzzle);
              }
            });
          }
        };
        fileReader.onerror = function() {
          alert(fileReader.error);
        };
      }
    }
  };
  function postPuzzle(puzzle) {
    const XHR = new XMLHttpRequest();
    const FD = new FormData();
    Object.entries(puzzle).forEach((entry) => {
      FD.append(entry[0], entry[1]);
    });
    XHR.onreadystatechange = function() {
      if (this.readyState === 4 && this.status === 200) {
        const response = JSON.parse(this.responseText);
        if (response["error"] !== void 0) {
          console.log(response["error"]);
        }
      }
    };
    XHR.open("POST", "/puzzle", true);
    XHR.send(FD);
  }

  // client/puzzlerView.ts
  function runGround(vnode2, data) {
    const el = vnode2.elm;
    new PuzzleController(el, data);
  }
  function puzzlerView_default(data) {
    const variant2 = VARIANTS[data.variant];
    const parts = data.fen.split(" ");
    const color = parts[1];
    const fullmove = parseInt(parts[parts.length - 1]);
    const ply = (fullmove - 1) * 2 + (color === "b" ? 1 : 0);
    const fen = parts.join("_").replace(/\+/g, ".");
    let gameUrl;
    if (data.gameId) {
      gameUrl = `${data.pychessURL}/${data.gameId}?ply=${ply}`;
    } else {
      gameUrl = `${data.pychessURL}/analysis/${data.variant}?fen=${fen}`;
    }
    window.history.replaceState({}, "", `/puzzle/${data._id}`);
    return h("main", [
      h("section.top-controls", [
        h("form.variant", { props: { method: "post", action: "/variant" } }, [
          h("select#variant")
        ]),
        h("form.all", { props: { method: "post", action: "/all" } }, [
          h("label", { attrs: { for: "all" } }, "All"),
          h("input#all")
        ]),
        h("span.wrapper", [
          h("label", { attrs: { for: "puzzlefile" } }, "Upload puzzle file: "),
          h("input#puzzlefile")
        ]),
        h("div#username", data.username),
        h("a", { attrs: { href: "/logout" } }, "Log out")
      ]),
      h("div.puzzle", [
        h("div.pocket-top", [
          h("div." + variant2.pieceFamily + "." + data.variant, [
            h("div.cg-wrap.pocket", [
              h("div#pocket0")
            ])
          ])
        ]),
        h(`selection#mainboard.${variant2.boardFamily}.${variant2.pieceFamily}.${variant2.ui.boardMark}`, [
          h("div.cg-wrap." + variant2.board.cg, { hook: { insert: (vnode2) => runGround(vnode2, data) } })
        ]),
        h("div.pocket-bot", [
          h("div." + variant2.pieceFamily + "." + data.variant, [
            h("div.cg-wrap.pocket", [
              h("div#pocket1")
            ])
          ])
        ]),
        h("div.puzzle-ui", [
          h("div.puzzle-info", [
            h("p.puzzle-info-title", `Candidate id: ${data._id}`),
            h("p", [
              "Site: ",
              "site" in data ? h("a.analyse", { attrs: { href: `${data.site}`, target: "_blank" } }, `${data.site}`) : ""
            ]),
            h("p", [
              "From game: ",
              h("a.analyse", { attrs: { href: gameUrl, target: "_blank" } }, "gameId" in data ? `${data.gameId}` : "analysis")
            ]),
            h("p", `Type: ${data.type}`),
            h("p", `Eval: ${data.eval}`),
            h("p.solution"),
            h("p.moves")
          ]),
          h("div.puzzle-review", [
            h("button.reject"),
            h("button.approve"),
            h("button.append")
          ]),
          h("div.puzzle-skip"),
          h("div.puzzle-help", [
            h("p", "Does the puzzle feel a bit off, computer-like, or frustrating? Just reject it. Too difficult and you're not sure if interesting? Skip it. Use arrow keys to replay, backspace/enter to review, a to analyse.")
          ])
        ])
      ]),
      h("div.replay", [
        h("button.prev"),
        h("button.next")
      ])
    ]);
  }

  // client/main.ts
  function puzzlerStart(data) {
    console.log(data);
    const element = document.querySelector("main");
    patch(element, puzzlerView_default(data));
  }
  window.puzzlerStart = puzzlerStart;
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)

gettext.js/lib/gettext.js:
  (*! gettext.js - Guillaume Potier - MIT Licensed *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL21vdXNldHJhcC9tb3VzZXRyYXAuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL2h0bWxkb21hcGkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3NuYWJiZG9tL3NyYy92bm9kZS50cyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL2lzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvaW5pdC50cyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL2gudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3NuYWJiZG9tL3NyYy90b3Zub2RlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvbW9kdWxlcy9hdHRyaWJ1dGVzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvbW9kdWxlcy9jbGFzcy50cyIsICIuLi9ub2RlX21vZHVsZXMvc25hYmJkb20vc3JjL21vZHVsZXMvZXZlbnRsaXN0ZW5lcnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3NuYWJiZG9tL3NyYy9tb2R1bGVzL3Byb3BzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9zbmFiYmRvbS9zcmMvbW9kdWxlcy9zdHlsZS50cyIsICIuLi9jbGllbnQvZG9jdW1lbnQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvdHlwZXMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvdXRpbC50cyIsICIuLi9ub2RlX21vZHVsZXMvZ2V0dGV4dC5qcy9saWIvZ2V0dGV4dC5qcyIsICIuLi9jbGllbnQvc2V0dGluZ3MudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2lkYi1rZXl2YWwvZGlzdC9pbmRleC5qcyIsICIuLi9jbGllbnQvdmlldy50cyIsICIuLi9jbGllbnQvaTE4bi50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9mZW4udHMiLCAiLi4vY2xpZW50L21hdGVyaWFsLnRzIiwgIi4uL2NsaWVudC92YXJpYW50cy50cyIsICIuLi9jbGllbnQvcHV6emxlckN0cmwudHMiLCAiLi4vY2xpZW50L2NoZXNzLnRzIiwgIi4uL2NsaWVudC9pbnB1dC9pbnB1dC50cyIsICIuLi9jbGllbnQvaW5wdXQvZ2F0aW5nLnRzIiwgIi4uL2NsaWVudC9pbnB1dC9wcm9tb3Rpb24udHMiLCAiLi4vY2xpZW50L2lucHV0L2R1Y2sudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvcHJlbW92ZS50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9ib2FyZC50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9jb25maWcudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvYW5pbS50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9kcmF3LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL2RyYWcudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvZXhwbG9zaW9uLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL2FwaS50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9wcmVkcm9wLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL3N0YXRlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL3N5bmMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvc3ZnLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL3dyYXAudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvcG9ja2V0LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9jaGVzc2dyb3VuZHgvc3JjL2V2ZW50cy50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9yZW5kZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2NoZXNzZ3JvdW5keC9zcmMvYXV0b1BpZWNlcy50cyIsICIuLi9ub2RlX21vZHVsZXMvY2hlc3Nncm91bmR4L3NyYy9jaGVzc2dyb3VuZC50cyIsICIuLi9ub2RlX21vZHVsZXMvZmZpc2gtZXM2L2ZmaXNoLmpzIiwgIi4uL2NsaWVudC9ib2FyZFNldHRpbmdzLnRzIiwgIi4uL2NsaWVudC92YXJpYW50c0luaS50cyIsICIuLi9jbGllbnQvY2dDdHJsLnRzIiwgIi4uL2NsaWVudC9pbmZvLnRzIiwgIi4uL2NsaWVudC9zb3VuZC50cyIsICIuLi9jbGllbnQvY2hhdC50cyIsICIuLi9jbGllbnQvZ2FtZUN0cmwudHMiLCAiLi4vY2xpZW50L3B1enpsZXJUeXBlcy50cyIsICIuLi9jbGllbnQvcHV6emxlclZpZXcudHMiLCAiLi4vY2xpZW50L21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qZ2xvYmFsIGRlZmluZTpmYWxzZSAqL1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE3IENyYWlnIENhbXBiZWxsXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogTW91c2V0cmFwIGlzIGEgc2ltcGxlIGtleWJvYXJkIHNob3J0Y3V0IGxpYnJhcnkgZm9yIEphdmFzY3JpcHQgd2l0aFxuICogbm8gZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKlxuICogQHZlcnNpb24gMS42LjVcbiAqIEB1cmwgY3JhaWcuaXMva2lsbGluZy9taWNlXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuICAgIC8vIENoZWNrIGlmIG1vdXNldHJhcCBpcyB1c2VkIGluc2lkZSBicm93c2VyLCBpZiBub3QsIHJldHVyblxuICAgIGlmICghd2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtYXBwaW5nIG9mIHNwZWNpYWwga2V5Y29kZXMgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBrZXlzXG4gICAgICpcbiAgICAgKiBldmVyeXRoaW5nIGluIHRoaXMgZGljdGlvbmFyeSBjYW5ub3QgdXNlIGtleXByZXNzIGV2ZW50c1xuICAgICAqIHNvIGl0IGhhcyB0byBiZSBoZXJlIHRvIG1hcCB0byB0aGUgY29ycmVjdCBrZXljb2RlcyBmb3JcbiAgICAgKiBrZXl1cC9rZXlkb3duIGV2ZW50c1xuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB2YXIgX01BUCA9IHtcbiAgICAgICAgODogJ2JhY2tzcGFjZScsXG4gICAgICAgIDk6ICd0YWInLFxuICAgICAgICAxMzogJ2VudGVyJyxcbiAgICAgICAgMTY6ICdzaGlmdCcsXG4gICAgICAgIDE3OiAnY3RybCcsXG4gICAgICAgIDE4OiAnYWx0JyxcbiAgICAgICAgMjA6ICdjYXBzbG9jaycsXG4gICAgICAgIDI3OiAnZXNjJyxcbiAgICAgICAgMzI6ICdzcGFjZScsXG4gICAgICAgIDMzOiAncGFnZXVwJyxcbiAgICAgICAgMzQ6ICdwYWdlZG93bicsXG4gICAgICAgIDM1OiAnZW5kJyxcbiAgICAgICAgMzY6ICdob21lJyxcbiAgICAgICAgMzc6ICdsZWZ0JyxcbiAgICAgICAgMzg6ICd1cCcsXG4gICAgICAgIDM5OiAncmlnaHQnLFxuICAgICAgICA0MDogJ2Rvd24nLFxuICAgICAgICA0NTogJ2lucycsXG4gICAgICAgIDQ2OiAnZGVsJyxcbiAgICAgICAgOTE6ICdtZXRhJyxcbiAgICAgICAgOTM6ICdtZXRhJyxcbiAgICAgICAgMjI0OiAnbWV0YSdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbWFwcGluZyBmb3Igc3BlY2lhbCBjaGFyYWN0ZXJzIHNvIHRoZXkgY2FuIHN1cHBvcnRcbiAgICAgKlxuICAgICAqIHRoaXMgZGljdGlvbmFyeSBpcyBvbmx5IHVzZWQgaW5jYXNlIHlvdSB3YW50IHRvIGJpbmQgYVxuICAgICAqIGtleXVwIG9yIGtleWRvd24gZXZlbnQgdG8gb25lIG9mIHRoZXNlIGtleXNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFyIF9LRVlDT0RFX01BUCA9IHtcbiAgICAgICAgMTA2OiAnKicsXG4gICAgICAgIDEwNzogJysnLFxuICAgICAgICAxMDk6ICctJyxcbiAgICAgICAgMTEwOiAnLicsXG4gICAgICAgIDExMSA6ICcvJyxcbiAgICAgICAgMTg2OiAnOycsXG4gICAgICAgIDE4NzogJz0nLFxuICAgICAgICAxODg6ICcsJyxcbiAgICAgICAgMTg5OiAnLScsXG4gICAgICAgIDE5MDogJy4nLFxuICAgICAgICAxOTE6ICcvJyxcbiAgICAgICAgMTkyOiAnYCcsXG4gICAgICAgIDIxOTogJ1snLFxuICAgICAgICAyMjA6ICdcXFxcJyxcbiAgICAgICAgMjIxOiAnXScsXG4gICAgICAgIDIyMjogJ1xcJydcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdGhpcyBpcyBhIG1hcHBpbmcgb2Yga2V5cyB0aGF0IHJlcXVpcmUgc2hpZnQgb24gYSBVUyBrZXlwYWRcbiAgICAgKiBiYWNrIHRvIHRoZSBub24gc2hpZnQgZXF1aXZlbGVudHNcbiAgICAgKlxuICAgICAqIHRoaXMgaXMgc28geW91IGNhbiB1c2Uga2V5dXAgZXZlbnRzIHdpdGggdGhlc2Uga2V5c1xuICAgICAqXG4gICAgICogbm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IHdvcmsgcmVsaWFibHkgb24gVVMga2V5Ym9hcmRzXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhciBfU0hJRlRfTUFQID0ge1xuICAgICAgICAnfic6ICdgJyxcbiAgICAgICAgJyEnOiAnMScsXG4gICAgICAgICdAJzogJzInLFxuICAgICAgICAnIyc6ICczJyxcbiAgICAgICAgJyQnOiAnNCcsXG4gICAgICAgICclJzogJzUnLFxuICAgICAgICAnXic6ICc2JyxcbiAgICAgICAgJyYnOiAnNycsXG4gICAgICAgICcqJzogJzgnLFxuICAgICAgICAnKCc6ICc5JyxcbiAgICAgICAgJyknOiAnMCcsXG4gICAgICAgICdfJzogJy0nLFxuICAgICAgICAnKyc6ICc9JyxcbiAgICAgICAgJzonOiAnOycsXG4gICAgICAgICdcXFwiJzogJ1xcJycsXG4gICAgICAgICc8JzogJywnLFxuICAgICAgICAnPic6ICcuJyxcbiAgICAgICAgJz8nOiAnLycsXG4gICAgICAgICd8JzogJ1xcXFwnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHRoaXMgaXMgYSBsaXN0IG9mIHNwZWNpYWwgc3RyaW5ncyB5b3UgY2FuIHVzZSB0byBtYXBcbiAgICAgKiB0byBtb2RpZmllciBrZXlzIHdoZW4geW91IHNwZWNpZnkgeW91ciBrZXlib2FyZCBzaG9ydGN1dHNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFyIF9TUEVDSUFMX0FMSUFTRVMgPSB7XG4gICAgICAgICdvcHRpb24nOiAnYWx0JyxcbiAgICAgICAgJ2NvbW1hbmQnOiAnbWV0YScsXG4gICAgICAgICdyZXR1cm4nOiAnZW50ZXInLFxuICAgICAgICAnZXNjYXBlJzogJ2VzYycsXG4gICAgICAgICdwbHVzJzogJysnLFxuICAgICAgICAnbW9kJzogL01hY3xpUG9kfGlQaG9uZXxpUGFkLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgPyAnbWV0YScgOiAnY3RybCdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdmFyaWFibGUgdG8gc3RvcmUgdGhlIGZsaXBwZWQgdmVyc2lvbiBvZiBfTUFQIGZyb20gYWJvdmVcbiAgICAgKiBuZWVkZWQgdG8gY2hlY2sgaWYgd2Ugc2hvdWxkIHVzZSBrZXlwcmVzcyBvciBub3Qgd2hlbiBubyBhY3Rpb25cbiAgICAgKiBpcyBzcGVjaWZpZWRcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHZhciBfUkVWRVJTRV9NQVA7XG5cbiAgICAvKipcbiAgICAgKiBsb29wIHRocm91Z2ggdGhlIGYga2V5cywgZjEgdG8gZjE5IGFuZCBhZGQgdGhlbSB0byB0aGUgbWFwXG4gICAgICogcHJvZ3JhbWF0aWNhbGx5XG4gICAgICovXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCAyMDsgKytpKSB7XG4gICAgICAgIF9NQVBbMTExICsgaV0gPSAnZicgKyBpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxvb3AgdGhyb3VnaCB0byBtYXAgbnVtYmVycyBvbiB0aGUgbnVtZXJpYyBrZXlwYWRcbiAgICAgKi9cbiAgICBmb3IgKGkgPSAwOyBpIDw9IDk7ICsraSkge1xuXG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gdXNlIGEgc3RyaW5nIGNhdXNlIG90aGVyd2lzZSBzaW5jZSAwIGlzIGZhbHNleVxuICAgICAgICAvLyBtb3VzZXRyYXAgd2lsbCBuZXZlciBmaXJlIGZvciBudW1wYWQgMCBwcmVzc2VkIGFzIHBhcnQgb2YgYSBrZXlkb3duXG4gICAgICAgIC8vIGV2ZW50LlxuICAgICAgICAvL1xuICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jY2FtcGJlbGwvbW91c2V0cmFwL3B1bGwvMjU4XG4gICAgICAgIF9NQVBbaSArIDk2XSA9IGkudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcm9zcyBicm93c2VyIGFkZCBldmVudCBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxIVE1MRG9jdW1lbnR9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gX2FkZEV2ZW50KG9iamVjdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqZWN0LmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGFrZXMgdGhlIGV2ZW50IGFuZCByZXR1cm5zIHRoZSBrZXkgY2hhcmFjdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9jaGFyYWN0ZXJGcm9tRXZlbnQoZSkge1xuXG4gICAgICAgIC8vIGZvciBrZXlwcmVzcyBldmVudHMgd2Ugc2hvdWxkIHJldHVybiB0aGUgY2hhcmFjdGVyIGFzIGlzXG4gICAgICAgIGlmIChlLnR5cGUgPT0gJ2tleXByZXNzJykge1xuICAgICAgICAgICAgdmFyIGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBzaGlmdCBrZXkgaXMgbm90IHByZXNzZWQgdGhlbiBpdCBpcyBzYWZlIHRvIGFzc3VtZVxuICAgICAgICAgICAgLy8gdGhhdCB3ZSB3YW50IHRoZSBjaGFyYWN0ZXIgdG8gYmUgbG93ZXJjYXNlLiAgdGhpcyBtZWFucyBpZlxuICAgICAgICAgICAgLy8geW91IGFjY2lkZW50YWxseSBoYXZlIGNhcHMgbG9jayBvbiB0aGVuIHlvdXIga2V5IGJpbmRpbmdzXG4gICAgICAgICAgICAvLyB3aWxsIGNvbnRpbnVlIHRvIHdvcmtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGUgb25seSBzaWRlIGVmZmVjdCB0aGF0IG1pZ2h0IG5vdCBiZSBkZXNpcmVkIGlzIGlmIHlvdVxuICAgICAgICAgICAgLy8gYmluZCBzb21ldGhpbmcgbGlrZSAnQScgY2F1c2UgeW91IHdhbnQgdG8gdHJpZ2dlciBhblxuICAgICAgICAgICAgLy8gZXZlbnQgd2hlbiBjYXBpdGFsIEEgaXMgcHJlc3NlZCBjYXBzIGxvY2sgd2lsbCBubyBsb25nZXJcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIGV2ZW50LiAgc2hpZnQrYSB3aWxsIHRob3VnaC5cbiAgICAgICAgICAgIGlmICghZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIG5vbiBrZXlwcmVzcyBldmVudHMgdGhlIHNwZWNpYWwgbWFwcyBhcmUgbmVlZGVkXG4gICAgICAgIGlmIChfTUFQW2Uud2hpY2hdKSB7XG4gICAgICAgICAgICByZXR1cm4gX01BUFtlLndoaWNoXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfS0VZQ09ERV9NQVBbZS53aGljaF0pIHtcbiAgICAgICAgICAgIHJldHVybiBfS0VZQ09ERV9NQVBbZS53aGljaF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpdCBpcyBub3QgaW4gdGhlIHNwZWNpYWwgbWFwXG5cbiAgICAgICAgLy8gd2l0aCBrZXlkb3duIGFuZCBrZXl1cCBldmVudHMgdGhlIGNoYXJhY3RlciBzZWVtcyB0byBhbHdheXNcbiAgICAgICAgLy8gY29tZSBpbiBhcyBhbiB1cHBlcmNhc2UgY2hhcmFjdGVyIHdoZXRoZXIgeW91IGFyZSBwcmVzc2luZyBzaGlmdFxuICAgICAgICAvLyBvciBub3QuICB3ZSBzaG91bGQgbWFrZSBzdXJlIGl0IGlzIGFsd2F5cyBsb3dlcmNhc2UgZm9yIGNvbXBhcmlzb25zXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMxXG4gICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzMlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9tb2RpZmllcnNNYXRjaChtb2RpZmllcnMxLCBtb2RpZmllcnMyKSB7XG4gICAgICAgIHJldHVybiBtb2RpZmllcnMxLnNvcnQoKS5qb2luKCcsJykgPT09IG1vZGlmaWVyczIuc29ydCgpLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0YWtlcyBhIGtleSBldmVudCBhbmQgZmlndXJlcyBvdXQgd2hhdCB0aGUgbW9kaWZpZXJzIGFyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfZXZlbnRNb2RpZmllcnMoZSkge1xuICAgICAgICB2YXIgbW9kaWZpZXJzID0gW107XG5cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIG1vZGlmaWVycy5wdXNoKCdzaGlmdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnYWx0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnY3RybCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUubWV0YUtleSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goJ21ldGEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcHJldmVudHMgZGVmYXVsdCBmb3IgdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN0b3BzIHByb3BvZ2F0aW9uIGZvciB0aGlzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9zdG9wUHJvcGFnYXRpb24oZSkge1xuICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lcyBpZiB0aGUga2V5Y29kZSBzcGVjaWZpZWQgaXMgYSBtb2RpZmllciBrZXkgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gX2lzTW9kaWZpZXIoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgPT0gJ3NoaWZ0JyB8fCBrZXkgPT0gJ2N0cmwnIHx8IGtleSA9PSAnYWx0JyB8fCBrZXkgPT0gJ21ldGEnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldmVyc2VzIHRoZSBtYXAgbG9va3VwIHNvIHRoYXQgd2UgY2FuIGxvb2sgZm9yIHNwZWNpZmljIGtleXNcbiAgICAgKiB0byBzZWUgd2hhdCBjYW4gYW5kIGNhbid0IHVzZSBrZXlwcmVzc1xuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9nZXRSZXZlcnNlTWFwKCkge1xuICAgICAgICBpZiAoIV9SRVZFUlNFX01BUCkge1xuICAgICAgICAgICAgX1JFVkVSU0VfTUFQID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gX01BUCkge1xuXG4gICAgICAgICAgICAgICAgLy8gcHVsbCBvdXQgdGhlIG51bWVyaWMga2V5cGFkIGZyb20gaGVyZSBjYXVzZSBrZXlwcmVzcyBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBiZSBhYmxlIHRvIGRldGVjdCB0aGUga2V5cyBmcm9tIHRoZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID4gOTUgJiYga2V5IDwgMTEyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfTUFQLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX1JFVkVSU0VfTUFQW19NQVBba2V5XV0gPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfUkVWRVJTRV9NQVA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcGlja3MgdGhlIGJlc3QgYWN0aW9uIGJhc2VkIG9uIHRoZSBrZXkgY29tYmluYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBjaGFyYWN0ZXIgZm9yIGtleVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uIHBhc3NlZCBpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9waWNrQmVzdEFjdGlvbihrZXksIG1vZGlmaWVycywgYWN0aW9uKSB7XG5cbiAgICAgICAgLy8gaWYgbm8gYWN0aW9uIHdhcyBwaWNrZWQgaW4gd2Ugc2hvdWxkIHRyeSB0byBwaWNrIHRoZSBvbmVcbiAgICAgICAgLy8gdGhhdCB3ZSB0aGluayB3b3VsZCB3b3JrIGJlc3QgZm9yIHRoaXMga2V5XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBfZ2V0UmV2ZXJzZU1hcCgpW2tleV0gPyAna2V5ZG93bicgOiAna2V5cHJlc3MnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW9kaWZpZXIga2V5cyBkb24ndCB3b3JrIGFzIGV4cGVjdGVkIHdpdGgga2V5cHJlc3MsXG4gICAgICAgIC8vIHN3aXRjaCB0byBrZXlkb3duXG4gICAgICAgIGlmIChhY3Rpb24gPT0gJ2tleXByZXNzJyAmJiBtb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSAna2V5ZG93bic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGZyb20gYSBzdHJpbmcga2V5IGNvbWJpbmF0aW9uIHRvIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNvbWJpbmF0aW9uIGxpa2UgXCJjb21tYW5kK3NoaWZ0K2xcIlxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9rZXlzRnJvbVN0cmluZyhjb21iaW5hdGlvbikge1xuICAgICAgICBpZiAoY29tYmluYXRpb24gPT09ICcrJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnKyddO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tYmluYXRpb24gPSBjb21iaW5hdGlvbi5yZXBsYWNlKC9cXCt7Mn0vZywgJytwbHVzJyk7XG4gICAgICAgIHJldHVybiBjb21iaW5hdGlvbi5zcGxpdCgnKycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgaW5mbyBmb3IgYSBzcGVjaWZpYyBrZXkgY29tYmluYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gY29tYmluYXRpb24ga2V5IGNvbWJpbmF0aW9uIChcImNvbW1hbmQrc1wiIG9yIFwiYVwiIG9yIFwiKlwiKVxuICAgICAqIEBwYXJhbSAge3N0cmluZz19IGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZnVuY3Rpb24gX2dldEtleUluZm8oY29tYmluYXRpb24sIGFjdGlvbikge1xuICAgICAgICB2YXIga2V5cztcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBtb2RpZmllcnMgPSBbXTtcblxuICAgICAgICAvLyB0YWtlIHRoZSBrZXlzIGZyb20gdGhpcyBwYXR0ZXJuIGFuZCBmaWd1cmUgb3V0IHdoYXQgdGhlIGFjdHVhbFxuICAgICAgICAvLyBwYXR0ZXJuIGlzIGFsbCBhYm91dFxuICAgICAgICBrZXlzID0gX2tleXNGcm9tU3RyaW5nKGNvbWJpbmF0aW9uKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGtleSBuYW1lc1xuICAgICAgICAgICAgaWYgKF9TUEVDSUFMX0FMSUFTRVNba2V5XSkge1xuICAgICAgICAgICAgICAgIGtleSA9IF9TUEVDSUFMX0FMSUFTRVNba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBrZXlwcmVzcyBldmVudCB0aGVuIHdlIHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgc21hcnQgYWJvdXQgdXNpbmcgc2hpZnQga2V5c1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIG9ubHkgd29yayBmb3IgVVMga2V5Ym9hcmRzIGhvd2V2ZXJcbiAgICAgICAgICAgIGlmIChhY3Rpb24gJiYgYWN0aW9uICE9ICdrZXlwcmVzcycgJiYgX1NISUZUX01BUFtrZXldKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gX1NISUZUX01BUFtrZXldO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycy5wdXNoKCdzaGlmdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGtleSBpcyBhIG1vZGlmaWVyIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0IG9mIG1vZGlmaWVyc1xuICAgICAgICAgICAgaWYgKF9pc01vZGlmaWVyKGtleSkpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGtleSBjb21iaW5hdGlvbiBpc1xuICAgICAgICAvLyB3ZSB3aWxsIHRyeSB0byBwaWNrIHRoZSBiZXN0IGV2ZW50IGZvciBpdFxuICAgICAgICBhY3Rpb24gPSBfcGlja0Jlc3RBY3Rpb24oa2V5LCBtb2RpZmllcnMsIGFjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMsXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9iZWxvbmdzVG8oZWxlbWVudCwgYW5jZXN0b3IpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50ID09PSBhbmNlc3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2JlbG9uZ3NUbyhlbGVtZW50LnBhcmVudE5vZGUsIGFuY2VzdG9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBNb3VzZXRyYXAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQgfHwgZG9jdW1lbnQ7XG5cbiAgICAgICAgaWYgKCEoc2VsZiBpbnN0YW5jZW9mIE1vdXNldHJhcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW91c2V0cmFwKHRhcmdldEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVsZW1lbnQgdG8gYXR0YWNoIGtleSBldmVudHMgdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLnRhcmdldCA9IHRhcmdldEVsZW1lbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgbGlzdCBvZiBhbGwgdGhlIGNhbGxiYWNrcyBzZXR1cCB2aWEgTW91c2V0cmFwLmJpbmQoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5fY2FsbGJhY2tzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcmVjdCBtYXAgb2Ygc3RyaW5nIGNvbWJpbmF0aW9ucyB0byBjYWxsYmFja3MgdXNlZCBmb3IgdHJpZ2dlcigpXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLl9kaXJlY3RNYXAgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICoga2VlcHMgdHJhY2sgb2Ygd2hhdCBsZXZlbCBlYWNoIHNlcXVlbmNlIGlzIGF0IHNpbmNlIG11bHRpcGxlXG4gICAgICAgICAqIHNlcXVlbmNlcyBjYW4gc3RhcnQgb3V0IHdpdGggdGhlIHNhbWUgc2VxdWVuY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfc2VxdWVuY2VMZXZlbHMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdmFyaWFibGUgdG8gc3RvcmUgdGhlIHNldFRpbWVvdXQgY2FsbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVsbHxudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3Jlc2V0VGltZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRlbXBvcmFyeSBzdGF0ZSB3aGVyZSB3ZSB3aWxsIGlnbm9yZSB0aGUgbmV4dCBrZXl1cFxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX2lnbm9yZU5leHRLZXl1cCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZW1wb3Jhcnkgc3RhdGUgd2hlcmUgd2Ugd2lsbCBpZ25vcmUgdGhlIG5leHQga2V5cHJlc3NcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX2lnbm9yZU5leHRLZXlwcmVzcyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhcmUgd2UgY3VycmVudGx5IGluc2lkZSBvZiBhIHNlcXVlbmNlP1xuICAgICAgICAgKiB0eXBlIG9mIGFjdGlvbiAoXCJrZXl1cFwiIG9yIFwia2V5ZG93blwiIG9yIFwia2V5cHJlc3NcIikgb3IgZmFsc2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW58c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9uZXh0RXhwZWN0ZWRBY3Rpb24gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVzZXRzIGFsbCBzZXF1ZW5jZSBjb3VudGVycyBleGNlcHQgZm9yIHRoZSBvbmVzIHBhc3NlZCBpblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZG9Ob3RSZXNldFxuICAgICAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBfcmVzZXRTZXF1ZW5jZXMoZG9Ob3RSZXNldCkge1xuICAgICAgICAgICAgZG9Ob3RSZXNldCA9IGRvTm90UmVzZXQgfHwge307XG5cbiAgICAgICAgICAgIHZhciBhY3RpdmVTZXF1ZW5jZXMgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBrZXk7XG5cbiAgICAgICAgICAgIGZvciAoa2V5IGluIF9zZXF1ZW5jZUxldmVscykge1xuICAgICAgICAgICAgICAgIGlmIChkb05vdFJlc2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2VxdWVuY2VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9zZXF1ZW5jZUxldmVsc1trZXldID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFhY3RpdmVTZXF1ZW5jZXMpIHtcbiAgICAgICAgICAgICAgICBfbmV4dEV4cGVjdGVkQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogZmluZHMgYWxsIGNhbGxiYWNrcyB0aGF0IG1hdGNoIGJhc2VkIG9uIHRoZSBrZXljb2RlLCBtb2RpZmllcnMsXG4gICAgICAgICAqIGFuZCBhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlclxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnNcbiAgICAgICAgICogQHBhcmFtIHtFdmVudHxPYmplY3R9IGVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBzZXF1ZW5jZU5hbWUgLSBuYW1lIG9mIHRoZSBzZXF1ZW5jZSB3ZSBhcmUgbG9va2luZyBmb3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjb21iaW5hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcj19IGxldmVsXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9nZXRNYXRjaGVzKGNoYXJhY3RlciwgbW9kaWZpZXJzLCBlLCBzZXF1ZW5jZU5hbWUsIGNvbWJpbmF0aW9uLCBsZXZlbCkge1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGUudHlwZTtcblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIGV2ZW50cyByZWxhdGVkIHRvIHRoaXMga2V5Y29kZVxuICAgICAgICAgICAgaWYgKCFzZWxmLl9jYWxsYmFja3NbY2hhcmFjdGVyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgYSBtb2RpZmllciBrZXkgaXMgY29taW5nIHVwIG9uIGl0cyBvd24gd2Ugc2hvdWxkIGFsbG93IGl0XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09ICdrZXl1cCcgJiYgX2lzTW9kaWZpZXIoY2hhcmFjdGVyKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IFtjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggYWxsIGNhbGxiYWNrcyBmb3IgdGhlIGtleSB0aGF0IHdhcyBwcmVzc2VkXG4gICAgICAgICAgICAvLyBhbmQgc2VlIGlmIGFueSBvZiB0aGVtIG1hdGNoXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2VsZi5fY2FsbGJhY2tzW2NoYXJhY3Rlcl0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHNlbGYuX2NhbGxiYWNrc1tjaGFyYWN0ZXJdW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgYSBzZXF1ZW5jZSBuYW1lIGlzIG5vdCBzcGVjaWZpZWQsIGJ1dCB0aGlzIGlzIGEgc2VxdWVuY2UgYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgd3JvbmcgbGV2ZWwgdGhlbiBtb3ZlIG9udG8gdGhlIG5leHQgbWF0Y2hcbiAgICAgICAgICAgICAgICBpZiAoIXNlcXVlbmNlTmFtZSAmJiBjYWxsYmFjay5zZXEgJiYgX3NlcXVlbmNlTGV2ZWxzW2NhbGxiYWNrLnNlcV0gIT0gY2FsbGJhY2subGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFjdGlvbiB3ZSBhcmUgbG9va2luZyBmb3IgZG9lc24ndCBtYXRjaCB0aGUgYWN0aW9uIHdlIGdvdFxuICAgICAgICAgICAgICAgIC8vIHRoZW4gd2Ugc2hvdWxkIGtlZXAgZ29pbmdcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uICE9IGNhbGxiYWNrLmFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEga2V5cHJlc3MgZXZlbnQgYW5kIHRoZSBtZXRhIGtleSBhbmQgY29udHJvbCBrZXlcbiAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHByZXNzZWQgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gb25seSBsb29rIGF0IHRoZVxuICAgICAgICAgICAgICAgIC8vIGNoYXJhY3Rlciwgb3RoZXJ3aXNlIGNoZWNrIHRoZSBtb2RpZmllcnMgYXMgd2VsbFxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gY2hyb21lIHdpbGwgbm90IGZpcmUgYSBrZXlwcmVzcyBpZiBtZXRhIG9yIGNvbnRyb2wgaXMgZG93blxuICAgICAgICAgICAgICAgIC8vIHNhZmFyaSB3aWxsIGZpcmUgYSBrZXlwcmVzcyBpZiBtZXRhIG9yIG1ldGErc2hpZnQgaXMgZG93blxuICAgICAgICAgICAgICAgIC8vIGZpcmVmb3ggd2lsbCBmaXJlIGEga2V5cHJlc3MgaWYgbWV0YSBvciBjb250cm9sIGlzIGRvd25cbiAgICAgICAgICAgICAgICBpZiAoKGFjdGlvbiA9PSAna2V5cHJlc3MnICYmICFlLm1ldGFLZXkgJiYgIWUuY3RybEtleSkgfHwgX21vZGlmaWVyc01hdGNoKG1vZGlmaWVycywgY2FsbGJhY2subW9kaWZpZXJzKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4geW91IGJpbmQgYSBjb21iaW5hdGlvbiBvciBzZXF1ZW5jZSBhIHNlY29uZCB0aW1lIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBvdmVyd3JpdGUgdGhlIGZpcnN0IG9uZS4gIGlmIGEgc2VxdWVuY2VOYW1lIG9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmF0aW9uIGlzIHNwZWNpZmllZCBpbiB0aGlzIGNhbGwgaXQgZG9lcyBqdXN0IHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gbWFrZSBkZWxldGluZyBpdHMgb3duIG1ldGhvZD9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZUNvbWJvID0gIXNlcXVlbmNlTmFtZSAmJiBjYWxsYmFjay5jb21ibyA9PSBjb21iaW5hdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVNlcXVlbmNlID0gc2VxdWVuY2VOYW1lICYmIGNhbGxiYWNrLnNlcSA9PSBzZXF1ZW5jZU5hbWUgJiYgY2FsbGJhY2subGV2ZWwgPT0gbGV2ZWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGVDb21ibyB8fCBkZWxldGVTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2tzW2NoYXJhY3Rlcl0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFjdHVhbGx5IGNhbGxzIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBpZiB5b3VyIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UgdGhpcyB3aWxsIHVzZSB0aGUganF1ZXJ5XG4gICAgICAgICAqIGNvbnZlbnRpb24gLSBwcmV2ZW50IGRlZmF1bHQgYW5kIHN0b3AgcHJvcG9nYXRpb24gb24gdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2ZpcmVDYWxsYmFjayhjYWxsYmFjaywgZSwgY29tYm8sIHNlcXVlbmNlKSB7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZXZlbnQgc2hvdWxkIG5vdCBoYXBwZW4gc3RvcCBoZXJlXG4gICAgICAgICAgICBpZiAoc2VsZi5zdG9wQ2FsbGJhY2soZSwgZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50LCBjb21ibywgc2VxdWVuY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2soZSwgY29tYm8pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgICAgICAgICBfc3RvcFByb3BhZ2F0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhhbmRsZXMgYSBjaGFyYWN0ZXIga2V5IGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZi5faGFuZGxlS2V5ID0gZnVuY3Rpb24oY2hhcmFjdGVyLCBtb2RpZmllcnMsIGUpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBfZ2V0TWF0Y2hlcyhjaGFyYWN0ZXIsIG1vZGlmaWVycywgZSk7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBkb05vdFJlc2V0ID0ge307XG4gICAgICAgICAgICB2YXIgbWF4TGV2ZWwgPSAwO1xuICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFNlcXVlbmNlQ2FsbGJhY2sgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBtYXhMZXZlbCBmb3Igc2VxdWVuY2VzIHNvIHdlIGNhbiBvbmx5IGV4ZWN1dGUgdGhlIGxvbmdlc3QgY2FsbGJhY2sgc2VxdWVuY2VcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2ldLnNlcSkge1xuICAgICAgICAgICAgICAgICAgICBtYXhMZXZlbCA9IE1hdGgubWF4KG1heExldmVsLCBjYWxsYmFja3NbaV0ubGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIG1hdGNoaW5nIGNhbGxiYWNrcyBmb3IgdGhpcyBrZXkgZXZlbnRcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgICAgIC8vIGZpcmUgZm9yIGFsbCBzZXF1ZW5jZSBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGJlY2F1c2UgaWYgZm9yIGV4YW1wbGUgeW91IGhhdmUgbXVsdGlwbGUgc2VxdWVuY2VzXG4gICAgICAgICAgICAgICAgLy8gYm91bmQgc3VjaCBhcyBcImcgaVwiIGFuZCBcImcgdFwiIHRoZXkgYm90aCBuZWVkIHRvIGZpcmUgdGhlXG4gICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sgZm9yIG1hdGNoaW5nIGcgY2F1c2Ugb3RoZXJ3aXNlIHlvdSBjYW4gb25seSBldmVyXG4gICAgICAgICAgICAgICAgLy8gbWF0Y2ggdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3NbaV0uc2VxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBmaXJlIGNhbGxiYWNrcyBmb3IgdGhlIG1heExldmVsIHRvIHByZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gc3Vic2VxdWVuY2VzIGZyb20gYWxzbyBmaXJpbmdcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGUgJ2Egb3B0aW9uIGInIHNob3VsZCBub3QgY2F1c2UgJ29wdGlvbiBiJyB0byBmaXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gdGhvdWdoICdvcHRpb24gYicgaXMgcGFydCBvZiB0aGUgb3RoZXIgc2VxdWVuY2VcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gYW55IHNlcXVlbmNlcyB0aGF0IGRvIG5vdCBtYXRjaCBoZXJlIHdpbGwgYmUgZGlzY2FyZGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlbG93IGJ5IHRoZSBfcmVzZXRTZXF1ZW5jZXMgY2FsbFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2ldLmxldmVsICE9IG1heExldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZFNlcXVlbmNlQ2FsbGJhY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgYSBsaXN0IG9mIHdoaWNoIHNlcXVlbmNlcyB3ZXJlIG1hdGNoZXMgZm9yIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIGRvTm90UmVzZXRbY2FsbGJhY2tzW2ldLnNlcV0gPSAxO1xuICAgICAgICAgICAgICAgICAgICBfZmlyZUNhbGxiYWNrKGNhbGxiYWNrc1tpXS5jYWxsYmFjaywgZSwgY2FsbGJhY2tzW2ldLmNvbWJvLCBjYWxsYmFja3NbaV0uc2VxKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2VyZSBubyBzZXF1ZW5jZSBtYXRjaGVzIGJ1dCB3ZSBhcmUgc3RpbGwgaGVyZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgbWVhbnMgdGhpcyBpcyBhIHJlZ3VsYXIgbWF0Y2ggc28gd2Ugc2hvdWxkIGZpcmUgdGhhdFxuICAgICAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkU2VxdWVuY2VDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBfZmlyZUNhbGxiYWNrKGNhbGxiYWNrc1tpXS5jYWxsYmFjaywgZSwgY2FsbGJhY2tzW2ldLmNvbWJvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBrZXkgeW91IHByZXNzZWQgbWF0Y2hlcyB0aGUgdHlwZSBvZiBzZXF1ZW5jZSB3aXRob3V0XG4gICAgICAgICAgICAvLyBiZWluZyBhIG1vZGlmaWVyIChpZSBcImtleXVwXCIgb3IgXCJrZXlwcmVzc1wiKSB0aGVuIHdlIHNob3VsZFxuICAgICAgICAgICAgLy8gcmVzZXQgYWxsIHNlcXVlbmNlcyB0aGF0IHdlcmUgbm90IG1hdGNoZWQgYnkgdGhpcyBldmVudFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc28sIGZvciBleGFtcGxlLCBpZiB5b3UgaGF2ZSB0aGUgc2VxdWVuY2UgXCJoIGEgdFwiIGFuZCB5b3VcbiAgICAgICAgICAgIC8vIHR5cGUgXCJoIGUgYSByIHRcIiBpdCBkb2VzIG5vdCBtYXRjaC4gIGluIHRoaXMgY2FzZSB0aGUgXCJlXCIgd2lsbFxuICAgICAgICAgICAgLy8gY2F1c2UgdGhlIHNlcXVlbmNlIHRvIHJlc2V0XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gbW9kaWZpZXIga2V5cyBhcmUgaWdub3JlZCBiZWNhdXNlIHlvdSBjYW4gaGF2ZSBhIHNlcXVlbmNlXG4gICAgICAgICAgICAvLyB0aGF0IGNvbnRhaW5zIG1vZGlmaWVycyBzdWNoIGFzIFwiZW50ZXIgY3RybCtzcGFjZVwiIGFuZCBpbiBtb3N0XG4gICAgICAgICAgICAvLyBjYXNlcyB0aGUgbW9kaWZpZXIga2V5IHdpbGwgYmUgcHJlc3NlZCBiZWZvcmUgdGhlIG5leHQga2V5XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYWxzbyBpZiB5b3UgaGF2ZSBhIHNlcXVlbmNlIHN1Y2ggYXMgXCJjdHJsK2IgYVwiIHRoZW4gcHJlc3NpbmcgdGhlXG4gICAgICAgICAgICAvLyBcImJcIiBrZXkgd2lsbCB0cmlnZ2VyIGEgXCJrZXlwcmVzc1wiIGFuZCBhIFwia2V5ZG93blwiXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhlIFwia2V5ZG93blwiIGlzIGV4cGVjdGVkIHdoZW4gdGhlcmUgaXMgYSBtb2RpZmllciwgYnV0IHRoZVxuICAgICAgICAgICAgLy8gXCJrZXlwcmVzc1wiIGVuZHMgdXAgbWF0Y2hpbmcgdGhlIF9uZXh0RXhwZWN0ZWRBY3Rpb24gc2luY2UgaXQgb2NjdXJzXG4gICAgICAgICAgICAvLyBhZnRlciBhbmQgdGhhdCBjYXVzZXMgdGhlIHNlcXVlbmNlIHRvIHJlc2V0XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gd2UgaWdub3JlIGtleXByZXNzZXMgaW4gYSBzZXF1ZW5jZSB0aGF0IGRpcmVjdGx5IGZvbGxvdyBhIGtleWRvd25cbiAgICAgICAgICAgIC8vIGZvciB0aGUgc2FtZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIHZhciBpZ25vcmVUaGlzS2V5cHJlc3MgPSBlLnR5cGUgPT0gJ2tleXByZXNzJyAmJiBfaWdub3JlTmV4dEtleXByZXNzO1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PSBfbmV4dEV4cGVjdGVkQWN0aW9uICYmICFfaXNNb2RpZmllcihjaGFyYWN0ZXIpICYmICFpZ25vcmVUaGlzS2V5cHJlc3MpIHtcbiAgICAgICAgICAgICAgICBfcmVzZXRTZXF1ZW5jZXMoZG9Ob3RSZXNldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9pZ25vcmVOZXh0S2V5cHJlc3MgPSBwcm9jZXNzZWRTZXF1ZW5jZUNhbGxiYWNrICYmIGUudHlwZSA9PSAna2V5ZG93bic7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhhbmRsZXMgYSBrZXlkb3duIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2hhbmRsZUtleUV2ZW50KGUpIHtcblxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGUud2hpY2ggZm9yIGtleSBldmVudHNcbiAgICAgICAgICAgIC8vIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mjg1NjI3L2phdmFzY3JpcHQta2V5Y29kZS12cy1jaGFyY29kZS11dHRlci1jb25mdXNpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZS53aGljaCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBlLndoaWNoID0gZS5rZXlDb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hhcmFjdGVyID0gX2NoYXJhY3RlckZyb21FdmVudChlKTtcblxuICAgICAgICAgICAgLy8gbm8gY2hhcmFjdGVyIGZvdW5kIHRoZW4gc3RvcFxuICAgICAgICAgICAgaWYgKCFjaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdXNlID09PSBmb3IgdGhlIGNoYXJhY3RlciBjaGVjayBiZWNhdXNlIHRoZSBjaGFyYWN0ZXIgY2FuIGJlIDBcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gJ2tleXVwJyAmJiBfaWdub3JlTmV4dEtleXVwID09PSBjaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBfaWdub3JlTmV4dEtleXVwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmhhbmRsZUtleShjaGFyYWN0ZXIsIF9ldmVudE1vZGlmaWVycyhlKSwgZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHRvIHNldCBhIDEgc2Vjb25kIHRpbWVvdXQgb24gdGhlIHNwZWNpZmllZCBzZXF1ZW5jZVxuICAgICAgICAgKlxuICAgICAgICAgKiB0aGlzIGlzIHNvIGFmdGVyIGVhY2gga2V5IHByZXNzIGluIHRoZSBzZXF1ZW5jZSB5b3UgaGF2ZSAxIHNlY29uZFxuICAgICAgICAgKiB0byBwcmVzcyB0aGUgbmV4dCBrZXkgYmVmb3JlIHlvdSBoYXZlIHRvIHN0YXJ0IG92ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX3Jlc2V0U2VxdWVuY2VUaW1lcigpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfcmVzZXRUaW1lcik7XG4gICAgICAgICAgICBfcmVzZXRUaW1lciA9IHNldFRpbWVvdXQoX3Jlc2V0U2VxdWVuY2VzLCAxMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kcyBhIGtleSBzZXF1ZW5jZSB0byBhbiBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tYm8gLSBjb21ibyBzcGVjaWZpZWQgaW4gYmluZCBjYWxsXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGtleXNcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2JpbmRTZXF1ZW5jZShjb21ibywga2V5cywgY2FsbGJhY2ssIGFjdGlvbikge1xuXG4gICAgICAgICAgICAvLyBzdGFydCBvZmYgYnkgYWRkaW5nIGEgc2VxdWVuY2UgbGV2ZWwgcmVjb3JkIGZvciB0aGlzIGNvbWJpbmF0aW9uXG4gICAgICAgICAgICAvLyBhbmQgc2V0dGluZyB0aGUgbGV2ZWwgdG8gMFxuICAgICAgICAgICAgX3NlcXVlbmNlTGV2ZWxzW2NvbWJvXSA9IDA7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogY2FsbGJhY2sgdG8gaW5jcmVhc2UgdGhlIHNlcXVlbmNlIGxldmVsIGZvciB0aGlzIHNlcXVlbmNlIGFuZCByZXNldFxuICAgICAgICAgICAgICogYWxsIG90aGVyIHNlcXVlbmNlcyB0aGF0IHdlcmUgYWN0aXZlXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5leHRBY3Rpb25cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gX2luY3JlYXNlU2VxdWVuY2UobmV4dEFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX25leHRFeHBlY3RlZEFjdGlvbiA9IG5leHRBY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICsrX3NlcXVlbmNlTGV2ZWxzW2NvbWJvXTtcbiAgICAgICAgICAgICAgICAgICAgX3Jlc2V0U2VxdWVuY2VUaW1lcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogd3JhcHMgdGhlIHNwZWNpZmllZCBjYWxsYmFjayBpbnNpZGUgb2YgYW5vdGhlciBmdW5jdGlvbiBpbiBvcmRlclxuICAgICAgICAgICAgICogdG8gcmVzZXQgYWxsIHNlcXVlbmNlIGNvdW50ZXJzIGFzIHNvb24gYXMgdGhpcyBzZXF1ZW5jZSBpcyBkb25lXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfY2FsbGJhY2tBbmRSZXNldChlKSB7XG4gICAgICAgICAgICAgICAgX2ZpcmVDYWxsYmFjayhjYWxsYmFjaywgZSwgY29tYm8pO1xuXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGlnbm9yZSB0aGUgbmV4dCBrZXkgdXAgaWYgdGhlIGFjdGlvbiBpcyBrZXkgZG93blxuICAgICAgICAgICAgICAgIC8vIG9yIGtleXByZXNzLiAgdGhpcyBpcyBzbyBpZiB5b3UgZmluaXNoIGEgc2VxdWVuY2UgYW5kXG4gICAgICAgICAgICAgICAgLy8gcmVsZWFzZSB0aGUga2V5IHRoZSBmaW5hbCBrZXkgd2lsbCBub3QgdHJpZ2dlciBhIGtleXVwXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiAhPT0gJ2tleXVwJykge1xuICAgICAgICAgICAgICAgICAgICBfaWdub3JlTmV4dEtleXVwID0gX2NoYXJhY3RlckZyb21FdmVudChlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZWlyZCByYWNlIGNvbmRpdGlvbiBpZiBhIHNlcXVlbmNlIGVuZHMgd2l0aCB0aGUga2V5XG4gICAgICAgICAgICAgICAgLy8gYW5vdGhlciBzZXF1ZW5jZSBiZWdpbnMgd2l0aFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoX3Jlc2V0U2VxdWVuY2VzLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBrZXlzIG9uZSBhdCBhIHRpbWUgYW5kIGJpbmQgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrXG4gICAgICAgICAgICAvLyBmdW5jdGlvbi4gIGZvciBhbnkga2V5IGxlYWRpbmcgdXAgdG8gdGhlIGZpbmFsIG9uZSBpdCBzaG91bGRcbiAgICAgICAgICAgIC8vIGluY3JlYXNlIHRoZSBzZXF1ZW5jZS4gYWZ0ZXIgdGhlIGZpbmFsLCBpdCBzaG91bGQgcmVzZXQgYWxsIHNlcXVlbmNlc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGlmIGFuIGFjdGlvbiBpcyBzcGVjaWZpZWQgaW4gdGhlIG9yaWdpbmFsIGJpbmQgY2FsbCB0aGVuIHRoYXQgd2lsbFxuICAgICAgICAgICAgLy8gYmUgdXNlZCB0aHJvdWdob3V0LiAgb3RoZXJ3aXNlIHdlIHdpbGwgcGFzcyB0aGUgYWN0aW9uIHRoYXQgdGhlXG4gICAgICAgICAgICAvLyBuZXh0IGtleSBpbiB0aGUgc2VxdWVuY2Ugc2hvdWxkIG1hdGNoLiAgdGhpcyBhbGxvd3MgYSBzZXF1ZW5jZVxuICAgICAgICAgICAgLy8gdG8gbWl4IGFuZCBtYXRjaCBrZXlwcmVzcyBhbmQga2V5ZG93biBldmVudHMgZGVwZW5kaW5nIG9uIHdoaWNoXG4gICAgICAgICAgICAvLyBvbmVzIGFyZSBiZXR0ZXIgc3VpdGVkIHRvIHRoZSBrZXkgcHJvdmlkZWRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBpc0ZpbmFsID0gaSArIDEgPT09IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ2FsbGJhY2sgPSBpc0ZpbmFsID8gX2NhbGxiYWNrQW5kUmVzZXQgOiBfaW5jcmVhc2VTZXF1ZW5jZShhY3Rpb24gfHwgX2dldEtleUluZm8oa2V5c1tpICsgMV0pLmFjdGlvbik7XG4gICAgICAgICAgICAgICAgX2JpbmRTaW5nbGUoa2V5c1tpXSwgd3JhcHBlZENhbGxiYWNrLCBhY3Rpb24sIGNvbWJvLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kcyBhIHNpbmdsZSBrZXlib2FyZCBjb21iaW5hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tYmluYXRpb25cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBzZXF1ZW5jZU5hbWUgLSBuYW1lIG9mIHNlcXVlbmNlIGlmIHBhcnQgb2Ygc2VxdWVuY2VcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXI9fSBsZXZlbCAtIHdoYXQgcGFydCBvZiB0aGUgc2VxdWVuY2UgdGhlIGNvbW1hbmQgaXNcbiAgICAgICAgICogQHJldHVybnMgdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2JpbmRTaW5nbGUoY29tYmluYXRpb24sIGNhbGxiYWNrLCBhY3Rpb24sIHNlcXVlbmNlTmFtZSwgbGV2ZWwpIHtcblxuICAgICAgICAgICAgLy8gc3RvcmUgYSBkaXJlY3QgbWFwcGVkIHJlZmVyZW5jZSBmb3IgdXNlIHdpdGggTW91c2V0cmFwLnRyaWdnZXJcbiAgICAgICAgICAgIHNlbGYuX2RpcmVjdE1hcFtjb21iaW5hdGlvbiArICc6JyArIGFjdGlvbl0gPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIG11bHRpcGxlIHNwYWNlcyBpbiBhIHJvdyBiZWNvbWUgYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uID0gY29tYmluYXRpb24ucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuXG4gICAgICAgICAgICB2YXIgc2VxdWVuY2UgPSBjb21iaW5hdGlvbi5zcGxpdCgnICcpO1xuICAgICAgICAgICAgdmFyIGluZm87XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgcGF0dGVybiBpcyBhIHNlcXVlbmNlIG9mIGtleXMgdGhlbiBydW4gdGhyb3VnaCB0aGlzIG1ldGhvZFxuICAgICAgICAgICAgLy8gdG8gcmVwcm9jZXNzIGVhY2ggcGF0dGVybiBvbmUga2V5IGF0IGEgdGltZVxuICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBfYmluZFNlcXVlbmNlKGNvbWJpbmF0aW9uLCBzZXF1ZW5jZSwgY2FsbGJhY2ssIGFjdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbmZvID0gX2dldEtleUluZm8oY29tYmluYXRpb24sIGFjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0byBpbml0aWFsaXplIGFycmF5IGlmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgIC8vIGEgY2FsbGJhY2sgaXMgYWRkZWQgZm9yIHRoaXMga2V5XG4gICAgICAgICAgICBzZWxmLl9jYWxsYmFja3NbaW5mby5rZXldID0gc2VsZi5fY2FsbGJhY2tzW2luZm8ua2V5XSB8fCBbXTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFuIGV4aXN0aW5nIG1hdGNoIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgICAgICAgX2dldE1hdGNoZXMoaW5mby5rZXksIGluZm8ubW9kaWZpZXJzLCB7dHlwZTogaW5mby5hY3Rpb259LCBzZXF1ZW5jZU5hbWUsIGNvbWJpbmF0aW9uLCBsZXZlbCk7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGlzIGNhbGwgYmFjayB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIC8vIGlmIGl0IGlzIGEgc2VxdWVuY2UgcHV0IGl0IGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIC8vIGlmIG5vdCBwdXQgaXQgYXQgdGhlIGVuZFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdGhlIHdheSB0aGVzZSBhcmUgcHJvY2Vzc2VkIGV4cGVjdHNcbiAgICAgICAgICAgIC8vIHRoZSBzZXF1ZW5jZSBvbmVzIHRvIGNvbWUgZmlyc3RcbiAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrc1tpbmZvLmtleV1bc2VxdWVuY2VOYW1lID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXSh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogaW5mby5tb2RpZmllcnMsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBpbmZvLmFjdGlvbixcbiAgICAgICAgICAgICAgICBzZXE6IHNlcXVlbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBsZXZlbDogbGV2ZWwsXG4gICAgICAgICAgICAgICAgY29tYm86IGNvbWJpbmF0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kcyBtdWx0aXBsZSBjb21iaW5hdGlvbnMgdG8gdGhlIHNhbWUgY2FsbGJhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gY29tYmluYXRpb25zXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gYWN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuX2JpbmRNdWx0aXBsZSA9IGZ1bmN0aW9uKGNvbWJpbmF0aW9ucywgY2FsbGJhY2ssIGFjdGlvbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBfYmluZFNpbmdsZShjb21iaW5hdGlvbnNbaV0sIGNhbGxiYWNrLCBhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHN0YXJ0IVxuICAgICAgICBfYWRkRXZlbnQodGFyZ2V0RWxlbWVudCwgJ2tleXByZXNzJywgX2hhbmRsZUtleUV2ZW50KTtcbiAgICAgICAgX2FkZEV2ZW50KHRhcmdldEVsZW1lbnQsICdrZXlkb3duJywgX2hhbmRsZUtleUV2ZW50KTtcbiAgICAgICAgX2FkZEV2ZW50KHRhcmdldEVsZW1lbnQsICdrZXl1cCcsIF9oYW5kbGVLZXlFdmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYmluZHMgYW4gZXZlbnQgdG8gbW91c2V0cmFwXG4gICAgICpcbiAgICAgKiBjYW4gYmUgYSBzaW5nbGUga2V5LCBhIGNvbWJpbmF0aW9uIG9mIGtleXMgc2VwYXJhdGVkIHdpdGggKyxcbiAgICAgKiBhbiBhcnJheSBvZiBrZXlzLCBvciBhIHNlcXVlbmNlIG9mIGtleXMgc2VwYXJhdGVkIGJ5IHNwYWNlc1xuICAgICAqXG4gICAgICogYmUgc3VyZSB0byBsaXN0IHRoZSBtb2RpZmllciBrZXlzIGZpcnN0IHRvIG1ha2Ugc3VyZSB0aGF0IHRoZVxuICAgICAqIGNvcnJlY3Qga2V5IGVuZHMgdXAgZ2V0dGluZyBib3VuZCAodGhlIGxhc3Qga2V5IGluIHRoZSBwYXR0ZXJuKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IGtleXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYWN0aW9uIC0gJ2tleXByZXNzJywgJ2tleWRvd24nLCBvciAna2V5dXAnXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIE1vdXNldHJhcC5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKGtleXMsIGNhbGxiYWNrLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBrZXlzID0ga2V5cyBpbnN0YW5jZW9mIEFycmF5ID8ga2V5cyA6IFtrZXlzXTtcbiAgICAgICAgc2VsZi5fYmluZE11bHRpcGxlLmNhbGwoc2VsZiwga2V5cywgY2FsbGJhY2ssIGFjdGlvbik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmRzIGFuIGV2ZW50IHRvIG1vdXNldHJhcFxuICAgICAqXG4gICAgICogdGhlIHVuYmluZGluZyBzZXRzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGtleSBjb21ib1xuICAgICAqIHRvIGFuIGVtcHR5IGZ1bmN0aW9uIGFuZCBkZWxldGVzIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpbiB0aGVcbiAgICAgKiBfZGlyZWN0TWFwIGRpY3QuXG4gICAgICpcbiAgICAgKiBUT0RPOiBhY3R1YWxseSByZW1vdmUgdGhpcyBmcm9tIHRoZSBfY2FsbGJhY2tzIGRpY3Rpb25hcnkgaW5zdGVhZFxuICAgICAqIG9mIGJpbmRpbmcgYW4gZW1wdHkgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIHRoZSBrZXljb21ibythY3Rpb24gaGFzIHRvIGJlIGV4YWN0bHkgdGhlIHNhbWUgYXNcbiAgICAgKiBpdCB3YXMgZGVmaW5lZCBpbiB0aGUgYmluZCBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBrZXlzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBNb3VzZXRyYXAucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKGtleXMsIGFjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBzZWxmLmJpbmQuY2FsbChzZWxmLCBrZXlzLCBmdW5jdGlvbigpIHt9LCBhY3Rpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB0cmlnZ2VycyBhbiBldmVudCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gYm91bmRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlzXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oa2V5cywgYWN0aW9uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYuX2RpcmVjdE1hcFtrZXlzICsgJzonICsgYWN0aW9uXSkge1xuICAgICAgICAgICAgc2VsZi5fZGlyZWN0TWFwW2tleXMgKyAnOicgKyBhY3Rpb25dKHt9LCBrZXlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIHRoZSBsaWJyYXJ5IGJhY2sgdG8gaXRzIGluaXRpYWwgc3RhdGUuICB0aGlzIGlzIHVzZWZ1bFxuICAgICAqIGlmIHlvdSB3YW50IHRvIGNsZWFyIG91dCB0aGUgY3VycmVudCBrZXlib2FyZCBzaG9ydGN1dHMgYW5kIGJpbmRcbiAgICAgKiBuZXcgb25lcyAtIGZvciBleGFtcGxlIGlmIHlvdSBzd2l0Y2ggdG8gYW5vdGhlciBwYWdlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX2NhbGxiYWNrcyA9IHt9O1xuICAgICAgICBzZWxmLl9kaXJlY3RNYXAgPSB7fTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNob3VsZCB3ZSBzdG9wIHRoaXMgZXZlbnQgYmVmb3JlIGZpcmluZyBvZmYgY2FsbGJhY2tzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBNb3VzZXRyYXAucHJvdG90eXBlLnN0b3BDYWxsYmFjayA9IGZ1bmN0aW9uKGUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGhhcyB0aGUgY2xhc3MgXCJtb3VzZXRyYXBcIiB0aGVuIG5vIG5lZWQgdG8gc3RvcFxuICAgICAgICBpZiAoKCcgJyArIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnKS5pbmRleE9mKCcgbW91c2V0cmFwICcpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfYmVsb25nc1RvKGVsZW1lbnQsIHNlbGYudGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXZlbnRzIG9yaWdpbmF0aW5nIGZyb20gYSBzaGFkb3cgRE9NIGFyZSByZS10YXJnZXR0ZWQgYW5kIGBlLnRhcmdldGAgaXMgdGhlIHNoYWRvdyBob3N0LFxuICAgICAgICAvLyBub3QgdGhlIGluaXRpYWwgZXZlbnQgdGFyZ2V0IGluIHRoZSBzaGFkb3cgdHJlZS4gTm90ZSB0aGF0IG5vdCBhbGwgZXZlbnRzIGNyb3NzIHRoZVxuICAgICAgICAvLyBzaGFkb3cgYm91bmRhcnkuXG4gICAgICAgIC8vIEZvciBzaGFkb3cgdHJlZXMgd2l0aCBgbW9kZTogJ29wZW4nYCwgdGhlIGluaXRpYWwgZXZlbnQgdGFyZ2V0IGlzIHRoZSBmaXJzdCBlbGVtZW50IGluXG4gICAgICAgIC8vIHRoZSBldmVudFx1MjAxOXMgY29tcG9zZWQgcGF0aC4gRm9yIHNoYWRvdyB0cmVlcyB3aXRoIGBtb2RlOiAnY2xvc2VkJ2AsIHRoZSBpbml0aWFsIGV2ZW50XG4gICAgICAgIC8vIHRhcmdldCBjYW5ub3QgYmUgb2J0YWluZWQuXG4gICAgICAgIGlmICgnY29tcG9zZWRQYXRoJyBpbiBlICYmIHR5cGVvZiBlLmNvbXBvc2VkUGF0aCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gRm9yIG9wZW4gc2hhZG93IHRyZWVzLCB1cGRhdGUgYGVsZW1lbnRgIHNvIHRoYXQgdGhlIGZvbGxvd2luZyBjaGVjayB3b3Jrcy5cbiAgICAgICAgICAgIHZhciBpbml0aWFsRXZlbnRUYXJnZXQgPSBlLmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxFdmVudFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5pdGlhbEV2ZW50VGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcCBmb3IgaW5wdXQsIHNlbGVjdCwgYW5kIHRleHRhcmVhXG4gICAgICAgIHJldHVybiBlbGVtZW50LnRhZ05hbWUgPT0gJ0lOUFVUJyB8fCBlbGVtZW50LnRhZ05hbWUgPT0gJ1NFTEVDVCcgfHwgZWxlbWVudC50YWdOYW1lID09ICdURVhUQVJFQScgfHwgZWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZXhwb3NlcyBfaGFuZGxlS2V5IHB1YmxpY2x5IHNvIGl0IGNhbiBiZSBvdmVyd3JpdHRlbiBieSBleHRlbnNpb25zXG4gICAgICovXG4gICAgTW91c2V0cmFwLnByb3RvdHlwZS5oYW5kbGVLZXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gc2VsZi5faGFuZGxlS2V5LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGFsbG93IGN1c3RvbSBrZXkgbWFwcGluZ3NcbiAgICAgKi9cbiAgICBNb3VzZXRyYXAuYWRkS2V5Y29kZXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgX01BUFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX1JFVkVSU0VfTUFQID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdCB0aGUgZ2xvYmFsIG1vdXNldHJhcCBmdW5jdGlvbnNcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5lZWRlZCB0byBhbGxvdyB0aGUgZ2xvYmFsIG1vdXNldHJhcCBmdW5jdGlvbnMgdG8gd29ya1xuICAgICAqIG5vdyB0aGF0IG1vdXNldHJhcCBpcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIE1vdXNldHJhcC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkb2N1bWVudE1vdXNldHJhcCA9IE1vdXNldHJhcChkb2N1bWVudCk7XG4gICAgICAgIGZvciAodmFyIG1ldGhvZCBpbiBkb2N1bWVudE1vdXNldHJhcCkge1xuICAgICAgICAgICAgaWYgKG1ldGhvZC5jaGFyQXQoMCkgIT09ICdfJykge1xuICAgICAgICAgICAgICAgIE1vdXNldHJhcFttZXRob2RdID0gKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRNb3VzZXRyYXBbbWV0aG9kXS5hcHBseShkb2N1bWVudE1vdXNldHJhcCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IChtZXRob2QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBNb3VzZXRyYXAuaW5pdCgpO1xuXG4gICAgLy8gZXhwb3NlIG1vdXNldHJhcCB0byB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIHdpbmRvdy5Nb3VzZXRyYXAgPSBNb3VzZXRyYXA7XG5cbiAgICAvLyBleHBvc2UgYXMgYSBjb21tb24ganMgbW9kdWxlXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gTW91c2V0cmFwO1xuICAgIH1cblxuICAgIC8vIGV4cG9zZSBtb3VzZXRyYXAgYXMgYW4gQU1EIG1vZHVsZVxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1vdXNldHJhcDtcbiAgICAgICAgfSk7XG4gICAgfVxufSkgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogbnVsbCwgdHlwZW9mICB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiBudWxsKTtcbiIsICIvKiFcbiAqICBob3dsZXIuanMgdjIuMi4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMjAsIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHN0b3BwaW5nIGFsbCBzb3VuZHMgZ2xvYmFsbHkuXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCBzdG9wIHRoZW0uXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2VsZi5faG93bHNbaV0uc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciB1YSA9IHNlbGYuX25hdmlnYXRvciA/IHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQgOiAnJztcbiAgICAgIHZhciBjaGVja09wZXJhID0gdWEubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcbiAgICAgIHZhciBjaGVja1NhZmFyaSA9IHVhLmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTE7XG4gICAgICB2YXIgc2FmYXJpVmVyc2lvbiA9IHVhLm1hdGNoKC9WZXJzaW9uXFwvKC4qPykgLyk7XG4gICAgICB2YXIgaXNPbGRTYWZhcmkgPSAoY2hlY2tTYWZhcmkgJiYgc2FmYXJpVmVyc2lvbiAmJiBwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdLCAxMCkgPCAxNSk7XG5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcbiAgICAgICAgbXAzOiAhISghaXNPbGRPcGVyYSAmJiAobXBlZ1Rlc3QgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDM7JykucmVwbGFjZSgvXm5vJC8sICcnKSkpLFxuICAgICAgICBtcGVnOiAhIW1wZWdUZXN0LFxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2c6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgb2dhOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdhdjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGFhYzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBjYWY6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWNhZjsnKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtNGE6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YjsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbXA0OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICB3ZWJhOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICB3ZWJtOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxuICAgICAgICBkb2xieTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU29tZSBicm93c2Vycy9kZXZpY2VzIHdpbGwgb25seSBhbGxvdyBhdWRpbyB0byBiZSBwbGF5ZWQgYWZ0ZXIgYSB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqIEF0dGVtcHQgdG8gYXV0b21hdGljYWxseSB1bmxvY2sgYXVkaW8gb24gdGhlIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF91bmxvY2tBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIGlmIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQgYW5kIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gdW5sb2NrZWQuXG4gICAgICBpZiAoc2VsZi5fYXVkaW9VbmxvY2tlZCB8fCAhc2VsZi5jdHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gZmFsc2U7XG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSBmYWxzZTtcblxuICAgICAgLy8gU29tZSBtb2JpbGUgZGV2aWNlcy9wbGF0Zm9ybXMgaGF2ZSBkaXN0b3J0aW9uIGlzc3VlcyB3aGVuIG9wZW5pbmcvY2xvc2luZyB0YWJzIGFuZC9vciB3ZWIgdmlld3MuXG4gICAgICAvLyBCdWdzIGluIHRoZSBicm93c2VyIChlc3BlY2lhbGx5IE1vYmlsZSBTYWZhcmkpIGNhbiBjYXVzZSB0aGUgc2FtcGxlUmF0ZSB0byBjaGFuZ2UgZnJvbSA0NDEwMCB0byA0ODAwMC5cbiAgICAgIC8vIEJ5IGNhbGxpbmcgSG93bGVyLnVubG9hZCgpLCB3ZSBjcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHdpdGggdGhlIGNvcnJlY3Qgc2FtcGxlUmF0ZS5cbiAgICAgIGlmICghc2VsZi5fbW9iaWxlVW5sb2FkZWQgJiYgc2VsZi5jdHguc2FtcGxlUmF0ZSAhPT0gNDQxMDApIHtcbiAgICAgICAgc2VsZi5fbW9iaWxlVW5sb2FkZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTY3JhdGNoIGJ1ZmZlciBmb3IgZW5hYmxpbmcgaU9TIHRvIGRpc3Bvc2Ugb2Ygd2ViIGF1ZGlvIGJ1ZmZlcnMgY29ycmVjdGx5LCBhcyBwZXI6XG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI0MTE5Njg0XG4gICAgICBzZWxmLl9zY3JhdGNoQnVmZmVyID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcblxuICAgICAgLy8gQ2FsbCB0aGlzIG1ldGhvZCBvbiB0b3VjaCBzdGFydCB0byBjcmVhdGUgYW5kIHBsYXkgYSBidWZmZXIsXG4gICAgICAvLyB0aGVuIGNoZWNrIGlmIHRoZSBhdWRpbyBhY3R1YWxseSBwbGF5ZWQgdG8gZGV0ZXJtaW5lIGlmXG4gICAgICAvLyBhdWRpbyBoYXMgbm93IGJlZW4gdW5sb2NrZWQgb24gaU9TLCBBbmRyb2lkLCBldGMuXG4gICAgICB2YXIgdW5sb2NrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBwb29sIG9mIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdHMgdGhhdCBjYW5cbiAgICAgICAgLy8gYmUgdXNlZCBmb3IgcGxheWluZyBzb3VuZHMgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLiBIVE1MNVxuICAgICAgICAvLyBBdWRpbyBvYmplY3RzIG11c3QgYmUgaW5kaXZpZHVhbGx5IHVubG9ja2VkLCBhcyBvcHBvc2VkXG4gICAgICAgIC8vIHRvIHRoZSBXZWJBdWRpbyBBUEkgd2hpY2ggb25seSBuZWVkcyBhIHNpbmdsZSBhY3RpdmF0aW9uLlxuICAgICAgICAvLyBUaGlzIG11c3Qgb2NjdXIgYmVmb3JlIFdlYkF1ZGlvIHNldHVwIG9yIHRoZSBzb3VyY2Uub25lbmRlZFxuICAgICAgICAvLyBldmVudCB3aWxsIG5vdCBmaXJlLlxuICAgICAgICB3aGlsZSAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoIDwgc2VsZi5odG1sNVBvb2xTaXplKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhdWRpb05vZGUgPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIEF1ZGlvIG9iamVjdCBhcyB1bmxvY2tlZCB0byBlbnN1cmUgaXQgY2FuIGdldCByZXR1cm5lZFxuICAgICAgICAgICAgLy8gdG8gdGhlIHVubG9ja2VkIHBvb2wgd2hlbiByZWxlYXNlZC5cbiAgICAgICAgICAgIGF1ZGlvTm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGF1ZGlvIG5vZGUgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgICBzZWxmLl9yZWxlYXNlSHRtbDVBdWRpbyhhdWRpb05vZGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW55IGFzc2lnbmVkIGF1ZGlvIG5vZGVzIGFuZCB1bmxvY2sgdGhlbS5cbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCB1bmxvY2sgdGhlIGF1ZGlvIG5vZGVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5fdW5sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmxvYWQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpeCBBbmRyb2lkIGNhbiBub3QgcGxheSBpbiBzdXNwZW5kIHN0YXRlLlxuICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlbGYuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcbiAgICAgICAgc291cmNlLmNvbm5lY3Qoc2VsZi5jdHguZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc291cmNlLm5vdGVPbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxsaW5nIHJlc3VtZSgpIG9uIGEgc3RhY2sgaW5pdGlhdGVkIGJ5IHVzZXIgZ2VzdHVyZSBpcyB3aGF0IGFjdHVhbGx5IHVubG9ja3MgdGhlIGF1ZGlvIG9uIEFuZHJvaWQgQ2hyb21lID49IDU1LlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dXAgYSB0aW1lb3V0IHRvIGNoZWNrIHRoYXQgd2UgYXJlIHVubG9ja2VkIG9uIHRoZSBuZXh0IGV2ZW50IGxvb3AuXG4gICAgICAgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc291cmNlLmRpc2Nvbm5lY3QoMCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHVubG9ja2VkIHN0YXRlIGFuZCBwcmV2ZW50IHRoaXMgY2hlY2sgZnJvbSBoYXBwZW5pbmcgYWdhaW4uXG4gICAgICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHRvdWNoIHN0YXJ0IGxpc3RlbmVyLlxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBMZXQgYWxsIHNvdW5kcyBrbm93IHRoYXQgYXVkaW8gaGFzIGJlZW4gdW5sb2NrZWQuXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgndW5sb2NrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYSB0b3VjaCBzdGFydCBsaXN0ZW5lciB0byBhdHRlbXB0IGFuIHVubG9jayBpbi5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1bmxvY2ssIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuXG4gICAgICAgIC8vIEhhbmRsZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgc3VzcGVuZGluZy5cbiAgICAgICAgdmFyIGhhbmRsZVN1c3BlbnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhlIHN0YXRlIGdldHMgc3VzcGVuZGVkIG9yIGl0IGlzIGludGVycnVwdGVkLlxuICAgICAgICAvLyBFaXRoZXIgd2F5LCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGUgdG8gc3VzcGVuZGVkLlxuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihoYW5kbGVTdXNwZW5zaW9uLCBoYW5kbGVTdXNwZW5zaW9uKTtcbiAgICAgIH0sIDMwMDAwKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVzdW1lIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IHdoZW4gYSBuZXcgc291bmQgaXMgcGxheWVkLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfYXV0b1Jlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICghc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJyAmJiBzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kZWQnIHx8IHNlbGYuc3RhdGUgPT09ICdydW5uaW5nJyAmJiBzZWxmLmN0eC5zdGF0ZSA9PT0gJ2ludGVycnVwdGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicgfHwgby5wcmVsb2FkID09PSAnbWV0YWRhdGEnKSA/IG8ucHJlbG9hZCA6IHRydWU7XG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XG4gICAgICBzZWxmLl9zcHJpdGUgPSBvLnNwcml0ZSB8fCB7fTtcbiAgICAgIHNlbGYuX3NyYyA9ICh0eXBlb2Ygby5zcmMgIT09ICdzdHJpbmcnKSA/IG8uc3JjIDogW28uc3JjXTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XG4gICAgICBzZWxmLl94aHIgPSB7XG4gICAgICAgIG1ldGhvZDogby54aHIgJiYgby54aHIubWV0aG9kID8gby54aHIubWV0aG9kIDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IG8ueGhyICYmIG8ueGhyLmhlYWRlcnMgPyBvLnhoci5oZWFkZXJzIDogbnVsbCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBvLnhociAmJiBvLnhoci53aXRoQ3JlZGVudGlhbHMgPyBvLnhoci53aXRoQ3JlZGVudGlhbHMgOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGFsbCBvdGhlciBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IDA7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgIHNlbGYuX2VuZFRpbWVycyA9IHt9O1xuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcbiAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uZW5kID0gby5vbmVuZCA/IFt7Zm46IG8ub25lbmR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25mYWRlID0gby5vbmZhZGUgPyBbe2ZuOiBvLm9uZmFkZX1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWQgPSBvLm9ubG9hZCA/IFt7Zm46IG8ub25sb2FkfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZGVycm9yID0gby5vbmxvYWRlcnJvciA/IFt7Zm46IG8ub25sb2FkZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wbGF5ZXJyb3IgPSBvLm9ucGxheWVycm9yID8gW3tmbjogby5vbnBsYXllcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheSA9IG8ub25wbGF5ID8gW3tmbjogby5vbnBsYXl9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zdG9wID0gby5vbnN0b3AgPyBbe2ZuOiBvLm9uc3RvcH1dIDogW107XG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udm9sdW1lID0gby5vbnZvbHVtZSA/IFt7Zm46IG8ub252b2x1bWV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yYXRlID0gby5vbnJhdGUgPyBbe2ZuOiBvLm9ucmF0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29udW5sb2NrID0gby5vbnVubG9jayA/IFt7Zm46IG8ub251bmxvY2t9XSA6IFtdO1xuICAgICAgc2VsZi5fb25yZXN1bWUgPSBbXTtcblxuICAgICAgLy8gV2ViIEF1ZGlvIG9yIEhUTUw1IEF1ZGlvP1xuICAgICAgc2VsZi5fd2ViQXVkaW8gPSBIb3dsZXIudXNpbmdXZWJBdWRpbyAmJiAhc2VsZi5faHRtbDU7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJ5IHRvIGVuYWJsZSBhdWRpby5cbiAgICAgIGlmICh0eXBlb2YgSG93bGVyLmN0eCAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eCAmJiBIb3dsZXIuYXV0b1VubG9jaykge1xuICAgICAgICBIb3dsZXIuX3VubG9ja0F1ZGlvKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhpcyBIb3dsIGdyb3VwIGluIHRoZSBnbG9iYWwgY29udHJvbGxlci5cbiAgICAgIEhvd2xlci5faG93bHMucHVzaChzZWxmKTtcblxuICAgICAgLy8gSWYgdGhleSBzZWxlY3RlZCBhdXRvcGxheSwgYWRkIGEgcGxheSBldmVudCB0byB0aGUgbG9hZCBxdWV1ZS5cbiAgICAgIGlmIChzZWxmLl9hdXRvcGxheSkge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2UgZmlsZSB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAgICAgIGlmIChzZWxmLl9wcmVsb2FkICYmIHNlbGYuX3ByZWxvYWQgIT09ICdub25lJykge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzLCBwbGF5IHRoYXQgc291bmQuIElmIG5vdCwgY29udGludWUgYXMgdXN1YWwuXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIEhvd2xlci5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcpIHtcbiAgICAgICAgICBwbGF5V2ViQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXVkaW8gY29udGV4dCB0byByZXN1bWUgYmVmb3JlIHBsYXlpbmcuXG4gICAgICAgICAgc2VsZi5vbmNlKCdyZXN1bWUnLCBwbGF5V2ViQXVkaW8pO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBIVE1MNSBBdWRpbyBwbGF5YmFjay5cbiAgICAgICAgdmFyIHBsYXlIdG1sNSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIG5vZGUubXV0ZWQgPSBzb3VuZC5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQgfHwgSG93bGVyLl9tdXRlZCB8fCBub2RlLm11dGVkO1xuICAgICAgICAgIG5vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xuXG4gICAgICAgICAgLy8gU29tZSBicm93c2VycyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoaXMgaXMgY2FsbGVkIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHBsYXkgPSBub2RlLnBsYXkoKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgcHJvbWlzZXMsIGFuZCB0aHVzIGRvbid0IGhhdmUgdGhpcyBpc3N1ZS5cbiAgICAgICAgICAgIGlmIChwbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAocGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHBsYXkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgLy8gSW1wbGVtZW50cyBhIGxvY2sgdG8gcHJldmVudCBET01FeGNlcHRpb246IFRoZSBwbGF5KCkgcmVxdWVzdCB3YXMgaW50ZXJydXB0ZWQgYnkgYSBjYWxsIHRvIHBhdXNlKCkuXG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAvLyBTZXQgcGFyYW0gdmFsdWVzIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcblxuICAgICAgICAgICAgICAvLyBSZWxlYXNlcyB0aGUgbG9jayBhbmQgZXhlY3V0ZXMgcXVldWVkIGFjdGlvbnMuXG4gICAgICAgICAgICAgIHBsYXlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dGluZyByYXRlIGJlZm9yZSBwbGF5aW5nIHdvbid0IHdvcmsgaW4gSUUsIHNvIHdlIHNldCBpdCBhZ2FpbiBoZXJlLlxuICAgICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgc3RpbGwgcGF1c2VkLCB0aGVuIHdlIGNhbiBhc3N1bWUgdGhlcmUgd2FzIGEgcGxheWJhY2sgaXNzdWUuXG4gICAgICAgICAgICBpZiAobm9kZS5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXR1cCB0aGUgZW5kIHRpbWVyIG9uIHNwcml0ZXMgb3IgbGlzdGVuIGZvciB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICAgICAgICBpZiAoc3ByaXRlICE9PSAnX19kZWZhdWx0JyB8fCBzb3VuZC5fbG9vcCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlIGVuZGVkIG9uIHRoaXMgYXVkaW8gbm9kZS5cbiAgICAgICAgICAgICAgICBzZWxmLl9lbmRlZChzb3VuZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBzdHJlYW1pbmcgYXVkaW8sIG1ha2Ugc3VyZSB0aGUgc3JjIGlzIHNldCBhbmQgbG9hZCBhZ2Fpbi5cbiAgICAgICAgaWYgKG5vZGUuc3JjID09PSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnKSB7XG4gICAgICAgICAgbm9kZS5zcmMgPSBzZWxmLl9zcmM7XG4gICAgICAgICAgbm9kZS5sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQbGF5IGltbWVkaWF0ZWx5IGlmIHJlYWR5LCBvciB3YWl0IGZvciB0aGUgJ2NhbnBsYXl0aHJvdWdoJ2UgdmVudC5cbiAgICAgICAgdmFyIGxvYWRlZE5vUmVhZHlTdGF0ZSA9ICh3aW5kb3cgJiYgd2luZG93LmVqZWN0YSkgfHwgKCFub2RlLnJlYWR5U3RhdGUgJiYgSG93bGVyLl9uYXZpZ2F0b3IuaXNDb2Nvb25KUyk7XG4gICAgICAgIGlmIChub2RlLnJlYWR5U3RhdGUgPj0gMyB8fCBsb2FkZWROb1JlYWR5U3RhdGUpIHtcbiAgICAgICAgICBwbGF5SHRtbDUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEJlZ2luIHBsYXliYWNrLlxuICAgICAgICAgICAgcGxheUh0bWw1KCk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNvdW5kLl9pZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgcGxheWJhY2sgYW5kIHNhdmUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gcGF1c2UgYWxsIGluIGdyb3VwKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHBhdXNlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCBvciBhIHBsYXkoKSBwcm9taXNlIGlzIHBlbmRpbmcsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBwYXVzZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGF1c2UnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBwYXVzZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQgJiYgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlbGYuc2VlayhpZHNbaV0pO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmICghc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBwYXVzZSBldmVudCwgdW5sZXNzIGB0cnVlYCBpcyBwYXNzZWQgYXMgdGhlIDJuZCBhcmd1bWVudC5cbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3AgcGxheWJhY2sgYW5kIHJlc2V0IHRvIHN0YXJ0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGlkLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHN0b3Agd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3N0b3AnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHN0b3BwZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSBlbmQgdGltZXIuXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQncyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGxpdmUgc3RyZWFtLCBzdG9wIGRvd25sb2FkIG9uY2UgdGhlIGF1ZGlvIGlzIHN0b3BwZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0b3AnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXV0ZS91bm11dGUgYSBzaW5nbGUgc291bmQgb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgU2V0IHRvIHRydWUgdG8gbXV0ZSBhbmQgZmFsc2UgdG8gdW5tdXRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgVGhlIHNvdW5kIElEIHRvIHVwZGF0ZSAob21pdCB0byBtdXRlL3VubXV0ZSBhbGwpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQsIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gbXV0ZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5tdXRlKG11dGVkLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtdXRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fbXV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIGFjdGl2ZSBmYWRlIGFuZCBzZXQgdGhlIHZvbHVtZSB0byB0aGUgZW5kIHZhbHVlLlxuICAgICAgICAgIGlmIChzb3VuZC5faW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNvdW5kLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgdm9sdW1lIG9mIHRoaXMgc291bmQgb3Igb2YgdGhlIEhvd2wgZ3JvdXAuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxuICAgICAqICAgdm9sdW1lKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqICAgdm9sdW1lKHZvbCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgdm9sLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdyb3Vwcycgdm9sdW1lLlxuICAgICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHZvbHVtZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xuICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSB2b2x1bWUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAndm9sdW1lJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYudm9sdW1lLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHZvbHVtZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgICBpZiAoIWFyZ3NbMl0pIHtcbiAgICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gdm9sICogSG93bGVyLnZvbHVtZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCd2b2x1bWUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9zb3VuZHNbMF07XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl92b2x1bWUgOiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmFkZSBhIGN1cnJlbnRseSBwbGF5aW5nIHNvdW5kIGJldHdlZW4gdHdvIHZvbHVtZXMgKGlmIG5vIGlkIGlzIHBhc3NlZCwgYWxsIHNvdW5kcyB3aWxsIGZhZGUpLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIChvbWl0IHRvIGZhZGUgYWxsIHNvdW5kcykuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBmYWRlOiBmdW5jdGlvbihmcm9tLCB0bywgbGVuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGZhZGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ2ZhZGUnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmZhZGUoZnJvbSwgdG8sIGxlbiwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdG8vZnJvbS9sZW4gdmFsdWVzIGFyZSBudW1iZXJzLlxuICAgICAgZnJvbSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHBhcnNlRmxvYXQoZnJvbSkpLCAxKTtcbiAgICAgIHRvID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdCh0bykpLCAxKTtcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdm9sID0gZnJvbTtcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xuXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2b2x1bWUgaXMgaW4gdGhlIHJpZ2h0IGJvdW5kcy5cbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5tYXgodG8sIHZvbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm9sID0gTWF0aC5taW4odG8sIHZvbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBMZW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcblxuICAgICAgICAgICAgICAvLyBJZiBwbGF5aW5nLCByZXN0YXJ0IHBsYXliYWNrIHRvIGVuc3VyZSBsb29waW5nIHVwZGF0ZXMuXG4gICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHNlbGYucGF1c2UoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZWxmLnBsYXkoaWRzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICByYXRlKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShyYXRlKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgcmF0ZShyYXRlLCBpZCkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqL1xuICAgIHJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgcmF0ZSwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcmF0ZSBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgcmF0ZSB2YWx1ZS5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBwbGF5YmFjayByYXRlIG9yIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgIHZhciBzb3VuZDtcbiAgICAgIGlmICh0eXBlb2YgcmF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcGxheWJhY2sgcmF0ZSB3aGVuIGNhcGFibGUuXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGV2ZW50OiAncmF0ZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnJhdGUuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgcmF0ZS5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLl9yYXRlID0gcmF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBvdXIgcG9zaXRpb24gd2hlbiB0aGUgcmF0ZSBjaGFuZ2VkIGFuZCB1cGRhdGUgdGhlIHBsYXliYWNrXG4gICAgICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBzbyB3ZSBjYW4gcHJvcGVybHkgYWRqdXN0IHRoZSBzZWVrIHBvc2l0aW9uIGZvciB0aW1lIGVsYXBzZWQuXG4gICAgICAgICAgICBpZiAoc2VsZi5wbGF5aW5nKGlkW2ldKSkge1xuICAgICAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gc2VsZi5fd2ViQXVkaW8gPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIDogc291bmQuX3BsYXlTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdW5kLl9yYXRlID0gcmF0ZTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBwbGF5YmFjayByYXRlLlxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHJhdGUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgdGltZXJzLlxuICAgICAgICAgICAgdmFyIHNlZWsgPSBzZWxmLnNlZWsoaWRbaV0pO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRbaV1dIHx8ICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRbaV0pO1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcmF0ZSA6IHNlbGYuX3JhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHNlZWsoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXG4gICAgICogICBzZWVrKHNlZWssIGlkKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICovXG4gICAgc2VlazogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWVrLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNvdW5kc1tpXS5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZuIHx8IGlkKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG5cbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcblxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxuICAgICAqL1xuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXG4gICAgICovXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLl9kcmFpbigpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxuICAgICAqL1xuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xuICAgICAgdmFyIGNudCA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIGNudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY250LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cbiAgICAgKi9cbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcblxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xuICAgICAgfVxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XG5cbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXG4gICAgICovXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGlmICghY2hlY2tJRSkge1xuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIGlmICghSG93bGVyLm5vQXVkaW8pIHtcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgdGhlICdlbmRlZCcgZXZlbnQgb24gdGhlIHNvdW5kIHRvIGFjY291bnQgZm9yIGVkZ2UtY2FzZSB3aGVyZVxuICAgICAgICAvLyBhIGZpbml0ZSBzb3VuZCBoYXMgYSBkdXJhdGlvbiBvZiBJbmZpbml0eS5cbiAgICAgICAgc2VsZi5fZW5kRm4gPSBzZWxmLl9lbmRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXG4gICAgICAgIHNlbGYuX25vZGUuc3JjID0gcGFyZW50Ll9zcmM7XG4gICAgICAgIHNlbGYuX25vZGUucHJlbG9hZCA9IHBhcmVudC5fcHJlbG9hZCA9PT0gdHJ1ZSA/ICdhdXRvJyA6IHBhcmVudC5fcHJlbG9hZDtcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG5cbiAgICAgICAgLy8gQmVnaW4gbG9hZGluZyB0aGUgc291cmNlLlxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQgdG8gdGhlIG9yaWdpbmFsIHN0YXRlIChmb3IgcmVjeWNsZSkuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIG9mIHRoZSBwYXJhbWV0ZXJzIG9mIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9yYXRlU2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIHNvIHRoYXQgaXQgaXNuJ3QgY29uZnVzZWQgd2l0aCB0aGUgcHJldmlvdXMgc291bmQuXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZXJyb3IgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2Vycm9yTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBGaXJlIGFuIGVycm9yIGV2ZW50IGFuZCBwYXNzIGJhY2sgdGhlIGNvZGUuXG4gICAgICBzZWxmLl9wYXJlbnQuX2VtaXQoJ2xvYWRlcnJvcicsIHNlbGYuX2lkLCBzZWxmLl9ub2RlLmVycm9yID8gc2VsZi5fbm9kZS5lcnJvci5jb2RlIDogMCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9sb2FkTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXG4gICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmVudC5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFyZW50Ll9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgcGFyZW50Ll9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgcGFyZW50Ll9lbWl0KCdsb2FkJyk7XG4gICAgICAgIHBhcmVudC5fbG9hZFF1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGVuZGVkIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9lbmRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBPbmx5IGhhbmRsZSB0aGUgYGVuZGVkYGAgZXZlbnQgaWYgdGhlIGR1cmF0aW9uIGlzIEluZmluaXR5LlxuICAgICAgaWYgKHBhcmVudC5fZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyZW50IGR1cmF0aW9uIHRvIG1hdGNoIHRoZSByZWFsIGF1ZGlvIGR1cmF0aW9uLlxuICAgICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzcHJpdGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgcmVhbCBkdXJhdGlvbi5cbiAgICAgICAgaWYgKHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICBwYXJlbnQuX3Nwcml0ZS5fX2RlZmF1bHRbMV0gPSBwYXJlbnQuX2R1cmF0aW9uICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgcmVndWxhciBlbmRlZCBtZXRob2QuXG4gICAgICAgIHBhcmVudC5fZW5kZWQoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBldmVudCBsaXN0ZW5lciBzaW5jZSB0aGUgZHVyYXRpb24gaXMgbm93IGNvcnJlY3QuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kRm4sIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqL1xuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG5cbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oc2VsZi5feGhyLm1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHIud2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICAgIC8vIEFwcGx5IGFueSBjdXN0b20gaGVhZGVycyB0byB0aGUgcmVxdWVzdC5cbiAgICAgIGlmIChzZWxmLl94aHIuaGVhZGVycykge1xuICAgICAgICBPYmplY3Qua2V5cyhzZWxmLl94aHIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHNlbGYuX3hoci5oZWFkZXJzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBiYWNrLlxuICAgICAgICB2YXIgY29kZSA9ICh4aHIuc3RhdHVzICsgJycpWzBdO1xuICAgICAgICBpZiAoY29kZSAhPT0gJzAnICYmIGNvZGUgIT09ICcyJyAmJiBjb2RlICE9PSAnMycpIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlY29kZUF1ZGlvRGF0YSh4aHIucmVzcG9uc2UsIHNlbGYpO1xuICAgICAgfTtcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yLCBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8uXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xuICAgICAgICAgIHNlbGYubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2FmZVhoclNlbmQoeGhyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmQgdGhlIFhIUiByZXF1ZXN0IHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2guXG4gICAqIEBwYXJhbSAge09iamVjdH0geGhyIFhIUiB0byBzZW5kLlxuICAgKi9cbiAgdmFyIHNhZmVYaHJTZW5kID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgeGhyLm9uZXJyb3IoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29kZSBhdWRpbyBkYXRhIGZyb20gYW4gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0gIHtBcnJheUJ1ZmZlcn0gYXJyYXlidWZmZXIgVGhlIGF1ZGlvIGRhdGEuXG4gICAqIEBwYXJhbSAge0hvd2x9ICAgICAgICBzZWxmXG4gICAqL1xuICB2YXIgZGVjb2RlQXVkaW9EYXRhID0gZnVuY3Rpb24oYXJyYXlidWZmZXIsIHNlbGYpIHtcbiAgICAvLyBGaXJlIGEgbG9hZCBlcnJvciBpZiBzb21ldGhpbmcgYnJva2UuXG4gICAgdmFyIGVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XG4gICAgfTtcblxuICAgIC8vIExvYWQgdGhlIHNvdW5kIG9uIHN1Y2Nlc3MuXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgIGlmIChidWZmZXIgJiYgc2VsZi5fc291bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcbiAgICAgICAgbG9hZFNvdW5kKHNlbGYsIGJ1ZmZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEZWNvZGUgdGhlIGJ1ZmZlciBpbnRvIGFuIGF1ZGlvIHNvdXJjZS5cbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIpLnRoZW4oc3VjY2VzcykuY2F0Y2goZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlciwgc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTb3VuZCBpcyBub3cgbG9hZGVkLCBzbyBmaW5pc2ggc2V0dGluZyBldmVyeXRoaW5nIHVwIGFuZCBmaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICogQHBhcmFtICB7T2JqZWN0fSBidWZmZXIgVGhlIGRlY29kZWQgYnVmZmVyIHNvdW5kIHNvdXJjZS5cbiAgICovXG4gIHZhciBsb2FkU291bmQgPSBmdW5jdGlvbihzZWxmLCBidWZmZXIpIHtcbiAgICAvLyBTZXQgdGhlIGR1cmF0aW9uLlxuICAgIGlmIChidWZmZXIgJiYgIXNlbGYuX2R1cmF0aW9uKSB7XG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLl9zcHJpdGUgPSB7X19kZWZhdWx0OiBbMCwgc2VsZi5fZHVyYXRpb24gKiAxMDAwXX07XG4gICAgfVxuXG4gICAgLy8gRmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICBzZWxmLl9lbWl0KCdsb2FkJyk7XG4gICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBhdWRpbyBjb250ZXh0IHdoZW4gYXZhaWxhYmxlLCBvciBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8gbW9kZS5cbiAgICovXG4gIHZhciBzZXR1cEF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBkZXRlY3RlZCB0aGF0IFdlYiBBdWRpbyBpc24ndCBzdXBwb3J0ZWQsIGRvbid0IHJ1biB0aGlzIHN0ZXAgYWdhaW4uXG4gICAgaWYgKCFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8gYW5kIHNldHVwIHRoZSBBdWRpb0NvbnRleHQgaWYgd2UgYXJlLlxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdlYmtpdEF1ZGlvQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyB3ZWJraXRBdWRpb0NvbnRleHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBhdWRpbyBjb250ZXh0IGNyZWF0aW9uIHN0aWxsIGZhaWxlZCwgc2V0IHVzaW5nIHdlYiBhdWRpbyB0byBmYWxzZS5cbiAgICBpZiAoIUhvd2xlci5jdHgpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXG4gICAgLy8gSWYgaXQgaXMsIGRpc2FibGUgV2ViIEF1ZGlvIGFzIGl0IGNhdXNlcyBjcmFzaGluZy5cbiAgICB2YXIgaU9TID0gKC9pUChob25lfG9kfGFkKS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5wbGF0Zm9ybSkpO1xuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuICAgIHZhciB2ZXJzaW9uID0gYXBwVmVyc2lvbiA/IHBhcnNlSW50KGFwcFZlcnNpb25bMV0sIDEwKSA6IG51bGw7XG4gICAgaWYgKGlPUyAmJiB2ZXJzaW9uICYmIHZlcnNpb24gPCA5KSB7XG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoSG93bGVyLl9uYXZpZ2F0b3IgJiYgIXNhZmFyaSkge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiBIb3dsZXIuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICBIb3dsZXIubWFzdGVyR2Fpbi5jb25uZWN0KEhvd2xlci5jdHguZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIC8vIFJlLXJ1biB0aGUgc2V0dXAgb24gSG93bGVyLlxuICAgIEhvd2xlci5fc2V0dXAoKTtcbiAgfTtcblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQU1EIChBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24pIGxpYnJhcmllcyBzdWNoIGFzIHJlcXVpcmUuanMuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgSG93bGVyOiBIb3dsZXIsXG4gICAgICAgIEhvd2w6IEhvd2xcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQ29tbW9uSlMgbGlicmFyaWVzIHN1Y2ggYXMgYnJvd3NlcmlmeS5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuSG93bGVyID0gSG93bGVyO1xuICAgIGV4cG9ydHMuSG93bCA9IEhvd2w7XG4gIH1cblxuICAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnbG9iYWwuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xuICAgIGdsb2JhbC5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZ2xvYmFsLkhvd2wgPSBIb3dsO1xuICAgIGdsb2JhbC5Tb3VuZCA9IFNvdW5kO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7ICAvLyBEZWZpbmUgZ2xvYmFsbHkgaW4gY2FzZSBBTUQgaXMgbm90IGF2YWlsYWJsZSBvciB1bnVzZWQuXG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfVxufSkoKTtcblxuXG4vKiFcbiAqICBTcGF0aWFsIFBsdWdpbiAtIEFkZHMgc3VwcG9ydCBmb3Igc3RlcmVvIGFuZCAzRCBhdWRpbyB3aGVyZSBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkLlxuICogIFxuICogIGhvd2xlci5qcyB2Mi4yLjNcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU2V0dXAgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9wb3MgPSBbMCwgMCwgMF07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXTtcblxuICAvKiogR2xvYmFsIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cbiAgICogRnV0dXJlIEhvd2xzIHdpbGwgbm90IHVzZSB0aGlzIHZhbHVlIHVubGVzcyBleHBsaWNpdGx5IHNldC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHVwZGF0ZSB0aGVpciBzdGVyZW8gcGFubmluZy5cbiAgICBmb3IgKHZhciBpPXNlbGYuX2hvd2xzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIgaW4gM0QgY2FydGVzaWFuIHNwYWNlLiBTb3VuZHMgdXNpbmdcbiAgICogM0QgcG9zaXRpb24gd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgbGlzdGVuZXIncyBwb3NpdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5IFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6IFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldFBvc2l0aW9uKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gc3BhY2UuXG4gICAqIEEgZnJvbnQgYW5kIHVwIHZlY3RvciBtdXN0IGJlIHByb3ZpZGVkLiBUaGUgZnJvbnQgaXMgdGhlIGRpcmVjdGlvbiB0aGVcbiAgICogZmFjZSBvZiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcsIGFuZCB1cCBpcyB0aGUgZGlyZWN0aW9uIHRoZSB0b3Agb2YgdGhlXG4gICAqIGxpc3RlbmVyIGlzIHBvaW50aW5nLiBUaHVzLCB0aGVzZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGF0IHJpZ2h0IGFuZ2xlc1xuICAgKiBmcm9tIGVhY2ggb3RoZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geFVwIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlVcCBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6VXAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB2ZWN0b3JzLlxuICAgKi9cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHZhciBvciA9IHNlbGYuX29yaWVudGF0aW9uO1xuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IG9yWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBvclsyXSA6IHo7XG4gICAgeFVwID0gKHR5cGVvZiB4VXAgIT09ICdudW1iZXInKSA/IG9yWzNdIDogeFVwO1xuICAgIHlVcCA9ICh0eXBlb2YgeVVwICE9PSAnbnVtYmVyJykgPyBvcls0XSA6IHlVcDtcbiAgICB6VXAgPSAodHlwZW9mIHpVcCAhPT0gJ251bWJlcicpID8gb3JbNV0gOiB6VXA7XG5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6LCB4VXAsIHlVcCwgelVwXTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFguc2V0VGFyZ2V0QXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBYLnNldFRhcmdldEF0VGltZSh4VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWS5zZXRUYXJnZXRBdFRpbWUoeVVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHpVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge0hvd2x9XG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IG8ub3JpZW50YXRpb24gfHwgWzEsIDAsIDBdO1xuICAgICAgc2VsZi5fc3RlcmVvID0gby5zdGVyZW8gfHwgbnVsbDtcbiAgICAgIHNlbGYuX3BvcyA9IG8ucG9zIHx8IG51bGw7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogMCxcbiAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiAnaW52ZXJzZScsXG4gICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogMTAwMDAsXG4gICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogJ0hSVEYnLFxuICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IDEsXG4gICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogMVxuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25zdGVyZW8gPSBvLm9uc3RlcmVvID8gW3tmbjogby5vbnN0ZXJlb31dIDogW107XG4gICAgICBzZWxmLl9vbnBvcyA9IG8ub25wb3MgPyBbe2ZuOiBvLm9ucG9zfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ub3JpZW50YXRpb24gPSBvLm9ub3JpZW50YXRpb24gPyBbe2ZuOiBvLm9ub3JpZW50YXRpb259XSA6IFtdO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG8pO1xuICAgIH07XG4gIH0pKEhvd2wucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBzdGVyZW8gcGFubmluZyBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGFsbCBpbiB0aGUgZ3JvdXAuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuICBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBzdGVyZW8gcGFuIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdzdGVyZW8nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RlcmVvKHBhbiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIFBhbm5lclN0ZXJlb05vZGUgc3VwcG9ydCBhbmQgZmFsbGJhY2sgdG8gUGFubmVyTm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgIHZhciBwYW5uZXJUeXBlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lciA9PT0gJ3VuZGVmaW5lZCcpID8gJ3NwYXRpYWwnIDogJ3N0ZXJlbyc7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fc3RlcmVvID0gcGFuO1xuICAgICAgICBzZWxmLl9wb3MgPSBbcGFuLCAwLCAwXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9zdGVyZW87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzdHJlbyBwYW5uaW5nIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3BhbiwgMCwgMF07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBmYWxsaW5nIGJhY2ssIG1ha2Ugc3VyZSB0aGUgcGFubmluZ01vZGVsIGlzIGVxdWFscG93ZXIuXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgPSAnZXF1YWxwb3dlcic7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCAhc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsIHBhbm5lclR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFubmVyVHlwZSA9PT0gJ3NwYXRpYWwnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHBhbiwgMCwgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnc3RlcmVvJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3N0ZXJlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSAzRCBzcGF0aWFsIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgZ3JvdXAgcmVsYXRpdmUgdG8gdGhlIGdsb2JhbCBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBvc2l0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdwb3MnLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyAwIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgncG9zJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX3BvcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGF1ZGlvIHNvdXJjZSBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIGNvb3JkaW5hdGVcbiAgICogc3BhY2UuIERlcGVuZGluZyBvbiBob3cgZGlyZWN0aW9uIHRoZSBzb3VuZCBpcywgYmFzZWQgb24gdGhlIGBjb25lYCBhdHRyaWJ1dGVzLFxuICAgKiBhIHNvdW5kIHBvaW50aW5nIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIgY2FuIGJlIHF1aWV0IG9yIHNpbGVudC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIG9yaWVudGF0aW9uOiBbeCwgeSwgel0uXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugb3JpZW50YXRpb24gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ29yaWVudGF0aW9uJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLm9yaWVudGF0aW9uKHgsIHksIHosIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMl0gOiB6O1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fb3JpZW50YXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIG9yaWVudGF0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnb3JpZW50YXRpb24nLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fb3JpZW50YXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcGFubmVyIG5vZGUncyBhdHRyaWJ1dGVzIGZvciBhIHNvdW5kIG9yIGdyb3VwIG9mIHNvdW5kcy5cbiAgICogVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbCB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAqICAgcGFubmVyQXR0cigpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgdmFsdWVzLlxuICAgKiAgIHBhbm5lckF0dHIobykgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICogICBwYW5uZXJBdHRyKG8sIGlkKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICpcbiAgICogICBBdHRyaWJ1dGVzOlxuICAgKiAgICAgY29uZUlubmVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBpbnNpZGUgb2Ygd2hpY2ggdGhlcmUgd2lsbCBiZSBubyB2b2x1bWUgcmVkdWN0aW9uLlxuICAgKiAgICAgY29uZU91dGVyQW5nbGUgLSAoMzYwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIGFuIGFuZ2xlLCBpbiBkZWdyZWVzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlIG9mIHdoaWNoIHRoZSB2b2x1bWUgd2lsbCBiZSByZWR1Y2VkIHRvIGEgY29uc3RhbnQgdmFsdWUgb2YgYGNvbmVPdXRlckdhaW5gLlxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIHRoZSBnYWluIG91dHNpZGUgb2YgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgYGNvbmVPdXRlckFuZ2xlYC4gSXQgaXMgYSBsaW5lYXIgdmFsdWUgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLlxuICAgKiAgICAgZGlzdGFuY2VNb2RlbCAtICgnaW52ZXJzZScgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyBhbGdvcml0aG0gdXNlZCB0byByZWR1Y2Ugdm9sdW1lIGFzIGF1ZGlvIG1vdmVzIGF3YXkgZnJvbVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLiBDYW4gYmUgYGxpbmVhcmAsIGBpbnZlcnNlYCBvciBgZXhwb25lbnRpYWwuXG4gICAqICAgICBtYXhEaXN0YW5jZSAtICgxMDAwMCBieSBkZWZhdWx0KSBUaGUgbWF4aW11bSBkaXN0YW5jZSBiZXR3ZWVuIHNvdXJjZSBhbmQgbGlzdGVuZXIsIGFmdGVyIHdoaWNoIHRoZSB2b2x1bWVcbiAgICogICAgICAgICAgICAgICAgICAgd2lsbCBub3QgYmUgcmVkdWNlZCBhbnkgZnVydGhlci5cbiAgICogICAgIHJlZkRpc3RhbmNlIC0gKDEgYnkgZGVmYXVsdCkgQSByZWZlcmVuY2UgZGlzdGFuY2UgZm9yIHJlZHVjaW5nIHZvbHVtZSBhcyBzb3VyY2UgbW92ZXMgZnVydGhlciBmcm9tIHRoZSBsaXN0ZW5lci5cbiAgICogICAgICAgICAgICAgICAgICAgVGhpcyBpcyBzaW1wbHkgYSB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGhhcyBhIGRpZmZlcmVudCBlZmZlY3QgZGVwZW5kaW5nIG9uIHdoaWNoIG1vZGVsXG4gICAqICAgICAgICAgICAgICAgICAgIGlzIHVzZWQgYW5kIHRoZSBzY2FsZSBvZiB5b3VyIGNvb3JkaW5hdGVzLiBHZW5lcmFsbHksIHZvbHVtZSB3aWxsIGJlIGVxdWFsIHRvIDEgYXQgdGhpcyBkaXN0YW5jZS5cbiAgICogICAgIHJvbGxvZmZGYWN0b3IgLSAoMSBieSBkZWZhdWx0KSBIb3cgcXVpY2tseSB0aGUgdm9sdW1lIHJlZHVjZXMgYXMgc291cmNlIG1vdmVzIGZyb20gbGlzdGVuZXIuIFRoaXMgaXMgc2ltcGx5IGFcbiAgICogICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSBvZiB0aGUgZGlzdGFuY2UgbW9kZWwgYW5kIGNhbiBiZSBpbiB0aGUgcmFuZ2Ugb2YgYFswLCAxXWAgd2l0aCBgbGluZWFyYCBhbmQgYFswLCBcdTIyMUVdYFxuICAgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggYGludmVyc2VgIGFuZCBgZXhwb25lbnRpYWxgLlxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxuICAgKiAgICAgICAgICAgICAgICAgICAgIENhbiBiZSBgSFJURmAgb3IgYGVxdWFscG93ZXJgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtIb3dsL09iamVjdH0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgcGFubmVyIGF0dHJpYnV0ZXMuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBvLCBpZCwgc291bmQ7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICByZXR1cm4gc2VsZi5fcGFubmVyQXR0cjtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG8gPSBhcmdzWzBdO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdSdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICghby5wYW5uZXJBdHRyKSB7XG4gICAgICAgICAgICBvLnBhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiBvLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogby5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyR2Fpbjogby5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiBvLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvLm1heERpc3RhbmNlLFxuICAgICAgICAgICAgICByZWZEaXN0YW5jZTogby5yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcm9sbG9mZkZhY3Rvcjogby5yb2xsb2ZmRmFjdG9yLFxuICAgICAgICAgICAgICBwYW5uaW5nTW9kZWw6IG8ucGFubmluZ01vZGVsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSA6IHNlbGYuX2NvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluIDogc2VsZi5fY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgOiBzZWxmLl9tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSA6IHNlbGYuX3JlZkRpc3RhbmNlLFxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yIDogc2VsZi5fcm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA6IHNlbGYuX3Bhbm5pbmdNb2RlbFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9wYW5uZXJBdHRyIDogc2VsZi5fcGFubmVyQXR0cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICBvID0gYXJnc1swXTtcbiAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIG9mIHRoZSBzcGVjaWZpZWQgc291bmRzLlxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgdmFsdWVzIGludG8gdGhlIHNvdW5kLlxuICAgICAgICB2YXIgcGEgPSBzb3VuZC5fcGFubmVyQXR0cjtcbiAgICAgICAgcGEgPSB7XG4gICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiBwYS5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IHBhLmNvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJHYWluIDogcGEuY29uZU91dGVyR2FpbixcbiAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6IHBhLmRpc3RhbmNlTW9kZWwsXG4gICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiBwYS5tYXhEaXN0YW5jZSxcbiAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5yZWZEaXN0YW5jZSA6IHBhLnJlZkRpc3RhbmNlLFxuICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogcGEucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6IHBhLnBhbm5pbmdNb2RlbFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFubmVyIHZhbHVlcyBvciBjcmVhdGUgYSBuZXcgcGFubmVyIGlmIG5vbmUgZXhpc3RzLlxuICAgICAgICB2YXIgcGFubmVyID0gc291bmQuX3Bhbm5lcjtcbiAgICAgICAgaWYgKHBhbm5lcikge1xuICAgICAgICAgIHBhbm5lci5jb25lSW5uZXJBbmdsZSA9IHBhLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgICAgIHBhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHBhLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgICAgIHBhbm5lci5jb25lT3V0ZXJHYWluID0gcGEuY29uZU91dGVyR2FpbjtcbiAgICAgICAgICBwYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHBhLmRpc3RhbmNlTW9kZWw7XG4gICAgICAgICAgcGFubmVyLm1heERpc3RhbmNlID0gcGEubWF4RGlzdGFuY2U7XG4gICAgICAgICAgcGFubmVyLnJlZkRpc3RhbmNlID0gcGEucmVmRGlzdGFuY2U7XG4gICAgICAgICAgcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBwYS5yb2xsb2ZmRmFjdG9yO1xuICAgICAgICAgIHBhbm5lci5wYW5uaW5nTW9kZWwgPSBwYS5wYW5uaW5nTW9kZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxuICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlLlxuICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgU291bmQgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIFNvdW5kIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICovXG4gIFNvdW5kLnByb3RvdHlwZS5pbml0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlIFNvdW5kJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIFNvdW5kLnJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwYXRpYWwgcGx1Z2luLlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIFNvdW5kIHJlc2V0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUucmVzZXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gUmVzZXQgYWxsIHNwYXRpYWwgcGx1Z2luIHByb3BlcnRpZXMgb24gdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBJZiBhIHN0ZXJlbyBvciBwb3NpdGlvbiB3YXMgc3BlY2lmaWVkLCBzZXQgaXQgdXAuXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcG9zKSB7XG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wYW5uZXIpIHtcbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgcGFubmVyLlxuICAgICAgICBzZWxmLl9wYW5uZXIuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgc2VsZi5fcGFubmVyID0gdW5kZWZpbmVkO1xuICAgICAgICBwYXJlbnQuX3JlZnJlc2hCdWZmZXIoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbXBsZXRlIHJlc2V0dGluZyBvZiB0aGUgc291bmQuXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgfSkoU291bmQucHJvdG90eXBlLnJlc2V0KTtcblxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBhbmQgc2F2ZSBpdCBvbiB0aGUgc291bmQuXG4gICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBTcGVjaWZpYyBzb3VuZCB0byBzZXR1cCBwYW5uaW5nIG9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIHBhbm5lciB0byBjcmVhdGU6ICdzdGVyZW8nIG9yICdzcGF0aWFsJy5cbiAgICovXG4gIHZhciBzZXR1cFBhbm5lciA9IGZ1bmN0aW9uKHNvdW5kLCB0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgJ3NwYXRpYWwnO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBuZXcgcGFubmVyIG5vZGUuXG4gICAgaWYgKHR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZUlubmVyQW5nbGU7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyQW5nbGU7XG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVPdXRlckdhaW4gPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJHYWluO1xuICAgICAgc291bmQuX3Bhbm5lci5kaXN0YW5jZU1vZGVsID0gc291bmQuX3Bhbm5lckF0dHIuZGlzdGFuY2VNb2RlbDtcbiAgICAgIHNvdW5kLl9wYW5uZXIubWF4RGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5tYXhEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucmVmRGlzdGFuY2UgPSBzb3VuZC5fcGFubmVyQXR0ci5yZWZEaXN0YW5jZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucm9sbG9mZkZhY3RvciA9IHNvdW5kLl9wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbm5pbmdNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDtcblxuICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oc291bmQuX3Bvc1swXSwgc291bmQuX3Bvc1sxXSwgc291bmQuX3Bvc1syXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblswXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblsyXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHNvdW5kLl9vcmllbnRhdGlvblswXSwgc291bmQuX29yaWVudGF0aW9uWzFdLCBzb3VuZC5fb3JpZW50YXRpb25bMl0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzb3VuZC5fcGFubmVyID0gSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIoKTtcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9zdGVyZW8sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgIH1cblxuICAgIHNvdW5kLl9wYW5uZXIuY29ubmVjdChzb3VuZC5fbm9kZSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGNvbm5lY3Rpb25zLlxuICAgIGlmICghc291bmQuX3BhdXNlZCkge1xuICAgICAgc291bmQuX3BhcmVudC5wYXVzZShzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkLCB0cnVlKTtcbiAgICB9XG4gIH07XG59KSgpO1xuIiwgImV4cG9ydCBpbnRlcmZhY2UgU25hYmJkb21GcmFnbWVudCBleHRlbmRzIERvY3VtZW50RnJhZ21lbnQge1xuICBwYXJlbnQ6IE5vZGUgfCBudWxsO1xuICBmaXJzdENoaWxkTm9kZTogQ2hpbGROb2RlIHwgbnVsbDtcbiAgbGFzdENoaWxkTm9kZTogQ2hpbGROb2RlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBET01BUEkge1xuICBjcmVhdGVFbGVtZW50OiAoXG4gICAgdGFnTmFtZTogYW55LFxuICAgIG9wdGlvbnM/OiBFbGVtZW50Q3JlYXRpb25PcHRpb25zXG4gICkgPT4gSFRNTEVsZW1lbnQ7XG4gIGNyZWF0ZUVsZW1lbnROUzogKFxuICAgIG5hbWVzcGFjZVVSSTogc3RyaW5nLFxuICAgIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zPzogRWxlbWVudENyZWF0aW9uT3B0aW9uc1xuICApID0+IEVsZW1lbnQ7XG4gIC8qKlxuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqIEB0b2RvIE1ha2UgaXQgcmVxdWlyZWQgd2hlbiB0aGUgZnJhZ21lbnQgaXMgY29uc2lkZXJlZCBzdGFibGUuXG4gICAqL1xuICBjcmVhdGVEb2N1bWVudEZyYWdtZW50PzogKCkgPT4gU25hYmJkb21GcmFnbWVudDtcbiAgY3JlYXRlVGV4dE5vZGU6ICh0ZXh0OiBzdHJpbmcpID0+IFRleHQ7XG4gIGNyZWF0ZUNvbW1lbnQ6ICh0ZXh0OiBzdHJpbmcpID0+IENvbW1lbnQ7XG4gIGluc2VydEJlZm9yZTogKFxuICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgbmV3Tm9kZTogTm9kZSxcbiAgICByZWZlcmVuY2VOb2RlOiBOb2RlIHwgbnVsbFxuICApID0+IHZvaWQ7XG4gIHJlbW92ZUNoaWxkOiAobm9kZTogTm9kZSwgY2hpbGQ6IE5vZGUpID0+IHZvaWQ7XG4gIGFwcGVuZENoaWxkOiAobm9kZTogTm9kZSwgY2hpbGQ6IE5vZGUpID0+IHZvaWQ7XG4gIHBhcmVudE5vZGU6IChub2RlOiBOb2RlKSA9PiBOb2RlIHwgbnVsbDtcbiAgbmV4dFNpYmxpbmc6IChub2RlOiBOb2RlKSA9PiBOb2RlIHwgbnVsbDtcbiAgdGFnTmFtZTogKGVsbTogRWxlbWVudCkgPT4gc3RyaW5nO1xuICBzZXRUZXh0Q29udGVudDogKG5vZGU6IE5vZGUsIHRleHQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGdldFRleHRDb250ZW50OiAobm9kZTogTm9kZSkgPT4gc3RyaW5nIHwgbnVsbDtcbiAgaXNFbGVtZW50OiAobm9kZTogTm9kZSkgPT4gbm9kZSBpcyBFbGVtZW50O1xuICBpc1RleHQ6IChub2RlOiBOb2RlKSA9PiBub2RlIGlzIFRleHQ7XG4gIGlzQ29tbWVudDogKG5vZGU6IE5vZGUpID0+IG5vZGUgaXMgQ29tbWVudDtcbiAgLyoqXG4gICAqIEBleHBlcmltZW50YWxcbiAgICogQHRvZG8gTWFrZSBpdCByZXF1aXJlZCB3aGVuIHRoZSBmcmFnbWVudCBpcyBjb25zaWRlcmVkIHN0YWJsZS5cbiAgICovXG4gIGlzRG9jdW1lbnRGcmFnbWVudD86IChub2RlOiBOb2RlKSA9PiBub2RlIGlzIERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoXG4gIHRhZ05hbWU6IGFueSxcbiAgb3B0aW9ucz86IEVsZW1lbnRDcmVhdGlvbk9wdGlvbnNcbik6IEhUTUxFbGVtZW50IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyhcbiAgbmFtZXNwYWNlVVJJOiBzdHJpbmcsXG4gIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgb3B0aW9ucz86IEVsZW1lbnRDcmVhdGlvbk9wdGlvbnNcbik6IEVsZW1lbnQge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgcXVhbGlmaWVkTmFtZSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTogU25hYmJkb21GcmFnbWVudCB7XG4gIHJldHVybiBwYXJzZUZyYWdtZW50KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHRleHQ6IHN0cmluZyk6IFRleHQge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQodGV4dDogc3RyaW5nKTogQ29tbWVudCB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUoXG4gIHBhcmVudE5vZGU6IE5vZGUsXG4gIG5ld05vZGU6IE5vZGUsXG4gIHJlZmVyZW5jZU5vZGU6IE5vZGUgfCBudWxsXG4pOiB2b2lkIHtcbiAgaWYgKGlzRG9jdW1lbnRGcmFnbWVudChwYXJlbnROb2RlKSkge1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHBhcmVudE5vZGU7XG4gICAgd2hpbGUgKG5vZGUgJiYgaXNEb2N1bWVudEZyYWdtZW50KG5vZGUpKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IHBhcnNlRnJhZ21lbnQobm9kZSk7XG4gICAgICBub2RlID0gZnJhZ21lbnQucGFyZW50O1xuICAgIH1cbiAgICBwYXJlbnROb2RlID0gbm9kZSA/PyBwYXJlbnROb2RlO1xuICB9XG4gIGlmIChpc0RvY3VtZW50RnJhZ21lbnQobmV3Tm9kZSkpIHtcbiAgICBuZXdOb2RlID0gcGFyc2VGcmFnbWVudChuZXdOb2RlLCBwYXJlbnROb2RlKTtcbiAgfVxuICBpZiAocmVmZXJlbmNlTm9kZSAmJiBpc0RvY3VtZW50RnJhZ21lbnQocmVmZXJlbmNlTm9kZSkpIHtcbiAgICByZWZlcmVuY2VOb2RlID0gcGFyc2VGcmFnbWVudChyZWZlcmVuY2VOb2RlKS5maXJzdENoaWxkTm9kZTtcbiAgfVxuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQobm9kZTogTm9kZSwgY2hpbGQ6IE5vZGUpOiB2b2lkIHtcbiAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKG5vZGU6IE5vZGUsIGNoaWxkOiBOb2RlKTogdm9pZCB7XG4gIGlmIChpc0RvY3VtZW50RnJhZ21lbnQoY2hpbGQpKSB7XG4gICAgY2hpbGQgPSBwYXJzZUZyYWdtZW50KGNoaWxkLCBub2RlKTtcbiAgfVxuICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50Tm9kZShub2RlOiBOb2RlKTogTm9kZSB8IG51bGwge1xuICBpZiAoaXNEb2N1bWVudEZyYWdtZW50KG5vZGUpKSB7XG4gICAgd2hpbGUgKG5vZGUgJiYgaXNEb2N1bWVudEZyYWdtZW50KG5vZGUpKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IHBhcnNlRnJhZ21lbnQobm9kZSk7XG4gICAgICBub2RlID0gZnJhZ21lbnQucGFyZW50IGFzIE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBub2RlID8/IG51bGw7XG4gIH1cbiAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcbn1cblxuZnVuY3Rpb24gbmV4dFNpYmxpbmcobm9kZTogTm9kZSk6IE5vZGUgfCBudWxsIHtcbiAgaWYgKGlzRG9jdW1lbnRGcmFnbWVudChub2RlKSkge1xuICAgIGNvbnN0IGZyYWdtZW50ID0gcGFyc2VGcmFnbWVudChub2RlKTtcbiAgICBjb25zdCBwYXJlbnQgPSBwYXJlbnROb2RlKGZyYWdtZW50KTtcbiAgICBpZiAocGFyZW50ICYmIGZyYWdtZW50Lmxhc3RDaGlsZE5vZGUpIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGROb2Rlcyk7XG4gICAgICBjb25zdCBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoZnJhZ21lbnQubGFzdENoaWxkTm9kZSk7XG4gICAgICByZXR1cm4gY2hpbGRyZW5baW5kZXggKyAxXSA/PyBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbn1cblxuZnVuY3Rpb24gdGFnTmFtZShlbG06IEVsZW1lbnQpOiBzdHJpbmcge1xuICByZXR1cm4gZWxtLnRhZ05hbWU7XG59XG5cbmZ1bmN0aW9uIHNldFRleHRDb250ZW50KG5vZGU6IE5vZGUsIHRleHQ6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFRleHRDb250ZW50KG5vZGU6IE5vZGUpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBFbGVtZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDE7XG59XG5cbmZ1bmN0aW9uIGlzVGV4dChub2RlOiBOb2RlKTogbm9kZSBpcyBUZXh0IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDM7XG59XG5cbmZ1bmN0aW9uIGlzQ29tbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBDb21tZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDg7XG59XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRGcmFnbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBEb2N1bWVudEZyYWdtZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDExO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZyYWdtZW50KFxuICBmcmFnbWVudE5vZGU6IERvY3VtZW50RnJhZ21lbnQsXG4gIHBhcmVudE5vZGU/OiBOb2RlIHwgbnVsbFxuKTogU25hYmJkb21GcmFnbWVudCB7XG4gIGNvbnN0IGZyYWdtZW50ID0gZnJhZ21lbnROb2RlIGFzIFNuYWJiZG9tRnJhZ21lbnQ7XG4gIGZyYWdtZW50LnBhcmVudCA/Pz0gcGFyZW50Tm9kZSA/PyBudWxsO1xuICBmcmFnbWVudC5maXJzdENoaWxkTm9kZSA/Pz0gZnJhZ21lbnROb2RlLmZpcnN0Q2hpbGQ7XG4gIGZyYWdtZW50Lmxhc3RDaGlsZE5vZGUgPz89IGZyYWdtZW50Tm9kZS5sYXN0Q2hpbGQ7XG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZXhwb3J0IGNvbnN0IGh0bWxEb21BcGk6IERPTUFQSSA9IHtcbiAgY3JlYXRlRWxlbWVudCxcbiAgY3JlYXRlRWxlbWVudE5TLFxuICBjcmVhdGVUZXh0Tm9kZSxcbiAgY3JlYXRlRG9jdW1lbnRGcmFnbWVudCxcbiAgY3JlYXRlQ29tbWVudCxcbiAgaW5zZXJ0QmVmb3JlLFxuICByZW1vdmVDaGlsZCxcbiAgYXBwZW5kQ2hpbGQsXG4gIHBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nLFxuICB0YWdOYW1lLFxuICBzZXRUZXh0Q29udGVudCxcbiAgZ2V0VGV4dENvbnRlbnQsXG4gIGlzRWxlbWVudCxcbiAgaXNUZXh0LFxuICBpc0NvbW1lbnQsXG4gIGlzRG9jdW1lbnRGcmFnbWVudCxcbn07XG4iLCAiaW1wb3J0IHsgSG9va3MgfSBmcm9tIFwiLi9ob29rc1wiO1xuaW1wb3J0IHsgQXR0YWNoRGF0YSB9IGZyb20gXCIuL2hlbHBlcnMvYXR0YWNodG9cIjtcbmltcG9ydCB7IFZOb2RlU3R5bGUgfSBmcm9tIFwiLi9tb2R1bGVzL3N0eWxlXCI7XG5pbXBvcnQgeyBPbiB9IGZyb20gXCIuL21vZHVsZXMvZXZlbnRsaXN0ZW5lcnNcIjtcbmltcG9ydCB7IEF0dHJzIH0gZnJvbSBcIi4vbW9kdWxlcy9hdHRyaWJ1dGVzXCI7XG5pbXBvcnQgeyBDbGFzc2VzIH0gZnJvbSBcIi4vbW9kdWxlcy9jbGFzc1wiO1xuaW1wb3J0IHsgUHJvcHMgfSBmcm9tIFwiLi9tb2R1bGVzL3Byb3BzXCI7XG5pbXBvcnQgeyBEYXRhc2V0IH0gZnJvbSBcIi4vbW9kdWxlcy9kYXRhc2V0XCI7XG5cbmV4cG9ydCB0eXBlIEtleSA9IHN0cmluZyB8IG51bWJlciB8IHN5bWJvbDtcblxuZXhwb3J0IGludGVyZmFjZSBWTm9kZSB7XG4gIHNlbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBkYXRhOiBWTm9kZURhdGEgfCB1bmRlZmluZWQ7XG4gIGNoaWxkcmVuOiBBcnJheTxWTm9kZSB8IHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gIGVsbTogTm9kZSB8IHVuZGVmaW5lZDtcbiAgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBrZXk6IEtleSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWTm9kZURhdGEge1xuICBwcm9wcz86IFByb3BzO1xuICBhdHRycz86IEF0dHJzO1xuICBjbGFzcz86IENsYXNzZXM7XG4gIHN0eWxlPzogVk5vZGVTdHlsZTtcbiAgZGF0YXNldD86IERhdGFzZXQ7XG4gIG9uPzogT247XG4gIGF0dGFjaERhdGE/OiBBdHRhY2hEYXRhO1xuICBob29rPzogSG9va3M7XG4gIGtleT86IEtleTtcbiAgbnM/OiBzdHJpbmc7IC8vIGZvciBTVkdzXG4gIGZuPzogKCkgPT4gVk5vZGU7IC8vIGZvciB0aHVua3NcbiAgYXJncz86IGFueVtdOyAvLyBmb3IgdGh1bmtzXG4gIGlzPzogc3RyaW5nOyAvLyBmb3IgY3VzdG9tIGVsZW1lbnRzIHYxXG4gIFtrZXk6IHN0cmluZ106IGFueTsgLy8gZm9yIGFueSBvdGhlciAzcmQgcGFydHkgbW9kdWxlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2bm9kZShcbiAgc2VsOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIGRhdGE6IGFueSB8IHVuZGVmaW5lZCxcbiAgY2hpbGRyZW46IEFycmF5PFZOb2RlIHwgc3RyaW5nPiB8IHVuZGVmaW5lZCxcbiAgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBlbG06IEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50IHwgVGV4dCB8IHVuZGVmaW5lZFxuKTogVk5vZGUge1xuICBjb25zdCBrZXkgPSBkYXRhID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBkYXRhLmtleTtcbiAgcmV0dXJuIHsgc2VsLCBkYXRhLCBjaGlsZHJlbiwgdGV4dCwgZWxtLCBrZXkgfTtcbn1cbiIsICJleHBvcnQgY29uc3QgYXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0IGZ1bmN0aW9uIHByaW1pdGl2ZShzOiBhbnkpOiBzIGlzIHN0cmluZyB8IG51bWJlciB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHMgPT09IFwic3RyaW5nXCIgfHxcbiAgICB0eXBlb2YgcyA9PT0gXCJudW1iZXJcIiB8fFxuICAgIHMgaW5zdGFuY2VvZiBTdHJpbmcgfHxcbiAgICBzIGluc3RhbmNlb2YgTnVtYmVyXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlcy9tb2R1bGVcIjtcbmltcG9ydCB7IHZub2RlLCBWTm9kZSB9IGZyb20gXCIuL3Zub2RlXCI7XG5pbXBvcnQgKiBhcyBpcyBmcm9tIFwiLi9pc1wiO1xuaW1wb3J0IHsgaHRtbERvbUFwaSwgRE9NQVBJIH0gZnJvbSBcIi4vaHRtbGRvbWFwaVwiO1xuXG50eXBlIE5vblVuZGVmaW5lZDxUPiA9IFQgZXh0ZW5kcyB1bmRlZmluZWQgPyBuZXZlciA6IFQ7XG5cbmZ1bmN0aW9uIGlzVW5kZWYoczogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiBzID09PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc0RlZjxBPihzOiBBKTogcyBpcyBOb25VbmRlZmluZWQ8QT4ge1xuICByZXR1cm4gcyAhPT0gdW5kZWZpbmVkO1xufVxuXG50eXBlIFZOb2RlUXVldWUgPSBWTm9kZVtdO1xuXG5jb25zdCBlbXB0eU5vZGUgPSB2bm9kZShcIlwiLCB7fSwgW10sIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcblxuZnVuY3Rpb24gc2FtZVZub2RlKHZub2RlMTogVk5vZGUsIHZub2RlMjogVk5vZGUpOiBib29sZWFuIHtcbiAgY29uc3QgaXNTYW1lS2V5ID0gdm5vZGUxLmtleSA9PT0gdm5vZGUyLmtleTtcbiAgY29uc3QgaXNTYW1lSXMgPSB2bm9kZTEuZGF0YT8uaXMgPT09IHZub2RlMi5kYXRhPy5pcztcbiAgY29uc3QgaXNTYW1lU2VsID0gdm5vZGUxLnNlbCA9PT0gdm5vZGUyLnNlbDtcbiAgY29uc3QgaXNTYW1lVGV4dE9yRnJhZ21lbnQgPVxuICAgICF2bm9kZTEuc2VsICYmIHZub2RlMS5zZWwgPT09IHZub2RlMi5zZWxcbiAgICAgID8gdHlwZW9mIHZub2RlMS50ZXh0ID09PSB0eXBlb2Ygdm5vZGUyLnRleHRcbiAgICAgIDogdHJ1ZTtcblxuICByZXR1cm4gaXNTYW1lU2VsICYmIGlzU2FtZUtleSAmJiBpc1NhbWVJcyAmJiBpc1NhbWVUZXh0T3JGcmFnbWVudDtcbn1cblxuLyoqXG4gKiBAdG9kbyBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHRoZSBkb2N1bWVudCBmcmFnbWVudCBpcyBjb25zaWRlcmVkIHN0YWJsZS5cbiAqL1xuZnVuY3Rpb24gZG9jdW1lbnRGcmFnbWVudElzTm90U3VwcG9ydGVkKCk6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRvY3VtZW50IGZyYWdtZW50IGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybS5cIik7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChcbiAgYXBpOiBET01BUEksXG4gIHZub2RlOiBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCB8IFZOb2RlXG4pOiB2bm9kZSBpcyBFbGVtZW50IHtcbiAgcmV0dXJuIGFwaS5pc0VsZW1lbnQodm5vZGUgYXMgYW55KTtcbn1cblxuZnVuY3Rpb24gaXNEb2N1bWVudEZyYWdtZW50KFxuICBhcGk6IERPTUFQSSxcbiAgdm5vZGU6IERvY3VtZW50RnJhZ21lbnQgfCBWTm9kZVxuKTogdm5vZGUgaXMgRG9jdW1lbnRGcmFnbWVudCB7XG4gIHJldHVybiBhcGkuaXNEb2N1bWVudEZyYWdtZW50ISh2bm9kZSBhcyBhbnkpO1xufVxuXG50eXBlIEtleVRvSW5kZXhNYXAgPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuXG50eXBlIEFycmF5c09mPFQ+ID0ge1xuICBbSyBpbiBrZXlvZiBUXTogQXJyYXk8VFtLXT47XG59O1xuXG50eXBlIE1vZHVsZUhvb2tzID0gQXJyYXlzT2Y8UmVxdWlyZWQ8TW9kdWxlPj47XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVRvT2xkSWR4KFxuICBjaGlsZHJlbjogVk5vZGVbXSxcbiAgYmVnaW5JZHg6IG51bWJlcixcbiAgZW5kSWR4OiBudW1iZXJcbik6IEtleVRvSW5kZXhNYXAge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0gY2hpbGRyZW5baV0/LmtleTtcbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hcFtrZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmNvbnN0IGhvb2tzOiBBcnJheTxrZXlvZiBNb2R1bGU+ID0gW1xuICBcImNyZWF0ZVwiLFxuICBcInVwZGF0ZVwiLFxuICBcInJlbW92ZVwiLFxuICBcImRlc3Ryb3lcIixcbiAgXCJwcmVcIixcbiAgXCJwb3N0XCIsXG5dO1xuXG4vLyBUT0RPIFNob3VsZCBgZG9tQXBpYCBiZSBwdXQgaW50byB0aGlzIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gYnVtcD9cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSB7XG4gIGV4cGVyaW1lbnRhbD86IHtcbiAgICBmcmFnbWVudHM/OiBib29sZWFuO1xuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoXG4gIG1vZHVsZXM6IEFycmF5PFBhcnRpYWw8TW9kdWxlPj4sXG4gIGRvbUFwaT86IERPTUFQSSxcbiAgb3B0aW9ucz86IE9wdGlvbnNcbikge1xuICBjb25zdCBjYnM6IE1vZHVsZUhvb2tzID0ge1xuICAgIGNyZWF0ZTogW10sXG4gICAgdXBkYXRlOiBbXSxcbiAgICByZW1vdmU6IFtdLFxuICAgIGRlc3Ryb3k6IFtdLFxuICAgIHByZTogW10sXG4gICAgcG9zdDogW10sXG4gIH07XG5cbiAgY29uc3QgYXBpOiBET01BUEkgPSBkb21BcGkgIT09IHVuZGVmaW5lZCA/IGRvbUFwaSA6IGh0bWxEb21BcGk7XG5cbiAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgZm9yIChjb25zdCBtb2R1bGUgb2YgbW9kdWxlcykge1xuICAgICAgY29uc3QgY3VycmVudEhvb2sgPSBtb2R1bGVbaG9va107XG4gICAgICBpZiAoY3VycmVudEhvb2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAoY2JzW2hvb2tdIGFzIGFueVtdKS5wdXNoKGN1cnJlbnRIb29rKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbXB0eU5vZGVBdChlbG06IEVsZW1lbnQpIHtcbiAgICBjb25zdCBpZCA9IGVsbS5pZCA/IFwiI1wiICsgZWxtLmlkIDogXCJcIjtcblxuICAgIC8vIGVsbS5jbGFzc05hbWUgZG9lc24ndCByZXR1cm4gYSBzdHJpbmcgd2hlbiBlbG0gaXMgYW4gU1ZHIGVsZW1lbnQgaW5zaWRlIGEgc2hhZG93Um9vdC5cbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTQ1NDM0MC9kZXRlY3RpbmctY2xhc3NuYW1lLW9mLXN2Z2FuaW1hdGVkc3RyaW5nXG4gICAgY29uc3QgY2xhc3NlcyA9IGVsbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcblxuICAgIGNvbnN0IGMgPSBjbGFzc2VzID8gXCIuXCIgKyBjbGFzc2VzLnNwbGl0KFwiIFwiKS5qb2luKFwiLlwiKSA6IFwiXCI7XG4gICAgcmV0dXJuIHZub2RlKFxuICAgICAgYXBpLnRhZ05hbWUoZWxtKS50b0xvd2VyQ2FzZSgpICsgaWQgKyBjLFxuICAgICAge30sXG4gICAgICBbXSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGVsbVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBlbXB0eURvY3VtZW50RnJhZ21lbnRBdChmcmFnOiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgcmV0dXJuIHZub2RlKHVuZGVmaW5lZCwge30sIFtdLCB1bmRlZmluZWQsIGZyYWcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUm1DYihjaGlsZEVsbTogTm9kZSwgbGlzdGVuZXJzOiBudW1iZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcm1DYigpIHtcbiAgICAgIGlmICgtLWxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBhcGkucGFyZW50Tm9kZShjaGlsZEVsbSkgYXMgTm9kZTtcbiAgICAgICAgYXBpLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGRFbG0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbG0odm5vZGU6IFZOb2RlLCBpbnNlcnRlZFZub2RlUXVldWU6IFZOb2RlUXVldWUpOiBOb2RlIHtcbiAgICBsZXQgaTogYW55O1xuICAgIGxldCBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBpbml0ID0gZGF0YS5ob29rPy5pbml0O1xuICAgICAgaWYgKGlzRGVmKGluaXQpKSB7XG4gICAgICAgIGluaXQodm5vZGUpO1xuICAgICAgICBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBzZWwgPSB2bm9kZS5zZWw7XG4gICAgaWYgKHNlbCA9PT0gXCIhXCIpIHtcbiAgICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7XG4gICAgICAgIHZub2RlLnRleHQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgdm5vZGUuZWxtID0gYXBpLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCEpO1xuICAgIH0gZWxzZSBpZiAoc2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFBhcnNlIHNlbGVjdG9yXG4gICAgICBjb25zdCBoYXNoSWR4ID0gc2VsLmluZGV4T2YoXCIjXCIpO1xuICAgICAgY29uc3QgZG90SWR4ID0gc2VsLmluZGV4T2YoXCIuXCIsIGhhc2hJZHgpO1xuICAgICAgY29uc3QgaGFzaCA9IGhhc2hJZHggPiAwID8gaGFzaElkeCA6IHNlbC5sZW5ndGg7XG4gICAgICBjb25zdCBkb3QgPSBkb3RJZHggPiAwID8gZG90SWR4IDogc2VsLmxlbmd0aDtcbiAgICAgIGNvbnN0IHRhZyA9XG4gICAgICAgIGhhc2hJZHggIT09IC0xIHx8IGRvdElkeCAhPT0gLTFcbiAgICAgICAgICA/IHNlbC5zbGljZSgwLCBNYXRoLm1pbihoYXNoLCBkb3QpKVxuICAgICAgICAgIDogc2VsO1xuICAgICAgY29uc3QgZWxtID0gKHZub2RlLmVsbSA9XG4gICAgICAgIGlzRGVmKGRhdGEpICYmIGlzRGVmKChpID0gZGF0YS5ucykpXG4gICAgICAgICAgPyBhcGkuY3JlYXRlRWxlbWVudE5TKGksIHRhZywgZGF0YSlcbiAgICAgICAgICA6IGFwaS5jcmVhdGVFbGVtZW50KHRhZywgZGF0YSkpO1xuICAgICAgaWYgKGhhc2ggPCBkb3QpIGVsbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBzZWwuc2xpY2UoaGFzaCArIDEsIGRvdCkpO1xuICAgICAgaWYgKGRvdElkeCA+IDApXG4gICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzZWwuc2xpY2UoZG90ICsgMSkucmVwbGFjZSgvXFwuL2csIFwiIFwiKSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSkgY2JzLmNyZWF0ZVtpXShlbXB0eU5vZGUsIHZub2RlKTtcbiAgICAgIGlmIChpcy5hcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgY29uc3QgY2ggPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICBpZiAoY2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXBpLmFwcGVuZENoaWxkKGVsbSwgY3JlYXRlRWxtKGNoIGFzIFZOb2RlLCBpbnNlcnRlZFZub2RlUXVldWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXMucHJpbWl0aXZlKHZub2RlLnRleHQpKSB7XG4gICAgICAgIGFwaS5hcHBlbmRDaGlsZChlbG0sIGFwaS5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KSk7XG4gICAgICB9XG4gICAgICBjb25zdCBob29rID0gdm5vZGUuZGF0YSEuaG9vaztcbiAgICAgIGlmIChpc0RlZihob29rKSkge1xuICAgICAgICBob29rLmNyZWF0ZT8uKGVtcHR5Tm9kZSwgdm5vZGUpO1xuICAgICAgICBpZiAoaG9vay5pbnNlcnQpIHtcbiAgICAgICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnM/LmV4cGVyaW1lbnRhbD8uZnJhZ21lbnRzICYmIHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICB2bm9kZS5lbG0gPSAoXG4gICAgICAgIGFwaS5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID8/IGRvY3VtZW50RnJhZ21lbnRJc05vdFN1cHBvcnRlZFxuICAgICAgKSgpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kpIGNicy5jcmVhdGVbaV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgY2ggPSB2bm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGNoICE9IG51bGwpIHtcbiAgICAgICAgICBhcGkuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICB2bm9kZS5lbG0sXG4gICAgICAgICAgICBjcmVhdGVFbG0oY2ggYXMgVk5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmVsbSA9IGFwaS5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0ISk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZS5lbG07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRWbm9kZXMoXG4gICAgcGFyZW50RWxtOiBOb2RlLFxuICAgIGJlZm9yZTogTm9kZSB8IG51bGwsXG4gICAgdm5vZGVzOiBWTm9kZVtdLFxuICAgIHN0YXJ0SWR4OiBudW1iZXIsXG4gICAgZW5kSWR4OiBudW1iZXIsXG4gICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlOiBWTm9kZVF1ZXVlXG4gICkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIGNvbnN0IGNoID0gdm5vZGVzW3N0YXJ0SWR4XTtcbiAgICAgIGlmIChjaCAhPSBudWxsKSB7XG4gICAgICAgIGFwaS5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0oY2gsIGluc2VydGVkVm5vZGVRdWV1ZSksIGJlZm9yZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRGVzdHJveUhvb2sodm5vZGU6IFZOb2RlKSB7XG4gICAgY29uc3QgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YT8uaG9vaz8uZGVzdHJveT8uKHZub2RlKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIGNicy5kZXN0cm95W2ldKHZub2RlKTtcbiAgICAgIGlmICh2bm9kZS5jaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IHZub2RlLmNoaWxkcmVuW2pdO1xuICAgICAgICAgIGlmIChjaGlsZCAhPSBudWxsICYmIHR5cGVvZiBjaGlsZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVZub2RlcyhcbiAgICBwYXJlbnRFbG06IE5vZGUsXG4gICAgdm5vZGVzOiBWTm9kZVtdLFxuICAgIHN0YXJ0SWR4OiBudW1iZXIsXG4gICAgZW5kSWR4OiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgbGV0IGxpc3RlbmVyczogbnVtYmVyO1xuICAgICAgbGV0IHJtOiAoKSA9PiB2b2lkO1xuICAgICAgY29uc3QgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgICAgaWYgKGNoICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzRGVmKGNoLnNlbCkpIHtcbiAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY2JzLnJlbW92ZS5sZW5ndGggKyAxO1xuICAgICAgICAgIHJtID0gY3JlYXRlUm1DYihjaC5lbG0hLCBsaXN0ZW5lcnMpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2JzLnJlbW92ZS5sZW5ndGg7ICsraSkgY2JzLnJlbW92ZVtpXShjaCwgcm0pO1xuICAgICAgICAgIGNvbnN0IHJlbW92ZUhvb2sgPSBjaD8uZGF0YT8uaG9vaz8ucmVtb3ZlO1xuICAgICAgICAgIGlmIChpc0RlZihyZW1vdmVIb29rKSkge1xuICAgICAgICAgICAgcmVtb3ZlSG9vayhjaCwgcm0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBybSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaC5jaGlsZHJlbikge1xuICAgICAgICAgIC8vIEZyYWdtZW50IG5vZGVcbiAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7XG4gICAgICAgICAgcmVtb3ZlVm5vZGVzKFxuICAgICAgICAgICAgcGFyZW50RWxtLFxuICAgICAgICAgICAgY2guY2hpbGRyZW4gYXMgVk5vZGVbXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBjaC5jaGlsZHJlbi5sZW5ndGggLSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUZXh0IG5vZGVcbiAgICAgICAgICBhcGkucmVtb3ZlQ2hpbGQocGFyZW50RWxtLCBjaC5lbG0hKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuKFxuICAgIHBhcmVudEVsbTogTm9kZSxcbiAgICBvbGRDaDogVk5vZGVbXSxcbiAgICBuZXdDaDogVk5vZGVbXSxcbiAgICBpbnNlcnRlZFZub2RlUXVldWU6IFZOb2RlUXVldWVcbiAgKSB7XG4gICAgbGV0IG9sZFN0YXJ0SWR4ID0gMDtcbiAgICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICAgIGxldCBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICAgIGxldCBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gICAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgICBsZXQgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgICBsZXQgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICAgIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gICAgbGV0IG9sZEtleVRvSWR4OiBLZXlUb0luZGV4TWFwIHwgdW5kZWZpbmVkO1xuICAgIGxldCBpZHhJbk9sZDogbnVtYmVyO1xuICAgIGxldCBlbG1Ub01vdmU6IFZOb2RlO1xuICAgIGxldCBiZWZvcmU6IGFueTtcblxuICAgIHdoaWxlIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHggJiYgbmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG4gICAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgbWlnaHQgaGF2ZSBiZWVuIG1vdmVkIGxlZnRcbiAgICAgIH0gZWxzZSBpZiAob2xkRW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAobmV3U3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSBpZiAobmV3RW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgLy8gVm5vZGUgbW92ZWQgcmlnaHRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgYXBpLmluc2VydEJlZm9yZShcbiAgICAgICAgICBwYXJlbnRFbG0sXG4gICAgICAgICAgb2xkU3RhcnRWbm9kZS5lbG0hLFxuICAgICAgICAgIGFwaS5uZXh0U2libGluZyhvbGRFbmRWbm9kZS5lbG0hKVxuICAgICAgICApO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgYXBpLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSEsIG9sZFN0YXJ0Vm5vZGUuZWxtISk7XG4gICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob2xkS2V5VG9JZHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgICB9XG4gICAgICAgIGlkeEluT2xkID0gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXkgYXMgc3RyaW5nXTtcbiAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7XG4gICAgICAgICAgLy8gTmV3IGVsZW1lbnRcbiAgICAgICAgICBhcGkuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgcGFyZW50RWxtLFxuICAgICAgICAgICAgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksXG4gICAgICAgICAgICBvbGRTdGFydFZub2RlLmVsbSFcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsbVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcbiAgICAgICAgICBpZiAoZWxtVG9Nb3ZlLnNlbCAhPT0gbmV3U3RhcnRWbm9kZS5zZWwpIHtcbiAgICAgICAgICAgIGFwaS5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgIHBhcmVudEVsbSxcbiAgICAgICAgICAgICAgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSksXG4gICAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUuZWxtIVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZShlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICAgICAgYXBpLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGVsbVRvTW92ZS5lbG0hLCBvbGRTdGFydFZub2RlLmVsbSEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgICAgYmVmb3JlID0gbmV3Q2hbbmV3RW5kSWR4ICsgMV0gPT0gbnVsbCA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XG4gICAgICBhZGRWbm9kZXMoXG4gICAgICAgIHBhcmVudEVsbSxcbiAgICAgICAgYmVmb3JlLFxuICAgICAgICBuZXdDaCxcbiAgICAgICAgbmV3U3RhcnRJZHgsXG4gICAgICAgIG5ld0VuZElkeCxcbiAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4KSB7XG4gICAgICByZW1vdmVWbm9kZXMocGFyZW50RWxtLCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2hWbm9kZShcbiAgICBvbGRWbm9kZTogVk5vZGUsXG4gICAgdm5vZGU6IFZOb2RlLFxuICAgIGluc2VydGVkVm5vZGVRdWV1ZTogVk5vZGVRdWV1ZVxuICApIHtcbiAgICBjb25zdCBob29rID0gdm5vZGUuZGF0YT8uaG9vaztcbiAgICBob29rPy5wcmVwYXRjaD8uKG9sZFZub2RlLCB2bm9kZSk7XG4gICAgY29uc3QgZWxtID0gKHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbSkhO1xuICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHJldHVybjtcbiAgICBpZiAoXG4gICAgICB2bm9kZS5kYXRhICE9PSB1bmRlZmluZWQgfHxcbiAgICAgIChpc0RlZih2bm9kZS50ZXh0KSAmJiB2bm9kZS50ZXh0ICE9PSBvbGRWbm9kZS50ZXh0KVxuICAgICkge1xuICAgICAgdm5vZGUuZGF0YSA/Pz0ge307XG4gICAgICBvbGRWbm9kZS5kYXRhID8/PSB7fTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSlcbiAgICAgICAgY2JzLnVwZGF0ZVtpXShvbGRWbm9kZSwgdm5vZGUpO1xuICAgICAgdm5vZGUuZGF0YT8uaG9vaz8udXBkYXRlPy4ob2xkVm5vZGUsIHZub2RlKTtcbiAgICB9XG4gICAgY29uc3Qgb2xkQ2ggPSBvbGRWbm9kZS5jaGlsZHJlbiBhcyBWTm9kZVtdO1xuICAgIGNvbnN0IGNoID0gdm5vZGUuY2hpbGRyZW4gYXMgVk5vZGVbXTtcbiAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmKGNoKSkge1xuICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIFwiXCIpO1xuICAgICAgICBhZGRWbm9kZXMoZWxtLCBudWxsLCBjaCwgMCwgY2gubGVuZ3RoIC0gMSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkQ2gpKSB7XG4gICAgICAgIHJlbW92ZVZub2RlcyhlbG0sIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHtcbiAgICAgICAgYXBpLnNldFRleHRDb250ZW50KGVsbSwgXCJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XG4gICAgICBpZiAoaXNEZWYob2xkQ2gpKSB7XG4gICAgICAgIHJlbW92ZVZub2RlcyhlbG0sIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIHZub2RlLnRleHQhKTtcbiAgICB9XG4gICAgaG9vaz8ucG9zdHBhdGNoPy4ob2xkVm5vZGUsIHZub2RlKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwYXRjaChcbiAgICBvbGRWbm9kZTogVk5vZGUgfCBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCxcbiAgICB2bm9kZTogVk5vZGVcbiAgKTogVk5vZGUge1xuICAgIGxldCBpOiBudW1iZXIsIGVsbTogTm9kZSwgcGFyZW50OiBOb2RlO1xuICAgIGNvbnN0IGluc2VydGVkVm5vZGVRdWV1ZTogVk5vZGVRdWV1ZSA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucHJlLmxlbmd0aDsgKytpKSBjYnMucHJlW2ldKCk7XG5cbiAgICBpZiAoaXNFbGVtZW50KGFwaSwgb2xkVm5vZGUpKSB7XG4gICAgICBvbGRWbm9kZSA9IGVtcHR5Tm9kZUF0KG9sZFZub2RlKTtcbiAgICB9IGVsc2UgaWYgKGlzRG9jdW1lbnRGcmFnbWVudChhcGksIG9sZFZub2RlKSkge1xuICAgICAgb2xkVm5vZGUgPSBlbXB0eURvY3VtZW50RnJhZ21lbnRBdChvbGRWbm9kZSk7XG4gICAgfVxuXG4gICAgaWYgKHNhbWVWbm9kZShvbGRWbm9kZSwgdm5vZGUpKSB7XG4gICAgICBwYXRjaFZub2RlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxtID0gb2xkVm5vZGUuZWxtITtcbiAgICAgIHBhcmVudCA9IGFwaS5wYXJlbnROb2RlKGVsbSkgYXMgTm9kZTtcblxuICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuXG4gICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGFwaS5pbnNlcnRCZWZvcmUocGFyZW50LCB2bm9kZS5lbG0hLCBhcGkubmV4dFNpYmxpbmcoZWxtKSk7XG4gICAgICAgIHJlbW92ZVZub2RlcyhwYXJlbnQsIFtvbGRWbm9kZV0sIDAsIDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBpbnNlcnRlZFZub2RlUXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZVtpXS5kYXRhIS5ob29rIS5pbnNlcnQhKGluc2VydGVkVm5vZGVRdWV1ZVtpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucG9zdC5sZW5ndGg7ICsraSkgY2JzLnBvc3RbaV0oKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgdm5vZGUsIFZOb2RlLCBWTm9kZURhdGEgfSBmcm9tIFwiLi92bm9kZVwiO1xuaW1wb3J0ICogYXMgaXMgZnJvbSBcIi4vaXNcIjtcblxuZXhwb3J0IHR5cGUgVk5vZGVzID0gVk5vZGVbXTtcbmV4cG9ydCB0eXBlIFZOb2RlQ2hpbGRFbGVtZW50ID1cbiAgfCBWTm9kZVxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IFN0cmluZ1xuICB8IE51bWJlclxuICB8IHVuZGVmaW5lZFxuICB8IG51bGw7XG5leHBvcnQgdHlwZSBBcnJheU9yRWxlbWVudDxUPiA9IFQgfCBUW107XG5leHBvcnQgdHlwZSBWTm9kZUNoaWxkcmVuID0gQXJyYXlPckVsZW1lbnQ8Vk5vZGVDaGlsZEVsZW1lbnQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTlMoXG4gIGRhdGE6IGFueSxcbiAgY2hpbGRyZW46IEFycmF5PFZOb2RlIHwgc3RyaW5nPiB8IHVuZGVmaW5lZCxcbiAgc2VsOiBzdHJpbmcgfCB1bmRlZmluZWRcbik6IHZvaWQge1xuICBkYXRhLm5zID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuICBpZiAoc2VsICE9PSBcImZvcmVpZ25PYmplY3RcIiAmJiBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09IFwic3RyaW5nXCIpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgY2hpbGREYXRhID0gY2hpbGQuZGF0YTtcbiAgICAgIGlmIChjaGlsZERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGROUyhjaGlsZERhdGEsIGNoaWxkLmNoaWxkcmVuIGFzIFZOb2RlcywgY2hpbGQuc2VsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGgoc2VsOiBzdHJpbmcpOiBWTm9kZTtcbmV4cG9ydCBmdW5jdGlvbiBoKHNlbDogc3RyaW5nLCBkYXRhOiBWTm9kZURhdGEgfCBudWxsKTogVk5vZGU7XG5leHBvcnQgZnVuY3Rpb24gaChzZWw6IHN0cmluZywgY2hpbGRyZW46IFZOb2RlQ2hpbGRyZW4pOiBWTm9kZTtcbmV4cG9ydCBmdW5jdGlvbiBoKFxuICBzZWw6IHN0cmluZyxcbiAgZGF0YTogVk5vZGVEYXRhIHwgbnVsbCxcbiAgY2hpbGRyZW46IFZOb2RlQ2hpbGRyZW5cbik6IFZOb2RlO1xuZXhwb3J0IGZ1bmN0aW9uIGgoc2VsOiBhbnksIGI/OiBhbnksIGM/OiBhbnkpOiBWTm9kZSB7XG4gIGxldCBkYXRhOiBWTm9kZURhdGEgPSB7fTtcbiAgbGV0IGNoaWxkcmVuOiBhbnk7XG4gIGxldCB0ZXh0OiBhbnk7XG4gIGxldCBpOiBudW1iZXI7XG4gIGlmIChjICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoYiAhPT0gbnVsbCkge1xuICAgICAgZGF0YSA9IGI7XG4gICAgfVxuICAgIGlmIChpcy5hcnJheShjKSkge1xuICAgICAgY2hpbGRyZW4gPSBjO1xuICAgIH0gZWxzZSBpZiAoaXMucHJpbWl0aXZlKGMpKSB7XG4gICAgICB0ZXh0ID0gYy50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAoYyAmJiBjLnNlbCkge1xuICAgICAgY2hpbGRyZW4gPSBbY107XG4gICAgfVxuICB9IGVsc2UgaWYgKGIgIT09IHVuZGVmaW5lZCAmJiBiICE9PSBudWxsKSB7XG4gICAgaWYgKGlzLmFycmF5KGIpKSB7XG4gICAgICBjaGlsZHJlbiA9IGI7XG4gICAgfSBlbHNlIGlmIChpcy5wcmltaXRpdmUoYikpIHtcbiAgICAgIHRleHQgPSBiLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChiICYmIGIuc2VsKSB7XG4gICAgICBjaGlsZHJlbiA9IFtiXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IGI7XG4gICAgfVxuICB9XG4gIGlmIChjaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoaXMucHJpbWl0aXZlKGNoaWxkcmVuW2ldKSlcbiAgICAgICAgY2hpbGRyZW5baV0gPSB2bm9kZShcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBjaGlsZHJlbltpXSxcbiAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKFxuICAgIHNlbFswXSA9PT0gXCJzXCIgJiZcbiAgICBzZWxbMV0gPT09IFwidlwiICYmXG4gICAgc2VsWzJdID09PSBcImdcIiAmJlxuICAgIChzZWwubGVuZ3RoID09PSAzIHx8IHNlbFszXSA9PT0gXCIuXCIgfHwgc2VsWzNdID09PSBcIiNcIilcbiAgKSB7XG4gICAgYWRkTlMoZGF0YSwgY2hpbGRyZW4sIHNlbCk7XG4gIH1cbiAgcmV0dXJuIHZub2RlKHNlbCwgZGF0YSwgY2hpbGRyZW4sIHRleHQsIHVuZGVmaW5lZCk7XG59XG5cbi8qKlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJhZ21lbnQoY2hpbGRyZW46IFZOb2RlQ2hpbGRyZW4pOiBWTm9kZSB7XG4gIGxldCBjOiBhbnk7XG4gIGxldCB0ZXh0OiBhbnk7XG5cbiAgaWYgKGlzLmFycmF5KGNoaWxkcmVuKSkge1xuICAgIGMgPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChpcy5wcmltaXRpdmUoYykpIHtcbiAgICB0ZXh0ID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoYyAmJiBjLnNlbCkge1xuICAgIGMgPSBbY2hpbGRyZW5dO1xuICB9XG5cbiAgaWYgKGMgIT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKGlzLnByaW1pdGl2ZShjW2ldKSlcbiAgICAgICAgY1tpXSA9IHZub2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNbaV0sIHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZub2RlKHVuZGVmaW5lZCwge30sIGMsIHRleHQsIHVuZGVmaW5lZCk7XG59XG4iLCAiaW1wb3J0IHsgYWRkTlMgfSBmcm9tIFwiLi9oXCI7XG5pbXBvcnQgeyB2bm9kZSwgVk5vZGUgfSBmcm9tIFwiLi92bm9kZVwiO1xuaW1wb3J0IHsgaHRtbERvbUFwaSwgRE9NQVBJIH0gZnJvbSBcIi4vaHRtbGRvbWFwaVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9WTm9kZShub2RlOiBOb2RlLCBkb21BcGk/OiBET01BUEkpOiBWTm9kZSB7XG4gIGNvbnN0IGFwaTogRE9NQVBJID0gZG9tQXBpICE9PSB1bmRlZmluZWQgPyBkb21BcGkgOiBodG1sRG9tQXBpO1xuICBsZXQgdGV4dDogc3RyaW5nO1xuICBpZiAoYXBpLmlzRWxlbWVudChub2RlKSkge1xuICAgIGNvbnN0IGlkID0gbm9kZS5pZCA/IFwiI1wiICsgbm9kZS5pZCA6IFwiXCI7XG4gICAgY29uc3QgY24gPSBub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGNvbnN0IGMgPSBjbiA/IFwiLlwiICsgY24uc3BsaXQoXCIgXCIpLmpvaW4oXCIuXCIpIDogXCJcIjtcbiAgICBjb25zdCBzZWwgPSBhcGkudGFnTmFtZShub2RlKS50b0xvd2VyQ2FzZSgpICsgaWQgKyBjO1xuICAgIGNvbnN0IGF0dHJzOiBhbnkgPSB7fTtcbiAgICBjb25zdCBkYXRhc2V0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgY29uc3QgY2hpbGRyZW46IFZOb2RlW10gPSBbXTtcbiAgICBsZXQgbmFtZTogc3RyaW5nO1xuICAgIGxldCBpOiBudW1iZXIsIG46IG51bWJlcjtcbiAgICBjb25zdCBlbG1BdHRycyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICBjb25zdCBlbG1DaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICBmb3IgKGkgPSAwLCBuID0gZWxtQXR0cnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBuYW1lID0gZWxtQXR0cnNbaV0ubm9kZU5hbWU7XG4gICAgICBpZiAoXG4gICAgICAgIG5hbWVbMF0gPT09IFwiZFwiICYmXG4gICAgICAgIG5hbWVbMV0gPT09IFwiYVwiICYmXG4gICAgICAgIG5hbWVbMl0gPT09IFwidFwiICYmXG4gICAgICAgIG5hbWVbM10gPT09IFwiYVwiICYmXG4gICAgICAgIG5hbWVbNF0gPT09IFwiLVwiXG4gICAgICApIHtcbiAgICAgICAgZGF0YXNldFtuYW1lLnNsaWNlKDUpXSA9IGVsbUF0dHJzW2ldLm5vZGVWYWx1ZSB8fCBcIlwiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lICE9PSBcImlkXCIgJiYgbmFtZSAhPT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGF0dHJzW25hbWVdID0gZWxtQXR0cnNbaV0ubm9kZVZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwLCBuID0gZWxtQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKHRvVk5vZGUoZWxtQ2hpbGRyZW5baV0sIGRvbUFwaSkpO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhhdHRycykubGVuZ3RoID4gMCkgZGF0YS5hdHRycyA9IGF0dHJzO1xuICAgIGlmIChPYmplY3Qua2V5cyhkYXRhc2V0KS5sZW5ndGggPiAwKSBkYXRhLmRhdGFzZXQgPSBkYXRhc2V0O1xuXG4gICAgaWYgKFxuICAgICAgc2VsWzBdID09PSBcInNcIiAmJlxuICAgICAgc2VsWzFdID09PSBcInZcIiAmJlxuICAgICAgc2VsWzJdID09PSBcImdcIiAmJlxuICAgICAgKHNlbC5sZW5ndGggPT09IDMgfHwgc2VsWzNdID09PSBcIi5cIiB8fCBzZWxbM10gPT09IFwiI1wiKVxuICAgICkge1xuICAgICAgYWRkTlMoZGF0YSwgY2hpbGRyZW4sIHNlbCk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZShzZWwsIGRhdGEsIGNoaWxkcmVuLCB1bmRlZmluZWQsIG5vZGUpO1xuICB9IGVsc2UgaWYgKGFwaS5pc1RleHQobm9kZSkpIHtcbiAgICB0ZXh0ID0gYXBpLmdldFRleHRDb250ZW50KG5vZGUpIGFzIHN0cmluZztcbiAgICByZXR1cm4gdm5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGV4dCwgbm9kZSk7XG4gIH0gZWxzZSBpZiAoYXBpLmlzQ29tbWVudChub2RlKSkge1xuICAgIHRleHQgPSBhcGkuZ2V0VGV4dENvbnRlbnQobm9kZSkgYXMgc3RyaW5nO1xuICAgIHJldHVybiB2bm9kZShcIiFcIiwge30sIFtdLCB0ZXh0LCBub2RlIGFzIGFueSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZub2RlKFwiXCIsIHt9LCBbXSwgdW5kZWZpbmVkLCBub2RlIGFzIGFueSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBWTm9kZSwgVk5vZGVEYXRhIH0gZnJvbSBcIi4uL3Zub2RlXCI7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi9tb2R1bGVcIjtcblxuZXhwb3J0IHR5cGUgQXR0cnMgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPjtcblxuY29uc3QgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuY29uc3QgeG1sTlMgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiO1xuY29uc3QgY29sb25DaGFyID0gNTg7XG5jb25zdCB4Q2hhciA9IDEyMDtcblxuZnVuY3Rpb24gdXBkYXRlQXR0cnMob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGtleTogc3RyaW5nO1xuICBjb25zdCBlbG06IEVsZW1lbnQgPSB2bm9kZS5lbG0gYXMgRWxlbWVudDtcbiAgbGV0IG9sZEF0dHJzID0gKG9sZFZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5hdHRycztcbiAgbGV0IGF0dHJzID0gKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5hdHRycztcblxuICBpZiAoIW9sZEF0dHJzICYmICFhdHRycykgcmV0dXJuO1xuICBpZiAob2xkQXR0cnMgPT09IGF0dHJzKSByZXR1cm47XG4gIG9sZEF0dHJzID0gb2xkQXR0cnMgfHwge307XG4gIGF0dHJzID0gYXR0cnMgfHwge307XG5cbiAgLy8gdXBkYXRlIG1vZGlmaWVkIGF0dHJpYnV0ZXMsIGFkZCBuZXcgYXR0cmlidXRlc1xuICBmb3IgKGtleSBpbiBhdHRycykge1xuICAgIGNvbnN0IGN1ciA9IGF0dHJzW2tleV07XG4gICAgY29uc3Qgb2xkID0gb2xkQXR0cnNba2V5XTtcbiAgICBpZiAob2xkICE9PSBjdXIpIHtcbiAgICAgIGlmIChjdXIgPT09IHRydWUpIHtcbiAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShrZXksIFwiXCIpO1xuICAgICAgfSBlbHNlIGlmIChjdXIgPT09IGZhbHNlKSB7XG4gICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrZXkuY2hhckNvZGVBdCgwKSAhPT0geENoYXIpIHtcbiAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKGtleSwgY3VyIGFzIGFueSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmNoYXJDb2RlQXQoMykgPT09IGNvbG9uQ2hhcikge1xuICAgICAgICAgIC8vIEFzc3VtZSB4bWwgbmFtZXNwYWNlXG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKHhtbE5TLCBrZXksIGN1ciBhcyBhbnkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5jaGFyQ29kZUF0KDUpID09PSBjb2xvbkNoYXIpIHtcbiAgICAgICAgICAvLyBBc3N1bWUgeGxpbmsgbmFtZXNwYWNlXG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgY3VyIGFzIGFueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShrZXksIGN1ciBhcyBhbnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIHJlbW92ZSByZW1vdmVkIGF0dHJpYnV0ZXNcbiAgLy8gdXNlIGBpbmAgb3BlcmF0b3Igc2luY2UgdGhlIHByZXZpb3VzIGBmb3JgIGl0ZXJhdGlvbiB1c2VzIGl0ICguaS5lLiBhZGQgZXZlbiBhdHRyaWJ1dGVzIHdpdGggdW5kZWZpbmVkIHZhbHVlKVxuICAvLyB0aGUgb3RoZXIgb3B0aW9uIGlzIHRvIHJlbW92ZSBhbGwgYXR0cmlidXRlcyB3aXRoIHZhbHVlID09IHVuZGVmaW5lZFxuICBmb3IgKGtleSBpbiBvbGRBdHRycykge1xuICAgIGlmICghKGtleSBpbiBhdHRycykpIHtcbiAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGF0dHJpYnV0ZXNNb2R1bGU6IE1vZHVsZSA9IHtcbiAgY3JlYXRlOiB1cGRhdGVBdHRycyxcbiAgdXBkYXRlOiB1cGRhdGVBdHRycyxcbn07XG4iLCAiaW1wb3J0IHsgVk5vZGUsIFZOb2RlRGF0YSB9IGZyb20gXCIuLi92bm9kZVwiO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlXCI7XG5cbmV4cG9ydCB0eXBlIENsYXNzZXMgPSBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcblxuZnVuY3Rpb24gdXBkYXRlQ2xhc3Mob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGN1cjogYW55O1xuICBsZXQgbmFtZTogc3RyaW5nO1xuICBjb25zdCBlbG06IEVsZW1lbnQgPSB2bm9kZS5lbG0gYXMgRWxlbWVudDtcbiAgbGV0IG9sZENsYXNzID0gKG9sZFZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5jbGFzcztcbiAgbGV0IGtsYXNzID0gKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5jbGFzcztcblxuICBpZiAoIW9sZENsYXNzICYmICFrbGFzcykgcmV0dXJuO1xuICBpZiAob2xkQ2xhc3MgPT09IGtsYXNzKSByZXR1cm47XG4gIG9sZENsYXNzID0gb2xkQ2xhc3MgfHwge307XG4gIGtsYXNzID0ga2xhc3MgfHwge307XG5cbiAgZm9yIChuYW1lIGluIG9sZENsYXNzKSB7XG4gICAgaWYgKG9sZENsYXNzW25hbWVdICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoa2xhc3MsIG5hbWUpKSB7XG4gICAgICAvLyB3YXMgYHRydWVgIGFuZCBub3cgbm90IHByb3ZpZGVkXG4gICAgICBlbG0uY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIGtsYXNzKSB7XG4gICAgY3VyID0ga2xhc3NbbmFtZV07XG4gICAgaWYgKGN1ciAhPT0gb2xkQ2xhc3NbbmFtZV0pIHtcbiAgICAgIChlbG0uY2xhc3NMaXN0IGFzIGFueSlbY3VyID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKG5hbWUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2xhc3NNb2R1bGU6IE1vZHVsZSA9IHsgY3JlYXRlOiB1cGRhdGVDbGFzcywgdXBkYXRlOiB1cGRhdGVDbGFzcyB9O1xuIiwgImltcG9ydCB7IFZOb2RlLCBWTm9kZURhdGEgfSBmcm9tIFwiLi4vdm5vZGVcIjtcbmltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuL21vZHVsZVwiO1xuXG50eXBlIExpc3RlbmVyPFQ+ID0gKHRoaXM6IFZOb2RlLCBldjogVCwgdm5vZGU6IFZOb2RlKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBPbiA9IHtcbiAgW04gaW4ga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcF0/OlxuICAgIHwgTGlzdGVuZXI8SFRNTEVsZW1lbnRFdmVudE1hcFtOXT5cbiAgICB8IEFycmF5PExpc3RlbmVyPEhUTUxFbGVtZW50RXZlbnRNYXBbTl0+Pjtcbn0gJiB7XG4gIFtldmVudDogc3RyaW5nXTogTGlzdGVuZXI8YW55PiB8IEFycmF5PExpc3RlbmVyPGFueT4+O1xufTtcblxudHlwZSBTb21lTGlzdGVuZXI8TiBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+ID1cbiAgfCBMaXN0ZW5lcjxIVE1MRWxlbWVudEV2ZW50TWFwW05dPlxuICB8IExpc3RlbmVyPGFueT47XG5cbmZ1bmN0aW9uIGludm9rZUhhbmRsZXI8TiBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KFxuICBoYW5kbGVyOiBTb21lTGlzdGVuZXI8Tj4gfCBBcnJheTxTb21lTGlzdGVuZXI8Tj4+LFxuICB2bm9kZTogVk5vZGUsXG4gIGV2ZW50PzogRXZlbnRcbik6IHZvaWQge1xuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIC8vIGNhbGwgZnVuY3Rpb24gaGFuZGxlclxuICAgIGhhbmRsZXIuY2FsbCh2bm9kZSwgZXZlbnQsIHZub2RlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJvYmplY3RcIikge1xuICAgIC8vIGNhbGwgbXVsdGlwbGUgaGFuZGxlcnNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGludm9rZUhhbmRsZXIoaGFuZGxlcltpXSwgdm5vZGUsIGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQ6IEV2ZW50LCB2bm9kZTogVk5vZGUpIHtcbiAgY29uc3QgbmFtZSA9IGV2ZW50LnR5cGU7XG4gIGNvbnN0IG9uID0gKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5vbjtcblxuICAvLyBjYWxsIGV2ZW50IGhhbmRsZXIocykgaWYgZXhpc3RzXG4gIGlmIChvbiAmJiBvbltuYW1lXSkge1xuICAgIGludm9rZUhhbmRsZXIob25bbmFtZV0sIHZub2RlLCBldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlzdGVuZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBFdmVudCkge1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50LCAoaGFuZGxlciBhcyBhbnkpLnZub2RlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRXZlbnRMaXN0ZW5lcnMob2xkVm5vZGU6IFZOb2RlLCB2bm9kZT86IFZOb2RlKTogdm9pZCB7XG4gIGNvbnN0IG9sZE9uID0gKG9sZFZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5vbjtcbiAgY29uc3Qgb2xkTGlzdGVuZXIgPSAob2xkVm5vZGUgYXMgYW55KS5saXN0ZW5lcjtcbiAgY29uc3Qgb2xkRWxtOiBFbGVtZW50ID0gb2xkVm5vZGUuZWxtIGFzIEVsZW1lbnQ7XG4gIGNvbnN0IG9uID0gdm5vZGUgJiYgKHZub2RlLmRhdGEgYXMgVk5vZGVEYXRhKS5vbjtcbiAgY29uc3QgZWxtOiBFbGVtZW50ID0gKHZub2RlICYmIHZub2RlLmVsbSkgYXMgRWxlbWVudDtcbiAgbGV0IG5hbWU6IHN0cmluZztcblxuICAvLyBvcHRpbWl6YXRpb24gZm9yIHJldXNlZCBpbW11dGFibGUgaGFuZGxlcnNcbiAgaWYgKG9sZE9uID09PSBvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHJlbW92ZSBleGlzdGluZyBsaXN0ZW5lcnMgd2hpY2ggbm8gbG9uZ2VyIHVzZWRcbiAgaWYgKG9sZE9uICYmIG9sZExpc3RlbmVyKSB7XG4gICAgLy8gaWYgZWxlbWVudCBjaGFuZ2VkIG9yIGRlbGV0ZWQgd2UgcmVtb3ZlIGFsbCBleGlzdGluZyBsaXN0ZW5lcnMgdW5jb25kaXRpb25hbGx5XG4gICAgaWYgKCFvbikge1xuICAgICAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lciBpZiBlbGVtZW50IHdhcyBjaGFuZ2VkIG9yIGV4aXN0aW5nIGxpc3RlbmVycyByZW1vdmVkXG4gICAgICAgIG9sZEVsbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIG9sZExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobmFtZSBpbiBvbGRPbikge1xuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXIgaWYgZXhpc3RpbmcgbGlzdGVuZXIgcmVtb3ZlZFxuICAgICAgICBpZiAoIW9uW25hbWVdKSB7XG4gICAgICAgICAgb2xkRWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgb2xkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGFkZCBuZXcgbGlzdGVuZXJzIHdoaWNoIGhhcyBub3QgYWxyZWFkeSBhdHRhY2hlZFxuICBpZiAob24pIHtcbiAgICAvLyByZXVzZSBleGlzdGluZyBsaXN0ZW5lciBvciBjcmVhdGUgbmV3XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoKHZub2RlIGFzIGFueSkubGlzdGVuZXIgPVxuICAgICAgKG9sZFZub2RlIGFzIGFueSkubGlzdGVuZXIgfHwgY3JlYXRlTGlzdGVuZXIoKSk7XG4gICAgLy8gdXBkYXRlIHZub2RlIGZvciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLnZub2RlID0gdm5vZGU7XG5cbiAgICAvLyBpZiBlbGVtZW50IGNoYW5nZWQgb3IgYWRkZWQgd2UgYWRkIGFsbCBuZWVkZWQgbGlzdGVuZXJzIHVuY29uZGl0aW9uYWxseVxuICAgIGlmICghb2xkT24pIHtcbiAgICAgIGZvciAobmFtZSBpbiBvbikge1xuICAgICAgICAvLyBhZGQgbGlzdGVuZXIgaWYgZWxlbWVudCB3YXMgY2hhbmdlZCBvciBuZXcgbGlzdGVuZXJzIGFkZGVkXG4gICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobmFtZSBpbiBvbikge1xuICAgICAgICAvLyBhZGQgbGlzdGVuZXIgaWYgbmV3IGxpc3RlbmVyIGFkZGVkXG4gICAgICAgIGlmICghb2xkT25bbmFtZV0pIHtcbiAgICAgICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBldmVudExpc3RlbmVyc01vZHVsZTogTW9kdWxlID0ge1xuICBjcmVhdGU6IHVwZGF0ZUV2ZW50TGlzdGVuZXJzLFxuICB1cGRhdGU6IHVwZGF0ZUV2ZW50TGlzdGVuZXJzLFxuICBkZXN0cm95OiB1cGRhdGVFdmVudExpc3RlbmVycyxcbn07XG4iLCAiaW1wb3J0IHsgVk5vZGUsIFZOb2RlRGF0YSB9IGZyb20gXCIuLi92bm9kZVwiO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlXCI7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gUmVjb3JkPHN0cmluZywgYW55PjtcblxuZnVuY3Rpb24gdXBkYXRlUHJvcHMob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGtleTogc3RyaW5nO1xuICBsZXQgY3VyOiBhbnk7XG4gIGxldCBvbGQ6IGFueTtcbiAgY29uc3QgZWxtID0gdm5vZGUuZWxtO1xuICBsZXQgb2xkUHJvcHMgPSAob2xkVm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnByb3BzO1xuICBsZXQgcHJvcHMgPSAodm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnByb3BzO1xuXG4gIGlmICghb2xkUHJvcHMgJiYgIXByb3BzKSByZXR1cm47XG4gIGlmIChvbGRQcm9wcyA9PT0gcHJvcHMpIHJldHVybjtcbiAgb2xkUHJvcHMgPSBvbGRQcm9wcyB8fCB7fTtcbiAgcHJvcHMgPSBwcm9wcyB8fCB7fTtcblxuICBmb3IgKGtleSBpbiBwcm9wcykge1xuICAgIGN1ciA9IHByb3BzW2tleV07XG4gICAgb2xkID0gb2xkUHJvcHNba2V5XTtcbiAgICBpZiAob2xkICE9PSBjdXIgJiYgKGtleSAhPT0gXCJ2YWx1ZVwiIHx8IChlbG0gYXMgYW55KVtrZXldICE9PSBjdXIpKSB7XG4gICAgICAoZWxtIGFzIGFueSlba2V5XSA9IGN1cjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHByb3BzTW9kdWxlOiBNb2R1bGUgPSB7IGNyZWF0ZTogdXBkYXRlUHJvcHMsIHVwZGF0ZTogdXBkYXRlUHJvcHMgfTtcbiIsICJpbXBvcnQgeyBWTm9kZSwgVk5vZGVEYXRhIH0gZnJvbSBcIi4uL3Zub2RlXCI7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi9tb2R1bGVcIjtcblxuZXhwb3J0IHR5cGUgVk5vZGVTdHlsZSA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gJiB7XG4gIGRlbGF5ZWQ/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICByZW1vdmU/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufTtcblxuLy8gQmluZGlnIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGxpa2UgdGhpcyBmaXhlcyBhIGJ1ZyBpbiBJRS9FZGdlLiBTZWUgIzM2MCBhbmQgIzQwOS5cbmNvbnN0IHJhZiA9XG4gICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykpIHx8XG4gIHNldFRpbWVvdXQ7XG5jb25zdCBuZXh0RnJhbWUgPSBmdW5jdGlvbiAoZm46IGFueSkge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufTtcbmxldCByZWZsb3dGb3JjZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2V0TmV4dEZyYW1lKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbDogYW55KTogdm9pZCB7XG4gIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgb2JqW3Byb3BdID0gdmFsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU3R5bGUob2xkVm5vZGU6IFZOb2RlLCB2bm9kZTogVk5vZGUpOiB2b2lkIHtcbiAgbGV0IGN1cjogYW55O1xuICBsZXQgbmFtZTogc3RyaW5nO1xuICBjb25zdCBlbG0gPSB2bm9kZS5lbG07XG4gIGxldCBvbGRTdHlsZSA9IChvbGRWbm9kZS5kYXRhIGFzIFZOb2RlRGF0YSkuc3R5bGU7XG4gIGxldCBzdHlsZSA9ICh2bm9kZS5kYXRhIGFzIFZOb2RlRGF0YSkuc3R5bGU7XG5cbiAgaWYgKCFvbGRTdHlsZSAmJiAhc3R5bGUpIHJldHVybjtcbiAgaWYgKG9sZFN0eWxlID09PSBzdHlsZSkgcmV0dXJuO1xuICBvbGRTdHlsZSA9IG9sZFN0eWxlIHx8IHt9O1xuICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICBjb25zdCBvbGRIYXNEZWwgPSBcImRlbGF5ZWRcIiBpbiBvbGRTdHlsZTtcblxuICBmb3IgKG5hbWUgaW4gb2xkU3R5bGUpIHtcbiAgICBpZiAoIXN0eWxlW25hbWVdKSB7XG4gICAgICBpZiAobmFtZVswXSA9PT0gXCItXCIgJiYgbmFtZVsxXSA9PT0gXCItXCIpIHtcbiAgICAgICAgKGVsbSBhcyBhbnkpLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGVsbSBhcyBhbnkpLnN0eWxlW25hbWVdID0gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIHN0eWxlKSB7XG4gICAgY3VyID0gc3R5bGVbbmFtZV07XG4gICAgaWYgKG5hbWUgPT09IFwiZGVsYXllZFwiICYmIHN0eWxlLmRlbGF5ZWQpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZTIgaW4gc3R5bGUuZGVsYXllZCkge1xuICAgICAgICBjdXIgPSBzdHlsZS5kZWxheWVkW25hbWUyXTtcbiAgICAgICAgaWYgKCFvbGRIYXNEZWwgfHwgY3VyICE9PSAob2xkU3R5bGUuZGVsYXllZCBhcyBhbnkpW25hbWUyXSkge1xuICAgICAgICAgIHNldE5leHRGcmFtZSgoZWxtIGFzIGFueSkuc3R5bGUsIG5hbWUyLCBjdXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYW1lICE9PSBcInJlbW92ZVwiICYmIGN1ciAhPT0gb2xkU3R5bGVbbmFtZV0pIHtcbiAgICAgIGlmIChuYW1lWzBdID09PSBcIi1cIiAmJiBuYW1lWzFdID09PSBcIi1cIikge1xuICAgICAgICAoZWxtIGFzIGFueSkuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgY3VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChlbG0gYXMgYW55KS5zdHlsZVtuYW1lXSA9IGN1cjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlEZXN0cm95U3R5bGUodm5vZGU6IFZOb2RlKTogdm9pZCB7XG4gIGxldCBzdHlsZTogYW55O1xuICBsZXQgbmFtZTogc3RyaW5nO1xuICBjb25zdCBlbG0gPSB2bm9kZS5lbG07XG4gIGNvbnN0IHMgPSAodm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnN0eWxlO1xuICBpZiAoIXMgfHwgIShzdHlsZSA9IHMuZGVzdHJveSkpIHJldHVybjtcbiAgZm9yIChuYW1lIGluIHN0eWxlKSB7XG4gICAgKGVsbSBhcyBhbnkpLnN0eWxlW25hbWVdID0gc3R5bGVbbmFtZV07XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlSZW1vdmVTdHlsZSh2bm9kZTogVk5vZGUsIHJtOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gIGNvbnN0IHMgPSAodm5vZGUuZGF0YSBhcyBWTm9kZURhdGEpLnN0eWxlO1xuICBpZiAoIXMgfHwgIXMucmVtb3ZlKSB7XG4gICAgcm0oKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFyZWZsb3dGb3JjZWQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICh2bm9kZS5lbG0gYXMgYW55KS5vZmZzZXRMZWZ0O1xuICAgIHJlZmxvd0ZvcmNlZCA9IHRydWU7XG4gIH1cbiAgbGV0IG5hbWU6IHN0cmluZztcbiAgY29uc3QgZWxtID0gdm5vZGUuZWxtO1xuICBsZXQgaSA9IDA7XG4gIGNvbnN0IHN0eWxlID0gcy5yZW1vdmU7XG4gIGxldCBhbW91bnQgPSAwO1xuICBjb25zdCBhcHBsaWVkOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKG5hbWUgaW4gc3R5bGUpIHtcbiAgICBhcHBsaWVkLnB1c2gobmFtZSk7XG4gICAgKGVsbSBhcyBhbnkpLnN0eWxlW25hbWVdID0gc3R5bGVbbmFtZV07XG4gIH1cbiAgY29uc3QgY29tcFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbG0gYXMgRWxlbWVudCk7XG4gIGNvbnN0IHByb3BzID0gKGNvbXBTdHlsZSBhcyBhbnkpW1widHJhbnNpdGlvbi1wcm9wZXJ0eVwiXS5zcGxpdChcIiwgXCIpO1xuICBmb3IgKDsgaSA8IHByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFwcGxpZWQuaW5kZXhPZihwcm9wc1tpXSkgIT09IC0xKSBhbW91bnQrKztcbiAgfVxuICAoZWxtIGFzIEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJ0cmFuc2l0aW9uZW5kXCIsXG4gICAgZnVuY3Rpb24gKGV2OiBUcmFuc2l0aW9uRXZlbnQpIHtcbiAgICAgIGlmIChldi50YXJnZXQgPT09IGVsbSkgLS1hbW91bnQ7XG4gICAgICBpZiAoYW1vdW50ID09PSAwKSBybSgpO1xuICAgIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gIHJlZmxvd0ZvcmNlZCA9IGZhbHNlO1xufVxuXG5leHBvcnQgY29uc3Qgc3R5bGVNb2R1bGU6IE1vZHVsZSA9IHtcbiAgcHJlOiBmb3JjZVJlZmxvdyxcbiAgY3JlYXRlOiB1cGRhdGVTdHlsZSxcbiAgdXBkYXRlOiB1cGRhdGVTdHlsZSxcbiAgZGVzdHJveTogYXBwbHlEZXN0cm95U3R5bGUsXG4gIHJlbW92ZTogYXBwbHlSZW1vdmVTdHlsZSxcbn07XG4iLCAiaW1wb3J0IHsgVk5vZGUsIGluaXQsIGNsYXNzTW9kdWxlLCBhdHRyaWJ1dGVzTW9kdWxlLCBwcm9wc01vZHVsZSwgZXZlbnRMaXN0ZW5lcnNNb2R1bGUsIHN0eWxlTW9kdWxlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5leHBvcnQgY29uc3QgcGF0Y2ggPSBpbml0KFtjbGFzc01vZHVsZSwgYXR0cmlidXRlc01vZHVsZSwgcHJvcHNNb2R1bGUsIGV2ZW50TGlzdGVuZXJzTW9kdWxlLCBzdHlsZU1vZHVsZV0pO1xuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRQZ25UZXh0KGZpbGVuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0ZXh0ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZ250ZXh0JykgYXMgSFRNTElucHV0RWxlbWVudCkuaW5uZXJIVE1MO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZW5hbWUpO1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cbiAgICBlbGVtZW50LmNsaWNrKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnREYXRhKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdweWNoZXNzLXZhcmlhbnRzJyk7XG4gICAgaWYgKGVsbSkge1xuICAgICAgICByZXR1cm4gZWxtLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgbmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShjYWxsYmFjazogYW55LCB3YWl0OiBudW1iZXIpIHtcbiAgICBsZXQgdGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD47XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKSwgd2FpdCk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZShuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFpciA9IGNvb2tpZXNbaV0udHJpbSgpLnNwbGl0KCc9Jyk7XG4gICAgICAgIGlmKHBhaXJbMF0gPT09IG5hbWUpXG4gICAgICAgICAgICByZXR1cm4gcGFpclsxXTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29raWUoY25hbWU6IHN0cmluZywgY3ZhbHVlOiBzdHJpbmcsIGV4ZGF5czogbnVtYmVyKSB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG4gICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgKGV4ZGF5cyoyNCo2MCo2MCoxMDAwKSk7XG4gICAgY29uc3QgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcbiAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArIFwiPVwiICsgY3ZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7cGF0aD0vXCI7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZUNTUyhjc3NMaW5rSW5kZXg6IG51bWJlciwgY3NzRmlsZTogc3RyaW5nKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpLml0ZW0oY3NzTGlua0luZGV4KSEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBjc3NGaWxlKTtcbn1cblxuLy8gY3NzIGZpbGUgaW5kZXggaW4gdGVtcGxhdGVzL2Jhc2UuaHRtbFxuY29uc3QgQk9BUkRfQ1NTX0lEWCA9IDE7XG5jb25zdCBQSUVDRV9DU1NfSURYID0gMjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZUJvYXJkQ1NTKGFzc2V0VXJsOiBzdHJpbmcsIGZhbWlseTogc3RyaW5nLCBjc3NGaWxlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzW0JPQVJEX0NTU19JRFhdO1xuICAgIGNvbnN0IGNzc1J1bGVzID0gc2hlZXQuY3NzUnVsZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjc3NSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBydWxlID0gY3NzUnVsZXNbaV07XG4gICAgICAgIGlmICghKCBydWxlIGluc3RhbmNlb2YgQ1NTU3R5bGVSdWxlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ID09PSBgLiR7ZmFtaWx5fSBjZy1ib2FyZGApIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2hhbmdlQm9hcmRDU1NcIiwgZmFtaWx5LCBjc3NGaWxlLCBpKVxuICAgICAgICAgICAgc2hlZXQuZGVsZXRlUnVsZShpKVxuICAgICAgICAgICAgY29uc3QgbmV3UnVsZSA9IGAuJHtmYW1pbHl9IGNnLWJvYXJkIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHthc3NldFVybH0vaW1hZ2VzL2JvYXJkLyR7Y3NzRmlsZX0pfWA7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdSdWxlKTtcbiAgICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUobmV3UnVsZSwgaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVBpZWNlQ1NTKGFzc2V0VXJsOiBzdHJpbmcsIGZhbWlseTogc3RyaW5nLCBjc3NGaWxlOiBzdHJpbmcpIHtcbiAgICBsZXQgY3NzTGlua0luZGV4ID0gUElFQ0VfQ1NTX0lEWDtcbiAgICBzd2l0Y2ggKGZhbWlseSkge1xuICAgICAgICBjYXNlIFwic3RhbmRhcmRcIjogYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZWlyYXdhblwiOiBjc3NMaW5rSW5kZXggKz0gMTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYWtydWtcIjogY3NzTGlua0luZGV4ICs9IDI7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2l0dHV5aW5cIjogY3NzTGlua0luZGV4ICs9IDM7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXNlYW5cIjogY3NzTGlua0luZGV4ICs9IDQ7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2hvZ2lcIjogY3NzTGlua0luZGV4ICs9IDU7IGJyZWFrO1xuICAgICAgICBjYXNlIFwia3lvdG9cIjogY3NzTGlua0luZGV4ICs9IDY7IGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9yaVwiOiBjc3NMaW5rSW5kZXggKz0gNzsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4aWFuZ3FpXCI6IGNzc0xpbmtJbmRleCArPSA4OyBicmVhaztcbiAgICAgICAgY2FzZSBcImNhcGFcIjogY3NzTGlua0luZGV4ICs9IDk7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2hha29cIjogY3NzTGlua0luZGV4ICs9IDEwOyBicmVhaztcbiAgICAgICAgY2FzZSBcInNob2d1blwiOiBjc3NMaW5rSW5kZXggKz0gMTE7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiamFuZ2dpXCI6IGNzc0xpbmtJbmRleCArPSAxMjsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvcmRhXCI6IGNzc0xpbmtJbmRleCArPSAxMzsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzeW5vY2hlc3NcIjogY3NzTGlua0luZGV4ICs9IDE0OyBicmVhaztcbiAgICAgICAgY2FzZSBcImhvcHBlbFwiOiBjc3NMaW5rSW5kZXggKz0gMTU7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9idXRzdVwiOiBjc3NMaW5rSW5kZXggKz0gMTY7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic2hpbm9iaVwiOiBjc3NMaW5rSW5kZXggKz0gMTc7IGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW1waXJlXCI6IGNzc0xpbmtJbmRleCArPSAxODsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvcmRhbWlycm9yXCI6IGNzc0xpbmtJbmRleCArPSAxOTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjaGFrXCI6IGNzc0xpbmtJbmRleCArPSAyMDsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjaGVubmlzXCI6IGNzc0xpbmtJbmRleCArPSAyMTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzcGFydGFuXCI6IGNzc0xpbmtJbmRleCArPSAyMjsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IFwiVW5rbm93biBwaWVjZSBmYW1pbHkgXCIgKyBmYW1pbHk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1VybCA9IGAke2Fzc2V0VXJsfS9waWVjZS8ke2ZhbWlseX0vJHtjc3NGaWxlfS5jc3NgO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2hhbmdlUGllY2VDU1NcIiwgZmFtaWx5LCBjc3NGaWxlLCBuZXdVcmwpXG4gICAgY2hhbmdlQ1NTKGNzc0xpbmtJbmRleCwgbmV3VXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoZXZlbnROYW1lOiBzdHJpbmcsIGY6IChlOiBFdmVudCkgPT4gdm9pZCwgcmVkcmF3OiBudWxsIHwgKCgpID0+IHZvaWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zZXJ0KHZub2RlOiBWTm9kZSkge1xuICAgICAgICAgICAgdm5vZGUuZWxtPy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gZihlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVkcmF3KSByZWRyYXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImV4cG9ydCB0eXBlIENvbG9yID0gdHlwZW9mIGNvbG9yc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgU2lkZSA9IHR5cGVvZiBzaWRlc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgQWxwaGFiZXQgPSB0eXBlb2YgbGV0dGVyc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgTGV0dGVyID0gYCR7JycgfCAnKyd9JHtBbHBoYWJldCB8IFVwcGVyY2FzZTxBbHBoYWJldD4gfCAnKid9YDsgLy8gJyonIGlzIHVzZWQgZm9yIGluYWNjZXNzaWJsZSBzcXVhcmVzIGluIHdpbmJvYXJkL3hib2FyZCBGRU5cbmV4cG9ydCB0eXBlIFJvbGUgPSBgJHsnJyB8ICdwJ30ke0FscGhhYmV0IHwgJ18nfS1waWVjZWA7IC8vIGJ1dCAnKicgaXMgbm90IGFsbG92ZWQgaW4gQ1NTIGNsYXNzIG5hbWVzLCBzbyB3ZSB3aWxsIHVzZSAnXycgaW4gUm9sZVxuZXhwb3J0IHR5cGUgRmlsZSA9IHR5cGVvZiBmaWxlc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgUmFuayA9IHR5cGVvZiByYW5rc1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgS2V5ID0gJ2EwJyB8IGAke0ZpbGV9JHtSYW5rfWA7IC8vIFRoZSBrZXkgJ2EwJyBpcyBvbmx5IHVzZWQgZm9yIHJlbmRlcmluZyBkcmFnZ2VkIHBpZWNlLiBJdCBzaG91bGQgTk9UIGJlIHVzZWQgaW4gYW55IGxvZ2ljLXJlbGF0ZWQgY29kZS5cbmV4cG9ydCB0eXBlIERyb3BPcmlnID0gYCR7VXBwZXJjYXNlPExldHRlcj59QGA7XG5leHBvcnQgdHlwZSBPcmlnID0gRHJvcE9yaWcgfCBLZXk7XG5cbmV4cG9ydCB0eXBlIEZFTiA9IHN0cmluZztcbmV4cG9ydCB0eXBlIFBvcyA9IFtudW1iZXIsIG51bWJlcl07XG5leHBvcnQgaW50ZXJmYWNlIFBpZWNlIHtcbiAgcm9sZTogUm9sZTtcbiAgY29sb3I6IENvbG9yO1xuICBwcm9tb3RlZD86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIERyb3Age1xuICByb2xlOiBSb2xlO1xuICBrZXk6IEtleTtcbn1cbmV4cG9ydCB0eXBlIFBpZWNlcyA9IE1hcDxLZXksIFBpZWNlPjtcbmV4cG9ydCB0eXBlIFBpZWNlc0RpZmYgPSBNYXA8S2V5LCBQaWVjZSB8IHVuZGVmaW5lZD47XG5cbmV4cG9ydCB0eXBlIFBvY2tldFBvc2l0aW9uID0gJ3RvcCcgfCAnYm90dG9tJztcbmV4cG9ydCB0eXBlIFBvY2tldCA9IE1hcDxSb2xlLCBudW1iZXI+O1xuZXhwb3J0IHR5cGUgUG9ja2V0cyA9IFJlY29yZDxDb2xvciwgUG9ja2V0PjtcbmV4cG9ydCB0eXBlIFBvY2tldFJvbGVzID0gUmVjb3JkPENvbG9yLCBSb2xlW10+O1xuXG5leHBvcnQgdHlwZSBCb2FyZFN0YXRlID0ge1xuICBwaWVjZXM6IFBpZWNlcztcbiAgcG9ja2V0cz86IFBvY2tldHM7XG59O1xuXG5leHBvcnQgdHlwZSBTZWxlY3RhYmxlID0gS2V5IHwgUGllY2U7XG5cbmV4cG9ydCB0eXBlIE1vdmUgPSBbT3JpZywgS2V5XTtcblxuZXhwb3J0IHR5cGUgTnVtYmVyUGFpciA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIE51bWJlclF1YWQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGludGVyZmFjZSBCb2FyZERpbWVuc2lvbnMge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gTm90YXRpb24ge1xuICBBTEdFQlJBSUMsIC8vIEVuZ2xpc2ggbGV0dGVycyBvbiBib3R0b20sIEFyYWJpYyBudW1iZXJzIG9uIHNpZGVcbiAgU0hPR0lfRU5HTEVULCAvLyBBcmFiaWMgbnVtYmVycyBvbiB0b3AsIEVuZ2xpc2ggbGV0dGVycyBvbiBzaWRlXG4gIFNIT0dJX0FSQk5VTSwgLy8gQXJhYmljIG51bWJlcnMgb24gdG9wIGFuZCBzaWRlXG4gIFNIT0dJX0hBTk5VTSwgLy8gQXJhYmljIG51bWJlcnMgb24gdG9wLCBLYW5qaSBudW1iZXJzIG9uIHNpZGVcbiAgSkFOR0dJLCAvLyBBcmFiaWMgbnVtYmVycyBvbiBib3R0b20gYW5kIHNpZGUsIHdpdGggMCBkZW5vdGluZyAxMHRoIHJhbmtcbiAgWElBTkdRSV9BUkJOVU0sIC8vIEFyYWJpYyBudW1iZXJzIG9uIHRvcCBhbmQgYm90dG9tXG4gIFhJQU5HUUlfSEFOTlVNLCAvLyBBcmFiaWMgbnVtYmVycyBvbiB0b3AsIEhhbnppIG51bWJlcnMgb24gYm90dG9tXG4gIFRIQUlfQUxHRUJSQUlDLCAvLyBUaGFpIGxldHRlcnMgb24gYm90dG9tLCBUaGFpIG51bWJlcnMgb24gc2lkZVxufVxuXG5leHBvcnQgdHlwZSBQcmVtb3ZlID0gKGJvYXJkU3RhdGU6IEJvYXJkU3RhdGUsIGtleTogS2V5LCBjYW5DYXN0bGU6IGJvb2xlYW4pID0+IEtleVtdO1xuZXhwb3J0IHR5cGUgUHJlZHJvcCA9IChib2FyZFN0YXRlOiBCb2FyZFN0YXRlLCBwaWVjZTogUGllY2UpID0+IEtleVtdO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlY3Qge1xuICBsZWZ0OiBudW1iZXI7XG4gIHRvcDogbnVtYmVyO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgRGVzdHMgPSBNYXA8T3JpZywgS2V5W10+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRzIHtcbiAgYm9hcmQ6IEhUTUxFbGVtZW50O1xuICBwb2NrZXRUb3A/OiBIVE1MRWxlbWVudDtcbiAgcG9ja2V0Qm90dG9tPzogSFRNTEVsZW1lbnQ7XG4gIHdyYXA6IEhUTUxFbGVtZW50O1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBnaG9zdD86IEhUTUxFbGVtZW50O1xuICBzdmc/OiBTVkdFbGVtZW50O1xuICBjdXN0b21Tdmc/OiBTVkdFbGVtZW50O1xuICBhdXRvUGllY2VzPzogSFRNTEVsZW1lbnQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIERvbSB7XG4gIGVsZW1lbnRzOiBFbGVtZW50cztcbiAgYm91bmRzOiBNZW1vPENsaWVudFJlY3Q+O1xuICByZWRyYXc6ICgpID0+IHZvaWQ7XG4gIHJlZHJhd05vdzogKHNraXBTdmc/OiBib29sZWFuKSA9PiB2b2lkO1xuICB1bmJpbmQ/OiBVbmJpbmQ7XG4gIGRlc3Ryb3llZD86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIEV4cGxvZGluZyB7XG4gIHN0YWdlOiBudW1iZXI7XG4gIGtleXM6IHJlYWRvbmx5IEtleVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdmVNZXRhZGF0YSB7XG4gIHByZW1vdmU6IGJvb2xlYW47XG4gIGN0cmxLZXk/OiBib29sZWFuO1xuICBob2xkVGltZT86IG51bWJlcjtcbiAgY2FwdHVyZWQ/OiBQaWVjZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2V0UHJlbW92ZU1ldGFkYXRhIHtcbiAgY3RybEtleT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIE1vdWNoRXZlbnQgPSBFdmVudCAmIFBhcnRpYWw8TW91c2VFdmVudCAmIFRvdWNoRXZlbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEtleWVkTm9kZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY2dLZXk6IEtleTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUGllY2VOb2RlIGV4dGVuZHMgS2V5ZWROb2RlIHtcbiAgdGFnTmFtZTogJ1BJRUNFJztcbiAgY2dQaWVjZTogc3RyaW5nO1xuICBjZ0FuaW1hdGluZz86IGJvb2xlYW47XG4gIGNnRmFkaW5nPzogYm9vbGVhbjtcbiAgY2dEcmFnZ2luZz86IGJvb2xlYW47XG4gIGNnU2NhbGU/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFNxdWFyZU5vZGUgZXh0ZW5kcyBLZXllZE5vZGUge1xuICB0YWdOYW1lOiAnU1FVQVJFJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW1vPEE+IHtcbiAgKCk6IEE7XG4gIGNsZWFyOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVyIHtcbiAgc3RhcnQ6ICgpID0+IHZvaWQ7XG4gIGNhbmNlbDogKCkgPT4gdm9pZDtcbiAgc3RvcDogKCkgPT4gbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZWRyYXcgPSAoKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgVW5iaW5kID0gKCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIE1pbGxpc2Vjb25kcyA9IG51bWJlcjtcbmV4cG9ydCB0eXBlIEtIeiA9IG51bWJlcjtcblxuZXhwb3J0IHR5cGUgUmFua3NQb3NpdGlvbiA9ICdsZWZ0JyB8ICdyaWdodCc7XG5cbmV4cG9ydCBjb25zdCBjb2xvcnMgPSBbJ3doaXRlJywgJ2JsYWNrJ10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3Qgc2lkZXMgPSBbJ2FsbHknLCAnZW5lbXknXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBmaWxlcyA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaicsICdrJywgJ2wnLCAnbScsICduJywgJ28nLCAncCddIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IHJhbmtzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICc6JywgJzsnLCAnPCcsICc9JywgJz4nLCAnPycsICdAJ10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgbGV0dGVycyA9IFtcbiAgJ2EnLFxuICAnYicsXG4gICdjJyxcbiAgJ2QnLFxuICAnZScsXG4gICdmJyxcbiAgJ2cnLFxuICAnaCcsXG4gICdpJyxcbiAgJ2onLFxuICAnaycsXG4gICdsJyxcbiAgJ20nLFxuICAnbicsXG4gICdvJyxcbiAgJ3AnLFxuICAncScsXG4gICdyJyxcbiAgJ3MnLFxuICAndCcsXG4gICd1JyxcbiAgJ3YnLFxuICAndycsXG4gICd4JyxcbiAgJ3knLFxuICAneicsXG5dIGFzIGNvbnN0O1xuIiwgImltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgY29uc3QgaW52UmFua3M6IHJlYWRvbmx5IGNnLlJhbmtbXSA9IFsuLi5jZy5yYW5rc10ucmV2ZXJzZSgpO1xuXG5mdW5jdGlvbiBmaWxlcyhuOiBudW1iZXIpIHtcbiAgcmV0dXJuIGNnLmZpbGVzLnNsaWNlKDAsIG4pO1xufVxuXG5mdW5jdGlvbiByYW5rcyhuOiBudW1iZXIpIHtcbiAgcmV0dXJuIGNnLnJhbmtzLnNsaWNlKDAsIG4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxsS2V5cyhiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuS2V5W10ge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5maWxlcyhiZC53aWR0aCkubWFwKGMgPT4gcmFua3MoYmQuaGVpZ2h0KS5tYXAociA9PiBjICsgcikpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsbFBvcyhiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuUG9zW10ge1xuICByZXR1cm4gYWxsS2V5cyhiZCkubWFwKGtleTJwb3MpO1xufVxuXG5leHBvcnQgY29uc3QgcG9zMmtleSA9IChwb3M6IGNnLlBvcyk6IGNnLktleSA9PiAoY2cuZmlsZXNbcG9zWzBdXSArIGNnLnJhbmtzW3Bvc1sxXV0pIGFzIGNnLktleTtcbmV4cG9ydCBjb25zdCBrZXkycG9zID0gKGs6IGNnLktleSk6IGNnLlBvcyA9PiBbay5jaGFyQ29kZUF0KDApIC0gOTcsIGsuY2hhckNvZGVBdCgxKSAtIDQ5XTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJvbGVPZihsZXR0ZXI6IGNnLkxldHRlciB8IGNnLkRyb3BPcmlnKTogY2cuUm9sZSB7XG4gIHJldHVybiAobGV0dGVyLnJlcGxhY2UoJysnLCAncCcpLnJlcGxhY2UoJyonLCAnXycpLnJlcGxhY2UoJ0AnLCAnJykudG9Mb3dlckNhc2UoKSArICctcGllY2UnKSBhcyBjZy5Sb2xlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGV0dGVyT2Yocm9sZTogY2cuUm9sZSwgdXBwZXJjYXNlID0gZmFsc2UpOiBjZy5MZXR0ZXIge1xuICBjb25zdCBsZXR0ZXJQYXJ0ID0gcm9sZS5zbGljZSgwLCByb2xlLmluZGV4T2YoJy0nKSk7XG4gIGNvbnN0IGxldHRlciA9IChsZXR0ZXJQYXJ0Lmxlbmd0aCA+IDEgPyBsZXR0ZXJQYXJ0LnJlcGxhY2UoJ3AnLCAnKycpIDogbGV0dGVyUGFydCkucmVwbGFjZSgnXycsICcqJyk7XG4gIHJldHVybiAodXBwZXJjYXNlID8gbGV0dGVyLnRvVXBwZXJDYXNlKCkgOiBsZXR0ZXIpIGFzIGNnLkxldHRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyb3BPcmlnT2Yocm9sZTogY2cuUm9sZSk6IGNnLkRyb3BPcmlnIHtcbiAgcmV0dXJuIChsZXR0ZXJPZihyb2xlLCB0cnVlKSArICdAJykgYXMgY2cuRHJvcE9yaWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Ryb3BPcmlnKG9yaWc6IGNnLk9yaWcpOiBvcmlnIGlzIGNnLkRyb3BPcmlnIHtcbiAgcmV0dXJuIG9yaWdbMF0gPT09IG9yaWdbMF0udG9VcHBlckNhc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzS2V5KHNlbGVjdGFibGU6IGNnLlNlbGVjdGFibGUgfCBjZy5PcmlnKTogc2VsZWN0YWJsZSBpcyBjZy5LZXkge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdGFibGUgPT09ICdzdHJpbmcnICYmIHNlbGVjdGFibGVbMF0gPT09IHNlbGVjdGFibGVbMF0udG9Mb3dlckNhc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGllY2Uoc2VsZWN0YWJsZTogY2cuU2VsZWN0YWJsZSk6IHNlbGVjdGFibGUgaXMgY2cuUGllY2Uge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdGFibGUgIT09ICdzdHJpbmcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lKGxoczogY2cuU2VsZWN0YWJsZSwgcmhzOiBjZy5TZWxlY3RhYmxlKTogYm9vbGVhbiB7XG4gIGlmIChpc1BpZWNlKGxocykgJiYgaXNQaWVjZShyaHMpKSByZXR1cm4gc2FtZVBpZWNlKGxocywgcmhzKTtcbiAgZWxzZSByZXR1cm4gbGhzID09PSByaHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VOdW1iZXI8VD4obWFwOiBNYXA8VCwgbnVtYmVyPiwga2V5OiBULCBudW06IG51bWJlcik6IHZvaWQge1xuICBtYXAuc2V0KGtleSwgKG1hcC5nZXQoa2V5KSA/PyAwKSArIG51bSk7XG59XG5cbi8vIFRPRE8gY292ZXIgdHdvLWRpZ2l0IG51bWJlcnNcbi8vIFRoaXMgZnVuY3Rpb24gaXNuJ3QgdXNlZCBhbnl3aGVyZSBpbnNpZGUgY2hlc3Nncm91bmQgYnR3LCBpdCdzIHByb2JhYmx5IHVzZWQgaW4gTGljaGVzc1xuLy8gUHljaGVzcyBoYXMgdGhpcyBpbiBjaGVzcy50c1xuZXhwb3J0IGNvbnN0IHVjaVRvTW92ZSA9ICh1Y2k6IHN0cmluZyB8IHVuZGVmaW5lZCk6IGNnLktleVtdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCF1Y2kpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmICh1Y2lbMV0gPT09ICdAJykgcmV0dXJuIFt1Y2kuc2xpY2UoMiwgNCkgYXMgY2cuS2V5XTtcbiAgcmV0dXJuIFt1Y2kuc2xpY2UoMCwgMiksIHVjaS5zbGljZSgyLCA0KV0gYXMgY2cuS2V5W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtbzxBPihmOiAoKSA9PiBBKTogY2cuTWVtbzxBPiB7XG4gIGxldCB2OiBBIHwgdW5kZWZpbmVkO1xuICBjb25zdCByZXQgPSAoKTogQSA9PiB7XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgdiA9IGYoKTtcbiAgICByZXR1cm4gdjtcbiAgfTtcbiAgcmV0LmNsZWFyID0gKCkgPT4ge1xuICAgIHYgPSB1bmRlZmluZWQ7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBjb25zdCB0aW1lciA9ICgpOiBjZy5UaW1lciA9PiB7XG4gIGxldCBzdGFydEF0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJldHVybiB7XG4gICAgc3RhcnQoKSB7XG4gICAgICBzdGFydEF0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSxcbiAgICBjYW5jZWwoKSB7XG4gICAgICBzdGFydEF0ID0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc3RvcCgpIHtcbiAgICAgIGlmICghc3RhcnRBdCkgcmV0dXJuIDA7XG4gICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydEF0O1xuICAgICAgc3RhcnRBdCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aW1lO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgb3Bwb3NpdGUgPSAoYzogY2cuQ29sb3IpOiBjZy5Db2xvciA9PiAoYyA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnKTtcblxuZXhwb3J0IGNvbnN0IHNhbWVQaWVjZSA9IChwMTogY2cuUGllY2UsIHAyOiBjZy5QaWVjZSk6IGJvb2xlYW4gPT5cbiAgcDEucm9sZSA9PT0gcDIucm9sZSAmJiBwMS5jb2xvciA9PT0gcDIuY29sb3IgJiYgISFwMS5wcm9tb3RlZCA9PT0gISFwMi5wcm9tb3RlZDtcblxuZXhwb3J0IGNvbnN0IHBpZWNlU2lkZSA9IChwOiBjZy5QaWVjZSwgbzogY2cuQ29sb3IpOiBjZy5TaWRlID0+IChwLmNvbG9yID09PSBvID8gJ2FsbHknIDogJ2VuZW15Jyk7XG5cbmV4cG9ydCBjb25zdCBwaWVjZUNsYXNzZXMgPSAocDogY2cuUGllY2UsIG86IGNnLkNvbG9yKTogc3RyaW5nID0+XG4gIGAke3AuY29sb3J9ICR7cGllY2VTaWRlKHAsIG8pfSAke3AucHJvbW90ZWQgPyAncHJvbW90ZWQgJyA6ICcnfSR7cC5yb2xlfWA7XG5cbmV4cG9ydCBjb25zdCBkaXN0YW5jZVNxID0gKHBvczE6IGNnLlBvcywgcG9zMjogY2cuUG9zKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZHggPSBwb3MxWzBdIC0gcG9zMlswXSxcbiAgICBkeSA9IHBvczFbMV0gLSBwb3MyWzFdO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zVG9UcmFuc2xhdGUgPVxuICAoYm91bmRzOiBDbGllbnRSZWN0LCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogKChwb3M6IGNnLlBvcywgYXNXaGl0ZTogYm9vbGVhbikgPT4gY2cuTnVtYmVyUGFpcikgPT5cbiAgKHBvcywgYXNXaGl0ZSkgPT5cbiAgICBbXG4gICAgICAoKGFzV2hpdGUgPyBwb3NbMF0gOiBiZC53aWR0aCAtIDEgLSBwb3NbMF0pICogYm91bmRzLndpZHRoKSAvIGJkLndpZHRoLFxuICAgICAgKChhc1doaXRlID8gYmQuaGVpZ2h0IC0gMSAtIHBvc1sxXSA6IHBvc1sxXSkgKiBib3VuZHMuaGVpZ2h0KSAvIGJkLmhlaWdodCxcbiAgICBdO1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlID0gKGVsOiBIVE1MRWxlbWVudCwgcG9zOiBjZy5OdW1iZXJQYWlyKTogdm9pZCA9PiB7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb3NbMF19cHgsJHtwb3NbMV19cHgpYDtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVBbmRTY2FsZSA9IChlbDogSFRNTEVsZW1lbnQsIHBvczogY2cuTnVtYmVyUGFpciwgc2NhbGUgPSAxKTogdm9pZCA9PiB7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb3NbMF19cHgsJHtwb3NbMV19cHgpIHNjYWxlKCR7c2NhbGV9KWA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VmlzaWJsZSA9IChlbDogSFRNTEVsZW1lbnQsIHY6IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgZWwuc3R5bGUudmlzaWJpbGl0eSA9IHYgPyAndmlzaWJsZScgOiAnaGlkZGVuJztcbn07XG5cbmV4cG9ydCBjb25zdCBldmVudFBvc2l0aW9uID0gKGU6IGNnLk1vdWNoRXZlbnQpOiBjZy5OdW1iZXJQYWlyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGUuY2xpZW50WCB8fCBlLmNsaWVudFggPT09IDApIHJldHVybiBbZS5jbGllbnRYLCBlLmNsaWVudFkhXTtcbiAgaWYgKGUudGFyZ2V0VG91Y2hlcz8uWzBdKSByZXR1cm4gW2UudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYLCBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WV07XG4gIHJldHVybjsgLy8gdG91Y2hlbmQgaGFzIG5vIHBvc2l0aW9uIVxufTtcblxuZXhwb3J0IGNvbnN0IGlzUmlnaHRCdXR0b24gPSAoZTogY2cuTW91Y2hFdmVudCk6IGJvb2xlYW4gPT4gZS5idXR0b25zID09PSAyIHx8IGUuYnV0dG9uID09PSAyO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRWwgPSAodGFnTmFtZTogc3RyaW5nLCBjbGFzc05hbWU/OiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKGNsYXNzTmFtZSkgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICByZXR1cm4gZWw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNNaW5pQm9hcmQgPSAoZWw6IEhUTUxFbGVtZW50KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBBcnJheS5mcm9tKGVsLmNsYXNzTGlzdCkuaW5jbHVkZXMoJ21pbmknKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU3F1YXJlQ2VudGVyKFxuICBrZXk6IGNnLktleSxcbiAgYXNXaGl0ZTogYm9vbGVhbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBjZy5OdW1iZXJQYWlyIHtcbiAgY29uc3QgcG9zID0ga2V5MnBvcyhrZXkpO1xuICBpZiAoIWFzV2hpdGUpIHtcbiAgICBwb3NbMF0gPSBiZC53aWR0aCAtIDEgLSBwb3NbMF07XG4gICAgcG9zWzFdID0gYmQuaGVpZ2h0IC0gMSAtIHBvc1sxXTtcbiAgfVxuICByZXR1cm4gW1xuICAgIGJvdW5kcy5sZWZ0ICsgKGJvdW5kcy53aWR0aCAqIChwb3NbMF0gKyAwLjUpKSAvIGJkLndpZHRoLFxuICAgIGJvdW5kcy50b3AgKyAoYm91bmRzLmhlaWdodCAqIChiZC5oZWlnaHQgLSBwb3NbMV0gLSAwLjUpKSAvIGJkLmhlaWdodCxcbiAgXTtcbn1cbiIsICIvKiEgZ2V0dGV4dC5qcyAtIEd1aWxsYXVtZSBQb3RpZXIgLSBNSVQgTGljZW5zZWQgKi9cbnZhciBpMThuID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiB0aGlzICYmICh0aGlzLl9fdmVyc2lvbiA9ICcxLjEuMScpO1xuXG4gLy8gZGVmYXVsdCB2YWx1ZXMgdGhhdCBjb3VsZCBiZSBvdmVycmlkZW4gaW4gaTE4bigpIGNvbnN0cnVjdFxuIHZhciBkZWZhdWx0cyA9IHtcbiAgIGRvbWFpbjogJ21lc3NhZ2VzJyxcbiAgIGxvY2FsZTogKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYW5nJykgOiBmYWxzZSkgfHwgJ2VuJyxcbiAgIHBsdXJhbF9mdW5jOiBmdW5jdGlvbiAobikgeyByZXR1cm4geyBucGx1cmFsczogMiwgcGx1cmFsOiAobiE9MSkgPyAxIDogMCB9OyB9LFxuICAgY3R4dF9kZWxpbWl0ZXI6IFN0cmluZy5mcm9tQ2hhckNvZGUoNCkgLy8gXFx1MDAwNFxuIH07XG5cbiAvLyBoYW5keSBtaXhpbnMgdGFrZW4gZnJvbSB1bmRlcnNjb2RlLmpzXG4gdmFyIF8gPSB7XG4gICBpc09iamVjdDogZnVuY3Rpb24gKG9iaikge1xuICAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICAgfSxcbiAgIGlzQXJyYXk6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgIH1cbiB9O1xuXG4gdmFyXG4gICBfcGx1cmFsX2Z1bmNzID0ge30sXG4gICBfbG9jYWxlID0gb3B0aW9ucy5sb2NhbGUgfHwgZGVmYXVsdHMubG9jYWxlLFxuICAgX2RvbWFpbiA9IG9wdGlvbnMuZG9tYWluIHx8IGRlZmF1bHRzLmRvbWFpbixcbiAgIF9kaWN0aW9uYXJ5ID0ge30sXG4gICBfcGx1cmFsX2Zvcm1zID0ge30sXG4gICBfY3R4dF9kZWxpbWl0ZXIgPSBvcHRpb25zLmN0eHRfZGVsaW1pdGVyIHx8IGRlZmF1bHRzLmN0eHRfZGVsaW1pdGVyO1xuXG4gICBpZiAob3B0aW9ucy5tZXNzYWdlcykge1xuICAgICBfZGljdGlvbmFyeVtfZG9tYWluXSA9IHt9O1xuICAgICBfZGljdGlvbmFyeVtfZG9tYWluXVtfbG9jYWxlXSA9IG9wdGlvbnMubWVzc2FnZXM7XG4gICB9XG5cbiAgIGlmIChvcHRpb25zLnBsdXJhbF9mb3Jtcykge1xuICAgICBfcGx1cmFsX2Zvcm1zW19sb2NhbGVdID0gb3B0aW9ucy5wbHVyYWxfZm9ybXM7XG4gICB9XG5cbiAgIC8vIHNwcmludGYgZXF1aXZhbGVudCwgdGFrZXMgYSBzdHJpbmcgYW5kIHNvbWUgYXJndW1lbnRzIHRvIG1ha2UgYSBjb21wdXRlZCBzdHJpbmdcbiAgIC8vIGVnOiBzdHJmbXQoXCIlMSBkb2dzIGFyZSBpbiAlMlwiLCA3LCBcInRoZSBraXRjaGVuXCIpOyA9PiBcIjcgZG9ncyBhcmUgaW4gdGhlIGtpdGNoZW5cIlxuICAgLy8gZWc6IHN0cmZtdChcIkkgbGlrZSAlMSwgYmFuYW5hcyBhbmQgJTFcIiwgXCJhcHBsZXNcIik7ID0+IFwiSSBsaWtlIGFwcGxlcywgYmFuYW5hcyBhbmQgYXBwbGVzXCJcbiAgIC8vIE5COiByZW1vdmVzIG1zZyBjb250ZXh0IGlmIHRoZXJlIGlzIG9uZSBwcmVzZW50XG4gICB2YXIgc3RyZm10ID0gZnVuY3Rpb24gKGZtdCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAgIHJldHVybiBmbXRcbiAgICAgICAvLyBwdXQgc3BhY2UgYWZ0ZXIgZG91YmxlICUgdG8gcHJldmVudCBwbGFjZWhvbGRlciByZXBsYWNlbWVudCBvZiBzdWNoIG1hdGNoZXNcbiAgICAgICAucmVwbGFjZSgvJSUvZywgJyUlICcpXG4gICAgICAgLy8gcmVwbGFjZSBwbGFjZWhvbGRlcnNcbiAgICAgICAucmVwbGFjZSgvJShcXGQrKS9nLCBmdW5jdGlvbiAoc3RyLCBwMSkge1xuICAgICAgICAgcmV0dXJuIGFyZ3NbcDFdO1xuICAgICAgIH0pXG4gICAgICAgLy8gcmVwbGFjZSBkb3VibGUgJSBhbmQgc3BhY2Ugd2l0aCBzaW5nbGUgJVxuICAgICAgIC5yZXBsYWNlKC8lJSAvZywgJyUnKVxuICAgfTtcblxuICAgdmFyIHJlbW92ZUNvbnRleHQgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIC8vIGlmIHRoZXJlIGlzIGNvbnRleHQsIHJlbW92ZSBpdFxuICAgICAgaWYgKHN0ci5pbmRleE9mKF9jdHh0X2RlbGltaXRlcikgIT09IC0xKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdChfY3R4dF9kZWxpbWl0ZXIpO1xuICAgICAgICByZXR1cm4gcGFydHNbMV07XG4gICAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICAgfTtcblxuICAgdmFyIGV4cGFuZF9sb2NhbGUgPSBmdW5jdGlvbihsb2NhbGUpIHtcbiAgICAgICB2YXIgbG9jYWxlcyA9IFtsb2NhbGVdLFxuICAgICAgICAgICBpID0gbG9jYWxlLmxhc3RJbmRleE9mKCctJyk7XG4gICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgICAgIGxvY2FsZSA9IGxvY2FsZS5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgbG9jYWxlcy5wdXNoKGxvY2FsZSk7XG4gICAgICAgICAgIGkgPSBsb2NhbGUubGFzdEluZGV4T2YoJy0nKTtcbiAgICAgICB9XG4gICAgICAgcmV0dXJuIGxvY2FsZXM7XG4gICB9O1xuXG4gICB2YXIgbm9ybWFsaXplTG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgLy8gQ29udmVydCBsb2NhbGUgdG8gQkNQIDQ3LiBJZiB0aGUgbG9jYWxlIGlzIGluIFBPU0lYIGZvcm1hdCwgbG9jYWxlIHZhcmlhbnQgYW5kIGVuY29kaW5nIGlzIGRpc2NhcmRlZC5cbiAgICAgIGxvY2FsZSA9IGxvY2FsZS5yZXBsYWNlKCdfJywgJy0nKTtcbiAgICAgIHZhciBpID0gbG9jYWxlLnNlYXJjaCgvWy5AXS8pO1xuICAgICAgaWYgKGkgIT0gLTEpIGxvY2FsZSA9IGxvY2FsZS5zbGljZSgwLCBpKTtcbiAgICAgIHJldHVybiBsb2NhbGU7XG4gICB9O1xuXG4gICB2YXIgZ2V0UGx1cmFsRnVuYyA9IGZ1bmN0aW9uIChwbHVyYWxfZm9ybSkge1xuICAgICAvLyBQbHVyYWwgZm9ybSBzdHJpbmcgcmVnZXhwXG4gICAgIC8vIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL09yYW5nZS1PcGVuU291cmNlL2dldHRleHQuanMvYmxvYi9tYXN0ZXIvbGliLmdldHRleHQuanNcbiAgICAgLy8gcGx1cmFsIGZvcm1zIGxpc3QgYXZhaWxhYmxlIGhlcmUgaHR0cDovL2xvY2FsaXphdGlvbi1ndWlkZS5yZWFkdGhlZG9jcy5vcmcvZW4vbGF0ZXN0L2wxMG4vcGx1cmFsZm9ybXMuaHRtbFxuICAgICB2YXIgcGZfcmUgPSBuZXcgUmVnRXhwKCdeXFxcXHMqbnBsdXJhbHNcXFxccyo9XFxcXHMqWzAtOV0rXFxcXHMqO1xcXFxzKnBsdXJhbFxcXFxzKj1cXFxccyooPzpcXFxcc3xbLVxcXFw/XFxcXHwmPSE8PisqLyU6O24wLTlfXFwoXFwpXSkrJyk7XG5cbiAgICAgaWYgKCFwZl9yZS50ZXN0KHBsdXJhbF9mb3JtKSlcbiAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyZm10KCdUaGUgcGx1cmFsIGZvcm0gXCIlMVwiIGlzIG5vdCB2YWxpZCcsIHBsdXJhbF9mb3JtKSk7XG5cbiAgICAgLy8gQ2FyZWZ1bCBoZXJlLCB0aGlzIGlzIGEgaGlkZGVuIGV2YWwoKSBlcXVpdmFsZW50Li5cbiAgICAgLy8gUmlzayBzaG91bGQgYmUgcmVhc29uYWJsZSB0aG91Z2ggc2luY2Ugd2UgdGVzdCB0aGUgcGx1cmFsX2Zvcm0gdGhyb3VnaCByZWdleCBiZWZvcmVcbiAgICAgLy8gdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vT3JhbmdlLU9wZW5Tb3VyY2UvZ2V0dGV4dC5qcy9ibG9iL21hc3Rlci9saWIuZ2V0dGV4dC5qc1xuICAgICAvLyBUT0RPOiBzaG91bGQgdGVzdCBpZiBodHRwczovL2dpdGh1Yi5jb20vc29uZXkvanNlcCBwcmVzZW50IGFuZCB1c2UgaXQgaWYgc29cbiAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIm5cIiwgJ3ZhciBwbHVyYWwsIG5wbHVyYWxzOyAnKyBwbHVyYWxfZm9ybSArJyByZXR1cm4geyBucGx1cmFsczogbnBsdXJhbHMsIHBsdXJhbDogKHBsdXJhbCA9PT0gdHJ1ZSA/IDEgOiAocGx1cmFsID8gcGx1cmFsIDogMCkpIH07Jyk7XG4gICB9O1xuXG4gICAvLyBQcm9wZXIgdHJhbnNsYXRpb24gZnVuY3Rpb24gdGhhdCBoYW5kbGUgcGx1cmFscyBhbmQgZGlyZWN0aXZlc1xuICAgLy8gQ29udGFpbnMganVpY3kgcGFydHMgb2YgaHR0cHM6Ly9naXRodWIuY29tL09yYW5nZS1PcGVuU291cmNlL2dldHRleHQuanMvYmxvYi9tYXN0ZXIvbGliLmdldHRleHQuanNcbiAgIHZhciB0ID0gZnVuY3Rpb24gKG1lc3NhZ2VzLCBuLCBvcHRpb25zIC8qICxleHRyYSAqLykge1xuICAgICAvLyBTaW5ndWxhciBpcyB2ZXJ5IGVhc3ksIGp1c3QgcGFzcyBkaWN0aW9ubmFyeSBtZXNzYWdlIHRocm91Z2ggc3RyZm10XG4gICAgIGlmICghb3B0aW9ucy5wbHVyYWxfZm9ybSlcbiAgICAgIHJldHVybiBzdHJmbXQuYXBwbHkodGhpcywgW3JlbW92ZUNvbnRleHQobWVzc2FnZXNbMF0pXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKSkpO1xuXG4gICAgIHZhciBwbHVyYWw7XG5cbiAgICAgLy8gaWYgYSBwbHVyYWwgZnVuYyBpcyBnaXZlbiwgdXNlIHRoYXQgb25lXG4gICAgIGlmIChvcHRpb25zLnBsdXJhbF9mdW5jKSB7XG4gICAgICAgcGx1cmFsID0gb3B0aW9ucy5wbHVyYWxfZnVuYyhuKTtcblxuICAgICAvLyBpZiBwbHVyYWwgZm9ybSBuZXZlciBpbnRlcnByZXRlZCBiZWZvcmUsIGRvIGl0IG5vdyBhbmQgc3RvcmUgaXRcbiAgICAgfSBlbHNlIGlmICghX3BsdXJhbF9mdW5jc1tfbG9jYWxlXSkge1xuICAgICAgIF9wbHVyYWxfZnVuY3NbX2xvY2FsZV0gPSBnZXRQbHVyYWxGdW5jKF9wbHVyYWxfZm9ybXNbX2xvY2FsZV0pO1xuICAgICAgIHBsdXJhbCA9IF9wbHVyYWxfZnVuY3NbX2xvY2FsZV0obik7XG5cbiAgICAgLy8gd2UgaGF2ZSB0aGUgcGx1cmFsIGZ1bmN0aW9uLCBjb21wdXRlIHRoZSBwbHVyYWwgcmVzdWx0XG4gICAgIH0gZWxzZSB7XG4gICAgICAgcGx1cmFsID0gX3BsdXJhbF9mdW5jc1tfbG9jYWxlXShuKTtcbiAgICAgfVxuXG4gICAgIC8vIElmIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHBsdXJhbHMsIGZhbGxiYWNrIHRvIHNpbmd1bGFyIG9uZVxuICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBwbHVyYWwucGx1cmFsIHx8IHBsdXJhbC5wbHVyYWwgPiBwbHVyYWwubnBsdXJhbHMgfHwgbWVzc2FnZXMubGVuZ3RoIDw9IHBsdXJhbC5wbHVyYWwpXG4gICAgICAgcGx1cmFsLnBsdXJhbCA9IDA7XG5cbiAgICAgcmV0dXJuIHN0cmZtdC5hcHBseSh0aGlzLCBbcmVtb3ZlQ29udGV4dChtZXNzYWdlc1twbHVyYWwucGx1cmFsXSksIG5dLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpKSk7XG4gICB9O1xuXG4gcmV0dXJuIHtcbiAgIHN0cmZtdDogc3RyZm10LCAvLyBleHBvc2Ugc3RyZm10IHV0aWxcbiAgIGV4cGFuZF9sb2NhbGU6IGV4cGFuZF9sb2NhbGUsIC8vIGV4cG9zZSBleHBhbmRfbG9jYWxlIHV0aWxcblxuICAgLy8gRGVjbGFyZSBzaG9ydGN1dHNcbiAgIF9fOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldHRleHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSxcbiAgIF9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5nZXR0ZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0sXG4gICBfcDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wZ2V0dGV4dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9LFxuXG4gICBzZXRNZXNzYWdlczogZnVuY3Rpb24gKGRvbWFpbiwgbG9jYWxlLCBtZXNzYWdlcywgcGx1cmFsX2Zvcm1zKSB7XG4gICAgIGlmICghZG9tYWluIHx8ICFsb2NhbGUgfHwgIW1lc3NhZ2VzKVxuICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIGRvbWFpbiwgYSBsb2NhbGUgYW5kIG1lc3NhZ2VzJyk7XG5cbiAgICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgZG9tYWluIHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgbG9jYWxlIHx8ICFfLmlzT2JqZWN0KG1lc3NhZ2VzKSlcbiAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG5cbiAgICAgbG9jYWxlID0gbm9ybWFsaXplTG9jYWxlKGxvY2FsZSk7XG5cbiAgICAgaWYgKHBsdXJhbF9mb3JtcylcbiAgICAgICBfcGx1cmFsX2Zvcm1zW2xvY2FsZV0gPSBwbHVyYWxfZm9ybXM7XG5cbiAgICAgaWYgKCFfZGljdGlvbmFyeVtkb21haW5dKVxuICAgICAgIF9kaWN0aW9uYXJ5W2RvbWFpbl0gPSB7fTtcblxuICAgICBfZGljdGlvbmFyeVtkb21haW5dW2xvY2FsZV0gPSBtZXNzYWdlcztcblxuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG4gICBsb2FkSlNPTjogZnVuY3Rpb24gKGpzb25EYXRhLCBkb21haW4pIHtcbiAgICAgaWYgKCFfLmlzT2JqZWN0KGpzb25EYXRhKSlcbiAgICAgICBqc29uRGF0YSA9IEpTT04ucGFyc2UoanNvbkRhdGEpO1xuXG4gICAgIGlmICghanNvbkRhdGFbJyddIHx8ICFqc29uRGF0YVsnJ11bJ2xhbmd1YWdlJ10gfHwgIWpzb25EYXRhWycnXVsncGx1cmFsLWZvcm1zJ10pXG4gICAgICAgdGhyb3cgbmV3IEVycm9yKCdXcm9uZyBKU09OLCBpdCBtdXN0IGhhdmUgYW4gZW1wdHkga2V5IChcIlwiKSB3aXRoIFwibGFuZ3VhZ2VcIiBhbmQgXCJwbHVyYWwtZm9ybXNcIiBpbmZvcm1hdGlvbicpO1xuXG4gICAgIHZhciBoZWFkZXJzID0ganNvbkRhdGFbJyddO1xuICAgICBkZWxldGUganNvbkRhdGFbJyddO1xuXG4gICAgIHJldHVybiB0aGlzLnNldE1lc3NhZ2VzKGRvbWFpbiB8fCBkZWZhdWx0cy5kb21haW4sIGhlYWRlcnNbJ2xhbmd1YWdlJ10sIGpzb25EYXRhLCBoZWFkZXJzWydwbHVyYWwtZm9ybXMnXSk7XG4gICB9LFxuICAgc2V0TG9jYWxlOiBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgIF9sb2NhbGUgPSBub3JtYWxpemVMb2NhbGUobG9jYWxlKTtcbiAgICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuICAgZ2V0TG9jYWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgIHJldHVybiBfbG9jYWxlO1xuICAgfSxcbiAgIC8vIGdldHRlci9zZXR0ZXIgZm9yIGRvbWFpblxuICAgdGV4dGRvbWFpbjogZnVuY3Rpb24gKGRvbWFpbikge1xuICAgICBpZiAoIWRvbWFpbilcbiAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgX2RvbWFpbiA9IGRvbWFpbjtcbiAgICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuICAgZ2V0dGV4dDogZnVuY3Rpb24gKG1zZ2lkIC8qICwgZXh0cmEgKi8pIHtcbiAgICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQuYXBwbHkodGhpcywgW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCBtc2dpZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7XG4gICB9LFxuICAgbmdldHRleHQ6IGZ1bmN0aW9uIChtc2dpZCwgbXNnaWRfcGx1cmFsLCBuIC8qICwgZXh0cmEgKi8pIHtcbiAgICAgcmV0dXJuIHRoaXMuZGNucGdldHRleHQuYXBwbHkodGhpcywgW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCBtc2dpZCwgbXNnaWRfcGx1cmFsLCBuXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKSkpO1xuICAgfSxcbiAgIHBnZXR0ZXh0OiBmdW5jdGlvbiAobXNnY3R4dCwgbXNnaWQgLyogLCBleHRyYSAqLykge1xuICAgICByZXR1cm4gdGhpcy5kY25wZ2V0dGV4dC5hcHBseSh0aGlzLCBbdW5kZWZpbmVkLCBtc2djdHh0LCBtc2dpZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKSk7XG4gICB9LFxuICAgZGNucGdldHRleHQ6IGZ1bmN0aW9uIChkb21haW4sIG1zZ2N0eHQsIG1zZ2lkLCBtc2dpZF9wbHVyYWwsIG4gLyogLCBleHRyYSAqLykge1xuICAgICBkb21haW4gPSBkb21haW4gfHwgX2RvbWFpbjtcblxuICAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBtc2dpZClcbiAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5zdHJmbXQoJ01zZ2lkIFwiJTFcIiBpcyBub3QgYSB2YWxpZCB0cmFuc2xhdGFibGUgc3RyaW5nJywgbXNnaWQpKTtcblxuICAgICB2YXJcbiAgICAgICB0cmFuc2xhdGlvbixcbiAgICAgICBvcHRpb25zID0geyBwbHVyYWxfZm9ybTogZmFsc2UgfSxcbiAgICAgICBrZXkgPSBtc2djdHh0ID8gbXNnY3R4dCArIF9jdHh0X2RlbGltaXRlciArIG1zZ2lkIDogbXNnaWQsXG4gICAgICAgZXhpc3QsXG4gICAgICAgbG9jYWxlLFxuICAgICAgIGxvY2FsZXMgPSBleHBhbmRfbG9jYWxlKF9sb2NhbGUpO1xuXG4gICAgIGZvciAodmFyIGkgaW4gbG9jYWxlcykge1xuICAgICAgICBsb2NhbGUgPSBsb2NhbGVzW2ldO1xuICAgICAgICBleGlzdCA9IF9kaWN0aW9uYXJ5W2RvbWFpbl0gJiYgX2RpY3Rpb25hcnlbZG9tYWluXVtsb2NhbGVdICYmIF9kaWN0aW9uYXJ5W2RvbWFpbl1bbG9jYWxlXVtrZXldO1xuXG4gICAgICAgIC8vIGJlY2F1c2UgaXQncyBub3QgcG9zc2libGUgdG8gZGVmaW5lIGJvdGggYSBzaW5ndWxhciBhbmQgYSBwbHVyYWwgZm9ybSBvZiB0aGUgc2FtZSBtc2dpZCxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBjaGVjayB0aGF0IHRoZSBzdG9yZWQgZm9ybSBpcyB0aGUgc2FtZSBhcyB0aGUgZXhwZWN0ZWQgb25lLlxuICAgICAgICAvLyBpZiBub3QsIHdlJ2xsIGp1c3QgaWdub3JlIHRoZSB0cmFuc2xhdGlvbiBhbmQgY29uc2lkZXIgaXQgYXMgbm90IHRyYW5zbGF0ZWQuXG4gICAgICAgIGlmIChtc2dpZF9wbHVyYWwpIHtcbiAgICAgICAgICBleGlzdCA9IGV4aXN0ICYmIFwic3RyaW5nXCIgIT09IHR5cGVvZiBfZGljdGlvbmFyeVtkb21haW5dW2xvY2FsZV1ba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleGlzdCA9IGV4aXN0ICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBfZGljdGlvbmFyeVtkb21haW5dW2xvY2FsZV1ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhpc3QpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICB9XG5cbiAgICAgaWYgKCFleGlzdCkge1xuICAgICAgIHRyYW5zbGF0aW9uID0gbXNnaWQ7XG4gICAgICAgb3B0aW9ucy5wbHVyYWxfZnVuYyA9IGRlZmF1bHRzLnBsdXJhbF9mdW5jO1xuICAgICB9IGVsc2Uge1xuICAgICAgIHRyYW5zbGF0aW9uID0gX2RpY3Rpb25hcnlbZG9tYWluXVtsb2NhbGVdW2tleV07XG4gICAgIH1cblxuICAgICAvLyBTaW5ndWxhciBmb3JtXG4gICAgIGlmICghbXNnaWRfcGx1cmFsKVxuICAgICAgIHJldHVybiB0LmFwcGx5KHRoaXMsIFtbdHJhbnNsYXRpb25dLCBuLCBvcHRpb25zXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCA1KSkpO1xuXG4gICAgIC8vIFBsdXJhbCBvbmVcbiAgICAgb3B0aW9ucy5wbHVyYWxfZm9ybSA9IHRydWU7XG4gICAgIHJldHVybiB0LmFwcGx5KHRoaXMsIFtleGlzdCA/IHRyYW5zbGF0aW9uIDogW21zZ2lkLCBtc2dpZF9wbHVyYWxdLCBuLCBvcHRpb25zXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCA1KSkpO1xuICAgfVxuIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpMThuO1xuIiwgImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgeyBnZXREb2N1bWVudERhdGEgfSBmcm9tICcuL2RvY3VtZW50JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNldHRpbmdzPFQ+IHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF92YWx1ZTogVDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUodmFsdWU6IFQpIHtcbiAgICAgICAgLy8gVE9ETyBzb21lIG1lY2hhbmlzbSB0byBzYXZlIHNldHRpbmdzIHRvIHNlcnZlclxuICAgICAgICBsb2NhbFN0b3JhZ2VbdGhpcy5uYW1lXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xuICAgIGFic3RyYWN0IHZpZXcoKTogVk5vZGU7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdHJpbmdTZXR0aW5ncyBleHRlbmRzIFNldHRpbmdzPHN0cmluZz4ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gZ2V0RG9jdW1lbnREYXRhKG5hbWUpID8/IGxvY2FsU3RvcmFnZVtuYW1lXSA/PyBkZWZhdWx0VmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTnVtYmVyU2V0dGluZ3MgZXh0ZW5kcyBTZXR0aW5nczxudW1iZXI+IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IE51bWJlcihnZXREb2N1bWVudERhdGEobmFtZSkgPz8gKGxvY2FsU3RvcmFnZVtuYW1lXSA/PyBkZWZhdWx0VmFsdWUpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCb29sZWFuU2V0dGluZ3MgZXh0ZW5kcyBTZXR0aW5nczxib29sZWFuPiB7XG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIGlmIChnZXREb2N1bWVudERhdGEobmFtZSkpXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGdldERvY3VtZW50RGF0YShuYW1lKSA9PT0gJ1RydWUnO1xuICAgICAgICBlbHNlIGlmIChsb2NhbFN0b3JhZ2VbbmFtZV0pXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGxvY2FsU3RvcmFnZVtuYW1lXSA9PT0gJ3RydWUnO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG59XG4iLCAiZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGZpbGUgc2l6ZSBoYWNrc1xuICAgICAgICByZXF1ZXN0Lm9uY29tcGxldGUgPSByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAvLyBAdHMtaWdub3JlIC0gZmlsZSBzaXplIGhhY2tzXG4gICAgICAgIHJlcXVlc3Qub25hYm9ydCA9IHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGRiTmFtZSwgc3RvcmVOYW1lKSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSk7XG4gICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiByZXF1ZXN0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgIGNvbnN0IGRicCA9IHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCk7XG4gICAgcmV0dXJuICh0eE1vZGUsIGNhbGxiYWNrKSA9PiBkYnAudGhlbigoZGIpID0+IGNhbGxiYWNrKGRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgdHhNb2RlKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpKSk7XG59XG5sZXQgZGVmYXVsdEdldFN0b3JlRnVuYztcbmZ1bmN0aW9uIGRlZmF1bHRHZXRTdG9yZSgpIHtcbiAgICBpZiAoIWRlZmF1bHRHZXRTdG9yZUZ1bmMpIHtcbiAgICAgICAgZGVmYXVsdEdldFN0b3JlRnVuYyA9IGNyZWF0ZVN0b3JlKCdrZXl2YWwtc3RvcmUnLCAna2V5dmFsJyk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0R2V0U3RvcmVGdW5jO1xufVxuLyoqXG4gKiBHZXQgYSB2YWx1ZSBieSBpdHMga2V5LlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBnZXQoa2V5LCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXQoa2V5KSkpO1xufVxuLyoqXG4gKiBTZXQgYSB2YWx1ZSB3aXRoIGEga2V5LlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgc3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG4vKipcbiAqIFNldCBtdWx0aXBsZSB2YWx1ZXMgYXQgb25jZS4gVGhpcyBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIHNldCgpIG11bHRpcGxlIHRpbWVzLlxuICogSXQncyBhbHNvIGF0b21pYyBcdTIwMTMgaWYgb25lIG9mIHRoZSBwYWlycyBjYW4ndCBiZSBhZGRlZCwgbm9uZSB3aWxsIGJlIGFkZGVkLlxuICpcbiAqIEBwYXJhbSBlbnRyaWVzIEFycmF5IG9mIGVudHJpZXMsIHdoZXJlIGVhY2ggZW50cnkgaXMgYW4gYXJyYXkgb2YgYFtrZXksIHZhbHVlXWAuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gc2V0TWFueShlbnRyaWVzLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4gc3RvcmUucHV0KGVudHJ5WzFdLCBlbnRyeVswXSkpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG4vKipcbiAqIEdldCBtdWx0aXBsZSB2YWx1ZXMgYnkgdGhlaXIga2V5c1xuICpcbiAqIEBwYXJhbSBrZXlzXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFueShrZXlzLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4gUHJvbWlzZS5hbGwoa2V5cy5tYXAoKGtleSkgPT4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXQoa2V5KSkpKSk7XG59XG4vKipcbiAqIFVwZGF0ZSBhIHZhbHVlLiBUaGlzIGxldHMgeW91IHNlZSB0aGUgb2xkIHZhbHVlIGFuZCB1cGRhdGUgaXQgYXMgYW4gYXRvbWljIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gdXBkYXRlciBBIGNhbGxiYWNrIHRoYXQgdGFrZXMgdGhlIG9sZCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiB1cGRhdGUoa2V5LCB1cGRhdGVyLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IFxuICAgIC8vIE5lZWQgdG8gY3JlYXRlIHRoZSBwcm9taXNlIG1hbnVhbGx5LlxuICAgIC8vIElmIEkgdHJ5IHRvIGNoYWluIHByb21pc2VzLCB0aGUgdHJhbnNhY3Rpb24gY2xvc2VzIGluIGJyb3dzZXJzXG4gICAgLy8gdGhhdCB1c2UgYSBwcm9taXNlIHBvbHlmaWxsIChJRTEwLzExKS5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHN0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHV0KHVwZGF0ZXIodGhpcy5yZXN1bHQpLCBrZXkpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKTtcbn1cbi8qKlxuICogRGVsZXRlIGEgcGFydGljdWxhciBrZXkgZnJvbSB0aGUgc3RvcmUuXG4gKlxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGRlbChrZXksIGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWR3cml0ZScsIChzdG9yZSkgPT4ge1xuICAgICAgICBzdG9yZS5kZWxldGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBEZWxldGUgbXVsdGlwbGUga2V5cyBhdCBvbmNlLlxuICpcbiAqIEBwYXJhbSBrZXlzIExpc3Qgb2Yga2V5cyB0byBkZWxldGUuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZGVsTWFueShrZXlzLCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHN0b3JlLmRlbGV0ZShrZXkpKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBDbGVhciBhbGwgdmFsdWVzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gY2xlYXIoY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIHN0b3JlLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGVhY2hDdXJzb3Ioc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgc3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlc3VsdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5yZXN1bHQpO1xuICAgICAgICB0aGlzLnJlc3VsdC5jb250aW51ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xufVxuLyoqXG4gKiBHZXQgYWxsIGtleXMgaW4gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBrZXlzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWRvbmx5JywgKHN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGlmIChzdG9yZS5nZXRBbGxLZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXRBbGxLZXlzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBlYWNoQ3Vyc29yKHN0b3JlLCAoY3Vyc29yKSA9PiBpdGVtcy5wdXNoKGN1cnNvci5rZXkpKS50aGVuKCgpID0+IGl0ZW1zKTtcbiAgICB9KTtcbn1cbi8qKlxuICogR2V0IGFsbCB2YWx1ZXMgaW4gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiB2YWx1ZXMoY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IHtcbiAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaWYgKHN0b3JlLmdldEFsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0QWxsKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBlYWNoQ3Vyc29yKHN0b3JlLCAoY3Vyc29yKSA9PiBpdGVtcy5wdXNoKGN1cnNvci52YWx1ZSkpLnRoZW4oKCkgPT4gaXRlbXMpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZXQgYWxsIGVudHJpZXMgaW4gdGhlIHN0b3JlLiBFYWNoIGVudHJ5IGlzIGFuIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBlbnRyaWVzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWRvbmx5JywgKHN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIC8vIChhbHRob3VnaCwgaG9wZWZ1bGx5IHdlJ2xsIGdldCBhIHNpbXBsZXIgcGF0aCBzb21lIGRheSlcbiAgICAgICAgaWYgKHN0b3JlLmdldEFsbCAmJiBzdG9yZS5nZXRBbGxLZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0QWxsS2V5cygpKSxcbiAgICAgICAgICAgICAgICBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLmdldEFsbCgpKSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtrZXlzLCB2YWx1ZXNdKSA9PiBrZXlzLm1hcCgoa2V5LCBpKSA9PiBba2V5LCB2YWx1ZXNbaV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4gZWFjaEN1cnNvcihzdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChbY3Vyc29yLmtleSwgY3Vyc29yLnZhbHVlXSkpLnRoZW4oKCkgPT4gaXRlbXMpKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgY2xlYXIsIGNyZWF0ZVN0b3JlLCBkZWwsIGRlbE1hbnksIGVudHJpZXMsIGdldCwgZ2V0TWFueSwga2V5cywgcHJvbWlzaWZ5UmVxdWVzdCwgc2V0LCBzZXRNYW55LCB1cGRhdGUsIHZhbHVlcyB9O1xuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBpZGIgZnJvbSAnaWRiLWtleXZhbCc7XG5cbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IF8gfSBmcm9tICcuL2kxOG4nO1xuXG5leHBvcnQgZnVuY3Rpb24gcmFkaW9MaXN0KHNldHRpbmdzOiBTZXR0aW5nczxzdHJpbmc+LCBuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sIG9uY2hhbmdlOiAoZXZ0OiBFdmVudCwga2V5OiBzdHJpbmcpID0+IHZvaWQpOiBWTm9kZVtdIHtcbiAgICBjb25zdCByZXN1bHQ6IFZOb2RlW10gPSBbXTtcbiAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gbmFtZSArIFwiLVwiICsga2V5O1xuICAgICAgICByZXN1bHQucHVzaChoKGBpbnB1dCMke2lkfWAsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6IG5hbWUsIHR5cGU6IFwicmFkaW9cIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgYXR0cnM6IHsgY2hlY2tlZDogc2V0dGluZ3MudmFsdWUgPT09IGtleSB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiBldnQgPT4gb25jaGFuZ2UoZXZ0LCBrZXkpIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmVzdWx0LnB1c2goaCgnbGFiZWwnLCB7IGF0dHJzOiB7IGZvcjogaWQgfSB9LCBvcHRpb25zW2tleV0pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2xpZGVyKHNldHRpbmdzOiBTZXR0aW5nczxudW1iZXI+LCBuYW1lOiBzdHJpbmcsIG1pbiA9IDAsIG1heCA9IDEwMCwgc3RlcCA9IDEsIHRleHQ6IHN0cmluZykge1xuICAgIGNvbnN0IGlkID0gbmFtZTtcbiAgICByZXR1cm4gW1xuICAgICAgICBoKGBpbnB1dCMke2lkfS5zbGlkZXJgLCB7XG4gICAgICAgICAgICBwcm9wczogeyBuYW1lOiBuYW1lLCB0eXBlOiBcInJhbmdlXCIsIG1pbjogbWluLCBtYXg6IG1heCwgc3RlcDogc3RlcCwgdmFsdWU6IHNldHRpbmdzLnZhbHVlIH0sXG4gICAgICAgICAgICBvbjogeyBpbnB1dDogZSA9PiBzZXR0aW5ncy52YWx1ZSA9IE51bWJlcigoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiBpZCB9IH0sIHRleHQpLFxuICAgIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja2JveChzZXR0aW5nczogU2V0dGluZ3M8Ym9vbGVhbj4sIG5hbWU6IHN0cmluZywgdGV4dDogc3RyaW5nKSB7XG4gICAgY29uc3QgaWQgPSBuYW1lO1xuICAgIHJldHVybiBbXG4gICAgICAgIGgoYGlucHV0IyR7aWR9YCwge1xuICAgICAgICAgICAgcHJvcHM6IHsgbmFtZTogbmFtZSwgdHlwZTogXCJjaGVja2JveFwiIH0sXG4gICAgICAgICAgICBhdHRyczogeyBjaGVja2VkOiBzZXR0aW5ncy52YWx1ZSB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiBldnQgPT4gc2V0dGluZ3MudmFsdWUgPSAoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiBpZCB9IH0sIHRleHQpLFxuICAgIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBubnVlRmlsZShzZXR0aW5nczogU2V0dGluZ3M8c3RyaW5nPiwgbmFtZTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHZhcmlhbnQ6IHN0cmluZykge1xuICAgIGNvbnN0IGlkID0gbmFtZTtcbiAgICByZXR1cm4gW1xuICAgICAgICBoKGBpbnB1dCMke2lkfWAsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6IG5hbWUsIHR5cGU6IFwiZmlsZVwiLCBhY2NlcHQ6ICcqLm5udWUnLCB0aXRsZTogXygnUGFnZSByZWxvYWQgcmVxdWlyZWQgYWZ0ZXIgY2hhbmdlJykgfSxcbiAgICAgICAgICAgIG9uOiB7IGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzO1xuICAgICAgICAgICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZXNbMF0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlTm51ZUZpbGUoZmlsZU5hbWUsIHZhcmlhbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZWxlY3RlZCBmaWxlOlwiLCBmaWxlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYi5nZXQoYCR7dmFyaWFudH0tLW5udWUtZmlsZWApLnRoZW4oKG5udWVmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5udWVmaWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgdGltZSAubm51ZSBmaWxlIHNlbGVjdGlvbiBldmVyIGZvciB0aGlzIHZhcmlhbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU5udWVGaWxlVG9JZGIoc2V0dGluZ3MsIHZhcmlhbnQsIGZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm51ZWZpbGUgPT09IGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YXJpYW50LCAnaXMgYWxyZWFkeSBpbiBpZGIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgb2xkIGZpbGUgbmFtZSB2ZXJzaW9uIGluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkYi5kZWwoYCR7dmFyaWFudH0tLW5udWUtZmlsZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGlkYiB3aXRoIG5ldyAubm51ZSBmaWxlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU5udWVGaWxlVG9JZGIoc2V0dGluZ3MsIHZhcmlhbnQsIGZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX0sXG4gICAgICAgIH0pLFxuICAgICAgICBoKCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiBpZCB9IH0sIHRleHQpLFxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHNhdmVObnVlRmlsZVRvSWRiIChzZXR0aW5nczogU2V0dGluZ3M8c3RyaW5nPiwgdmFyaWFudDogc3RyaW5nLCBmaWxlOiBGaWxlKSB7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlLm5hbWU7XG4gICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWRiLnNldChgJHt2YXJpYW50fS0tbm51ZS1kYXRhYCwgZXZlbnQudGFyZ2V0IS5yZXN1bHQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWRiLnNldChgJHt2YXJpYW50fS0tbm51ZS1maWxlYCwgZmlsZU5hbWUpXG4gICAgICAgICAgICAgICAgLnRoZW4oKG5udWVmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnZhbHVlID0gZmlsZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke25udWVmaWxlfSBzYXZlZCFgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGFsZXJ0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lQ29udHJvbFN0cihtaW51dGVzOiBudW1iZXIgfCBzdHJpbmcsIGluY3JlbWVudCA9IDAsIGJ5b3lvbWlQZXJpb2QgPSAwKTogc3RyaW5nIHtcbiAgICBtaW51dGVzID0gTnVtYmVyKG1pbnV0ZXMpO1xuICAgIGJ5b3lvbWlQZXJpb2QgPSBOdW1iZXIoYnlveW9taVBlcmlvZClcbiAgICBzd2l0Y2ggKG1pbnV0ZXMpIHtcbiAgICAgICAgY2FzZSAxIC8gNDpcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBcIlx1MDBCQ1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMSAvIDI6XG4gICAgICAgICAgICBtaW51dGVzID0gXCJcdTAwQkRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyA0OlxuICAgICAgICAgICAgbWludXRlcyA9IFwiXHUwMEJFXCJcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWludXRlcyA9IFN0cmluZyhtaW51dGVzKTtcbiAgICB9XG4gICAgc3dpdGNoIChieW95b21pUGVyaW9kKSB7XG4gICAgICAgIGNhc2UgMCA6IHJldHVybiBgJHttaW51dGVzfSske2luY3JlbWVudH1gO1xuICAgICAgICBjYXNlIDEgOiByZXR1cm4gYCR7bWludXRlc30rJHtpbmNyZW1lbnR9KGIpYDtcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIGAke21pbnV0ZXN9KyR7YnlveW9taVBlcmlvZH1cdTAwRDcke2luY3JlbWVudH0oYilgO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNwaW5uZXIoKTogVk5vZGUge1xuICAgIHJldHVybiBoKCdkaXYjbG9hZGVyJywgW1xuICAgICAgICBoKCdzdmcnLCB7IGF0dHJzOiB7IHZpZXdCb3g6ICcwIDAgNjcuODEgNTcuMDgnIH0gfSwgW1xuICAgICAgICAgICAgaCgnZycsIFsgXG4gICAgICAgICAgICAgICAgaCgncGF0aC5zcGlubmVyJywgeyBhdHRyczogeyBkOiAnTTcsMTNhLjczLjczLDAsMCwwLC44Ny4yMywxNC4yLDE0LjIsMCwwLDAsMi42Ny0xLjQ1LDIuMzksMi4zOSwwLDAsMCwxLjA2LTEuMzdjLjE2LTEuNS0xLjg0LTEuMzQtMS0yczIuMzMtMS41LDIuNjYsMC0uODUsNC0zLjA4LDUuMmMwLDAtMy44OSwyLjMtNS41NCwzLjU5YTE0LjQ4LDE0LjQ4LDAsMCwwLTMuMjksMTVjMi45MSw4LjI1LDguNDEsMTAuNDYsMTAuNTQsMTEuMjFTNS44MSw1My44OSw1LjIsNTQuNzdjLS40Mi42LS4zMS43NSwwLDEuMTdzMS4xNywxLDEuNjkuNDEsMTAuNDQtNiwxMi40NC0xMCw0LTgsNS43OS04LjA4LDIuNzksMS4wOCwxLjg3LDNhMTUuNDYsMTUuNDYsMCwwLDEtMyw0LjU0Yy0uNzUuNTksMi4xNSwxLjcxLDMuMzEuMzRzNS02LjU5LDYuMTUtMTAuNzUsMS43OS01LjMsMS4yNS04LjcxLTEuMjMtNS42Ny0uODgtNy40Niw1Ljg4LTguOTIsNy42Ny05Ljg4LTQuNjYsNi44NC01LjI1LDkuMTMtLjUsNCwuMTcsNy4xMi4xNyw2LjIxLTEuNDYsMTAuMjEtMy43MSw3LTMsOS4yOSwyLjcxLDMuNDIsMy42NywzLjM0LDkuMzMtLjg0LDEyLjE3LTIsMTUuNDItNi43NiwxOC43NS0xNS4yNVM1OS44MSwxMS4yNCw1Nyw4LjgxQzUzLjgzLDYsNDIuMzctMy4wNiwzMi4xNiwyUzE3LjI2LDE5LjkzLDE2LjcsMjJzLTIsNS4yMy0zLjc5LDUuNDJjLTIsLjIxLTMuNzUtLjY3LTQuMjktMS44YTMuNDcsMy40NywwLDAsMSwxLTQuNUMxMS41MywxOS44MSwxNiwxNi43NywxNy4yOCwxNXMzLjIxLTQuMDgsMS43OS04LjUtNi43NS0zLjg4LTYuNzUtMy44OFM3LjE4LDMuMTIsNiw1LjI3YTQuNTksNC41OSwwLDAsMC0uNDIsNC41QTEzLjc0LDEzLjc0LDAsMCwwLDcsMTNaJyB9IH0pLFxuICAgICAgICAgICAgICAgIGgoJ2NpcmNsZS5zcGlubmVyJywgeyBhdHRyczogeyBjeDogJzI1LjAzJywgY3k6ICcyMycsIHI6ICczLjA3JyB9IH0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIF0pLFxuICAgIF0pO1xufVxuXG5mdW5jdGlvbiBwb3NzaWJsZU5udWVGaWxlKGZpbGVOYW1lOiBzdHJpbmcsIHZhcmlhbnQ6IHN0cmluZykge1xuICAgIGxldCBwb3NzaWJsZTogYm9vbGVhbjtcbiAgICBsZXQgcHJlZml4OiBzdHJpbmc7XG5cbiAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlICdjaGVzcycgOlxuICAgIGNhc2UgJ3BsYWNlbWVudCcgOlxuICAgICAgICBwcmVmaXggPSAnbm4nO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlICdjYW1ib2RpYW4nIDpcbiAgICAgICAgcHJlZml4ID0gJ21ha3J1ayc7XG4gICAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHByZWZpeCA9IHZhcmlhbnQ7XG4gICAgfVxuXG4gICAgcG9zc2libGUgPSBmaWxlTmFtZS5zdGFydHNXaXRoKGAke3ByZWZpeH0tYCk7XG4gICAgaWYgKCFwb3NzaWJsZSkge1xuICAgICAgICBhbGVydChgLm5udWUgZmlsZSBuYW1lIHJlcXVpcmVkIHRvIHN0YXJ0IHdpdGggJHtwcmVmaXh9LWApO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGU7XG59XG4iLCAiaW1wb3J0IHsgaCwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XG5cbmltcG9ydCBnZXR0ZXh0IGZyb20gJ2dldHRleHQuanMnO1xuXG5pbXBvcnQgeyBTdHJpbmdTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgcmFkaW9MaXN0IH0gZnJvbSAnLi92aWV3JztcblxuZXhwb3J0IGNvbnN0IGkxOG4gPSBnZXR0ZXh0KCk7XG5leHBvcnQgZnVuY3Rpb24gXyhtc2dpZDogc3RyaW5nLCAuLi52YXJzOiBhbnkpIHsgcmV0dXJuIGkxOG4uZ2V0dGV4dChtc2dpZCwgdmFycyk7IH1cbmV4cG9ydCBmdW5jdGlvbiBuZ2V0dGV4dChtc2dpZDogc3RyaW5nLCBwbHVyYWw6IHN0cmluZywgLi4udmFyczogYW55KSB7IHJldHVybiBpMThuLm5nZXR0ZXh0KG1zZ2lkLCBwbHVyYWwsIHZhcnMpOyB9XG5leHBvcnQgZnVuY3Rpb24gcGdldHRleHQobXNnY3R4dDogc3RyaW5nLCBtc2dpZDogc3RyaW5nLCAuLi52YXJzOiBhbnkpIHsgcmV0dXJuIGkxOG4ucGdldHRleHQobXNnY3R4dCwgbXNnaWQsIHZhcnMpOyB9XG5cbmV4cG9ydCBjb25zdCBMQU5HVUFHRVMgPSB7XG4gICAgZW46IFwiRW5nbGlzaFwiLFxuICAgIGRlOiBcIkRldXRzY2hcIixcbiAgICBlczogXCJFc3BhXHUwMEYxb2xcIixcbiAgICBmcjogXCJGcmFuXHUwMEU3YWlzXCIsXG4gICAgZ2xfRVM6IFwiR2FsZWdvXCIsXG4gICAgaHU6IFwiTWFneWFyXCIsXG4gICAgaXQ6IFwiSXRhbGlhbm9cIixcbiAgICBqYTogXCJcdTY1RTVcdTY3MkNcdThBOUVcIixcbiAgICBrbzogXCJcdUQ1NUNcdUFENkRcdUM1QjRcIixcbiAgICBubDogXCJOZWRlcmxhbmRzXCIsXG4gICAgcGw6IFwiUG9sc2tpZVwiLFxuICAgIHB0OiBcIlBvcnR1Z3VcdTAwRUFzXCIsXG4gICAgcnU6IFwiUFx1MDQ0M1x1MDQ0MVx1MDQ0MVx1MDQzQVx1MDQzOFx1MDQzOVwiLFxuICAgIHRoOiBcIlx1MEU0NFx1MEUxN1x1MEUyMlwiLFxuICAgIHRyOiBcIlRcdTAwRkNya1x1MDBFN2VcIixcbiAgICB6aF9DTjogXCJcdTdCODBcdTRGNTNcdTRFMkRcdTY1ODdcIixcbiAgICB6aF9UVzogXCJcdTdFNDFcdTlBRDRcdTRFMkRcdTY1ODdcIixcbn07XG5cbmNvbnN0IExBTkdVQUdFVEVYVDoge1trZXk6c3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgICBlbjogXCJMYW5ndWFnZVwiLFxuICAgIGRlOiBcIlNwcmFjaGVcIixcbiAgICBlczogXCJJZGlvbWFcIixcbiAgICBmcjogXCJMYW5ndWVcIixcbiAgICBnbF9FUzogXCJMaW5ndWFcIixcbiAgICBodTogXCJOeWVsdlwiLFxuICAgIGl0OiBcIkxpbmd1YVwiLFxuICAgIGphOiBcIlx1OEEwMFx1OEE5RVwiLFxuICAgIGtvOiBcIlx1QzVCOFx1QzVCNFwiLFxuICAgIG5sOiBcIlRhYWxcIixcbiAgICBwbDogXCJKXHUwMTE5enlrIFwiLFxuICAgIHB0OiBcIkxpbmd1YVwiLFxuICAgIHJ1OiBcIlx1MDQyRlx1MDQzN1x1MDQ0Qlx1MDQzQVwiLFxuICAgIHRoOiBcIlx1MEUyMFx1MEUzMlx1MEUyOVx1MEUzMlwiLFxuICAgIHRyOiBcIkRpbFwiLFxuICAgIHpoX0NOOiBcIlx1OEJFRFx1OEEwMFwiLFxuICAgIHpoX1RXOiBcIlx1OEE5RVx1OEEwMFwiLFxufTtcblxuY29uc3QgcHJlZmVycmVkTGFuZyA9IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2Uuc2xpY2UoMCwgMik7XG5leHBvcnQgY29uc3QgdHJhbnNsYXRlZExhbmd1YWdlID0gTEFOR1VBR0VURVhUW3ByZWZlcnJlZExhbmddID8/ICdMYW5ndWFnZSc7XG5cbi8vIERvIG5vdCB1c2Vcbi8vIFRoZXNlIGxpc3RzIGFyZSBvbmx5IGhlcmUgdG8gbWFyayB0aGVzZSB0ZXh0cyB0cmFuc2xhdGFibGVcbi8vIFVzZSB0aGUgcmVndWxhciB0cmFuc2xhdGUgZnVuY3Rpb25zIGlmIHRoZXNlIHdvcmRzIGFyZSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWVcbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVkQ29sb3JOYW1lcyA9IFtcbiAgICBfKFwiV2hpdGVcIiksIF8oXCJCbGFja1wiKSwgXyhcIlJlZFwiKSxcbiAgICBfKFwiQmx1ZVwiKSwgXyhcIkdvbGRcIiksIF8oXCJQaW5rXCIpLFxuICAgIF8oXCJHcmVlblwiKSxcbl07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVkVmFyaWFudERpc3BsYXlOYW1lcyA9IFtcbiAgICBfKFwiY2hlc3NcIiksIF8oXCJjcmF6eWhvdXNlXCIpLCBfKFwicGxhY2VtZW50XCIpLCBfKFwiYXRvbWljXCIpLFxuXG4gICAgXyhcIm1ha3J1a1wiKSwgXyhcIm1ha3BvbmdcIiksIF8oXCJvdWsgY2hha3RyYW5nXCIpLCBfKFwic2l0dHV5aW5cIiksIF8oXCJhc2VhblwiKSxcblxuICAgIF8oXCJzaG9naVwiKSwgXyhcIm1pbmlzaG9naVwiKSwgXyhcImt5b3RvIHNob2dpXCIpLFxuICAgIF8oXCJkb2J1dHN1XCIpLCBfKFwiZ29yb2dvcm9cIiksIF8oXCJnb3JvZ29ybytcIiksIF8oXCJ0b3JpIHNob2dpXCIpLFxuXG4gICAgXyhcInhpYW5ncWlcIiksIF8oXCJtYW5jaHVcIiksIF8oXCJqYW5nZ2lcIiksIF8oXCJtaW5peGlhbmdxaVwiKSxcblxuICAgIF8oXCJjYXBhYmxhbmNhXCIpLCBfKFwiY2FwYWhvdXNlXCIpLCBfKFwicy1jaGVzc1wiKSwgXyhcInMtaG91c2VcIiksXG4gICAgXyhcImdyYW5kXCIpLCBfKFwiZ3JhbmRob3VzZVwiKSwgXyhcInNoYWtvXCIpLCBfKFwic2hvZ3VuXCIpLCBfKFwiaG9wcGVsLXBvcHBlbFwiKSxcblxuICAgIF8oXCJvcmRhXCIpLCBfKFwic3lub2NoZXNzXCIpLCBfKFwic2hpbm9iaVwiKSwgXyhcImVtcGlyZVwiKSwgXyhcIm9yZGEgbWlycm9yXCIpLCBfKFwiY2hha1wiKSwgXyhcImNoZW5uaXNcIiksXG5dO1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlZEN1c3RvbVN0YXJ0UG9zaXRpb25zID0gW1xuICAgIF8oJ1Bhd25zUHVzaGVkJyksIF8oJ1Bhd25zUGFzc2VkJyksIF8oJ1Vwc2lkZURvd24nKSwgXygnVGhlYmFuJyksIF8oJ05vIGNhc3RsZScpLFxuXG4gICAgXygnTGFuY2UgSEMnKSwgXygnQmlzaG9wIEhDJyksIF8oJ1Jvb2sgSEMnKSwgXygnUm9vaytMYW5jZSBIQycpLCBfKCcyLVBpZWNlIEhDJyksIF8oJzQtUGllY2UgSEMnKSwgXygnNi1QaWVjZSBIQycpLCBfKCc4LVBpZWNlIEhDJyksIF8oJzktUGllY2UgSEMnKSwgXygnMTAtUGllY2UgSEMnKSxcblxuICAgIF8oJ0dvcm9nb3JvIFBsdXMgTitMJyksIF8oJ09yaWdpbmFsIChObyBOK0wpJyksXG5cbiAgICBfKCdMZWZ0IFF1YWlsIEhDJyksIF8oJ0ZhbGNvbiBIQycpLCBfKCdGYWxjb24gKyBMZWZ0IFF1YWlsIEhDJyksIF8oJ0ZhbGNvbiArIEJvdGggUXVhaWxzIEhDJyksXG5cbiAgICBfKCdCaXJkJyksIF8oJ0NhcnJlcmEnKSwgXygnR290aGljJyksIF8oJ0VtYmFzc3knKSwgXygnQ29uc2VydmF0aXZlJyksXG5dO1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlZFRvb2x0aXBzID0gW1xuICAgIF8oXCJDaGVzcywgdW5tb2RpZmllZCwgYXMgaXQncyBwbGF5ZWQgYnkgRklERSBzdGFuZGFyZHMuXCIpLFxuICAgIF8oXCJUYWtlIGNhcHR1cmVkIHBpZWNlcyBhbmQgZHJvcCB0aGVtIGJhY2sgb24gdG8gdGhlIGJvYXJkIGFzIHlvdXIgb3duLlwiKSxcbiAgICBfKFwiQ2hvb3NlIHdoZXJlIHlvdXIgcGllY2VzIHN0YXJ0LlwiKSxcbiAgICBfKFwiUGllY2VzIGV4cGxvZGUgdXBvbiBjYXB0dXJlLlwiKSxcbiAgICBfKFwiVGhlIGR1Y2sgbXVzdCBiZSBtb3ZlZCB0byBhIG5ldyBzcXVhcmUgYWZ0ZXIgZXZlcnkgdHVybi5cIiksXG4gICAgXyhcIlRoYWkgQ2hlc3MuIEEgZ2FtZSBjbG9zZWx5IHJlc2VtYmxpbmcgdGhlIG9yaWdpbmFsIENoYXR1cmFuZ2EuIFNpbWlsYXIgdG8gQ2hlc3MgYnV0IHdpdGggYSBkaWZmZXJlbnQgcXVlZW4gYW5kIGJpc2hvcC5cIiksXG4gICAgXyhcIk1ha3J1ayB2YXJpYW50IHdoZXJlIGtpbmdzIGNhbm5vdCBtb3ZlIHRvIGVzY2FwZSBvdXQgb2YgY2hlY2suXCIpLFxuICAgIF8oXCJDYW1ib2RpYW4gQ2hlc3MuIE1ha3J1ayB3aXRoIGEgZmV3IGFkZGl0aW9uYWwgb3BlbmluZyBhYmlsaXRpZXMuXCIpLFxuICAgIF8oXCJCdXJtZXNlIENoZXNzLiBTaW1pbGFyIHRvIE1ha3J1aywgYnV0IHBpZWNlcyBhcmUgcGxhY2VkIGF0IHRoZSBzdGFydCBvZiB0aGUgbWF0Y2guXCIpLFxuICAgIF8oXCJNYWtydWsgdXNpbmcgdGhlIGJvYXJkL3BpZWNlcyBmcm9tIEludGVybmF0aW9uYWwgQ2hlc3MgYXMgd2VsbCBhcyBwYXduIHByb21vdGlvbiBydWxlcy5cIiksXG4gICAgXyhcIkphcGFuZXNlIENoZXNzLCBhbmQgdGhlIHN0YW5kYXJkIDl4OSB2ZXJzaW9uIHBsYXllZCB0b2RheSB3aXRoIGRyb3BzIGFuZCBwcm9tb3Rpb25zLiBcIiksXG4gICAgXyhcIjV4NSBTaG9naSBmb3IgbW9yZSBjb21wYWN0IGFuZCBmYXN0ZXIgZ2FtZXMuIFRoZXJlIGFyZSBubyBrbmlnaHRzIG9yIGxhbmNlcy5cIiksXG4gICAgXyhcIkEgd2lsZCBTaG9naSB2YXJpYW50IG9uIGEgNXg1IGJvYXJkIHdoZXJlIHBpZWNlcyBmbGlwIGludG8gYSBkaWZmZXJlbnQgcGllY2UgYWZ0ZXIgZWFjaCBtb3ZlLlwiKSxcbiAgICBfKFwiM3g0IGdhbWUgd2l0aCBjdXRlIGFuaW1hbHMsIGRlc2lnbmVkIHRvIHRlYWNoIGNoaWxkcmVuIGhvdyB0byBwbGF5IFNob2dpLlwiKSxcbiAgICBfKFwiNXg2IFNob2dpIGRlc2lnbmVkIHRvIGludHJvZHVjZSB0YWN0aWNzIHdpdGggdGhlIGdlbmVyYWxzLlwiKSxcbiAgICBfKFwiQSBjb25mcm9udGF0aW9uYWwgN3g3IHZhcmlhbnQgd2l0aCB1bmlxdWUgcGllY2VzIGVhY2ggbmFtZWQgYWZ0ZXIgZGlmZmVyZW50IGJpcmRzLlwiKSxcbiAgICBfKFwiQ2hpbmVzZSBDaGVzcywgb25lIG9mIHRoZSBvbGRlc3QgYW5kIG1vc3QgcGxheWVkIGJvYXJkIGdhbWVzIGluIHRoZSB3b3JsZC5cIiksXG4gICAgXyhcIlhpYW5ncWkgdmFyaWFudCB3aGVyZSBvbmUgc2lkZSBoYXMgYSBjaGFyaW90IHRoYXQgY2FuIGFsc28gbW92ZSBhcyBhIGNhbm5vbiBvciBob3JzZS5cIiksXG4gICAgXyhcIktvcmVhbiBDaGVzcywgc2ltaWxhciB0byBYaWFuZ3FpIGJ1dCBwbGF5cyBtdWNoIGRpZmZlcmVudGx5LiBUb3VybmFtZW50IHJ1bGVzIGFyZSB1c2VkLlwiKSxcbiAgICBfKFwiQ29tcGFjdCB2ZXJzaW9uIG9mIFhpYW5ncWkgcGxheWVkIG9uIGEgN3g3IGJvYXJkIHdpdGhvdXQgYSByaXZlci5cIiksXG4gICAgXyhcIlBsYXkgd2l0aCB0aGUgaHlicmlkIHBpZWNlcywgYXJjaGJpc2hvcCAoQitOKSBhbmQgY2hhbmNlbGxvciAoUitOKSwgb24gYSAxMHg4IGJvYXJkLlwiKSxcbiAgICBfKFwiQ2FwYWJsYW5jYSB3aXRoIENyYXp5aG91c2UgZHJvcCBydWxlcy5cIiksXG4gICAgXyhcIkh5YnJpZCBwaWVjZXMsIHRoZSBoYXdrIChCK04pIGFuZCBlbGVwaGFudCAoUitOKSwgY2FuIGVudGVyIHRoZSBib2FyZCBhZnRlciBtb3ZpbmcgYSBiYWNrIHJhbmsgcGllY2UuXCIpLFxuICAgIF8oXCJTLUNoZXNzIHdpdGggQ3Jhenlob3VzZSBkcm9wIHJ1bGVzLlwiKSxcbiAgICBfKFwiUGxheSB3aXRoIHRoZSBoeWJyaWQgcGllY2VzLCBhcmNoYmlzaG9wIChCK04pIGFuZCBjaGFuY2VsbG9yIChSK04pLCBvbiBhIGdyYW5kIDEweDEwIGJvYXJkLlwiKSxcbiAgICBfKFwiR3JhbmQgQ2hlc3Mgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgIF8oXCJJbnRyb2R1Y2VzIHRoZSBjYW5ub24gYW5kIGVsZXBoYW50IGZyb20gWGlhbmdxaSBpbnRvIGEgMTB4MTAgY2hlc3MgYm9hcmQuXCIpLFxuICAgIF8oXCJQaWVjZXMgcHJvbW90ZSBhbmQgY2FuIGJlIGRyb3BwZWQsIHNpbWlsYXIgdG8gU2hvZ2kuXCIpLFxuICAgIF8oXCJLbmlnaHRzIGNhcHR1cmUgYXMgYmlzaG9wczsgYmlzaG9wcyAgY2FwdHVyZSBhcyBrbmlnaHRzLlwiKSxcbiAgICBfKFwiQXN5bW1ldHJpYyB2YXJpYW50IHdoZXJlIG9uZSBhcm15IGhhcyBwaWVjZXMgdGhhdCBtb3ZlIGxpa2Uga25pZ2h0cyBidXQgY2FwdHVyZSBkaWZmZXJlbnRseS5cIiksXG4gICAgXyhcIkFzeW1tZXRyaWMgRWFzdCB2cy4gV2VzdCB2YXJpYW50IHdoaWNoIHBpdHMgdGhlIHdlc3Rlcm4gQ2hlc3MgYXJteSBhZ2FpbnN0IGEgWGlhbmdxaSBhbmQgSmFuZ2dpLXN0eWxlZCBhcm15LlwiKSxcbiAgICBfKFwiQXN5bW1ldHJpYyB2YXJpYW50IHdoaWNoIHBpdHMgdGhlIHdlc3Rlcm4gQ2hlc3MgYXJteSBhZ2FpbnN0IGEgZHJvcC1iYXNlZCwgU2hvZ2ktc3R5bGVkIGFybXkuXCIpLFxuICAgIF8oXCJBc3ltbWV0cmljIHZhcmlhbnQgd2hlcmUgb25lIGFybXkgaGFzIHBpZWNlcyB0aGF0IG1vdmUgbGlrZSBxdWVlbnMgYnV0IGNhcHR1cmUgYXMgdXN1YWwuXCIpLFxuICAgIF8oXCJPcmRhIENoZXNzIHZhcmlhbnQgd2l0aCB0d28gSG9yZGUgYXJtaWVzLiBUaGUgRmFsY29uIHJlcGxhY2VzIHRoZSBZdXJ0LlwiKSxcbiAgICBfKFwiTWF5YW4gY2hlc3MuIEluc3BpcmVkIGJ5IGN1bHR1cmFsIGVsZW1lbnRzIG9mIE1lc29hbWVyaWNhLlwiKSxcbiAgICBfKFwiUGllY2VzIGFsdGVybmF0ZSBiZXR3ZWVuIHR3byBmb3JtcyB3aXRoIGVhY2ggbW92ZS5cIiksXG4gICAgXyhcIkxpa2UgQ2FwYWJsYW5jYSBDaGVzcyBidXQgd2l0aCBHcmFuZCBzdGFydGluZyBzZXR1cC5cIiksXG4gICAgXyhcIkVtYmFzc3kgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgIF8oXCJMaWtlIENhcGFibGFuY2EgQ2hlc3MgYnV0IHdpdGggYSBkaWZmZXJlbnQgc3RhcnRpbmcgc2V0dXAuXCIpLFxuICAgIF8oXCJHb3RoaWMgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuXTtcblxuY2xhc3MgTGFuZ3VhZ2VTZXR0aW5ncyBleHRlbmRzIFN0cmluZ1NldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2xhbmcnLCAnZW4nKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIGNvbnN0IGxhbmdMaXN0ID0gcmFkaW9MaXN0KFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICdsYW5nJyxcbiAgICAgICAgICAgIExBTkdVQUdFUyxcbiAgICAgICAgICAgIChldnQsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBrZXk7XG4gICAgICAgICAgICAgICAgKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZm9ybSEuc3VibWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBoKCdkaXYjc2V0dGluZ3MtbGFuZycsIFtcbiAgICAgICAgICAgIGgoJ2Zvcm0ucmFkaW8tbGlzdCcsIHsgcHJvcHM6IHsgbWV0aG9kOiBcInBvc3RcIiwgYWN0aW9uOiBcIi90cmFuc2xhdGlvbi9zZWxlY3RcIiB9IH0sIGxhbmdMaXN0KSxcbiAgICAgICAgXSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgbGFuZ3VhZ2VTZXR0aW5ncyA9IG5ldyBMYW5ndWFnZVNldHRpbmdzKCk7XG4iLCAiaW1wb3J0IHsgcG9zMmtleSwgaW52UmFua3MsIHJvbGVPZiwgbGV0dGVyT2YsIGNoYW5nZU51bWJlciB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNvbnN0IGluaXRpYWw6IGNnLkZFTiA9ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWQoZmVuOiBjZy5GRU4sIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5Cb2FyZFN0YXRlIHtcbiAgY29uc3QgcGllY2VzUGFydCA9IGZlbi5zcGxpdCgnICcpWzBdO1xuICBjb25zdCBicmFja2V0SWR4ID0gcGllY2VzUGFydC5pbmRleE9mKCdbJyk7XG5cbiAgbGV0IGJvYXJkUGFydDogc3RyaW5nO1xuICBsZXQgcG9ja2V0UGFydDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBpZiAoYnJhY2tldElkeCA+IC0xKSB7XG4gICAgYm9hcmRQYXJ0ID0gcGllY2VzUGFydC5zbGljZSgwLCBicmFja2V0SWR4KTtcbiAgICBwb2NrZXRQYXJ0ID0gcGllY2VzUGFydC5zbGljZShicmFja2V0SWR4ICsgMSwgcGllY2VzUGFydC5pbmRleE9mKCddJykpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJhbmtzID0gcGllY2VzUGFydC5zcGxpdCgnLycpO1xuICAgIGJvYXJkUGFydCA9IHJhbmtzLnNsaWNlKDAsIGJkLmhlaWdodCkuam9pbignLycpO1xuICAgIC8vIEhhbmRsZSBcInBvY2tldCBhZnRlciBhbiBleHRyYSBzbGFzaFwiIGZvcm1hdFxuICAgIHBvY2tldFBhcnQgPSByYW5rcy5sZW5ndGggPiBiZC5oZWlnaHQgPyByYW5rc1tiZC5oZWlnaHRdIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwaWVjZXM6IHJlYWRCb2FyZChib2FyZFBhcnQpLFxuICAgIHBvY2tldHM6IHJlYWRQb2NrZXRzKHBvY2tldFBhcnQpLFxuICB9O1xufVxuXG5mdW5jdGlvbiByZWFkQm9hcmQoZmVuOiBjZy5GRU4pOiBjZy5QaWVjZXMge1xuICBpZiAoZmVuID09PSAnc3RhcnQnKSBmZW4gPSBpbml0aWFsO1xuXG4gIGNvbnN0IHBpZWNlczogY2cuUGllY2VzID0gbmV3IE1hcCgpO1xuICBsZXQgcm93ID0gZmVuLnNwbGl0KCcvJykubGVuZ3RoIC0gMTtcbiAgbGV0IGNvbCA9IDA7XG4gIGxldCBwcm9tb3RlZCA9IGZhbHNlO1xuICBsZXQgbnVtID0gMDtcblxuICBmb3IgKGNvbnN0IGMgb2YgZmVuKSB7XG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICByZXR1cm4gcGllY2VzO1xuICAgICAgY2FzZSAnLyc6XG4gICAgICAgIC0tcm93O1xuICAgICAgICBpZiAocm93IDwgMCkgcmV0dXJuIHBpZWNlcztcbiAgICAgICAgY29sID0gMDtcbiAgICAgICAgbnVtID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgcHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ34nOiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gcGllY2VzLmdldChwb3Mya2V5KFtjb2wgLSAxLCByb3ddKSk7XG4gICAgICAgIGlmIChwaWVjZSkgcGllY2UucHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgbmIgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmICg0OCA8PSBuYiAmJiBuYiA8IDU4KSB7XG4gICAgICAgICAgbnVtID0gMTAgKiBudW0gKyBuYiAtIDQ4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbCArPSBudW07XG4gICAgICAgICAgbnVtID0gMDtcbiAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBjLnRvTG93ZXJDYXNlKCkgYXMgY2cuTGV0dGVyO1xuICAgICAgICAgIGNvbnN0IHBpZWNlID0ge1xuICAgICAgICAgICAgcm9sZTogcm9sZU9mKGxldHRlciksXG4gICAgICAgICAgICBjb2xvcjogKGMgPT09IGxldHRlciA/ICdibGFjaycgOiAnd2hpdGUnKSBhcyBjZy5Db2xvcixcbiAgICAgICAgICB9IGFzIGNnLlBpZWNlO1xuICAgICAgICAgIGlmIChwcm9tb3RlZCkge1xuICAgICAgICAgICAgcGllY2Uucm9sZSA9ICgncCcgKyBwaWVjZS5yb2xlKSBhcyBjZy5Sb2xlO1xuICAgICAgICAgICAgcGllY2UucHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcHJvbW90ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGllY2VzLnNldChwb3Mya2V5KFtjb2wsIHJvd10pLCBwaWVjZSk7XG4gICAgICAgICAgKytjb2w7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBpZWNlcztcbn1cblxuZnVuY3Rpb24gcmVhZFBvY2tldHMocG9ja2V0U3RyOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBjZy5Qb2NrZXRzIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHBvY2tldFN0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgd2hpdGVQb2NrZXQgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgYmxhY2tQb2NrZXQgPSBuZXcgTWFwKCk7XG5cbiAgICBmb3IgKGNvbnN0IHAgb2YgcG9ja2V0U3RyKSB7XG4gICAgICBjb25zdCByb2xlID0gcm9sZU9mKHAgYXMgY2cuTGV0dGVyKTtcbiAgICAgIGlmICgvW0EtWl0vLnRlc3QocCkpIGNoYW5nZU51bWJlcih3aGl0ZVBvY2tldCwgcm9sZSwgMSk7XG4gICAgICBlbHNlIGlmICgvW2Etel0vLnRlc3QocCkpIGNoYW5nZU51bWJlcihibGFja1BvY2tldCwgcm9sZSwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdoaXRlOiB3aGl0ZVBvY2tldCxcbiAgICAgIGJsYWNrOiBibGFja1BvY2tldCxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlKGJvYXJkU3RhdGU6IGNnLkJvYXJkU3RhdGUsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5GRU4ge1xuICByZXR1cm4gd3JpdGVCb2FyZChib2FyZFN0YXRlLnBpZWNlcywgYmQpICsgd3JpdGVQb2NrZXRzKGJvYXJkU3RhdGUucG9ja2V0cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUJvYXJkKHBpZWNlczogY2cuUGllY2VzLCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuRkVOIHtcbiAgcmV0dXJuIGludlJhbmtzXG4gICAgLnNsaWNlKC1iZC5oZWlnaHQpXG4gICAgLm1hcCh5ID0+XG4gICAgICBjZy5maWxlc1xuICAgICAgICAuc2xpY2UoMCwgYmQud2lkdGgpXG4gICAgICAgIC5tYXAoeCA9PiB7XG4gICAgICAgICAgY29uc3QgcGllY2UgPSBwaWVjZXMuZ2V0KCh4ICsgeSkgYXMgY2cuS2V5KTtcbiAgICAgICAgICBpZiAocGllY2UpIHtcbiAgICAgICAgICAgIGxldCBwID0gbGV0dGVyT2YocGllY2Uucm9sZSwgcGllY2UuY29sb3IgPT09ICd3aGl0ZScpO1xuICAgICAgICAgICAgaWYgKHBpZWNlLnByb21vdGVkICYmIHAuY2hhckF0KDApICE9PSAnKycpIHAgKz0gJ34nO1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiAnMSc7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCcnKVxuICAgIClcbiAgICAuam9pbignLycpXG4gICAgLnJlcGxhY2UoLzF7Mix9L2csIHMgPT4gcy5sZW5ndGgudG9TdHJpbmcoKSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlUG9ja2V0cyhwb2NrZXRzOiBjZy5Qb2NrZXRzIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgaWYgKHBvY2tldHMpIHJldHVybiAnWycgKyB3cml0ZVBvY2tldChwb2NrZXRzLndoaXRlLCB0cnVlKSArIHdyaXRlUG9ja2V0KHBvY2tldHMuYmxhY2ssIGZhbHNlKSArICddJztcbiAgZWxzZSByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlUG9ja2V0KHBvY2tldDogY2cuUG9ja2V0LCBhc1doaXRlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgY29uc3QgbGV0dGVyczogc3RyaW5nW10gPSBbXTtcbiAgZm9yIChjb25zdCBbciwgbl0gb2YgcG9ja2V0LmVudHJpZXMoKSkgbGV0dGVycy5wdXNoKGxldHRlck9mKHIsIGFzV2hpdGUpLnJlcGVhdChuKSk7XG4gIHJldHVybiBsZXR0ZXJzLmpvaW4oJycpO1xufVxuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuaW1wb3J0IHsgcmVhZCBhcyBmZW5SZWFkIH0gZnJvbSAnY2hlc3Nncm91bmR4L2Zlbic7XG5cbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBWYXJpYW50IH0gZnJvbSAnLi92YXJpYW50cyc7XG5cbmV4cG9ydCB0eXBlIE1hdGVyaWFsRGlmZiA9IE1hcDxjZy5Sb2xlLCBudW1iZXI+O1xuZXhwb3J0IHR5cGUgRXF1aXZhbGVuY2UgPSBQYXJ0aWFsPFJlY29yZDxjZy5Sb2xlLCBjZy5Sb2xlPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGxoczogTWF0ZXJpYWxEaWZmLCByaHM6IE1hdGVyaWFsRGlmZik6IE1hdGVyaWFsRGlmZiB7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoWy4uLmxocy5rZXlzKCksIC4uLnJocy5rZXlzKCldKTtcbiAgICBjb25zdCByZXMgPSBuZXcgTWFwKClcbiAgICBmb3IgKGNvbnN0IHJvbGUgb2Yga2V5cylcbiAgICAgICAgcmVzLnNldChyb2xlLCAobGhzLmdldChyb2xlKSA/PyAwKSAtIChyaHMuZ2V0KHJvbGUpID8/IDApKTtcbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudFJvbGUocm9sZTogY2cuUm9sZSwgZXF1aXZhbGVuY2VzOiBFcXVpdmFsZW5jZSwgY2FwdHVyZVRvSGFuZDogYm9vbGVhbik6IGNnLlJvbGUge1xuICAgIGlmIChjYXB0dXJlVG9IYW5kKSB7XG4gICAgICAgIGlmIChyb2xlLmluZGV4T2YoJy0nKSA+IDEpXG4gICAgICAgICAgICByZXR1cm4gcm9sZS5zbGljZSgxKSBhcyBjZy5Sb2xlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocm9sZSBpbiBlcXVpdmFsZW5jZXMpXG4gICAgICAgICAgICByZXR1cm4gZXF1aXZhbGVuY2VzW3JvbGVdITtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGlmZihmZW46IHN0cmluZywgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zLCBlcXVpdmFsZW5jZXM6IEVxdWl2YWxlbmNlLCBjYXB0dXJlVG9IYW5kOiBib29sZWFuKTogTWF0ZXJpYWxEaWZmIHtcbiAgICBjb25zdCBtYXRlcmlhbERpZmYgOiBNYXRlcmlhbERpZmYgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgYm9hcmRTdGF0ZSA9IGZlblJlYWQoZmVuLCBkaW1lbnNpb25zKTtcblxuICAgIGZvciAoY29uc3QgW18sIHBpZWNlXSBvZiBib2FyZFN0YXRlLnBpZWNlcykge1xuICAgICAgICBjb25zdCByb2xlID0gZXF1aXZhbGVudFJvbGUocGllY2Uucm9sZSwgZXF1aXZhbGVuY2VzLCBjYXB0dXJlVG9IYW5kKTtcbiAgICAgICAgY29uc3QgbnVtID0gbWF0ZXJpYWxEaWZmLmdldChyb2xlKSA/PyAwO1xuICAgICAgICBtYXRlcmlhbERpZmYuc2V0KHJvbGUsIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJykgPyBudW0gLSAxIDogbnVtICsgMSk7XG4gICAgfVxuXG4gICAgaWYgKGJvYXJkU3RhdGUucG9ja2V0cykge1xuICAgICAgICBmb3IgKGNvbnN0IFtyLCBjXSBvZiBib2FyZFN0YXRlLnBvY2tldHMud2hpdGUuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCByb2xlID0gZXF1aXZhbGVudFJvbGUociwgZXF1aXZhbGVuY2VzLCBjYXB0dXJlVG9IYW5kKTtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IG1hdGVyaWFsRGlmZi5nZXQocm9sZSkgPz8gMDtcbiAgICAgICAgICAgIG1hdGVyaWFsRGlmZi5zZXQocm9sZSwgbnVtIC0gYyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbciwgY10gb2YgYm9hcmRTdGF0ZS5wb2NrZXRzLmJsYWNrLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IGVxdWl2YWxlbnRSb2xlKHIsIGVxdWl2YWxlbmNlcywgY2FwdHVyZVRvSGFuZCk7XG4gICAgICAgICAgICBjb25zdCBudW0gPSBtYXRlcmlhbERpZmYuZ2V0KHJvbGUpID8/IDA7XG4gICAgICAgICAgICBtYXRlcmlhbERpZmYuc2V0KHJvbGUsIG51bSArIGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRlcmlhbERpZmY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVNYXRlcmlhbERpZmYodmFyaWFudDogVmFyaWFudCwgZmVuPzogc3RyaW5nKTogTWF0ZXJpYWxEaWZmIHtcbiAgICByZXR1cm4gY2FsY3VsYXRlRGlmZihmZW4gPz8gdmFyaWFudC5zdGFydEZlbiwgdmFyaWFudC5ib2FyZC5kaW1lbnNpb25zLCB2YXJpYW50Lm1hdGVyaWFsLmVxdWl2YWxlbmNlcywgISF2YXJpYW50LnBvY2tldD8uY2FwdHVyZVRvSGFuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQaWVjZU51bWJlcih2YXJpYW50OiBWYXJpYW50LCBmZW4/OiBzdHJpbmcpOiBNYXRlcmlhbERpZmYge1xuICAgIGlmICghZmVuKSBmZW4gPSB2YXJpYW50LnN0YXJ0RmVuO1xuICAgIC8vIENhbGN1bGF0ZSBtYXRlcmlhbCBkaWZmZXJlbmNlIGFzIGlmIGFsbCBwaWVjZXMgd2VyZSBibGFja1xuICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBjb3VudGluZyB0aGUgbnVtYmVyIG9mIHBpZWNlcyBvbiB0aGUgYm9hcmRcbiAgICByZXR1cm4gY2FsY3VsYXRlTWF0ZXJpYWxEaWZmKHZhcmlhbnQsIGZlbi50b0xvd2VyQ2FzZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUdhbWVEaWZmKHZhcmlhbnQ6IFZhcmlhbnQsIGZlbjogc3RyaW5nKTogTWF0ZXJpYWxEaWZmIHtcbiAgICByZXR1cm4gZGlmZihjYWxjdWxhdGVNYXRlcmlhbERpZmYodmFyaWFudCwgZmVuKSwgdmFyaWFudC5tYXRlcmlhbC5pbml0aWFsRGlmZik7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudCh2YXJpYW50OiBWYXJpYW50LCBmZW46IHN0cmluZyk6IFtWTm9kZVtdLCBWTm9kZVtdXSB7XG4gICAgY29uc3QgaW1iYWxhbmNlID0gY2FsY3VsYXRlR2FtZURpZmYodmFyaWFudCwgZmVuKTtcbiAgICBjb25zdCB3aGl0ZUNvbnRlbnQ6IFZOb2RlW10gPSBbXTtcbiAgICBjb25zdCBibGFja0NvbnRlbnQ6IFZOb2RlW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgW3JvbGUsIG51bV0gb2YgaW1iYWxhbmNlKSB7XG4gICAgICAgIGlmIChudW0gPT09IDApIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gbnVtID4gMCA/IGJsYWNrQ29udGVudCA6IHdoaXRlQ29udGVudDtcbiAgICAgICAgY29uc3QgcGllY2VEaWZmID0gTWF0aC5hYnMobnVtKTtcbiAgICAgICAgY29uc3QgY3VycmVudERpdjogVk5vZGVbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpZWNlRGlmZjsgaSsrKVxuICAgICAgICBjdXJyZW50RGl2LnB1c2goaCgnbXBpZWNlLicgKyByb2xlKSk7XG4gICAgICAgIGNvbnRlbnQucHVzaChoKCdkaXYnLCBjdXJyZW50RGl2KSk7XG4gICAgfVxuICAgIHJldHVybiBbd2hpdGVDb250ZW50LCBibGFja0NvbnRlbnRdO1xufVxuXG5mdW5jdGlvbiBtYWtlTWF0ZXJpYWxWTm9kZSh2YXJpYW50OiBWYXJpYW50LCBwb3NpdGlvbjogJ3RvcCd8J2JvdHRvbScsIGNvbnRlbnQ6IFZOb2RlW10sIGRpc2FibGVkID0gZmFsc2UpOiBWTm9kZSB7XG4gICAgcmV0dXJuIGgoYGRpdi5tYXRlcmlhbC5tYXRlcmlhbC0ke3Bvc2l0aW9ufS4ke3ZhcmlhbnQucGllY2VGYW1pbHl9JHtkaXNhYmxlZCA/ICcuZGlzYWJsZWQnIDogJyd9YCwgY29udGVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNYXRlcmlhbCh2YXJpYW50OiBWYXJpYW50LCBmZW46IHN0cmluZywgdm1hdGVyaWFsVG9wOiBWTm9kZSB8IEhUTUxFbGVtZW50LCB2bWF0ZXJpYWxCb3R0b206IFZOb2RlIHwgSFRNTEVsZW1lbnQsIGZsaXA6IGJvb2xlYW4pOiBbVk5vZGUsIFZOb2RlXSB7XG4gICAgY29uc3QgW3doaXRlQ29udGVudCwgYmxhY2tDb250ZW50XSA9IGdlbmVyYXRlQ29udGVudCh2YXJpYW50LCBmZW4pO1xuICAgIHJldHVybiBbXG4gICAgICAgIHBhdGNoKHZtYXRlcmlhbFRvcCwgbWFrZU1hdGVyaWFsVk5vZGUodmFyaWFudCwgJ3RvcCcsIGZsaXAgPyB3aGl0ZUNvbnRlbnQgOiBibGFja0NvbnRlbnQpKSxcbiAgICAgICAgcGF0Y2godm1hdGVyaWFsQm90dG9tLCBtYWtlTWF0ZXJpYWxWTm9kZSh2YXJpYW50LCAnYm90dG9tJywgZmxpcCA/IGJsYWNrQ29udGVudCA6IHdoaXRlQ29udGVudCkpLFxuICAgIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU1hdGVyaWFsKHZhcmlhbnQ6IFZhcmlhbnQpOiBbVk5vZGUsIFZOb2RlXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbWFrZU1hdGVyaWFsVk5vZGUodmFyaWFudCwgJ3RvcCcsIFtdLCB0cnVlKSxcbiAgICAgICAgbWFrZU1hdGVyaWFsVk5vZGUodmFyaWFudCwgJ2JvdHRvbScsIFtdLCB0cnVlKSxcbiAgICBdO1xufVxuIiwgImltcG9ydCB7IGgsIEluc2VydEhvb2ssIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICdjaGVzc2dyb3VuZHgvdXRpbCc7XG5cbmltcG9ydCB7IEJvYXJkTWFya1R5cGUsIENvbG9yTmFtZSwgQ291bnRpbmdUeXBlLCBNYXRlcmlhbFBvaW50VHlwZSwgUGllY2VTb3VuZFR5cGUsIFByb21vdGlvblN1ZmZpeCwgUHJvbW90aW9uVHlwZSwgVGltZUNvbnRyb2xUeXBlIH0gZnJvbSAnLi9jaGVzcyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnLi9pMThuJztcbmltcG9ydCB7IGNhbGN1bGF0ZURpZmYsIEVxdWl2YWxlbmNlLCBNYXRlcmlhbERpZmYgfSBmcm9tICcuL21hdGVyaWFsJztcblxuZXhwb3J0IGludGVyZmFjZSBCb2FyZEZhbWlseSB7XG4gICAgcmVhZG9ubHkgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zO1xuICAgIHJlYWRvbmx5IGNnOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgYm9hcmRDU1M6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpZWNlRmFtaWx5IHtcbiAgICByZWFkb25seSBwaWVjZUNTUzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjb25zdCBCT0FSRF9GQU1JTElFUzogUmVjb3JkPHN0cmluZywgQm9hcmRGYW1pbHk+ID0ge1xuICAgIHN0YW5kYXJkOHg4OiB7IGRpbWVuc2lvbnM6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LCBjZzogXCJjZy01MTJcIiwgYm9hcmRDU1M6IFtcIjh4OGJyb3duLnN2Z1wiLCBcIjh4OGJsdWUuc3ZnXCIsIFwiOHg4Z3JlZW4uc3ZnXCIsIFwiOHg4bWFwbGUuanBnXCIsIFwiOHg4b2xpdmUuanBnXCIsIFwiOHg4c2FudGEucG5nXCIsIFwiOHg4d29vZDIuanBnXCIsIFwiOHg4d29vZDQuanBnXCIsIFwiOHg4aWMuc3ZnXCIsIFwiOHg4cHVycGxlLnN2Z1wiXSB9LFxuICAgIHN0YW5kYXJkMTB4ODogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiAxMCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTY0MFwiLCBib2FyZENTUzogW1wiMTB4OGJyb3duLnN2Z1wiLCBcIjEweDhibHVlLnN2Z1wiLCBcIjEweDhncmVlbi5zdmdcIiwgXCIxMHg4bWFwbGUuanBnXCIsIFwiMTB4OG9saXZlLmpwZ1wiXSB9LFxuICAgIHN0YW5kYXJkMTB4MTA6IHsgZGltZW5zaW9uczogeyB3aWR0aDogMTAsIGhlaWdodDogMTAgfSwgY2c6IFwiY2ctNjQwLTY0MFwiLCBib2FyZENTUzogW1wiMTB4MTBicm93bi5zdmdcIiwgXCIxMHgxMGJsdWUuc3ZnXCIsIFwiMTB4MTBncmVlbi5zdmdcIiwgXCIxMHgxMG1hcGxlLmpwZ1wiLCBcIjEweDEwb2xpdmUuanBnXCJdIH0sXG4gICAgZ3JhbmQxMHgxMDogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiAxMCwgaGVpZ2h0OiAxMH0sIGNnOiBcImNnLTY0MC02NDBcIiwgYm9hcmRDU1M6IFtcIkdyYW5kYm9hcmQuc3ZnXCIsIFwiMTB4MTBicm93bi5zdmdcIiwgXCIxMHgxMGJsdWUuc3ZnXCIsIFwiMTB4MTBncmVlbi5zdmdcIiwgXCIxMHgxMG1hcGxlLmpwZ1wiLCBcIjEweDEwbWFwbGVHcmFuZC5wbmdcIl0gfSxcbiAgICBtYWtydWs4eDg6IHsgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTUxMlwiLCBib2FyZENTUzogW1wibWFrcnVrMi5zdmdcIiwgXCJtYWtydWsuc3ZnXCIsIFwibWFrcnVrV2hpdGUuc3ZnXCIsIFwibWFrcnVrLmpwZ1wiLCBcIm1ha3J1a1dvb2QucG5nXCJdIH0sXG4gICAgc2l0dHV5aW44eDg6IHsgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTUxMlwiLCBib2FyZENTUzogW1wic2l0dHV5aW4yLnN2Z1wiLCBcInNpdHR1eWluLnN2Z1wiLCBcInNpdHR1eWluLmpwZ1wiLCBcInNpdHR1eWluZ3JlZW4uc3ZnXCIsIFwic2l0dHV5aW5HcmFpbkJyb3duLnN2Z1wiLCBcInNpdHR1eWluV29vZC5wbmdcIl0gfSxcbiAgICBzaG9naTl4OTogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA5LCBoZWlnaHQ6IDkgfSwgY2c6IFwiY2ctNTc2XCIsIGJvYXJkQ1NTOiBbXCJzaG9naS5zdmdcIiwgXCJTaG9naWJhbjEucG5nXCIsIFwiU2hvZ2liYW4yLnBuZ1wiLCBcInNob2dpYy5zdmdcIiwgXCJTaG9naU1hcGxlLnBuZ1wiLCAnU2hvZ2lHcmF5VGV4dHVyZS5wbmcnLCBcIlNob2dpU3BhY2UxLnN2Z1wiLCBcImRvYnV0c3UucG5nXCIsIFwiU2hvZ2lPYWsucG5nXCJdIH0sXG4gICAgc2hvZ2k3eDc6IHsgZGltZW5zaW9uczogeyB3aWR0aDogNywgaGVpZ2h0OiA3IH0sIGNnOiBcImNnLTQ0OC01MTZcIiwgYm9hcmRDU1M6IFtcIlRvcmlQbGFpbi5zdmdcIiwgXCJUb3JpV29vZC5zdmdcIiwgXCJUb3JpRGF5U2t5LnN2Z1wiLCBcIlRvcmlOaWdodFNreS5zdmdcIl0gfSxcbiAgICBzaG9naTV4NTogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA1LCBoZWlnaHQ6IDUgfSwgY2c6IFwiY2ctMjYwXCIsIGJvYXJkQ1NTOiBbXCJtaW5pc2hvZ2kuc3ZnXCIsIFwiTWluaWJvYXJkV29vZDEucG5nXCIsIFwiTWluaWJvYXJkV29vZDIucG5nXCIsIFwiTWluaXNob2dpRG9idXRzdS5zdmdcIiwgXCJNaW5pc2hvZ2lEb2J1dHN1Mi5zdmdcIl0gfSxcbiAgICBzaG9naTV4NjogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA1LCBoZWlnaHQ6IDYgfSwgY2c6IFwiY2ctMjYwLTM2MFwiLCBib2FyZENTUzogW1wiZ29yb2dvcm8uc3ZnXCIsIFwiZ29yb2dvcm9ib2FyZC5zdmdcIiwgXCJnb3JvZ29ybzIuc3ZnXCIsIFwiR29yb2dvcm9Xb29kLnBuZ1wiXSB9LFxuICAgIHNob2dpM3g0OiB7IGRpbWVuc2lvbnM6IHsgd2lkdGg6IDMsIGhlaWdodDogNCB9LCBjZzogXCJjZy0xNTZcIiwgYm9hcmRDU1M6IFtcImRvdWJ1dHN1Ym9hcmQuc3ZnXCIsIFwiZG9idXRzdTN4NC5zdmdcIl0gfSxcbiAgICB4aWFuZ3FpOXgxMDogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA5LCBoZWlnaHQ6IDEwIH0sIGNnOiBcImNnLTU3Ni02NDBcIiwgYm9hcmRDU1M6IFtcInhpYW5ncWkuc3ZnXCIsIFwieGlhbmdxaWMuc3ZnXCIsIFwieGlhbmdxaUNUZXh0dXJlLnBuZ1wiLCBcInhpYW5ncWlQYXBlci5wbmdcIiwgXCJ4aWFuZ3FpV29vZC5wbmdcIiwgXCJ4aWFuZ3FpRGFyay5zdmdcIiwgXCJ4aWFuZ3FpV2lraW1lZGlhLnN2Z1wiLCBcInhpYW5ncWlMaWdodFdvb2QucG5nXCIsIFwieGlhbmdxaVNhbmQuc3ZnXCJdIH0sXG4gICAgeGlhbmdxaTd4NzogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA3LCBoZWlnaHQ6IDcgfSwgY2c6IFwiY2ctNDQ4XCIsIGJvYXJkQ1NTOiBbXCJtaW5peGlhbmdxaS5zdmdcIiwgXCJtaW5peGlhbmdxaXcucG5nXCIsIFwibWluaXhxbGcuc3ZnXCJdIH0sXG4gICAgamFuZ2dpOXgxMDogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiA5LCBoZWlnaHQ6IDEwIH0sIGNnOiBcImNnLTU3Ni02NDBcIiwgYm9hcmRDU1M6IFtcIkphbmdnaUJyb3duLnN2Z1wiLCBcIkphbmdnaVBhcGVyLnBuZ1wiLCBcIkphbmdnaVdvb2QucG5nXCIsIFwiSmFuZ2dpRGFyay5zdmdcIiwgXCJKYW5nZ2lXb29kRGFyay5zdmdcIiwgXCJKYW5nZ2lTdG9uZS5zdmdcIl0gfSxcbiAgICBzaG9ndW44eDg6IHsgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sIGNnOiBcImNnLTUxMlwiLCBib2FyZENTUzogW1wiU2hvZ3VuUGxhaW4uc3ZnXCIsIFwiU2hvZ3VuTWFwbGUucG5nXCIsIFwiU2hvZ3VuTWFwbGUyLnBuZ1wiLCBcIlNob2d1bkJsdWUuc3ZnXCIsIFwiOHg4YnJvd24uc3ZnXCIsIFwiOHg4bWFwbGUuanBnXCJdIH0sXG4gICAgY2hhazl4OTp7IGRpbWVuc2lvbnM6IHsgd2lkdGg6IDksIGhlaWdodDogOSB9LCBjZzogXCJjZy01NDBcIiwgYm9hcmRDU1M6IFtcIlN0YW5kYXJkQ2hha0JvYXJkLnN2Z1wiLCBcIkNvbG9yZWRDaGFrQm9hcmQuc3ZnXCIsIFwiQ2hha0FydC5qcGdcIl0gfSxcbiAgICBjaGVubmlzN3g3OnsgZGltZW5zaW9uczogeyB3aWR0aDogNywgaGVpZ2h0OiA3IH0sIGNnOiBcImNnLTQ0OFwiLCBib2FyZENTUzogW1wiV2ltYmxlZG9uQm9hcmQuc3ZnXCIsIFwiRnJlbmNoT3BlbkJvYXJkLnN2Z1wiLCBcIlVTT3BlbkJvYXJkLnN2Z1wiXSB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFBJRUNFX0ZBTUlMSUVTOiBSZWNvcmQ8c3RyaW5nLCBQaWVjZUZhbWlseT4gPSB7XG4gICAgc3RhbmRhcmQ6IHsgcGllY2VDU1M6IFtcInN0YW5kYXJkXCIsIFwiZ3JlZW5cIiwgXCJhbHBoYVwiLCBcImNoZXNzX2thbmVvXCIsIFwic2FudGFcIiwgXCJtYWVzdHJvXCIsIFwiZHVicm92bnlcIiwgXCJkaXNndWlzZWRcIiwgXCJhdG9wZG93blwiXSB9LFxuICAgIGNhcGE6IHsgcGllY2VDU1M6IFtcImNhcGEwXCIsIFwiY2FwYTFcIiwgXCJjYXBhMlwiLCBcImNhcGEzXCIsIFwiY2FwYTRcIiwgXCJjYXBhNVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHNlaXJhd2FuOiB7IHBpZWNlQ1NTOiBbXCJzZWlyMVwiLCBcInNlaXIwXCIsIFwic2VpcjJcIiwgXCJzZWlyM1wiLCBcInNlaXI0XCIsIFwic2VpcjVcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBtYWtydWs6IHsgcGllY2VDU1M6IFtcIm1ha3J1a3diXCIsIFwibWFrcnVrd3JcIiwgXCJtYWtydWtcIiwgXCJtYWtydWtzXCIsIFwibWFrcnVraVwiLCBcIm1ha3J1a2NcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBzaXR0dXlpbjogeyBwaWVjZUNTUzogW1wic2l0dHV5aW5zXCIsIFwic2l0dHV5aW5rYWdyXCIsIFwic2l0dHV5aW5rYWJyXCIsIFwic2l0dHV5aW5tXCIsIFwic2l0dHV5aW5pXCIsIFwic2l0dHV5aW5jYlwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIGFzZWFuOiB7IHBpZWNlQ1NTOiBbXCJhc2VhbmlcIiwgXCJhc2Vhbm1cIiwgXCJhc2VhbmNcIiwgXCJhc2VhbnNcIiwgXCJhc2VhbmNiXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgc2hvZ2k6IHsgcGllY2VDU1M6IFtcInNob2dpa1wiLCBcInNob2dpXCIsIFwic2hvZ2l3XCIsIFwic2hvZ2lwXCIsIFwic2hvZ2ltXCIsIFwic2hvZ2lwM2RcIiwgXCJzaG9naWt3M2RcIiwgXCJzaG9naWRcIiwgXCJzaG9naWltXCIsIFwic2hvZ2lid1wiLCBcInBvcnRrXCIsIFwicG9ydGlcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBreW90bzogeyBwaWVjZUNTUzogW1wia3lvdG9cIiwgXCJreW90b2tcIiwgXCJreW90b2tzXCIsIFwia3lvdG9pXCIsIFwia3lvdG9kXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgZG9idXRzdTogeyBwaWVjZUNTUzogW1wiZG9idXRzdVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHRvcmk6IHsgcGllY2VDU1M6IFtcInRvcmlpXCIsIFwidG9yaWtcIiwgXCJ0b3JpbVwiLCBcInBvcnRpXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgeGlhbmdxaTogeyBwaWVjZUNTUzogW1wieGlhbmdxaTJkXCIsIFwieGlhbmdxaTJkaVwiLCBcInhpYW5ncWlcIiwgXCJ4aWFuZ3FpY3QzXCIsIFwieGlhbmdxaWhuelwiLCBcInhpYW5ncWljdDJcIiwgXCJ4aWFuZ3FpaG56d1wiLCBcInhpYW5ncWljdDJ3XCIsIFwieGlhbmdxaXdpa2ltXCIsIFwieGlhbmdxaUthXCIsIFwieGlhbmdxaXR0eHFobnpcIiwgXCJ4aWFuZ3FpdHR4cWludGxcIiwgXCJkaXNndWlzZWRcIiwgXCJldXJvXCJdIH0sXG4gICAgamFuZ2dpOiB7IHBpZWNlQ1NTOiBbXCJqYW5nZ2loYlwiLCBcImphbmdnaWhnXCIsIFwiamFuZ2dpaWtha1wiLCBcImphbmdnaWlrYXdcIiwgXCJqYW5nZ2lrYWtcIiwgXCJqYW5nZ2lrYXdcIiwgXCJqYW5nZ2lpYlwiLCBcImphbmdnaWlnXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgc2hha286IHsgcGllY2VDU1M6IFtcInNoYWtvMFwiLCBcInNoYWtvMVwiLCBcInNoYWtvMlwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHNob2d1bjogeyBwaWVjZUNTUzogW1wic2hvZ3VuMFwiLCBcInNob2d1bjFcIiwgXCJzaG9ndW4yXCIsIFwic2hvZ3VuM1wiLCBcInNob2d1bjRcIiwgXCJzaG9ndW41XCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgb3JkYTogeyBwaWVjZUNTUzogW1wib3JkYTBcIiwgXCJvcmRhMVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHN5bm9jaGVzczogeyBwaWVjZUNTUzogW1wic3lub2NoZXNzMFwiLCBcInN5bm9jaGVzczFcIiwgXCJzeW5vY2hlc3MyXCIsIFwic3lub2NoZXNzM1wiLCBcInN5bm9jaGVzczRcIiwgXCJzeW5vY2hlc3M1XCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgaG9wcGVsOiB7IHBpZWNlQ1NTOiBbXCJob3BwZWwwXCIsIFwiaG9wcGVsMVwiLCBcImhvcHBlbDJcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBzaGlub2JpOiB7IHBpZWNlQ1NTOiBbXCJzaGlub2JpMFwiLCBcInNoaW5vYmkxXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG4gICAgZW1waXJlOiB7IHBpZWNlQ1NTOiBbXCJlbXBpcmUwXCIsIFwiZW1waXJlMVwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIG9yZGFtaXJyb3I6IHsgcGllY2VDU1M6IFtcIm9yZGFtaXJyb3IwXCIsIFwib3JkYW1pcnJvcjFcIiwgXCJkaXNndWlzZWRcIl0gfSxcbiAgICBjaGFrOiB7IHBpZWNlQ1NTOiBbXCJjaGFrMFwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIGNoZW5uaXM6IHsgcGllY2VDU1M6IFtcImNoZW5uaXMwXCIsIFwiY2hlbm5pczFcIiwgXCJjaGVubmlzMlwiLCBcImRpc2d1aXNlZFwiXSB9LFxuICAgIHNwYXJ0YW46IHsgcGllY2VDU1M6IFtcInNwYXJ0YW4wXCIsIFwiZGlzZ3Vpc2VkXCJdIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhbnQge1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSBfZGlzcGxheU5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSBkaXNwbGF5TmFtZTogKGNoZXNzOTYwPzogYm9vbGVhbikgPT4gc3RyaW5nO1xuICAgIHJlYWRvbmx5IF90b29sdGlwOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdG9vbHRpcDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNoZXNzOTYwOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IF9pY29uOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgX2ljb245NjA6IHN0cmluZztcbiAgICByZWFkb25seSBpY29uOiAoY2hlc3M5NjA/OiBib29sZWFuKSA9PiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc3RhcnRGZW46IHN0cmluZztcbiAgICByZWFkb25seSBib2FyZEZhbWlseToga2V5b2YgdHlwZW9mIEJPQVJEX0ZBTUlMSUVTO1xuICAgIHJlYWRvbmx5IGJvYXJkOiBCb2FyZEZhbWlseTtcbiAgICByZWFkb25seSBwaWVjZUZhbWlseToga2V5b2YgdHlwZW9mIFBJRUNFX0ZBTUlMSUVTO1xuICAgIHJlYWRvbmx5IHBpZWNlOiBQaWVjZUZhbWlseTtcbiAgICByZWFkb25seSBjb2xvcnM6IHtcbiAgICAgICAgcmVhZG9ubHkgZmlyc3Q6IENvbG9yTmFtZTtcbiAgICAgICAgcmVhZG9ubHkgc2Vjb25kOiBDb2xvck5hbWU7XG4gICAgfVxuICAgIHJlYWRvbmx5IHBpZWNlUm93OiBSZWNvcmQ8Y2cuQ29sb3IsIGNnLlJvbGVbXT47XG4gICAgcmVhZG9ubHkga2luZ1JvbGVzOiBjZy5Sb2xlW107XG4gICAgcmVhZG9ubHkgcG9ja2V0Pzoge1xuICAgICAgICByZWFkb25seSByb2xlczogUmVjb3JkPGNnLkNvbG9yLCBjZy5Sb2xlW10+O1xuICAgICAgICByZWFkb25seSBjYXB0dXJlVG9IYW5kOiBib29sZWFuO1xuICAgIH07XG4gICAgcmVhZG9ubHkgcHJvbW90aW9uOiB7XG4gICAgICAgIHJlYWRvbmx5IHR5cGU6IFByb21vdGlvblR5cGU7XG4gICAgICAgIHJlYWRvbmx5IG9yZGVyOiBQcm9tb3Rpb25TdWZmaXhbXTtcbiAgICAgICAgcmVhZG9ubHkgcm9sZXM6IGNnLlJvbGVbXTtcbiAgICAgICAgcmVhZG9ubHkgc3RyaWN0Pzoge1xuICAgICAgICAgICAgcmVhZG9ubHkgaXNQcm9tb3RlZDogKHBpZWNlOiBjZy5QaWVjZSwgcG9zOiBjZy5Qb3MpID0+IGJvb2xlYW47XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRvbmx5IGF1dG9Qcm9tb3RlYWJsZTogYm9vbGVhbjtcbiAgICB9O1xuICAgIHJlYWRvbmx5IHJ1bGVzOiB7XG4gICAgICAgIHJlYWRvbmx5IGRlZmF1bHRUaW1lQ29udHJvbDogVGltZUNvbnRyb2xUeXBlO1xuICAgICAgICByZWFkb25seSBlblBhc3NhbnQ6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IGdhdGU6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IGR1Y2s6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IHBhc3M6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IHNldHVwOiBib29sZWFuO1xuICAgIH07XG4gICAgcmVhZG9ubHkgbWF0ZXJpYWw6IHtcbiAgICAgICAgcmVhZG9ubHkgc2hvd0RpZmY6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IGluaXRpYWxEaWZmOiBNYXRlcmlhbERpZmY7XG4gICAgICAgIHJlYWRvbmx5IGVxdWl2YWxlbmNlczogRXF1aXZhbGVuY2U7XG4gICAgfTtcbiAgICByZWFkb25seSB1aToge1xuICAgICAgICByZWFkb25seSBjb3VudGluZz86IENvdW50aW5nVHlwZTtcbiAgICAgICAgcmVhZG9ubHkgbWF0ZXJpYWxQb2ludD86IE1hdGVyaWFsUG9pbnRUeXBlO1xuICAgICAgICByZWFkb25seSBzaG93UHJvbW90ZWQ6IGJvb2xlYW47XG4gICAgICAgIHJlYWRvbmx5IHBpZWNlU291bmQ6IFBpZWNlU291bmRUeXBlO1xuICAgICAgICByZWFkb25seSBib2FyZE1hcms6IEJvYXJkTWFya1R5cGUgfCAnJztcbiAgICB9O1xuICAgIHJlYWRvbmx5IGFsdGVybmF0ZVN0YXJ0PzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZnVuY3Rpb24gdmFyaWFudChjb25maWc6IFZhcmlhbnRDb25maWcpOiBWYXJpYW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBjb25maWcubmFtZSxcbiAgICAgICAgX2Rpc3BsYXlOYW1lOiBjb25maWcuZGlzcGxheU5hbWUgPz8gY29uZmlnLm5hbWUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbiAoY2hlc3M5NjAgPSBmYWxzZSkgeyByZXR1cm4gXyh0aGlzLl9kaXNwbGF5TmFtZSkudG9VcHBlckNhc2UoKSArIChjaGVzczk2MCA/ICc5NjAnIDogJycpOyB9LFxuICAgICAgICBfdG9vbHRpcDogY29uZmlnLnRvb2x0aXAsXG4gICAgICAgIGdldCB0b29sdGlwKCkgeyByZXR1cm4gXyh0aGlzLl90b29sdGlwKSB9LFxuICAgICAgICBjaGVzczk2MDogISFjb25maWcuY2hlc3M5NjAsXG4gICAgICAgIF9pY29uOiBjb25maWcuaWNvbixcbiAgICAgICAgX2ljb245NjA6IGNvbmZpZy5pY29uOTYwID8/IGNvbmZpZy5pY29uLFxuICAgICAgICBpY29uOiBmdW5jdGlvbiAoY2hlc3M5NjAgPSBmYWxzZSkgeyByZXR1cm4gY2hlc3M5NjAgPyB0aGlzLl9pY29uOTYwIDogdGhpcy5faWNvbjsgfSxcbiAgICAgICAgc3RhcnRGZW46IGNvbmZpZy5zdGFydEZlbixcbiAgICAgICAgYm9hcmRGYW1pbHk6IGNvbmZpZy5ib2FyZEZhbWlseSxcbiAgICAgICAgYm9hcmQ6IEJPQVJEX0ZBTUlMSUVTW2NvbmZpZy5ib2FyZEZhbWlseV0sXG4gICAgICAgIHBpZWNlRmFtaWx5OiBjb25maWcucGllY2VGYW1pbHksXG4gICAgICAgIHBpZWNlOiBQSUVDRV9GQU1JTElFU1tjb25maWcucGllY2VGYW1pbHldLFxuICAgICAgICBjb2xvcnM6IGNvbmZpZy5jb2xvcnMgPz8geyBmaXJzdDogJ1doaXRlJywgc2Vjb25kOiAnQmxhY2snIH0sXG4gICAgICAgIHBpZWNlUm93OiBBcnJheS5pc0FycmF5KGNvbmZpZy5waWVjZVJvdykgPyB7XG4gICAgICAgICAgICB3aGl0ZTogY29uZmlnLnBpZWNlUm93Lm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgICAgICBibGFjazogY29uZmlnLnBpZWNlUm93Lm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICB3aGl0ZTogY29uZmlnLnBpZWNlUm93LndoaXRlLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgICAgICBibGFjazogY29uZmlnLnBpZWNlUm93LmJsYWNrLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgIH0sXG4gICAgICAgIGtpbmdSb2xlczogKGNvbmZpZy5raW5nUm9sZXMgPz8gWydrJ10pLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgIHBvY2tldDogY29uZmlnLnBvY2tldCA/IHtcbiAgICAgICAgICAgIHJvbGVzOiBBcnJheS5pc0FycmF5KGNvbmZpZy5wb2NrZXQucm9sZXMpID8ge1xuICAgICAgICAgICAgICAgIHdoaXRlOiBjb25maWcucG9ja2V0LnJvbGVzLm1hcCh1dGlsLnJvbGVPZiksXG4gICAgICAgICAgICAgICAgYmxhY2s6IGNvbmZpZy5wb2NrZXQucm9sZXMubWFwKHV0aWwucm9sZU9mKSxcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgd2hpdGU6IGNvbmZpZy5wb2NrZXQucm9sZXMud2hpdGUubWFwKHV0aWwucm9sZU9mKSxcbiAgICAgICAgICAgICAgICBibGFjazogY29uZmlnLnBvY2tldC5yb2xlcy5ibGFjay5tYXAodXRpbC5yb2xlT2YpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhcHR1cmVUb0hhbmQ6IGNvbmZpZy5wb2NrZXQuY2FwdHVyZVRvSGFuZCxcbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvbW90aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiBjb25maWcucHJvbW90aW9uPy50eXBlID8/ICdyZWd1bGFyJyxcbiAgICAgICAgICAgIG9yZGVyOiBjb25maWcucHJvbW90aW9uPy5vcmRlciA/PyAoY29uZmlnLnByb21vdGlvbj8udHlwZSA9PT0gJ3Nob2dpJyA/IFsnKycsICcnXSA6IFsncScsICdjJywgJ2UnLCAnYScsICdoJywgJ24nLCAncicsICdiJywgJ3AnXSksXG4gICAgICAgICAgICByb2xlczogKGNvbmZpZy5wcm9tb3Rpb24/LnJvbGVzID8/IFsncCddKS5tYXAodXRpbC5yb2xlT2YpLFxuICAgICAgICAgICAgc3RyaWN0OiBjb25maWcucHJvbW90aW9uPy5zdHJpY3QsXG4gICAgICAgICAgICBnZXQgYXV0b1Byb21vdGVhYmxlKCkgeyByZXR1cm4gdGhpcy5vcmRlci5sZW5ndGggPiAyIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICBkZWZhdWx0VGltZUNvbnRyb2w6IGNvbmZpZy5ydWxlcz8uZGVmYXVsdFRpbWVDb250cm9sID8/ICdpbmNyZW1lbnRhbCcsXG4gICAgICAgICAgICBlblBhc3NhbnQ6ICEhY29uZmlnLnJ1bGVzPy5lblBhc3NhbnQsXG4gICAgICAgICAgICBnYXRlOiAhIWNvbmZpZy5ydWxlcz8uZ2F0ZSxcbiAgICAgICAgICAgIGR1Y2s6ICEhY29uZmlnLnJ1bGVzPy5kdWNrLFxuICAgICAgICAgICAgcGFzczogISFjb25maWcucnVsZXM/LnBhc3MsXG4gICAgICAgICAgICBzZXR1cDogISFjb25maWcucnVsZXM/LnNldHVwLFxuICAgICAgICB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgc2hvd0RpZmY6ICFjb25maWcucG9ja2V0Py5jYXB0dXJlVG9IYW5kLFxuICAgICAgICAgICAgaW5pdGlhbERpZmY6IGNhbGN1bGF0ZURpZmYoY29uZmlnLnN0YXJ0RmVuLCBCT0FSRF9GQU1JTElFU1tjb25maWcuYm9hcmRGYW1pbHldLmRpbWVuc2lvbnMsIGNvbmZpZy5tYXRlcmlhbD8uZXF1aXZhbGVuY2VzID8/IHt9LCAhIWNvbmZpZy5wb2NrZXQ/LmNhcHR1cmVUb0hhbmQpLFxuICAgICAgICAgICAgZXF1aXZhbGVuY2VzOiBjb25maWcubWF0ZXJpYWw/LmVxdWl2YWxlbmNlcyA/PyB7fSxcbiAgICAgICAgfSxcbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIGNvdW50aW5nOiBjb25maWcudWk/LmNvdW50aW5nLFxuICAgICAgICAgICAgbWF0ZXJpYWxQb2ludDogY29uZmlnLnVpPy5tYXRlcmlhbFBvaW50LFxuICAgICAgICAgICAgc2hvd1Byb21vdGVkOiBjb25maWcudWk/LnNob3dQcm9tb3RlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIHBpZWNlU291bmQ6IGNvbmZpZy51aT8ucGllY2VTb3VuZCA/PyAncmVndWxhcicsXG4gICAgICAgICAgICBib2FyZE1hcms6IGNvbmZpZy51aT8uYm9hcmRNYXJrID8/ICcnLFxuICAgICAgICB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDogY29uZmlnLmFsdGVybmF0ZVN0YXJ0LFxuICAgIH07XG59XG5cbmludGVyZmFjZSBWYXJpYW50Q29uZmlnIHtcbiAgICAvLyBOYW1lIGFzIGRlZmluZWQgaW4gRmFpcnktU3RvY2tmaXNoXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8vIERpc3BsYXkgbmFtZSBmb3IgdXNlIG9uIHRoZSB3ZWJzaXRlIChkZWZhdWx0OiBzYW1lIGFzIG5hbWUpXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgLy8gVG9vbHRpcCBkaXNwbGF5ZWQgd2hlbiB2YXJpYW50IG5hbWUgaXMgaG92ZXJlZFxuICAgIHRvb2x0aXA6IHN0cmluZztcbiAgICAvLyBTdGFydCBGRU4gZm9yIHVzZSBpbiBzb21lIGNsaWVudC1zaWRlIGNhbGN1bGF0aW9uc1xuICAgIHN0YXJ0RmVuOiBzdHJpbmc7XG4gICAgLy8gV2hldGhlciBpdCBpcyBwb3NzaWJsZSB0byBwbGF5IGEgcmFuZG9taXplZCBzdGFydGluZyBwb3NpdG9uIChkZWZhdWx0OiBmYWxzZSlcbiAgICBjaGVzczk2MD86IGJvb2xlYW47XG4gICAgLy8gSWNvbiBsZXR0ZXIgaW4gdGhlIHNpdGUncyBmb250XG4gICAgaWNvbjogc3RyaW5nO1xuICAgIC8vIEljb24gb2YgdGhlIDk2MCB2ZXJzaW9uIChkZWZhdWx0OiBzYW1lIGFzIGljb24pXG4gICAgaWNvbjk2MD86IHN0cmluZztcbiAgICAvLyBCb2FyZCBhcHBlYXJhbmNlXG4gICAgYm9hcmRGYW1pbHk6IGtleW9mIHR5cGVvZiBCT0FSRF9GQU1JTElFUztcbiAgICAvLyBQaWVjZSBhcHBlYXJhbmNlXG4gICAgcGllY2VGYW1pbHk6IGtleW9mIHR5cGVvZiBQSUVDRV9GQU1JTElFUztcbiAgICAvLyBDb2xvciBuYW1lcyBvZiBlYWNoIHNpZGUgZm9yIGFjY3VyYXRlIGNvbG9yIHJlcHJlc2VudGF0aW9uXG4gICAgY29sb3JzPzogeyAgICAgICAgICAgICBcbiAgICAgICAgLy8gKGRlZmF1bHQ6IFdoaXRlKVxuICAgICAgICBmaXJzdDogQ29sb3JOYW1lO1xuICAgICAgICAvLyAoZGVmYXVsdDogQmxhY2spXG4gICAgICAgIHNlY29uZDogQ29sb3JOYW1lO1xuICAgIH1cbiAgICAvLyBQaWVjZXMgb24gdGhlIGVkaXRvcidzIHBpZWNlIHJvd1xuICAgIC8vIFVzZSB0aGUgcmVjb3JkIHZlcnNpb24gaWYgdGhlIHBpZWNlcyBvZiBlYWNoIHNpZGUgYXJlIGRpZmZlcmVudFxuICAgIHBpZWNlUm93OiBjZy5MZXR0ZXJbXSB8IFJlY29yZDxjZy5Db2xvciwgY2cuTGV0dGVyW10+O1xuICAgIC8vIFBpZWNlcyBjb25zaWRlcmVkIGtpbmcgZm9yIGNoZWNrIG1hcmtpbmcgKGRlZmF1bHQ6IFsnayddKVxuICAgIGtpbmdSb2xlcz86IGNnLkxldHRlcltdO1xuICAgIHBvY2tldD86IHtcbiAgICAgICAgLy8gUGllY2VzIGluIHRoZSBwb2NrZXRcbiAgICAgICAgLy8gVXNlIHRoZSByZWNvcmQgdmVyc2lvbiBpZiB0aGUgcGllY2VzIG9mIGVhY2ggc2lkZSBhcmUgZGlmZmVyZW50XG4gICAgICAgIHJvbGVzOiBjZy5MZXR0ZXJbXSB8IFJlY29yZDxjZy5Db2xvciwgY2cuTGV0dGVyW10+O1xuICAgICAgICAvLyBXaGV0aGVyIGNhcHR1cmVkIHBpZWNlcyBnbyB0byB0aGUgcG9ja2V0IChGYWlyeSdzIHRlcm1pbm9sb2d5KVxuICAgICAgICBjYXB0dXJlVG9IYW5kOiBib29sZWFuO1xuICAgIH07XG4gICAgcHJvbW90aW9uPzoge1xuICAgICAgICAvLyBQcm9tb3Rpb24gc3R5bGVcbiAgICAgICAgLy8gcmVndWxhcjogKGRlZmF1bHQpIFBhd25zIHByb21vdGUgdG8gb25lIG9yIG1vcmUgcGllY2VzIChsaWtlIGNoZXNzKVxuICAgICAgICAvLyBzaG9naTogTXVsdGlwbGUgcGllY2VzIHByb21vdGUgdG8gYW5vdGhlciBwaWVjZSBjb3JyZXNwb25kaW5nIHRvIGl0IChsaWtlIHNob2dpKVxuICAgICAgICB0eXBlOiBQcm9tb3Rpb25UeXBlO1xuICAgICAgICAvLyBPcmRlciBvZiBwcm9tb3Rpb24gY2hvaWNlcyB0byBkaXNwbGF5LCB0b3AgY2hvaWNlIHdpbGwgYmUgY2hvc2VuIGZvciBhdXRvLXByb21vdGVcbiAgICAgICAgLy8gKGRlZmF1bHQ6IFtcInFcIiwgXCJjXCIsIFwiZVwiLCBcImFcIiwgXCJoXCIsIFwiblwiLCBcInJcIiwgXCJiXCIsIFwicFwiXSBmb3IgcmVndWxhcilcbiAgICAgICAgLy8gKGRlZmF1bHQ6IFtcIitcIiwgXCJcIl0gZm9yIHNob2dpKVxuICAgICAgICBvcmRlcj86IFByb21vdGlvblN1ZmZpeFtdO1xuICAgICAgICAvLyBQaWVjZXMgdGhhdCBjYW4gcHJvbW90ZSAoZGVmYXVsdDogWydwJ10pXG4gICAgICAgIHJvbGVzPzogY2cuTGV0dGVyW107XG4gICAgICAgIC8vIFdoZXRoZXIgYSBwaWVjZSdzIHByb21vdGlvbiBzdGF0ZSBzdHJpY3RseSBkZXBlbmRzIG9uIGl0cyBzcXVhcmUgKGRlZmF1bHQ6IHVuZGVmaW5lZClcbiAgICAgICAgc3RyaWN0Pzoge1xuICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGFuZCBvbmx5IGlmIHRoZSBnaXZlbiBwaWVjZSB3b3VsZCBiZSBwcm9tb3RlZCBvbiB0aGUgZ2l2ZW4gc3F1YXJlXG4gICAgICAgICAgICBpc1Byb21vdGVkOiAocGllY2U6IGNnLlBpZWNlLCBwb3M6IGNnLlBvcykgPT4gYm9vbGVhbjtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8vIE1pc2NlbGxhbmVvdXMgcnVsZXMgdXNlZnVsIGZvciBjbGllbnQtc2lkZSBwcm9jZXNzaW5nXG4gICAgLy8gKGRlZmF1bHQ6IGZhbHNlKVxuICAgIHJ1bGVzPzoge1xuICAgICAgICAvLyBEZWZhdWx0IHRpbWUgY29udHJvbCAoZGVmYXVsdDogaW5jcmVtZW50YWwpXG4gICAgICAgIGRlZmF1bHRUaW1lQ29udHJvbD86IFRpbWVDb250cm9sVHlwZTtcbiAgICAgICAgLy8gQ2hlc3MncyBlbiBwYXNzYW50XG4gICAgICAgIGVuUGFzc2FudD86IGJvb2xlYW47XG4gICAgICAgIC8vIFMtQ2hlc3MgZ2F0aW5nXG4gICAgICAgIGdhdGU/OiBib29sZWFuO1xuICAgICAgICAvLyBEdWNrIENoZXNzIG1vdmluZ1xuICAgICAgICBkdWNrPzogYm9vbGVhbjtcbiAgICAgICAgLy8gUGFzc2luZyB3aXRob3V0IG1vdmluZyBhIHBpZWNlIG9uIGJvYXJkXG4gICAgICAgIHBhc3M/OiBib29sZWFuO1xuICAgICAgICAvLyBTZXR1cCBwaGFzZVxuICAgICAgICBzZXR1cD86IGJvb2xlYW47XG4gICAgfTtcbiAgICAvLyBNYXRlcmlhbCBlcXVpdmFsZW5jZXMgZm9yIG1hdGVyaWFsIGRpZmYgY2FsY3VsYXRpb25cbiAgICAvLyBleC4geyAncGwtcGllY2UnOiAnci1waWVjZScgfSBtZWFucyB0aGUgXCIrTFwiIHBpZWNlIGlzIHRyZWF0ZWQgYXMgdGhlIFwiUlwiIHBpZWNlIGZvciBtYXRlcmlhbCBkaWZmXG4gICAgbWF0ZXJpYWw/OiB7XG4gICAgICAgIGVxdWl2YWxlbmNlcz86IEVxdWl2YWxlbmNlO1xuICAgIH0sXG4gICAgLy8gVUkgZGlzcGxheSBpbmZvXG4gICAgdWk/OiB7XG4gICAgICAgIC8vIFNFQSB2YXJpYW50cycgY291bnRpbmcgKGRlZmF1bHQ6IHVuZGVmaW5lZClcbiAgICAgICAgY291bnRpbmc/OiBDb3VudGluZ1R5cGU7XG4gICAgICAgIC8vIE1hdGVyaWFsIHBvaW50IChkZWZhdWx0OiB1bmRlZmluZWQpXG4gICAgICAgIG1hdGVyaWFsUG9pbnQ/OiBNYXRlcmlhbFBvaW50VHlwZTtcbiAgICAgICAgLy8gUHJvbW90ZWQgcGllY2VzIG5lZWQgdG8gYmUgcmVwcmVzZW50ZWQgaW4gdGhlIEZFTiBldmVuIGlmIGl0J3Mgbm90IGEgZHJvcCB2YXJpYW50IChkZWZhdWx0OiBmYWxzZSlcbiAgICAgICAgc2hvd1Byb21vdGVkPzogYm9vbGVhbjtcbiAgICAgICAgLy8gU291bmQgb2YgdGhlIHBpZWNlIG1vdmluZyAoZGVmYXVsdDogcmVndWxhcilcbiAgICAgICAgcGllY2VTb3VuZD86IFBpZWNlU291bmRUeXBlO1xuICAgICAgICAvLyBCb2FyZCBtYXJraW5nIGZvciBzcGVjaWFsIHNxdWFyZXMgKGRlZmF1bHQ6ICcnKVxuICAgICAgICBib2FyZE1hcms/OiBCb2FyZE1hcmtUeXBlO1xuICAgIH07XG4gICAgLy8gQWx0ZXJuYXRlIHN0YXJ0aW5nIHBvc2l0aW9ucywgaW5jbHVkaW5nIGhhbmRpY2Fwc1xuICAgIGFsdGVybmF0ZVN0YXJ0PzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGNvbnN0IFZBUklBTlRTOiBSZWNvcmQ8c3RyaW5nLCBWYXJpYW50PiA9IHtcbiAgICBjaGVzczogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiY2hlc3NcIiwgdG9vbHRpcDogXCJDaGVzcywgdW5tb2RpZmllZCwgYXMgaXQncyBwbGF5ZWQgYnkgRklERSBzdGFuZGFyZHMuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIk1cIiwgaWNvbjk2MDogXCJWXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN0YW5kYXJkXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDoge1xuICAgICAgICAgICAgJyc6IFwiXCIsXG4gICAgICAgICAgICAnUGF3bnNQdXNoZWQnOiBcInJuYnFrYm5yLzgvOC9wcHBwcHBwcC9QUFBQUFBQUC84LzgvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgICAgICAnUGF3bnNQYXNzZWQnOiBcInJuYnFrYm5yLzgvOC9QUFBQUFBQUC9wcHBwcHBwcC84LzgvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgICAgICAnVXBzaWRlRG93bic6IFwiUk5CS1FCTlIvUFBQUFBQUFAvOC84LzgvOC9wcHBwcHBwcC9ybmJrcWJuciB3IC0gLSAwIDFcIixcbiAgICAgICAgICAgICdUaGViYW4nOiBcIjFwNi8ycDNrbi8zcDJwcC80cHBwcC81cHBwLzgvUFBQUFBQUFAvUFBQUFBQS04gdyAtIC0gMCAxXCIsXG4gICAgICAgICAgICAnTm8gY2FzdGxlJzogJ3JuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyAtIC0gMCAxJ1xuICAgICAgICB9LFxuICAgIH0pLFxuXG4gICAgY3Jhenlob3VzZTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiY3Jhenlob3VzZVwiLCB0b29sdGlwOiBcIlRha2UgY2FwdHVyZWQgcGllY2VzIGFuZCBkcm9wIHRoZW0gYmFjayBvbiB0byB0aGUgYm9hcmQgYXMgeW91ciBvd24uXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlJbXSB3IEtRa3EgLSAwIDFcIixcbiAgICAgICAgY2hlc3M5NjA6IHRydWUsIGljb246IFwiK1wiLCBpY29uOTYwOiBcIiVcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQ4eDhcIiwgcGllY2VGYW1pbHk6IFwic3RhbmRhcmRcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7XG4gICAgICAgICAgICByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcInFcIl0sXG4gICAgICAgICAgICBjYXB0dXJlVG9IYW5kOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICAgICAgYWx0ZXJuYXRlU3RhcnQ6IHtcbiAgICAgICAgICAgICcnOiBcIlwiLFxuICAgICAgICAgICAgJ1Bhd25zUHVzaGVkJzogXCJybmJxa2Juci84LzgvcHBwcHBwcHAvUFBQUFBQUFAvOC84L1JOQlFLQk5SIHcgLSAtIDAgMVwiLFxuICAgICAgICAgICAgJ1Bhd25zUGFzc2VkJzogXCJybmJxa2Juci84LzgvUFBQUFBQUFAvcHBwcHBwcHAvOC84L1JOQlFLQk5SIHcgLSAtIDAgMVwiLFxuICAgICAgICAgICAgJ1Vwc2lkZURvd24nOiBcIlJOQlFLQk5SL1BQUFBQUFBQLzgvOC84LzgvcHBwcHBwcHAvcm5icWtibnIgdyAtIC0gMCAxXCIsXG4gICAgICAgICAgICAnVGhlYmFuJzogXCIxcDYvMnAza24vM3AycHAvNHBwcHAvNXBwcC84L1BQUFBQUFBQL1BQUFBQUEtOIHcgLSAtIDAgMVwiLFxuICAgICAgICAgICAgJ05vIGNhc3RsZSc6ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SIHcgLSAtIDAgMSdcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIHBsYWNlbWVudDogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwicGxhY2VtZW50XCIsIHRvb2x0aXA6IFwiQ2hvb3NlIHdoZXJlIHlvdXIgcGllY2VzIHN0YXJ0LlwiLFxuICAgICAgICBzdGFydEZlbjogXCI4L3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvOFtLUVJSQkJOTmtxcnJiYm5uXSB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJTXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN0YW5kYXJkXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wiblwiLCBcImJcIiwgXCJyXCIsIFwicVwiLCBcImtcIl0sIGNhcHR1cmVUb0hhbmQ6IGZhbHNlIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgYXRvbWljOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJhdG9taWNcIiwgdG9vbHRpcDogXCJQaWVjZXMgZXhwbG9kZSB1cG9uIGNhcHR1cmUuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIn5cIiwgaWNvbjk2MDogXCJcXFxcXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN0YW5kYXJkXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICB1aTogeyBwaWVjZVNvdW5kOiBcImF0b21pY1wiIH0sXG4gICAgfSksXG5cbiAgICBkdWNrOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJkdWNrXCIsIHRvb2x0aXA6IFwiVGhlIGR1Y2sgbXVzdCBiZSBtb3ZlZCB0byBhIG5ldyBzcXVhcmUgYWZ0ZXIgZXZlcnkgdHVybi5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0VcdUREODZcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQ4eDhcIiwgcGllY2VGYW1pbHk6IFwic3RhbmRhcmRcIixcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiLCBcIipcIl0sIGJsYWNrOiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0gfSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlLCBkdWNrOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBtYWtydWs6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcIm1ha3J1a1wiLCB0b29sdGlwOiBcIlRoYWkgQ2hlc3MuIEEgZ2FtZSBjbG9zZWx5IHJlc2VtYmxpbmcgdGhlIG9yaWdpbmFsIENoYXR1cmFuZ2EuIFNpbWlsYXIgdG8gQ2hlc3MgYnV0IHdpdGggYSBkaWZmZXJlbnQgcXVlZW4gYW5kIGJpc2hvcC5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5zbWtzbnIvOC9wcHBwcHBwcC84LzgvUFBQUFBQUFAvOC9STlNLTVNOUiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJRXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcIm1ha3J1azh4OFwiLCBwaWVjZUZhbWlseTogXCJtYWtydWtcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJzXCIsIFwibVwiLCBcIm5cIiwgXCJyXCIsIFwicFwiLCBcIm1+XCIgYXMgY2cuTGV0dGVyXSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwicmVndWxhclwiLCBvcmRlcjogW1wibVwiXSB9LFxuICAgICAgICB1aTogeyBjb3VudGluZzogXCJtYWtydWtcIiwgc2hvd1Byb21vdGVkOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBtYWtwb25nOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJtYWtwb25nXCIsIHRvb2x0aXA6IF8oXCJNYWtydWsgdmFyaWFudCB3aGVyZSBraW5ncyBjYW5ub3QgbW92ZSB0byBlc2NhcGUgb3V0IG9mIGNoZWNrLlwiKSxcbiAgICAgICAgc3RhcnRGZW46IFwicm5zbWtzbnIvOC9wcHBwcHBwcC84LzgvUFBQUFBQUFAvOC9STlNLTVNOUiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJPXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcIm1ha3J1azh4OFwiLCBwaWVjZUZhbWlseTogXCJtYWtydWtcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJzXCIsIFwibVwiLCBcIm5cIiwgXCJyXCIsIFwicFwiLCBcIm1+XCIgYXMgY2cuTGV0dGVyXSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwicmVndWxhclwiLCBvcmRlcjogW1wibVwiXSB9LFxuICAgICAgICB1aTogeyBjb3VudGluZzogXCJtYWtydWtcIiwgc2hvd1Byb21vdGVkOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBjYW1ib2RpYW46IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImNhbWJvZGlhblwiLCBkaXNwbGF5TmFtZTogXCJvdWsgY2hha3RyYW5nXCIsIHRvb2x0aXA6IFwiQ2FtYm9kaWFuIENoZXNzLiBNYWtydWsgd2l0aCBhIGZldyBhZGRpdGlvbmFsIG9wZW5pbmcgYWJpbGl0aWVzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybnNta3Nuci84L3BwcHBwcHBwLzgvOC9QUFBQUFBQUC84L1JOU0tNU05SIHcgREVkZSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIiFcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwibWFrcnVrOHg4XCIsIHBpZWNlRmFtaWx5OiBcIm1ha3J1a1wiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInNcIiwgXCJtXCIsIFwiblwiLCBcInJcIiwgXCJwXCIsIFwibX5cIiBhcyBjZy5MZXR0ZXJdLFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJyZWd1bGFyXCIsIG9yZGVyOiBbXCJtXCJdIH0sXG4gICAgICAgIHVpOiB7IGNvdW50aW5nOiBcIm1ha3J1a1wiLCBzaG93UHJvbW90ZWQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIHNpdHR1eWluOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzaXR0dXlpblwiLCB0b29sdGlwOiBcIkJ1cm1lc2UgQ2hlc3MuIFNpbWlsYXIgdG8gTWFrcnVrLCBidXQgcGllY2VzIGFyZSBwbGFjZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBtYXRjaC5cIixcbiAgICAgICAgc3RhcnRGZW46IFwiOC84LzRwcHBwL3BwcHA0LzRQUFBQL1BQUFA0LzgvOFtLRlJSU1NOTmtmcnJzc25uXSB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCI6XCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNpdHR1eWluOHg4XCIsIHBpZWNlRmFtaWx5OiBcInNpdHR1eWluXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJSZWRcIiwgc2Vjb25kOiBcIkJsYWNrXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJmXCIsIFwic1wiLCBcIm5cIiwgXCJyXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJyXCIsIFwiblwiLCBcInNcIiwgXCJmXCIsIFwia1wiXSwgY2FwdHVyZVRvSGFuZDogZmFsc2UgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwicmVndWxhclwiLCBvcmRlcjogW1wiZlwiXSB9LFxuICAgIH0pLFxuXG4gICAgYXNlYW46IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImFzZWFuXCIsIHRvb2x0aXA6IFwiTWFrcnVrIHVzaW5nIHRoZSBib2FyZC9waWVjZXMgZnJvbSBJbnRlcm5hdGlvbmFsIENoZXNzIGFzIHdlbGwgYXMgcGF3biBwcm9tb3Rpb24gcnVsZXMuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yLzgvcHBwcHBwcHAvOC84L1BQUFBQUFBQLzgvUk5CUUtCTlIgdyAtIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiXHUyNjdCXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcImFzZWFuXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcImJcIiwgXCJuXCIsIFwiclwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcInJcIiwgXCJuXCIsIFwiYlwiLCBcInFcIl0gfSxcbiAgICAgICAgdWk6IHsgY291bnRpbmc6IFwiYXNlYW5cIiB9LFxuICAgIH0pLFxuXG4gICAgc2hvZ2k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcInNob2dpXCIsIHRvb2x0aXA6IF8oXCJKYXBhbmVzZSBDaGVzcywgYW5kIHRoZSBzdGFuZGFyZCA5eDkgdmVyc2lvbiBwbGF5ZWQgdG9kYXkgd2l0aCBkcm9wcyBhbmQgcHJvbW90aW9ucy4gXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJsbnNna2dzbmwvMXI1YjEvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCJLXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNob2dpOXg5XCIsIHBpZWNlRmFtaWx5OiBcInNob2dpXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImdcIiwgXCJyXCIsIFwiYlwiLCBcInNcIiwgXCJuXCIsIFwibFwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiLCBcImdcIiwgXCJiXCIsIFwiclwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiLCBcInJcIiwgXCJiXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGRlZmF1bHRUaW1lQ29udHJvbDogXCJieW95b21pXCIgfSxcbiAgICAgICAgdWk6IHsgcGllY2VTb3VuZDogXCJzaG9naVwiIH0sXG4gICAgICAgIGFsdGVybmF0ZVN0YXJ0OiB7XG4gICAgICAgICAgICAnJzogJycsXG4gICAgICAgICAgICAnTGFuY2UgSEMnOiAnbG5zZ2tnc24xLzFyNWIxL3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICdCaXNob3AgSEMnOiAnbG5zZ2tnc25sLzFyNy9wcHBwcHBwcHAvOS85LzkvUFBQUFBQUFBQLzFCNVIxL0xOU0dLR1NOTFstXSBiIDAgMScsXG4gICAgICAgICAgICAnUm9vayBIQyc6ICdsbnNna2dzbmwvN2IxL3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICdSb29rK0xhbmNlIEhDJzogJ2xuc2drZ3NuMS83YjEvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzItUGllY2UgSEMnOiAnbG5zZ2tnc25sLzkvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzQtUGllY2UgSEMnOiAnMW5zZ2tnc24xLzkvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzYtUGllY2UgSEMnOiAnMnNna2dzMi85L3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICc4LVBpZWNlIEhDJzogJzNna2czLzkvcHBwcHBwcHBwLzkvOS85L1BQUFBQUFBQUC8xQjVSMS9MTlNHS0dTTkxbLV0gYiAwIDEnLFxuICAgICAgICAgICAgJzktUGllY2UgSEMnOiAnM2drNC85L3BwcHBwcHBwcC85LzkvOS9QUFBQUFBQUFAvMUI1UjEvTE5TR0tHU05MWy1dIGIgMCAxJyxcbiAgICAgICAgICAgICcxMC1QaWVjZSBIQyc6ICc0azQvOS9wcHBwcHBwcHAvOS85LzkvUFBQUFBQUFBQLzFCNVIxL0xOU0dLR1NOTFstXSBiIDAgMSdcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIG1pbmlzaG9naTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwibWluaXNob2dpXCIsIHRvb2x0aXA6IFwiNXg1IFNob2dpIGZvciBtb3JlIGNvbXBhY3QgYW5kIGZhc3RlciBnYW1lcy4gVGhlcmUgYXJlIG5vIGtuaWdodHMgb3IgbGFuY2VzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJyYnNnay80cC81L1A0L0tHU0JSWy1dIHcgMCAxXCIsXG4gICAgICAgIGljb246IFwiNlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzaG9naTV4NVwiLCBwaWVjZUZhbWlseTogXCJzaG9naVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiQmxhY2tcIiwgc2Vjb25kOiBcIldoaXRlXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJnXCIsIFwiclwiLCBcImJcIiwgXCJzXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJwXCIsIFwic1wiLCBcImdcIiwgXCJiXCIsIFwiclwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcInNcIiwgXCJyXCIsIFwiYlwiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgIH0pLFxuXG4gICAga3lvdG9zaG9naTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwia3lvdG9zaG9naVwiLCBkaXNwbGF5TmFtZTogXCJreW90byBzaG9naVwiLCB0b29sdGlwOiBcIkEgd2lsZCBTaG9naSB2YXJpYW50IG9uIGEgNXg1IGJvYXJkIHdoZXJlIHBpZWNlcyBmbGlwIGludG8gYSBkaWZmZXJlbnQgcGllY2UgYWZ0ZXIgZWFjaCBtb3ZlLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJwK25rcytsLzUvNS81LytMU0srTlBbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCIpXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNob2dpNXg1XCIsIHBpZWNlRmFtaWx5OiBcImt5b3RvXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImxcIiwgXCJzXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcImxcIiwgXCJuXCIsIFwic1wiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgIH0pLFxuXG4gICAgZG9idXRzdTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZG9idXRzdVwiLCB0b29sdGlwOiBfKFwiM3g0IGdhbWUgd2l0aCBjdXRlIGFuaW1hbHMsIGRlc2lnbmVkIHRvIHRlYWNoIGNoaWxkcmVuIGhvdyB0byBwbGF5IFNob2dpLlwiKSxcbiAgICAgICAgc3RhcnRGZW46IFwiZ2xlLzFjMS8xQzEvRUxHWy1dIHcgMCAxXCIsXG4gICAgICAgIGljb246IFwiOFwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzaG9naTN4NFwiLCBwaWVjZUZhbWlseTogXCJkb2J1dHN1XCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wibFwiLCBcImdcIiwgXCJlXCIsIFwiY1wiXSxcbiAgICAgICAga2luZ1JvbGVzOiBbXCJsXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcImVcIiwgXCJnXCIsIFwiY1wiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wiY1wiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgIH0pLFxuXG4gICAgZ29yb2dvcm86IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImdvcm9nb3JvXCIsIHRvb2x0aXA6IFwiNXg2IFNob2dpIGRlc2lnbmVkIHRvIGludHJvZHVjZSB0YWN0aWNzIHdpdGggdGhlIGdlbmVyYWxzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJzZ2tncy81LzFwcHAxLzFQUFAxLzUvU0dLR1NbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0RcdURDMzFcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic2hvZ2k1eDZcIiwgcGllY2VGYW1pbHk6IFwic2hvZ2lcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIkJsYWNrXCIsIHNlY29uZDogXCJXaGl0ZVwiIH0sXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiZ1wiLCBcInNcIiwgXCJwXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcInBcIiwgXCJzXCIsIFwiZ1wiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcInNcIl0gfSxcbiAgICAgICAgcnVsZXM6IHsgZGVmYXVsdFRpbWVDb250cm9sOiBcImJ5b3lvbWlcIiB9LFxuICAgICAgICB1aTogeyBwaWVjZVNvdW5kOiBcInNob2dpXCIgfSxcbiAgICB9KSxcblxuICAgIGdvcm9nb3JvcGx1czogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ29yb2dvcm9wbHVzXCIsIGRpc3BsYXlOYW1lOiBcImdvcm9nb3JvK1wiLCB0b29sdGlwOiBcIjV4NiBTaG9naSBkZXNpZ25lZCB0byBpbnRyb2R1Y2UgdGFjdGljcyB3aXRoIHRoZSBnZW5lcmFscy5cIixcbiAgICAgICAgc3RhcnRGZW46IFwic2drZ3MvNS8xcHBwMS8xUFBQMS81L1NHS0dTW0xObG5dIHcgMCAxXCIsXG4gICAgICAgIGljb246IFwiXHVEODNEXHVEQzMxXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInNob2dpNXg2XCIsIHBpZWNlRmFtaWx5OiBcInNob2dpXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJCbGFja1wiLCBzZWNvbmQ6IFwiV2hpdGVcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImdcIiwgXCJzXCIsIFwiblwiLCBcImxcIiwgXCJwXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcInBcIiwgXCJsXCIsIFwiblwiLCBcInNcIiwgXCJnXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInNob2dpXCIsIHJvbGVzOiBbXCJwXCIsIFwic1wiLCBcIm5cIiwgXCJsXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGRlZmF1bHRUaW1lQ29udHJvbDogXCJieW95b21pXCIgfSxcbiAgICAgICAgdWk6IHsgcGllY2VTb3VuZDogXCJzaG9naVwiIH0sXG4gICAgICAgIGFsdGVybmF0ZVN0YXJ0OiB7XG4gICAgICAgICAgICAnR29yb2dvcm8gUGx1cyBOK0wnOiAnJyxcbiAgICAgICAgICAgICdPcmlnaW5hbCAoTm8gTitMKSc6ICdzZ2tncy81LzFwcHAxLzFQUFAxLzUvU0dLR1NbLV0gdyAwIDEnXG4gICAgICAgIH0sXG4gICAgfSksXG5cbiAgICB0b3Jpc2hvZ2k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcInRvcmlzaG9naVwiLCBkaXNwbGF5TmFtZTogXCJ0b3JpIHNob2dpXCIsIHRvb2x0aXA6IFwiQSBjb25mcm9udGF0aW9uYWwgN3g3IHZhcmlhbnQgd2l0aCB1bmlxdWUgcGllY2VzIGVhY2ggbmFtZWQgYWZ0ZXIgZGlmZmVyZW50IGJpcmRzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJycGNrY3BsLzNmMy9zc3Nzc3NzLzJzMVMyL1NTU1NTU1MvM0YzL0xQQ0tDUFJbLV0gdyAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0RcdURDMjZcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic2hvZ2k3eDdcIiwgcGllY2VGYW1pbHk6IFwidG9yaVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiQmxhY2tcIiwgc2Vjb25kOiBcIldoaXRlXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJjXCIsIFwicFwiLCBcImxcIiwgXCJyXCIsIFwiZlwiLCBcInNcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wic1wiLCBcInBcIiwgXCJsXCIsIFwiclwiLCBcImNcIiwgXCJmXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInNob2dpXCIsIHJvbGVzOiBbXCJzXCIsIFwiZlwiXSB9LFxuICAgICAgICBydWxlczogeyBkZWZhdWx0VGltZUNvbnRyb2w6IFwiYnlveW9taVwiIH0sXG4gICAgICAgIHVpOiB7IHBpZWNlU291bmQ6IFwic2hvZ2lcIiB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDoge1xuICAgICAgICAgICAgJyc6ICcnLFxuICAgICAgICAgICAgJ0xlZnQgUXVhaWwgSEMnOiAncnBja2NwMS8zZjMvc3Nzc3Nzcy8yczFTMi9TU1NTU1NTLzNGMy9MUENLQ1BSW10gYiAwIDEnLFxuICAgICAgICAgICAgJ0ZhbGNvbiBIQyc6ICdycGNrY3BsLzcvc3Nzc3Nzcy8yczFTMi9TU1NTU1NTLzNGMy9MUENLQ1BSW10gYiAwIDEnLFxuICAgICAgICAgICAgJ0ZhbGNvbiArIExlZnQgUXVhaWwgSEMnOiAncnBja2NwMS83L3Nzc3Nzc3MvMnMxUzIvU1NTU1NTUy8zRjMvTFBDS0NQUltdIGIgMCAxJyxcbiAgICAgICAgICAgICdGYWxjb24gKyBCb3RoIFF1YWlscyBIQyc6ICcxcGNrY3AxLzcvc3Nzc3Nzcy8yczFTMi9TU1NTU1NTLzNGMy9MUENLQ1BSW10gYiAwIDEnLFxuICAgICAgICB9LFxuICAgIH0pLFxuXG4gICAgeGlhbmdxaTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwieGlhbmdxaVwiLCB0b29sdGlwOiBcIkNoaW5lc2UgQ2hlc3MsIG9uZSBvZiB0aGUgb2xkZXN0IGFuZCBtb3N0IHBsYXllZCBib2FyZCBnYW1lcyBpbiB0aGUgd29ybGQuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYmFrYWJuci85LzFjNWMxL3AxcDFwMXAxcC85LzkvUDFQMVAxUDFQLzFDNUMxLzkvUk5CQUtBQk5SIHcgLSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcInxcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwieGlhbmdxaTl4MTBcIiwgcGllY2VGYW1pbHk6IFwieGlhbmdxaVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiUmVkXCIsIHNlY29uZDogXCJCbGFja1wiIH0sXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiYVwiLCBcImNcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJyZWd1bGFyXCIsIHJvbGVzOiBbXSB9LFxuICAgIH0pLFxuXG4gICAgbWFuY2h1OiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJtYW5jaHVcIiwgdG9vbHRpcDogXCJYaWFuZ3FpIHZhcmlhbnQgd2hlcmUgb25lIHNpZGUgaGFzIGEgY2hhcmlvdCB0aGF0IGNhbiBhbHNvIG1vdmUgYXMgYSBjYW5ub24gb3IgaG9yc2UuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYmFrYWJuci85LzFjNWMxL3AxcDFwMXAxcC85LzkvUDFQMVAxUDFQLzkvOS9NMUJBS0FCMiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJ7XCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInhpYW5ncWk5eDEwXCIsIHBpZWNlRmFtaWx5OiBcInhpYW5ncWlcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIlJlZFwiLCBzZWNvbmQ6IFwiQmxhY2tcIiB9LFxuICAgICAgICBwaWVjZVJvdzogeyB3aGl0ZTogW1wia1wiLCBcImFcIiwgXCJtXCIsIFwiYlwiLCBcInBcIl0sIGJsYWNrOiBbXCJrXCIsIFwiYVwiLCBcImNcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgcm9sZXM6IFtdIH0sXG4gICAgfSksXG5cbiAgICBqYW5nZ2k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImphbmdnaVwiLCB0b29sdGlwOiBcIktvcmVhbiBDaGVzcywgc2ltaWxhciB0byBYaWFuZ3FpIGJ1dCBwbGF5cyBtdWNoIGRpZmZlcmVudGx5LiBUb3VybmFtZW50IHJ1bGVzIGFyZSB1c2VkLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJhMWFibnIvNGs0LzFjNWMxL3AxcDFwMXAxcC85LzkvUDFQMVAxUDFQLzFDNUMxLzRLNC9STkJBMUFCTlIgdyAtIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiPVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJqYW5nZ2k5eDEwXCIsIHBpZWNlRmFtaWx5OiBcImphbmdnaVwiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiQmx1ZVwiLCBzZWNvbmQ6IFwiUmVkXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJhXCIsIFwiY1wiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgcm9sZXM6IFtdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGRlZmF1bHRUaW1lQ29udHJvbDogXCJieW95b21pXCIsIHBhc3M6IHRydWUsIHNldHVwOiB0cnVlIH0sXG4gICAgICAgIHVpOiB7IG1hdGVyaWFsUG9pbnQ6IFwiamFuZ2dpXCIgfSxcbiAgICB9KSxcblxuICAgIG1pbml4aWFuZ3FpOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJtaW5peGlhbmdxaVwiLCB0b29sdGlwOiBcIkNvbXBhY3QgdmVyc2lvbiBvZiBYaWFuZ3FpIHBsYXllZCBvbiBhIDd4NyBib2FyZCB3aXRob3V0IGEgcml2ZXIuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJjbmtuY3IvcDFwcHAxcC83LzcvNy9QMVBQUDFQL1JDTktOQ1IgdyAtIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiN1wiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJ4aWFuZ3FpN3g3XCIsIHBpZWNlRmFtaWx5OiBcInhpYW5ncWlcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIlJlZFwiLCBzZWNvbmQ6IFwiQmxhY2tcIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImNcIiwgXCJyXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgcm9sZXM6IFtdIH0sXG4gICAgfSksXG5cbiAgICBjYXBhYmxhbmNhOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJjYXBhYmxhbmNhXCIsIHRvb2x0aXA6IFwiUGxheSB3aXRoIHRoZSBoeWJyaWQgcGllY2VzLCBhcmNoYmlzaG9wIChCK04pIGFuZCBjaGFuY2VsbG9yIChSK04pLCBvbiBhIDEweDggYm9hcmQuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYWJxa2JjbnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQUJRS0JDTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIlBcIiwgaWNvbjk2MDogXCIsXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkMTB4OFwiLCBwaWVjZUZhbWlseTogXCJjYXBhXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcImNcIiwgXCJhXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlIH0sXG4gICAgICAgIGFsdGVybmF0ZVN0YXJ0OiB7XG4gICAgICAgICAgICAnJzogJycsXG4gICAgICAgICAgICAnQmlyZCc6ICdybmJjcWthYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJDUUtBQk5SIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnQ2FycmVyYSc6ICdyY25icWtibmFyL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9SQ05CUUtCTkFSIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnQ29uc2VydmF0aXZlJzogJ2FybmJxa2JucmMvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL0FSTkJRS0JOUkMgdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdFbWJhc3N5JzogJ3JuYnFrY2FibnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQlFLQ0FCTlIgdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdHb3RoaWMnOiAncm5icWNrYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CUUNLQUJOUiB3IEtRa3EgLSAwIDEnLFxuICAgICAgICAgICAgJ1NjaG9vbGJvb2snOiAncnFuYmFrYm5jci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUlFOQkFLQk5DUiB3IEtRa3EgLSAwIDEnLFxuICAgICAgICB9LFxuICAgIH0pLFxuXG4gICAgY2FwYWhvdXNlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJjYXBhaG91c2VcIiwgdG9vbHRpcDogXyhcIkNhcGFibGFuY2Egd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJybmFicWtiY25yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkFCUUtCQ05SW10gdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGNoZXNzOTYwOiB0cnVlLCBpY29uOiBcIiZcIiwgaWNvbjk2MDogXCInXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkMTB4OFwiLCBwaWVjZUZhbWlseTogXCJjYXBhXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicVwiLCBcImNcIiwgXCJhXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJwXCIsIFwiblwiLCBcImJcIiwgXCJyXCIsIFwiYVwiLCBcImNcIiwgXCJxXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICBhbHRlcm5hdGVTdGFydDoge1xuICAgICAgICAgICAgJyc6ICcnLFxuICAgICAgICAgICAgJ0JpcmQnOiAncm5iY3FrYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CQ1FLQUJOUltdIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnQ2FycmVyYSc6ICdyY25icWtibmFyL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9SQ05CUUtCTkFSW10gdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdDb25zZXJ2YXRpdmUnOiAnYXJuYnFrYm5yYy9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvQVJOQlFLQk5SQ1tdIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnRW1iYXNzeSc6ICdybmJxa2NhYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRS0NBQk5SW10gdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgICAgICdHb3RoaWMnOiAncm5icWNrYWJuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5CUUNLQUJOUltdIHcgS1FrcSAtIDAgMScsXG4gICAgICAgICAgICAnU2Nob29sYm9vayc6ICdycW5iYWtibmNyL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9SUU5CQUtCTkNSW10gdyBLUWtxIC0gMCAxJyxcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIHNlaXJhd2FuOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzZWlyYXdhblwiLCBkaXNwbGF5TmFtZTogXCJzLWNoZXNzXCIsIHRvb2x0aXA6IFwiSHlicmlkIHBpZWNlcywgdGhlIGhhd2sgKEIrTikgYW5kIGVsZXBoYW50IChSK04pLCBjYW4gZW50ZXIgdGhlIGJvYXJkIGFmdGVyIG1vdmluZyBhIGJhY2sgcmFuayBwaWVjZS5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUltIRWhlXSB3IEtRQkNERkdrcWJjZGZnIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiTFwiLCAgY2hlc3M5NjA6IHRydWUsIGljb245NjA6IFwifVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJzZWlyYXdhblwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJlXCIsIFwiaFwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wiaFwiLCBcImVcIl0sIGNhcHR1cmVUb0hhbmQ6IGZhbHNlIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSwgZ2F0ZTogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgc2hvdXNlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzaG91c2VcIiwgZGlzcGxheU5hbWU6IFwicy1ob3VzZVwiLCB0b29sdGlwOiBcIlMtQ2hlc3Mgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlJbSEVoZV0gdyBLUUJDREZHa3FiY2RmZyAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIiRcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQ4eDhcIiwgcGllY2VGYW1pbHk6IFwic2VpcmF3YW5cIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJxXCIsIFwiZVwiLCBcImhcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IFtcInBcIiwgXCJuXCIsIFwiYlwiLCBcInJcIiwgXCJoXCIsIFwiZVwiLCBcInFcIl0sIGNhcHR1cmVUb0hhbmQ6IHRydWUgfSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlLCBnYXRlOiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBncmFuZDogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ3JhbmRcIiwgdG9vbHRpcDogXyhcIlBsYXkgd2l0aCB0aGUgaHlicmlkIHBpZWNlcywgYXJjaGJpc2hvcCAoQitOKSBhbmQgY2hhbmNlbGxvciAoUitOKSwgb24gYSBncmFuZCAxMHgxMCBib2FyZC5cIiksXG4gICAgICAgIHN0YXJ0RmVuOiBcInI4ci8xbmJxa2NhYm4xL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC8xTkJRS0NBQk4xL1I4UiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCIoXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcImdyYW5kMTB4MTBcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgZ3JhbmRob3VzZTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ3JhbmRob3VzZVwiLCB0b29sdGlwOiBcIkdyYW5kIENoZXNzIHdpdGggQ3Jhenlob3VzZSBkcm9wIHJ1bGVzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJyOHIvMW5icWtjYWJuMS9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvMU5CUUtDQUJOMS9SOFJbXSB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCIqXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcImdyYW5kMTB4MTBcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImFcIiwgXCJjXCIsIFwicVwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIHNoYWtvOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzaGFrb1wiLCB0b29sdGlwOiBcIkludHJvZHVjZXMgdGhlIGNhbm5vbiBhbmQgZWxlcGhhbnQgZnJvbSBYaWFuZ3FpIGludG8gYSAxMHgxMCBjaGVzcyBib2FyZC5cIixcbiAgICAgICAgc3RhcnRGZW46IFwiYzhjL2VybmJxa2JucmUvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL0VSTkJRS0JOUkUvQzhDIHcgS1FrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIjlcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQxMHgxMFwiLCBwaWVjZUZhbWlseTogXCJzaGFrb1wiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJlXCIsIFwiY1wiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcInFcIiwgXCJuXCIsIFwiY1wiLCBcInJcIiwgXCJlXCIsIFwiYlwiXSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIHNob2d1bjogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwic2hvZ3VuXCIsIHRvb2x0aXA6IFwiUGllY2VzIHByb21vdGUgYW5kIGNhbiBiZSBkcm9wcGVkLCBzaW1pbGFyIHRvIFNob2dpLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmIrZmtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkIrRktCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiLVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzaG9ndW44eDhcIiwgcGllY2VGYW1pbHk6IFwic2hvZ3VuXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiZlwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImZcIl0sIGNhcHR1cmVUb0hhbmQ6IHRydWUgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwic2hvZ2lcIiwgcm9sZXM6IFtcInBcIiwgXCJmXCIsIFwiclwiLCBcImJcIiwgXCJuXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7ZGVmYXVsdFRpbWVDb250cm9sOiBcImJ5b3lvbWlcIiwgZW5QYXNzYW50OiB0cnVlIH0sXG4gICAgfSksXG5cbiAgICBob3BwZWxwb3BwZWw6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImhvcHBlbHBvcHBlbFwiLCBkaXNwbGF5TmFtZTogXCJob3BwZWwtcG9wcGVsXCIsIHRvb2x0aXA6IFwiS25pZ2h0cyBjYXB0dXJlIGFzIGJpc2hvcHM7IGJpc2hvcHMgIGNhcHR1cmUgYXMga25pZ2h0cy5cIixcbiAgICAgICAgc3RhcnRGZW46IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJgXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcImhvcHBlbFwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIG9yZGE6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcIm9yZGFcIiwgdG9vbHRpcDogXCJBc3ltbWV0cmljIHZhcmlhbnQgd2hlcmUgb25lIGFybXkgaGFzIHBpZWNlcyB0aGF0IG1vdmUgbGlrZSBrbmlnaHRzIGJ1dCBjYXB0dXJlIGRpZmZlcmVudGx5LlwiLFxuICAgICAgICBzdGFydEZlbjogXCJsaGF5a2FobC84L3BwcHBwcHBwLzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SIHcgS1EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJSXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcIm9yZGFcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIldoaXRlXCIsIHNlY29uZDogXCJHb2xkXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiLCBcImhcIl0sIGJsYWNrOiBbXCJrXCIsIFwieVwiLCBcImxcIiwgXCJhXCIsIFwiaFwiLCBcInBcIiwgXCJxXCJdIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcInFcIiwgXCJoXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICB1aTogeyBib2FyZE1hcms6ICdjYW1wbWF0ZScgfSxcbiAgICB9KSxcblxuICAgIHN5bm9jaGVzczogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwic3lub2NoZXNzXCIsIHRvb2x0aXA6IF8oXCJBc3ltbWV0cmljIEVhc3QgdnMuIFdlc3QgdmFyaWFudCB3aGljaCBwaXRzIHRoZSB3ZXN0ZXJuIENoZXNzIGFybXkgYWdhaW5zdCBhIFhpYW5ncWkgYW5kIEphbmdnaS1zdHlsZWQgYXJteS5cIiksXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuZWFrZW5yLzgvMWM0YzEvMXNzMnNzMS84LzgvUFBQUFBQUFAvUk5CUUtCTlJbc3NdIHcgS1EgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJfXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInN5bm9jaGVzc1wiLFxuICAgICAgICBjb2xvcnM6IHsgZmlyc3Q6IFwiV2hpdGVcIiwgc2Vjb25kOiBcIlJlZFwiIH0sXG4gICAgICAgIHBpZWNlUm93OiB7IHdoaXRlOiBbXCJrXCIsIFwicVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sIGJsYWNrOiBbXCJrXCIsIFwiYVwiLCBcImNcIiwgXCJyXCIsIFwiZVwiLCBcIm5cIiwgXCJzXCJdIH0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogeyB3aGl0ZTogW10sIGJsYWNrOiBbXCJzXCJdIH0sIGNhcHR1cmVUb0hhbmQ6IGZhbHNlIH0sXG4gICAgICAgIHVpOiB7IGJvYXJkTWFyazogJ2NhbXBtYXRlJyB9LFxuICAgIH0pLFxuXG4gICAgc2hpbm9iaTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwic2hpbm9iaVwiLCB0b29sdGlwOiBcIkFzeW1tZXRyaWMgdmFyaWFudCB3aGljaCBwaXRzIHRoZSB3ZXN0ZXJuIENoZXNzIGFybXkgYWdhaW5zdCBhIGRyb3AtYmFzZWQsIFNob2dpLXN0eWxlZCBhcm15LlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL0xIMUNLMUhMW0xITU1ESl0gdyBrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlx1RDgzRFx1REMyMlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJzaGlub2JpXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJQaW5rXCIsIHNlY29uZDogXCJCbGFja1wiIH0sXG4gICAgICAgIHBpZWNlUm93OiB7IHdoaXRlOiBbXCJrXCIsIFwiZFwiLCBcImpcIiwgXCJjXCIsIFwibFwiLCBcImhcIiwgXCJtXCIsIFwicFwiXSwgYmxhY2s6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSB9LFxuICAgICAgICBwb2NrZXQ6IHsgcm9sZXM6IHsgd2hpdGU6IFtcImxcIiwgXCJoXCIsIFwibVwiLCBcImRcIiwgXCJqXCJdLCBibGFjazogW10gfSwgY2FwdHVyZVRvSGFuZDogZmFsc2UgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwic2hvZ2lcIiwgcm9sZXM6IFtcInBcIiwgXCJsXCIsIFwiaFwiLCBcIm1cIl0gfSxcbiAgICAgICAgcnVsZXM6IHsgZW5QYXNzYW50OiB0cnVlIH0sXG4gICAgICAgIHVpOiB7IGJvYXJkTWFyazogJ2NhbXBtYXRlJyB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgZXF1aXZhbGVuY2VzOiB7XG4gICAgICAgICAgICAgICAgJ3BsLXBpZWNlJzogJ3ItcGllY2UnLFxuICAgICAgICAgICAgICAgICdwaC1waWVjZSc6ICduLXBpZWNlJyxcbiAgICAgICAgICAgICAgICAncG0tcGllY2UnOiAnYi1waWVjZScsXG4gICAgICAgICAgICAgICAgJ3BwLXBpZWNlJzogJ2MtcGllY2UnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgIH0pLFxuXG4gICAgZW1waXJlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJlbXBpcmVcIiwgdG9vbHRpcDogXyhcIkFzeW1tZXRyaWMgdmFyaWFudCB3aGVyZSBvbmUgYXJteSBoYXMgcGllY2VzIHRoYXQgbW92ZSBsaWtlIHF1ZWVucyBidXQgY2FwdHVyZSBhcyB1c3VhbC5cIiksXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84L1BQUFNTUFBQLzgvVEVDREtDRVQgdyBrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlx1MjY1QVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJlbXBpcmVcIixcbiAgICAgICAgY29sb3JzOiB7IGZpcnN0OiBcIkdvbGRcIiwgc2Vjb25kOiBcIkJsYWNrXCIgfSxcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJkXCIsIFwidFwiLCBcImNcIiwgXCJlXCIsIFwicFwiLCBcInNcIiwgXCJxXCJdLCBibGFjazogW1wia1wiLCBcInFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdIH0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgICAgICB1aTogeyBib2FyZE1hcms6ICdjYW1wbWF0ZScgfSxcbiAgICB9KSxcblxuICAgIG9yZGFtaXJyb3I6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcIm9yZGFtaXJyb3JcIiwgZGlzcGxheU5hbWU6IFwib3JkYSBtaXJyb3JcIiwgdG9vbHRpcDogXyhcIk9yZGEgQ2hlc3MgdmFyaWFudCB3aXRoIHR3byBIb3JkZSBhcm1pZXMuIFRoZSBGYWxjb24gcmVwbGFjZXMgdGhlIFl1cnQuXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJsaGFma2FobC84L3BwcHBwcHBwLzgvOC9QUFBQUFBQUC84L0xIQUZLQUhMIHcgLSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlx1MjVFOVwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDh4OFwiLCBwaWVjZUZhbWlseTogXCJvcmRhbWlycm9yXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJXaGl0ZVwiLCBzZWNvbmQ6IFwiR29sZFwiIH0sXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwiZlwiLCBcImxcIiwgXCJhXCIsIFwiaFwiLCBcInBcIl0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInJlZ3VsYXJcIiwgb3JkZXI6IFtcImhcIiwgXCJsXCIsIFwiZlwiLCBcImFcIl0gfSxcbiAgICAgICAgdWk6IHsgYm9hcmRNYXJrOiAnY2FtcG1hdGUnIH0sXG4gICAgfSksXG5cbiAgICBjaGFrOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJjaGFrXCIsIHRvb2x0aXA6IFwiTWF5YW4gY2hlc3MuIEluc3BpcmVkIGJ5IGN1bHR1cmFsIGVsZW1lbnRzIG9mIE1lc29hbWVyaWNhLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJydnNxa2pzdnIvNG80L3AxcDFwMXAxcC85LzkvOS9QMVAxUDFQMVAvNE80L1JWU0pLUVNWUiB3IC0gLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0RcdURDMkNcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwiY2hhazl4OVwiLCBwaWVjZUZhbWlseTogXCJjaGFrXCIsXG4gICAgICAgIGNvbG9yczogeyBmaXJzdDogXCJXaGl0ZVwiLCBzZWNvbmQ6IFwiR3JlZW5cIiB9LFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcImpcIiwgXCJxXCIsIFwiclwiLCBcInZcIiwgXCJzXCIsIFwib1wiLCBcInBcIl0sXG4gICAgICAgIGtpbmdSb2xlczogW1wia1wiLCBcIitrXCJdLFxuICAgICAgICBwcm9tb3Rpb246IHsgdHlwZTogXCJzaG9naVwiLCByb2xlczogW1wicFwiLCBcImtcIl0sXG4gICAgICAgICAgICBzdHJpY3Q6IHtcbiAgICAgICAgICAgICAgICBpc1Byb21vdGVkOiAocGllY2U6IGNnLlBpZWNlLCBwb3M6IGNnLlBvcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBpZWNlLnJvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHAtcGllY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdway1waWVjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJyAmJiBwb3NbMV0gPj0gNCkgfHwgKHBpZWNlLmNvbG9yID09PSAnYmxhY2snICYmIHBvc1sxXSA8PSA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgZXF1aXZhbGVuY2VzOiB7XG4gICAgICAgICAgICAgICAgJ3BrLXBpZWNlJzogJ2stcGllY2UnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIGNoZW5uaXM6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImNoZW5uaXNcIiwgdG9vbHRpcDogXCJQaWVjZXMgYWx0ZXJuYXRlIGJldHdlZW4gdHdvIGZvcm1zIHdpdGggZWFjaCBtb3ZlLlwiLFxuICAgICAgICBzdGFydEZlbjogXCIxZmttMy8xcDFzMy83LzcvNy8zUzFQMS8zTUtGMVtdIHcgLSAwIDFcIixcbiAgICAgICAgaWNvbjogXCJcdUQ4M0NcdURGQkVcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwiY2hlbm5pczd4N1wiLCBwaWVjZUZhbWlseTogXCJjaGVubmlzXCIsXG4gICAgICAgIHBpZWNlUm93OiBbXCJrXCIsIFwicFwiLCBcIm1cIiwgXCJzXCIsIFwiZlwiXSxcbiAgICAgICAgcG9ja2V0OiB7IHJvbGVzOiBbXCJwXCIsIFwibVwiLCBcInNcIiwgXCJmXCJdLCBjYXB0dXJlVG9IYW5kOiB0cnVlIH0sXG4gICAgICAgIHByb21vdGlvbjogeyB0eXBlOiBcInNob2dpXCIsIHJvbGVzOiBbXCJwXCIsIFwibVwiLCBcInNcIiwgXCJmXCJdIH0sXG4gICAgfSksXG5cbiAgICBzcGFydGFuOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJzcGFydGFuXCIsIHRvb2x0aXA6IF8oXCJBc3ltbWV0cmljIFNwYXJ0YW5zIHZzLiBQZXJzaWFucyB2YXJpYW50LlwiKSxcbiAgICAgICAgc3RhcnRGZW46IFwibGdrY2Nrd2wvaGhoaGhoaGgvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiXHUyMzdBXCIsXG4gICAgICAgIGJvYXJkRmFtaWx5OiBcInN0YW5kYXJkOHg4XCIsIHBpZWNlRmFtaWx5OiBcInNwYXJ0YW5cIixcbiAgICAgICAgcGllY2VSb3c6IHsgd2hpdGU6IFtcImtcIiwgXCJxXCIsIFwiclwiLCBcImJcIiwgXCJuXCIsIFwicFwiXSwgYmxhY2s6IFtcImtcIiwgXCJnXCIsIFwid1wiLCBcImxcIiwgXCJjXCIsIFwiaFwiXSB9LFxuICAgIH0pLFxuXG4gICAgLy8gV2Ugc3VwcG9ydCB0aGUgZnVuY3Rpb25hbGl0eSB0byBpbXBvcnQvc3RvcmUvYW5hbHl6ZSBzb21lIHZhcmlhbnRzXG4gICAgLy8gYnV0IGRvbid0IHdhbnQgdG8gYWRkIHRoZW0gdG8gbGVhZGVyYm9hcmQgcGFnZVxuICAgIGVtYmFzc3k6IHZhcmlhbnQoe1xuICAgICAgICBuYW1lOiBcImVtYmFzc3lcIiwgdG9vbHRpcDogXCJMaWtlIENhcGFibGFuY2EgQ2hlc3MgYnV0IHdpdGggR3JhbmQgc3RhcnRpbmcgc2V0dXAuXCIsXG4gICAgICAgIHN0YXJ0RmVuOiBcInJuYnFrY2FibnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQlFLQ0FCTlIgdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiUFwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDEweDhcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHJ1bGVzOiB7IGVuUGFzc2FudDogdHJ1ZSB9LFxuICAgIH0pLFxuXG4gICAgZW1iYXNzeWhvdXNlOiB2YXJpYW50KHtcbiAgICAgICAgbmFtZTogXCJlbWJhc3N5aG91c2VcIiwgdG9vbHRpcDogXCJFbWJhc3N5IHdpdGggQ3Jhenlob3VzZSBkcm9wIHJ1bGVzLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxa2NhYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRS0NBQk5SW10gdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiJlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDEweDhcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImFcIiwgXCJjXCIsIFwicVwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIGdvdGhpYzogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ290aGljXCIsIHRvb2x0aXA6IFwiTGlrZSBDYXBhYmxhbmNhIENoZXNzIGJ1dCB3aXRoIGEgZGlmZmVyZW50IHN0YXJ0aW5nIHNldHVwLlwiLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxY2thYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRQ0tBQk5SIHcgS1FrcSAtIDAgMVwiLFxuICAgICAgICBpY29uOiBcIlBcIixcbiAgICAgICAgYm9hcmRGYW1pbHk6IFwic3RhbmRhcmQxMHg4XCIsIHBpZWNlRmFtaWx5OiBcImNhcGFcIixcbiAgICAgICAgcGllY2VSb3c6IFtcImtcIiwgXCJxXCIsIFwiY1wiLCBcImFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIiwgXCJwXCJdLFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcblxuICAgIGdvdGhob3VzZTogdmFyaWFudCh7XG4gICAgICAgIG5hbWU6IFwiZ290aGhvdXNlXCIsIHRvb2x0aXA6IF8oXCJHb3RoaWMgd2l0aCBDcmF6eWhvdXNlIGRyb3AgcnVsZXMuXCIpLFxuICAgICAgICBzdGFydEZlbjogXCJybmJxY2thYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRQ0tBQk5SW10gdyBLUWtxIC0gMCAxXCIsXG4gICAgICAgIGljb246IFwiJlwiLFxuICAgICAgICBib2FyZEZhbWlseTogXCJzdGFuZGFyZDEweDhcIiwgcGllY2VGYW1pbHk6IFwiY2FwYVwiLFxuICAgICAgICBwaWVjZVJvdzogW1wia1wiLCBcInFcIiwgXCJjXCIsIFwiYVwiLCBcInJcIiwgXCJiXCIsIFwiblwiLCBcInBcIl0sXG4gICAgICAgIHBvY2tldDogeyByb2xlczogW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcImFcIiwgXCJjXCIsIFwicVwiXSwgY2FwdHVyZVRvSGFuZDogdHJ1ZSB9LFxuICAgICAgICBydWxlczogeyBlblBhc3NhbnQ6IHRydWUgfSxcbiAgICB9KSxcbn07XG5cbmV4cG9ydCBjb25zdCB2YXJpYW50cyA9IE9iamVjdC5rZXlzKFZBUklBTlRTKTtcbmNvbnN0IGRpc2FibGVkVmFyaWFudHMgPSBbIFwiZ290aGljXCIsIFwiZ290aGhvdXNlXCIsIFwiZW1iYXNzeVwiLCBcImVtYmFzc3lob3VzZVwiLCBcImdvcm9nb3JvXCIgXTtcbmV4cG9ydCBjb25zdCBlbmFibGVkVmFyaWFudHMgPSB2YXJpYW50cy5maWx0ZXIodiA9PiAhZGlzYWJsZWRWYXJpYW50cy5pbmNsdWRlcyh2KSk7XG5cbmV4cG9ydCBjb25zdCB2YXJpYW50R3JvdXBzOiB7IFsga2V5OiBzdHJpbmcgXTogeyB2YXJpYW50czogc3RyaW5nW10gfSB9ID0ge1xuICAgIHN0YW5kYXJkOiB7IHZhcmlhbnRzOiBbIFwiY2hlc3NcIiwgXCJjcmF6eWhvdXNlXCIsIFwicGxhY2VtZW50XCIsIFwiYXRvbWljXCIsIFwiZHVja1wiIF0gfSxcbiAgICBzZWE6ICAgICAgeyB2YXJpYW50czogWyBcIm1ha3J1a1wiLCBcIm1ha3BvbmdcIiwgXCJjYW1ib2RpYW5cIiwgXCJzaXR0dXlpblwiLCBcImFzZWFuXCIgXSB9LFxuICAgIHNob2dpOiAgICB7IHZhcmlhbnRzOiBbIFwic2hvZ2lcIiwgXCJtaW5pc2hvZ2lcIiwgXCJreW90b3Nob2dpXCIsIFwiZG9idXRzdVwiLCBcImdvcm9nb3JvcGx1c1wiLCBcInRvcmlzaG9naVwiIF0gfSxcbiAgICB4aWFuZ3FpOiAgeyB2YXJpYW50czogWyBcInhpYW5ncWlcIiwgXCJtYW5jaHVcIiwgXCJqYW5nZ2lcIiwgXCJtaW5peGlhbmdxaVwiIF0gfSxcbiAgICBmYWlyeTogICAgeyB2YXJpYW50czogWyBcImNhcGFibGFuY2FcIiwgXCJjYXBhaG91c2VcIiwgXCJzZWlyYXdhblwiLCBcInNob3VzZVwiLCBcImdyYW5kXCIsIFwiZ3JhbmRob3VzZVwiLCBcInNoYWtvXCIsIFwic2hvZ3VuXCIsIFwiaG9wcGVscG9wcGVsXCIgXSB9LFxuICAgIGFybXk6ICAgICB7IHZhcmlhbnRzOiBbIFwib3JkYVwiLCBcInN5bm9jaGVzc1wiLCBcInNoaW5vYmlcIiwgXCJlbXBpcmVcIiwgXCJvcmRhbWlycm9yXCIsIFwiY2hha1wiLCBcImNoZW5uaXNcIiwgXCJzcGFydGFuXCIgXSB9LFxufTtcblxuZnVuY3Rpb24gdmFyaWFudEdyb3VwTGFiZWwoZ3JvdXA6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZ3JvdXBzOiB7W2luZGV4OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xuICAgICAgICBzdGFuZGFyZDogXyhcIkNoZXNzIFZhcmlhbnRzXCIpLFxuICAgICAgICBzZWE6IF8oXCJNYWtydWsgVmFyaWFudHNcIiksXG4gICAgICAgIHNob2dpOiBfKFwiU2hvZ2kgVmFyaWFudHNcIiksXG4gICAgICAgIHhpYW5ncWk6IF8oXCJYaWFuZ3FpIFZhcmlhbnRzXCIpLFxuICAgICAgICBmYWlyeTogXyhcIkZhaXJ5IFBpZWNlIFZhcmlhbnRzXCIpLFxuICAgICAgICBhcm15OiBfKFwiTmV3IEFybXkgVmFyaWFudHNcIiksXG4gICAgfVxuICAgIHJldHVybiBncm91cHNbZ3JvdXBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VmFyaWFudChpZDogc3RyaW5nLCBzZWxlY3RlZDogc3RyaW5nLCBvbkNoYW5nZTogRXZlbnRMaXN0ZW5lciwgaG9va0luc2VydDogSW5zZXJ0SG9vayk6IFZOb2RlIHtcbiAgICByZXR1cm4gaCgnc2VsZWN0IycgKyBpZCwge1xuICAgICAgICBwcm9wczogeyBuYW1lOiBpZCB9LFxuICAgICAgICBvbjogeyBjaGFuZ2U6IG9uQ2hhbmdlIH0sXG4gICAgICAgIGhvb2s6IHsgaW5zZXJ0OiBob29rSW5zZXJ0IH0sXG4gICAgfSxcbiAgICAgICAgT2JqZWN0LmtleXModmFyaWFudEdyb3VwcykubWFwKGcgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB2YXJpYW50R3JvdXBzW2ddO1xuICAgICAgICAgICAgcmV0dXJuIGgoJ29wdGdyb3VwJywgeyBwcm9wczogeyBsYWJlbDogdmFyaWFudEdyb3VwTGFiZWwoZykgfSB9LCBncm91cC52YXJpYW50cy5tYXAodiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFudCA9IFZBUklBTlRTW3ZdO1xuICAgICAgICAgICAgICAgIHJldHVybiBoKCdvcHRpb24nLCB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzOiB7IHZhbHVlOiB2LCB0aXRsZTogdmFyaWFudC50b29sdGlwIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNlbGVjdGVkOiB2ID09PSBzZWxlY3RlZCB9LFxuICAgICAgICAgICAgICAgIH0sIHZhcmlhbnQuZGlzcGxheU5hbWUoZmFsc2UpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSksXG4gICAgKTtcbn1cblxuLy8gU29tZSB2YXJpYW50cyBuZWVkIHRvIGJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgYWNjb3JkaW5nIHRvIHRoZSBGRU4uXG4vLyBSZWZlciB0byBzZXJ2ZXIvZmFpcnkucHkgZm9yIG1vcmUgaW5mb3JtYXRpb25cbmV4cG9ydCBmdW5jdGlvbiBtb2RkZWRWYXJpYW50KHZhcmlhbnROYW1lOiBzdHJpbmcsIGNoZXNzOTYwOiBib29sZWFuLCBwaWVjZXM6IGNnLlBpZWNlcywgY2FzdGxpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFjaGVzczk2MCAmJiBbXCJjYXBhYmxhbmNhXCIsIFwiY2FwYWhvdXNlXCJdLmluY2x1ZGVzKHZhcmlhbnROYW1lKSkge1xuICAgICAgICBjb25zdCB3aGl0ZUtpbmcgPSBwaWVjZXMuZ2V0KCdlMScpO1xuICAgICAgICBjb25zdCBibGFja0tpbmcgPSBwaWVjZXMuZ2V0KCdlOCcpO1xuICAgICAgICBpZiAoY2FzdGxpbmcgIT09ICctJyAmJlxuICAgICAgICAgICAgKCghY2FzdGxpbmcuaW5jbHVkZXMoJ0snKSAmJiAhY2FzdGxpbmcuaW5jbHVkZXMoJ1EnKSkgfHwgKHdoaXRlS2luZyAmJiB1dGlsLnNhbWVQaWVjZSh3aGl0ZUtpbmcsIHsgcm9sZTogJ2stcGllY2UnLCBjb2xvcjogJ3doaXRlJyB9KSkpICYmXG4gICAgICAgICAgICAoKCFjYXN0bGluZy5pbmNsdWRlcygnaycpICYmICFjYXN0bGluZy5pbmNsdWRlcygncScpKSB8fCAoYmxhY2tLaW5nICYmIHV0aWwuc2FtZVBpZWNlKGJsYWNrS2luZywgeyByb2xlOiAnay1waWVjZScsIGNvbG9yOiAnYmxhY2snIH0pKSkpXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudE5hbWUuaW5jbHVkZXMoXCJob3VzZVwiKSA/IFwiZW1iYXNzeWhvdXNlXCIgOiBcImVtYmFzc3lcIjtcbiAgICB9XG4gICAgcmV0dXJuIHZhcmlhbnROYW1lO1xufVxuXG4vLyBUT0RPIG1lcmdlIGludG8gdGhlIHZhcmlhbnQgdHlwZVxuZXhwb3J0IGZ1bmN0aW9uIG5vdGF0aW9uKHZhcmlhbnQ6IFZhcmlhbnQpOiBjZy5Ob3RhdGlvbiB7XG4gICAgbGV0IGNnTm90YXRpb24gPSBjZy5Ob3RhdGlvbi5BTEdFQlJBSUM7XG4gICAgc3dpdGNoICh2YXJpYW50Lm5hbWUpIHtcbiAgICAgICAgY2FzZSAnamFuZ2dpJzpcbiAgICAgICAgICAgIGNnTm90YXRpb24gPSBjZy5Ob3RhdGlvbi5KQU5HR0k7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2hvZ2knOlxuICAgICAgICBjYXNlICdtaW5pc2hvZ2knOlxuICAgICAgICBjYXNlICdreW90b3Nob2dpJzpcbiAgICAgICAgY2FzZSAnZG9idXRzdSc6XG4gICAgICAgIGNhc2UgJ2dvcm9nb3JvJzpcbiAgICAgICAgY2FzZSAnZ29yb2dvcm9wbHVzJzpcbiAgICAgICAgY2FzZSAndG9yaXNob2dpJzpcbiAgICAgICAgICAgIGNnTm90YXRpb24gPSBjZy5Ob3RhdGlvbi5TSE9HSV9BUkJOVU07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAneGlhbmdxaSc6XG4gICAgICAgIGNhc2UgJ21pbml4aWFuZ3FpJzpcbiAgICAgICAgLy8gWElBTkdRSV9XWEYgY2FuJ3QgaGFuZGxlIE1tYW5jaHUgYmFubmVyIHBpZWNlIVxuICAgICAgICAgICAgY2dOb3RhdGlvbiA9IGNnLk5vdGF0aW9uLlhJQU5HUUlfQVJCTlVNO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjZ05vdGF0aW9uO1xufVxuIiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nXG5pbXBvcnQgKiBhcyBNb3VzZXRyYXAgIGZyb20gJ21vdXNldHJhcCc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuXG5pbXBvcnQgeyBwYXRjaCwgY2hhbmdlUGllY2VDU1MgfSBmcm9tICcuL2RvY3VtZW50JztcbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSAnLi9nYW1lQ3RybCc7XG5pbXBvcnQgeyBQeUNoZXNzTW9kZWwgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHVjaTJMYXN0TW92ZSB9IGZyb20gJy4vY2hlc3MnO1xuaW1wb3J0IHsgc2VsZWN0VmFyaWFudCB9IGZyb20gJy4vdmFyaWFudHMnO1xuXG5pbXBvcnQgeyByYW5kb21JZCwgUHV6emxlLCBTZXJ2ZXJEYXRhIH0gZnJvbSAnLi9wdXp6bGVyVHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdXp6bGVDb250cm9sbGVyIGV4dGVuZHMgR2FtZUNvbnRyb2xsZXIge1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgc29sdXRpb25FbDogVk5vZGUgfCBIVE1MRWxlbWVudDtcbiAgICBzb2x1dGlvbjogc3RyaW5nW107XG4gICAgc29sdXRpb25TYW46IHN0cmluZ1tdO1xuICAgIG1vdmVzRWw6IFZOb2RlIHwgSFRNTEVsZW1lbnQ7XG4gICAgbW92ZXM6IHN0cmluZ1tdID0gW107XG4gICAgbW92ZXNTYW46IHN0cmluZ1tdID0gW107XG4gICAgYWxsOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBkYXRhOiBTZXJ2ZXJEYXRhKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0ge1xuICAgICAgICAgICAgaG9tZTogZGF0YS5ob21lLFxuICAgICAgICAgICAgYXNzZXRVUkw6IGRhdGEuYXNzZXRVUkwsXG4gICAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSxcbiAgICAgICAgICAgIHZhcmlhbnQ6IGRhdGEudmFyaWFudCxcbiAgICAgICAgICAgIGZlbjogZGF0YS5mZW4sXG4gICAgICAgICAgICBwbHk6IGRhdGEucGx5LFxuICAgICAgICAgICAgZ2FtZUlkOiBkYXRhLmdhbWVJZCxcbiAgICAgICAgfSBhcyBQeUNoZXNzTW9kZWw7XG5cbiAgICAgICAgc3VwZXIoZWwsIG1vZGVsKTtcblxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gZGF0YS51c2VybmFtZTtcbiAgICAgICAgdGhpcy5zb2x1dGlvbiA9IChtb2RlbC52YXJpYW50PT09J2R1Y2snKSA/IGRhdGEubW92ZXMubWF0Y2goL1teLF0rLFteLF0rL2cpISA6IGRhdGEubW92ZXMuc3BsaXQoJywnKSE7XG4gICAgICAgIHRoaXMubW92ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICAgICAgdGhpcy5hbGwgPSBkYXRhLmFsbDtcblxuICAgICAgICBpZiAoIWRhdGEucGx5KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGRhdGEuZmVuLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgY29uc3QgZnVsbG1vdmUgPSBwYXJzZUludChwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICB0aGlzLnBseSA9IChmdWxsbW92ZSAtMSkgKiAyICsgKChjb2xvciA9PT0gXCJiXCIpID8gMSA6IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZXQoe1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7IGVuYWJsZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0aGlzLnR1cm5Db2xvcixcbiAgICAgICAgICAgIHR1cm5Db2xvcjogdGhpcy50dXJuQ29sb3IsXG4gICAgICAgICAgICBtb3ZhYmxlOiB7XG4gICAgICAgICAgICAgICAgZnJlZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMudHVybkNvbG9yLFxuLy8gICAgICAgICAgICAgICAgc2hvd0Rlc3RzOiB0aGlzLnNob3dEZXN0cyxcbiAgICAgICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IChvcmlnLCBkZXN0LCBtZXRhKSA9PiB0aGlzLm9uVXNlck1vdmUob3JpZywgZGVzdCwgbWV0YSksXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTmV3UGllY2U6IChyb2xlLCBkZXN0LCBtZXRhKSA9PiB0aGlzLm9uVXNlckRyb3Aocm9sZSwgZGVzdCwgbWV0YSksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgIG1vdmU6IHRoaXMub25Nb3ZlKCksXG4gICAgICAgICAgICAgICAgZHJvcE5ld1BpZWNlOiB0aGlzLm9uRHJvcCgpLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogdGhpcy5vblNlbGVjdCgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICdzaG9naScsICdwb3J0aScpO1xuICAgICAgICBjaGFuZ2VQaWVjZUNTUyhtb2RlbC5hc3NldFVSTCwgJ3RvcmknLCAncG9ydGknKTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICdreW90bycsICdreW90b2knKTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICd4aWFuZ3FpJywgJ3hpYW5ncWkyZGknKTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1MobW9kZWwuYXNzZXRVUkwsICdqYW5nZ2knLCAnamFuZ2dpaWthdycpO1xuXG4gICAgICAgIGNvbnN0IHZWYXJpYW50ID0gdGhpcy52YXJpYW50Lm5hbWUgfHwgXCJjaGVzc1wiO1xuICAgICAgICBjb25zdCB2YXJpYW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFyaWFudCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaCh2YXJpYW50RWwsIHNlbGVjdFZhcmlhbnQoXCJ2YXJpYW50XCIsIHZWYXJpYW50LCAoKSA9PiB0aGlzLnNldFZhcmlhbnQodHJ1ZSksICgpID0+IHRoaXMuc2V0VmFyaWFudChmYWxzZSkpKTtcblxuICAgICAgICBjb25zdCBhbGxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2goYWxsRWwsIGgoJ2lucHV0I2FsbCcsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6ICdhbGwnLCB0eXBlOiAnY2hlY2tib3gnIH0sXG4gICAgICAgICAgICBhdHRyczogeyBjaGVja2VkOiB0aGlzLmFsbCwgdGl0bGU6ICdWaWV3IGFscmVhZHkgcmV2aWV3ZWQgYW5kIHNraXBwZWQgcHV6emxlcyBhcyB3ZWxsLicgfSxcbiAgICAgICAgICAgIG9uOiB7IGNsaWNrOiAoKSA9PiB0aGlzLnNldEFsbCgpIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICkpO1xuXG4gICAgICAgIGNvbnN0IGZpbGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXp6bGVmaWxlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHBhdGNoKGZpbGVFbCwgaCgnaW5wdXQjcHV6emxlZmlsZScsIHtcbiAgICAgICAgICAgIHByb3BzOiB7IG5hbWU6ICdwdXp6bGVmaWxlJywgdHlwZTogJ2ZpbGUnLCBhY2NlcHQ6ICcuZXBkJywgdGl0bGU6ICdTZWxlY3QgYSAuZXBkIGZpbGUgZ2VuZXJhdGVkIGJ5IGNoZXNzLXZhcmlhbnRzLXB1enpsZXIuJyB9LFxuICAgICAgICAgICAgb246IHsgY2hhbmdlOiAoKSA9PiB0aGlzLnJlYWRGaWxlKCkgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5tb3Zlc0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vdmVzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhcHByb3ZlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwcm92ZScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaChhcHByb3ZlRWwsIGgoJ2J1dHRvbi5hcHByb3ZlJywgeyBvbjogeyBjbGljazogKCkgPT4gdGhpcy5yZXZpZXcodHJ1ZSkgfSB9LFtcbiAgICAgICAgICAgICAgICBoKCdlbScsICdBcHByb3ZlJyksXG4gICAgICAgICAgICAgICAgaCgnc3Ryb25nJywgJ1x1MjcxMycpLFxuICAgICAgICAgICAgICAgIGgoJ2VtJywgJ1tlbnRlcl0nKSxcbiAgICAgICAgICAgIF0pKTtcblxuICAgICAgICBjb25zdCByZWplY3RFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWplY3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2gocmVqZWN0RWwsIGgoJ2J1dHRvbi5yZWplY3QnLCB7IG9uOiB7IGNsaWNrOiAoKSA9PiB0aGlzLnJldmlldyhmYWxzZSkgfSB9LFtcbiAgICAgICAgICAgICAgICBoKCdlbScsICdSZWplY3QnKSxcbiAgICAgICAgICAgICAgICBoKCdzdHJvbmcnLCAnXHUyNzE3JyksXG4gICAgICAgICAgICAgICAgaCgnZW0nLCAnW2JhY2tzcGFjZV0nKSxcbiAgICAgICAgICAgIF0pKTtcblxuICAgICAgICBjb25zdCBhcHBlbmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBlbmQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2goYXBwZW5kRWwsIGgoJ2J1dHRvbi5hcHBlbmQnLCB7IGF0dHJzOiB7IGRpc2FibGVkOiB0cnVlLCB0aXRsZTogJ0NvbXBsZXRlIHRoZSBzb2x1dGlvbiB3aXRoIG1pc3NpbmcgbW92ZXMuJyB9LCBvbjogeyBjbGljazogKCkgPT4gdGhpcy5hcHBlbmQoKSB9IH0sW1xuICAgICAgICAgICAgICAgIGgoJ2VtJywgJ3NvbHV0aW9uJyksXG4gICAgICAgICAgICAgICAgaCgnc3Ryb25nJywgJ1x1MjE5MScpLFxuICAgICAgICAgICAgICAgIGgoJ2VtJywgJ215IG1vdmVzJyksXG4gICAgICAgICAgICBdKSk7XG5cbiAgICAgICAgY29uc3Qgc2tpcEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnB1enpsZS1za2lwJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHBhdGNoKHNraXBFbCwgaCgnZGl2LnB1enpsZS1za2lwJywgW2goJ2J1dHRvbicsIHsgb246IHsgY2xpY2s6ICgpID0+IHRoaXMuc2tpcCgpIH0gfSwgJ1NraXAnKV0pKTtcblxuICAgICAgICBjb25zdCBmb3J3YXJkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaChmb3J3YXJkRWwsIGgoJ2J1dHRvbi5uZXh0JywgeyBvbjogeyBjbGljazogKCkgPT4gdGhpcy5mb3J3YXJkKCkgfSB9LCAnRm9yd2FyZCA+JykpO1xuXG4gICAgICAgIGNvbnN0IHJld2luZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGF0Y2gocmV3aW5kRWwsIGgoJ2J1dHRvbi5wcmV2Jywge1xuICAgICAgICAgICAgYXR0cnM6IHsgZGlzYWJsZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIGNsYXNzOiB7IHZhcmlhdGlvbjogZmFsc2UgfSxcbiAgICAgICAgICAgIG9uOiB7IGNsaWNrOiAoKSA9PiB0aGlzLnJld2luZCgpIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnPCBSZXdpbmQnKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlU29sdXRpb25TYW4oKTtcblxuICAgICAgICBjb25zdCBub1JlcGVhdCA9IChmOiAoKSA9PiB2b2lkKSA9PiAoZTogS2V5Ym9hcmRFdmVudCkgPT4geyBpZiAoIWUucmVwZWF0KSBmKCkgfTtcblxuICAgICAgICBNb3VzZXRyYXAuYmluZCgnbGVmdCcsIG5vUmVwZWF0KCgpID0+IHRoaXMucmV3aW5kKCkpKTtcbiAgICAgICAgTW91c2V0cmFwLmJpbmQoJ3JpZ2h0Jywgbm9SZXBlYXQoKCkgPT4gdGhpcy5mb3J3YXJkKCkpKTtcbiAgICAgICAgTW91c2V0cmFwLmJpbmQoJ2JhY2tzcGFjZScsIG5vUmVwZWF0KCgpID0+IHRoaXMucmV2aWV3KGZhbHNlKSkpO1xuICAgICAgICBNb3VzZXRyYXAuYmluZCgnZW50ZXInLCBub1JlcGVhdCgoKSA9PiB0aGlzLnJldmlldyh0cnVlKSkpO1xuICAgICAgICBNb3VzZXRyYXAuYmluZCgnYScsICgpID0+IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhLmFuYWx5c2UnKSBhcyBIVE1MQW5jaG9yRWxlbWVudCkuY2xpY2soKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bmRvID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZG9cIik7XG4gICAgfVxuXG4gICAgY3JlYXRlU29sdXRpb25TYW4gPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmZmaXNoQm9hcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZVNvbHV0aW9uKCkgV0FJVCAxMDAuLi4nKTtcbiAgICAgICAgICAgIC8vIEF0IHZlcnkgZmlyc3QgdGltZSB3ZSBtYXkgaGF2ZSB0byB3YWl0IGZvciBmZmlzaCBtb2R1bGUgdG8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmNyZWF0ZVNvbHV0aW9uU2FuLCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zb2x1dGlvblNhbiA9IHRoaXMuZmZpc2hCb2FyZC52YXJpYXRpb25TYW4odGhpcy5zb2x1dGlvbi5qb2luKCcgJyksIHRoaXMubm90YXRpb25Bc09iamVjdCwgZmFsc2UpLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlU29sdXRpb24oKSBzb2x1dGlvblNhbj0nLCB0aGlzLnNvbHV0aW9uU2FuKTtcblxuICAgICAgICAgICAgdGhpcy5zb2x1dGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbHV0aW9uJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5zb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU29sdXRpb24oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRWYXJpYW50KGlzSW5wdXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YXJpYW50JykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSBlLm9wdGlvbnNbZS5zZWxlY3RlZEluZGV4XS52YWx1ZTtcblxuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZhcmlhbnQnKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0ZWQgdmFyaWVudCBpczpcIiwgdmFyaWFudCwgaXNJbnB1dCk7XG4gICAgICAgIHAuc3VibWl0KCk7XG4gICAgfVxuXG4gICAgc2V0QWxsKCkge1xuICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGFsbCA9IGUuY2hlY2tlZDtcblxuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbCcpIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5sb2coXCJTZWxlY3RlZCBhbGwgaXM6XCIsIGFsbCk7XG4gICAgICAgIHAuc3VibWl0KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlR3VpKG1vdmU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldCh0aGlzLmNnQ29uZmlnKG1vdmUpKTtcbiAgICAgICAgdGhpcy5zZXREZXN0cygpO1xuXG4gICAgICAgIGNvbnN0IHJld2luZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXYnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICByZXdpbmRFbC5jbGFzc0xpc3QudG9nZ2xlKCd2YXJpYXRpb24nLCB0aGlzLmlzSW5WYXJpYXRpb24oKSk7XG4gICAgICAgIHJld2luZEVsLmRpc2FibGVkID0gdGhpcy5tb3Zlcy5sZW5ndGggPT09IDA7XG5cbiAgICAgICAgY29uc3QgZm9yd2FyZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5leHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBmb3J3YXJkRWwuZGlzYWJsZWQgPSAhdGhpcy5jYW5Gb3J3YXJkKCk7XG5cbiAgICAgICAgY29uc3QgYXBwZW5kRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwZW5kJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgYXBwZW5kRWwuZGlzYWJsZWQgPSAhdGhpcy5jYW5BcHBlbmQoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVNvbHV0aW9uKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU29sdXRpb24gPSAoKSA9PiAge1xuICAgICAgICB0aGlzLnNvbHV0aW9uRWwgPSBwYXRjaCh0aGlzLnNvbHV0aW9uRWwsIGgoJ3Auc29sdXRpb24nLCBbXG4gICAgICAgICAgICAnU29sdXRpb246ICcsXG4gICAgICAgICAgICAuLi50aGlzLnNvbHV0aW9uU2FuLm1hcCgoc2FuLCBpKSA9PlxuICAgICAgICAgICAgICBoKCdzYW4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHsgZG9uZTogdGhpcy5tb3Zlc1tpXSA9PT0gdGhpcy5zb2x1dGlvbltpXSB9XG4gICAgICAgICAgICAgIH0sIHNhbilcbiAgICAgICAgICAgIClcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIHRoaXMubW92ZXNFbCA9IHBhdGNoKHRoaXMubW92ZXNFbCwgaCgncC5tb3ZlcycsIFtcbiAgICAgICAgICAgICdNeSBtb3ZlczogJyxcbiAgICAgICAgICAgIC4uLnRoaXMubW92ZXNTYW4ubWFwKChtb3ZlLCBpKSA9PlxuICAgICAgICAgICAgICBoKCd1Y2knLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHsgZG9uZTogdGhpcy5tb3Zlc1tpXSA9PT0gdGhpcy5zb2x1dGlvbltpXSB9XG4gICAgICAgICAgICAgIH0sIG1vdmUpXG4gICAgICAgICAgICApXG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICBjYW5BcHBlbmQgPSAoKSA9PlxuICAgICAgICB0aGlzLm1vdmVzLmxlbmd0aCA+IHRoaXMuc29sdXRpb24ubGVuZ3RoICYmXG4gICAgICAgIHRoaXMubW92ZXMuc2xpY2UoMCwgdGhpcy5zb2x1dGlvbi5sZW5ndGgpLmpvaW4oJyAnKSA9PT0gdGhpcy5zb2x1dGlvbi5qb2luKCcgJyk7XG5cbiAgICBjYW5Gb3J3YXJkID0gKCkgPT5cbiAgICAgICAgdGhpcy5tb3Zlcy5sZW5ndGggPCB0aGlzLnNvbHV0aW9uLmxlbmd0aCAmJlxuICAgICAgICB0aGlzLm1vdmVzLmpvaW4oJyAnKSA9PSB0aGlzLnNvbHV0aW9uLnNsaWNlKDAsIHRoaXMubW92ZXMubGVuZ3RoKS5qb2luKCcgJyk7XG5cbiAgICBpc0NvbXBsZXRlID0gKCkgPT5cbiAgICAgICAgdGhpcy5tb3Zlcy5qb2luKCcgJykgPT0gdGhpcy5zb2x1dGlvbi5qb2luKCcgJyk7XG5cbiAgICBpc0luVmFyaWF0aW9uID0gKCkgPT4gIXRoaXMuaXNDb21wbGV0ZSgpICYmICF0aGlzLmNhbkZvcndhcmQoKTtcblxuICAgIHNraXAoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYCR7dGhpcy5ob21lfS9za2lwP3NraXBwZWQ9JHt0aGlzLl9pZH1gKTtcbiAgICB9XG5cbiAgICBhcHBlbmQoKSB7XG4gICAgICAgIHRoaXMuc29sdXRpb24gPSBbLi4udGhpcy5tb3Zlc107XG4gICAgICAgIHRoaXMuc29sdXRpb25TYW4gPSBbLi4udGhpcy5tb3Zlc1Nhbl07XG5cbiAgICAgICAgY29uc3QgcmV3aW5kRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJldicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIHJld2luZEVsLmNsYXNzTGlzdC50b2dnbGUoJ3ZhcmlhdGlvbicsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVNvbHV0aW9uKCk7XG4gICAgfVxuXG4gICAgZG9TZW5kTW92ZShtb3ZlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2cobW92ZSk7XG4gICAgICAgIHRoaXMubW92ZXMucHVzaChtb3ZlKTtcblxuICAgICAgICBjb25zdCBzYW4gPSB0aGlzLmZmaXNoQm9hcmQuc2FuTW92ZShtb3ZlLCB0aGlzLm5vdGF0aW9uQXNPYmplY3QpO1xuICAgICAgICB0aGlzLm1vdmVzU2FuLnB1c2goc2FuKTtcblxuICAgICAgICB0aGlzLmZmaXNoQm9hcmQucHVzaChtb3ZlKTtcbiAgICAgICAgdGhpcy51cGRhdGVHdWkobW92ZSk7XG4gICAgfVxuXG4gICAgcmV3aW5kKCkge1xuICAgICAgICBpZiAodGhpcy5tb3Zlcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICB0aGlzLm1vdmVzLnBvcCgpO1xuICAgICAgICB0aGlzLm1vdmVzU2FuLnBvcCgpO1xuICAgICAgICB0aGlzLmZmaXNoQm9hcmQucG9wKCk7XG4gICAgICAgIGNvbnN0IG1vdmUgPSB0aGlzLm1vdmVzW3RoaXMubW92ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMudXBkYXRlR3VpKG1vdmUpO1xuICAgIH1cblxuICAgIGZvcndhcmQoKSB7XG4gICAgICAgIGNvbnN0IG1vdmUgPSB0aGlzLnNvbHV0aW9uW3RoaXMubW92ZXMubGVuZ3RoXTtcbiAgICAgICAgaWYgKG1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZW5kTW92ZShtb3ZlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldmlldyhhcHByb3ZlZDogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBlbEFwcHJvdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwcm92ZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGVsUmVqZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlamVjdCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhcHByb3ZlZDonLCBhcHByb3ZlZCk7XG4gICAgICAgIGlmIChhcHByb3ZlZCkge1xuICAgICAgICAgICAgZWxBcHByb3ZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICAgICAgZWxSZWplY3QuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxBcHByb3ZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsUmVqZWN0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXZpZXcnLCBhcHByb3ZlZCk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYCR7dGhpcy5ob21lfS9yZXZpZXcvJHt0aGlzLl9pZH0/YXBwcm92ZWQ9JHthcHByb3ZlZCA/IDEgOiAwfSZtb3Zlcz0ke3RoaXMuc29sdXRpb24uam9pbignLCcpfWApO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2dDb25maWcgPSAobW92ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGZlbiA9IHRoaXMuZmZpc2hCb2FyZC5mZW4odGhpcy52YXJpYW50LnVpLnNob3dQcm9tb3RlZCwgMCk7XG4gICAgICAgIGNvbnN0IHR1cm5Db2xvciA9IGZlbi5zcGxpdChcIiBcIilbMV0gPT09IFwid1wiID8gXCJ3aGl0ZVwiIDogXCJibGFja1wiIGFzIGNnLkNvbG9yO1xuICAgICAgICB0aGlzLnR1cm5Db2xvciA9IHR1cm5Db2xvcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZlbjogZmVuLFxuICAgICAgICAgICAgdHVybkNvbG9yOiB0dXJuQ29sb3IsXG4gICAgICAgICAgICBtb3ZhYmxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHR1cm5Db2xvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGVjazogdGhpcy5mZmlzaEJvYXJkLmlzQ2hlY2soKSxcbiAgICAgICAgICAgIGxhc3RNb3ZlOiB1Y2kyTGFzdE1vdmUobW92ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlYWRGaWxlKCkge1xuICAgICAgICBjb25zdCBmaWxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHV6emxlZmlsZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGZpbGVzID0gZmlsZUVsLmZpbGVzO1xuICAgICAgICBpZiAoZmlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy51c2VybmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGZpbGVzWzBdKTtcblxuICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZVJlYWRlci5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsTGluZXMgPSAoZmlsZVJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3QgbWF0ZVdpdGhNaXNzaW5nRnVsbE1vdmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBhbGxMaW5lcy5mb3JFYWNoKChsaW5lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gbGluZS50cmltKCkuc3BsaXQoJzsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHMgPSBPYmplY3QuZnJvbUVudHJpZXMocGFydHMuc2xpY2UoMSkubWFwKHMgPT4gcy5zcGxpdCgnICcpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAob3BzLmV2YWwuc3RhcnRzV2l0aCgnIycpICYmIG9wcy5wdi5zcGxpdCgnLCcpLmxlbmd0aCAhPT0gcGFyc2VJbnQob3BzLmV2YWwuc2xpY2UoMSkpICogMiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBtYXRlV2l0aE1pc3NpbmdGdWxsTW92ZXMucHVzaChgJHtwYXJ0c1swXX0gbW92ZXM6ICR7b3BzLnB2fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHV6emxlOiBQdXp6bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHJhbmRvbUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZW46IHBhcnRzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogb3BzLnZhcmlhbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3Zlczogb3BzLnB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbDogb3BzLmV2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBvcHMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkQnk6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BzLnNpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHMuc2l0ZS5pbmNsdWRlcygncHljaGVzcycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV6emxlLmdhbWVJZCA9IG9wcy5zaXRlLnNsaWNlKC04KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV6emxlLnNpdGUgPSBvcHMuc2l0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0UHV6emxlKHB1enpsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvL2lmIChtYXRlV2l0aE1pc3NpbmdGdWxsTW92ZXMubGVuZ3RoID4gMCkgYWxlcnQoYE1pc3NpbmcgbWF0ZSBzZXF1ZW5jZSBpbiBGRU46XFxuJHttYXRlV2l0aE1pc3NpbmdGdWxsTW92ZXMuam9pbignXFxuJyl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoZmlsZVJlYWRlci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RQdXp6bGUocHV6emxlOiBQdXp6bGUpIHtcbiAgICBjb25zdCBYSFIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICBjb25zdCBGRCAgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBPYmplY3QuZW50cmllcyhwdXp6bGUpLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBGRC5hcHBlbmQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9KTtcbiAgICBYSFIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQgJiYgdGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnZXJyb3InXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2VbJ2Vycm9yJ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFhIUi5vcGVuKFwiUE9TVFwiLCBcIi9wdXp6bGVcIiwgdHJ1ZSk7XG4gICAgWEhSLnNlbmQoRkQpO1xufVxuIiwgImltcG9ydCAqIGFzIGNnIGZyb20gJ2NoZXNzZ3JvdW5keC90eXBlcyc7XHJcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnY2hlc3Nncm91bmR4L3V0aWwnO1xyXG5pbXBvcnQgeyByZWFkIH0gZnJvbSAnY2hlc3Nncm91bmR4L2Zlbic7XHJcblxyXG5pbXBvcnQgeyBfIH0gZnJvbSAnLi9pMThuJztcclxuXHJcbmltcG9ydCB7IFZhcmlhbnQsIHZhcmlhbnRHcm91cHMgfSBmcm9tICcuL3ZhcmlhbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCByYW5rc1VDSSA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnMTAnXSBhcyBjb25zdDtcclxuZXhwb3J0IHR5cGUgVUNJUmFuayA9IHR5cGVvZiByYW5rc1VDSVtudW1iZXJdO1xyXG5leHBvcnQgdHlwZSBVQ0lLZXkgPSAgJ2EwJyB8IGAke2NnLkZpbGV9JHtVQ0lSYW5rfWA7XHJcbmV4cG9ydCB0eXBlIFVDSU9yaWcgPSBVQ0lLZXkgfCBjZy5Ecm9wT3JpZztcclxuZXhwb3J0IHR5cGUgUHJvbW90aW9uU3VmZml4ID0gY2cuTGV0dGVyIHwgXCIrXCIgfCBcIi1cIiB8IFwiXCI7XHJcblxyXG5leHBvcnQgdHlwZSBVQ0lNb3ZlID0gYCR7VUNJT3JpZ30ke1VDSUtleX1gOyAvLyBUT0RPOiB0aGlzIGlzIG1pc3Npbmcgc3VmZml4IGZvciBwcm9tb3Rpb24gd2hpY2ggaXMgYWxzbyBwYXJ0IG9mIHRoZSBtb3ZlXHJcbmV4cG9ydCB0eXBlIENHTW92ZSA9IGAke2NnLk9yaWd9JHtjZy5LZXl9YDsgLy8gVE9ETzogdGhpcyBpcyBtaXNzaW5nIHN1ZmZpeCBmb3IgcHJvbW90aW9uIHdoaWNoIGlzIGFsc28gcGFydCBvZiB0aGUgbW92ZVxyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3JOYW1lID0gXCJXaGl0ZVwiIHwgXCJCbGFja1wiIHwgXCJSZWRcIiB8IFwiQmx1ZVwiIHwgXCJHb2xkXCIgfCBcIlBpbmtcIiB8IFwiR3JlZW5cIjtcclxuZXhwb3J0IHR5cGUgUHJvbW90aW9uVHlwZSA9IFwicmVndWxhclwiIHwgXCJzaG9naVwiO1xyXG5leHBvcnQgdHlwZSBUaW1lQ29udHJvbFR5cGUgPSBcImluY3JlbWVudGFsXCIgfCBcImJ5b3lvbWlcIjtcclxuZXhwb3J0IHR5cGUgQ291bnRpbmdUeXBlID0gXCJtYWtydWtcIiB8IFwiYXNlYW5cIjtcclxuZXhwb3J0IHR5cGUgTWF0ZXJpYWxQb2ludFR5cGUgPSBcImphbmdnaVwiO1xyXG5leHBvcnQgdHlwZSBCb2FyZE1hcmtUeXBlID0gXCJjYW1wbWF0ZVwiO1xyXG5leHBvcnQgdHlwZSBQaWVjZVNvdW5kVHlwZSA9IFwicmVndWxhclwiIHwgXCJhdG9taWNcIiB8IFwic2hvZ2lcIjtcclxuXHJcbmNvbnN0IGhhbmRpY2FwS2V5d29yZHMgPSBbIFwiSENcIiwgXCJIYW5kaWNhcFwiLCBcIk9kZHNcIiBdO1xyXG5leHBvcnQgZnVuY3Rpb24gaXNIYW5kaWNhcChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBoYW5kaWNhcEtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBuYW1lLmVuZHNXaXRoKGtleXdvcmQpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0Nhc3RsaW5nKHZhcmlhbnQ6IFZhcmlhbnQsIGNvbG9yOiBjZy5Db2xvcik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHZhcmlhbnQubmFtZSA9PT0gJ3BsYWNlbWVudCcpIHJldHVybiB0cnVlO1xyXG4gICAgY29uc3QgY2FzdGwgPSB2YXJpYW50LnN0YXJ0RmVuLnNwbGl0KCcgJylbMl07XHJcbiAgICBpZiAoY29sb3IgPT09ICd3aGl0ZScpIHtcclxuICAgICAgICByZXR1cm4gY2FzdGwuaW5jbHVkZXMoJ0tRJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBjYXN0bC5pbmNsdWRlcygna3EnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVjaTJjZyhtb3ZlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIG1vdmUucmVwbGFjZSgvMTAvZywgXCI6XCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdWNpMkxhc3RNb3ZlKG1vdmU6IHN0cmluZyB8IHVuZGVmaW5lZCk6IGNnLk9yaWdbXSB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAoIW1vdmUpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICBsZXQgbW92ZVN0ciA9IHVjaTJjZyhtb3ZlKTtcclxuICAgIGlmIChtb3ZlU3RyLnN0YXJ0c1dpdGgoJysnKSkgbW92ZVN0ciA9IG1vdmVTdHIuc2xpY2UoMSk7XHJcbiAgICBjb25zdCBjb21tYSA9IG1vdmVTdHIuaW5kZXhPZignLCcpO1xyXG4gICAgY29uc3QgbGFzdE1vdmUgPSBbIG1vdmVTdHIuc2xpY2UoMCwgMikgYXMgY2cuT3JpZywgbW92ZVN0ci5zbGljZSgyLCA0KSBhcyBjZy5LZXkgXTtcclxuICAgIGlmIChjb21tYSA+IC0xKSBsYXN0TW92ZS5wdXNoKG1vdmVTdHIuc2xpY2UoLTIpIGFzIGNnLktleSk7XHJcbiAgICByZXR1cm4gbGFzdE1vdmU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjZzJ1Y2kobW92ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBtb3ZlLnJlcGxhY2UoLzovZywgXCIxMFwiKTtcclxufVxyXG5cclxuLy8gVE9ETyBXaWxsIGJlIGRlcHJlY2F0ZWQgYWZ0ZXIgV0FTTSBGYWlyeSBpbnRlZ3JhdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRGZW4odmFyaWFudDogVmFyaWFudCwgZmVuOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGFzID0gdmFyaWFudC5hbHRlcm5hdGVTdGFydDtcclxuICAgIGlmIChhcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFzKS5zb21lKChrZXkpID0+IHtyZXR1cm4gYXNba2V5XS5pbmNsdWRlcyhmZW4pO30pKSByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZhcmlhbnROYW1lID0gdmFyaWFudC5uYW1lO1xyXG4gICAgY29uc3Qgc3RhcnRmZW4gPSB2YXJpYW50LnN0YXJ0RmVuO1xyXG4gICAgY29uc3Qgc3RhcnQgPSBzdGFydGZlbi5zcGxpdCgnICcpO1xyXG4gICAgY29uc3QgcGFydHMgPSBmZW4uc3BsaXQoJyAnKTtcclxuXHJcbiAgICAvLyBOZWVkIHN0YXJ0aW5nIGNvbG9yXHJcbiAgICBpZiAocGFydHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIEFsbG93ZWQgY2hhcmFjdGVycyBpbiBwbGFjZW1lbnQgcGFydFxyXG4gICAgY29uc3QgcGxhY2VtZW50ID0gcGFydHNbMF07XHJcbiAgICBjb25zdCBzdGFydFBsYWNlbWVudCA9IHN0YXJ0WzBdO1xyXG4gICAgbGV0IGdvb2QgPSBzdGFydFBsYWNlbWVudCArIFxyXG4gICAgICAgICgodmFyaWFudE5hbWUgPT09IFwib3JkYVwiKSA/IFwiSHFcIiA6IFwiXCIpICtcclxuICAgICAgICAoKHZhcmlhbnROYW1lID09PSBcImRvYnV0c3VcIikgPyBcIkhoXCIgOiBcIlwiKSArXHJcbiAgICAgICAgKCh2YXJpYW50TmFtZSA9PT0gXCJkdWNrXCIpID8gXCIqXCIgOiBcIlwiKSArXHJcbiAgICAgICAgXCJ+KzAxMjM0NTY3ODlbXS1cIjtcclxuICAgIGNvbnN0IGFsaWVuID0gKGVsZW1lbnQ6IHN0cmluZykgPT4gIWdvb2QuaW5jbHVkZXMoZWxlbWVudCk7XHJcbiAgICBpZiAocGxhY2VtZW50LnNwbGl0KCcnKS5zb21lKGFsaWVuKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGlmICh2YXJpYW50TmFtZSA9PT0gXCJkdWNrXCIgJiYgbGMocGxhY2VtZW50LCBcIipcIiwgZmFsc2UpID4gMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIEJyYWNrZXRzIHBhaXJlZFxyXG4gICAgaWYgKGxjKHBsYWNlbWVudCwgJ1snLCBmYWxzZSkgIT09IGxjKHBsYWNlbWVudCwgJ10nLCBmYWxzZSkpIHJldHVybiBmYWxzZTtcclxuXHJcblxyXG4gICAgLy8gQ2hlY2sgd2l0aCBjaGVzc2dyb3VuZHgncyBwYXJzaW5nXHJcbiAgICBjb25zdCBkaW1lbnNpb25zID0gdmFyaWFudC5ib2FyZC5kaW1lbnNpb25zO1xyXG4gICAgY29uc3Qgd2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICBjb25zdCBib2FyZFN0YXRlID0gcmVhZChwbGFjZW1lbnQsIGRpbWVuc2lvbnMpO1xyXG5cclxuICAgIC8vIENvcnJlY3QgYm9hcmQgc2l6ZVxyXG4gICAgaWYgKGxjKHBsYWNlbWVudCwgJy8nLCBmYWxzZSkgPCBoZWlnaHQgLSAxKSByZXR1cm4gZmFsc2U7XHJcbiAgICBmb3IgKGNvbnN0IFtrLCBfXSBvZiBib2FyZFN0YXRlLnBpZWNlcykge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHV0aWwua2V5MnBvcyhrKTtcclxuICAgICAgICBpZiAocG9zWzBdID4gd2lkdGggLSAxIHx8IHBvc1sxXSA+IGhlaWdodCAtIDEpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUb3VjaGluZyBraW5nc1xyXG4gICAgaWYgKHZhcmlhbnROYW1lICE9PSAnYXRvbWljJyAmJiB0b3VjaGluZ0tpbmdzKGJvYXJkU3RhdGUucGllY2VzKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIFN0YXJ0aW5nIGNvbG9yc1xyXG4gICAgaWYgKHBhcnRzWzFdICE9PSAnYicgJiYgcGFydHNbMV0gIT09ICd3JykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIENhc3RsaW5nIHJpZ2h0cyAocGllY2UgdmlyZ2luaXR5KVxyXG4gICAgZ29vZCA9ICh2YXJpYW50TmFtZSA9PT0gJ3NlaXJhd2FuJyB8fCB2YXJpYW50TmFtZSA9PT0gJ3Nob3VzZScpID8gJ0tRQUJDREVGR0hrcWFiY2RlZmdoLScgOiBzdGFydFsyXSArIFwiLVwiO1xyXG4gICAgY29uc3Qgd3JvbmcgPSAoZWxlbWVudDogc3RyaW5nKSA9PiAhZ29vZC5pbmNsdWRlcyhlbGVtZW50KTtcclxuICAgIGNvbnN0IHJvb2tTdGFydDogeyBbcmlnaHQ6IHN0cmluZ106IGNnLlBvcyB9ID0ge1xyXG4gICAgICAgIEs6ICh2YXJpYW50TmFtZSA9PT0gJ3NoYWtvJykgPyBbd2lkdGggLSAyLCAxXSA6IFt3aWR0aCAtIDEsIDBdLFxyXG4gICAgICAgIFE6ICh2YXJpYW50TmFtZSA9PT0gJ3NoYWtvJykgPyBbMSwgMV0gOiBbMCwgMF0sXHJcbiAgICAgICAgazogKHZhcmlhbnROYW1lID09PSAnc2hha28nKSA/IFt3aWR0aCAtIDIsIGhlaWdodCAtIDJdIDogW3dpZHRoIC0gMSwgaGVpZ2h0IC0gMV0sXHJcbiAgICAgICAgcTogKHZhcmlhbnROYW1lID09PSAnc2hha28nKSA/IFsxLCBoZWlnaHQgLSAyXSA6IFswLCBoZWlnaHQgLSAxXSxcclxuICAgIH07XHJcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMiAmJiB2YXJpYW50TmFtZSAhPT0gJ2RvYnV0c3UnKSB7XHJcbiAgICAgICAgaWYgKHBhcnRzWzJdLnNwbGl0KCcnKS5zb21lKHdyb25nKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBDaGVja2luZyBTLWNoZXNzOTYwIEZFTiBpcyB0cmlja3lcclxuICAgICAgICAvLyBFZGl0b3IgYW5kIEFuYWx5c2lzIGJvYXJkIG5lZWRzIGNoZXNzOTYwIGNoZWNrYm94IHNpbWlsYXIgdG8gbmV3IGdhbWUgZGlhbG9nIGZpcnN0XHJcblxyXG4gICAgICAgIC8vIEl0IGlzIGJldHRlciB0byBlbmFibGUgY2FzdGxpbmcgcmlnaHQgdmFsaWRhdGlvbiBmb3Igc2VpcmF3YW4gYW5kIHNob3VzZSBhcyB3ZWxsIHRvIGJlIHNhZmVcclxuICAgICAgICAvL2lmICh2YXJpYW50TmFtZSAhPT0gJ3NlaXJhd2FuJyAmJiB2YXJpYW50TmFtZSAhPT0gJ3Nob3VzZScpIHtcclxuICAgICAgICAgICAgLy8gQ2FzdGxpbmcgcmlnaHQgbmVlZCByb29rcyBhbmQga2luZyBwbGFjZWQgaW4gc3RhcnRpbmcgc3F1YXJlXHJcbiAgICAgICAgICAgIC8vIGNhcGFibGFuY2E6IFwicm5hYnFrYmNuci9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvUk5BQlFLQkNOUiB3IEtRa3EgLSAwIDFcIixcclxuICAgICAgICAgICAgLy8gc2hha286IFwiYzhjL2VybmJxa2JucmUvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL0VSTkJRS0JOUkUvQzhDIHcgS1FrcSAtIDAgMVwiLFxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgcGFydHNbMl0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBpZWNlID0gcm9va1N0YXJ0W2NdID8gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KHV0aWwucG9zMmtleShyb29rU3RhcnRbY10pKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gYyA9PT0gYy50b1VwcGVyQ2FzZSgpID8gJ3doaXRlJyA6ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdLJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdRJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdrJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdxJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwaWVjZSB8fCAhdXRpbC5zYW1lUGllY2UocGllY2UsIHsgcm9sZTogJ3ItcGllY2UnLCBjb2xvcjogY29sb3IgfSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sga2luZyBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIEdhdGluZyByaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTnVtYmVyIG9mIGtpbmdzXHJcbiAgICBjb25zdCBraW5nID0gdXRpbC5sZXR0ZXJPZih2YXJpYW50LmtpbmdSb2xlc1swXSk7XHJcbiAgICBjb25zdCBiSyA9IGxjKHBsYWNlbWVudCwga2luZywgZmFsc2UpO1xyXG4gICAgY29uc3Qgd0sgPSBsYyhwbGFjZW1lbnQsIGtpbmcsIHRydWUpO1xyXG4gICAgaWYgKHZhcmlhbnROYW1lID09PSAnc3BhcnRhbicpIHtcclxuICAgICAgICBpZiAoYksgPT09IDAgfHwgYksgPiAyIHx8IHdLICE9PSAxKSByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChiSyAhPT0gMSB8fCB3SyAhPT0gMSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaWZmKGE6IG51bWJlciwgYjpudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG91Y2hpbmdLaW5ncyhwaWVjZXM6IGNnLlBpZWNlcyk6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHdrID0gJ3h4JywgYmsgPSAnenonO1xyXG4gICAgZm9yIChjb25zdCBbaywgcF0gb2YgcGllY2VzKSB7XHJcbiAgICAgICAgaWYgKHAucm9sZSA9PT0gXCJrLXBpZWNlXCIpIHtcclxuICAgICAgICAgICAgaWYgKHAuY29sb3IgPT09ICd3aGl0ZScpIHdrID0gaztcclxuICAgICAgICAgICAgaWYgKHAuY29sb3IgPT09ICdibGFjaycpIGJrID0gaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b3VjaGluZyA9IGRpZmYod2suY2hhckNvZGVBdCgwKSwgYmsuY2hhckNvZGVBdCgwKSkgPD0gMSAmJiBkaWZmKHdrLmNoYXJDb2RlQXQoMSksIGJrLmNoYXJDb2RlQXQoMSkpIDw9IDE7XHJcbiAgICByZXR1cm4gdG91Y2hpbmc7XHJcbn1cclxuXHJcbi8vIHBvY2tldCBwYXJ0IG9mIHRoZSBGRU4gKGluY2x1ZGluZyBicmFja2V0cylcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvY2tldHMoZmVuOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgcGxhY2VtZW50ID0gZmVuLnNwbGl0KFwiIFwiKVswXTtcclxuICAgIGxldCBwb2NrZXRzID0gXCJcIjtcclxuICAgIGNvbnN0IGJyYWNrZXRQb3MgPSBwbGFjZW1lbnQuaW5kZXhPZihcIltcIik7XHJcbiAgICBpZiAoYnJhY2tldFBvcyAhPT0gLTEpXHJcbiAgICAgICAgcG9ja2V0cyA9IHBsYWNlbWVudC5zbGljZShicmFja2V0UG9zKTtcclxuICAgIHJldHVybiBwb2NrZXRzO1xyXG59XHJcblxyXG4vLyBHZXQgY291bnRpbmcgaW5mb3JtYXRpb24gZm9yIG1ha3J1ayBldCBhbFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q291bnRpbmcoZmVuOiBzdHJpbmcpOiBbbnVtYmVyLCBudW1iZXIsIHN0cmluZywgc3RyaW5nXSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IGZlbi5zcGxpdChcIiBcIik7XHJcblxyXG4gICAgbGV0IGNvdW50aW5nUGx5ID0gTnVtYmVyKHBhcnRzWzRdKTtcclxuICAgIGlmIChpc05hTihjb3VudGluZ1BseSkpIGNvdW50aW5nUGx5ID0gMDtcclxuXHJcbiAgICBsZXQgY291bnRpbmdMaW1pdCA9IE51bWJlcihwYXJ0c1szXSk7XHJcbiAgICBpZiAoaXNOYU4oY291bnRpbmdMaW1pdCkpIGNvdW50aW5nTGltaXQgPSAwO1xyXG5cclxuICAgIGNvbnN0IGJvYXJkID0gcGFydHNbMF07XHJcbiAgICBjb25zdCB3aGl0ZVBpZWNlcyA9IChib2FyZC5tYXRjaCgvW0EtWl0vZykgfHwgW10pLmxlbmd0aDtcclxuICAgIGNvbnN0IGJsYWNrUGllY2VzID0gKGJvYXJkLm1hdGNoKC9bYS16XS9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgY29uc3QgcGF3bnMgPSAoYm9hcmQubWF0Y2goL1tQcF0vZykgfHwgW10pLmxlbmd0aDtcclxuICAgIGNvbnN0IGNvdW50aW5nVHlwZSA9IChjb3VudGluZ0xpbWl0ID09PSAwKSA/ICdub25lJyA6IChwYXducyA9PT0gMCAmJiAod2hpdGVQaWVjZXMgPD0gMSB8fCBibGFja1BpZWNlcyA8PSAxKSA/ICdwaWVjZScgOiAnYm9hcmQnKTtcclxuXHJcbiAgICBjb25zdCBzaWRlVG9Nb3ZlID0gcGFydHNbMV07XHJcbiAgICBjb25zdCBvcHBvbmVudCA9IChzaWRlVG9Nb3ZlID09PSAndycpID8gJ2InIDogJ3cnO1xyXG4gICAgY29uc3QgY291bnRpbmdTaWRlID0gKGNvdW50aW5nVHlwZSA9PT0gJ25vbmUnIHx8IGNvdW50aW5nUGx5ID09PSAwKSA/ICcnIDogKChjb3VudGluZ1BseSAlIDIgPT09IDApID8gc2lkZVRvTW92ZSA6IG9wcG9uZW50KTtcclxuXHJcbiAgICByZXR1cm4gW2NvdW50aW5nUGx5LCBjb3VudGluZ0xpbWl0LCBjb3VudGluZ1NpZGUsIGNvdW50aW5nVHlwZV07XHJcbn1cclxuXHJcbi8vIEdldCBqYW5nZ2kgbWF0ZXJpYWwgcG9pbnRzXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRKYW5nZ2lQb2ludHMoYm9hcmQ6IHN0cmluZyk6IG51bWJlcltdIHtcclxuICAgIGxldCBjaG9Qb2ludCA9IDA7XHJcbiAgICBsZXQgaGFuUG9pbnQgPSAxLjU7XHJcbiAgICBmb3IgKGNvbnN0IGMgb2YgYm9hcmQpIHtcclxuICAgICAgICBzd2l0Y2ggKGMpIHtcclxuICAgICAgICAgICAgY2FzZSAnUCc6IGNob1BvaW50ICs9IDI7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdBJzpcclxuICAgICAgICAgICAgY2FzZSAnQic6IGNob1BvaW50ICs9IDM7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdOJzogY2hvUG9pbnQgKz0gNTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0MnOiBjaG9Qb2ludCArPSA3OyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnUic6IGNob1BvaW50ICs9IDEzOyBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3AnOiBoYW5Qb2ludCArPSAyOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2InOiBoYW5Qb2ludCArPSAzOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbic6IGhhblBvaW50ICs9IDU7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjJzogaGFuUG9pbnQgKz0gNzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3InOiBoYW5Qb2ludCArPSAxMzsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtjaG9Qb2ludCwgaGFuUG9pbnRdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdW5wcm9tb3RlZFJvbGUodmFyaWFudDogVmFyaWFudCwgcGllY2U6IGNnLlBpZWNlKTogY2cuUm9sZSB7XHJcbiAgICBpZiAocGllY2UucHJvbW90ZWQpIHtcclxuICAgICAgICBpZiAodmFyaWFudC5wcm9tb3Rpb24udHlwZSA9PT0gJ3Nob2dpJylcclxuICAgICAgICAgICAgcmV0dXJuIHBpZWNlLnJvbGUuc2xpY2UoMSkgYXMgY2cuUm9sZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAncC1waWVjZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBwaWVjZS5yb2xlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvbW90ZWRSb2xlKHZhcmlhbnQ6IFZhcmlhbnQsIHBpZWNlOiBjZy5QaWVjZSk6IGNnLlJvbGUge1xyXG4gICAgaWYgKCFwaWVjZS5wcm9tb3RlZCAmJiB2YXJpYW50LnByb21vdGlvbi5yb2xlcy5pbmNsdWRlcyhwaWVjZS5yb2xlKSkge1xyXG4gICAgICAgIGlmICh2YXJpYW50LnByb21vdGlvbi50eXBlID09PSAnc2hvZ2knKVxyXG4gICAgICAgICAgICByZXR1cm4gJ3AnICsgcGllY2Uucm9sZSBhcyBjZy5Sb2xlO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHV0aWwucm9sZU9mKHZhcmlhbnQucHJvbW90aW9uLm9yZGVyWzBdIGFzIGNnLkxldHRlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBwaWVjZS5yb2xlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDb252ZXJ0IGEgbGlzdCBvZiBtb3ZlcyB0byBjaGVzc2dyb3VuZCBkZXN0aW5hdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gbW92ZURlc3RzKGxlZ2FsTW92ZXM6IFVDSU1vdmVbXSk6IGNnLkRlc3RzIHtcclxuICAgIGNvbnN0IGRlc3RzOiBjZy5EZXN0cyA9IG5ldyBNYXAoKTtcclxuICAgIGxlZ2FsTW92ZXMubWFwKHVjaTJjZykuZm9yRWFjaChtb3ZlID0+IHtcclxuICAgICAgICBjb25zdCBvcmlnID0gbW92ZS5zbGljZSgwLCAyKSBhcyBjZy5LZXk7XHJcbiAgICAgICAgY29uc3QgZGVzdCA9IG1vdmUuc2xpY2UoMiwgNCkgYXMgY2cuS2V5O1xyXG4gICAgICAgIGlmIChkZXN0cy5oYXMob3JpZykpXHJcbiAgICAgICAgICAgIGRlc3RzLmdldChvcmlnKSEucHVzaChkZXN0KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRlc3RzLnNldChvcmlnLCBbIGRlc3QgXSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZXN0cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByb21vdGlvblN1ZmZpeChtb3ZlOiBVQ0lNb3ZlIHwgQ0dNb3ZlKTogUHJvbW90aW9uU3VmZml4IHtcclxuICAgIGlmIChtb3ZlLnN0YXJ0c1dpdGgoJysnKSkge1xyXG4gICAgICAgIHJldHVybiAnKyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvbW1hID0gbW92ZS5pbmRleE9mKCcsJyk7XHJcbiAgICAgICAgaWYgKGNvbW1hID4gLTEpIG1vdmUgPSBtb3ZlLnN1YnN0cmluZygwLCBjb21tYSkgYXMgVUNJTW92ZTtcclxuICAgICAgICBjb25zdCBsYXN0ID0gbW92ZS5zbGljZSgtMSk7XHJcbiAgICAgICAgaWYgKGxhc3QubWF0Y2goL1thLXorLV0vKSlcclxuICAgICAgICAgICAgcmV0dXJuIGxhc3QgYXMgUHJvbW90aW9uU3VmZml4O1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDb3VudCBnaXZlbiBsZXR0ZXIgb2NjdXJlbmNlcyBpbiBhIHN0cmluZ1xyXG5leHBvcnQgZnVuY3Rpb24gbGMoc3RyOiBzdHJpbmcsIGxldHRlcjogc3RyaW5nLCB1cHBlcmNhc2U6IGJvb2xlYW4pOiBudW1iZXIge1xyXG4gICAgaWYgKHVwcGVyY2FzZSlcclxuICAgICAgICBsZXR0ZXIgPSBsZXR0ZXIudG9VcHBlckNhc2UoKTtcclxuICAgIGVsc2VcclxuICAgICAgICBsZXR0ZXIgPSBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcclxuICAgIGxldCBsZXR0ZXJDb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBwb3NpdGlvbiA9IDA7IHBvc2l0aW9uIDwgc3RyLmxlbmd0aDsgcG9zaXRpb24rKylcclxuICAgICAgICBpZiAoc3RyLmNoYXJBdChwb3NpdGlvbikgPT09IGxldHRlcilcclxuICAgICAgICAgICAgbGV0dGVyQ291bnQgKz0gMTtcclxuICAgIHJldHVybiBsZXR0ZXJDb3VudDtcclxufVxyXG5cclxuLy8gQ29udmVydCB0aGUgc3RyaW5nIHRvIHVwcGVyY2FzZSBpZiBjb2xvciBpcyB3aGl0ZSxcclxuLy8gb3IgY29udmVydCBpdCB0byBsb3dlcmNhc2UgaWYgY29sb3IgaXMgYmxhY2tcclxuZXhwb3J0IGZ1bmN0aW9uIGNvbG9yQ2FzZShjb2xvcjogY2cuQ29sb3IsIHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmIChjb2xvciA9PT0gJ3doaXRlJylcclxuICAgICAgICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29sb3JJY29uKHZhcmlhbnQ6IHN0cmluZywgY29sb3I6IHN0cmluZykge1xyXG4gICAgaWYgKHZhcmlhbnRHcm91cHMuc2hvZ2kudmFyaWFudHMuaW5jbHVkZXModmFyaWFudCkpIHtcclxuICAgICAgICByZXR1cm4gKGNvbG9yID09PSAnQmxhY2snKSA/ICdpY29uLXNlbnRlJyA6ICdpY29uLWdvdGUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYGljb24tJHtjb2xvci50b0xvd2VyQ2FzZSgpfWA7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIGNnIGZyb20gJ2NoZXNzZ3JvdW5keC90eXBlcyc7XG5cbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSAnQC9nYW1lQ3RybCc7XG5cbmV4cG9ydCB0eXBlIElucHV0VHlwZSA9ICdnYXRpbmcnIHwgJ3Byb21vdGlvbicgfCAnZHVjayc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFeHRyYUlucHV0IHtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY3RybDogR2FtZUNvbnRyb2xsZXI7XG4gICAgcHJvdGVjdGVkIHR5cGU6IElucHV0VHlwZTtcbiAgICBwcm90ZWN0ZWQgZGF0YT86IHsgcGllY2U6IGNnLlBpZWNlLCBvcmlnOiBjZy5PcmlnLCBkZXN0OiBjZy5LZXksIG1ldGE6IGNnLk1vdmVNZXRhZGF0YSB9O1xuXG4gICAgY29uc3RydWN0b3IoY3RybDogR2FtZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgdGhpcy5jdHJsID0gY3RybDtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBzdGFydChwaWVjZTogY2cuUGllY2UsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuTW92ZU1ldGFkYXRhKTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBuZXh0KHN1ZmZpeDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEpXG4gICAgICAgICAgICB0aGlzLmN0cmwucHJvY2Vzc0lucHV0KHRoaXMuZGF0YS5waWVjZSwgdGhpcy5kYXRhLm9yaWcsIHRoaXMuZGF0YS5kZXN0LCB0aGlzLmRhdGEubWV0YSwgc3VmZml4LCB0aGlzLnR5cGUpO1xuICAgICAgICB0aGlzLmRhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGgsIFZOb2RlLCB0b1ZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xyXG5cclxuaW1wb3J0ICogYXMgdXRpbCBmcm9tICdjaGVzc2dyb3VuZHgvdXRpbCc7XHJcbmltcG9ydCAqIGFzIGNnIGZyb20gJ2NoZXNzZ3JvdW5keC90eXBlcyc7XHJcblxyXG5pbXBvcnQgeyBjb2xvckNhc2UsIHByb21vdGlvblN1ZmZpeCB9IGZyb20gJ0AvY2hlc3MnO1xyXG5pbXBvcnQgeyBHYW1lQ29udHJvbGxlciB9IGZyb20gJ0AvZ2FtZUN0cmwnO1xyXG5pbXBvcnQgeyBwYXRjaCwgYmluZCB9IGZyb20gJ0AvZG9jdW1lbnQnO1xyXG5pbXBvcnQgeyBFeHRyYUlucHV0IH0gZnJvbSAnLi9pbnB1dCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2F0aW5nSW5wdXQgZXh0ZW5kcyBFeHRyYUlucHV0IHtcclxuICAgIHByaXZhdGUgY2hvaWNlczogUGFydGlhbDxSZWNvcmQ8Y2cuS2V5LCAoY2cuUm9sZSB8ICcnKVtdPj47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY3RybDogR2FtZUNvbnRyb2xsZXIpIHtcclxuICAgICAgICBzdXBlcihjdHJsKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnZ2F0aW5nJztcclxuICAgICAgICB0aGlzLmNob2ljZXMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICogTk9URTogVGhpcyBjb2RlIG9ubHkgd29ya3Mgd2l0aCBTLUNoZXNzLCBTLUNoZXNzOTYwLCBhbmQgUy1Ib3VzZVxyXG4gICAgICogICAgICAgU29tZSBwYXJ0cyBhc3N1bWUgYW4gOHg4IGJvYXJkXHJcbiAgICAgKiAgICAgICBQbGVhc2UgbW9kaWZ5IGFzIHlvdSBzZWUgZml0IGlmIG90aGVyIGdhdGluZyB2YXJpYW50cyBjb21lIGFsb25nXHJcbiAgICAgKi9cclxuICAgIHN0YXJ0KHBpZWNlOiBjZy5QaWVjZSwgb3JpZzogY2cuT3JpZywgZGVzdDogY2cuS2V5LCBtZXRhOiBjZy5Nb3ZlTWV0YWRhdGEpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSB7IHBpZWNlLCBvcmlnLCBkZXN0LCBtZXRhIH07XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jdHJsLnZhcmlhbnQucnVsZXMuZ2F0ZSB8fCB1dGlsLmlzRHJvcE9yaWcob3JpZykgfHwgIXRoaXMuY2FuR2F0ZShvcmlnKSkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHQoJy0nKTsgLy8gVGhlICctJyBzdWZmaXggbWVhbnMgZ2F0aW5nIGlzIG5vdCBpbml0aWF0ZWQgYW5kIHRlbGwgdGhlIGNvbnRyb2xsZXIgdG8gaW5pdGlhdGUgcHJvbW90aW9uIGluc3RlYWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jaG9pY2VzID0ge307XHJcbiAgICAgICAgdGhpcy5jaG9pY2VzW29yaWddID0gdGhpcy5nYXRpbmdDaG9pY2VzKG9yaWcsIGRlc3QpO1xyXG5cclxuICAgICAgICBpZiAocGllY2Uucm9sZSA9PT0gJ2stcGllY2UnICYmIG9yaWdbMV0gPT09IGRlc3RbMV0pIHtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIGNhc3RsaW5nIGdpdmluZyBnYXRpbmcgY2hvaWNlcyBvbiB0d28gc3F1YXJlc1xyXG4gICAgICAgICAgICBjb25zdCByb29rT3JpZyA9IHRoaXMuY3RybC5jaGVzczk2MCA/IGRlc3QgOiAoZGVzdFswXSA9PT0gJ2cnID8gJ2gnIDogJ2EnKSArIG9yaWdbMV0gYXMgY2cuS2V5O1xyXG4gICAgICAgICAgICBjb25zdCByb29rQ2hvaWNlcyA9IHRoaXMuZ2F0aW5nQ2hvaWNlcyhyb29rT3JpZywgb3JpZyk7XHJcbiAgICAgICAgICAgIGlmIChyb29rQ2hvaWNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByb29rQ2hvaWNlcy5wdXNoKCcnKTsgLy8gQWRkIHRoZSBlbXB0eSBjaG9pY2UgdG8gdGhlIHJvb2sgc3F1YXJlIGZvciBhZXN0aGV0aWNzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNob2ljZXNbcm9va09yaWddID0gcm9va0Nob2ljZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaG9pY2VzW29yaWddIS5sZW5ndGggPD0gMSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIGNob2ljZSBmcm9tIHRoZSBraW5nJ3Mgc3F1YXJlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgeW91IGNhbiBnYXRlIG9uIHRoZSByb29rJ3Mgc3F1YXJlIGJ1dCBub3QgdGhlIGtpbmcnc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcHVyZWx5IGZvciBhZXN0aGV0aWNzXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2hvaWNlc1tvcmlnXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuY2hvaWNlcyk7XHJcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxICYmIHRoaXMuY2hvaWNlc1trZXlzWzBdIGFzIGNnLktleV0hLmxlbmd0aCA9PT0gMSlcclxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlcyBvZiA5NjAgY2FzdGxpbmcgd2l0aCBubyBwb3NzaWJsZSBnYXRpbmcgc3F1YXJlXHJcbiAgICAgICAgICAgIC8vIGFuZCBTLUhvdXNlIG1vdmluZyBhbiB1bm1vdmVkIHBpZWNlIHdpdGggbm90aGluZyBpbiB0aGUgcG9ja2V0XHJcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCcnLCBvcmlnKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0dhdGluZyhwaWVjZS5jb2xvciwgdGhpcy5jdHJsLmNoZXNzZ3JvdW5kLnN0YXRlLm9yaWVudGF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbkdhdGUob3JpZzogY2cuS2V5KTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZmVuID0gdGhpcy5jdHJsLmZ1bGxmZW47XHJcbiAgICAgICAgY29uc3QgcGFydHMgPSBmZW4uc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RsaW5nID0gcGFydHNbMl07XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBwYXJ0c1sxXSA9PT0gJ3cnID8gJ3doaXRlJyA6ICdibGFjayc7XHJcbiAgICAgICAgY29uc3QgZ2F0ZVJhbmsgPSBjb2xvciA9PT0gJ3doaXRlJyA/ICcxJyA6ICc4JztcclxuICAgICAgICBpZiAob3JpZ1sxXSA9PT0gZ2F0ZVJhbmspIHtcclxuICAgICAgICAgICAgaWYgKGNhc3RsaW5nLmluY2x1ZGVzKGNvbG9yQ2FzZShjb2xvciwgb3JpZ1swXSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY3RybC5jaGVzczk2MCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9uLTk2MCwgaWYgYm90aCB0aGUga2luZyBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgcm9vayBoYXZlbid0IG1vdmVkLFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIHZpcmdpbml0eSBvZiBCT1RIIHBpZWNlcyB3aWxsIGJlIGVuY29kZWQgaW4gdGhlIGNhc3RsaW5nIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ1swXSA9PT0gJ2UnIHx8IG9yaWdbMF0gPT09ICdoJylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FzdGxpbmcuaW5jbHVkZXMoY29sb3JDYXNlKGNvbG9yLCAnSycpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ1swXSA9PT0gJ2UnIHx8IG9yaWdbMF0gPT09ICdhJylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FzdGxpbmcuaW5jbHVkZXMoY29sb3JDYXNlKGNvbG9yLCAnUScpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2F0aW5nQ2hvaWNlcyhvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSk6IChjZy5Sb2xlIHwgJycpW10ge1xyXG4gICAgICAgIGNvbnN0IHBvc3NpYmxlR2F0aW5nID0gdGhpcy5jdHJsLmxlZ2FsTW92ZXMoKS5maWx0ZXIobW92ZSA9PiBtb3ZlLmluY2x1ZGVzKG9yaWcgKyBkZXN0KSk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3NpYmxlR2F0aW5nLm1hcChwcm9tb3Rpb25TdWZmaXgpLm1hcChzID0+IHMgPT09ICcnID8gJycgOiB1dGlsLnJvbGVPZihzIGFzIGNnLkxldHRlcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2F0ZShwaWVjZTogY2cuUGllY2UsIGtleTogY2cuS2V5KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jdHJsLmNoZXNzZ3JvdW5kLm5ld1BpZWNlKHBpZWNlLCBrZXksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhd0dhdGluZyhjb2xvcjogY2cuQ29sb3IsIG9yaWVudGF0aW9uOiBjZy5Db2xvcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRvVk5vZGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZXh0ZW5zaW9uJykgYXMgTm9kZSk7XHJcbiAgICAgICAgcGF0Y2goY29udGFpbmVyLCB0aGlzLnZpZXcoY29sb3IsIG9yaWVudGF0aW9uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3Tm9HYXRpbmcoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dGVuc2lvbl9jaG9pY2UnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoY29udGFpbmVyKSBwYXRjaChjb250YWluZXIsIGgoJ2V4dGVuc2lvbicpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbmlzaChyb2xlOiBjZy5Sb2xlIHwgJycsIGtleTogY2cuS2V5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb2xlLCBrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdOb0dhdGluZygpO1xyXG4gICAgICAgICAgICBjb25zdCBsZXR0ZXIgPSByb2xlID09PSAnJyA/ICcnIDogdXRpbC5sZXR0ZXJPZihyb2xlKTtcclxuICAgICAgICAgICAgaWYgKHJvbGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQoJycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYXRlKHsgcm9sZTogcm9sZSwgY29sb3I6IHRoaXMuZGF0YS5waWVjZS5jb2xvciB9LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5kYXRhLm9yaWcpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0KGxldHRlcik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0bGluZ05leHQobGV0dGVyLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hvaWNlcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhc3RsaW5nTmV4dChzdWZmaXg6IHN0cmluZywga2V5OiBjZy5LZXkpOiB2b2lkIHtcclxuICAgICAgICAvLyBIYW5kbGUgZ2F0aW5nIG9uIHRoZSByb29rJ3Mgc3F1YXJlIGluIGNhc3RsaW5nXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSlcclxuICAgICAgICAgICAgdGhpcy5jdHJsLnByb2Nlc3NJbnB1dCh0aGlzLmRhdGEucGllY2UsIGtleSwgdGhpcy5kYXRhLm9yaWcgYXMgY2cuS2V5LCB0aGlzLmRhdGEubWV0YSwgc3VmZml4LCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbmNlbCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRyYXdOb0dhdGluZygpO1xyXG4gICAgICAgIHRoaXMuY3RybC5nb1BseSh0aGlzLmN0cmwucGx5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNxdWFyZVZpZXcob3JpZzogY2cuS2V5LCBjb2xvcjogY2cuQ29sb3IsIG9yaWVudGF0aW9uOiBjZy5Db2xvcik6IFZOb2RlW10ge1xyXG4gICAgICAgIGNvbnN0IGxlZnRGaWxlID0gdXRpbC5rZXkycG9zKG9yaWcpWzBdO1xyXG4gICAgICAgIGNvbnN0IGxlZnQgPSAob3JpZW50YXRpb24gPT09IFwid2hpdGVcIiA/IGxlZnRGaWxlIDogNyAtIGxlZnRGaWxlKSAqIDEyLjU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hvaWNlc1tvcmlnXSEubWFwKChyb2xlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IChjb2xvciA9PT0gb3JpZW50YXRpb24gPyA3IC0gaSA6IGkpICogMTIuNTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocm9sZSwgb3JpZyk7XHJcbiAgICAgICAgICAgIHJldHVybiBoKFwic3F1YXJlXCIsIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7IHRvcDogdG9wICsgXCIlXCIsIGxlZnQ6IGxlZnQgKyBcIiVcIiB9LFxyXG4gICAgICAgICAgICAgICAgaG9vazogYmluZChcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5pc2gocm9sZSwgb3JpZyk7XHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKVxyXG4gICAgICAgICAgICB9LCBbXHJcbiAgICAgICAgICAgICAgICBoKFwicGllY2UuXCIgKyByb2xlICsgXCIuXCIgKyBjb2xvcilcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZpZXcoY29sb3I6IGNnLkNvbG9yLCBvcmllbnRhdGlvbjogY2cuQ29sb3IpOiBWTm9kZSB7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY29sb3IgPT09IG9yaWVudGF0aW9uID8gXCJ0b3BcIiA6IFwiYm90dG9tXCI7XHJcbiAgICAgICAgbGV0IHNxdWFyZXM6IFZOb2RlW10gPSBbXTtcclxuICAgICAgICBjb25zdCBwb2NrZXQgPSB0aGlzLmN0cmwudmFyaWFudC5wb2NrZXQhLnJvbGVzW2NvbG9yXTtcclxuICAgICAgICBsZXQgb3JpZzogY2cuS2V5O1xyXG4gICAgICAgIGZvciAob3JpZyBpbiB0aGlzLmNob2ljZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5jaG9pY2VzW29yaWddIS5zb3J0KChhLCBiKSA9PiBwb2NrZXQuaW5kZXhPZihhIGFzIGNnLlJvbGUpIC0gcG9ja2V0LmluZGV4T2YoYiBhcyBjZy5Sb2xlKSk7XHJcbiAgICAgICAgICAgIHNxdWFyZXMucHVzaCguLi50aGlzLnNxdWFyZVZpZXcob3JpZywgY29sb3IsIG9yaWVudGF0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoKFwiZGl2I2V4dGVuc2lvbl9jaG9pY2UuXCIgKyBkaXJlY3Rpb24sIHtcclxuICAgICAgICAgICAgaG9vazoge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiB2bm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSB2bm9kZS5lbG0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2FuY2VsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICAgICBzcXVhcmVzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgaCwgdG9WTm9kZSwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XHJcblxyXG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJ2NoZXNzZ3JvdW5keC91dGlsJztcclxuaW1wb3J0ICogYXMgY2cgZnJvbSAnY2hlc3Nncm91bmR4L3R5cGVzJztcclxuXHJcbmltcG9ydCB7IFByb21vdGlvblN1ZmZpeCwgcHJvbW90ZWRSb2xlLCB1bnByb21vdGVkUm9sZSwgcHJvbW90aW9uU3VmZml4IH0gZnJvbSAnQC9jaGVzcyc7XHJcbmltcG9ydCB7IHBhdGNoLCBiaW5kIH0gZnJvbSAnQC9kb2N1bWVudCc7XHJcbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSAnQC9nYW1lQ3RybCc7XHJcbmltcG9ydCB7IEV4dHJhSW5wdXQgfSBmcm9tICcuL2lucHV0JztcclxuXHJcbnR5cGUgUHJvbW90aW9uQ2hvaWNlcyA9IFBhcnRpYWw8UmVjb3JkPGNnLlJvbGUsIFByb21vdGlvblN1ZmZpeD4+O1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb21vdGlvbklucHV0IGV4dGVuZHMgRXh0cmFJbnB1dCB7XHJcbiAgICBwcml2YXRlIGNob2ljZXM6IFByb21vdGlvbkNob2ljZXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY3RybDogR2FtZUNvbnRyb2xsZXIpIHtcclxuICAgICAgICBzdXBlcihjdHJsKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAncHJvbW90aW9uJztcclxuICAgICAgICB0aGlzLmNob2ljZXMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydChwaWVjZTogY2cuUGllY2UsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuTW92ZU1ldGFkYXRhKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0geyBwaWVjZSwgb3JpZywgZGVzdCwgbWV0YSB9O1xyXG5cclxuICAgICAgICAvLyBpbiA5NjAgY2FzdGxpbmcgY2FzZSAoa2luZyB0YWtlcyByb29rKSBkZXN0IHBpZWNlIG1heSBiZSB1bmRlZmluZWRcclxuICAgICAgICBpZiAodGhpcy5jdHJsLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldChkZXN0KSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dCgnJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNob2ljZXMgPSB0aGlzLnByb21vdGlvbkNob2ljZXMocGllY2UsIG9yaWcsIGRlc3QpO1xyXG4gICAgICAgIGNvbnN0IGF1dG9TdWZmaXggPSB0aGlzLmN0cmwudmFyaWFudC5wcm9tb3Rpb24ub3JkZXJbMF07XHJcbiAgICAgICAgY29uc3QgYXV0b1JvbGUgPSB0aGlzLmN0cmwudmFyaWFudC5wcm9tb3Rpb24udHlwZSA9PT0gXCJzaG9naVwiID8gdW5kZWZpbmVkIDogdXRpbC5yb2xlT2YoYXV0b1N1ZmZpeCBhcyBjZy5MZXR0ZXIpO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVBdXRvUHJvbW90ZSA9IG1ldGEuY3RybEtleTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3RybC52YXJpYW50LnByb21vdGlvbi5hdXRvUHJvbW90ZWFibGUgJiZcclxuICAgICAgICAgICAgdGhpcy5jdHJsLmF1dG9Qcm9tb3RlICYmXHJcbiAgICAgICAgICAgICFkaXNhYmxlQXV0b1Byb21vdGUgJiZcclxuICAgICAgICAgICAgYXV0b1JvbGUgJiZcclxuICAgICAgICAgICAgYXV0b1N1ZmZpeCAmJlxyXG4gICAgICAgICAgICBjaG9pY2VzW2F1dG9Sb2xlXSA9PT0gYXV0b1N1ZmZpeClcclxuICAgICAgICAgICAgdGhpcy5jaG9pY2VzID0geyBbYXV0b1JvbGVdOiBhdXRvU3VmZml4IH07XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmNob2ljZXMgPSBjaG9pY2VzO1xyXG5cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5jaG9pY2VzKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IE9iamVjdC5rZXlzKHRoaXMuY2hvaWNlcylbMF0gYXMgY2cuUm9sZTtcclxuICAgICAgICAgICAgdGhpcy5maW5pc2gocm9sZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3UHJvbW8oZGVzdCwgcGllY2UuY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb21vdGlvbkNob2ljZXMocGllY2U6IGNnLlBpZWNlLCBvcmlnOiBjZy5PcmlnLCBkZXN0OiBjZy5LZXkpOiBQcm9tb3Rpb25DaG9pY2VzIHtcclxuICAgICAgICBjb25zdCB2YXJpYW50ID0gdGhpcy5jdHJsLnZhcmlhbnQ7XHJcbiAgICAgICAgY29uc3QgcG9zc2libGVQcm9tb3Rpb25zID0gdGhpcy5jdHJsLmxlZ2FsTW92ZXMoKS5maWx0ZXIobW92ZSA9PiBtb3ZlLmluY2x1ZGVzKG9yaWcgKyBkZXN0KSk7XHJcbiAgICAgICAgY29uc3QgY2hvaWNlczogUHJvbW90aW9uQ2hvaWNlcyA9IHt9O1xyXG5cclxuICAgICAgICBwb3NzaWJsZVByb21vdGlvbnMubWFwKHByb21vdGlvblN1ZmZpeCkuZm9yRWFjaChzdWZmaXggPT4ge1xyXG4gICAgICAgICAgICBsZXQgcm9sZTogY2cuUm9sZTtcclxuICAgICAgICAgICAgaWYgKHN1ZmZpeCA9PT0gJysnKSByb2xlID0gcHJvbW90ZWRSb2xlKHZhcmlhbnQsIHBpZWNlKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoc3VmZml4ID09PSAnLScpIHJvbGUgPSB1bnByb21vdGVkUm9sZSh2YXJpYW50LCBwaWVjZSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN1ZmZpeCA9PT0gJycpIHJvbGUgPSBwaWVjZS5yb2xlO1xyXG4gICAgICAgICAgICBlbHNlIHJvbGUgPSB1dGlsLnJvbGVPZihzdWZmaXgpO1xyXG4gICAgICAgICAgICBjaG9pY2VzW3JvbGVdID0gc3VmZml4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hvaWNlcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb21vdGUoa2V5OiBjZy5LZXksIHJvbGU6IGNnLlJvbGUpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBncm91bmQgPSB0aGlzLmN0cmwuY2hlc3Nncm91bmQ7XHJcbiAgICAgICAgY29uc3QgcGllY2UgPSBncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKHBpZWNlICYmIHBpZWNlLnJvbGUgIT09IHJvbGUpIHtcclxuICAgICAgICAgICAgZ3JvdW5kLnNldFBpZWNlcyhuZXcgTWFwKFtba2V5LCB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogcGllY2UuY29sb3IsXHJcbiAgICAgICAgICAgICAgICByb2xlOiByb2xlLFxyXG4gICAgICAgICAgICAgICAgcHJvbW90ZWQ6IHRydWVcclxuICAgICAgICAgICAgfV1dKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhd1Byb21vKGRlc3Q6IGNnLktleSwgY29sb3I6IGNnLkNvbG9yKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdG9WTm9kZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdleHRlbnNpb24nKSBhcyBOb2RlKTtcclxuICAgICAgICBwYXRjaChjb250YWluZXIsIHRoaXMudmlldyhkZXN0LCBjb2xvciwgdGhpcy5jdHJsLmNoZXNzZ3JvdW5kLnN0YXRlLm9yaWVudGF0aW9uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3Tm9Qcm9tbygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0ZW5zaW9uX2Nob2ljZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHBhdGNoKGNvbnRhaW5lciwgaCgnZXh0ZW5zaW9uJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluaXNoKHJvbGU6IGNnLlJvbGUpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd05vUHJvbW8oKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9tb3RlKHRoaXMuZGF0YS5kZXN0LCByb2xlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWwuaXNEcm9wT3JpZyh0aGlzLmRhdGEub3JpZykpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyb3BOZXh0KHJvbGUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQodGhpcy5jaG9pY2VzW3JvbGVdISk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJvcE5leHQocm9sZTogY2cuUm9sZSk6IHZvaWQge1xyXG4gICAgICAgIC8vIERyb3AgcHJvbW90aW9uIGlzIGV4ZWN1dGVkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIHRoaXMuY3RybC5wcm9jZXNzSW5wdXQodGhpcy5kYXRhLnBpZWNlLCB1dGlsLmRyb3BPcmlnT2Yocm9sZSksIHRoaXMuZGF0YS5kZXN0LCB0aGlzLmRhdGEubWV0YSwgJycsICdwcm9tb3Rpb24nKTtcclxuICAgICAgICB0aGlzLmRhdGEgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW5jZWwoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kcmF3Tm9Qcm9tbygpO1xyXG4gICAgICAgIHRoaXMuY3RybC5nb1BseSh0aGlzLmN0cmwucGx5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZpZXcoZGVzdDogY2cuS2V5LCBjb2xvcjogY2cuQ29sb3IsIG9yaWVudGF0aW9uOiBjZy5Db2xvcik6IFZOb2RlIHtcclxuICAgICAgICBjb25zdCB2YXJpYW50ID0gdGhpcy5jdHJsLnZhcmlhbnQ7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSB2YXJpYW50LmJvYXJkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdmFyaWFudC5ib2FyZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICBjb25zdCBwb3MgPSB1dGlsLmtleTJwb3MoZGVzdCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNob2ljZXMgPSBPYmplY3Qua2V5cyh0aGlzLmNob2ljZXMpIGFzIGNnLlJvbGVbXTtcclxuICAgICAgICBjaG9pY2VzLnNvcnQoKGEsIGIpID0+IHZhcmlhbnQucHJvbW90aW9uLm9yZGVyLmluZGV4T2YodGhpcy5jaG9pY2VzW2FdISkgLSB2YXJpYW50LnByb21vdGlvbi5vcmRlci5pbmRleE9mKHRoaXMuY2hvaWNlc1tiXSEpKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY29sb3IgPT09IG9yaWVudGF0aW9uID8gXCJib3R0b21cIiA6IFwidG9wXCI7XHJcbiAgICAgICAgY29uc3QgbGVmdEZpbGUgPSAob3JpZW50YXRpb24gPT09IFwid2hpdGVcIikgPyBwb3NbMF0gOiB3aWR0aCAtIDEgLSBwb3NbMF07XHJcbiAgICAgICAgY29uc3QgbGVmdCA9IGxlZnRGaWxlICogKDEwMCAvIHdpZHRoKTtcclxuICAgICAgICBjb25zdCB0b3BSYW5rID0gKG9yaWVudGF0aW9uID09PSBcIndoaXRlXCIpID8gaGVpZ2h0IC0gMSAtIHBvc1sxXSA6IHBvc1sxXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2lkZSA9IGNvbG9yID09PSBvcmllbnRhdGlvbiA/IFwiYWxseVwiIDogXCJlbmVteVwiO1xyXG5cclxuICAgICAgICByZXR1cm4gaChcImRpdiNleHRlbnNpb25fY2hvaWNlXCIsIHtcclxuICAgICAgICAgICAgaG9vazoge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiB2bm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSB2bm9kZS5lbG0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2FuY2VsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaG9pY2VzLm1hcCgocm9sZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmFuayA9IHRvcFJhbmsgKyAoZGlyZWN0aW9uID09PSBcImJvdHRvbVwiID8gaSA6IC1pKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvcCA9IHJhbmsgKiAoMTAwIC8gaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoKFwic3F1YXJlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyB0b3A6IHRvcCArIFwiJVwiLCBsZWZ0OiBsZWZ0ICsgXCIlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICBob29rOiBiaW5kKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoKHJvbGUgYXMgY2cuUm9sZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgbnVsbClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgWyBoKGBwaWVjZS4ke3JvbGV9LiR7Y29sb3J9LiR7c2lkZX1gKSBdXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IGggfSBmcm9tICdzbmFiYmRvbSc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuXG5pbXBvcnQgeyBHYW1lQ29udHJvbGxlciB9IGZyb20gJ0AvZ2FtZUN0cmwnO1xuaW1wb3J0IHsgRXh0cmFJbnB1dCB9IGZyb20gJy4vaW5wdXQnO1xuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdAL2RvY3VtZW50JztcbmltcG9ydCB7IF8gfSBmcm9tICdAL2kxOG4nO1xuXG5leHBvcnQgY2xhc3MgRHVja0lucHV0IGV4dGVuZHMgRXh0cmFJbnB1dCB7XG4gICAgaW5wdXRTdGF0ZT86ICdjbGljaycgfCAnbW92ZSc7XG4gICAgZHVja0Rlc3RzOiBjZy5LZXlbXTtcblxuICAgIGNvbnN0cnVjdG9yKGN0cmw6IEdhbWVDb250cm9sbGVyKSB7XG4gICAgICAgIHN1cGVyKGN0cmwpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnZHVjayc7XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kdWNrRGVzdHMgPSBbXTtcbiAgICB9XG5cbiAgICBzdGFydChwaWVjZTogY2cuUGllY2UsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuTW92ZU1ldGFkYXRhKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHsgcGllY2UsIG9yaWcsIGRlc3QsIG1ldGEgfTtcblxuICAgICAgICBpZiAoIXRoaXMuY3RybC52YXJpYW50LnJ1bGVzLmR1Y2spIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCgnJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmR1Y2tEZXN0cyA9IHRoaXMuY3RybC5sZWdhbE1vdmVzKCkuXG4gICAgICAgICAgICBmaWx0ZXIobW92ZSA9PiBtb3ZlLmluY2x1ZGVzKG9yaWcgKyBkZXN0KSkuXG4gICAgICAgICAgICBtYXAobW92ZSA9PiBtb3ZlLnNsaWNlKC0yKSkgYXMgY2cuS2V5W107XG5cbiAgICAgICAgbGV0IGR1Y2tLZXk6IGNnLktleSB8IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgcGllY2VzID0gdGhpcy5jdHJsLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzXG4gICAgICAgIGZvciAoY29uc3QgW2ssIHBdIG9mIHBpZWNlcykge1xuICAgICAgICAgICAgaWYgKHAucm9sZSA9PT0gJ18tcGllY2UnKSB7XG4gICAgICAgICAgICAgICAgZHVja0tleSA9IGs7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdXRvbWF0aWNhbGx5IG1vdmUgdGhlIGR1Y2sgaWYgYSBraW5nIGlzIGNhcHR1cmVkLCBhcyB0aGUgZ2FtZSBpcyBhbHJlYWR5IG92ZXJcbiAgICAgICAgLy8gVGhpcyBhc3N1bWVzIGVhY2ggc2lkZSBvbmx5IGhhcyBvbmUga2luZyBpbiBhbnkgZHVjayB2YXJpYW50XG4gICAgICAgIGlmIChtZXRhLmNhcHR1cmVkICYmIHRoaXMuY3RybC52YXJpYW50LmtpbmdSb2xlcy5pbmNsdWRlcyhtZXRhLmNhcHR1cmVkLnJvbGUpKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaChvcmlnIGFzIGNnLktleSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1bmRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHVuZG8gJiYgdW5kby50YWdOYW1lID09PSAnRElWJykge1xuICAgICAgICAgICAgcGF0Y2godW5kbyxcbiAgICAgICAgICAgICAgICBoKCdidXR0b24jdW5kbycsIHsgb246IHsgY2xpY2s6ICgpID0+IHRoaXMuY3RybC51bmRvKCkgfSwgcHJvcHM6IHt0aXRsZTogXygnVW5kbycpfSB9LCBbaCgnaScsIHtjbGFzczoge1wiaWNvblwiOiB0cnVlLCBcImljb24tcmVwbHlcIjogdHJ1ZSB9IH0gKSwgXSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWR1Y2tLZXkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZSA9ICdjbGljayc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIGR1Y2sncyBjb2xvciBzbyB0aGF0IGl0IGJlY2FtZSBtb3ZhYmxlIGJ5IHRoZSBwbGF5ZXJcbiAgICAgICAgICAgIHRoaXMuY3RybC5jaGVzc2dyb3VuZC5zdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoZHVja0tleSkhLmNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgICAgICB0aGlzLmN0cmwuY2hlc3Nncm91bmQuc2V0KHtcbiAgICAgICAgICAgICAgICB0dXJuQ29sb3I6IHBpZWNlLmNvbG9yLFxuICAgICAgICAgICAgICAgIG1vdmFibGU6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdHM6IG5ldyBNYXAoW1tkdWNrS2V5LCB0aGlzLmR1Y2tEZXN0c11dKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUgPSAnbW92ZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5pc2goa2V5OiBjZy5LZXkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZHVja0Rlc3RzLmluY2x1ZGVzKGtleSkgJiYgdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmN0cmwuY2hlc3Nncm91bmQuc3RhdGUubGFzdE1vdmUgPSBbdGhpcy5kYXRhLm9yaWcsIHRoaXMuZGF0YS5kZXN0LCBrZXldO1xuICAgICAgICAgICAgdGhpcy5uZXh0KCcsJyArIHRoaXMuZGF0YS5kZXN0ICsga2V5KTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxudHlwZSBNb2JpbGl0eSA9ICh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSA9PiBib29sZWFuO1xuXG5jb25zdCBkaWZmID0gKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyID0+IE1hdGguYWJzKGEgLSBiKTtcblxuY29uc3QgcGF3biA9XG4gIChjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSA9PlxuICAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgZGlmZih4MSwgeDIpIDwgMiAmJlxuICAgIChjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAvLyBhbGxvdyAyIHNxdWFyZXMgZnJvbSBmaXJzdCB0d28gcmFua3MsIGZvciBob3JkZVxuICAgICAgICB5MiA9PT0geTEgKyAxIHx8ICh5MSA8PSAxICYmIHkyID09PSB5MSArIDIgJiYgeDEgPT09IHgyKVxuICAgICAgOiB5MiA9PT0geTEgLSAxIHx8ICh5MSA+PSA2ICYmIHkyID09PSB5MSAtIDIgJiYgeDEgPT09IHgyKSk7XG5cbmV4cG9ydCBjb25zdCBrbmlnaHQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0gMSAmJiB5ZCA9PT0gMikgfHwgKHhkID09PSAyICYmIHlkID09PSAxKTtcbn07XG5cbmNvbnN0IGJpc2hvcDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGRpZmYoeDEsIHgyKSA9PT0gZGlmZih5MSwgeTIpO1xufTtcblxuY29uc3Qgcm9vazogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIHgxID09PSB4MiB8fCB5MSA9PT0geTI7XG59O1xuXG5leHBvcnQgY29uc3QgcXVlZW46IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBiaXNob3AoeDEsIHkxLCB4MiwgeTIpIHx8IHJvb2soeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuY29uc3Qga2luZyA9XG4gIChjb2xvcjogY2cuQ29sb3IsIHJvb2tGaWxlczogbnVtYmVyW10sIGNhbkNhc3RsZTogYm9vbGVhbik6IE1vYmlsaXR5ID0+XG4gICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICAoZGlmZih4MSwgeDIpIDwgMiAmJiBkaWZmKHkxLCB5MikgPCAyKSB8fFxuICAgIChjYW5DYXN0bGUgJiZcbiAgICAgIHkxID09PSB5MiAmJlxuICAgICAgeTEgPT09IChjb2xvciA9PT0gJ3doaXRlJyA/IDAgOiA3KSAmJlxuICAgICAgKCh4MSA9PT0gNCAmJiAoKHgyID09PSAyICYmIHJvb2tGaWxlcy5pbmNsdWRlcygwKSkgfHwgKHgyID09PSA2ICYmIHJvb2tGaWxlcy5pbmNsdWRlcyg3KSkpKSB8fFxuICAgICAgICByb29rRmlsZXMuaW5jbHVkZXMoeDIpKSk7XG5cbmZ1bmN0aW9uIHJvb2tGaWxlc09mKHBpZWNlczogY2cuUGllY2VzLCBjb2xvcjogY2cuQ29sb3IpIHtcbiAgY29uc3QgYmFja3JhbmsgPSBjb2xvciA9PT0gJ3doaXRlJyA/ICcxJyA6ICc4JztcbiAgY29uc3QgZmlsZXMgPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCBwaWVjZV0gb2YgcGllY2VzKSB7XG4gICAgaWYgKGtleVsxXSA9PT0gYmFja3JhbmsgJiYgcGllY2UuY29sb3IgPT09IGNvbG9yICYmIHBpZWNlLnJvbGUgPT09ICdyLXBpZWNlJykge1xuICAgICAgZmlsZXMucHVzaCh1dGlsLmtleTJwb3Moa2V5KVswXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmaWxlcztcbn1cblxuZnVuY3Rpb24gYW5kKC4uLm1zOiBNb2JpbGl0eVtdKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBtcy5tYXAobSA9PiBtKHgxLCB5MSwgeDIsIHkyKSkucmVkdWNlKChhLCBiKSA9PiBhICYmIGIpO1xufVxuXG5mdW5jdGlvbiBvciguLi5tczogTW9iaWxpdHlbXSk6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gbXMubWFwKG0gPT4gbSh4MSwgeTEsIHgyLCB5MikpLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiKTtcbn1cblxuLyogVE9ETyBtYWtlIHVzZSBvZiB0aGlzXG5mdW5jdGlvbiBub3QobTogTW9iaWxpdHkpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+ICFtKHgxLCB5MSwgeDIsIHkyKTtcbn1cbiovXG5cbmZ1bmN0aW9uIF9kaXN0YW5jZShkaXN0OiBudW1iZXIpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IE1hdGgubWF4KGRpZmYoeDEsIHgyKSwgZGlmZih5MSwgeTIpKSA8PSBkaXN0O1xufVxuXG5mdW5jdGlvbiBtZW1vaXplRGlzdGFuY2UoKTogKGRpc3Q6IG51bWJlcikgPT4gTW9iaWxpdHkge1xuICBjb25zdCBjYWNoZTogUmVjb3JkPHN0cmluZywgTW9iaWxpdHk+ID0ge307XG4gIHJldHVybiAoZGlzdDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYCR7ZGlzdH1gO1xuICAgIGlmICghKGtleSBpbiBjYWNoZSkpIGNhY2hlW2tleV0gPSBfZGlzdGFuY2UoZGlzdCk7XG4gICAgcmV0dXJuIGNhY2hlW2tleV07XG4gIH07XG59XG5cbmNvbnN0IGRpc3RhbmNlID0gbWVtb2l6ZURpc3RhbmNlKCk7XG5cbmZ1bmN0aW9uIGJhY2tyYW5rKGNvbG9yOiBjZy5Db2xvcik6IG51bWJlciB7XG4gIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJyA/IDAgOiA3O1xufVxuXG4vLyBraW5nIHdpdGhvdXQgY2FzdGxpbmdcbmNvbnN0IGtpbmdOb0Nhc3RsaW5nOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gZGlmZih4MSwgeDIpIDwgMiAmJiBkaWZmKHkxLCB5MikgPCAyO1xufTtcblxuLy8gOTYwIGtpbmcgKGNhbiBvbmx5IGNhc3RsZSB3aXRoIGtpbmcgdGFrZXMgcm9vaylcbmZ1bmN0aW9uIGtpbmc5NjAoY29sb3I6IGNnLkNvbG9yLCByb29rRmlsZXM6IG51bWJlcltdLCBjYW5DYXN0bGU6IGJvb2xlYW4pOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpIHx8IChjYW5DYXN0bGUgJiYgeTEgPT09IHkyICYmIHkxID09PSBiYWNrcmFuayhjb2xvcikgJiYgcm9va0ZpbGVzLmluY2x1ZGVzKHgyKSk7XG59XG5cbi8vIGNhcGFibGFuY2Ega2luZyAoZGlmZmVyZW50IGNhc3RsaW5nIGZpbGVzIGZyb20gc3RhbmRhcmQgY2hlc3Mga2luZylcbmZ1bmN0aW9uIGtpbmdDYXBhKGNvbG9yOiBjZy5Db2xvciwgcm9va0ZpbGVzOiBudW1iZXJbXSwgY2FuQ2FzdGxlOiBib29sZWFuKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fFxuICAgIChjYW5DYXN0bGUgJiZcbiAgICAgIHkxID09PSB5MiAmJlxuICAgICAgeTEgPT09IGJhY2tyYW5rKGNvbG9yKSAmJlxuICAgICAgeDEgPT09IDUgJiZcbiAgICAgICgoeDIgPT09IDggJiYgcm9va0ZpbGVzLmluY2x1ZGVzKDkpKSB8fCAoeDIgPT09IDIgJiYgcm9va0ZpbGVzLmluY2x1ZGVzKDApKSkpO1xufVxuXG4vLyBzaGFrbyBraW5nIChkaWZmZXJlbnQgY2FzdGxpbmcgZmlsZXMgYW5kIHJhbmtzIGZyb20gc3RhbmRhcmQgY2hlc3Mga2luZylcbmZ1bmN0aW9uIGtpbmdTaGFrbyhjb2xvcjogY2cuQ29sb3IsIHJvb2tGaWxlczogbnVtYmVyW10sIGNhbkNhc3RsZTogYm9vbGVhbik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHxcbiAgICAoY2FuQ2FzdGxlICYmXG4gICAgICB5MSA9PT0geTIgJiZcbiAgICAgIHkxID09PSAoY29sb3IgPT09ICd3aGl0ZScgPyAxIDogOCkgJiZcbiAgICAgIHgxID09PSA1ICYmXG4gICAgICAoKHgyID09PSA3ICYmIHJvb2tGaWxlcy5pbmNsdWRlcyg4KSkgfHwgKHgyID09PSAzICYmIHJvb2tGaWxlcy5pbmNsdWRlcygxKSkpKTtcbn1cbmZ1bmN0aW9uIHJvb2tGaWxlc09mU2hha28ocGllY2VzOiBjZy5QaWVjZXMsIGNvbG9yOiBjZy5Db2xvcikge1xuICBjb25zdCBiYWNrcmFuayA9IGNvbG9yID09PSAnd2hpdGUnID8gJzInIDogJzknO1xuICBjb25zdCBmaWxlcyA9IFtdO1xuICBmb3IgKGNvbnN0IFtrZXksIHBpZWNlXSBvZiBwaWVjZXMpIHtcbiAgICBpZiAoa2V5WzFdID09PSBiYWNrcmFuayAmJiBwaWVjZS5jb2xvciA9PT0gY29sb3IgJiYgcGllY2Uucm9sZSA9PT0gJ3ItcGllY2UnKSB7XG4gICAgICBmaWxlcy5wdXNoKHV0aWwua2V5MnBvcyhrZXkpWzBdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbGVzO1xufVxuXG4vLyBvdWsga2luZyAoY2FuIGp1bXAgbGlrZSBhIGtuaWdodCB0byB0aGUgc2Vjb25kIHJvdyBvbiBpdHMgZmlyc3QgbW92ZSlcbmZ1bmN0aW9uIGtpbmdPdWsoY29sb3I6IGNnLkNvbG9yLCBjYW5DYXN0bGU6IGJvb2xlYW4pOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpIHx8XG4gICAgKGNhbkNhc3RsZSAmJlxuICAgICAgKGNvbG9yID09PSAnd2hpdGUnXG4gICAgICAgID8geDEgPT09IDMgJiYgeTEgPT09IDAgJiYgKHgyID09PSAxIHx8IHgyID09PSA1KSAmJiB5MiA9PT0gMVxuICAgICAgICA6IHgxID09PSA0ICYmIHkxID09PSA3ICYmICh4MiA9PT0gNiB8fCB4MiA9PT0gMikgJiYgeTIgPT09IDYpKTtcbn1cblxuZnVuY3Rpb24gcGF3bk5vRG91YmxlU3RlcChjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IGRpZmYoeDEsIHgyKSA8IDIgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpO1xufVxuXG4vLyBncmFuZCBwYXduICgxMHgxMCBib2FyZCwgY2FuIG1vdmUgdHdvIHNxdWFyZXMgb24gdGhpcmQgcm93KVxuZnVuY3Rpb24gcGF3bkdyYW5kKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBkaWZmKHgxLCB4MikgPCAyICYmXG4gICAgKGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/IHkyID09PSB5MSArIDEgfHwgKHkxIDw9IDIgJiYgeTIgPT09IHkxICsgMiAmJiB4MSA9PT0geDIpXG4gICAgICA6IHkyID09PSB5MSAtIDEgfHwgKHkxID49IDcgJiYgeTIgPT09IHkxIC0gMiAmJiB4MSA9PT0geDIpKTtcbn1cblxuLy8gc2l0dHV5aW4gcGF3biAoOHg4IGJvYXJkLCBjYW4gbW92ZSBkaWFnb25hbGx5IGJhY2t3YXJkIHRvIHByb21vdGUgb24gc29tZSBzcXVhcmVzKVxuZnVuY3Rpb24gcGF3blNpdHR1eWluKHBpZWNlczogY2cuUGllY2VzLCBjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBsZXQgY2FuUHJvbW90ZSA9IChjb2xvciA9PT0gJ3doaXRlJyA/IHkxID49IDQgOiB5MSA8PSAzKSAmJiAoeDEgPT09IHkxIHx8IDcgLSB4MSA9PT0geTEpO1xuICAgIGlmICghY2FuUHJvbW90ZSkge1xuICAgICAgbGV0IHBhd25Db3VudCA9IDA7XG4gICAgICBmb3IgKGNvbnN0IHAgb2YgcGllY2VzLnZhbHVlcygpKSBpZiAocC5yb2xlID09PSAncC1waWVjZScgJiYgcC5jb2xvciA9PT0gY29sb3IpIHBhd25Db3VudCArPSAxO1xuICAgICAgY2FuUHJvbW90ZSB8fD0gcGF3bkNvdW50ID09PSAxO1xuICAgIH1cbiAgICByZXR1cm4gcGF3bk5vRG91YmxlU3RlcChjb2xvcikoeDEsIHkxLCB4MiwgeTIpIHx8IChjYW5Qcm9tb3RlICYmIGZlcnooeDEsIHkxLCB4MiwgeTIpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGF3bkJlcm9saW5hKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIHJldHVybiAoY29sb3IgPT09ICd3aGl0ZSdcbiAgICAgID8gLy8gYWxsb3cgMiBzcXVhcmVzIGZyb20gZmlyc3QgdHdvIHJhbmtzLCBmb3IgaG9yZGVcbiAgICAgICAgKHkyID09PSB5MSArIDEgJiYgeGQgPD0gMSkgfHwgKHkxIDw9IDEgJiYgeTIgPT09IHkxICsgMiAmJiB4ZCA9PT0gMilcbiAgICAgIDogKHkyID09PSB5MSAtIDEgJiYgeGQgPD0gMSkgfHwgKHkxID49IDYgJiYgeTIgPT09IHkxIC0gMiAmJiB4ZCA9PT0gMikpO1xuICB9O1xufVxuXG5jb25zdCBzaWRld2F5czogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIHkxID09PSB5MiAmJiBkaWZmKHgxLCB4MikgPD0gMTtcbn1cblxuLy8gd2F6aXJcbmNvbnN0IHdhemlyOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiAoeGQgPT09IDEgJiYgeWQgPT09IDApIHx8ICh4ZCA9PT0gMCAmJiB5ZCA9PT0gMSk7XG59O1xuXG4vLyBmZXJ6LCBtZXRcbmNvbnN0IGZlcno6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiBkaWZmKHgxLCB4MikgPT09IGRpZmYoeTEsIHkyKSAmJiBkaWZmKHgxLCB4MikgPT09IDE7XG5cbi8vIG91ayBmZXJ6IChjYW4ganVtcCB0d28gc3F1YXJlcyBmb3J3YXJkIG9uIGl0cyBmaXJzdCBtb3ZlKVxuZnVuY3Rpb24gZmVyek91ayhjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgZmVyeih4MSwgeTEsIHgyLCB5MikgfHxcbiAgICAoY29sb3IgPT09ICd3aGl0ZScgPyB4MSA9PT0gNCAmJiB5MSA9PT0gMCAmJiB4MiA9PT0gNCAmJiB5MiA9PT0gMiA6IHgxID09PSAzICYmIHkxID09PSA3ICYmIHgyID09PSAzICYmIHkyID09PSA1KTtcbn1cblxuLy8gc2hhdHJhbmogZWxlcGhhbnRcbmNvbnN0IGVsZXBoYW50OiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiB4ZCA9PT0geWQgJiYgeGQgPT09IDI7XG59O1xuXG4vLyBhcmNoYmlzaG9wIChrbmlnaHQgKyBiaXNob3ApXG5jb25zdCBhcmNoYmlzaG9wOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gYmlzaG9wKHgxLCB5MSwgeDIsIHkyKSB8fCBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuLy8gY2hhbmNlbGxvciAoa25pZ2h0ICsgcm9vaylcbmNvbnN0IGNoYW5jZWxsb3I6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiByb29rKHgxLCB5MSwgeDIsIHkyKSB8fCBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuLy8gYW1hem9uIChrbmlnaHQgKyBxdWVlbilcbmNvbnN0IGFtYXpvbjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGJpc2hvcCh4MSwgeTEsIHgyLCB5MikgfHwgcm9vayh4MSwgeTEsIHgyLCB5MikgfHwga25pZ2h0KHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbi8vIHNob2d1biBnZW5lcmFsIChrbmlnaHQgKyBraW5nKVxuY29uc3QgY2VudGF1cjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fCBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuLy8gc2hvZ2kgbGFuY2VcbmZ1bmN0aW9uIHNob2dpTGFuY2UoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPiB5MSA6IHkyIDwgeTEpO1xufVxuXG4vLyBzaG9naSBzaWx2ZXIsIG1ha3J1ayBraG9uLCBzaXR0dXlpbiBlbGVwaGFudFxuZnVuY3Rpb24gc2hvZ2lTaWx2ZXIoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBmZXJ6KHgxLCB5MSwgeDIsIHkyKSB8fCAoeDEgPT09IHgyICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKSk7XG59XG5cbi8vIHNob2dpIGdvbGQsIHByb21vdGVkIHBhd24va25pZ2h0L2xhbmNlL3NpbHZlclxuZnVuY3Rpb24gc2hvZ2lHb2xkKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICB3YXppcih4MSwgeTEsIHgyLCB5MikgfHwgKGRpZmYoeDEsIHgyKSA8IDIgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpKTtcbn1cblxuLy8gc2hvZ2kgcGF3blxuZnVuY3Rpb24gc2hvZ2lQYXduKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKTtcbn1cblxuLy8gc2hvZ2kga25pZ2h0XG5mdW5jdGlvbiBzaG9naUtuaWdodChjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+ICh4MiA9PT0geDEgLSAxIHx8IHgyID09PSB4MSArIDEpICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkyID09PSB5MSArIDIgOiB5MiA9PT0geTEgLSAyKTtcbn1cblxuLy8gc2hvZ2kgcHJvbW90ZWQgcm9vayAoZHJhZ29uIGtpbmcpXG5jb25zdCBzaG9naURyYWdvbjogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIHJvb2soeDEsIHkxLCB4MiwgeTIpIHx8IGZlcnooeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuLy8gc2hvZ2kgcHJvbW90ZWQgYmlzaG9wIChkcmFnb24gaG9yc2UpXG5jb25zdCBzaG9naUhvcnNlOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gYmlzaG9wKHgxLCB5MSwgeDIsIHkyKSB8fCB3YXppcih4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG4vLyBEZWZpbmUgeGlhbmdxaSBwYWxhY2UgYmFzZWQgb24gZ2VvbWV0cnlcbi8vIFRoZSBwYWxhY2UgaXMgdGhlIDN4MyBzcXVhcmVzIGluIHRoZSBtaWRkbGUgZmlsZXMgYXQgZWFjaCBzaWRlJ3MgZW5kIG9mIHRoZSBib2FyZFxudHlwZSBQYWxhY2UgPSBjZy5Qb3NbXTtcblxuZnVuY3Rpb24gX3BhbGFjZShiZDogY2cuQm9hcmREaW1lbnNpb25zLCBjb2xvcjogY2cuQ29sb3IpOiBQYWxhY2Uge1xuICBjb25zdCBtaWRkbGVGaWxlID0gTWF0aC5mbG9vcihiZC53aWR0aCAvIDIpO1xuICBjb25zdCBzdGFydGluZ1JhbmsgPSBjb2xvciA9PT0gJ3doaXRlJyA/IDAgOiBiZC5oZWlnaHQgLSAzO1xuXG4gIHJldHVybiBbXG4gICAgW21pZGRsZUZpbGUgLSAxLCBzdGFydGluZ1JhbmsgKyAyXSxcbiAgICBbbWlkZGxlRmlsZSwgc3RhcnRpbmdSYW5rICsgMl0sXG4gICAgW21pZGRsZUZpbGUgKyAxLCBzdGFydGluZ1JhbmsgKyAyXSxcbiAgICBbbWlkZGxlRmlsZSAtIDEsIHN0YXJ0aW5nUmFuayArIDFdLFxuICAgIFttaWRkbGVGaWxlLCBzdGFydGluZ1JhbmsgKyAxXSxcbiAgICBbbWlkZGxlRmlsZSArIDEsIHN0YXJ0aW5nUmFuayArIDFdLFxuICAgIFttaWRkbGVGaWxlIC0gMSwgc3RhcnRpbmdSYW5rXSxcbiAgICBbbWlkZGxlRmlsZSwgc3RhcnRpbmdSYW5rXSxcbiAgICBbbWlkZGxlRmlsZSArIDEsIHN0YXJ0aW5nUmFua10sXG4gIF07XG59XG5cbmZ1bmN0aW9uIG1lbW9pemVQYWxhY2UoKTogKGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMsIGNvbG9yOiBjZy5Db2xvcikgPT4gUGFsYWNlIHtcbiAgY29uc3QgY2FjaGU6IFJlY29yZDxzdHJpbmcsIFBhbGFjZT4gPSB7fTtcbiAgcmV0dXJuIChiZDogY2cuQm9hcmREaW1lbnNpb25zLCBjb2xvcjogY2cuQ29sb3IpID0+IHtcbiAgICBjb25zdCBrZXkgPSBgJHtiZC53aWR0aH14JHtiZC5oZWlnaHR9JHtjb2xvci5zbGljZSgwLCAxKX1gO1xuICAgIGlmICghKGtleSBpbiBjYWNoZSkpIGNhY2hlW2tleV0gPSBfcGFsYWNlKGJkLCBjb2xvcik7XG4gICAgcmV0dXJuIGNhY2hlW2tleV07XG4gIH07XG59XG5cbmNvbnN0IHBhbGFjZSA9IG1lbW9pemVQYWxhY2UoKTtcblxuLy8geGlhbmdxaSBwYXduXG5mdW5jdGlvbiB4aWFuZ3FpUGF3bihjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgKHgyID09PSB4MSAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSkpIHx8XG4gICAgKHkyID09PSB5MSAmJiBkaWZmKHgxLCB4MikgPCAyICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkxID4gNCA6IHkxIDwgNSkpO1xufVxuXG4vLyBtaW5peGlhbmdxaSBwYXduXG5mdW5jdGlvbiBtaW5peGlhbmdxaVBhd24oY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgICh4MiA9PT0geDEgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpKSB8fCAoeTIgPT09IHkxICYmIGRpZmYoeDEsIHgyKSA8IDIpO1xufVxuXG4vLyB4aWFuZ3FpIGVsZXBoYW50XG5mdW5jdGlvbiB4aWFuZ3FpRWxlcGhhbnQoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBlbGVwaGFudCh4MSwgeTEsIHgyLCB5MikgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPCA1IDogeTIgPiA0KTtcbn1cblxuLy8geGlhbmdxaSBhZHZpc29yXG5mdW5jdGlvbiB4aWFuZ3FpQWR2aXNvcihjb2xvcjogY2cuQ29sb3IsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBNb2JpbGl0eSB7XG4gIGNvbnN0IHAgPSBwYWxhY2UoYmQsIGNvbG9yKTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gZmVyeih4MSwgeTEsIHgyLCB5MikgJiYgcC5zb21lKHBvaW50ID0+IHBvaW50WzBdID09PSB4MiAmJiBwb2ludFsxXSA9PT0geTIpO1xufVxuXG4vLyB4aWFuZ3FpIGdlbmVyYWwgKGtpbmcpXG5mdW5jdGlvbiB4aWFuZ3FpS2luZyhjb2xvcjogY2cuQ29sb3IsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBNb2JpbGl0eSB7XG4gIGNvbnN0IHAgPSBwYWxhY2UoYmQsIGNvbG9yKTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gd2F6aXIoeDEsIHkxLCB4MiwgeTIpICYmIHAuc29tZShwb2ludCA9PiBwb2ludFswXSA9PT0geDIgJiYgcG9pbnRbMV0gPT09IHkyKTtcbn1cblxuLy8gc2hha28gZWxlcGhhbnRcbmNvbnN0IHNoYWtvRWxlcGhhbnQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBkaWZmKHgxLCB4MikgPT09IGRpZmYoeTEsIHkyKSAmJiBkaWZmKHgxLCB4MikgPCAzO1xufTtcblxuLy8gamFuZ2dpIGVsZXBoYW50XG5leHBvcnQgY29uc3QgamFuZ2dpRWxlcGhhbnQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0gMiAmJiB5ZCA9PT0gMykgfHwgKHhkID09PSAzICYmIHlkID09PSAyKTtcbn07XG5cbi8vIGphbmdnaSBwYXduXG5mdW5jdGlvbiBqYW5nZ2lQYXduKGNvbG9yOiBjZy5Db2xvciwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3Qgb3BwUGFsYWNlID0gcGFsYWNlKGJkLCB1dGlsLm9wcG9zaXRlKGNvbG9yKSk7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCBwYWxhY2VQb3MgPSBvcHBQYWxhY2UuZmluZEluZGV4KHBvaW50ID0+IHBvaW50WzBdID09PSB4MSAmJiBwb2ludFsxXSA9PT0geTEpO1xuICAgIGxldCBhZGRpdGlvbmFsTW9iaWxpdHk6IE1vYmlsaXR5O1xuICAgIHN3aXRjaCAocGFsYWNlUG9zKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICsgMSAmJiBjb2xvciA9PT0gJ2JsYWNrJyAmJiB5MiA9PT0geTEgLSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgLSAxICYmIGNvbG9yID09PSAnYmxhY2snICYmIHkyID09PSB5MSAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgICAgICAgZGlmZih4MSwgeDIpID09PSAxICYmIChjb2xvciA9PT0gJ3doaXRlJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDY6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICsgMSAmJiBjb2xvciA9PT0gJ3doaXRlJyAmJiB5MiA9PT0geTEgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgLSAxICYmIGNvbG9yID09PSAnd2hpdGUnICYmIHkyID09PSB5MSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKCkgPT4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBtaW5peGlhbmdxaVBhd24oY29sb3IpKHgxLCB5MSwgeDIsIHkyKSB8fCBhZGRpdGlvbmFsTW9iaWxpdHkoeDEsIHkxLCB4MiwgeTIpO1xuICB9O1xufVxuXG4vLyBqYW5nZ2kgcm9va1xuZnVuY3Rpb24gamFuZ2dpUm9vayhiZDogY2cuQm9hcmREaW1lbnNpb25zKTogTW9iaWxpdHkge1xuICBjb25zdCB3UGFsYWNlID0gcGFsYWNlKGJkLCAnd2hpdGUnKTtcbiAgY29uc3QgYlBhbGFjZSA9IHBhbGFjZShiZCwgJ2JsYWNrJyk7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBsZXQgYWRkaXRpb25hbE1vYmlsaXR5OiBNb2JpbGl0eTtcbiAgICBjb25zdCB3UGFsYWNlUG9zID0gd1BhbGFjZS5maW5kSW5kZXgocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgxICYmIHBvaW50WzFdID09PSB5MSk7XG4gICAgY29uc3QgYlBhbGFjZVBvcyA9IGJQYWxhY2UuZmluZEluZGV4KHBvaW50ID0+IHBvaW50WzBdID09PSB4MSAmJiBwb2ludFsxXSA9PT0geTEpO1xuICAgIGNvbnN0IHBhbGFjZVBvcyA9IHdQYWxhY2VQb3MgIT09IC0xID8gd1BhbGFjZVBvcyA6IGJQYWxhY2VQb3M7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gICAgc3dpdGNoIChwYWxhY2VQb3MpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4ZCA9PT0geWQgJiYgeDIgPiB4MSAmJiB4MiA8PSB4MSArIDIgJiYgeTIgPCB5MSAmJiB5MiA+PSB5MSAtIDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHhkID09PSB5ZCAmJiB4MiA8IHgxICYmIHgyID49IHgxIC0gMiAmJiB5MiA8IHkxICYmIHkyID49IHkxIC0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9IGZlcno7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHhkID09PSB5ZCAmJiB4MiA+IHgxICYmIHgyIDw9IHgxICsgMiAmJiB5MiA+IHkxICYmIHkyIDw9IHkxICsgMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geGQgPT09IHlkICYmIHgyIDwgeDEgJiYgeDIgPj0geDEgLSAyICYmIHkyID4geTEgJiYgeTIgPD0geTEgKyAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICgpID0+IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcm9vayh4MSwgeTEsIHgyLCB5MikgfHwgYWRkaXRpb25hbE1vYmlsaXR5KHgxLCB5MSwgeDIsIHkyKTtcbiAgfTtcbn1cblxuLy8gamFuZ2dpIGdlbmVyYWwgKGtpbmcpXG5mdW5jdGlvbiBqYW5nZ2lLaW5nKGNvbG9yOiBjZy5Db2xvciwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3Qgb3duUGFsYWNlID0gcGFsYWNlKGJkLCBjb2xvcik7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCBwYWxhY2VQb3MgPSBvd25QYWxhY2UuZmluZEluZGV4KHBvaW50ID0+IHBvaW50WzBdID09PSB4MSAmJiBwb2ludFsxXSA9PT0geTEpO1xuICAgIGxldCBhZGRpdGlvbmFsTW9iaWxpdHk6IE1vYmlsaXR5O1xuICAgIHN3aXRjaCAocGFsYWNlUG9zKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICsgMSAmJiB5MiA9PT0geTEgLSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgLSAxICYmIHkyID09PSB5MSAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSBmZXJ6O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgKyAxICYmIHkyID09PSB5MSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA4OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAtIDEgJiYgeTIgPT09IHkxICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoKSA9PiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICh3YXppcih4MSwgeTEsIHgyLCB5MikgfHwgYWRkaXRpb25hbE1vYmlsaXR5KHgxLCB5MSwgeDIsIHkyKSkgJiZcbiAgICAgIG93blBhbGFjZS5zb21lKHBvaW50ID0+IHBvaW50WzBdID09PSB4MiAmJiBwb2ludFsxXSA9PT0geTIpXG4gICAgKTtcbiAgfTtcbn1cblxuLy8gbXVza2V0ZWVyIGxlb3BhcmRcbmNvbnN0IG11c2tldGVlckxlb3BhcmQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0gMSB8fCB4ZCA9PT0gMikgJiYgKHlkID09PSAxIHx8IHlkID09PSAyKTtcbn07XG4vLyBtdXNrZXRlZXIgaGF3a1xuY29uc3QgbXVza2V0ZWVySGF3azogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4gKFxuICAgICh4ZCA9PT0gMCAmJiAoeWQgPT09IDIgfHwgeWQgPT09IDMpKSB8fFxuICAgICh5ZCA9PT0gMCAmJiAoeGQgPT09IDIgfHwgeGQgPT09IDMpKSB8fFxuICAgICh4ZCA9PT0geWQgJiYgKHhkID09PSAyIHx8IHhkID09PSAzKSlcbiAgKTtcbn07XG4vLyBtdXNrZXRlZXIgZWxlcGhhbnRcbmNvbnN0IG11c2tldGVlckVsZXBoYW50OiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiB4ZCA9PT0gMSB8fCB5ZCA9PT0gMSB8fCAoeGQgPT09IDIgJiYgKHlkID09PSAwIHx8IHlkID09PSAyKSkgfHwgKHhkID09PSAwICYmIHlkID09PSAyKTtcbn07XG4vLyBtdXNrZXRlZXIgY2Fubm9uXG5jb25zdCBtdXNrZXRlZXJDYW5ub246IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIHhkIDwgMyAmJiAoeWQgPCAyIHx8ICh5ZCA9PT0gMiAmJiB4ZCA9PT0gMCkpO1xufTtcbi8vIG11c2tldGVlciB1bmljb3JuXG5jb25zdCBtdXNrZXRlZXJVbmljb3JuOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpIHx8ICh4ZCA9PT0gMSAmJiB5ZCA9PT0gMykgfHwgKHhkID09PSAzICYmIHlkID09PSAxKTtcbn07XG4vLyBtdXNrZXRlZXIgZHJhZ29uXG5jb25zdCBtdXNrZXRlZXJEcmFnb246IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpIHx8IHF1ZWVuKHgxLCB5MSwgeDIsIHkyKTtcbn07XG4vLyBtdXNrZXRlZXIgZm9ydHJlc3NcbmNvbnN0IG11c2tldGVlckZvcnRyZXNzOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiAoeGQgPT09IHlkICYmIHhkIDwgNCkgfHwgKHlkID09PSAwICYmIHhkID09PSAyKSB8fCAoeWQgPT09IDIgJiYgeGQgPCAyKTtcbn07XG4vLyBtdXNrZXRlZXIgc3BpZGVyXG5jb25zdCBtdXNrZXRlZXJTcGlkZXI6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIHhkIDwgMyAmJiB5ZCA8IDMgJiYgISh4ZCA9PT0gMSAmJiB5ZCA9PT0gMCkgJiYgISh4ZCA9PT0gMCAmJiB5ZCA9PT0gMSk7XG59O1xuXG4vLyB0b3JpIHNob2dpIGdvb3NlIChwcm9tb3RlZCBzd2FsbG93KVxuZnVuY3Rpb24gdG9yaUdvb3NlKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAoeGQgPT09IDIgJiYgeTIgPT09IHkxICsgMikgfHwgKHhkID09PSAwICYmIHkyID09PSB5MSAtIDIpXG4gICAgICA6ICh4ZCA9PT0gMiAmJiB5MiA9PT0geTEgLSAyKSB8fCAoeGQgPT09IDAgJiYgeTIgPT09IHkxICsgMik7XG4gIH07XG59XG5cbi8vIHRvcmkgc2hvZ2kgbGVmdCBxdWFpbFxuZnVuY3Rpb24gdG9yaUxlZnRRdWFpbChjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgICByZXR1cm4gY29sb3IgPT09ICd3aGl0ZSdcbiAgICAgID8gKHgyID09PSB4MSAmJiB5MiA+IHkxKSB8fCAoeGQgPT09IHlkICYmIHgyID4geDEgJiYgeTIgPCB5MSkgfHwgKHgyID09PSB4MSAtIDEgJiYgeTIgPT09IHkxIC0gMSlcbiAgICAgIDogKHgyID09PSB4MSAmJiB5MiA8IHkxKSB8fCAoeGQgPT09IHlkICYmIHgyIDwgeDEgJiYgeTIgPiB5MSkgfHwgKHgyID09PSB4MSArIDEgJiYgeTIgPT09IHkxICsgMSk7XG4gIH07XG59XG5cbi8vIHRvcmkgc2hvZ2kgcmlnaHQgcXVhaWxcbmZ1bmN0aW9uIHRvcmlSaWdodFF1YWlsKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICAgIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAoeDIgPT09IHgxICYmIHkyID4geTEpIHx8ICh4ZCA9PT0geWQgJiYgeDIgPCB4MSAmJiB5MiA8IHkxKSB8fCAoeDIgPT09IHgxICsgMSAmJiB5MiA9PT0geTEgLSAxKVxuICAgICAgOiAoeDIgPT09IHgxICYmIHkyIDwgeTEpIHx8ICh4ZCA9PT0geWQgJiYgeDIgPiB4MSAmJiB5MiA+IHkxKSB8fCAoeDIgPT09IHgxIC0gMSAmJiB5MiA9PT0geTEgKyAxKTtcbiAgfTtcbn1cblxuLy8gdG9yaSBzaG9naSBwaGVhc2FudFxuZnVuY3Rpb24gdG9yaVBoZWFzYW50KGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAoeDIgPT09IHgxICYmIHkyID09PSB5MSArIDIpIHx8ICh4ZCA9PT0gMSAmJiB5MiA9PT0geTEgLSAxKVxuICAgICAgOiAoeDIgPT09IHgxICYmIHkyID09PSB5MSAtIDIpIHx8ICh4ZCA9PT0gMSAmJiB5MiA9PT0geTEgKyAxKTtcbiAgfTtcbn1cblxuLy8gdG9yaSBzaG9naSBjcmFuZVxuY29uc3QgdG9yaUNyYW5lOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4ga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpICYmIHkyICE9PSB5MTtcbn07XG5cbi8vIHRvcmkgc2hvZ2kgZmFsY29uXG5mdW5jdGlvbiB0b3JpRmFsY29uKGNvbG9yOiBjZy5Db2xvcik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIHJldHVybiBjb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgJiYgISh4MiA9PT0geDEgJiYgeTIgPT09IHkxIC0gMSlcbiAgICAgIDoga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpICYmICEoeDIgPT09IHgxICYmIHkyID09PSB5MSArIDEpO1xuICB9O1xufVxuXG4vLyB0b3JpIHNob2dpIGVhZ2xlIChwcm9tb3RlZCBmYWxjb24pXG5mdW5jdGlvbiB0b3JpRWFnbGUoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnXG4gICAgICA/IGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fCAoeGQgPT09IHlkICYmICh5MiA+IHkxIHx8ICh5MiA8IHkxICYmIHlkIDw9IDIpKSkgfHwgKHgyID09PSB4MSAmJiB5MiA8IHkxKVxuICAgICAgOiBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHwgKHhkID09PSB5ZCAmJiAoeTIgPCB5MSB8fCAoeTIgPiB5MSAmJiB5ZCA8PSAyKSkpIHx8ICh4MiA9PT0geDEgJiYgeTIgPiB5MSk7XG4gIH07XG59XG5cbi8vIGNoYWsgcGF3blxuZnVuY3Rpb24gcGF3bkNoYWsoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgcmV0dXJuIGNvbG9yID09PSAnd2hpdGUnID8geTIgPj0geTEgJiYgeTIgLSB5MSA8PSAxICYmIHhkIDw9IDEgOiB5MSA+PSB5MiAmJiB5MSAtIHkyIDw9IDEgJiYgeGQgPD0gMTtcbiAgfTtcbn1cblxuLy8gY2hhayB3YXJyaW9yXG5mdW5jdGlvbiBjaGFrV2Fycmlvcihjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHRvcmlDcmFuZSh4MSwgeTEsIHgyLCB5MikgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPj0gNCA6IHkyIDw9IDQpO1xufVxuXG4vLyBjaGFrIGRpdmluZSBraW5nXG5mdW5jdGlvbiBjaGFrRGl2aW5lS2luZyhjb2xvcjogY2cuQ29sb3IpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgICByZXR1cm4gcXVlZW4oeDEsIHkxLCB4MiwgeTIpICYmIHhkIDw9IDIgJiYgeWQgPD0gMiAmJiAoY29sb3IgPT09ICd3aGl0ZScgPyB5MiA+PSA0IDogeTIgPD0gNCk7XG4gIH07XG59XG5cbi8vIGNoZW5uaXMga2luZ1xuZnVuY3Rpb24ga2luZ0NoZW5uaXMoY29sb3I6IGNnLkNvbG9yKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSAmJiB4MiA+PSAxICYmIHgyIDw9IDUgJiYgKGNvbG9yID09PSAnd2hpdGUnID8geTIgPD0gMyA6IHkyID49IDMpO1xufVxuXG4vLyBjYW5ub3QgcHJlbW92ZVxuY29uc3Qgbm9Nb3ZlID0gKCkgPT4gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVtb3ZlKHZhcmlhbnQ6IHN0cmluZywgY2hlc3M5NjA6IGJvb2xlYW4sIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5QcmVtb3ZlIHtcbiAgY29uc3QgbW9iaWxpdHkgPSBidWlsdGluTW9iaWxpdHkodmFyaWFudCwgY2hlc3M5NjAsIGJkKTtcbiAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgIGNvbnN0IHBvcyA9IHV0aWwua2V5MnBvcyhrZXkpO1xuICAgIHJldHVybiB1dGlsXG4gICAgICAuYWxsUG9zKGJkKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgcG9zMiA9PlxuICAgICAgICAgIChwb3NbMF0gIT09IHBvczJbMF0gfHwgcG9zWzFdICE9PSBwb3MyWzFdKSAmJlxuICAgICAgICAgIG1vYmlsaXR5KGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKShwb3NbMF0sIHBvc1sxXSwgcG9zMlswXSwgcG9zMlsxXSlcbiAgICAgIClcbiAgICAgIC5tYXAodXRpbC5wb3Mya2V5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbHRpbk1vYmlsaXR5KFxuICB2YXJpYW50OiBzdHJpbmcsXG4gIGNoZXNzOTYwOiBib29sZWFuLFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiAoYm9hcmRTdGF0ZTogY2cuQm9hcmRTdGF0ZSwga2V5OiBjZy5LZXksIGNhbkNhc3RsZTogYm9vbGVhbikgPT4gTW9iaWxpdHkge1xuICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlICd4aWFuZ3FpJzpcbiAgICBjYXNlICdtYW5jaHUnOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3biAoc29sZGllcilcbiAgICAgICAgICAgIHJldHVybiB4aWFuZ3FpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyBjaGFyaW90XG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8gaG9yc2VcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGVsZXBoYW50XG4gICAgICAgICAgICByZXR1cm4geGlhbmdxaUVsZXBoYW50KGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYWR2aXNvclxuICAgICAgICAgICAgcmV0dXJuIHhpYW5ncWlBZHZpc29yKGNvbG9yLCBiZCk7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiB4aWFuZ3FpS2luZyhjb2xvciwgYmQpO1xuICAgICAgICAgIGNhc2UgJ20tcGllY2UnOiAvLyBiYW5uZXJcbiAgICAgICAgICAgIHJldHVybiBjaGFuY2VsbG9yO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnamFuZ2dpJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd24gKHNvbGRpZXIpXG4gICAgICAgICAgICByZXR1cm4gamFuZ2dpUGF3bihjb2xvciwgYmQpO1xuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYW5ub25cbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gY2hhcmlvdFxuICAgICAgICAgICAgcmV0dXJuIGphbmdnaVJvb2soYmQpO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBob3JzZVxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gZWxlcGhhbnRcbiAgICAgICAgICAgIHJldHVybiBqYW5nZ2lFbGVwaGFudDtcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYWR2aXNvclxuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4gamFuZ2dpS2luZyhjb2xvciwgYmQpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnbWluaXhpYW5ncWknOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3biAoc29sZGllclxuICAgICAgICAgICAgcmV0dXJuIG1pbml4aWFuZ3FpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyBjaGFyaW90XG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8gaG9yc2VcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiB4aWFuZ3FpS2luZyhjb2xvciwgYmQpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnc2hvZ2knOlxuICAgIGNhc2UgJ21pbmlzaG9naSc6XG4gICAgY2FzZSAnZ29yb2dvcm8nOlxuICAgIGNhc2UgJ2dvcm9nb3JvcGx1cyc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lQYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdsLXBpZWNlJzogLy8gbGFuY2VcbiAgICAgICAgICAgIHJldHVybiBzaG9naUxhbmNlKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lLbmlnaHQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIHNpbHZlclxuICAgICAgICAgICAgcmV0dXJuIHNob2dpU2lsdmVyKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdnLXBpZWNlJzogLy8gZ29sZFxuICAgICAgICAgIGNhc2UgJ3BwLXBpZWNlJzogLy8gdG9raW5cbiAgICAgICAgICBjYXNlICdwbC1waWVjZSc6IC8vIHByb21vdGVkIGxhbmNlXG4gICAgICAgICAgY2FzZSAncG4tcGllY2UnOiAvLyBwcm9tb3RlZCBrbmlnaHRcbiAgICAgICAgICBjYXNlICdwcy1waWVjZSc6IC8vIHByb21vdGVkIHNpbHZlclxuICAgICAgICAgICAgcmV0dXJuIHNob2dpR29sZChjb2xvcik7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAncHItcGllY2UnOiAvLyBkcmFnb24gKHByb21vdGVkIHJvb2spXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lEcmFnb247XG4gICAgICAgICAgY2FzZSAncGItcGllY2UnOiAvLyBob3JzZSAocHJvbW90ZWQgYmlzaG9wKSwgbm90IHRvIGJlIGNvbmZ1c2VkIHdpdGggdGhlIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIHNob2dpSG9yc2U7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdreW90b3Nob2dpJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAnbC1waWVjZSc6IC8vIGt5b3RvIC0gbGFuY2UtdG9raW5cbiAgICAgICAgICAgIHJldHVybiBzaG9naUxhbmNlKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdwbC1waWVjZSc6XG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lHb2xkKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gZ2lua2FrdSAtIHNpbHZlci1iaXNob3BcbiAgICAgICAgICAgIHJldHVybiBzaG9naVNpbHZlcihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncHMtcGllY2UnOlxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga2lua2VpIGdvbGQta25pZ2h0XG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lLbmlnaHQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BuLXBpZWNlJzpcbiAgICAgICAgICAgIHJldHVybiBzaG9naUdvbGQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBoaWZ1IC0gcm9vay1wYXduXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lQYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdwcC1waWVjZSc6XG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnZG9idXRzdSc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjaGlja1xuICAgICAgICAgICAgcmV0dXJuIHNob2dpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnZS1waWVjZSc6IC8vIGVsZXBoYW50XG4gICAgICAgICAgICByZXR1cm4gZmVyejtcbiAgICAgICAgICBjYXNlICdnLXBpZWNlJzogLy8gZ2lyYWZmZVxuICAgICAgICAgICAgcmV0dXJuIHdhemlyO1xuICAgICAgICAgIGNhc2UgJ2wtcGllY2UnOiAvLyBsaW9uXG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgY2FzZSAncGMtcGllY2UnOiAvLyBoZW4gKHByb21vdGVkIGNoaWNrKVxuICAgICAgICAgICAgcmV0dXJuIHNob2dpR29sZChjb2xvcik7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICd0b3Jpc2hvZ2knOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdzLXBpZWNlJzogLy8gc3dhbGxvd1xuICAgICAgICAgICAgcmV0dXJuIHNob2dpUGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncHMtcGllY2UnOiAvLyBnb29zZSAocHJvbW90ZWQgc3dhbGxvdylcbiAgICAgICAgICAgIHJldHVybiB0b3JpR29vc2UoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2wtcGllY2UnOiAvLyBsZWZ0IHF1YWlsXG4gICAgICAgICAgICByZXR1cm4gdG9yaUxlZnRRdWFpbChjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJpZ2h0IHF1YWlsXG4gICAgICAgICAgICByZXR1cm4gdG9yaVJpZ2h0UXVhaWwoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwaGVhc2FudCAoTk9UIHBhd24pXG4gICAgICAgICAgICByZXR1cm4gdG9yaVBoZWFzYW50KGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY3JhbmVcbiAgICAgICAgICAgIHJldHVybiB0b3JpQ3JhbmU7XG4gICAgICAgICAgY2FzZSAnZi1waWVjZSc6IC8vIGZhbGNvblxuICAgICAgICAgICAgcmV0dXJuIHRvcmlGYWxjb24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BmLXBpZWNlJzogLy8gZWFnbGUgKHByb21vdGVkIGZhbGNvbilcbiAgICAgICAgICAgIHJldHVybiB0b3JpRWFnbGUoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBwaG9lbml4XG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdtYWtydWsnOlxuICAgIGNhc2UgJ21ha3BvbmcnOlxuICAgIGNhc2UgJ3NpdHR1eWluJzpcbiAgICBjYXNlICdjYW1ib2RpYW4nOlxuICAgIGNhc2UgJ2FzZWFuJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHZhcmlhbnQgPT09ICdzaXR0dXlpbicgPyBwYXduU2l0dHV5aW4oYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSA6IHBhd25Ob0RvdWJsZVN0ZXAoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBBU0VBTiBraG9uXG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIGtob25cbiAgICAgICAgICAgIHJldHVybiBzaG9naVNpbHZlcihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIEFTRUFOIG1ldFxuICAgICAgICAgIGNhc2UgJ2YtcGllY2UnOiAvLyBTaXR0dXlpbiBmZXJ6XG4gICAgICAgICAgY2FzZSAnbS1waWVjZSc6IC8vIG1ldFxuICAgICAgICAgICAgcmV0dXJuIHZhcmlhbnQgPT09ICdjYW1ib2RpYW4nID8gZmVyek91ayhjb2xvcikgOiBmZXJ6O1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudCA9PT0gJ2NhbWJvZGlhbicgPyBraW5nT3VrKGNvbG9yLCBjYW5DYXN0bGUpIDoga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdncmFuZCc6XG4gICAgY2FzZSAnZ3JhbmRob3VzZSc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bkdyYW5kKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ3EtcGllY2UnOiAvLyBxdWVlblxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjaGFuY2VsbG9yXG4gICAgICAgICAgICByZXR1cm4gY2hhbmNlbGxvcjtcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYXJjaGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGFyY2hiaXNob3A7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ3NoYWtvJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd25HcmFuZChjb2xvcik7XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnZS1waWVjZSc6IC8vIGVsZXBoYW50XG4gICAgICAgICAgICByZXR1cm4gc2hha29FbGVwaGFudDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmdTaGFrbyhjb2xvciwgcm9va0ZpbGVzT2ZTaGFrbyhib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnc2hvZ3VuJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BwLXBpZWNlJzogLy8gY2FwdGFpblxuICAgICAgICAgICAgcmV0dXJuIGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICdwci1waWVjZSc6IC8vIG1vcnRhclxuICAgICAgICAgICAgcmV0dXJuIGNoYW5jZWxsb3I7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdwbi1waWVjZSc6IC8vIGdlbmVyYWxcbiAgICAgICAgICAgIHJldHVybiBjZW50YXVyO1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncGItcGllY2UnOiAvLyBhcmNoYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdmLXBpZWNlJzogLy8gZHVjaGVzc1xuICAgICAgICAgICAgcmV0dXJuIGZlcno7XG4gICAgICAgICAgY2FzZSAncGYtcGllY2UnOiAvLyBxdWVlblxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZyhjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ29yZGEnOlxuICAgIGNhc2UgJ29yZGFtaXJyb3InOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdsLXBpZWNlJzogLy8gbGFuY2VyXG4gICAgICAgICAgICByZXR1cm4gY2hhbmNlbGxvcjtcbiAgICAgICAgICBjYXNlICdoLXBpZWNlJzogLy8ga2hlc2hpZ1xuICAgICAgICAgICAgcmV0dXJuIGNlbnRhdXI7XG4gICAgICAgICAgY2FzZSAnYS1waWVjZSc6IC8vIGFyY2hlclxuICAgICAgICAgICAgcmV0dXJuIGFyY2hiaXNob3A7XG4gICAgICAgICAgY2FzZSAneS1waWVjZSc6IC8vIHl1cnRcbiAgICAgICAgICAgIHJldHVybiBzaG9naVNpbHZlcihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnZi1waWVjZSc6IC8vIGZhbGNvblxuICAgICAgICAgICAgcmV0dXJuIGFtYXpvbjtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdzeW5vY2hlc3MnOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIHNvbGRpZXJcbiAgICAgICAgICAgIHJldHVybiBtaW5peGlhbmdxaVBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ2UtcGllY2UnOiAvLyBlbGVwaGFudFxuICAgICAgICAgICAgcmV0dXJuIHNoYWtvRWxlcGhhbnQ7XG4gICAgICAgICAgY2FzZSAnYS1waWVjZSc6IC8vIGFkdmlzb3JcbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSAmJiBjb2xvciA9PT0gJ3doaXRlJyk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdtdXNrZXRlZXInOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAnci1waWVjZSc6IC8vIHJvb2tcbiAgICAgICAgICAgIHJldHVybiByb29rO1xuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdsLXBpZWNlJzogLy8gbGVvcGFyZFxuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlckxlb3BhcmQ7XG4gICAgICAgICAgY2FzZSAnby1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlckNhbm5vbjtcbiAgICAgICAgICBjYXNlICd1LXBpZWNlJzogLy8gdW5pY29yblxuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlclVuaWNvcm47XG4gICAgICAgICAgY2FzZSAnZC1waWVjZSc6IC8vIGRyYWdvblxuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlckRyYWdvbjtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2hhbmNlbGxvclxuICAgICAgICAgICAgcmV0dXJuIGNoYW5jZWxsb3I7XG4gICAgICAgICAgY2FzZSAnYS1waWVjZSc6IC8vIGFyY2hiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBhcmNoYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ2UtcGllY2UnOiAvLyBlbGVwaGFudFxuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlckVsZXBoYW50O1xuICAgICAgICAgIGNhc2UgJ2gtcGllY2UnOiAvLyBoYXdrXG4gICAgICAgICAgICByZXR1cm4gbXVza2V0ZWVySGF3azsgLy8gaGF3a1xuICAgICAgICAgIGNhc2UgJ2YtcGllY2UnOiAvLyBmb3J0cmVzc1xuICAgICAgICAgICAgcmV0dXJuIG11c2tldGVlckZvcnRyZXNzO1xuICAgICAgICAgIGNhc2UgJ3MtcGllY2UnOiAvLyBzcGlkZXJcbiAgICAgICAgICAgIHJldHVybiBtdXNrZXRlZXJTcGlkZXI7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgICByZXR1cm4ga2luZyhjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ2hvcHBlbHBvcHBlbCc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodCAodGFrZXMgbGlrZSBiaXNob3ApXG4gICAgICAgICAgY2FzZSAnYi1waWVjZSc6IC8vIGJpc2hvcCAodGFrZXMgbGlrZSBrbmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVlZW5cbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdzaGlub2JpJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BsLXBpZWNlJzpcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAncGgtcGllY2UnOlxuICAgICAgICAgIGNhc2UgJ24tcGllY2UnOiAvLyBrbmlnaHRcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAncG0tcGllY2UnOlxuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAncHAtcGllY2UnOlxuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYXB0YWluXG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgY2FzZSAnbC1waWVjZSc6IC8vIGxhbmNlXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lMYW5jZShjb2xvcik7XG4gICAgICAgICAgY2FzZSAnaC1waWVjZSc6IC8vIGhvcnNlXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lLbmlnaHQoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ20tcGllY2UnOiAvLyBtb25rXG4gICAgICAgICAgICByZXR1cm4gZmVyejtcbiAgICAgICAgICBjYXNlICdkLXBpZWNlJzogLy8gZHJhZ29uXG4gICAgICAgICAgICByZXR1cm4gc2hvZ2lEcmFnb247XG4gICAgICAgICAgY2FzZSAnai1waWVjZSc6IC8vIG5pbmphXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmcoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBub01vdmU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICdlbXBpcmUnOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bihjb2xvcik7XG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIHNvbGRpZXJcbiAgICAgICAgICAgIHJldHVybiBtaW5peGlhbmdxaVBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgY2FzZSAnZC1waWVjZSc6IC8vIGR1a2VcbiAgICAgICAgICBjYXNlICd0LXBpZWNlJzogLy8gdG93ZXJcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2FyZGluYWxcbiAgICAgICAgICAgIHJldHVybiBxdWVlbjtcbiAgICAgICAgICBjYXNlICdlLXBpZWNlJzogLy8gZWFnbGVcbiAgICAgICAgICAgIHJldHVybiBhbWF6b247XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBraW5nKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnY2hhayc6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXduXG4gICAgICAgICAgICByZXR1cm4gcGF3bkNoYWsoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BwLXBpZWNlJzogLy8gd2FycmlvclxuICAgICAgICAgICAgcmV0dXJuIGNoYWtXYXJyaW9yKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gc2VycGVudFxuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAndi1waWVjZSc6IC8vIHZ1bHR1cmVcbiAgICAgICAgICAgIHJldHVybiBrbmlnaHQ7XG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIHNoYW1hblxuICAgICAgICAgICAgcmV0dXJuIHRvcmlDcmFuZTtcbiAgICAgICAgICBjYXNlICdqLXBpZWNlJzogLy8gamFndWFyXG4gICAgICAgICAgICByZXR1cm4gY2VudGF1cjtcbiAgICAgICAgICBjYXNlICdxLXBpZWNlJzogLy8gcXVldHphbFxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOiAvLyBraW5nXG4gICAgICAgICAgICByZXR1cm4ga2luZ05vQ2FzdGxpbmc7XG4gICAgICAgICAgY2FzZSAncGstcGllY2UnOiAvLyBkaXZpbmUga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGNoYWtEaXZpbmVLaW5nKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdvLXBpZWNlJzogLy8gb2ZmZXJpbmdcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ2NoZW5uaXMnOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd25Ob0RvdWJsZVN0ZXAoY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BwLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAncy1waWVjZSc6IC8vIHNvbGRpZXJcbiAgICAgICAgICAgIHJldHVybiBtaW5peGlhbmdxaVBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3BzLXBpZWNlJzogLy8gYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ2YtcGllY2UnOiAvLyBmZXJ6XG4gICAgICAgICAgICByZXR1cm4gZmVyejtcbiAgICAgICAgICBjYXNlICdwZi1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAnbS1waWVjZSc6IC8vIG1hbm5cbiAgICAgICAgICAgIHJldHVybiBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBjYXNlICdwbS1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGtpbmdDaGVubmlzKGNvbG9yKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5vTW92ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ3NwYXJ0YW4nOlxuICAgICAgcmV0dXJuIChib2FyZFN0YXRlLCBrZXksIGNhbkNhc3RsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UuY29sb3I7XG4gICAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICAgIGNhc2UgJ2gtcGllY2UnOiAvLyBob3BsaXRlXG4gICAgICAgICAgICByZXR1cm4gcGF3bkJlcm9saW5hKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdnLXBpZWNlJzogLy8gZ2VuYXJhbFxuICAgICAgICAgICAgcmV0dXJuIHNob2dpRHJhZ29uO1xuICAgICAgICAgIGNhc2UgJ3ctcGllY2UnOiAvLyB3YXJsb3JkXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2FwdGFpblxuICAgICAgICAgICAgcmV0dXJuIGFuZChyb29rLCBkaXN0YW5jZSgyKSk7XG4gICAgICAgICAgY2FzZSAnbC1waWVjZSc6IC8vIGxpZXV0ZW5hbnRcbiAgICAgICAgICAgIHJldHVybiBvcihhbmQoYmlzaG9wLCBkaXN0YW5jZSgyKSksIHNpZGV3YXlzKTtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBjaGVzczk2MFxuICAgICAgICAgICAgICA/IGtpbmc5NjAoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSlcbiAgICAgICAgICAgICAgOiBraW5nKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY2FzZSAnY2FwYWJsYW5jYSc6XG4gICAgY2FzZSAnY2FwYWhvdXNlJzpcbiAgICAgIHJldHVybiAoYm9hcmRTdGF0ZSwga2V5LCBjYW5DYXN0bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFN0YXRlLnBpZWNlcy5nZXQoa2V5KSE7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlLmNvbG9yO1xuICAgICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgICBjYXNlICdwLXBpZWNlJzogLy8gcGF3blxuICAgICAgICAgICAgcmV0dXJuIHBhd24oY29sb3IpO1xuICAgICAgICAgIGNhc2UgJ3ItcGllY2UnOiAvLyByb29rXG4gICAgICAgICAgICByZXR1cm4gcm9vaztcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0XG4gICAgICAgICAgICByZXR1cm4ga25pZ2h0O1xuICAgICAgICAgIGNhc2UgJ2ItcGllY2UnOiAvLyBiaXNob3BcbiAgICAgICAgICAgIHJldHVybiBiaXNob3A7XG4gICAgICAgICAgY2FzZSAncS1waWVjZSc6IC8vIHF1ZWVuXG4gICAgICAgICAgICByZXR1cm4gcXVlZW47XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNoYW5jZWxsb3JcbiAgICAgICAgICAgIHJldHVybiBjaGFuY2VsbG9yO1xuICAgICAgICAgIGNhc2UgJ2EtcGllY2UnOiAvLyBhcmNoYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYXJjaGJpc2hvcDtcbiAgICAgICAgICBjYXNlICdrLXBpZWNlJzogLy8ga2luZ1xuICAgICAgICAgICAgcmV0dXJuIGNoZXNzOTYwXG4gICAgICAgICAgICAgID8ga2luZzk2MChjb2xvciwgcm9va0ZpbGVzT2YoYm9hcmRTdGF0ZS5waWVjZXMsIGNvbG9yKSwgY2FuQ2FzdGxlKVxuICAgICAgICAgICAgICA6IGtpbmdDYXBhKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgLy8gVmFyaWFudHMgdXNpbmcgc3RhbmRhcmQgcGllY2VzIGFuZCBhZGRpdGlvbmFsIGZhaXJ5IHBpZWNlcyBsaWtlIFMtY2hlc3MgZXRjLlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gKGJvYXJkU3RhdGUsIGtleSwgY2FuQ2FzdGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSkhO1xuICAgICAgICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwaWVjZS5jb2xvcjtcbiAgICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6IC8vIHBhd25cbiAgICAgICAgICAgIHJldHVybiBwYXduKGNvbG9yKTtcbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzogLy8gcm9va1xuICAgICAgICAgICAgcmV0dXJuIHJvb2s7XG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodFxuICAgICAgICAgICAgcmV0dXJuIGtuaWdodDtcbiAgICAgICAgICBjYXNlICdiLXBpZWNlJzogLy8gYmlzaG9wXG4gICAgICAgICAgICByZXR1cm4gYmlzaG9wO1xuICAgICAgICAgIGNhc2UgJ3EtcGllY2UnOiAvLyBxdWVlblxuICAgICAgICAgICAgcmV0dXJuIHF1ZWVuO1xuICAgICAgICAgIGNhc2UgJ2UtcGllY2UnOiAvLyBTLWNoZXNzIGVsZXBoYW50XG4gICAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNoYW5jZWxsb3JcbiAgICAgICAgICAgIHJldHVybiBjaGFuY2VsbG9yO1xuICAgICAgICAgIGNhc2UgJ2gtcGllY2UnOiAvLyBTLWNoZXNzIGhhd2tcbiAgICAgICAgICBjYXNlICdhLXBpZWNlJzogLy8gYXJjaGJpc2hvcFxuICAgICAgICAgICAgcmV0dXJuIGFyY2hiaXNob3A7XG4gICAgICAgICAgY2FzZSAnay1waWVjZSc6IC8vIGtpbmdcbiAgICAgICAgICAgIHJldHVybiBjaGVzczk2MFxuICAgICAgICAgICAgICA/IGtpbmc5NjAoY29sb3IsIHJvb2tGaWxlc09mKGJvYXJkU3RhdGUucGllY2VzLCBjb2xvciksIGNhbkNhc3RsZSlcbiAgICAgICAgICAgICAgOiBraW5nKGNvbG9yLCByb29rRmlsZXNPZihib2FyZFN0YXRlLnBpZWNlcywgY29sb3IpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbm9Nb3ZlO1xuICAgICAgICB9XG4gICAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0IHtcbiAgcG9zMmtleSxcbiAga2V5MnBvcyxcbiAgb3Bwb3NpdGUsXG4gIGRpc3RhbmNlU3EsXG4gIGFsbFBvcyxcbiAgY29tcHV0ZVNxdWFyZUNlbnRlcixcbiAgcm9sZU9mLFxuICBkcm9wT3JpZ09mLFxuICBjaGFuZ2VOdW1iZXIsXG4gIGlzS2V5LFxuICBpc1NhbWUsXG59IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBxdWVlbiwga25pZ2h0LCBqYW5nZ2lFbGVwaGFudCB9IGZyb20gJy4vcHJlbW92ZS5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxVc2VyRnVuY3Rpb248VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4oZjogVCB8IHVuZGVmaW5lZCwgLi4uYXJnczogUGFyYW1ldGVyczxUPik6IHZvaWQge1xuICBpZiAoZikgc2V0VGltZW91dCgoKSA9PiBmKC4uLmFyZ3MpLCAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZU9yaWVudGF0aW9uKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHN0YXRlLm9yaWVudGF0aW9uID0gb3Bwb3NpdGUoc3RhdGUub3JpZW50YXRpb24pO1xuICBzdGF0ZS5hbmltYXRpb24uY3VycmVudCA9IHN0YXRlLmRyYWdnYWJsZS5jdXJyZW50ID0gc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCA9IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHN0YXRlLmxhc3RNb3ZlID0gdW5kZWZpbmVkO1xuICB1bnNlbGVjdChzdGF0ZSk7XG4gIHVuc2V0UHJlbW92ZShzdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQaWVjZXMoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIHBpZWNlczogY2cuUGllY2VzRGlmZik6IHZvaWQge1xuICBmb3IgKGNvbnN0IFtrZXksIHBpZWNlXSBvZiBwaWVjZXMpIHtcbiAgICBpZiAocGllY2UpIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLnNldChrZXksIHBpZWNlKTtcbiAgICBlbHNlIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmRlbGV0ZShrZXkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDaGVjayhzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgY29sb3I6IGNnLkNvbG9yIHwgYm9vbGVhbik6IHZvaWQge1xuICBzdGF0ZS5jaGVjayA9IHVuZGVmaW5lZDtcbiAgaWYgKGNvbG9yID09PSB0cnVlKSBjb2xvciA9IHN0YXRlLnR1cm5Db2xvcjtcbiAgaWYgKGNvbG9yKVxuICAgIGZvciAoY29uc3QgW2ssIHBdIG9mIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzKSB7XG4gICAgICBpZiAoc3RhdGUua2luZ1JvbGVzLmluY2x1ZGVzKHAucm9sZSkgJiYgcC5jb2xvciA9PT0gY29sb3IpIHtcbiAgICAgICAgc3RhdGUuY2hlY2sgPSBrO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFByZW1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuU2V0UHJlbW92ZU1ldGFkYXRhKTogdm9pZCB7XG4gIHN0YXRlLnByZW1vdmFibGUuY3VycmVudCA9IFtvcmlnLCBkZXN0XTtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5wcmVtb3ZhYmxlLmV2ZW50cy5zZXQsIG9yaWcsIGRlc3QsIG1ldGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRQcmVtb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIGlmIChzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQpIHtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5wcmVtb3ZhYmxlLmV2ZW50cy51bnNldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJ5QXV0b0Nhc3RsZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXkpOiBib29sZWFuIHtcbiAgaWYgKCFzdGF0ZS5hdXRvQ2FzdGxlKSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3Qga2luZyA9IHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgaWYgKCFraW5nIHx8IGtpbmcucm9sZSAhPT0gJ2stcGllY2UnKSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3Qgb3JpZ1BvcyA9IGtleTJwb3Mob3JpZyk7XG4gIGNvbnN0IGRlc3RQb3MgPSBrZXkycG9zKGRlc3QpO1xuICBpZiAoKG9yaWdQb3NbMV0gIT09IDAgJiYgb3JpZ1Bvc1sxXSAhPT0gNykgfHwgb3JpZ1Bvc1sxXSAhPT0gZGVzdFBvc1sxXSkgcmV0dXJuIGZhbHNlO1xuICBpZiAob3JpZ1Bvc1swXSA9PT0gNCAmJiAhc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuaGFzKGRlc3QpKSB7XG4gICAgaWYgKGRlc3RQb3NbMF0gPT09IDYpIGRlc3QgPSBwb3Mya2V5KFs3LCBkZXN0UG9zWzFdXSk7XG4gICAgZWxzZSBpZiAoZGVzdFBvc1swXSA9PT0gMikgZGVzdCA9IHBvczJrZXkoWzAsIGRlc3RQb3NbMV1dKTtcbiAgfVxuICBjb25zdCByb29rID0gc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGRlc3QpO1xuICBpZiAoIXJvb2sgfHwgcm9vay5jb2xvciAhPT0ga2luZy5jb2xvciB8fCByb29rLnJvbGUgIT09ICdyLXBpZWNlJykgcmV0dXJuIGZhbHNlO1xuXG4gIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmRlbGV0ZShvcmlnKTtcbiAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKGRlc3QpO1xuXG4gIGlmIChvcmlnUG9zWzBdIDwgZGVzdFBvc1swXSkge1xuICAgIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLnNldChwb3Mya2V5KFs2LCBkZXN0UG9zWzFdXSksIGtpbmcpO1xuICAgIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLnNldChwb3Mya2V5KFs1LCBkZXN0UG9zWzFdXSksIHJvb2spO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLnNldChwb3Mya2V5KFsyLCBkZXN0UG9zWzFdXSksIGtpbmcpO1xuICAgIHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLnNldChwb3Mya2V5KFszLCBkZXN0UG9zWzFdXSksIHJvb2spO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZU1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5KTogY2cuUGllY2UgfCBib29sZWFuIHtcbiAgY29uc3Qgb3JpZ1BpZWNlID0gc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KG9yaWcpLFxuICAgIGRlc3RQaWVjZSA9IHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldChkZXN0KTtcbiAgaWYgKG9yaWcgPT09IGRlc3QgfHwgIW9yaWdQaWVjZSkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBjYXB0dXJlZCA9IGRlc3RQaWVjZSAmJiBkZXN0UGllY2UuY29sb3IgIT09IG9yaWdQaWVjZS5jb2xvciA/IGRlc3RQaWVjZSA6IHVuZGVmaW5lZDtcbiAgaWYgKGRlc3QgPT09IHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQpIHVuc2VsZWN0KHN0YXRlKTtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMubW92ZSwgb3JpZywgZGVzdCwgY2FwdHVyZWQpO1xuICBpZiAoIXRyeUF1dG9DYXN0bGUoc3RhdGUsIG9yaWcsIGRlc3QpKSB7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuc2V0KGRlc3QsIG9yaWdQaWVjZSk7XG4gICAgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKG9yaWcpO1xuICB9XG4gIHN0YXRlLmxhc3RNb3ZlID0gW29yaWcsIGRlc3RdO1xuICBzdGF0ZS5jaGVjayA9IHVuZGVmaW5lZDtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuY2hhbmdlKTtcbiAgcmV0dXJuIGNhcHR1cmVkIHx8IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlTmV3UGllY2UoXG4gIHN0YXRlOiBIZWFkbGVzc1N0YXRlLFxuICBwaWVjZTogY2cuUGllY2UsXG4gIGRlc3Q6IGNnLktleSxcbiAgZnJvbVBvY2tldDogYm9vbGVhbixcbiAgZm9yY2U/OiBib29sZWFuXG4pOiBib29sZWFuIHtcbiAgaWYgKHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmhhcyhkZXN0KSkge1xuICAgIGlmIChmb3JjZSkgc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKGRlc3QpO1xuICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUuZXZlbnRzLmRyb3BOZXdQaWVjZSwgcGllY2UsIGRlc3QpO1xuICBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5zZXQoZGVzdCwgcGllY2UpO1xuICBpZiAoZnJvbVBvY2tldCkgY2hhbmdlTnVtYmVyKHN0YXRlLmJvYXJkU3RhdGUucG9ja2V0cyFbcGllY2UuY29sb3JdLCBwaWVjZS5yb2xlLCAtMSk7XG4gIHN0YXRlLmxhc3RNb3ZlID0gW2Ryb3BPcmlnT2YocGllY2Uucm9sZSksIGRlc3RdO1xuICBzdGF0ZS5jaGVjayA9IHVuZGVmaW5lZDtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuY2hhbmdlKTtcbiAgc3RhdGUubW92YWJsZS5kZXN0cyA9IHVuZGVmaW5lZDtcbiAgc3RhdGUudHVybkNvbG9yID0gb3Bwb3NpdGUoc3RhdGUudHVybkNvbG9yKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGJhc2VVc2VyTW92ZShcbiAgc3RhdGU6IEhlYWRsZXNzU3RhdGUsXG4gIG9yaWc6IGNnLlNlbGVjdGFibGUsXG4gIGRlc3Q6IGNnLktleSxcbiAgZnJvbVBvY2tldDogYm9vbGVhbixcbiAgZm9yY2U/OiBib29sZWFuXG4pOiBjZy5QaWVjZSB8IGJvb2xlYW4ge1xuICBjb25zdCByZXN1bHQgPSBpc0tleShvcmlnKSA/IGJhc2VNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KSA6IGJhc2VOZXdQaWVjZShzdGF0ZSwgb3JpZywgZGVzdCwgZnJvbVBvY2tldCwgZm9yY2UpO1xuICBpZiAocmVzdWx0KSB7XG4gICAgc3RhdGUubW92YWJsZS5kZXN0cyA9IHVuZGVmaW5lZDtcbiAgICBzdGF0ZS50dXJuQ29sb3IgPSBvcHBvc2l0ZShzdGF0ZS50dXJuQ29sb3IpO1xuICAgIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VyTW92ZShcbiAgc3RhdGU6IEhlYWRsZXNzU3RhdGUsXG4gIG9yaWc6IGNnLlNlbGVjdGFibGUsXG4gIGRlc3Q6IGNnLktleSxcbiAgZnJvbVBvY2tldDogYm9vbGVhbixcbiAgZm9yY2U/OiBib29sZWFuXG4pOiBib29sZWFuIHtcbiAgaWYgKGNhbk1vdmUoc3RhdGUsIG9yaWcsIGRlc3QsIGZyb21Qb2NrZXQpIHx8IGZvcmNlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYmFzZVVzZXJNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0LCBmcm9tUG9ja2V0LCBmb3JjZSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgY29uc3QgaG9sZFRpbWUgPSBzdGF0ZS5ob2xkLnN0b3AoKTtcbiAgICAgIHVuc2VsZWN0KHN0YXRlKTtcbiAgICAgIGNvbnN0IG1ldGFkYXRhOiBjZy5Nb3ZlTWV0YWRhdGEgPSB7XG4gICAgICAgIHByZW1vdmU6IGZhbHNlLFxuICAgICAgICBjdHJsS2V5OiBzdGF0ZS5zdGF0cy5jdHJsS2V5LFxuICAgICAgICBob2xkVGltZSxcbiAgICAgIH07XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSBtZXRhZGF0YS5jYXB0dXJlZCA9IHJlc3VsdDtcbiAgICAgIGlmIChpc0tleShvcmlnKSkgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5tb3ZhYmxlLmV2ZW50cy5hZnRlciwgb3JpZywgZGVzdCwgbWV0YWRhdGEpO1xuICAgICAgZWxzZSBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLm1vdmFibGUuZXZlbnRzLmFmdGVyTmV3UGllY2UsIG9yaWcsIGRlc3QsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjYW5QcmVtb3ZlKHN0YXRlLCBvcmlnLCBkZXN0LCBmcm9tUG9ja2V0KSkge1xuICAgIHNldFByZW1vdmUoc3RhdGUsIGlzS2V5KG9yaWcpID8gb3JpZyA6IGRyb3BPcmlnT2Yob3JpZy5yb2xlKSwgZGVzdCwge1xuICAgICAgY3RybEtleTogc3RhdGUuc3RhdHMuY3RybEtleSxcbiAgICB9KTtcbiAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdW5zZWxlY3Qoc3RhdGUpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIHNlbGVjdGVkOiBjZy5TZWxlY3RhYmxlLCBmb3JjZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgaWYgKGlzS2V5KHNlbGVjdGVkKSkgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuc2VsZWN0LCBzZWxlY3RlZCk7XG4gIGVsc2UgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuc2VsZWN0UG9ja2V0LCBzZWxlY3RlZCk7XG4gIGlmIChzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkKSB7XG4gICAgaWYgKGlzU2FtZShzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkLCBzZWxlY3RlZCkgJiYgIXN0YXRlLmRyYWdnYWJsZS5lbmFibGVkKSB7XG4gICAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgICBzdGF0ZS5ob2xkLmNhbmNlbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoKHN0YXRlLnNlbGVjdGFibGUuZW5hYmxlZCB8fCBmb3JjZSkgJiYgaXNLZXkoc2VsZWN0ZWQpICYmIHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICBpZiAodXNlck1vdmUoc3RhdGUsIHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQsIHNlbGVjdGVkLCAhIXN0YXRlLnNlbGVjdGFibGUuZnJvbVBvY2tldCkpIHtcbiAgICAgICAgc3RhdGUuc3RhdHMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChcbiAgICAoc3RhdGUuc2VsZWN0YWJsZS5lbmFibGVkIHx8IHN0YXRlLmRyYWdnYWJsZS5lbmFibGVkKSAmJlxuICAgIChpc01vdmFibGUoc3RhdGUsIHNlbGVjdGVkLCB0cnVlKSB8fCBpc1ByZW1vdmFibGUoc3RhdGUsIHNlbGVjdGVkLCB0cnVlKSlcbiAgKSB7XG4gICAgc2V0U2VsZWN0ZWQoc3RhdGUsIHNlbGVjdGVkLCB0cnVlKTtcbiAgICBzdGF0ZS5ob2xkLnN0YXJ0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGVkKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBzZWxlY3RlZDogY2cuU2VsZWN0YWJsZSwgZnJvbVBvY2tldD86IGJvb2xlYW4pOiB2b2lkIHtcbiAgaWYgKGlzS2V5KHNlbGVjdGVkKSkgc2V0U2VsZWN0ZWRLZXkoc3RhdGUsIHNlbGVjdGVkKTtcbiAgZWxzZSBzZXREcm9wTW9kZShzdGF0ZSwgc2VsZWN0ZWQsICEhZnJvbVBvY2tldCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RlZEtleShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwga2V5OiBjZy5LZXkpOiB2b2lkIHtcbiAgc3RhdGUuc2VsZWN0YWJsZS5zZWxlY3RlZCA9IGtleTtcbiAgc3RhdGUuc2VsZWN0YWJsZS5mcm9tUG9ja2V0ID0gZmFsc2U7XG4gIGlmIChpc1ByZW1vdmFibGUoc3RhdGUsIGtleSwgZmFsc2UpKSB7XG4gICAgc3RhdGUucHJlbW92YWJsZS5kZXN0cyA9IHN0YXRlLnByZW1vdmFibGUucHJlbW92ZUZ1bmMoc3RhdGUuYm9hcmRTdGF0ZSwga2V5LCBzdGF0ZS5wcmVtb3ZhYmxlLmNhc3RsZSk7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUucHJlbW92YWJsZS5kZXN0cyA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RHJvcE1vZGUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIHBpZWNlOiBjZy5QaWVjZSwgZnJvbVBvY2tldDogYm9vbGVhbik6IHZvaWQge1xuICBzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkID0gcGllY2U7XG4gIHN0YXRlLnNlbGVjdGFibGUuZnJvbVBvY2tldCA9IGZyb21Qb2NrZXQ7XG4gIGlmIChpc1ByZW1vdmFibGUoc3RhdGUsIHBpZWNlLCBmcm9tUG9ja2V0KSkge1xuICAgIHN0YXRlLnByZW1vdmFibGUuZGVzdHMgPSBzdGF0ZS5wcmVtb3ZhYmxlLnByZWRyb3BGdW5jKHN0YXRlLmJvYXJkU3RhdGUsIHBpZWNlKTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdChzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IHZvaWQge1xuICBzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xuICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICBzdGF0ZS5ob2xkLmNhbmNlbCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGllY2VBdmFpbGFiaWxpdHkoXG4gIHN0YXRlOiBIZWFkbGVzc1N0YXRlLFxuICBvcmlnOiBjZy5TZWxlY3RhYmxlLFxuICBmcm9tUG9ja2V0OiBib29sZWFuXG4pOiBbY2cuUGllY2UgfCB1bmRlZmluZWQsIGJvb2xlYW5dIHtcbiAgbGV0IHBpZWNlOiBjZy5QaWVjZSB8IHVuZGVmaW5lZDtcbiAgbGV0IGF2YWlsYWJsZSA9IGZhbHNlO1xuICBpZiAoaXNLZXkob3JpZykpIHtcbiAgICBwaWVjZSA9IHN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgICBhdmFpbGFibGUgPSAhIXBpZWNlO1xuICB9IGVsc2Uge1xuICAgIHBpZWNlID0gb3JpZztcbiAgICBjb25zdCBudW0gPSBzdGF0ZS5ib2FyZFN0YXRlLnBvY2tldHM/LltwaWVjZS5jb2xvcl0uZ2V0KHBpZWNlLnJvbGUpID8/IDA7XG4gICAgYXZhaWxhYmxlID0gIWZyb21Qb2NrZXQgfHwgbnVtID4gMDtcbiAgfVxuICByZXR1cm4gW3BpZWNlLCBhdmFpbGFibGVdO1xufVxuXG5mdW5jdGlvbiBpc01vdmFibGUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLlNlbGVjdGFibGUsIGZyb21Qb2NrZXQ6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgY29uc3QgW3BpZWNlLCBhdmFpbGFibGVdID0gcGllY2VBdmFpbGFiaWxpdHkoc3RhdGUsIG9yaWcsIGZyb21Qb2NrZXQpO1xuICByZXR1cm4gKFxuICAgIGF2YWlsYWJsZSAmJlxuICAgIChzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnYm90aCcgfHwgKHN0YXRlLm1vdmFibGUuY29sb3IgPT09IHBpZWNlIS5jb2xvciAmJiBzdGF0ZS50dXJuQ29sb3IgPT09IHBpZWNlIS5jb2xvcikpXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBjYW5Nb3ZlID0gKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5TZWxlY3RhYmxlLCBkZXN0OiBjZy5LZXksIGZyb21Qb2NrZXQ6IGJvb2xlYW4pOiBib29sZWFuID0+XG4gIG9yaWcgIT09IGRlc3QgJiZcbiAgaXNNb3ZhYmxlKHN0YXRlLCBvcmlnLCBmcm9tUG9ja2V0KSAmJlxuICAoc3RhdGUubW92YWJsZS5mcmVlIHx8ICEhc3RhdGUubW92YWJsZS5kZXN0cz8uZ2V0KGlzS2V5KG9yaWcpID8gb3JpZyA6IGRyb3BPcmlnT2Yob3JpZy5yb2xlKSk/LmluY2x1ZGVzKGRlc3QpKTtcblxuZnVuY3Rpb24gaXNQcmVtb3ZhYmxlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5TZWxlY3RhYmxlLCBmcm9tUG9ja2V0OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGNvbnN0IFtwaWVjZSwgYXZhaWxhYmxlXSA9IHBpZWNlQXZhaWxhYmlsaXR5KHN0YXRlLCBvcmlnLCBmcm9tUG9ja2V0KTtcbiAgcmV0dXJuIChcbiAgICBhdmFpbGFibGUgJiYgc3RhdGUucHJlbW92YWJsZS5lbmFibGVkICYmIHN0YXRlLm1vdmFibGUuY29sb3IgPT09IHBpZWNlIS5jb2xvciAmJiBzdGF0ZS50dXJuQ29sb3IgIT09IHBpZWNlIS5jb2xvclxuICApO1xufVxuXG5jb25zdCBjYW5QcmVtb3ZlID0gKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5TZWxlY3RhYmxlLCBkZXN0OiBjZy5LZXksIGZyb21Qb2NrZXQ6IGJvb2xlYW4pOiBib29sZWFuID0+XG4gIG9yaWcgIT09IGRlc3QgJiZcbiAgaXNQcmVtb3ZhYmxlKHN0YXRlLCBvcmlnLCBmcm9tUG9ja2V0KSAmJlxuICAoaXNLZXkob3JpZylcbiAgICA/IHN0YXRlLnByZW1vdmFibGUucHJlbW92ZUZ1bmMoc3RhdGUuYm9hcmRTdGF0ZSwgb3JpZywgc3RhdGUucHJlbW92YWJsZS5jYXN0bGUpLmluY2x1ZGVzKGRlc3QpXG4gICAgOiBzdGF0ZS5wcmVtb3ZhYmxlLnByZWRyb3BGdW5jKHN0YXRlLmJvYXJkU3RhdGUsIG9yaWcpLmluY2x1ZGVzKGRlc3QpKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRHJhZ2dhYmxlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5TZWxlY3RhYmxlLCBmcm9tUG9ja2V0OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGNvbnN0IFtwaWVjZSwgYXZhaWxhYmxlXSA9IHBpZWNlQXZhaWxhYmlsaXR5KHN0YXRlLCBvcmlnLCBmcm9tUG9ja2V0KTtcbiAgcmV0dXJuIChcbiAgICBhdmFpbGFibGUgJiZcbiAgICBzdGF0ZS5kcmFnZ2FibGUuZW5hYmxlZCAmJlxuICAgIChzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnYm90aCcgfHxcbiAgICAgIChzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSBwaWVjZSEuY29sb3IgJiYgKHN0YXRlLnR1cm5Db2xvciA9PT0gcGllY2UhLmNvbG9yIHx8IHN0YXRlLnByZW1vdmFibGUuZW5hYmxlZCkpKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVByZW1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUpOiBib29sZWFuIHtcbiAgY29uc3QgbW92ZSA9IHN0YXRlLnByZW1vdmFibGUuY3VycmVudDtcbiAgaWYgKCFtb3ZlKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IG9yaWcgPSBpc0tleShtb3ZlWzBdKSA/IG1vdmVbMF0gOiB7IHJvbGU6IHJvbGVPZihtb3ZlWzBdKSwgY29sb3I6IHN0YXRlLnR1cm5Db2xvciB9O1xuICBjb25zdCBkZXN0ID0gbW92ZVsxXTtcbiAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcbiAgaWYgKGNhbk1vdmUoc3RhdGUsIG9yaWcsIGRlc3QsIHRydWUpKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYmFzZVVzZXJNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0LCB0cnVlKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBjb25zdCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhID0geyBwcmVtb3ZlOiB0cnVlIH07XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSBtZXRhZGF0YS5jYXB0dXJlZCA9IHJlc3VsdDtcbiAgICAgIGlmIChpc0tleShvcmlnKSkgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5tb3ZhYmxlLmV2ZW50cy5hZnRlciwgb3JpZywgZGVzdCwgbWV0YWRhdGEpO1xuICAgICAgZWxzZSBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLm1vdmFibGUuZXZlbnRzLmFmdGVyTmV3UGllY2UsIG9yaWcsIGRlc3QsIG1ldGFkYXRhKTtcbiAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB1bnNldFByZW1vdmUoc3RhdGUpO1xuICByZXR1cm4gc3VjY2Vzcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbE1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUpOiB2b2lkIHtcbiAgdW5zZXRQcmVtb3ZlKHN0YXRlKTtcbiAgdW5zZWxlY3Qoc3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcChzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IHZvaWQge1xuICBzdGF0ZS5tb3ZhYmxlLmNvbG9yID0gc3RhdGUubW92YWJsZS5kZXN0cyA9IHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICBjYW5jZWxNb3ZlKHN0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUF0RG9tUG9zKFxuICBwb3M6IGNnLk51bWJlclBhaXIsXG4gIGFzV2hpdGU6IGJvb2xlYW4sXG4gIGJvdW5kczogQ2xpZW50UmVjdCxcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9uc1xuKTogY2cuS2V5IHwgdW5kZWZpbmVkIHtcbiAgbGV0IGZpbGUgPSBNYXRoLmZsb29yKChiZC53aWR0aCAqIChwb3NbMF0gLSBib3VuZHMubGVmdCkpIC8gYm91bmRzLndpZHRoKTtcbiAgaWYgKCFhc1doaXRlKSBmaWxlID0gYmQud2lkdGggLSAxIC0gZmlsZTtcbiAgbGV0IHJhbmsgPSBiZC5oZWlnaHQgLSAxIC0gTWF0aC5mbG9vcigoYmQuaGVpZ2h0ICogKHBvc1sxXSAtIGJvdW5kcy50b3ApKSAvIGJvdW5kcy5oZWlnaHQpO1xuICBpZiAoIWFzV2hpdGUpIHJhbmsgPSBiZC5oZWlnaHQgLSAxIC0gcmFuaztcbiAgcmV0dXJuIGZpbGUgPj0gMCAmJiBmaWxlIDwgYmQud2lkdGggJiYgcmFuayA+PSAwICYmIHJhbmsgPCBiZC5oZWlnaHQgPyBwb3Mya2V5KFtmaWxlLCByYW5rXSkgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTbmFwcGVkS2V5QXREb21Qb3MoXG4gIG9yaWc6IGNnLktleSxcbiAgcG9zOiBjZy5OdW1iZXJQYWlyLFxuICBhc1doaXRlOiBib29sZWFuLFxuICBib3VuZHM6IENsaWVudFJlY3QsXG4gIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnNcbik6IGNnLktleSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IG9yaWdQb3MgPSBrZXkycG9zKG9yaWcpO1xuICBjb25zdCB2YWxpZFNuYXBQb3MgPSBhbGxQb3MoYmQpLmZpbHRlcihwb3MyID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgcXVlZW4ob3JpZ1Bvc1swXSwgb3JpZ1Bvc1sxXSwgcG9zMlswXSwgcG9zMlsxXSkgfHxcbiAgICAgIGtuaWdodChvcmlnUG9zWzBdLCBvcmlnUG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKSB8fFxuICAgICAgLy8gT25seSBhcHBseSB0aGlzIHRvIDl4MTAgYm9hcmQgdG8gYXZvaWQgaW50ZXJmZXJpbmcgd2l0aCBvdGhlciB2YXJpYW50cyBiZXNpZGUgSmFuZ2dpXG4gICAgICAoYmQud2lkdGggPT09IDkgJiYgYmQuaGVpZ2h0ID09PSAxMCAmJiBqYW5nZ2lFbGVwaGFudChvcmlnUG9zWzBdLCBvcmlnUG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKSlcbiAgICApO1xuICB9KTtcbiAgY29uc3QgdmFsaWRTbmFwQ2VudGVycyA9IHZhbGlkU25hcFBvcy5tYXAocG9zMiA9PiBjb21wdXRlU3F1YXJlQ2VudGVyKHBvczJrZXkocG9zMiksIGFzV2hpdGUsIGJvdW5kcywgYmQpKTtcbiAgY29uc3QgdmFsaWRTbmFwRGlzdGFuY2VzID0gdmFsaWRTbmFwQ2VudGVycy5tYXAocG9zMiA9PiBkaXN0YW5jZVNxKHBvcywgcG9zMikpO1xuICBjb25zdCBbLCBjbG9zZXN0U25hcEluZGV4XSA9IHZhbGlkU25hcERpc3RhbmNlcy5yZWR1Y2UoXG4gICAgKGEsIGIsIGluZGV4KSA9PiAoYVswXSA8IGIgPyBhIDogW2IsIGluZGV4XSksXG4gICAgW3ZhbGlkU25hcERpc3RhbmNlc1swXSwgMF1cbiAgKTtcbiAgcmV0dXJuIHBvczJrZXkodmFsaWRTbmFwUG9zW2Nsb3Nlc3RTbmFwSW5kZXhdKTtcbn1cblxuZXhwb3J0IGNvbnN0IHdoaXRlUG92ID0gKHM6IEhlYWRsZXNzU3RhdGUpOiBib29sZWFuID0+IHMub3JpZW50YXRpb24gPT09ICd3aGl0ZSc7XG4iLCAiaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0IHsgc2V0Q2hlY2ssIHNldFNlbGVjdGVkIH0gZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyByZWFkIGFzIGZlblJlYWQgfSBmcm9tICcuL2Zlbi5qcyc7XG5pbXBvcnQgeyBEcmF3U2hhcGUsIERyYXdCcnVzaGVzIH0gZnJvbSAnLi9kcmF3LmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZyB7XG4gIGZlbj86IGNnLkZFTjsgLy8gY2hlc3MgcG9zaXRpb24gaW4gRm9yc3l0aCBub3RhdGlvblxuICBvcmllbnRhdGlvbj86IGNnLkNvbG9yOyAvLyBib2FyZCBvcmllbnRhdGlvbi4gd2hpdGUgfCBibGFja1xuICB0dXJuQ29sb3I/OiBjZy5Db2xvcjsgLy8gdHVybiB0byBwbGF5LiB3aGl0ZSB8IGJsYWNrXG4gIGNoZWNrPzogY2cuQ29sb3IgfCBib29sZWFuOyAvLyB0cnVlIGZvciBjdXJyZW50IGNvbG9yLCBmYWxzZSB0byB1bnNldFxuICBsYXN0TW92ZT86IGNnLk9yaWdbXTsgLy8gc3F1YXJlcyBwYXJ0IG9mIHRoZSBsYXN0IG1vdmUgW1wiYzNcIiwgXCJjNFwiXVxuICBjb29yZGluYXRlcz86IGJvb2xlYW47IC8vIGluY2x1ZGUgY29vcmRzIGF0dHJpYnV0ZXNcbiAgYXV0b0Nhc3RsZT86IGJvb2xlYW47IC8vIGltbWVkaWF0ZWx5IGNvbXBsZXRlIHRoZSBjYXN0bGUgYnkgbW92aW5nIHRoZSByb29rIGFmdGVyIGtpbmcgbW92ZVxuICB2aWV3T25seT86IGJvb2xlYW47IC8vIGRvbid0IGJpbmQgZXZlbnRzOiB0aGUgdXNlciB3aWxsIG5ldmVyIGJlIGFibGUgdG8gbW92ZSBwaWVjZXMgYXJvdW5kXG4gIGRpc2FibGVDb250ZXh0TWVudT86IGJvb2xlYW47IC8vIGJlY2F1c2Ugd2hvIG5lZWRzIGEgY29udGV4dCBtZW51IG9uIGEgY2hlc3Nib2FyZFxuICBhZGRQaWVjZVpJbmRleD86IGJvb2xlYW47IC8vIGFkZHMgei1pbmRleCB2YWx1ZXMgdG8gcGllY2VzIChmb3IgM0QpXG4gIGFkZERpbWVuc2lvbnNDc3NWYXJzVG8/OiBIVE1MRWxlbWVudDsgLy8gYWRkIC0tY2ctd2lkdGggYW5kIC0tY2ctaGVpZ2h0IENTUyB2YXJzIGNvbnRhaW5pbmcgdGhlIGJvYXJkJ3MgZGltZW5zaW9ucyB0byB0aGlzIGVsZW1lbnRcbiAgYmxvY2tUb3VjaFNjcm9sbD86IGJvb2xlYW47IC8vIGJsb2NrIHNjcm9sbGluZyB2aWEgdG91Y2ggZHJhZ2dpbmcgb24gdGhlIGJvYXJkLCBlLmcuIGZvciBjb29yZGluYXRlIHRyYWluaW5nXG4gIC8vIHBpZWNlS2V5OiBib29sZWFuOyAvLyBhZGQgYSBkYXRhLWtleSBhdHRyaWJ1dGUgdG8gcGllY2UgZWxlbWVudHNcbiAgaGlnaGxpZ2h0Pzoge1xuICAgIGxhc3RNb3ZlPzogYm9vbGVhbjsgLy8gYWRkIGxhc3QtbW92ZSBjbGFzcyB0byBzcXVhcmVzXG4gICAgY2hlY2s/OiBib29sZWFuOyAvLyBhZGQgY2hlY2sgY2xhc3MgdG8gc3F1YXJlc1xuICB9O1xuICBhbmltYXRpb24/OiB7XG4gICAgZW5hYmxlZD86IGJvb2xlYW47XG4gICAgZHVyYXRpb24/OiBudW1iZXI7XG4gIH07XG4gIG1vdmFibGU/OiB7XG4gICAgZnJlZT86IGJvb2xlYW47IC8vIGFsbCBtb3ZlcyBhcmUgdmFsaWQgLSBib2FyZCBlZGl0b3JcbiAgICBjb2xvcj86IGNnLkNvbG9yIHwgJ2JvdGgnOyAvLyBjb2xvciB0aGF0IGNhbiBtb3ZlLiB3aGl0ZSB8IGJsYWNrIHwgYm90aCB8IHVuZGVmaW5lZFxuICAgIGRlc3RzPzogY2cuRGVzdHM7IC8vIHZhbGlkIG1vdmVzLiB7XCJhMlwiIFtcImEzXCIgXCJhNFwiXSBcImIxXCIgW1wiYTNcIiBcImMzXCJdfVxuICAgIHNob3dEZXN0cz86IGJvb2xlYW47IC8vIHdoZXRoZXIgdG8gYWRkIHRoZSBtb3ZlLWRlc3QgY2xhc3Mgb24gc3F1YXJlc1xuICAgIGV2ZW50cz86IHtcbiAgICAgIGFmdGVyPzogKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5LCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIG1vdmUgaGFzIGJlZW4gcGxheWVkXG4gICAgICBhZnRlck5ld1BpZWNlPzogKHBpZWNlOiBjZy5QaWVjZSwga2V5OiBjZy5LZXksIG1ldGFkYXRhOiBjZy5Nb3ZlTWV0YWRhdGEpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciBhIG5ldyBwaWVjZSBpcyBkcm9wcGVkIG9uIHRoZSBib2FyZFxuICAgIH07XG4gICAgcm9va0Nhc3RsZT86IGJvb2xlYW47IC8vIGNhc3RsZSBieSBtb3ZpbmcgdGhlIGtpbmcgdG8gdGhlIHJvb2tcbiAgfTtcbiAgcHJlbW92YWJsZT86IHtcbiAgICBlbmFibGVkPzogYm9vbGVhbjsgLy8gYWxsb3cgcHJlbW92ZXMgZm9yIGNvbG9yIHRoYXQgY2FuIG5vdCBtb3ZlXG4gICAgcHJlbW92ZUZ1bmM/OiBjZy5QcmVtb3ZlOyAvLyBmdW5jdGlvbiBmb3IgcHJlbW92ZSBkZXN0aW5hdGlvbnNcbiAgICBwcmVkcm9wRnVuYz86IGNnLlByZWRyb3A7IC8vIGZ1bmN0aW9uIGZvciBwcmVkcm9wIGRlc3RpbmF0aW9uc1xuICAgIGNhc3RsZT86IGJvb2xlYW47IC8vIHdoZXRoZXIgdG8gYWxsb3cga2luZyBjYXN0bGUgcHJlbW92ZXNcbiAgICBkZXN0cz86IGNnLktleVtdOyAvLyBwcmVtb3ZlIGRlc3RpbmF0aW9ucyBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgZXZlbnRzPzoge1xuICAgICAgc2V0PzogKG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE/OiBjZy5TZXRQcmVtb3ZlTWV0YWRhdGEpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgcHJlbW92ZSBoYXMgYmVlbiBzZXRcbiAgICAgIHVuc2V0PzogKCkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBwcmVtb3ZlIGhhcyBiZWVuIHVuc2V0XG4gICAgfTtcbiAgfTtcbiAgZHJhZ2dhYmxlPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuOyAvLyBhbGxvdyBtb3ZlcyAmIHByZW1vdmVzIHRvIHVzZSBkcmFnJ24gZHJvcFxuICAgIGRpc3RhbmNlPzogbnVtYmVyOyAvLyBtaW5pbXVtIGRpc3RhbmNlIHRvIGluaXRpYXRlIGEgZHJhZzsgaW4gcGl4ZWxzXG4gICAgYXV0b0Rpc3RhbmNlPzogYm9vbGVhbjsgLy8gbGV0cyBjaGVzc2dyb3VuZCBzZXQgZGlzdGFuY2UgdG8gemVybyB3aGVuIHVzZXIgZHJhZ3MgcGllY2VzXG4gICAgc2hvd0dob3N0PzogYm9vbGVhbjsgLy8gc2hvdyBnaG9zdCBvZiBwaWVjZSBiZWluZyBkcmFnZ2VkXG4gICAgZGVsZXRlT25Ecm9wT2ZmPzogYm9vbGVhbjsgLy8gZGVsZXRlIGEgcGllY2Ugd2hlbiBpdCBpcyBkcm9wcGVkIG9mZiB0aGUgYm9hcmRcbiAgfTtcbiAgc2VsZWN0YWJsZT86IHtcbiAgICBlbmFibGVkPzogYm9vbGVhbjsgLy8gZGlzYWJsZSB0byBlbmZvcmNlIGRyYWdnaW5nIG92ZXIgY2xpY2stY2xpY2sgbW92ZVxuICAgIHNlbGVjdGVkPzogY2cuU2VsZWN0YWJsZTsgLy8gc3F1YXJlIG9yIHBpZWNlIGN1cnJlbnRseSBzZWxlY3RlZCBcImExXCJcbiAgICBmcm9tUG9ja2V0PzogYm9vbGVhbjsgLy8gd2hldGhlciB0aGUgc2VsZWN0ZWQgcGllY2UgaXMgZnJvbSB0aGUgcG9ja2V0XG4gIH07XG4gIGV2ZW50cz86IHtcbiAgICBjaGFuZ2U/OiAoKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHNpdHVhdGlvbiBjaGFuZ2VzIG9uIHRoZSBib2FyZFxuICAgIC8vIGNhbGxlZCBhZnRlciBhIHBpZWNlIGhhcyBiZWVuIG1vdmVkLlxuICAgIC8vIGNhcHR1cmVkUGllY2UgaXMgdW5kZWZpbmVkIG9yIGxpa2Uge2NvbG9yOiAnd2hpdGUnOyAncm9sZSc6ICdxdWVlbid9XG4gICAgbW92ZT86IChvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgY2FwdHVyZWRQaWVjZT86IGNnLlBpZWNlKSA9PiB2b2lkO1xuICAgIGRyb3BOZXdQaWVjZT86IChwaWVjZTogY2cuUGllY2UsIGtleTogY2cuS2V5KSA9PiB2b2lkO1xuICAgIHNlbGVjdD86IChrZXk6IGNnLktleSkgPT4gdm9pZDsgLy8gY2FsbGVkIHdoZW4gYSBzcXVhcmUgaXMgc2VsZWN0ZWRcbiAgICBpbnNlcnQ/OiAoZWxlbWVudHM6IGNnLkVsZW1lbnRzKSA9PiB2b2lkOyAvLyB3aGVuIHRoZSBib2FyZCBET00gaGFzIGJlZW4gKHJlKWluc2VydGVkXG4gIH07XG4gIGRyYXdhYmxlPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuOyAvLyBjYW4gZHJhd1xuICAgIHZpc2libGU/OiBib29sZWFuOyAvLyBjYW4gdmlld1xuICAgIGRlZmF1bHRTbmFwVG9WYWxpZE1vdmU/OiBib29sZWFuO1xuICAgIC8vIGZhbHNlIHRvIGtlZXAgdGhlIGRyYXdpbmcgaWYgYSBtb3ZhYmxlIHBpZWNlIGlzIGNsaWNrZWQuXG4gICAgLy8gQ2xpY2tpbmcgYW4gZW1wdHkgc3F1YXJlIG9yIGltbW92YWJsZSBwaWVjZSB3aWxsIGNsZWFyIHRoZSBkcmF3aW5nIHJlZ2FyZGxlc3MuXG4gICAgZXJhc2VPbkNsaWNrPzogYm9vbGVhbjtcbiAgICBzaGFwZXM/OiBEcmF3U2hhcGVbXTtcbiAgICBhdXRvU2hhcGVzPzogRHJhd1NoYXBlW107XG4gICAgYnJ1c2hlcz86IERyYXdCcnVzaGVzO1xuICAgIG9uQ2hhbmdlPzogKHNoYXBlczogRHJhd1NoYXBlW10pID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciBkcmF3YWJsZSBzaGFwZXMgY2hhbmdlXG4gIH07XG4gIGRpbWVuc2lvbnM/OiBjZy5Cb2FyZERpbWVuc2lvbnM7XG4gIG5vdGF0aW9uPzogY2cuTm90YXRpb247IC8vIGNvb3JkIG5vdGF0aW9uIHN0eWxlXG4gIGtpbmdSb2xlcz86IGNnLlJvbGVbXTsgLy8gcm9sZXMgdG8gYmUgbWFya2VkIHdpdGggY2hlY2tcbiAgcG9ja2V0Um9sZXM/OiBjZy5Qb2NrZXRSb2xlczsgLy8gd2hhdCBwaWVjZXMgaGF2ZSBzbG90cyBpbiB0aGUgcG9ja2V0IGZvciBlYWNoIGNvbG9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUFuaW1hdGlvbihzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgY29uZmlnOiBDb25maWcpOiB2b2lkIHtcbiAgaWYgKGNvbmZpZy5hbmltYXRpb24pIHtcbiAgICBkZWVwTWVyZ2Uoc3RhdGUuYW5pbWF0aW9uLCBjb25maWcuYW5pbWF0aW9uKTtcbiAgICAvLyBubyBuZWVkIGZvciBzdWNoIHNob3J0IGFuaW1hdGlvbnNcbiAgICBpZiAoKHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwKSA8IDcwKSBzdGF0ZS5hbmltYXRpb24uZW5hYmxlZCA9IGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIGNvbmZpZzogQ29uZmlnKTogdm9pZCB7XG4gIC8vIGRvbid0IG1lcmdlIGRlc3RpbmF0aW9ucyBhbmQgYXV0b1NoYXBlcy4gSnVzdCBvdmVycmlkZS5cbiAgaWYgKGNvbmZpZy5tb3ZhYmxlPy5kZXN0cykgc3RhdGUubW92YWJsZS5kZXN0cyA9IHVuZGVmaW5lZDtcbiAgaWYgKGNvbmZpZy5kcmF3YWJsZT8uYXV0b1NoYXBlcykgc3RhdGUuZHJhd2FibGUuYXV0b1NoYXBlcyA9IFtdO1xuXG4gIGRlZXBNZXJnZShzdGF0ZSwgY29uZmlnKTtcblxuICAvLyBpZiBhIGZlbiB3YXMgcHJvdmlkZWQsIHJlcGxhY2UgdGhlIHBpZWNlc1xuICBpZiAoY29uZmlnLmZlbikge1xuICAgIGNvbnN0IGJvYXJkU3RhdGUgPSBmZW5SZWFkKGNvbmZpZy5mZW4sIHN0YXRlLmRpbWVuc2lvbnMpO1xuICAgIC8vIHByZXZlbnQgY2FsbGluZyBjYW5jZWwoKSBpZiBwaWVjZSBkcmFnIGlzIGFscmVhZHkgc3RhcnRlZCBmcm9tIHBvY2tldCFcbiAgICBjb25zdCBkcmFnZ2VkUGllY2UgPSBzdGF0ZS5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoJ2EwJyk7XG4gICAgaWYgKGRyYWdnZWRQaWVjZSAhPT0gdW5kZWZpbmVkKSBib2FyZFN0YXRlLnBpZWNlcy5zZXQoJ2EwJywgZHJhZ2dlZFBpZWNlKTtcbiAgICAvLyBzZXQgdGhlIHBvY2tldCB0byBlbXB0eSBpbnN0ZWFkIG9mIHVuZGVmaW5lZCBpZiBwb2NrZXRSb2xlcyBleGlzdHNcbiAgICAvLyBsaWtld2lzZSwgc2V0IHRoZSBwb2NrZXQgdG8gdW5kZWZpbmVkIGlmIHBvY2tldFJvbGVzIGlzIHVuZGVmaW5lZFxuICAgIGlmIChzdGF0ZS5wb2NrZXRSb2xlcykgYm9hcmRTdGF0ZS5wb2NrZXRzID0gYm9hcmRTdGF0ZS5wb2NrZXRzID8/IHsgd2hpdGU6IG5ldyBNYXAoKSwgYmxhY2s6IG5ldyBNYXAoKSB9O1xuICAgIGVsc2UgYm9hcmRTdGF0ZS5wb2NrZXRzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLmJvYXJkU3RhdGUgPSBib2FyZFN0YXRlO1xuICAgIHN0YXRlLmRyYXdhYmxlLnNoYXBlcyA9IFtdO1xuICB9XG5cbiAgLy8gYXBwbHkgY29uZmlnIHZhbHVlcyB0aGF0IGNvdWxkIGJlIHVuZGVmaW5lZCB5ZXQgbWVhbmluZ2Z1bFxuICBpZiAoJ2NoZWNrJyBpbiBjb25maWcgfHwgJ2tpbmdSb2xlcycgaW4gY29uZmlnKSBzZXRDaGVjayhzdGF0ZSwgY29uZmlnLmNoZWNrIHx8IGZhbHNlKTtcbiAgaWYgKCdsYXN0TW92ZScgaW4gY29uZmlnICYmICFjb25maWcubGFzdE1vdmUpIHN0YXRlLmxhc3RNb3ZlID0gdW5kZWZpbmVkO1xuICAvLyBpbiBjYXNlIG9mIFpIIGRyb3AgbGFzdCBtb3ZlLCB0aGVyZSdzIGEgc2luZ2xlIHNxdWFyZS5cbiAgLy8gaWYgdGhlIHByZXZpb3VzIGxhc3QgbW92ZSBoYWQgdHdvIHNxdWFyZXMsXG4gIC8vIHRoZSBtZXJnZSBhbGdvcml0aG0gd2lsbCBpbmNvcnJlY3RseSBrZWVwIHRoZSBzZWNvbmQgc3F1YXJlLlxuICBlbHNlIGlmIChjb25maWcubGFzdE1vdmUpIHN0YXRlLmxhc3RNb3ZlID0gY29uZmlnLmxhc3RNb3ZlO1xuXG4gIC8vIGZpeCBtb3ZlL3ByZW1vdmUgZGVzdHNcbiAgaWYgKHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQpIHNldFNlbGVjdGVkKHN0YXRlLCBzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkLCBzdGF0ZS5zZWxlY3RhYmxlLmZyb21Qb2NrZXQpO1xuXG4gIGFwcGx5QW5pbWF0aW9uKHN0YXRlLCBjb25maWcpO1xuXG4gIGlmICghc3RhdGUubW92YWJsZS5yb29rQ2FzdGxlICYmIHN0YXRlLm1vdmFibGUuZGVzdHMpIHtcbiAgICBjb25zdCByYW5rID0gc3RhdGUubW92YWJsZS5jb2xvciA9PT0gJ3doaXRlJyA/ICcxJyA6ICc4JyxcbiAgICAgIGtpbmdTdGFydFBvcyA9ICgnZScgKyByYW5rKSBhcyBjZy5LZXksXG4gICAgICBkZXN0cyA9IHN0YXRlLm1vdmFibGUuZGVzdHMuZ2V0KGtpbmdTdGFydFBvcyksXG4gICAgICBraW5nID0gc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtpbmdTdGFydFBvcyk7XG4gICAgaWYgKCFkZXN0cyB8fCAha2luZyB8fCBraW5nLnJvbGUgIT09ICdrLXBpZWNlJykgcmV0dXJuO1xuICAgIHN0YXRlLm1vdmFibGUuZGVzdHMuc2V0KFxuICAgICAga2luZ1N0YXJ0UG9zLFxuICAgICAgZGVzdHMuZmlsdGVyKFxuICAgICAgICBkID0+XG4gICAgICAgICAgIShkID09PSAnYScgKyByYW5rICYmIGRlc3RzLmluY2x1ZGVzKCgnYycgKyByYW5rKSBhcyBjZy5LZXkpKSAmJlxuICAgICAgICAgICEoZCA9PT0gJ2gnICsgcmFuayAmJiBkZXN0cy5pbmNsdWRlcygoJ2cnICsgcmFuaykgYXMgY2cuS2V5KSlcbiAgICAgIClcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZShiYXNlOiBhbnksIGV4dGVuZDogYW55KTogdm9pZCB7XG4gIGZvciAoY29uc3Qga2V5IGluIGV4dGVuZCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXh0ZW5kLCBrZXkpKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGJhc2UsIGtleSkgJiYgaXNQbGFpbk9iamVjdChiYXNlW2tleV0pICYmIGlzUGxhaW5PYmplY3QoZXh0ZW5kW2tleV0pKVxuICAgICAgICBkZWVwTWVyZ2UoYmFzZVtrZXldLCBleHRlbmRba2V5XSk7XG4gICAgICBlbHNlIGJhc2Vba2V5XSA9IGV4dGVuZFtrZXldO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG86IHVua25vd24pOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBvICE9PSAnb2JqZWN0JyB8fCBvID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICByZXR1cm4gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGw7XG59XG4iLCAiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgdHlwZSBNdXRhdGlvbjxBPiA9IChzdGF0ZTogU3RhdGUpID0+IEE7XG5cbi8vIDAsMSBhbmltYXRpb24gZ29hbFxuLy8gMiwzIGFuaW1hdGlvbiBjdXJyZW50IHN0YXR1c1xuZXhwb3J0IHR5cGUgQW5pbVZlY3RvciA9IGNnLk51bWJlclF1YWQ7XG5cbmV4cG9ydCB0eXBlIEFuaW1WZWN0b3JzID0gTWFwPGNnLktleSwgQW5pbVZlY3Rvcj47XG5cbmV4cG9ydCB0eXBlIEFuaW1GYWRpbmdzID0gTWFwPGNnLktleSwgY2cuUGllY2U+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1QbGFuIHtcbiAgYW5pbXM6IEFuaW1WZWN0b3JzO1xuICBmYWRpbmdzOiBBbmltRmFkaW5ncztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbmltQ3VycmVudCB7XG4gIHN0YXJ0OiBET01IaWdoUmVzVGltZVN0YW1wO1xuICBmcmVxdWVuY3k6IGNnLktIejtcbiAgcGxhbjogQW5pbVBsYW47XG59XG5cbmV4cG9ydCBjb25zdCBhbmltID0gPEE+KG11dGF0aW9uOiBNdXRhdGlvbjxBPiwgc3RhdGU6IFN0YXRlKTogQSA9PlxuICBzdGF0ZS5hbmltYXRpb24uZW5hYmxlZCA/IGFuaW1hdGUobXV0YXRpb24sIHN0YXRlKSA6IHJlbmRlcihtdXRhdGlvbiwgc3RhdGUpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyPEE+KG11dGF0aW9uOiBNdXRhdGlvbjxBPiwgc3RhdGU6IFN0YXRlKTogQSB7XG4gIGNvbnN0IHJlc3VsdCA9IG11dGF0aW9uKHN0YXRlKTtcbiAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5pbnRlcmZhY2UgQW5pbVBpZWNlIHtcbiAga2V5OiBjZy5LZXk7XG4gIHBvczogY2cuUG9zO1xuICBwaWVjZTogY2cuUGllY2U7XG59XG50eXBlIEFuaW1QaWVjZXMgPSBNYXA8Y2cuS2V5LCBBbmltUGllY2U+O1xuXG5jb25zdCBtYWtlUGllY2UgPSAoa2V5OiBjZy5LZXksIHBpZWNlOiBjZy5QaWVjZSk6IEFuaW1QaWVjZSA9PiAoe1xuICBrZXk6IGtleSxcbiAgcG9zOiB1dGlsLmtleTJwb3Moa2V5KSxcbiAgcGllY2U6IHBpZWNlLFxufSk7XG5cbmNvbnN0IGNsb3NlciA9IChwaWVjZTogQW5pbVBpZWNlLCBwaWVjZXM6IEFuaW1QaWVjZVtdKTogQW5pbVBpZWNlIHwgdW5kZWZpbmVkID0+XG4gIHBpZWNlcy5zb3J0KChwMSwgcDIpID0+IHV0aWwuZGlzdGFuY2VTcShwaWVjZS5wb3MsIHAxLnBvcykgLSB1dGlsLmRpc3RhbmNlU3EocGllY2UucG9zLCBwMi5wb3MpKVswXTtcblxuZnVuY3Rpb24gY29tcHV0ZVBsYW4ocHJldlBpZWNlczogY2cuUGllY2VzLCBjdXJyZW50OiBTdGF0ZSk6IEFuaW1QbGFuIHtcbiAgY29uc3QgYW5pbXM6IEFuaW1WZWN0b3JzID0gbmV3IE1hcCgpLFxuICAgIGFuaW1lZE9yaWdzOiBjZy5LZXlbXSA9IFtdLFxuICAgIGZhZGluZ3M6IEFuaW1GYWRpbmdzID0gbmV3IE1hcCgpLFxuICAgIG1pc3NpbmdzOiBBbmltUGllY2VbXSA9IFtdLFxuICAgIG5ld3M6IEFuaW1QaWVjZVtdID0gW10sXG4gICAgcHJlUGllY2VzOiBBbmltUGllY2VzID0gbmV3IE1hcCgpO1xuICBsZXQgY3VyUDogY2cuUGllY2UgfCB1bmRlZmluZWQsIHByZVA6IEFuaW1QaWVjZSB8IHVuZGVmaW5lZCwgdmVjdG9yOiBjZy5OdW1iZXJQYWlyO1xuICBmb3IgKGNvbnN0IFtrLCBwXSBvZiBwcmV2UGllY2VzKSB7XG4gICAgcHJlUGllY2VzLnNldChrLCBtYWtlUGllY2UoaywgcCkpO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IG9mIHV0aWwuYWxsS2V5cyhjdXJyZW50LmRpbWVuc2lvbnMpKSB7XG4gICAgY3VyUCA9IGN1cnJlbnQuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KGtleSk7XG4gICAgcHJlUCA9IHByZVBpZWNlcy5nZXQoa2V5KTtcbiAgICBpZiAoY3VyUCkge1xuICAgICAgaWYgKHByZVApIHtcbiAgICAgICAgaWYgKCF1dGlsLnNhbWVQaWVjZShjdXJQLCBwcmVQLnBpZWNlKSkge1xuICAgICAgICAgIG1pc3NpbmdzLnB1c2gocHJlUCk7XG4gICAgICAgICAgbmV3cy5wdXNoKG1ha2VQaWVjZShrZXksIGN1clApKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIG5ld3MucHVzaChtYWtlUGllY2Uoa2V5LCBjdXJQKSk7XG4gICAgfSBlbHNlIGlmIChwcmVQKSBtaXNzaW5ncy5wdXNoKHByZVApO1xuICB9XG4gIGZvciAoY29uc3QgbmV3UCBvZiBuZXdzKSB7XG4gICAgcHJlUCA9IGNsb3NlcihcbiAgICAgIG5ld1AsXG4gICAgICBtaXNzaW5ncy5maWx0ZXIocCA9PiB1dGlsLnNhbWVQaWVjZShuZXdQLnBpZWNlLCBwLnBpZWNlKSlcbiAgICApO1xuICAgIGlmIChwcmVQKSB7XG4gICAgICB2ZWN0b3IgPSBbcHJlUC5wb3NbMF0gLSBuZXdQLnBvc1swXSwgcHJlUC5wb3NbMV0gLSBuZXdQLnBvc1sxXV07XG4gICAgICBhbmltcy5zZXQobmV3UC5rZXksIHZlY3Rvci5jb25jYXQodmVjdG9yKSBhcyBBbmltVmVjdG9yKTtcbiAgICAgIGFuaW1lZE9yaWdzLnB1c2gocHJlUC5rZXkpO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHAgb2YgbWlzc2luZ3MpIHtcbiAgICBpZiAoIWFuaW1lZE9yaWdzLmluY2x1ZGVzKHAua2V5KSkgZmFkaW5ncy5zZXQocC5rZXksIHAucGllY2UpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhbmltczogYW5pbXMsXG4gICAgZmFkaW5nczogZmFkaW5ncyxcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3RlcChzdGF0ZTogU3RhdGUsIG5vdzogRE9NSGlnaFJlc1RpbWVTdGFtcCk6IHZvaWQge1xuICBjb25zdCBjdXIgPSBzdGF0ZS5hbmltYXRpb24uY3VycmVudDtcbiAgaWYgKGN1ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gYW5pbWF0aW9uIHdhcyBjYW5jZWxlZCA6KFxuICAgIGlmICghc3RhdGUuZG9tLmRlc3Ryb3llZCkgc3RhdGUuZG9tLnJlZHJhd05vdygpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZXN0ID0gMSAtIChub3cgLSBjdXIuc3RhcnQpICogY3VyLmZyZXF1ZW5jeTtcbiAgaWYgKHJlc3QgPD0gMCkge1xuICAgIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLmRvbS5yZWRyYXdOb3coKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBlYXNlID0gZWFzaW5nKHJlc3QpO1xuICAgIGZvciAoY29uc3QgY2ZnIG9mIGN1ci5wbGFuLmFuaW1zLnZhbHVlcygpKSB7XG4gICAgICBjZmdbMl0gPSBjZmdbMF0gKiBlYXNlO1xuICAgICAgY2ZnWzNdID0gY2ZnWzFdICogZWFzZTtcbiAgICB9XG4gICAgc3RhdGUuZG9tLnJlZHJhd05vdyh0cnVlKTsgLy8gb3B0aW1pc2F0aW9uOiBkb24ndCByZW5kZXIgU1ZHIGNoYW5nZXMgZHVyaW5nIGFuaW1hdGlvbnNcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpKSA9PiBzdGVwKHN0YXRlLCBub3cpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhbmltYXRlPEE+KG11dGF0aW9uOiBNdXRhdGlvbjxBPiwgc3RhdGU6IFN0YXRlKTogQSB7XG4gIC8vIGNsb25lIHN0YXRlIGJlZm9yZSBtdXRhdGluZyBpdFxuICBjb25zdCBwcmV2UGllY2VzOiBjZy5QaWVjZXMgPSBuZXcgTWFwKHN0YXRlLmJvYXJkU3RhdGUucGllY2VzKTtcblxuICBjb25zdCByZXN1bHQgPSBtdXRhdGlvbihzdGF0ZSk7XG4gIGNvbnN0IHBsYW4gPSBjb21wdXRlUGxhbihwcmV2UGllY2VzLCBzdGF0ZSk7XG4gIGlmIChwbGFuLmFuaW1zLnNpemUgfHwgcGxhbi5mYWRpbmdzLnNpemUpIHtcbiAgICBjb25zdCBhbHJlYWR5UnVubmluZyA9IHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ICYmIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50LnN0YXJ0O1xuICAgIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ID0ge1xuICAgICAgc3RhcnQ6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZnJlcXVlbmN5OiAxIC8gc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uLFxuICAgICAgcGxhbjogcGxhbixcbiAgICB9O1xuICAgIGlmICghYWxyZWFkeVJ1bm5pbmcpIHN0ZXAoc3RhdGUsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBkb24ndCBhbmltYXRlLCBqdXN0IHJlbmRlciByaWdodCBhd2F5XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2dyZS8xNjUwMjk0XG5jb25zdCBlYXNpbmcgPSAodDogbnVtYmVyKTogbnVtYmVyID0+ICh0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSk7XG4iLCAiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCB7IHVuc2VsZWN0LCBjYW5jZWxNb3ZlLCBnZXRLZXlBdERvbVBvcywgZ2V0U25hcHBlZEtleUF0RG9tUG9zLCB3aGl0ZVBvdiB9IGZyb20gJy4vYm9hcmQuanMnO1xuaW1wb3J0IHsgZXZlbnRQb3NpdGlvbiwgaXNSaWdodEJ1dHRvbiB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBEcmF3U2hhcGUge1xuICBvcmlnOiBjZy5LZXk7XG4gIGRlc3Q/OiBjZy5LZXk7XG4gIGJydXNoPzogc3RyaW5nO1xuICBtb2RpZmllcnM/OiBEcmF3TW9kaWZpZXJzO1xuICBwaWVjZT86IERyYXdTaGFwZVBpZWNlO1xuICBjdXN0b21Tdmc/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd1NoYXBlUGllY2Uge1xuICByb2xlOiBjZy5Sb2xlO1xuICBjb2xvcjogY2cuQ29sb3I7XG4gIHByb21vdGVkPzogYm9vbGVhbjtcbiAgc2NhbGU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd0JydXNoIHtcbiAga2V5OiBzdHJpbmc7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgbGluZVdpZHRoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd0JydXNoZXMge1xuICBbbmFtZTogc3RyaW5nXTogRHJhd0JydXNoO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyYXdNb2RpZmllcnMge1xuICBsaW5lV2lkdGg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd2FibGUge1xuICBlbmFibGVkOiBib29sZWFuOyAvLyBjYW4gZHJhd1xuICB2aXNpYmxlOiBib29sZWFuOyAvLyBjYW4gdmlld1xuICBkZWZhdWx0U25hcFRvVmFsaWRNb3ZlOiBib29sZWFuO1xuICBlcmFzZU9uQ2xpY2s6IGJvb2xlYW47XG4gIG9uQ2hhbmdlPzogKHNoYXBlczogRHJhd1NoYXBlW10pID0+IHZvaWQ7XG4gIHNoYXBlczogRHJhd1NoYXBlW107IC8vIHVzZXIgc2hhcGVzXG4gIGF1dG9TaGFwZXM6IERyYXdTaGFwZVtdOyAvLyBjb21wdXRlciBzaGFwZXNcbiAgY3VycmVudD86IERyYXdDdXJyZW50O1xuICBicnVzaGVzOiBEcmF3QnJ1c2hlcztcbiAgcHJldlN2Z0hhc2g6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3Q3VycmVudCB7XG4gIG9yaWc6IGNnLktleTsgLy8gb3JpZyBrZXkgb2YgZHJhd2luZ1xuICBkZXN0PzogY2cuS2V5OyAvLyBzaGFwZSBkZXN0LCBvciB1bmRlZmluZWQgZm9yIGNpcmNsZVxuICBtb3VzZVNxPzogY2cuS2V5OyAvLyBzcXVhcmUgYmVpbmcgbW91c2VkIG92ZXJcbiAgcG9zOiBjZy5OdW1iZXJQYWlyOyAvLyByZWxhdGl2ZSBjdXJyZW50IHBvc2l0aW9uXG4gIGJydXNoOiBzdHJpbmc7IC8vIGJydXNoIG5hbWUgZm9yIHNoYXBlXG4gIHNuYXBUb1ZhbGlkTW92ZTogYm9vbGVhbjsgLy8gd2hldGhlciB0byBzbmFwIHRvIHZhbGlkIHBpZWNlIG1vdmVzXG59XG5cbmNvbnN0IGJydXNoZXMgPSBbJ2dyZWVuJywgJ3JlZCcsICdibHVlJywgJ3llbGxvdyddO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoc3RhdGU6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIC8vIHN1cHBvcnQgb25lIGZpbmdlciB0b3VjaCBvbmx5XG4gIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBlLmN0cmxLZXkgPyB1bnNlbGVjdChzdGF0ZSkgOiBjYW5jZWxNb3ZlKHN0YXRlKTtcbiAgY29uc3QgcG9zID0gZXZlbnRQb3NpdGlvbihlKSEsXG4gICAgb3JpZyA9IGdldEtleUF0RG9tUG9zKHBvcywgd2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCksIHN0YXRlLmRpbWVuc2lvbnMpO1xuICBpZiAoIW9yaWcpIHJldHVybjtcbiAgc3RhdGUuZHJhd2FibGUuY3VycmVudCA9IHtcbiAgICBvcmlnLFxuICAgIHBvcyxcbiAgICBicnVzaDogZXZlbnRCcnVzaChlKSxcbiAgICBzbmFwVG9WYWxpZE1vdmU6IHN0YXRlLmRyYXdhYmxlLmRlZmF1bHRTbmFwVG9WYWxpZE1vdmUsXG4gIH07XG5cbiAgcHJvY2Vzc0RyYXcoc3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0RyYXcoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgY29uc3QgY3VyID0gc3RhdGUuZHJhd2FibGUuY3VycmVudDtcbiAgICBpZiAoY3VyKSB7XG4gICAgICBjb25zdCBrZXlBdERvbVBvcyA9IGdldEtleUF0RG9tUG9zKGN1ci5wb3MsIHdoaXRlUG92KHN0YXRlKSwgc3RhdGUuZG9tLmJvdW5kcygpLCBzdGF0ZS5kaW1lbnNpb25zKTtcbiAgICAgIGlmICgha2V5QXREb21Qb3MpIHtcbiAgICAgICAgY3VyLnNuYXBUb1ZhbGlkTW92ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgbW91c2VTcSA9IGN1ci5zbmFwVG9WYWxpZE1vdmVcbiAgICAgICAgPyBnZXRTbmFwcGVkS2V5QXREb21Qb3MoY3VyLm9yaWcsIGN1ci5wb3MsIHdoaXRlUG92KHN0YXRlKSwgc3RhdGUuZG9tLmJvdW5kcygpLCBzdGF0ZS5kaW1lbnNpb25zKVxuICAgICAgICA6IGtleUF0RG9tUG9zO1xuICAgICAgaWYgKG1vdXNlU3EgIT09IGN1ci5tb3VzZVNxKSB7XG4gICAgICAgIGN1ci5tb3VzZVNxID0gbW91c2VTcTtcbiAgICAgICAgY3VyLmRlc3QgPSBtb3VzZVNxICE9PSBjdXIub3JpZyA/IG1vdXNlU3EgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXdOb3coKTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NEcmF3KHN0YXRlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW92ZShzdGF0ZTogU3RhdGUsIGU6IGNnLk1vdWNoRXZlbnQpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQpIHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQucG9zID0gZXZlbnRQb3NpdGlvbihlKSE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmQoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIGNvbnN0IGN1ciA9IHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQ7XG4gIGlmIChjdXIpIHtcbiAgICBpZiAoY3VyLm1vdXNlU3EpIGFkZFNoYXBlKHN0YXRlLmRyYXdhYmxlLCBjdXIpO1xuICAgIGNhbmNlbChzdGF0ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbChzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQpIHtcbiAgICBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIGlmIChzdGF0ZS5kcmF3YWJsZS5zaGFwZXMubGVuZ3RoKSB7XG4gICAgc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gW107XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgIG9uQ2hhbmdlKHN0YXRlLmRyYXdhYmxlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudEJydXNoKGU6IGNnLk1vdWNoRXZlbnQpOiBzdHJpbmcge1xuICBjb25zdCBtb2RBID0gKGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5KSAmJiBpc1JpZ2h0QnV0dG9uKGUpO1xuICBjb25zdCBtb2RCID0gZS5hbHRLZXkgfHwgZS5tZXRhS2V5IHx8IGUuZ2V0TW9kaWZpZXJTdGF0ZT8uKCdBbHRHcmFwaCcpO1xuICByZXR1cm4gYnJ1c2hlc1sobW9kQSA/IDEgOiAwKSArIChtb2RCID8gMiA6IDApXTtcbn1cblxuZnVuY3Rpb24gYWRkU2hhcGUoZHJhd2FibGU6IERyYXdhYmxlLCBjdXI6IERyYXdDdXJyZW50KTogdm9pZCB7XG4gIGNvbnN0IHNhbWVTaGFwZSA9IChzOiBEcmF3U2hhcGUpID0+IHMub3JpZyA9PT0gY3VyLm9yaWcgJiYgcy5kZXN0ID09PSBjdXIuZGVzdDtcbiAgY29uc3Qgc2ltaWxhciA9IGRyYXdhYmxlLnNoYXBlcy5maW5kKHNhbWVTaGFwZSk7XG4gIGlmIChzaW1pbGFyKSBkcmF3YWJsZS5zaGFwZXMgPSBkcmF3YWJsZS5zaGFwZXMuZmlsdGVyKHMgPT4gIXNhbWVTaGFwZShzKSk7XG4gIGlmICghc2ltaWxhciB8fCBzaW1pbGFyLmJydXNoICE9PSBjdXIuYnJ1c2gpIGRyYXdhYmxlLnNoYXBlcy5wdXNoKGN1cik7XG4gIG9uQ2hhbmdlKGRyYXdhYmxlKTtcbn1cblxuZnVuY3Rpb24gb25DaGFuZ2UoZHJhd2FibGU6IERyYXdhYmxlKTogdm9pZCB7XG4gIGlmIChkcmF3YWJsZS5vbkNoYW5nZSkgZHJhd2FibGUub25DaGFuZ2UoZHJhd2FibGUuc2hhcGVzKTtcbn1cbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0ICogYXMgYm9hcmQgZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjbGVhciBhcyBkcmF3Q2xlYXIgfSBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBhbmltIH0gZnJvbSAnLi9hbmltLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBEcmFnQ3VycmVudCB7XG4gIG9yaWc6IGNnLktleTsgLy8gb3JpZyBrZXkgb2YgZHJhZ2dpbmcgcGllY2VcbiAgcGllY2U6IGNnLlBpZWNlO1xuICBvcmlnUG9zOiBjZy5OdW1iZXJQYWlyOyAvLyBmaXJzdCBldmVudCBwb3NpdGlvblxuICBwb3M6IGNnLk51bWJlclBhaXI7IC8vIGxhdGVzdCBldmVudCBwb3NpdGlvblxuICBzdGFydGVkOiBib29sZWFuOyAvLyB3aGV0aGVyIHRoZSBkcmFnIGhhcyBzdGFydGVkOyBhcyBwZXIgdGhlIGRpc3RhbmNlIHNldHRpbmdcbiAgZWxlbWVudDogY2cuUGllY2VOb2RlIHwgKCgpID0+IGNnLlBpZWNlTm9kZSB8IHVuZGVmaW5lZCk7XG4gIGZyb21Qb2NrZXQ/OiBib29sZWFuOyAvLyBpdCBpcyBhIHBpZWNlIGZyb20gb25lIG9mIHRoZSBwb2NrZXRzXG4gIGZvcmNlPzogYm9vbGVhbjsgLy8gY2FuIHRoZSBuZXcgcGllY2UgcmVwbGFjZSBhbiBleGlzdGluZyBvbmUgKGVkaXRvcilcbiAgcHJldmlvdXNseVNlbGVjdGVkPzogY2cuU2VsZWN0YWJsZTtcbiAgb3JpZ2luVGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGw7XG4gIGtleUhhc0NoYW5nZWQ6IGJvb2xlYW47IC8vIHdoZXRoZXIgdGhlIGRyYWcgaGFzIGxlZnQgdGhlIG9yaWcga2V5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydChzOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICBpZiAoIWUuaXNUcnVzdGVkIHx8IChlLmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9uICE9PSAwKSkgcmV0dXJuOyAvLyBvbmx5IHRvdWNoIG9yIGxlZnQgY2xpY2tcbiAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuOyAvLyBzdXBwb3J0IG9uZSBmaW5nZXIgdG91Y2ggb25seVxuICBjb25zdCBib3VuZHMgPSBzLmRvbS5ib3VuZHMoKSxcbiAgICBwb3NpdGlvbiA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSEsXG4gICAgb3JpZyA9IGJvYXJkLmdldEtleUF0RG9tUG9zKHBvc2l0aW9uLCBib2FyZC53aGl0ZVBvdihzKSwgYm91bmRzLCBzLmRpbWVuc2lvbnMpO1xuICBpZiAoIW9yaWcpIHJldHVybjtcbiAgY29uc3QgcGllY2UgPSBzLmJvYXJkU3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgY29uc3QgcHJldmlvdXNseVNlbGVjdGVkID0gcy5zZWxlY3RhYmxlLnNlbGVjdGVkO1xuICBpZiAoIXByZXZpb3VzbHlTZWxlY3RlZCAmJiBzLmRyYXdhYmxlLmVuYWJsZWQgJiYgKHMuZHJhd2FibGUuZXJhc2VPbkNsaWNrIHx8ICFwaWVjZSB8fCBwaWVjZS5jb2xvciAhPT0gcy50dXJuQ29sb3IpKVxuICAgIGRyYXdDbGVhcihzKTtcbiAgLy8gUHJldmVudCB0b3VjaCBzY3JvbGwgYW5kIGNyZWF0ZSBubyBjb3JyZXNwb25kaW5nIG1vdXNlIGV2ZW50LCBpZiB0aGVyZVxuICAvLyBpcyBhbiBpbnRlbnQgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgYm9hcmQuXG4gIGlmIChcbiAgICBlLmNhbmNlbGFibGUgIT09IGZhbHNlICYmXG4gICAgKCFlLnRvdWNoZXMgfHwgcy5ibG9ja1RvdWNoU2Nyb2xsIHx8IHBpZWNlIHx8IHByZXZpb3VzbHlTZWxlY3RlZCB8fCBwaWVjZUNsb3NlVG8ocywgcG9zaXRpb24pKVxuICApXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBoYWRQcmVtb3ZlID0gISFzLnByZW1vdmFibGUuY3VycmVudDtcbiAgcy5zdGF0cy5jdHJsS2V5ID0gZS5jdHJsS2V5O1xuICBpZiAocy5zZWxlY3RhYmxlLnNlbGVjdGVkICYmIGJvYXJkLmNhbk1vdmUocywgcy5zZWxlY3RhYmxlLnNlbGVjdGVkLCBvcmlnLCAhIXMuc2VsZWN0YWJsZS5mcm9tUG9ja2V0KSkge1xuICAgIGFuaW0oc3RhdGUgPT4gYm9hcmQuc2VsZWN0KHN0YXRlLCBvcmlnKSwgcyk7XG4gIH0gZWxzZSB7XG4gICAgYm9hcmQuc2VsZWN0KHMsIG9yaWcpO1xuICB9XG4gIGNvbnN0IHN0aWxsU2VsZWN0ZWQgPSBzLnNlbGVjdGFibGUuc2VsZWN0ZWQgPT09IG9yaWc7XG4gIGNvbnN0IGVsZW1lbnQgPSBwaWVjZUVsZW1lbnRCeUtleShzLCBvcmlnKTtcbiAgaWYgKHBpZWNlICYmIGVsZW1lbnQgJiYgc3RpbGxTZWxlY3RlZCAmJiBib2FyZC5pc0RyYWdnYWJsZShzLCBvcmlnLCBmYWxzZSkpIHtcbiAgICBzLmRyYWdnYWJsZS5jdXJyZW50ID0ge1xuICAgICAgb3JpZyxcbiAgICAgIHBpZWNlLFxuICAgICAgb3JpZ1BvczogcG9zaXRpb24sXG4gICAgICBwb3M6IHBvc2l0aW9uLFxuICAgICAgc3RhcnRlZDogcy5kcmFnZ2FibGUuYXV0b0Rpc3RhbmNlICYmIHMuc3RhdHMuZHJhZ2dlZCxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwcmV2aW91c2x5U2VsZWN0ZWQsXG4gICAgICBvcmlnaW5UYXJnZXQ6IGUudGFyZ2V0LFxuICAgICAga2V5SGFzQ2hhbmdlZDogZmFsc2UsXG4gICAgfTtcbiAgICBlbGVtZW50LmNnRHJhZ2dpbmcgPSB0cnVlO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcbiAgICAvLyBwbGFjZSBnaG9zdFxuICAgIGNvbnN0IGdob3N0ID0gcy5kb20uZWxlbWVudHMuZ2hvc3Q7XG4gICAgaWYgKGdob3N0KSB7XG4gICAgICBnaG9zdC5jbGFzc05hbWUgPSAnZ2hvc3QgJyArIHV0aWwucGllY2VDbGFzc2VzKHBpZWNlLCBzLm9yaWVudGF0aW9uKTtcbiAgICAgIHV0aWwudHJhbnNsYXRlKGdob3N0LCB1dGlsLnBvc1RvVHJhbnNsYXRlKGJvdW5kcywgcy5kaW1lbnNpb25zKSh1dGlsLmtleTJwb3Mob3JpZyksIGJvYXJkLndoaXRlUG92KHMpKSk7XG4gICAgICB1dGlsLnNldFZpc2libGUoZ2hvc3QsIHRydWUpO1xuICAgIH1cbiAgICBwcm9jZXNzRHJhZyhzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoaGFkUHJlbW92ZSkgYm9hcmQudW5zZXRQcmVtb3ZlKHMpO1xuICB9XG4gIHMuZG9tLnJlZHJhdygpO1xufVxuXG5mdW5jdGlvbiBwaWVjZUNsb3NlVG8oczogU3RhdGUsIHBvczogY2cuTnVtYmVyUGFpcik6IGJvb2xlYW4ge1xuICBjb25zdCBhc1doaXRlID0gYm9hcmQud2hpdGVQb3YocyksXG4gICAgYm91bmRzID0gcy5kb20uYm91bmRzKCksXG4gICAgcmFkaXVzU3EgPSBNYXRoLnBvdyhib3VuZHMud2lkdGggLyBzLmRpbWVuc2lvbnMud2lkdGgsIDIpO1xuICBmb3IgKGNvbnN0IGtleSBvZiBzLmJvYXJkU3RhdGUucGllY2VzLmtleXMoKSkge1xuICAgIGNvbnN0IGNlbnRlciA9IHV0aWwuY29tcHV0ZVNxdWFyZUNlbnRlcihrZXksIGFzV2hpdGUsIGJvdW5kcywgcy5kaW1lbnNpb25zKTtcbiAgICBpZiAodXRpbC5kaXN0YW5jZVNxKGNlbnRlciwgcG9zKSA8PSByYWRpdXNTcSkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZ05ld1BpZWNlKFxuICBzOiBTdGF0ZSxcbiAgcGllY2U6IGNnLlBpZWNlLFxuICBmcm9tUG9ja2V0OiBib29sZWFuLFxuICBlOiBjZy5Nb3VjaEV2ZW50LFxuICBwcmV2aW91c2x5U2VsZWN0ZWQ/OiBjZy5TZWxlY3RhYmxlLFxuICBmb3JjZT86IGJvb2xlYW5cbik6IHZvaWQge1xuICBzLmRvbS5yZWRyYXcoKTtcblxuICBjb25zdCBwb3NpdGlvbiA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSE7XG5cbiAgcy5ib2FyZFN0YXRlLnBpZWNlcy5zZXQoJ2EwJywgcGllY2UpO1xuXG4gIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB7XG4gICAgb3JpZzogJ2EwJyxcbiAgICBwaWVjZSxcbiAgICBvcmlnUG9zOiBwb3NpdGlvbixcbiAgICBwb3M6IHBvc2l0aW9uLFxuICAgIHN0YXJ0ZWQ6IHRydWUsXG4gICAgZWxlbWVudDogKCkgPT4gcGllY2VFbGVtZW50QnlLZXkocywgJ2EwJyksXG4gICAgcHJldmlvdXNseVNlbGVjdGVkLFxuICAgIG9yaWdpblRhcmdldDogZS50YXJnZXQsXG4gICAgZnJvbVBvY2tldDogZnJvbVBvY2tldCxcbiAgICBmb3JjZTogISFmb3JjZSxcbiAgICBrZXlIYXNDaGFuZ2VkOiBmYWxzZSxcbiAgfTtcblxuICBwcm9jZXNzRHJhZyhzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NEcmFnKHM6IFN0YXRlKTogdm9pZCB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgY29uc3QgY3VyID0gcy5kcmFnZ2FibGUuY3VycmVudDtcbiAgICBpZiAoIWN1cikgcmV0dXJuO1xuICAgIC8vIGNhbmNlbCBhbmltYXRpb25zIHdoaWxlIGRyYWdnaW5nXG4gICAgaWYgKHMuYW5pbWF0aW9uLmN1cnJlbnQ/LnBsYW4uYW5pbXMuaGFzKGN1ci5vcmlnKSkgcy5hbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAvLyBpZiBtb3ZpbmcgcGllY2UgaXMgZ29uZSwgY2FuY2VsXG4gICAgY29uc3Qgb3JpZ1BpZWNlID0gcy5ib2FyZFN0YXRlLnBpZWNlcy5nZXQoY3VyLm9yaWcpO1xuICAgIGlmICghdXRpbC5zYW1lUGllY2Uob3JpZ1BpZWNlISwgY3VyLnBpZWNlKSkgY2FuY2VsKHMpO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKCFjdXIuc3RhcnRlZCAmJiB1dGlsLmRpc3RhbmNlU3EoY3VyLnBvcywgY3VyLm9yaWdQb3MpID49IE1hdGgucG93KHMuZHJhZ2dhYmxlLmRpc3RhbmNlLCAyKSlcbiAgICAgICAgY3VyLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgaWYgKGN1ci5zdGFydGVkKSB7XG4gICAgICAgIC8vIHN1cHBvcnQgbGF6eSBlbGVtZW50c1xuICAgICAgICBpZiAodHlwZW9mIGN1ci5lbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc3QgZm91bmQgPSBjdXIuZWxlbWVudCgpO1xuICAgICAgICAgIGlmICghZm91bmQpIHJldHVybjtcbiAgICAgICAgICBmb3VuZC5jZ0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgICBmb3VuZC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgICAgICAgIGN1ci5lbGVtZW50ID0gZm91bmQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib3VuZHMgPSBzLmRvbS5ib3VuZHMoKTtcbiAgICAgICAgdXRpbC50cmFuc2xhdGUoY3VyLmVsZW1lbnQsIFtcbiAgICAgICAgICBjdXIucG9zWzBdIC0gYm91bmRzLmxlZnQgLSBib3VuZHMud2lkdGggLyAoMiAqIHMuZGltZW5zaW9ucy53aWR0aCksXG4gICAgICAgICAgY3VyLnBvc1sxXSAtIGJvdW5kcy50b3AgLSBib3VuZHMuaGVpZ2h0IC8gKDIgKiBzLmRpbWVuc2lvbnMuaGVpZ2h0KSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgaWYgKGN1ci5vcmlnICE9PSAnYTAnKVxuICAgICAgICAgIGN1ci5rZXlIYXNDaGFuZ2VkIHx8PSBjdXIub3JpZyAhPT0gYm9hcmQuZ2V0S2V5QXREb21Qb3MoY3VyLnBvcywgYm9hcmQud2hpdGVQb3YocyksIGJvdW5kcywgcy5kaW1lbnNpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc0RyYWcocyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW92ZShzOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICAvLyBzdXBwb3J0IG9uZSBmaW5nZXIgdG91Y2ggb25seVxuICBpZiAocy5kcmFnZ2FibGUuY3VycmVudCAmJiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoIDwgMikpIHtcbiAgICBzLmRyYWdnYWJsZS5jdXJyZW50LnBvcyA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSE7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZChzOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICBpZiAoIWN1cikgcmV0dXJuO1xuICAvLyBjcmVhdGUgbm8gY29ycmVzcG9uZGluZyBtb3VzZSBldmVudFxuICBpZiAoZS50eXBlID09PSAndG91Y2hlbmQnICYmIGUuY2FuY2VsYWJsZSAhPT0gZmFsc2UpIGUucHJldmVudERlZmF1bHQoKTtcbiAgLy8gY29tcGFyaW5nIHdpdGggdGhlIG9yaWdpbiB0YXJnZXQgaXMgYW4gZWFzeSB3YXkgdG8gdGVzdCB0aGF0IHRoZSBlbmQgZXZlbnRcbiAgLy8gaGFzIHRoZSBzYW1lIHRvdWNoIG9yaWdpblxuICBpZiAoZS50eXBlID09PSAndG91Y2hlbmQnICYmIGN1ci5vcmlnaW5UYXJnZXQgIT09IGUudGFyZ2V0KSB7XG4gICAgcy5kcmFnZ2FibGUuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm47XG4gIH1cbiAgYm9hcmQudW5zZXRQcmVtb3ZlKHMpO1xuICAvLyB0b3VjaGVuZCBoYXMgbm8gcG9zaXRpb247IHNvIHVzZSB0aGUgbGFzdCB0b3VjaG1vdmUgcG9zaXRpb24gaW5zdGVhZFxuICBjb25zdCBldmVudFBvcyA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSB8fCBjdXIucG9zO1xuICBjb25zdCBkZXN0ID0gYm9hcmQuZ2V0S2V5QXREb21Qb3MoZXZlbnRQb3MsIGJvYXJkLndoaXRlUG92KHMpLCBzLmRvbS5ib3VuZHMoKSwgcy5kaW1lbnNpb25zKTtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9uUG9ja2V0ID0gTnVtYmVyKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmInKSA/PyAtMSkgPj0gMDtcbiAgY29uc3QgdGFyZ2V0UGllY2UgPSBvblBvY2tldFxuICAgID8gKHsgcm9sZTogdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb2xlJyksIGNvbG9yOiB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJykgfSBhcyBjZy5QaWVjZSlcbiAgICA6IHVuZGVmaW5lZDtcbiAgaWYgKGRlc3QgJiYgY3VyLnN0YXJ0ZWQgJiYgY3VyLm9yaWcgIT09IGRlc3QpIHtcbiAgICBzLnN0YXRzLmN0cmxLZXkgPSBlLmN0cmxLZXk7XG4gICAgaWYgKGJvYXJkLnVzZXJNb3ZlKHMsIGN1ci5vcmlnICE9PSAnYTAnID8gY3VyLm9yaWcgOiBjdXIucGllY2UsIGRlc3QsICEhY3VyLmZyb21Qb2NrZXQpKSBzLnN0YXRzLmRyYWdnZWQgPSB0cnVlO1xuICB9IGVsc2UgaWYgKHMuZHJhZ2dhYmxlLmRlbGV0ZU9uRHJvcE9mZiAmJiAhZGVzdCkge1xuICAgIHMuYm9hcmRTdGF0ZS5waWVjZXMuZGVsZXRlKGN1ci5vcmlnKTtcbiAgICBpZiAoY3VyLmZyb21Qb2NrZXQpIHV0aWwuY2hhbmdlTnVtYmVyKHMuYm9hcmRTdGF0ZS5wb2NrZXRzIVtjdXIucGllY2UuY29sb3JdLCBjdXIucGllY2Uucm9sZSwgLTEpO1xuICAgIGJvYXJkLmNhbGxVc2VyRnVuY3Rpb24ocy5ldmVudHMuY2hhbmdlKTtcbiAgfVxuICBpZiAoXG4gICAgKChjdXIucHJldmlvdXNseVNlbGVjdGVkICYmXG4gICAgICAoY3VyLm9yaWcgPT09IGN1ci5wcmV2aW91c2x5U2VsZWN0ZWQgfHwgdXRpbC5pc1NhbWUoY3VyLnBpZWNlLCBjdXIucHJldmlvdXNseVNlbGVjdGVkKSkpIHx8XG4gICAgICBjdXIua2V5SGFzQ2hhbmdlZCkgJiZcbiAgICAoY3VyLm9yaWcgPT09IGRlc3QgfHwgIWRlc3QpXG4gIClcbiAgICBib2FyZC51bnNlbGVjdChzKTtcbiAgaWYgKGN1ci5vcmlnID09PSAnYTAnICYmICghdGFyZ2V0UGllY2UgfHwgIXV0aWwuc2FtZVBpZWNlKGN1ci5waWVjZSwgdGFyZ2V0UGllY2UpKSkgYm9hcmQudW5zZWxlY3Qocyk7XG4gIGVsc2UgaWYgKCFzLnNlbGVjdGFibGUuZW5hYmxlZCkgYm9hcmQudW5zZWxlY3Qocyk7XG5cbiAgaWYgKGN1ci5vcmlnID09PSAnYTAnKSBzLmJvYXJkU3RhdGUucGllY2VzLmRlbGV0ZSgnYTAnKTtcblxuICByZW1vdmVEcmFnRWxlbWVudHMocyk7XG5cbiAgcy5kcmFnZ2FibGUuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgcy5kb20ucmVkcmF3KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWwoczogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgY3VyID0gcy5kcmFnZ2FibGUuY3VycmVudDtcbiAgaWYgKGN1cikge1xuICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgcy5ib2FyZFN0YXRlLnBpZWNlcy5kZWxldGUoJ2EwJyk7XG4gICAgYm9hcmQudW5zZWxlY3Qocyk7XG4gICAgcmVtb3ZlRHJhZ0VsZW1lbnRzKHMpO1xuICAgIHMuZG9tLnJlZHJhdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZURyYWdFbGVtZW50cyhzOiBTdGF0ZSk6IHZvaWQge1xuICBjb25zdCBlID0gcy5kb20uZWxlbWVudHM7XG4gIGlmIChlLmdob3N0KSB1dGlsLnNldFZpc2libGUoZS5naG9zdCwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGllY2VFbGVtZW50QnlLZXkoczogU3RhdGUsIGtleTogY2cuS2V5KTogY2cuUGllY2VOb2RlIHwgdW5kZWZpbmVkIHtcbiAgbGV0IGVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQuZmlyc3RDaGlsZDtcbiAgd2hpbGUgKGVsKSB7XG4gICAgaWYgKChlbCBhcyBjZy5LZXllZE5vZGUpLmNnS2V5ID09PSBrZXkgJiYgKGVsIGFzIGNnLktleWVkTm9kZSkudGFnTmFtZSA9PT0gJ1BJRUNFJykgcmV0dXJuIGVsIGFzIGNnLlBpZWNlTm9kZTtcbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICB9XG4gIHJldHVybjtcbn1cbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0IHsgS2V5IH0gZnJvbSAnLi90eXBlcy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBsb3Npb24oc3RhdGU6IFN0YXRlLCBrZXlzOiBLZXlbXSk6IHZvaWQge1xuICBzdGF0ZS5leHBsb2RpbmcgPSB7IHN0YWdlOiAxLCBrZXlzIH07XG4gIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgc2V0U3RhZ2Uoc3RhdGUsIDIpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U3RhZ2Uoc3RhdGUsIHVuZGVmaW5lZCksIDEyMCk7XG4gIH0sIDEyMCk7XG59XG5cbmZ1bmN0aW9uIHNldFN0YWdlKHN0YXRlOiBTdGF0ZSwgc3RhZ2U6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICBpZiAoc3RhdGUuZXhwbG9kaW5nKSB7XG4gICAgaWYgKHN0YWdlKSBzdGF0ZS5leHBsb2Rpbmcuc3RhZ2UgPSBzdGFnZTtcbiAgICBlbHNlIHN0YXRlLmV4cGxvZGluZyA9IHVuZGVmaW5lZDtcbiAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUuanMnO1xuaW1wb3J0ICogYXMgYm9hcmQgZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyB3cml0ZSBhcyBmZW5Xcml0ZSB9IGZyb20gJy4vZmVuLmpzJztcbmltcG9ydCB7IENvbmZpZywgY29uZmlndXJlLCBhcHBseUFuaW1hdGlvbiB9IGZyb20gJy4vY29uZmlnLmpzJztcbmltcG9ydCB7IGFuaW0sIHJlbmRlciB9IGZyb20gJy4vYW5pbS5qcyc7XG5pbXBvcnQgeyBjYW5jZWwgYXMgZHJhZ0NhbmNlbCwgZHJhZ05ld1BpZWNlIH0gZnJvbSAnLi9kcmFnLmpzJztcbmltcG9ydCB7IERyYXdTaGFwZSB9IGZyb20gJy4vZHJhdy5qcyc7XG5pbXBvcnQgeyBleHBsb3Npb24gfSBmcm9tICcuL2V4cGxvc2lvbi5qcyc7XG5pbXBvcnQgeyByb2xlT2YsIGlzRHJvcE9yaWcsIGNoYW5nZU51bWJlciB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBBcGkge1xuICAvLyByZWNvbmZpZ3VyZSB0aGUgaW5zdGFuY2UuIEFjY2VwdHMgYWxsIGNvbmZpZyBvcHRpb25zLCBleGNlcHQgZm9yIHZpZXdPbmx5ICYgZHJhd2FibGUudmlzaWJsZS5cbiAgLy8gYm9hcmQgd2lsbCBiZSBhbmltYXRlZCBhY2NvcmRpbmdseSwgaWYgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZC5cbiAgc2V0KGNvbmZpZzogQ29uZmlnKTogdm9pZDtcblxuICAvLyByZWFkIGNoZXNzZ3JvdW5kIHN0YXRlOyB3cml0ZSBhdCB5b3VyIG93biByaXNrcy5cbiAgc3RhdGU6IFN0YXRlO1xuXG4gIC8vIGdldCB0aGUgcG9zaXRpb24gYXMgYSBGRU4gc3RyaW5nIChvbmx5IGNvbnRhaW5zIHBpZWNlcywgbm8gZmxhZ3MpXG4gIC8vIGUuZy4gcm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUlxuICBnZXRGZW4oKTogY2cuRkVOO1xuXG4gIC8vIGNoYW5nZSB0aGUgdmlldyBhbmdsZVxuICB0b2dnbGVPcmllbnRhdGlvbigpOiB2b2lkO1xuXG4gIC8vIHBlcmZvcm0gYSBtb3ZlIHByb2dyYW1tYXRpY2FsbHlcbiAgbW92ZShvcmlnOiBjZy5PcmlnLCBkZXN0OiBjZy5LZXkpOiB2b2lkO1xuXG4gIC8vIGFkZCBhbmQvb3IgcmVtb3ZlIGFyYml0cmFyeSBwaWVjZXMgb24gdGhlIGJvYXJkXG4gIHNldFBpZWNlcyhwaWVjZXM6IGNnLlBpZWNlc0RpZmYpOiB2b2lkO1xuXG4gIC8vIGFkZCBhbmQvb3IgcmVtb3ZlIGFyYml0cmFyeSBwaWVjZXMgZnJvbSB0aGUgcG9ja2V0XG4gIGNoYW5nZVBvY2tldChwaWVjZTogY2cuUGllY2UsIG51bTogbnVtYmVyKTogdm9pZDtcblxuICAvLyBjbGljayBhIHNxdWFyZSBwcm9ncmFtbWF0aWNhbGx5XG4gIHNlbGVjdFNxdWFyZShrZXk6IGNnLktleSB8IG51bGwsIGZvcmNlPzogYm9vbGVhbik6IHZvaWQ7XG5cbiAgLy8gY2xpY2sgYSBwb2NrZXQgcGllY2UgcHJvZ3JhbW1hdGljYWxseVxuICBzZWxlY3RQb2NrZXQocGllY2U6IGNnLlBpZWNlIHwgbnVsbCk6IHZvaWQ7XG5cbiAgLy8gdW5zZWxlY3QgZXZlcnl0aGluZyBwcm9ncmFtbWF0aWNhbGx5XG4gIHVuc2VsZWN0KCk6IHZvaWQ7XG5cbiAgLy8gcHV0IGEgbmV3IHBpZWNlIG9uIHRoZSBib2FyZFxuICBuZXdQaWVjZShwaWVjZTogY2cuUGllY2UsIGRlc3Q6IGNnLktleSwgZnJvbVBvY2tldDogYm9vbGVhbik6IHZvaWQ7XG5cbiAgLy8gcGxheSB0aGUgY3VycmVudCBwcmVtb3ZlLCBpZiBhbnk7IHJldHVybnMgdHJ1ZSBpZiBwcmVtb3ZlIHdhcyBwbGF5ZWRcbiAgcGxheVByZW1vdmUoKTogYm9vbGVhbjtcblxuICAvLyBjYW5jZWwgdGhlIGN1cnJlbnQgcHJlbW92ZSwgaWYgYW55XG4gIGNhbmNlbFByZW1vdmUoKTogdm9pZDtcblxuICAvLyBjYW5jZWwgdGhlIGN1cnJlbnQgbW92ZSBiZWluZyBtYWRlXG4gIGNhbmNlbE1vdmUoKTogdm9pZDtcblxuICAvLyBjYW5jZWwgY3VycmVudCBtb3ZlIGFuZCBwcmV2ZW50IGZ1cnRoZXIgb25lc1xuICBzdG9wKCk6IHZvaWQ7XG5cbiAgLy8gbWFrZSBzcXVhcmVzIGV4cGxvZGUgKGF0b21pYyBjaGVzcylcbiAgZXhwbG9kZShrZXlzOiBjZy5LZXlbXSk6IHZvaWQ7XG5cbiAgLy8gcHJvZ3JhbW1hdGljYWxseSBkcmF3IHVzZXIgc2hhcGVzXG4gIHNldFNoYXBlcyhzaGFwZXM6IERyYXdTaGFwZVtdKTogdm9pZDtcblxuICAvLyBwcm9ncmFtbWF0aWNhbGx5IGRyYXcgYXV0byBzaGFwZXNcbiAgc2V0QXV0b1NoYXBlcyhzaGFwZXM6IERyYXdTaGFwZVtdKTogdm9pZDtcblxuICAvLyBzcXVhcmUgbmFtZSBhdCB0aGlzIERPTSBwb3NpdGlvbiAobGlrZSBcImU0XCIpXG4gIGdldEtleUF0RG9tUG9zKHBvczogY2cuTnVtYmVyUGFpcik6IGNnLktleSB8IHVuZGVmaW5lZDtcblxuICAvLyBvbmx5IHVzZWZ1bCB3aGVuIENTUyBjaGFuZ2VzIHRoZSBib2FyZCB3aWR0aC9oZWlnaHQgcmF0aW8gKGZvciAzRClcbiAgcmVkcmF3QWxsOiBjZy5SZWRyYXc7XG5cbiAgLy8gZm9yIGNyYXp5aG91c2UgYW5kIGJvYXJkIGVkaXRvcnNcbiAgZHJhZ05ld1BpZWNlKHBpZWNlOiBjZy5QaWVjZSwgZnJvbVBvY2tldDogYm9vbGVhbiwgZXZlbnQ6IGNnLk1vdWNoRXZlbnQsIGZvcmNlPzogYm9vbGVhbik6IHZvaWQ7XG5cbiAgLy8gdW5iaW5kcyBhbGwgZXZlbnRzXG4gIC8vIChpbXBvcnRhbnQgZm9yIGRvY3VtZW50LXdpZGUgZXZlbnRzIGxpa2Ugc2Nyb2xsIGFuZCBtb3VzZW1vdmUpXG4gIGRlc3Ryb3k6IGNnLlVuYmluZDtcbn1cblxuLy8gc2VlIEFQSSB0eXBlcyBhbmQgZG9jdW1lbnRhdGlvbnMgaW4gZHRzL2FwaS5kLnRzXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoc3RhdGU6IFN0YXRlLCByZWRyYXdBbGw6IGNnLlJlZHJhdyk6IEFwaSB7XG4gIGZ1bmN0aW9uIHRvZ2dsZU9yaWVudGF0aW9uKCk6IHZvaWQge1xuICAgIGJvYXJkLnRvZ2dsZU9yaWVudGF0aW9uKHN0YXRlKTtcbiAgICByZWRyYXdBbGwoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0KGNvbmZpZyk6IHZvaWQge1xuICAgICAgaWYgKGNvbmZpZy5vcmllbnRhdGlvbiAmJiBjb25maWcub3JpZW50YXRpb24gIT09IHN0YXRlLm9yaWVudGF0aW9uKSB0b2dnbGVPcmllbnRhdGlvbigpO1xuICAgICAgYXBwbHlBbmltYXRpb24oc3RhdGUsIGNvbmZpZyk7XG4gICAgICAoY29uZmlnLmZlbiA/IGFuaW0gOiByZW5kZXIpKHN0YXRlID0+IGNvbmZpZ3VyZShzdGF0ZSwgY29uZmlnKSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBzdGF0ZSxcblxuICAgIGdldEZlbjogKCkgPT4gZmVuV3JpdGUoc3RhdGUuYm9hcmRTdGF0ZSwgc3RhdGUuZGltZW5zaW9ucyksXG5cbiAgICB0b2dnbGVPcmllbnRhdGlvbixcblxuICAgIHNldFBpZWNlcyhwaWVjZXMpOiB2b2lkIHtcbiAgICAgIGFuaW0oc3RhdGUgPT4gYm9hcmQuc2V0UGllY2VzKHN0YXRlLCBwaWVjZXMpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGNoYW5nZVBvY2tldChwaWVjZSwgbnVtKTogdm9pZCB7XG4gICAgICBpZiAoc3RhdGUucG9ja2V0Um9sZXM/LltwaWVjZS5jb2xvcl0uaW5jbHVkZXMocGllY2Uucm9sZSkpIHtcbiAgICAgICAgY2hhbmdlTnVtYmVyKHN0YXRlLmJvYXJkU3RhdGUucG9ja2V0cyFbcGllY2UuY29sb3JdLCBwaWVjZS5yb2xlLCBudW0pO1xuICAgICAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNlbGVjdFNxdWFyZShrZXksIGZvcmNlKTogdm9pZCB7XG4gICAgICBpZiAoa2V5KSBhbmltKHN0YXRlID0+IGJvYXJkLnNlbGVjdChzdGF0ZSwga2V5LCBmb3JjZSksIHN0YXRlKTtcbiAgICAgIGVsc2UgaWYgKHN0YXRlLnNlbGVjdGFibGUuc2VsZWN0ZWQpIHtcbiAgICAgICAgYm9hcmQudW5zZWxlY3Qoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNlbGVjdFBvY2tldChwaWVjZSk6IHZvaWQge1xuICAgICAgaWYgKHBpZWNlKSBhbmltKHN0YXRlID0+IGJvYXJkLnNlbGVjdChzdGF0ZSwgcGllY2UpLCBzdGF0ZSk7XG4gICAgICBlbHNlIGlmIChzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkKSB7XG4gICAgICAgIGJvYXJkLnVuc2VsZWN0KHN0YXRlKTtcbiAgICAgICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB1bnNlbGVjdCgpOiB2b2lkIHtcbiAgICAgIGJvYXJkLnVuc2VsZWN0KHN0YXRlKTtcbiAgICB9LFxuXG4gICAgbW92ZShvcmlnLCBkZXN0KTogdm9pZCB7XG4gICAgICBpZiAoaXNEcm9wT3JpZyhvcmlnKSkgYm9hcmQuYmFzZU5ld1BpZWNlKHN0YXRlLCB7IHJvbGU6IHJvbGVPZihvcmlnKSwgY29sb3I6IHN0YXRlLnR1cm5Db2xvciB9LCBkZXN0LCB0cnVlKTtcbiAgICAgIGVsc2UgYW5pbShzdGF0ZSA9PiBib2FyZC5iYXNlTW92ZShzdGF0ZSwgb3JpZywgZGVzdCksIHN0YXRlKTtcbiAgICB9LFxuXG4gICAgbmV3UGllY2UocGllY2UsIGtleSwgZnJvbVBvY2tldCk6IHZvaWQge1xuICAgICAgYW5pbShzdGF0ZSA9PiBib2FyZC5iYXNlTmV3UGllY2Uoc3RhdGUsIHBpZWNlLCBrZXksIGZyb21Qb2NrZXQpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIHBsYXlQcmVtb3ZlKCk6IGJvb2xlYW4ge1xuICAgICAgaWYgKHN0YXRlLnByZW1vdmFibGUuY3VycmVudCkge1xuICAgICAgICBpZiAoYW5pbShib2FyZC5wbGF5UHJlbW92ZSwgc3RhdGUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gaWYgdGhlIHByZW1vdmUgY291bGRuJ3QgYmUgcGxheWVkLCByZWRyYXcgdG8gY2xlYXIgaXQgdXBcbiAgICAgICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjYW5jZWxQcmVtb3ZlKCk6IHZvaWQge1xuICAgICAgcmVuZGVyKGJvYXJkLnVuc2V0UHJlbW92ZSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBjYW5jZWxNb3ZlKCk6IHZvaWQge1xuICAgICAgcmVuZGVyKHN0YXRlID0+IHtcbiAgICAgICAgYm9hcmQuY2FuY2VsTW92ZShzdGF0ZSk7XG4gICAgICAgIGRyYWdDYW5jZWwoc3RhdGUpO1xuICAgICAgfSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBzdG9wKCk6IHZvaWQge1xuICAgICAgcmVuZGVyKHN0YXRlID0+IHtcbiAgICAgICAgYm9hcmQuc3RvcChzdGF0ZSk7XG4gICAgICAgIGRyYWdDYW5jZWwoc3RhdGUpO1xuICAgICAgfSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBleHBsb2RlKGtleXM6IGNnLktleVtdKTogdm9pZCB7XG4gICAgICBleHBsb3Npb24oc3RhdGUsIGtleXMpO1xuICAgIH0sXG5cbiAgICBzZXRBdXRvU2hhcGVzKHNoYXBlczogRHJhd1NoYXBlW10pOiB2b2lkIHtcbiAgICAgIHJlbmRlcihzdGF0ZSA9PiAoc3RhdGUuZHJhd2FibGUuYXV0b1NoYXBlcyA9IHNoYXBlcyksIHN0YXRlKTtcbiAgICB9LFxuXG4gICAgc2V0U2hhcGVzKHNoYXBlczogRHJhd1NoYXBlW10pOiB2b2lkIHtcbiAgICAgIHJlbmRlcihzdGF0ZSA9PiAoc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gc2hhcGVzKSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBnZXRLZXlBdERvbVBvcyhwb3MpOiBjZy5LZXkgfCB1bmRlZmluZWQge1xuICAgICAgcmV0dXJuIGJvYXJkLmdldEtleUF0RG9tUG9zKHBvcywgYm9hcmQud2hpdGVQb3Yoc3RhdGUpLCBzdGF0ZS5kb20uYm91bmRzKCksIHN0YXRlLmRpbWVuc2lvbnMpO1xuICAgIH0sXG5cbiAgICByZWRyYXdBbGwsXG5cbiAgICBkcmFnTmV3UGllY2UocGllY2UsIGZyb21Qb2NrZXQsIGV2ZW50LCBmb3JjZSk6IHZvaWQge1xuICAgICAgZHJhZ05ld1BpZWNlKHN0YXRlLCBwaWVjZSwgZnJvbVBvY2tldCwgZXZlbnQsIHVuZGVmaW5lZCwgZm9yY2UpO1xuICAgIH0sXG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgYm9hcmQuc3RvcChzdGF0ZSk7XG4gICAgICBzdGF0ZS5kb20udW5iaW5kICYmIHN0YXRlLmRvbS51bmJpbmQoKTtcbiAgICAgIHN0YXRlLmRvbS5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcy5qcyc7XG5cbnR5cGUgRHJvcE1vYmlsaXR5ID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBib29sZWFuO1xuXG5jb25zdCB3aG9sZUJvYXJkID0gKCkgPT4gdHJ1ZTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGZyb21cdDAtYmFzZWQgaW5kZXggZnJvbSBnaXZlbiBjb2xvcidzIFBvViwgaW5jbHVzaXZlXG4gKiBAcGFyYW0gdG9cdDAtYmFzZWQgaW5kZXggZnJvbSBnaXZlbiBjb2xvcidzIFBvViwgZXhjbHVzaXZlXG4gKiBAcGFyYW0gY29sb3IgVGhlIHBpZWNlJ3MgY29sb3JcbiAqIEBwYXJhbSBiZCAgICBUaGUgYm9hcmQncyBkaW1lbnNpb25zXG4gKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIGEgcG9zaXRpb24ncyByYW5rIGlzIGluc2lkZSB0aGUgZnJvbS10byByYW5nZSwgd2hlcmUgZnJvbSBhbmQgdG8gYXJlIGluZGljZXMgb2YgcmFuayB3aGVuIGNvdW50aW5nIGZyb21cbiAqIGN1cnJlbnQgXCJjb2xvclwiJ3MgcG9pbnQgb2YgdmlldyAoaS5lLiBpZiBmcm9tPXRvPTEgYW5kIGNvbG9yPWJsYWNrIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0cnVlIG9ubHkgaWYgdGhlIHBvc2l0aW9uJ3MgcmFuayBpcyA4IGluIGNhc2Ugb2YgOHg4IGJvYXJkKVxuICogZnJvbSBhbmQgdG8gY2FuIGJlIHplcm8gb3IgbmVnYXRpdmUgdG8gZGVub3RlIHRoYXQgbWFueSByYW5rcyBjb3VudGluZyBmcm9tIHRoZSBsYXN0XG4gKlxuICogKi9cbmZ1bmN0aW9uIHJhbmtSYW5nZShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGNvbG9yOiBjZy5Db2xvciwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IERyb3BNb2JpbGl0eSB7XG4gIGlmIChmcm9tIDwgMCkgZnJvbSArPSBiZC5oZWlnaHQ7XG4gIGlmICh0byA8IDApIHRvICs9IGJkLmhlaWdodDtcbiAgcmV0dXJuIChfeCwgeSkgPT4ge1xuICAgIGlmIChjb2xvciA9PT0gJ2JsYWNrJykgeSA9IGJkLmhlaWdodCAtIDEgLSB5O1xuICAgIHJldHVybiBmcm9tIDw9IHkgJiYgeSA8IHRvO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlZHJvcCh2YXJpYW50OiBzdHJpbmcsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5QcmVkcm9wIHtcbiAgY29uc3QgbW9iaWxpdHkgPSBidWlsdGluTW9iaWxpdHkodmFyaWFudCwgYmQpO1xuICByZXR1cm4gKGJvYXJkU3RhdGUsIHBpZWNlKSA9PlxuICAgIHV0aWxcbiAgICAgIC5hbGxQb3MoYmQpXG4gICAgICAuZmlsdGVyKHBvcyA9PiBib2FyZFN0YXRlLnBpZWNlcy5nZXQodXRpbC5wb3Mya2V5KHBvcykpPy5jb2xvciAhPT0gcGllY2UuY29sb3IgJiYgbW9iaWxpdHkocGllY2UpKHBvc1swXSwgcG9zWzFdKSlcbiAgICAgIC5tYXAodXRpbC5wb3Mya2V5KTtcbn1cblxuZnVuY3Rpb24gYnVpbHRpbk1vYmlsaXR5KHZhcmlhbnQ6IHN0cmluZywgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IChwaWVjZTogY2cuUGllY2UpID0+IERyb3BNb2JpbGl0eSB7XG4gIHN3aXRjaCAodmFyaWFudCkge1xuICAgIGNhc2UgJ2NyYXp5aG91c2UnOlxuICAgIGNhc2UgJ3Nob3VzZSc6XG4gICAgY2FzZSAnY2FwYWhvdXNlJzpcbiAgICBjYXNlICdnb3RoaG91c2UnOlxuICAgICAgLy8gcGF3bnMgY2FuJ3QgYmUgZHJvcHBlZCBvbiB0aGUgZmlyc3Qgb3IgbGFzdCByYW5rXG4gICAgICByZXR1cm4gcGllY2UgPT4gKHBpZWNlLnJvbGUgPT09ICdwLXBpZWNlJyA/IHJhbmtSYW5nZSgxLCAtMSwgcGllY2UuY29sb3IsIGJkKSA6IHdob2xlQm9hcmQpO1xuXG4gICAgY2FzZSAncGxhY2VtZW50JzpcbiAgICAgIC8vIHRoZSBcImRyb3BcIiBpcyB0aGUgcGxhY2VtZW50IHBoYXNlIHdoZXJlIHBpZWNlcyBjYW4gb25seSBiZSBwbGFjZWQgb24gdGhlIGZpcnN0IHJhbmtcbiAgICAgIHJldHVybiBwaWVjZSA9PiByYW5rUmFuZ2UoMCwgMSwgcGllY2UuY29sb3IsIGJkKTtcblxuICAgIGNhc2UgJ3NpdHR1eWluJzpcbiAgICAgIC8vIHRoZSBcImRyb3BcIiBpcyB0aGUgcGxhY2VtZW50IHBoYXNlIHdoZXJlIHBpZWNlcyBjYW4gb25seSBiZSBwbGFjZWQgb24gdGhlIHBsYXllcidzIGhhbGZcbiAgICAgIC8vIHJvb2tzIGNhbiBvbmx5IGJlIGRyb3BwZWQgb24gdGhlIGZpcnN0IHJhbmtcbiAgICAgIHJldHVybiBwaWVjZSA9PiAocGllY2Uucm9sZSA9PT0gJ3ItcGllY2UnID8gcmFua1JhbmdlKDAsIDEsIHBpZWNlLmNvbG9yLCBiZCkgOiByYW5rUmFuZ2UoMCwgMywgcGllY2UuY29sb3IsIGJkKSk7XG5cbiAgICBjYXNlICdzaG9naSc6XG4gICAgY2FzZSAnbWluaXNob2dpJzpcbiAgICBjYXNlICdnb3JvZ29ybyc6XG4gICAgY2FzZSAnZ29yb2dvcm9wbHVzJzpcbiAgICAgIHJldHVybiBwaWVjZSA9PiB7XG4gICAgICAgIHN3aXRjaCAocGllY2Uucm9sZSkge1xuICAgICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXducyBhbmQgbGFuY2VzIGNhbid0IGJlIGRyb3BwZWQgb24gdGhlIGxhc3QgcmFua1xuICAgICAgICAgIGNhc2UgJ2wtcGllY2UnOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtSYW5nZSgwLCAtMSwgcGllY2UuY29sb3IsIGJkKTtcbiAgICAgICAgICBjYXNlICduLXBpZWNlJzogLy8ga25pZ2h0cyBjYW4ndCBiZSBkcm9wcGVkIG9uIHRoZSBsYXN0IHR3byByYW5rc1xuICAgICAgICAgICAgcmV0dXJuIHJhbmtSYW5nZSgwLCAtMiwgcGllY2UuY29sb3IsIGJkKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHdob2xlQm9hcmQ7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBjYXNlICd0b3Jpc2hvZ2knOlxuICAgICAgLy8gc3dhbGxvd3MgY2FuJ3QgYmUgZHJvcHBlZCBvbiB0aGUgbGFzdCByYW5rXG4gICAgICByZXR1cm4gcGllY2UgPT4gKHBpZWNlLnJvbGUgPT09ICdzLXBpZWNlJyA/IHJhbmtSYW5nZSgwLCAtMSwgcGllY2UuY29sb3IsIGJkKSA6IHdob2xlQm9hcmQpO1xuXG4gICAgY2FzZSAnZ3JhbmRob3VzZSc6XG4gICAgICAvLyBwYXducyBjYW4ndCBiZSBkcm9wcGVkIG9uIHRoZSAxc3QsIG9yIDh0aCB0byAxMHRoIHJhbmtzXG4gICAgICByZXR1cm4gcGllY2UgPT4gKHBpZWNlLnJvbGUgPT09ICdwLXBpZWNlJyA/IHJhbmtSYW5nZSgxLCA3LCBwaWVjZS5jb2xvciwgYmQpIDogd2hvbGVCb2FyZCk7XG5cbiAgICBjYXNlICdzaG9ndW4nOlxuICAgICAgLy8gc2hvZ3VuIG9ubHkgcGVybWl0cyBkcm9wcyBvbiByYW5rcyAxLTUgZm9yIGFsbCBwaWVjZXNcbiAgICAgIHJldHVybiBwaWVjZSA9PiByYW5rUmFuZ2UoMCwgNSwgcGllY2UuY29sb3IsIGJkKTtcblxuICAgIGNhc2UgJ3N5bm9jaGVzcyc6XG4gICAgICAvLyBPbmx5IGJsYWNrIGNhbiBkcm9wLCBhbmQgdGhlIG9ubHkgZHJvcHBhYmxlIHJhbmsgaXMgdGhlIGxpdGVyYWwgcmFuayBmaXZlLlxuICAgICAgcmV0dXJuICgpID0+IChfeCwgeSkgPT4geSA9PT0gNDtcblxuICAgIGNhc2UgJ3NoaW5vYmknOlxuICAgICAgLy8gT25seSB3aGl0ZSBjYW4gZHJvcCwgYW5kIG9ubHkgb24gdGhlaXIgb3duIGhhbGYgb2YgdGhlIGJvYXJkXG4gICAgICByZXR1cm4gKCkgPT4gKF94LCB5KSA9PiB5IDw9IDM7XG5cbiAgICAvLyBUaGVzZSBjYXNlcyBhcmUgdW5uZWNlc3NhcnkgYnV0IGlzIGhlcmUgYW55d2F5IHRvIGJlIGV4cGxpY2l0XG4gICAgY2FzZSAna3lvdG9zaG9naSc6XG4gICAgY2FzZSAnZG9idXRzdSc6XG4gICAgY2FzZSAnY2hlbm5pcyc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAoKSA9PiB3aG9sZUJvYXJkO1xuICB9XG59XG4iLCAiaW1wb3J0ICogYXMgZmVuIGZyb20gJy4vZmVuLmpzJztcbmltcG9ydCB7IEFuaW1DdXJyZW50IH0gZnJvbSAnLi9hbmltLmpzJztcbmltcG9ydCB7IERyYWdDdXJyZW50IH0gZnJvbSAnLi9kcmFnLmpzJztcbmltcG9ydCB7IERyYXdhYmxlIH0gZnJvbSAnLi9kcmF3LmpzJztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IHByZW1vdmUgfSBmcm9tICcuL3ByZW1vdmUuanMnO1xuaW1wb3J0IHsgcHJlZHJvcCB9IGZyb20gJy4vcHJlZHJvcC5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBIZWFkbGVzc1N0YXRlIHtcbiAgYm9hcmRTdGF0ZTogY2cuQm9hcmRTdGF0ZTtcbiAgb3JpZW50YXRpb246IGNnLkNvbG9yOyAvLyBib2FyZCBvcmllbnRhdGlvbi4gd2hpdGUgfCBibGFja1xuICB0dXJuQ29sb3I6IGNnLkNvbG9yOyAvLyB0dXJuIHRvIHBsYXkuIHdoaXRlIHwgYmxhY2tcbiAgY2hlY2s/OiBjZy5LZXk7IC8vIHNxdWFyZSBjdXJyZW50bHkgaW4gY2hlY2sgXCJhMlwiXG4gIGxhc3RNb3ZlPzogY2cuT3JpZ1tdOyAvLyBzcXVhcmVzIG9yIGRyb3BwaW5nIHBpZWNlIHBhcnQgb2YgdGhlIGxhc3QgbW92ZSBbXCJjM1wiOyBcImM0XCJdXG4gIGNvb3JkaW5hdGVzOiBib29sZWFuOyAvLyBpbmNsdWRlIGNvb3JkcyBhdHRyaWJ1dGVzXG4gIHJhbmtzUG9zaXRpb246IGNnLlJhbmtzUG9zaXRpb247IC8vIHBvc2l0aW9uIHJhbmtzIG9uIGVpdGhlciBzaWRlLiBsZWZ0IHwgcmlnaHRcbiAgYXV0b0Nhc3RsZTogYm9vbGVhbjsgLy8gaW1tZWRpYXRlbHkgY29tcGxldGUgdGhlIGNhc3RsZSBieSBtb3ZpbmcgdGhlIHJvb2sgYWZ0ZXIga2luZyBtb3ZlXG4gIHZpZXdPbmx5OiBib29sZWFuOyAvLyBkb24ndCBiaW5kIGV2ZW50czogdGhlIHVzZXIgd2lsbCBuZXZlciBiZSBhYmxlIHRvIG1vdmUgcGllY2VzIGFyb3VuZFxuICBkaXNhYmxlQ29udGV4dE1lbnU6IGJvb2xlYW47IC8vIGJlY2F1c2Ugd2hvIG5lZWRzIGEgY29udGV4dCBtZW51IG9uIGEgY2hlc3Nib2FyZFxuICBhZGRQaWVjZVpJbmRleDogYm9vbGVhbjsgLy8gYWRkcyB6LWluZGV4IHZhbHVlcyB0byBwaWVjZXMgKGZvciAzRClcbiAgYWRkRGltZW5zaW9uc0Nzc1ZhcnNUbz86IEhUTUxFbGVtZW50OyAvLyBhZGQgLS1jZy13aWR0aCBhbmQgLS1jZy1oZWlnaHQgQ1NTIHZhcnMgY29udGFpbmluZyB0aGUgYm9hcmQncyBkaW1lbnNpb25zIHRvIHRoaXMgZWxlbWVudFxuICBibG9ja1RvdWNoU2Nyb2xsOiBib29sZWFuOyAvLyBibG9jayBzY3JvbGxpbmcgdmlhIHRvdWNoIGRyYWdnaW5nIG9uIHRoZSBib2FyZCwgZS5nLiBmb3IgY29vcmRpbmF0ZSB0cmFpbmluZ1xuICBwaWVjZUtleTogYm9vbGVhbjsgLy8gYWRkIGEgZGF0YS1rZXkgYXR0cmlidXRlIHRvIHBpZWNlIGVsZW1lbnRzXG4gIGhpZ2hsaWdodDoge1xuICAgIGxhc3RNb3ZlOiBib29sZWFuOyAvLyBhZGQgbGFzdC1tb3ZlIGNsYXNzIHRvIHNxdWFyZXNcbiAgICBjaGVjazogYm9vbGVhbjsgLy8gYWRkIGNoZWNrIGNsYXNzIHRvIHNxdWFyZXNcbiAgfTtcbiAgYW5pbWF0aW9uOiB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICBkdXJhdGlvbjogbnVtYmVyO1xuICAgIGN1cnJlbnQ/OiBBbmltQ3VycmVudDtcbiAgfTtcbiAgbW92YWJsZToge1xuICAgIGZyZWU6IGJvb2xlYW47IC8vIGFsbCBtb3ZlcyBhcmUgdmFsaWQgLSBib2FyZCBlZGl0b3JcbiAgICBjb2xvcj86IGNnLkNvbG9yIHwgJ2JvdGgnOyAvLyBjb2xvciB0aGF0IGNhbiBtb3ZlLiB3aGl0ZSB8IGJsYWNrIHwgYm90aFxuICAgIGRlc3RzPzogY2cuRGVzdHM7IC8vIHZhbGlkIG1vdmVzLiB7XCJhMlwiIFtcImEzXCIgXCJhNFwiXSBcImIxXCIgW1wiYTNcIiBcImMzXCJdfVxuICAgIHNob3dEZXN0czogYm9vbGVhbjsgLy8gd2hldGhlciB0byBhZGQgdGhlIG1vdmUtZGVzdCBjbGFzcyBvbiBzcXVhcmVzXG4gICAgZXZlbnRzOiB7XG4gICAgICBhZnRlcj86IChvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE6IGNnLk1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBtb3ZlIGhhcyBiZWVuIHBsYXllZFxuICAgICAgYWZ0ZXJOZXdQaWVjZT86IChwaWVjZTogY2cuUGllY2UsIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE6IGNnLk1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIGEgbmV3IHBpZWNlIGlzIGRyb3BwZWQgb24gdGhlIGJvYXJkXG4gICAgfTtcbiAgICByb29rQ2FzdGxlOiBib29sZWFuOyAvLyBjYXN0bGUgYnkgbW92aW5nIHRoZSBraW5nIHRvIHRoZSByb29rXG4gIH07XG4gIHByZW1vdmFibGU6IHtcbiAgICBlbmFibGVkOiBib29sZWFuOyAvLyBhbGxvdyBwcmVtb3ZlcyBmb3IgY29sb3IgdGhhdCBjYW4gbm90IG1vdmVcbiAgICBwcmVtb3ZlRnVuYzogY2cuUHJlbW92ZTsgLy8gZnVuY3Rpb24gZm9yIHByZW1vdmUgZGVzdGluYXRpb25zXG4gICAgcHJlZHJvcEZ1bmM6IGNnLlByZWRyb3A7IC8vIGZ1bmN0aW9uIGZvciBwcmVkcm9wIGRlc3RpbmF0aW9uc1xuICAgIGNhc3RsZTogYm9vbGVhbjsgLy8gd2hldGhlciB0byBhbGxvdyBraW5nIGNhc3RsZSBwcmVtb3Zlc1xuICAgIGRlc3RzPzogY2cuS2V5W107IC8vIHByZW1vdmUgZGVzdGluYXRpb25zIGZvciB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICBjdXJyZW50PzogY2cuTW92ZTsgLy8ga2V5cyBvZiB0aGUgY3VycmVudCBzYXZlZCBwcmVtb3ZlIFtcImUyXCIgXCJlNFwiXVxuICAgIGV2ZW50czoge1xuICAgICAgc2V0PzogKG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE/OiBjZy5TZXRQcmVtb3ZlTWV0YWRhdGEpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgcHJlbW92ZSBoYXMgYmVlbiBzZXRcbiAgICAgIHVuc2V0PzogKCkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBwcmVtb3ZlIGhhcyBiZWVuIHVuc2V0XG4gICAgfTtcbiAgfTtcbiAgZHJhZ2dhYmxlOiB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLy8gYWxsb3cgbW92ZXMgJiBwcmVtb3ZlcyB0byB1c2UgZHJhZyduIGRyb3BcbiAgICBkaXN0YW5jZTogbnVtYmVyOyAvLyBtaW5pbXVtIGRpc3RhbmNlIHRvIGluaXRpYXRlIGEgZHJhZzsgaW4gcGl4ZWxzXG4gICAgYXV0b0Rpc3RhbmNlOiBib29sZWFuOyAvLyBsZXRzIGNoZXNzZ3JvdW5kIHNldCBkaXN0YW5jZSB0byB6ZXJvIHdoZW4gdXNlciBkcmFncyBwaWVjZXNcbiAgICBzaG93R2hvc3Q6IGJvb2xlYW47IC8vIHNob3cgZ2hvc3Qgb2YgcGllY2UgYmVpbmcgZHJhZ2dlZFxuICAgIGRlbGV0ZU9uRHJvcE9mZjogYm9vbGVhbjsgLy8gZGVsZXRlIGEgcGllY2Ugd2hlbiBpdCBpcyBkcm9wcGVkIG9mZiB0aGUgYm9hcmRcbiAgICBjdXJyZW50PzogRHJhZ0N1cnJlbnQ7XG4gIH07XG4gIHNlbGVjdGFibGU6IHtcbiAgICAvLyBkaXNhYmxlIHRvIGVuZm9yY2UgZHJhZ2dpbmcgb3ZlciBjbGljay1jbGljayBtb3ZlXG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICBzZWxlY3RlZD86IGNnLlNlbGVjdGFibGU7XG4gICAgZnJvbVBvY2tldD86IGJvb2xlYW47XG4gIH07XG4gIHN0YXRzOiB7XG4gICAgLy8gd2FzIGxhc3QgcGllY2UgZHJhZ2dlZCBvciBjbGlja2VkP1xuICAgIC8vIG5lZWRzIGRlZmF1bHQgdG8gZmFsc2UgZm9yIHRvdWNoXG4gICAgZHJhZ2dlZDogYm9vbGVhbjtcbiAgICBjdHJsS2V5PzogYm9vbGVhbjtcbiAgfTtcbiAgZXZlbnRzOiB7XG4gICAgY2hhbmdlPzogKCkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBzaXR1YXRpb24gY2hhbmdlcyBvbiB0aGUgYm9hcmRcbiAgICAvLyBjYWxsZWQgYWZ0ZXIgYSBwaWVjZSBoYXMgYmVlbiBtb3ZlZC5cbiAgICAvLyBjYXB0dXJlZFBpZWNlIGlzIHVuZGVmaW5lZCBvciBsaWtlIHtjb2xvcjogJ3doaXRlJzsgJ3JvbGUnOiAncXVlZW4nfVxuICAgIG1vdmU/OiAob3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXksIGNhcHR1cmVkUGllY2U/OiBjZy5QaWVjZSkgPT4gdm9pZDtcbiAgICBkcm9wTmV3UGllY2U/OiAocGllY2U6IGNnLlBpZWNlLCBrZXk6IGNnLktleSkgPT4gdm9pZDtcbiAgICBzZWxlY3Q/OiAoa2V5OiBjZy5LZXkpID0+IHZvaWQ7IC8vIGNhbGxlZCB3aGVuIGEgc3F1YXJlIGlzIHNlbGVjdGVkXG4gICAgc2VsZWN0UG9ja2V0PzogKHBpZWNlOiBjZy5QaWVjZSkgPT4gdm9pZDsgLy8gY2FsbGVkIHdoZW4gYSBwb2NrZXQgcGllY2UgaXMgc2VsZWN0ZWRcbiAgICBpbnNlcnQ/OiAoZWxlbWVudHM6IGNnLkVsZW1lbnRzKSA9PiB2b2lkOyAvLyB3aGVuIHRoZSBib2FyZCBET00gaGFzIGJlZW4gKHJlKWluc2VydGVkXG4gIH07XG4gIGRyYXdhYmxlOiBEcmF3YWJsZTtcbiAgZXhwbG9kaW5nPzogY2cuRXhwbG9kaW5nO1xuICBob2xkOiBjZy5UaW1lcjtcbiAgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zOyAvLyBudW1iZXIgb2YgbGluZXMgYW5kIHJhbmtzIG9mIHRoZSBib2FyZCB7d2lkdGg6IDEwLCBoZWlnaHQ6IDh9XG4gIG5vdGF0aW9uOiBjZy5Ob3RhdGlvbjtcbiAga2luZ1JvbGVzOiBjZy5Sb2xlW107IC8vIHJvbGVzIHRvIGJlIG1hcmtlZCB3aXRoIGNoZWNrXG4gIHBvY2tldFJvbGVzPzogY2cuUG9ja2V0Um9sZXM7IC8vIHVuZGVmaW5lZCBmb3Igbm9uLXBvY2tldCB2YXJpYW50cy4gUG9zc2libGUgcGllY2VzIHRoYXQgYSBwb2NrZXQgY2FuIGhvbGQgZm9yIGVhY2ggY29sb3Jcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZSBleHRlbmRzIEhlYWRsZXNzU3RhdGUge1xuICBkb206IGNnLkRvbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKCk6IEhlYWRsZXNzU3RhdGUge1xuICByZXR1cm4ge1xuICAgIGJvYXJkU3RhdGU6IGZlbi5yZWFkKGZlbi5pbml0aWFsLCB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSksXG4gICAgb3JpZW50YXRpb246ICd3aGl0ZScsXG4gICAgdHVybkNvbG9yOiAnd2hpdGUnLFxuICAgIGNvb3JkaW5hdGVzOiB0cnVlLFxuICAgIHJhbmtzUG9zaXRpb246ICdyaWdodCcsXG4gICAgYXV0b0Nhc3RsZTogdHJ1ZSxcbiAgICB2aWV3T25seTogZmFsc2UsXG4gICAgZGlzYWJsZUNvbnRleHRNZW51OiBmYWxzZSxcbiAgICBhZGRQaWVjZVpJbmRleDogZmFsc2UsXG4gICAgYmxvY2tUb3VjaFNjcm9sbDogZmFsc2UsXG4gICAgcGllY2VLZXk6IGZhbHNlLFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgbGFzdE1vdmU6IHRydWUsXG4gICAgICBjaGVjazogdHJ1ZSxcbiAgICB9LFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgfSxcbiAgICBtb3ZhYmxlOiB7XG4gICAgICBmcmVlOiB0cnVlLFxuICAgICAgY29sb3I6ICdib3RoJyxcbiAgICAgIHNob3dEZXN0czogdHJ1ZSxcbiAgICAgIGV2ZW50czoge30sXG4gICAgICByb29rQ2FzdGxlOiB0cnVlLFxuICAgIH0sXG4gICAgcHJlbW92YWJsZToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHByZW1vdmVGdW5jOiBwcmVtb3ZlKCdjaGVzcycsIGZhbHNlLCB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSksXG4gICAgICBwcmVkcm9wRnVuYzogcHJlZHJvcCgnY2hlc3MnLCB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSksXG4gICAgICBjYXN0bGU6IHRydWUsXG4gICAgICBldmVudHM6IHt9LFxuICAgIH0sXG4gICAgZHJhZ2dhYmxlOiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgZGlzdGFuY2U6IDMsXG4gICAgICBhdXRvRGlzdGFuY2U6IHRydWUsXG4gICAgICBzaG93R2hvc3Q6IHRydWUsXG4gICAgICBkZWxldGVPbkRyb3BPZmY6IGZhbHNlLFxuICAgIH0sXG4gICAgc2VsZWN0YWJsZToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHN0YXRzOiB7XG4gICAgICAvLyBvbiB0b3VjaHNjcmVlbiwgZGVmYXVsdCB0byBcInRhcC10YXBcIiBtb3Zlc1xuICAgICAgLy8gaW5zdGVhZCBvZiBkcmFnXG4gICAgICBkcmFnZ2VkOiAhKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyksXG4gICAgfSxcbiAgICBldmVudHM6IHt9LFxuICAgIGRyYXdhYmxlOiB7XG4gICAgICBlbmFibGVkOiB0cnVlLCAvLyBjYW4gZHJhd1xuICAgICAgdmlzaWJsZTogdHJ1ZSwgLy8gY2FuIHZpZXdcbiAgICAgIGRlZmF1bHRTbmFwVG9WYWxpZE1vdmU6IHRydWUsXG4gICAgICBlcmFzZU9uQ2xpY2s6IHRydWUsXG4gICAgICBzaGFwZXM6IFtdLFxuICAgICAgYXV0b1NoYXBlczogW10sXG4gICAgICBicnVzaGVzOiB7XG4gICAgICAgIGdyZWVuOiB7IGtleTogJ2cnLCBjb2xvcjogJyMxNTc4MUInLCBvcGFjaXR5OiAxLCBsaW5lV2lkdGg6IDEwIH0sXG4gICAgICAgIHJlZDogeyBrZXk6ICdyJywgY29sb3I6ICcjODgyMDIwJywgb3BhY2l0eTogMSwgbGluZVdpZHRoOiAxMCB9LFxuICAgICAgICBibHVlOiB7IGtleTogJ2InLCBjb2xvcjogJyMwMDMwODgnLCBvcGFjaXR5OiAxLCBsaW5lV2lkdGg6IDEwIH0sXG4gICAgICAgIHllbGxvdzogeyBrZXk6ICd5JywgY29sb3I6ICcjZTY4ZjAwJywgb3BhY2l0eTogMSwgbGluZVdpZHRoOiAxMCB9LFxuICAgICAgICBwYWxlQmx1ZTogeyBrZXk6ICdwYicsIGNvbG9yOiAnIzAwMzA4OCcsIG9wYWNpdHk6IDAuNCwgbGluZVdpZHRoOiAxNSB9LFxuICAgICAgICBwYWxlR3JlZW46IHsga2V5OiAncGcnLCBjb2xvcjogJyMxNTc4MUInLCBvcGFjaXR5OiAwLjQsIGxpbmVXaWR0aDogMTUgfSxcbiAgICAgICAgcGFsZVJlZDogeyBrZXk6ICdwcicsIGNvbG9yOiAnIzg4MjAyMCcsIG9wYWNpdHk6IDAuNCwgbGluZVdpZHRoOiAxNSB9LFxuICAgICAgICBwYWxlR3JleToge1xuICAgICAgICAgIGtleTogJ3BncicsXG4gICAgICAgICAgY29sb3I6ICcjNGE0YTRhJyxcbiAgICAgICAgICBvcGFjaXR5OiAwLjM1LFxuICAgICAgICAgIGxpbmVXaWR0aDogMTUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJldlN2Z0hhc2g6ICcnLFxuICAgIH0sXG4gICAgaG9sZDogdGltZXIoKSxcbiAgICBkaW1lbnNpb25zOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSxcbiAgICBub3RhdGlvbjogY2cuTm90YXRpb24uQUxHRUJSQUlDLFxuICAgIGtpbmdSb2xlczogWydrLXBpZWNlJ10sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgRHJhd1NoYXBlIH0gZnJvbSAnLi9kcmF3JztcblxuZXhwb3J0IGludGVyZmFjZSBTeW5jYWJsZVNoYXBlIHtcbiAgc2hhcGU6IERyYXdTaGFwZTtcbiAgY3VycmVudDogYm9vbGVhbjtcbiAgaGFzaDogSGFzaDtcbn1cblxuZXhwb3J0IHR5cGUgSGFzaCA9IHN0cmluZztcblxuLy8gYXBwZW5kIGFuZCByZW1vdmUgb25seS4gTm8gdXBkYXRlcy5cbmV4cG9ydCBmdW5jdGlvbiBzeW5jU2hhcGVzKFxuICBzaGFwZXM6IFN5bmNhYmxlU2hhcGVbXSxcbiAgcm9vdDogSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50LFxuICByZW5kZXJTaGFwZTogKHNoYXBlOiBTeW5jYWJsZVNoYXBlKSA9PiBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnRcbik6IHZvaWQge1xuICBjb25zdCBoYXNoZXNJbkRvbSA9IG5ldyBNYXAoKSwgLy8gYnkgaGFzaFxuICAgIHRvUmVtb3ZlOiBTVkdFbGVtZW50W10gPSBbXTtcbiAgZm9yIChjb25zdCBzYyBvZiBzaGFwZXMpIGhhc2hlc0luRG9tLnNldChzYy5oYXNoLCBmYWxzZSk7XG4gIGxldCBlbDogU1ZHRWxlbWVudCB8IHVuZGVmaW5lZCA9IHJvb3QuZmlyc3RDaGlsZCBhcyBTVkdFbGVtZW50LFxuICAgIGVsSGFzaDogSGFzaCB8IG51bGw7XG4gIHdoaWxlIChlbCkge1xuICAgIGVsSGFzaCA9IGVsLmdldEF0dHJpYnV0ZSgnY2dIYXNoJykgYXMgSGFzaDtcbiAgICAvLyBmb3VuZCBhIHNoYXBlIGVsZW1lbnQgdGhhdCdzIGhlcmUgdG8gc3RheVxuICAgIGlmIChoYXNoZXNJbkRvbS5oYXMoZWxIYXNoKSkgaGFzaGVzSW5Eb20uc2V0KGVsSGFzaCwgdHJ1ZSk7XG4gICAgLy8gb3IgcmVtb3ZlIGl0XG4gICAgZWxzZSB0b1JlbW92ZS5wdXNoKGVsKTtcbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nIGFzIFNWR0VsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gcmVtb3ZlIG9sZCBzaGFwZXNcbiAgZm9yIChjb25zdCBlbCBvZiB0b1JlbW92ZSkgcm9vdC5yZW1vdmVDaGlsZChlbCk7XG4gIC8vIGluc2VydCBzaGFwZXMgdGhhdCBhcmUgbm90IHlldCBpbiBkb21cbiAgZm9yIChjb25zdCBzYyBvZiBzaGFwZXMpIHtcbiAgICBpZiAoIWhhc2hlc0luRG9tLmdldChzYy5oYXNoKSkgcm9vdC5hcHBlbmRDaGlsZChyZW5kZXJTaGFwZShzYykpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCB7IGtleTJwb3MgfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgRHJhd2FibGUsIERyYXdTaGFwZSwgRHJhd1NoYXBlUGllY2UsIERyYXdCcnVzaCwgRHJhd0JydXNoZXMsIERyYXdNb2RpZmllcnMgfSBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0IHsgU3luY2FibGVTaGFwZSwgSGFzaCwgc3luY1NoYXBlcyB9IGZyb20gJy4vc3luYy5qcyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZTogc3RyaW5nKTogU1ZHRWxlbWVudCB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnTmFtZSk7XG59XG5cbnR5cGUgQ3VzdG9tQnJ1c2hlcyA9IE1hcDxzdHJpbmcsIERyYXdCcnVzaD47IC8vIGJ5IGhhc2hcblxudHlwZSBBcnJvd0Rlc3RzID0gTWFwPGNnLktleSwgbnVtYmVyPjsgLy8gaG93IG1hbnkgYXJyb3dzIGxhbmQgb24gYSBzcXVhcmVcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclN2ZyhzdGF0ZTogU3RhdGUsIHN2ZzogU1ZHRWxlbWVudCwgY3VzdG9tU3ZnOiBTVkdFbGVtZW50KTogdm9pZCB7XG4gIGNvbnN0IGQgPSBzdGF0ZS5kcmF3YWJsZSxcbiAgICBjdXJEID0gZC5jdXJyZW50LFxuICAgIGN1ciA9IGN1ckQgJiYgY3VyRC5tb3VzZVNxID8gKGN1ckQgYXMgRHJhd1NoYXBlKSA6IHVuZGVmaW5lZCxcbiAgICBhcnJvd0Rlc3RzOiBBcnJvd0Rlc3RzID0gbmV3IE1hcCgpLFxuICAgIGJvdW5kcyA9IHN0YXRlLmRvbS5ib3VuZHMoKSxcbiAgICBub25QaWVjZUF1dG9TaGFwZXMgPSBkLmF1dG9TaGFwZXMuZmlsdGVyKGF1dG9TaGFwZSA9PiAhYXV0b1NoYXBlLnBpZWNlKTtcblxuICBmb3IgKGNvbnN0IHMgb2YgZC5zaGFwZXMuY29uY2F0KG5vblBpZWNlQXV0b1NoYXBlcykuY29uY2F0KGN1ciA/IFtjdXJdIDogW10pKSB7XG4gICAgaWYgKHMuZGVzdCkgYXJyb3dEZXN0cy5zZXQocy5kZXN0LCAoYXJyb3dEZXN0cy5nZXQocy5kZXN0KSB8fCAwKSArIDEpO1xuICB9XG5cbiAgY29uc3Qgc2hhcGVzOiBTeW5jYWJsZVNoYXBlW10gPSBkLnNoYXBlcy5jb25jYXQobm9uUGllY2VBdXRvU2hhcGVzKS5tYXAoKHM6IERyYXdTaGFwZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzaGFwZTogcyxcbiAgICAgIGN1cnJlbnQ6IGZhbHNlLFxuICAgICAgaGFzaDogc2hhcGVIYXNoKHMsIGFycm93RGVzdHMsIGZhbHNlLCBib3VuZHMpLFxuICAgIH07XG4gIH0pO1xuICBpZiAoY3VyKVxuICAgIHNoYXBlcy5wdXNoKHtcbiAgICAgIHNoYXBlOiBjdXIsXG4gICAgICBjdXJyZW50OiB0cnVlLFxuICAgICAgaGFzaDogc2hhcGVIYXNoKGN1ciwgYXJyb3dEZXN0cywgdHJ1ZSwgYm91bmRzKSxcbiAgICB9KTtcblxuICBjb25zdCBmdWxsSGFzaCA9IHNoYXBlcy5tYXAoc2MgPT4gc2MuaGFzaCkuam9pbignOycpO1xuICBpZiAoZnVsbEhhc2ggPT09IHN0YXRlLmRyYXdhYmxlLnByZXZTdmdIYXNoKSByZXR1cm47XG4gIHN0YXRlLmRyYXdhYmxlLnByZXZTdmdIYXNoID0gZnVsbEhhc2g7XG5cbiAgLypcbiAgICAtLSBET00gaGllcmFyY2h5IC0tXG4gICAgPHN2ZyBjbGFzcz1cImNnLXNoYXBlc1wiPiAgICAgICg8PSBzdmcpXG4gICAgICA8ZGVmcz5cbiAgICAgICAgLi4uKGZvciBicnVzaGVzKS4uLlxuICAgICAgPC9kZWZzPlxuICAgICAgPGc+XG4gICAgICAgIC4uLihmb3IgYXJyb3dzIGFuZCBjaXJjbGVzKS4uLlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICAgIDxzdmcgY2xhc3M9XCJjZy1jdXN0b20tc3Znc1wiPiAoPD0gY3VzdG9tU3ZnKVxuICAgICAgPGc+XG4gICAgICAgIC4uLihmb3IgY3VzdG9tIHN2Z3MpLi4uXG4gICAgICA8L2c+XG4gICAgPC9zdmc+XG4gICovXG5cbiAgY29uc3QgZGVmc0VsID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoJ2RlZnMnKSBhcyBTVkdFbGVtZW50O1xuICBjb25zdCBzaGFwZXNFbCA9IHN2Zy5xdWVyeVNlbGVjdG9yKCdnJykgYXMgU1ZHRWxlbWVudDtcbiAgY29uc3QgY3VzdG9tU3Znc0VsID0gY3VzdG9tU3ZnLnF1ZXJ5U2VsZWN0b3IoJ2cnKSBhcyBTVkdFbGVtZW50O1xuXG4gIHN5bmNEZWZzKGQsIHNoYXBlcywgZGVmc0VsKTtcbiAgc3luY1NoYXBlcyhcbiAgICBzaGFwZXMuZmlsdGVyKHMgPT4gIXMuc2hhcGUuY3VzdG9tU3ZnKSxcbiAgICBzaGFwZXNFbCxcbiAgICBzaGFwZSA9PiByZW5kZXJTaGFwZShzdGF0ZSwgc2hhcGUsIGQuYnJ1c2hlcywgYXJyb3dEZXN0cywgYm91bmRzKVxuICApO1xuICBzeW5jU2hhcGVzKFxuICAgIHNoYXBlcy5maWx0ZXIocyA9PiBzLnNoYXBlLmN1c3RvbVN2ZyksXG4gICAgY3VzdG9tU3Znc0VsLFxuICAgIHNoYXBlID0+IHJlbmRlclNoYXBlKHN0YXRlLCBzaGFwZSwgZC5icnVzaGVzLCBhcnJvd0Rlc3RzLCBib3VuZHMpXG4gICk7XG59XG5cbi8vIGFwcGVuZCBvbmx5LiBEb24ndCB0cnkgdG8gdXBkYXRlL3JlbW92ZS5cbmZ1bmN0aW9uIHN5bmNEZWZzKGQ6IERyYXdhYmxlLCBzaGFwZXM6IFN5bmNhYmxlU2hhcGVbXSwgZGVmc0VsOiBTVkdFbGVtZW50KSB7XG4gIGNvbnN0IGJydXNoZXM6IEN1c3RvbUJydXNoZXMgPSBuZXcgTWFwKCk7XG4gIGxldCBicnVzaDogRHJhd0JydXNoO1xuICBmb3IgKGNvbnN0IHMgb2Ygc2hhcGVzKSB7XG4gICAgaWYgKHMuc2hhcGUuZGVzdCkge1xuICAgICAgYnJ1c2ggPSBkLmJydXNoZXNbcy5zaGFwZS5icnVzaCFdO1xuICAgICAgaWYgKHMuc2hhcGUubW9kaWZpZXJzKSBicnVzaCA9IG1ha2VDdXN0b21CcnVzaChicnVzaCwgcy5zaGFwZS5tb2RpZmllcnMpO1xuICAgICAgYnJ1c2hlcy5zZXQoYnJ1c2gua2V5LCBicnVzaCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGtleXNJbkRvbSA9IG5ldyBTZXQoKTtcbiAgbGV0IGVsOiBTVkdFbGVtZW50IHwgdW5kZWZpbmVkID0gZGVmc0VsLmZpcnN0Q2hpbGQgYXMgU1ZHRWxlbWVudDtcbiAgd2hpbGUgKGVsKSB7XG4gICAga2V5c0luRG9tLmFkZChlbC5nZXRBdHRyaWJ1dGUoJ2NnS2V5JykpO1xuICAgIGVsID0gZWwubmV4dFNpYmxpbmcgYXMgU1ZHRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIGJydXNoXSBvZiBicnVzaGVzLmVudHJpZXMoKSkge1xuICAgIGlmICgha2V5c0luRG9tLmhhcyhrZXkpKSBkZWZzRWwuYXBwZW5kQ2hpbGQocmVuZGVyTWFya2VyKGJydXNoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVIYXNoKFxuICB7IG9yaWcsIGRlc3QsIGJydXNoLCBwaWVjZSwgbW9kaWZpZXJzLCBjdXN0b21TdmcgfTogRHJhd1NoYXBlLFxuICBhcnJvd0Rlc3RzOiBBcnJvd0Rlc3RzLFxuICBjdXJyZW50OiBib29sZWFuLFxuICBib3VuZHM6IENsaWVudFJlY3Rcbik6IEhhc2gge1xuICByZXR1cm4gW1xuICAgIGJvdW5kcy53aWR0aCxcbiAgICBib3VuZHMuaGVpZ2h0LFxuICAgIGN1cnJlbnQsXG4gICAgb3JpZyxcbiAgICBkZXN0LFxuICAgIGJydXNoLFxuICAgIGRlc3QgJiYgKGFycm93RGVzdHMuZ2V0KGRlc3QpIHx8IDApID4gMSxcbiAgICBwaWVjZSAmJiBwaWVjZUhhc2gocGllY2UpLFxuICAgIG1vZGlmaWVycyAmJiBtb2RpZmllcnNIYXNoKG1vZGlmaWVycyksXG4gICAgY3VzdG9tU3ZnICYmIGN1c3RvbVN2Z0hhc2goY3VzdG9tU3ZnKSxcbiAgXVxuICAgIC5maWx0ZXIoeCA9PiB4KVxuICAgIC5qb2luKCcsJyk7XG59XG5cbmZ1bmN0aW9uIHBpZWNlSGFzaChwaWVjZTogRHJhd1NoYXBlUGllY2UpOiBIYXNoIHtcbiAgcmV0dXJuIFtwaWVjZS5jb2xvciwgcGllY2Uucm9sZSwgcGllY2UucHJvbW90ZWQsIHBpZWNlLnNjYWxlXS5maWx0ZXIoeCA9PiB4KS5qb2luKCcsJyk7XG59XG5cbmZ1bmN0aW9uIG1vZGlmaWVyc0hhc2gobTogRHJhd01vZGlmaWVycyk6IEhhc2gge1xuICByZXR1cm4gJycgKyAobS5saW5lV2lkdGggfHwgJycpO1xufVxuXG5mdW5jdGlvbiBjdXN0b21TdmdIYXNoKHM6IHN0cmluZyk6IEhhc2gge1xuICAvLyBSb2xsaW5nIGhhc2ggd2l0aCBiYXNlIDMxIChjZi4gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzYxNjQ2MS9nZW5lcmF0ZS1hLWhhc2gtZnJvbS1zdHJpbmctaW4tamF2YXNjcmlwdClcbiAgbGV0IGggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICBoID0gKChoIDw8IDUpIC0gaCArIHMuY2hhckNvZGVBdChpKSkgPj4+IDA7XG4gIH1cbiAgcmV0dXJuICdjdXN0b20tJyArIGgudG9TdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2hhcGUoXG4gIHN0YXRlOiBTdGF0ZSxcbiAgeyBzaGFwZSwgY3VycmVudCwgaGFzaCB9OiBTeW5jYWJsZVNoYXBlLFxuICBicnVzaGVzOiBEcmF3QnJ1c2hlcyxcbiAgYXJyb3dEZXN0czogQXJyb3dEZXN0cyxcbiAgYm91bmRzOiBDbGllbnRSZWN0XG4pOiBTVkdFbGVtZW50IHtcbiAgbGV0IGVsOiBTVkdFbGVtZW50O1xuICBjb25zdCBvcmlnID0gb3JpZW50KGtleTJwb3Moc2hhcGUub3JpZyksIHN0YXRlLm9yaWVudGF0aW9uLCBzdGF0ZS5kaW1lbnNpb25zKTtcblxuICBpZiAoc2hhcGUuY3VzdG9tU3ZnKSB7XG4gICAgZWwgPSByZW5kZXJDdXN0b21Tdmcoc2hhcGUuY3VzdG9tU3ZnLCBvcmlnLCBib3VuZHMsIHN0YXRlLmRpbWVuc2lvbnMpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzaGFwZS5kZXN0KSB7XG4gICAgICBsZXQgYnJ1c2g6IERyYXdCcnVzaCA9IGJydXNoZXNbc2hhcGUuYnJ1c2ghXTtcbiAgICAgIGlmIChzaGFwZS5tb2RpZmllcnMpIGJydXNoID0gbWFrZUN1c3RvbUJydXNoKGJydXNoLCBzaGFwZS5tb2RpZmllcnMpO1xuICAgICAgZWwgPSByZW5kZXJBcnJvdyhcbiAgICAgICAgYnJ1c2gsXG4gICAgICAgIG9yaWcsXG4gICAgICAgIG9yaWVudChrZXkycG9zKHNoYXBlLmRlc3QpLCBzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUuZGltZW5zaW9ucyksXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIChhcnJvd0Rlc3RzLmdldChzaGFwZS5kZXN0KSB8fCAwKSA+IDEsXG4gICAgICAgIGJvdW5kcyxcbiAgICAgICAgc3RhdGUuZGltZW5zaW9uc1xuICAgICAgKTtcbiAgICB9IGVsc2UgZWwgPSByZW5kZXJDaXJjbGUoYnJ1c2hlc1tzaGFwZS5icnVzaCFdLCBvcmlnLCBjdXJyZW50LCBib3VuZHMsIHN0YXRlLmRpbWVuc2lvbnMpO1xuICB9XG4gIGVsLnNldEF0dHJpYnV0ZSgnY2dIYXNoJywgaGFzaCk7XG4gIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ3VzdG9tU3ZnKGN1c3RvbVN2Zzogc3RyaW5nLCBwb3M6IGNnLlBvcywgYm91bmRzOiBDbGllbnRSZWN0LCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogU1ZHRWxlbWVudCB7XG4gIGNvbnN0IFt4LCB5XSA9IHBvczJ1c2VyKHBvcywgYm91bmRzLCBiZCk7XG5cbiAgLy8gVHJhbnNsYXRlIHRvIHRvcC1sZWZ0IG9mIGBvcmlnYCBzcXVhcmVcbiAgY29uc3QgZyA9IHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnZycpLCB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3h9LCR7eX0pYCB9KTtcblxuICAvLyBHaXZlIDEwMHgxMDAgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gdGhlIHVzZXIgZm9yIGBvcmlnYCBzcXVhcmVcbiAgY29uc3Qgc3ZnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdzdmcnKSwgeyB3aWR0aDogMSwgaGVpZ2h0OiAxLCB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnIH0pO1xuXG4gIGcuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgc3ZnLmlubmVySFRNTCA9IGN1c3RvbVN2ZztcbiAgcmV0dXJuIGc7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNpcmNsZShcbiAgYnJ1c2g6IERyYXdCcnVzaCxcbiAgcG9zOiBjZy5Qb3MsXG4gIGN1cnJlbnQ6IGJvb2xlYW4sXG4gIGJvdW5kczogQ2xpZW50UmVjdCxcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9uc1xuKTogU1ZHRWxlbWVudCB7XG4gIGNvbnN0IG8gPSBwb3MydXNlcihwb3MsIGJvdW5kcywgYmQpLFxuICAgIHdpZHRocyA9IGNpcmNsZVdpZHRoKCksXG4gICAgcmFkaXVzID0gKGJvdW5kcy53aWR0aCArIGJvdW5kcy5oZWlnaHQpIC8gKDQgKiBNYXRoLm1heChib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpKTtcbiAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnY2lyY2xlJyksIHtcbiAgICBzdHJva2U6IGJydXNoLmNvbG9yLFxuICAgICdzdHJva2Utd2lkdGgnOiB3aWR0aHNbY3VycmVudCA/IDAgOiAxXSxcbiAgICBmaWxsOiAnbm9uZScsXG4gICAgb3BhY2l0eTogb3BhY2l0eShicnVzaCwgY3VycmVudCksXG4gICAgY3g6IG9bMF0sXG4gICAgY3k6IG9bMV0sXG4gICAgcjogcmFkaXVzIC0gd2lkdGhzWzFdIC8gMixcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckFycm93KFxuICBicnVzaDogRHJhd0JydXNoLFxuICBvcmlnOiBjZy5Qb3MsXG4gIGRlc3Q6IGNnLlBvcyxcbiAgY3VycmVudDogYm9vbGVhbixcbiAgc2hvcnRlbjogYm9vbGVhbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBTVkdFbGVtZW50IHtcbiAgY29uc3QgbSA9IGFycm93TWFyZ2luKHNob3J0ZW4gJiYgIWN1cnJlbnQpLFxuICAgIGEgPSBwb3MydXNlcihvcmlnLCBib3VuZHMsIGJkKSxcbiAgICBiID0gcG9zMnVzZXIoZGVzdCwgYm91bmRzLCBiZCksXG4gICAgZHggPSBiWzBdIC0gYVswXSxcbiAgICBkeSA9IGJbMV0gLSBhWzFdLFxuICAgIGFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpLFxuICAgIHhvID0gTWF0aC5jb3MoYW5nbGUpICogbSxcbiAgICB5byA9IE1hdGguc2luKGFuZ2xlKSAqIG07XG4gIHJldHVybiBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ2xpbmUnKSwge1xuICAgIHN0cm9rZTogYnJ1c2guY29sb3IsXG4gICAgJ3N0cm9rZS13aWR0aCc6IGxpbmVXaWR0aChicnVzaCwgY3VycmVudCksXG4gICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAnbWFya2VyLWVuZCc6ICd1cmwoI2Fycm93aGVhZC0nICsgYnJ1c2gua2V5ICsgJyknLFxuICAgIG9wYWNpdHk6IG9wYWNpdHkoYnJ1c2gsIGN1cnJlbnQpLFxuICAgIHgxOiBhWzBdLFxuICAgIHkxOiBhWzFdLFxuICAgIHgyOiBiWzBdIC0geG8sXG4gICAgeTI6IGJbMV0gLSB5byxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlck1hcmtlcihicnVzaDogRHJhd0JydXNoKTogU1ZHRWxlbWVudCB7XG4gIGNvbnN0IG1hcmtlciA9IHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnbWFya2VyJyksIHtcbiAgICBpZDogJ2Fycm93aGVhZC0nICsgYnJ1c2gua2V5LFxuICAgIG9yaWVudDogJ2F1dG8nLFxuICAgIG1hcmtlcldpZHRoOiA0LFxuICAgIG1hcmtlckhlaWdodDogOCxcbiAgICByZWZYOiAyLjA1LFxuICAgIHJlZlk6IDIuMDEsXG4gIH0pO1xuICBtYXJrZXIuYXBwZW5kQ2hpbGQoXG4gICAgc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdwYXRoJyksIHtcbiAgICAgIGQ6ICdNMCwwIFY0IEwzLDIgWicsXG4gICAgICBmaWxsOiBicnVzaC5jb2xvcixcbiAgICB9KVxuICApO1xuICBtYXJrZXIuc2V0QXR0cmlidXRlKCdjZ0tleScsIGJydXNoLmtleSk7XG4gIHJldHVybiBtYXJrZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsOiBTVkdFbGVtZW50LCBhdHRyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IFNWR0VsZW1lbnQge1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cnMsIGtleSkpIGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuICB9XG4gIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gb3JpZW50KHBvczogY2cuUG9zLCBjb2xvcjogY2cuQ29sb3IsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5Qb3Mge1xuICByZXR1cm4gY29sb3IgPT09ICd3aGl0ZScgPyBwb3MgOiBbYmQud2lkdGggLSAxIC0gcG9zWzBdLCBiZC5oZWlnaHQgLSAxIC0gcG9zWzFdXTtcbn1cblxuZnVuY3Rpb24gbWFrZUN1c3RvbUJydXNoKGJhc2U6IERyYXdCcnVzaCwgbW9kaWZpZXJzOiBEcmF3TW9kaWZpZXJzKTogRHJhd0JydXNoIHtcbiAgcmV0dXJuIHtcbiAgICBjb2xvcjogYmFzZS5jb2xvcixcbiAgICBvcGFjaXR5OiBNYXRoLnJvdW5kKGJhc2Uub3BhY2l0eSAqIDEwKSAvIDEwLFxuICAgIGxpbmVXaWR0aDogTWF0aC5yb3VuZChtb2RpZmllcnMubGluZVdpZHRoIHx8IGJhc2UubGluZVdpZHRoKSxcbiAgICBrZXk6IFtiYXNlLmtleSwgbW9kaWZpZXJzLmxpbmVXaWR0aF0uZmlsdGVyKHggPT4geCkuam9pbignJyksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNpcmNsZVdpZHRoKCk6IFtudW1iZXIsIG51bWJlcl0ge1xuICByZXR1cm4gWzMgLyA2NCwgNCAvIDY0XTtcbn1cblxuZnVuY3Rpb24gbGluZVdpZHRoKGJydXNoOiBEcmF3QnJ1c2gsIGN1cnJlbnQ6IGJvb2xlYW4pOiBudW1iZXIge1xuICByZXR1cm4gKChicnVzaC5saW5lV2lkdGggfHwgMTApICogKGN1cnJlbnQgPyAwLjg1IDogMSkpIC8gNjQ7XG59XG5cbmZ1bmN0aW9uIG9wYWNpdHkoYnJ1c2g6IERyYXdCcnVzaCwgY3VycmVudDogYm9vbGVhbik6IG51bWJlciB7XG4gIHJldHVybiAoYnJ1c2gub3BhY2l0eSB8fCAxKSAqIChjdXJyZW50ID8gMC45IDogMSk7XG59XG5cbmZ1bmN0aW9uIGFycm93TWFyZ2luKHNob3J0ZW46IGJvb2xlYW4pOiBudW1iZXIge1xuICByZXR1cm4gKHNob3J0ZW4gPyAyMCA6IDEwKSAvIDY0O1xufVxuXG5mdW5jdGlvbiBwb3MydXNlcihwb3M6IGNnLlBvcywgYm91bmRzOiBDbGllbnRSZWN0LCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuTnVtYmVyUGFpciB7XG4gIGNvbnN0IHhTY2FsZSA9IE1hdGgubWluKDEsIGJvdW5kcy53aWR0aCAvIGJvdW5kcy5oZWlnaHQpICogTWF0aC5tYXgoMSwgYmQuaGVpZ2h0IC8gYmQud2lkdGgpO1xuICBjb25zdCB5U2NhbGUgPSBNYXRoLm1pbigxLCBib3VuZHMuaGVpZ2h0IC8gYm91bmRzLndpZHRoKSAqIE1hdGgubWF4KDEsIGJkLndpZHRoIC8gYmQuaGVpZ2h0KTtcbiAgcmV0dXJuIFsocG9zWzBdIC0gKGJkLndpZHRoIC0gMSkgLyAyKSAqIHhTY2FsZSwgKChiZC5oZWlnaHQgLSAxKSAvIDIgLSBwb3NbMV0pICogeVNjYWxlXTtcbn1cbiIsICJpbXBvcnQgeyBIZWFkbGVzc1N0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQgeyBzZXRWaXNpYmxlLCBjcmVhdGVFbCwgaXNNaW5pQm9hcmQgfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgY29sb3JzLCBsZXR0ZXJzLCBFbGVtZW50cywgTm90YXRpb24gfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgYXMgY3JlYXRlU1ZHLCBzZXRBdHRyaWJ1dGVzIH0gZnJvbSAnLi9zdmcuanMnO1xuXG50eXBlIENvb3JkRm9ybWF0ID0ge1xuICBjb29yZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICBwb3NpdGlvbjogJ3RvcCcgfCAnYm90dG9tJyB8ICdzaWRlJztcbiAgZGlyZWN0aW9uOiAnZm9yd2FyZCcgfCAnYmFja3dhcmQnOyAvLyBcIkZvcndhcmRcIiBtZWFucyBib3R0b20gdG8gdG9wIC8gbGVmdCB0byByaWdodFxuICBub0JsYWNrUmV2ZXJzZT86IGJvb2xlYW47IC8vIERvbid0IHJldmVyc2UgdGhlIGRpcmVjdGlvbiBmb3IgYmxhY2sgb3JpZW50YXRpb25cbn07XG5cbi8vIE5lZWQgdG8gc3VwcG9ydCB1cCB0byAxNiByYW5rcyBvciBmaWxlc1xuLy8gU2luY2Ugc29tZSBjb3VudHJpZXMgbmV2ZXIgaGFkIHZhcmlhbnRzIHRoYXQgYmlnLCBzb21lIGxldHRlcnMgYW5kIG51bWJlcnMgaGVyZSBhcmUgdGhlb3JldGljYWxcbmNvbnN0IExFVFRFUl9FTkdMSVNIID0gbGV0dGVycztcbmNvbnN0IExFVFRFUl9USEFJID0gWydcdTBFMDEnLCAnXHUwRTAyJywgJ1x1MEUwNCcsICdcdTBFMDcnLCAnXHUwRTA4JywgJ1x1MEUwOScsICdcdTBFMEEnLCAnXHUwRTBEJywgJ1x1MEUxNScsICdcdTBFMTYnLCAnXHUwRTE3JywgJ1x1MEUxOScsICdcdTBFMUInLCAnXHUwRTFDJywgJ1x1MEUxRScsICdcdTBFMjEnXSBhcyBjb25zdDtcbmNvbnN0IE5VTUJFUl9BUkFCSUMgPSBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzEwJywgJzExJywgJzEyJywgJzEzJywgJzE0JywgJzE1JywgJzE2J10gYXMgY29uc3Q7XG5jb25zdCBOVU1CRVJfSkFOR0dJID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2J10gYXMgY29uc3Q7XG5jb25zdCBOVU1CRVJfSEFOWkkgPSBbXG4gICdcdTRFMDAnLFxuICAnXHU0RThDJyxcbiAgJ1x1NEUwOScsXG4gICdcdTU2REInLFxuICAnXHU0RTk0JyxcbiAgJ1x1NTE2RCcsXG4gICdcdTRFMDMnLFxuICAnXHU1MTZCJyxcbiAgJ1x1NEU1RCcsXG4gICdcdTUzNDEnLFxuICAnXHU1MzQxXHU0RTAwJyxcbiAgJ1x1NTM0MVx1NEU4QycsXG4gICdcdTUzNDFcdTRFMDknLFxuICAnXHU1MzQxXHU1NkRCJyxcbiAgJ1x1NTM0MVx1NEU5NCcsXG4gICdcdTUzNDFcdTUxNkQnLFxuXSBhcyBjb25zdDtcbmNvbnN0IE5VTUJFUl9USEFJID0gWydcdTBFNTEnLCAnXHUwRTUyJywgJ1x1MEU1MycsICdcdTBFNTQnLCAnXHUwRTU1JywgJ1x1MEU1NicsICdcdTBFNTcnLCAnXHUwRTU4JywgJ1x1MEU1OScsICdcdTBFNTFcdTBFNTAnLCAnXHUwRTUxXHUwRTUxJywgJ1x1MEU1MVx1MEU1MicsICdcdTBFNTFcdTBFNTMnLCAnXHUwRTUxXHUwRTU0JywgJ1x1MEU1MVx1MEU1NScsICdcdTBFNTFcdTBFNTYnXSBhcyBjb25zdDtcblxuY29uc3QgY29vcmRGb3JtYXQ6IFJlY29yZDxOb3RhdGlvbiwgQ29vcmRGb3JtYXRbXT4gPSB7XG4gIFtOb3RhdGlvbi5BTEdFQlJBSUNdOiBbXG4gICAge1xuICAgICAgY29vcmRzOiBMRVRURVJfRU5HTElTSCxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgIH0sXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICdzaWRlJyxcbiAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgIH0sXG4gIF0sXG5cbiAgW05vdGF0aW9uLlNIT0dJX0VOR0xFVF06IFtcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICBkaXJlY3Rpb246ICdiYWNrd2FyZCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBjb29yZHM6IExFVFRFUl9FTkdMSVNILFxuICAgICAgcG9zaXRpb246ICdzaWRlJyxcbiAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJyxcbiAgICB9LFxuICBdLFxuXG4gIFtOb3RhdGlvbi5TSE9HSV9BUkJOVU1dOiBbXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgIH0sXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICdzaWRlJyxcbiAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJyxcbiAgICB9LFxuICBdLFxuXG4gIFtOb3RhdGlvbi5TSE9HSV9IQU5OVU1dOiBbXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgIH0sXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfSEFOWkksXG4gICAgICBwb3NpdGlvbjogJ3NpZGUnLFxuICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgIH0sXG4gIF0sXG5cbiAgW05vdGF0aW9uLkpBTkdHSV06IFtcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9BUkFCSUMsXG4gICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICBkaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX0pBTkdHSSxcbiAgICAgIHBvc2l0aW9uOiAnc2lkZScsXG4gICAgICBkaXJlY3Rpb246ICdiYWNrd2FyZCcsXG4gICAgfSxcbiAgXSxcblxuICBbTm90YXRpb24uWElBTkdRSV9BUkJOVU1dOiBbXG4gICAge1xuICAgICAgY29vcmRzOiBOVU1CRVJfQVJBQklDLFxuICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgZGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgICBub0JsYWNrUmV2ZXJzZTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX0FSQUJJQyxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJyxcbiAgICAgIG5vQmxhY2tSZXZlcnNlOiB0cnVlLFxuICAgIH0sXG4gIF0sXG5cbiAgW05vdGF0aW9uLlhJQU5HUUlfSEFOTlVNXTogW1xuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX0FSQUJJQyxcbiAgICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgICAgbm9CbGFja1JldmVyc2U6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBjb29yZHM6IE5VTUJFUl9IQU5aSSxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJyxcbiAgICAgIG5vQmxhY2tSZXZlcnNlOiB0cnVlLFxuICAgIH0sXG4gIF0sXG5cbiAgW05vdGF0aW9uLlRIQUlfQUxHRUJSQUlDXTogW1xuICAgIHtcbiAgICAgIGNvb3JkczogTEVUVEVSX1RIQUksXG4gICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICBkaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvb3JkczogTlVNQkVSX1RIQUksXG4gICAgICBwb3NpdGlvbjogJ3NpZGUnLFxuICAgICAgZGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgfSxcbiAgXSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJXcmFwKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzOiBIZWFkbGVzc1N0YXRlKTogRWxlbWVudHMge1xuICAvLyAuY2ctd3JhcCAoZWxlbWVudCBwYXNzZWQgdG8gQ2hlc3Nncm91bmQpXG4gIC8vICAgY2ctY29udGFpbmVyXG4gIC8vICAgICBjZy1ib2FyZFxuICAvLyAgICAgc3ZnLmNnLXNoYXBlc1xuICAvLyAgICAgICBkZWZzXG4gIC8vICAgICAgIGdcbiAgLy8gICAgIHN2Zy5jZy1jdXN0b20tc3Znc1xuICAvLyAgICAgICBnXG4gIC8vICAgICBjZy1hdXRvLXBpZWNlc1xuICAvLyAgICAgY29vcmRzLnJhbmtzXG4gIC8vICAgICBjb29yZHMuZmlsZXNcbiAgLy8gICAgIHBpZWNlLmdob3N0XG5cbiAgZWxlbWVudC5pbm5lckhUTUwgPSAnJztcblxuICAvLyBlbnN1cmUgdGhlIGNnLXdyYXAgY2xhc3MgaXMgc2V0XG4gIC8vIHNvIGJvdW5kcyBjYWxjdWxhdGlvbiBjYW4gdXNlIHRoZSBDU1Mgd2lkdGgvaGVpZ2h0IHZhbHVlc1xuICAvLyBhZGQgdGhhdCBjbGFzcyB5b3Vyc2VsZiB0byB0aGUgZWxlbWVudCBiZWZvcmUgY2FsbGluZyBjaGVzc2dyb3VuZFxuICAvLyBmb3IgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQhIChhdm9pZHMgcmVjb21wdXRpbmcgc3R5bGUpXG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2ctd3JhcCcpO1xuXG4gIGZvciAoY29uc3QgYyBvZiBjb2xvcnMpIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnb3JpZW50YXRpb24tJyArIGMsIHMub3JpZW50YXRpb24gPT09IGMpO1xuICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ21hbmlwdWxhYmxlJywgIXMudmlld09ubHkpO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZUVsKCdjZy1jb250YWluZXInKTtcbiAgZWxlbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gIGNvbnN0IGV4dGVuc2lvbiA9IGNyZWF0ZUVsKCdleHRlbnNpb24nKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGV4dGVuc2lvbik7XG4gIGNvbnN0IGJvYXJkID0gY3JlYXRlRWwoJ2NnLWJvYXJkJyk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZCk7XG5cbiAgbGV0IHBvY2tldEJvdHRvbSwgcG9ja2V0VG9wO1xuICBpZiAoaXNNaW5pQm9hcmQoZWxlbWVudCkpIHtcbiAgICBpZiAocy5ib2FyZFN0YXRlLnBvY2tldHMpIHtcbiAgICAgIHBvY2tldEJvdHRvbSA9IGNyZWF0ZUVsKCdwb2NrZXRCb3R0b20nKTtcbiAgICAgIHBvY2tldFRvcCA9IGNyZWF0ZUVsKCdwb2NrZXRUb3AnKTtcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUocy5vcmllbnRhdGlvbiA9PT0gJ3doaXRlJyA/IHBvY2tldFRvcCA6IHBvY2tldEJvdHRvbSwgYm9hcmQpO1xuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzLm9yaWVudGF0aW9uID09PSAnd2hpdGUnID8gcG9ja2V0Qm90dG9tIDogcG9ja2V0VG9wLCBib2FyZC5uZXh0U2libGluZyk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHN2ZzogU1ZHRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgbGV0IGN1c3RvbVN2ZzogU1ZHRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgbGV0IGF1dG9QaWVjZXM6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xuXG4gIGlmIChzLmRyYXdhYmxlLnZpc2libGUpIHtcbiAgICBjb25zdCB3aWR0aCA9IHMuZGltZW5zaW9ucy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBzLmRpbWVuc2lvbnMuaGVpZ2h0O1xuICAgIHN2ZyA9IHNldEF0dHJpYnV0ZXMoY3JlYXRlU1ZHKCdzdmcnKSwge1xuICAgICAgY2xhc3M6ICdjZy1zaGFwZXMnLFxuICAgICAgdmlld0JveDogYCR7LXdpZHRoIC8gMn0gJHstaGVpZ2h0IC8gMn0gJHt3aWR0aH0gJHtoZWlnaHR9YCxcbiAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICd4TWlkWU1pZCBzbGljZScsXG4gICAgfSk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKGNyZWF0ZVNWRygnZGVmcycpKTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQoY3JlYXRlU1ZHKCdnJykpO1xuXG4gICAgY3VzdG9tU3ZnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVTVkcoJ3N2ZycpLCB7XG4gICAgICBjbGFzczogJ2NnLWN1c3RvbS1zdmdzJyxcbiAgICAgIHZpZXdCb3g6IGAkey0od2lkdGggLSAxKSAvIDJ9ICR7LShoZWlnaHQgLSAxKSAvIDJ9ICR7d2lkdGh9ICR7aGVpZ2h0fWAsXG4gICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAneE1pZFlNaWQgc2xpY2UnLFxuICAgIH0pO1xuICAgIGN1c3RvbVN2Zy5hcHBlbmRDaGlsZChjcmVhdGVTVkcoJ2cnKSk7XG5cbiAgICBhdXRvUGllY2VzID0gY3JlYXRlRWwoJ2NnLWF1dG8tcGllY2VzJyk7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3VzdG9tU3ZnKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXV0b1BpZWNlcyk7XG4gIH1cblxuICBpZiAocy5jb29yZGluYXRlcykge1xuICAgIGNvb3JkRm9ybWF0W3Mubm90YXRpb25dLmZvckVhY2goZiA9PiB7XG4gICAgICBjb25zdCBtYXggPSBmLnBvc2l0aW9uID09PSAnc2lkZScgPyBzLmRpbWVuc2lvbnMuaGVpZ2h0IDogcy5kaW1lbnNpb25zLndpZHRoO1xuICAgICAgY29uc3QgcG9zID0gZi5wb3NpdGlvbjsgLy8gVE9ETyBwb3MgPSBmLnBvc2l0aW9uID09PSAnc2lkZScgPyBzLnJhbmtzUG9zaXRpb24gOiBmLnBvc2l0aW9uO1xuICAgICAgY29uc3QgY29vcmRzID0gZi5jb29yZHMuc2xpY2UoMCwgbWF4KTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICAgICAgcmVuZGVyQ29vcmRzKGNvb3JkcywgYCR7cG9zfSAke2YuZGlyZWN0aW9ufSR7Zi5ub0JsYWNrUmV2ZXJzZSA/ICcnIDogJyAnICsgcy5vcmllbnRhdGlvbn1gKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBnaG9zdDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIGlmIChzLmRyYWdnYWJsZS5lbmFibGVkICYmIHMuZHJhZ2dhYmxlLnNob3dHaG9zdCkge1xuICAgIGdob3N0ID0gY3JlYXRlRWwoJ3BpZWNlJywgJ2dob3N0Jyk7XG4gICAgc2V0VmlzaWJsZShnaG9zdCwgZmFsc2UpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChnaG9zdCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvY2tldFRvcCxcbiAgICBwb2NrZXRCb3R0b20sXG4gICAgYm9hcmQsXG4gICAgY29udGFpbmVyLFxuICAgIHdyYXA6IGVsZW1lbnQsXG4gICAgZ2hvc3QsXG4gICAgc3ZnLFxuICAgIGN1c3RvbVN2ZyxcbiAgICBhdXRvUGllY2VzLFxuICB9O1xufVxuXG5mdW5jdGlvbiByZW5kZXJDb29yZHMoZWxlbXM6IHJlYWRvbmx5IHN0cmluZ1tdLCBjbGFzc05hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgY29uc3QgZWwgPSBjcmVhdGVFbCgnY29vcmRzJywgY2xhc3NOYW1lKTtcbiAgbGV0IGY6IEhUTUxFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW0gb2YgZWxlbXMpIHtcbiAgICBmID0gY3JlYXRlRWwoJ2Nvb3JkJyk7XG4gICAgZi50ZXh0Q29udGVudCA9IGVsZW07XG4gICAgZWwuYXBwZW5kQ2hpbGQoZik7XG4gIH1cbiAgcmV0dXJuIGVsO1xufVxuIiwgImltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0ICogYXMgYm9hcmQgZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyBjbGVhciBhcyBkcmF3Q2xlYXIgfSBmcm9tICcuL2RyYXcuanMnO1xuaW1wb3J0IHsgZHJhZ05ld1BpZWNlIH0gZnJvbSAnLi9kcmFnLmpzJztcbmltcG9ydCB7IEhlYWRsZXNzU3RhdGUsIFN0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJQb2NrZXRzSW5pdGlhbChcbiAgc3RhdGU6IEhlYWRsZXNzU3RhdGUsXG4gIGVsZW1lbnRzOiBjZy5FbGVtZW50cyxcbiAgcG9ja2V0VG9wPzogSFRNTEVsZW1lbnQsXG4gIHBvY2tldEJvdHRvbT86IEhUTUxFbGVtZW50XG4pOiB2b2lkIHtcbiAgaWYgKHBvY2tldFRvcCkge1xuICAgIHBvY2tldFRvcC5pbm5lckhUTUwgPSAnJztcbiAgICBlbGVtZW50cy5wb2NrZXRUb3AgPSBwb2NrZXRUb3A7XG4gICAgcG9ja2V0VmlldyhzdGF0ZSwgZWxlbWVudHMucG9ja2V0VG9wLCAndG9wJyk7XG4gIH1cbiAgaWYgKHBvY2tldEJvdHRvbSkge1xuICAgIHBvY2tldEJvdHRvbS5pbm5lckhUTUwgPSAnJztcbiAgICBlbGVtZW50cy5wb2NrZXRCb3R0b20gPSBwb2NrZXRCb3R0b207XG4gICAgcG9ja2V0VmlldyhzdGF0ZSwgZWxlbWVudHMucG9ja2V0Qm90dG9tLCAnYm90dG9tJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9ja2V0VmlldyhzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcG9ja2V0RWw6IEhUTUxFbGVtZW50LCBwb3NpdGlvbjogY2cuUG9ja2V0UG9zaXRpb24pOiB2b2lkIHtcbiAgaWYgKCFzdGF0ZS5wb2NrZXRSb2xlcykgcmV0dXJuO1xuICBjb25zdCBjb2xvciA9IHBvc2l0aW9uID09PSAndG9wJyA/IHV0aWwub3Bwb3NpdGUoc3RhdGUub3JpZW50YXRpb24pIDogc3RhdGUub3JpZW50YXRpb247XG4gIGNvbnN0IHJvbGVzID0gc3RhdGUucG9ja2V0Um9sZXNbY29sb3JdO1xuICBjb25zdCBwbCA9IFN0cmluZyhyb2xlcy5sZW5ndGgpO1xuICBjb25zdCBmaWxlcyA9IFN0cmluZyhzdGF0ZS5kaW1lbnNpb25zLndpZHRoKTtcbiAgY29uc3QgcmFua3MgPSBTdHJpbmcoc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQpO1xuICBwb2NrZXRFbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYC0tcG9ja2V0TGVuZ3RoOiAke3BsfTsgLS1maWxlczogJHtmaWxlc307IC0tcmFua3M6ICR7cmFua3N9YCk7XG4gIHBvY2tldEVsLmNsYXNzTGlzdC5hZGQoJ3BvY2tldCcsIHBvc2l0aW9uKTtcbiAgcm9sZXMuZm9yRWFjaChyb2xlID0+IHtcbiAgICBjb25zdCBwaWVjZU5hbWUgPSB1dGlsLnBpZWNlQ2xhc3Nlcyh7IHJvbGU6IHJvbGUsIGNvbG9yOiBjb2xvciB9LCBzdGF0ZS5vcmllbnRhdGlvbik7XG4gICAgY29uc3Qgc3EgPSB1dGlsLmNyZWF0ZUVsKCdzcXVhcmUnKTtcbiAgICBjb25zdCBwID0gdXRpbC5jcmVhdGVFbCgncGllY2UnLCBwaWVjZU5hbWUpO1xuICAgIHNxLmFwcGVuZENoaWxkKHApO1xuICAgIHAuc2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJywgY29sb3IpO1xuICAgIHAuc2V0QXR0cmlidXRlKCdkYXRhLXJvbGUnLCByb2xlKTtcbiAgICByZW5kZXJQaWVjZShzdGF0ZSwgc3EpO1xuICAgIHBvY2tldEVsLmFwcGVuZENoaWxkKHNxKTtcbiAgfSk7XG59XG5cbi8qKlxuICogdXBkYXRlcyBlYWNoIHBpZWNlIGVsZW1lbnQgYXR0cmlidXRlcyBiYXNlZCBvbiBzdGF0ZVxuICogKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJQb2NrZXRzKHN0YXRlOiBTdGF0ZSk6IHZvaWQge1xuICByZW5kZXJQb2NrZXQoc3RhdGUsIHN0YXRlLmRvbS5lbGVtZW50cy5wb2NrZXRCb3R0b20pO1xuICByZW5kZXJQb2NrZXQoc3RhdGUsIHN0YXRlLmRvbS5lbGVtZW50cy5wb2NrZXRUb3ApO1xufVxuXG5mdW5jdGlvbiByZW5kZXJQb2NrZXQoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIHBvY2tldEVsPzogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgaWYgKHBvY2tldEVsKSB7XG4gICAgbGV0IHNxID0gcG9ja2V0RWwuZmlyc3RDaGlsZDtcbiAgICBpZiAoc3EgJiYgc3EuZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3QgY29sb3IgPSAoc3EuZmlyc3RDaGlsZCBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJyk7XG4gICAgICBwb2NrZXRFbC5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICAgICAndXNhYmxlJyxcbiAgICAgICAgIXN0YXRlLnZpZXdPbmx5ICYmXG4gICAgICAgICAgKHN0YXRlLm1vdmFibGUuZnJlZSB8fCBzdGF0ZS5tb3ZhYmxlLmNvbG9yID09PSAnYm90aCcgfHwgKCEhY29sb3IgJiYgc3RhdGUubW92YWJsZS5jb2xvciA9PT0gY29sb3IpKVxuICAgICAgKTtcbiAgICAgIHdoaWxlIChzcSkge1xuICAgICAgICByZW5kZXJQaWVjZShzdGF0ZSwgc3EgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICBzcSA9IHNxLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJQaWVjZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgc3E6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGNvbnN0IHAgPSBzcS5maXJzdENoaWxkIGFzIGNnLlBpZWNlTm9kZTtcbiAgY29uc3Qgcm9sZSA9IHAuZ2V0QXR0cmlidXRlKCdkYXRhLXJvbGUnKSBhcyBjZy5Sb2xlO1xuICBjb25zdCBjb2xvciA9IHAuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJykgYXMgY2cuQ29sb3I7XG4gIHAuc2V0QXR0cmlidXRlKCdkYXRhLW5iJywgJycgKyAoc3RhdGUuYm9hcmRTdGF0ZS5wb2NrZXRzIVtjb2xvcl0uZ2V0KHJvbGUpID8/IDApKTtcbiAgY29uc3QgcGllY2UgPSB7IHJvbGUsIGNvbG9yIH07XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPSBzdGF0ZS5zZWxlY3RhYmxlLnNlbGVjdGVkO1xuICBzcS5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICdzZWxlY3RlZC1zcXVhcmUnLFxuICAgICEhc2VsZWN0ZWQgJiYgdXRpbC5pc1BpZWNlKHNlbGVjdGVkKSAmJiBzdGF0ZS5zZWxlY3RhYmxlLmZyb21Qb2NrZXQgJiYgdXRpbC5zYW1lUGllY2Uoc2VsZWN0ZWQsIHBpZWNlKVxuICApO1xuXG4gIGNvbnN0IHByZW1vdmVPcmlnID0gc3RhdGUucHJlbW92YWJsZS5jdXJyZW50Py5bMF07XG4gIHNxLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgJ3ByZW1vdmUnLFxuICAgICEhcHJlbW92ZU9yaWcgJiYgdXRpbC5pc0Ryb3BPcmlnKHByZW1vdmVPcmlnKSAmJiB1dGlsLnJvbGVPZihwcmVtb3ZlT3JpZykgPT09IHJvbGUgJiYgc3RhdGUudHVybkNvbG9yICE9PSBjb2xvclxuICApO1xuXG4gIHNxLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgJ2xhc3QtbW92ZScsXG4gICAgc3RhdGUuaGlnaGxpZ2h0Lmxhc3RNb3ZlICYmICEhc3RhdGUubGFzdE1vdmU/LmluY2x1ZGVzKHV0aWwuZHJvcE9yaWdPZihyb2xlKSkgJiYgc3RhdGUudHVybkNvbG9yICE9PSBjb2xvclxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZyhzOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICBpZiAoIWUuaXNUcnVzdGVkIHx8IChlLmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9uICE9PSAwKSkgcmV0dXJuOyAvLyBvbmx5IHRvdWNoIG9yIGxlZnQgY2xpY2tcbiAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuOyAvLyBzdXBwb3J0IG9uZSBmaW5nZXIgdG91Y2ggb25seVxuICBjb25zdCBlbCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50LFxuICAgIHJvbGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm9sZScpIGFzIGNnLlJvbGUsXG4gICAgY29sb3IgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKSBhcyBjZy5Db2xvcixcbiAgICBuID0gTnVtYmVyKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1uYicpKTtcbiAgaWYgKG4gPT09IDApIHJldHVybjtcbiAgY29uc3QgcGllY2UgPSB7IHJvbGUsIGNvbG9yIH07XG4gIGNvbnN0IHByZXZpb3VzbHlTZWxlY3RlZCA9IHMuc2VsZWN0YWJsZS5zZWxlY3RlZDtcbiAgaWYgKCFwcmV2aW91c2x5U2VsZWN0ZWQgJiYgcy5kcmF3YWJsZS5lbmFibGVkICYmIChzLmRyYXdhYmxlLmVyYXNlT25DbGljayB8fCBwaWVjZS5jb2xvciAhPT0gcy50dXJuQ29sb3IpKVxuICAgIGRyYXdDbGVhcihzKTtcbiAgLy8gUHJldmVudCB0b3VjaCBzY3JvbGwgYW5kIGNyZWF0ZSBubyBjb3JyZXNwb25kaW5nIG1vdXNlIGV2ZW50XG4gIGlmIChlLmNhbmNlbGFibGUgIT09IGZhbHNlKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGhhZFByZW1vdmUgPSAhIXMucHJlbW92YWJsZS5jdXJyZW50O1xuICBzLnN0YXRzLmN0cmxLZXkgPSBlLmN0cmxLZXk7XG4gIGJvYXJkLnNlbGVjdChzLCBwaWVjZSk7XG4gIGNvbnN0IHNlbGVjdGVkID0gcy5zZWxlY3RhYmxlLnNlbGVjdGVkO1xuICBjb25zdCBzdGlsbFNlbGVjdGVkID0gc2VsZWN0ZWQgJiYgdXRpbC5pc1NhbWUoc2VsZWN0ZWQsIHBpZWNlKTtcbiAgaWYgKHN0aWxsU2VsZWN0ZWQgJiYgYm9hcmQuaXNEcmFnZ2FibGUocywgcGllY2UsIHRydWUpKSB7XG4gICAgZHJhZ05ld1BpZWNlKHMsIHBpZWNlLCB0cnVlLCBlLCBwcmV2aW91c2x5U2VsZWN0ZWQpO1xuICB9IGVsc2Uge1xuICAgIGlmIChoYWRQcmVtb3ZlKSBib2FyZC51bnNldFByZW1vdmUocyk7XG4gIH1cbiAgcy5kb20ucmVkcmF3KCk7XG59XG4iLCAiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCAqIGFzIGRyYWcgZnJvbSAnLi9kcmFnLmpzJztcbmltcG9ydCAqIGFzIGRyYXcgZnJvbSAnLi9kcmF3LmpzJztcbmltcG9ydCAqIGFzIHBvY2tldCBmcm9tICcuL3BvY2tldC5qcyc7XG5pbXBvcnQgeyBpc1JpZ2h0QnV0dG9uIH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG50eXBlIE1vdWNoQmluZCA9IChlOiBjZy5Nb3VjaEV2ZW50KSA9PiB2b2lkO1xudHlwZSBTdGF0ZU1vdWNoQmluZCA9IChkOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCkgPT4gdm9pZDtcblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRCb2FyZChzOiBTdGF0ZSwgb25SZXNpemU6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgY29uc3QgYm9hcmRFbCA9IHMuZG9tLmVsZW1lbnRzLmJvYXJkO1xuXG4gIGlmICgnUmVzaXplT2JzZXJ2ZXInIGluIHdpbmRvdykgbmV3IFJlc2l6ZU9ic2VydmVyKG9uUmVzaXplKS5vYnNlcnZlKHMuZG9tLmVsZW1lbnRzLndyYXApO1xuXG4gIGlmIChzLnZpZXdPbmx5KSByZXR1cm47XG5cbiAgLy8gQ2Fubm90IGJlIHBhc3NpdmUsIGJlY2F1c2Ugd2UgcHJldmVudCB0b3VjaCBzY3JvbGxpbmcgYW5kIGRyYWdnaW5nIG9mXG4gIC8vIHNlbGVjdGVkIGVsZW1lbnRzLlxuICBjb25zdCBvblN0YXJ0ID0gc3RhcnREcmFnT3JEcmF3KHMpO1xuICBib2FyZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblN0YXJ0IGFzIEV2ZW50TGlzdGVuZXIsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgfSk7XG4gIGJvYXJkRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25TdGFydCBhcyBFdmVudExpc3RlbmVyLCB7XG4gICAgcGFzc2l2ZTogZmFsc2UsXG4gIH0pO1xuXG4gIGlmIChzLmRpc2FibGVDb250ZXh0TWVudSB8fCBzLmRyYXdhYmxlLmVuYWJsZWQpIHtcbiAgICBib2FyZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICB9XG59XG5cbi8vIHJldHVybnMgdGhlIHVuYmluZCBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmREb2N1bWVudChzOiBTdGF0ZSwgb25SZXNpemU6ICgpID0+IHZvaWQpOiBjZy5VbmJpbmQge1xuICBjb25zdCB1bmJpbmRzOiBjZy5VbmJpbmRbXSA9IFtdO1xuXG4gIC8vIE9sZCB2ZXJzaW9ucyBvZiBFZGdlIGFuZCBTYWZhcmkgZG8gbm90IHN1cHBvcnQgUmVzaXplT2JzZXJ2ZXIuIFNlbmRcbiAgLy8gY2hlc3Nncm91bmQucmVzaXplIGlmIGEgdXNlciBhY3Rpb24gaGFzIGNoYW5nZWQgdGhlIGJvdW5kcyBvZiB0aGUgYm9hcmQuXG4gIGlmICghKCdSZXNpemVPYnNlcnZlcicgaW4gd2luZG93KSkgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZG9jdW1lbnQuYm9keSwgJ2NoZXNzZ3JvdW5kLnJlc2l6ZScsIG9uUmVzaXplKSk7XG5cbiAgaWYgKCFzLnZpZXdPbmx5KSB7XG4gICAgY29uc3Qgb25tb3ZlID0gZHJhZ09yRHJhdyhzLCBkcmFnLm1vdmUsIGRyYXcubW92ZSk7XG4gICAgY29uc3Qgb25lbmQgPSBkcmFnT3JEcmF3KHMsIGRyYWcuZW5kLCBkcmF3LmVuZCk7XG5cbiAgICBmb3IgKGNvbnN0IGV2IG9mIFsndG91Y2htb3ZlJywgJ21vdXNlbW92ZSddKSB1bmJpbmRzLnB1c2godW5iaW5kYWJsZShkb2N1bWVudCwgZXYsIG9ubW92ZSBhcyBFdmVudExpc3RlbmVyKSk7XG4gICAgZm9yIChjb25zdCBldiBvZiBbJ3RvdWNoZW5kJywgJ21vdXNldXAnXSkgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZG9jdW1lbnQsIGV2LCBvbmVuZCBhcyBFdmVudExpc3RlbmVyKSk7XG5cbiAgICBjb25zdCBvblNjcm9sbCA9ICgpID0+IHMuZG9tLmJvdW5kcy5jbGVhcigpO1xuICAgIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGRvY3VtZW50LCAnc2Nyb2xsJywgb25TY3JvbGwsIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KSk7XG4gICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUod2luZG93LCAncmVzaXplJywgb25TY3JvbGwsIHsgcGFzc2l2ZTogdHJ1ZSB9KSk7XG5cbiAgICBjb25zdCBwb2NrZXRUb3AgPSBzLmRvbS5lbGVtZW50cy5wb2NrZXRUb3A7XG4gICAgY29uc3QgcG9ja2V0Qm90dG9tID0gcy5kb20uZWxlbWVudHMucG9ja2V0Qm90dG9tO1xuICAgIGNvbnN0IHBvY2tldFN0YXJ0ID0gc3RhcnREcmFnT3JEcmF3UG9ja2V0KHMpO1xuICAgIFtwb2NrZXRUb3AsIHBvY2tldEJvdHRvbV0uZm9yRWFjaChlbCA9PiB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgZm9yIChjb25zdCBldiBvZiBbJ3RvdWNoc3RhcnQnLCAnbW91c2Vkb3duJ10pIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGVsLCBldiwgcG9ja2V0U3RhcnQgYXMgRXZlbnRMaXN0ZW5lcikpO1xuICAgICAgICBpZiAocy5kaXNhYmxlQ29udGV4dE1lbnUgfHwgcy5kcmF3YWJsZS5lbmFibGVkKVxuICAgICAgICAgIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGVsLCAnY29udGV4dG1lbnUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHVuYmluZHMuZm9yRWFjaChmID0+IGYoKSk7XG59XG5cbmZ1bmN0aW9uIHVuYmluZGFibGUoXG4gIGVsOiBFdmVudFRhcmdldCxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIGNhbGxiYWNrOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnNcbik6IGNnLlVuYmluZCB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gIHJldHVybiAoKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuXG5jb25zdCBzdGFydERyYWdPckRyYXcgPVxuICAoczogU3RhdGUpOiBNb3VjaEJpbmQgPT5cbiAgZSA9PiB7XG4gICAgaWYgKHMuZHJhZ2dhYmxlLmN1cnJlbnQpIGRyYWcuY2FuY2VsKHMpO1xuICAgIGVsc2UgaWYgKHMuZHJhd2FibGUuY3VycmVudCkgZHJhdy5jYW5jZWwocyk7XG4gICAgZWxzZSBpZiAoZS5zaGlmdEtleSB8fCBpc1JpZ2h0QnV0dG9uKGUpKSB7XG4gICAgICBpZiAocy5kcmF3YWJsZS5lbmFibGVkKSBkcmF3LnN0YXJ0KHMsIGUpO1xuICAgIH0gZWxzZSBpZiAoIXMudmlld09ubHkpIHtcbiAgICAgIGRyYWcuc3RhcnQocywgZSk7XG4gICAgfVxuICB9O1xuXG5jb25zdCBzdGFydERyYWdPckRyYXdQb2NrZXQgPVxuICAoczogU3RhdGUpOiBNb3VjaEJpbmQgPT5cbiAgZSA9PiB7XG4gICAgaWYgKHMuZHJhZ2dhYmxlLmN1cnJlbnQpIGRyYWcuY2FuY2VsKHMpO1xuICAgIGVsc2UgaWYgKHMuZHJhd2FibGUuY3VycmVudCkgZHJhdy5jYW5jZWwocyk7XG4gICAgZWxzZSBpZiAoZS5zaGlmdEtleSB8fCBpc1JpZ2h0QnV0dG9uKGUpKSB7XG4gICAgICBpZiAocy5kcmF3YWJsZS5lbmFibGVkKSBkcmF3LnN0YXJ0KHMsIGUpO1xuICAgIH0gZWxzZSBpZiAoIXMudmlld09ubHkpIHtcbiAgICAgIHBvY2tldC5kcmFnKHMsIGUpO1xuICAgIH1cbiAgfTtcblxuY29uc3QgZHJhZ09yRHJhdyA9XG4gIChzOiBTdGF0ZSwgd2l0aERyYWc6IFN0YXRlTW91Y2hCaW5kLCB3aXRoRHJhdzogU3RhdGVNb3VjaEJpbmQpOiBNb3VjaEJpbmQgPT5cbiAgZSA9PiB7XG4gICAgaWYgKHMuZHJhd2FibGUuY3VycmVudCkge1xuICAgICAgaWYgKHMuZHJhd2FibGUuZW5hYmxlZCkgd2l0aERyYXcocywgZSk7XG4gICAgfSBlbHNlIGlmICghcy52aWV3T25seSkgd2l0aERyYWcocywgZSk7XG4gIH07XG4iLCAiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlLmpzJztcbmltcG9ydCB7XG4gIGtleTJwb3MsXG4gIHBpZWNlQ2xhc3NlcyBhcyBwaWVjZU5hbWVPZixcbiAgY3JlYXRlRWwsXG4gIHBvc1RvVHJhbnNsYXRlIGFzIHBvc1RvVHJhbnNsYXRlRnJvbUJvdW5kcyxcbiAgdHJhbnNsYXRlLFxuICBkcm9wT3JpZ09mLFxuICBpc0tleSxcbn0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IHdoaXRlUG92IH0gZnJvbSAnLi9ib2FyZC5qcyc7XG5pbXBvcnQgeyBBbmltQ3VycmVudCwgQW5pbVZlY3RvcnMsIEFuaW1WZWN0b3IsIEFuaW1GYWRpbmdzIH0gZnJvbSAnLi9hbmltLmpzJztcbmltcG9ydCB7IERyYWdDdXJyZW50IH0gZnJvbSAnLi9kcmFnLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuXG50eXBlIFBpZWNlTmFtZSA9IHN0cmluZzsgLy8gYCRjb2xvciAkcm9sZWBcblxudHlwZSBTcXVhcmVDbGFzc2VzID0gTWFwPGNnLktleSwgc3RyaW5nPjtcblxuLy8gcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2xpY2hlc3Mtb3JnL2xpY2hvYmlsZS9ibG9iL21hc3Rlci9zcmMvY2hlc3Nncm91bmQvcmVuZGVyLnRzXG4vLyBpbiBjYXNlIG9mIGJ1Z3MsIGJsYW1lIEB2ZWxvY2VcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoczogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgYXNXaGl0ZTogYm9vbGVhbiA9IHdoaXRlUG92KHMpLFxuICAgIHBvc1RvVHJhbnNsYXRlID0gcG9zVG9UcmFuc2xhdGVGcm9tQm91bmRzKHMuZG9tLmJvdW5kcygpLCBzLmRpbWVuc2lvbnMpLFxuICAgIGJvYXJkRWw6IEhUTUxFbGVtZW50ID0gcy5kb20uZWxlbWVudHMuYm9hcmQsXG4gICAgcGllY2VzOiBjZy5QaWVjZXMgPSBzLmJvYXJkU3RhdGUucGllY2VzLFxuICAgIGN1ckFuaW06IEFuaW1DdXJyZW50IHwgdW5kZWZpbmVkID0gcy5hbmltYXRpb24uY3VycmVudCxcbiAgICBhbmltczogQW5pbVZlY3RvcnMgPSBjdXJBbmltID8gY3VyQW5pbS5wbGFuLmFuaW1zIDogbmV3IE1hcCgpLFxuICAgIGZhZGluZ3M6IEFuaW1GYWRpbmdzID0gY3VyQW5pbSA/IGN1ckFuaW0ucGxhbi5mYWRpbmdzIDogbmV3IE1hcCgpLFxuICAgIGN1ckRyYWc6IERyYWdDdXJyZW50IHwgdW5kZWZpbmVkID0gcy5kcmFnZ2FibGUuY3VycmVudCxcbiAgICBzcXVhcmVzOiBTcXVhcmVDbGFzc2VzID0gY29tcHV0ZVNxdWFyZUNsYXNzZXMocyksXG4gICAgc2FtZVBpZWNlczogU2V0PGNnLktleT4gPSBuZXcgU2V0KCksXG4gICAgc2FtZVNxdWFyZXM6IFNldDxjZy5LZXk+ID0gbmV3IFNldCgpLFxuICAgIG1vdmVkUGllY2VzOiBNYXA8UGllY2VOYW1lLCBjZy5QaWVjZU5vZGVbXT4gPSBuZXcgTWFwKCksXG4gICAgbW92ZWRTcXVhcmVzOiBNYXA8c3RyaW5nLCBjZy5TcXVhcmVOb2RlW10+ID0gbmV3IE1hcCgpOyAvLyBieSBjbGFzcyBuYW1lXG4gIGxldCBrOiBjZy5LZXksXG4gICAgZWw6IGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQsXG4gICAgcGllY2VBdEtleTogY2cuUGllY2UgfCB1bmRlZmluZWQsXG4gICAgZWxQaWVjZU5hbWU6IFBpZWNlTmFtZSxcbiAgICBhbmltOiBBbmltVmVjdG9yIHwgdW5kZWZpbmVkLFxuICAgIGZhZGluZzogY2cuUGllY2UgfCB1bmRlZmluZWQsXG4gICAgcE12ZHNldDogY2cuUGllY2VOb2RlW10gfCB1bmRlZmluZWQsXG4gICAgcE12ZDogY2cuUGllY2VOb2RlIHwgdW5kZWZpbmVkLFxuICAgIHNNdmRzZXQ6IGNnLlNxdWFyZU5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgICBzTXZkOiBjZy5TcXVhcmVOb2RlIHwgdW5kZWZpbmVkO1xuXG4gIC8vIHdhbGsgb3ZlciBhbGwgYm9hcmQgZG9tIGVsZW1lbnRzLCBhcHBseSBhbmltYXRpb25zIGFuZCBmbGFnIG1vdmVkIHBpZWNlc1xuICBlbCA9IGJvYXJkRWwuZmlyc3RDaGlsZCBhcyBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlIHwgdW5kZWZpbmVkO1xuICB3aGlsZSAoZWwpIHtcbiAgICBrID0gZWwuY2dLZXk7XG4gICAgaWYgKGlzUGllY2VOb2RlKGVsKSkge1xuICAgICAgcGllY2VBdEtleSA9IHBpZWNlcy5nZXQoayk7XG4gICAgICBhbmltID0gYW5pbXMuZ2V0KGspO1xuICAgICAgZmFkaW5nID0gZmFkaW5ncy5nZXQoayk7XG4gICAgICBlbFBpZWNlTmFtZSA9IGVsLmNnUGllY2U7XG4gICAgICAvLyBpZiBwaWVjZSBub3QgYmVpbmcgZHJhZ2dlZCBhbnltb3JlLCByZW1vdmUgZHJhZ2dpbmcgc3R5bGVcbiAgICAgIGlmIChlbC5jZ0RyYWdnaW5nICYmICghY3VyRHJhZyB8fCBjdXJEcmFnLm9yaWcgIT09IGspKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XG4gICAgICAgIHRyYW5zbGF0ZShlbCwgcG9zVG9UcmFuc2xhdGUoa2V5MnBvcyhrKSwgYXNXaGl0ZSkpO1xuICAgICAgICBlbC5jZ0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyByZW1vdmUgZmFkaW5nIGNsYXNzIGlmIGl0IHN0aWxsIHJlbWFpbnNcbiAgICAgIGlmICghZmFkaW5nICYmIGVsLmNnRmFkaW5nKSB7XG4gICAgICAgIGVsLmNnRmFkaW5nID0gZmFsc2U7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGluZycpO1xuICAgICAgfVxuICAgICAgLy8gdGhlcmUgaXMgbm93IGEgcGllY2UgYXQgdGhpcyBkb20ga2V5XG4gICAgICBpZiAocGllY2VBdEtleSkge1xuICAgICAgICAvLyBjb250aW51ZSBhbmltYXRpb24gaWYgYWxyZWFkeSBhbmltYXRpbmcgYW5kIHNhbWUgcGllY2VcbiAgICAgICAgLy8gKG90aGVyd2lzZSBpdCBjb3VsZCBhbmltYXRlIGEgY2FwdHVyZWQgcGllY2UpXG4gICAgICAgIGlmIChhbmltICYmIGVsLmNnQW5pbWF0aW5nICYmIGVsUGllY2VOYW1lID09PSBwaWVjZU5hbWVPZihwaWVjZUF0S2V5LCBzLm9yaWVudGF0aW9uKSkge1xuICAgICAgICAgIGNvbnN0IHBvcyA9IGtleTJwb3Moayk7XG4gICAgICAgICAgcG9zWzBdICs9IGFuaW1bMl07XG4gICAgICAgICAgcG9zWzFdICs9IGFuaW1bM107XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYW5pbScpO1xuICAgICAgICAgIHRyYW5zbGF0ZShlbCwgcG9zVG9UcmFuc2xhdGUocG9zLCBhc1doaXRlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWwuY2dBbmltYXRpbmcpIHtcbiAgICAgICAgICBlbC5jZ0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW0nKTtcbiAgICAgICAgICB0cmFuc2xhdGUoZWwsIHBvc1RvVHJhbnNsYXRlKGtleTJwb3MoayksIGFzV2hpdGUpKTtcbiAgICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleCkgZWwuc3R5bGUuekluZGV4ID0gcG9zWkluZGV4KGtleTJwb3MoayksIGFzV2hpdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNhbWUgcGllY2U6IGZsYWcgYXMgc2FtZVxuICAgICAgICBpZiAoZWxQaWVjZU5hbWUgPT09IHBpZWNlTmFtZU9mKHBpZWNlQXRLZXksIHMub3JpZW50YXRpb24pICYmICghZmFkaW5nIHx8ICFlbC5jZ0ZhZGluZykpIHtcbiAgICAgICAgICBzYW1lUGllY2VzLmFkZChrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkaWZmZXJlbnQgcGllY2U6IGZsYWcgYXMgbW92ZWQgdW5sZXNzIGl0IGlzIGEgZmFkaW5nIHBpZWNlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChmYWRpbmcgJiYgZWxQaWVjZU5hbWUgPT09IHBpZWNlTmFtZU9mKGZhZGluZywgcy5vcmllbnRhdGlvbikpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2ZhZGluZycpO1xuICAgICAgICAgICAgZWwuY2dGYWRpbmcgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBlbmRWYWx1ZShtb3ZlZFBpZWNlcywgZWxQaWVjZU5hbWUsIGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIG5vIHBpZWNlOiBmbGFnIGFzIG1vdmVkXG4gICAgICBlbHNlIHtcbiAgICAgICAgYXBwZW5kVmFsdWUobW92ZWRQaWVjZXMsIGVsUGllY2VOYW1lLCBlbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1NxdWFyZU5vZGUoZWwpKSB7XG4gICAgICBjb25zdCBjbiA9IGVsLmNsYXNzTmFtZTtcbiAgICAgIGlmIChzcXVhcmVzLmdldChrKSA9PT0gY24pIHNhbWVTcXVhcmVzLmFkZChrKTtcbiAgICAgIGVsc2UgYXBwZW5kVmFsdWUobW92ZWRTcXVhcmVzLCBjbiwgZWwpO1xuICAgIH1cbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nIGFzIGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyB3YWxrIG92ZXIgYWxsIHNxdWFyZXMgaW4gY3VycmVudCBzZXQsIGFwcGx5IGRvbSBjaGFuZ2VzIHRvIG1vdmVkIHNxdWFyZXNcbiAgLy8gb3IgYXBwZW5kIG5ldyBzcXVhcmVzXG4gIGZvciAoY29uc3QgW3NrLCBjbGFzc05hbWVdIG9mIHNxdWFyZXMpIHtcbiAgICBpZiAoIXNhbWVTcXVhcmVzLmhhcyhzaykpIHtcbiAgICAgIHNNdmRzZXQgPSBtb3ZlZFNxdWFyZXMuZ2V0KGNsYXNzTmFtZSk7XG4gICAgICBzTXZkID0gc012ZHNldCAmJiBzTXZkc2V0LnBvcCgpO1xuICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSBwb3NUb1RyYW5zbGF0ZShrZXkycG9zKHNrKSwgYXNXaGl0ZSk7XG4gICAgICBpZiAoc012ZCkge1xuICAgICAgICBzTXZkLmNnS2V5ID0gc2s7XG4gICAgICAgIHRyYW5zbGF0ZShzTXZkLCB0cmFuc2xhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzcXVhcmVOb2RlID0gY3JlYXRlRWwoJ3NxdWFyZScsIGNsYXNzTmFtZSkgYXMgY2cuU3F1YXJlTm9kZTtcbiAgICAgICAgc3F1YXJlTm9kZS5jZ0tleSA9IHNrO1xuICAgICAgICB0cmFuc2xhdGUoc3F1YXJlTm9kZSwgdHJhbnNsYXRpb24pO1xuICAgICAgICBib2FyZEVsLmluc2VydEJlZm9yZShzcXVhcmVOb2RlLCBib2FyZEVsLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHdhbGsgb3ZlciBhbGwgcGllY2VzIGluIGN1cnJlbnQgc2V0LCBhcHBseSBkb20gY2hhbmdlcyB0byBtb3ZlZCBwaWVjZXNcbiAgLy8gb3IgYXBwZW5kIG5ldyBwaWVjZXNcbiAgZm9yIChjb25zdCBbaywgcF0gb2YgcGllY2VzKSB7XG4gICAgYW5pbSA9IGFuaW1zLmdldChrKTtcbiAgICBpZiAoIXNhbWVQaWVjZXMuaGFzKGspKSB7XG4gICAgICBwTXZkc2V0ID0gbW92ZWRQaWVjZXMuZ2V0KHBpZWNlTmFtZU9mKHAsIHMub3JpZW50YXRpb24pKTtcbiAgICAgIHBNdmQgPSBwTXZkc2V0ICYmIHBNdmRzZXQucG9wKCk7XG4gICAgICAvLyBhIHNhbWUgcGllY2Ugd2FzIG1vdmVkXG4gICAgICBpZiAocE12ZCkge1xuICAgICAgICAvLyBhcHBseSBkb20gY2hhbmdlc1xuICAgICAgICBwTXZkLmNnS2V5ID0gaztcbiAgICAgICAgaWYgKHBNdmQuY2dGYWRpbmcpIHtcbiAgICAgICAgICBwTXZkLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGluZycpO1xuICAgICAgICAgIHBNdmQuY2dGYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3MgPSBrZXkycG9zKGspO1xuICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleCkgcE12ZC5zdHlsZS56SW5kZXggPSBwb3NaSW5kZXgocG9zLCBhc1doaXRlKTtcbiAgICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgICBwTXZkLmNnQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBwTXZkLmNsYXNzTGlzdC5hZGQoJ2FuaW0nKTtcbiAgICAgICAgICBwb3NbMF0gKz0gYW5pbVsyXTtcbiAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2xhdGUocE12ZCwgcG9zVG9UcmFuc2xhdGUocG9zLCBhc1doaXRlKSk7XG4gICAgICB9XG4gICAgICAvLyBubyBwaWVjZSBpbiBtb3ZlZCBvYmo6IGluc2VydCB0aGUgbmV3IHBpZWNlXG4gICAgICAvLyBhc3N1bWVzIHRoZSBuZXcgcGllY2UgaXMgbm90IGJlaW5nIGRyYWdnZWRcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBwaWVjZU5hbWUgPSBwaWVjZU5hbWVPZihwLCBzLm9yaWVudGF0aW9uKSxcbiAgICAgICAgICBwaWVjZU5vZGUgPSBjcmVhdGVFbCgncGllY2UnLCBwaWVjZU5hbWUpIGFzIGNnLlBpZWNlTm9kZSxcbiAgICAgICAgICBwb3MgPSBrZXkycG9zKGspO1xuXG4gICAgICAgIHBpZWNlTm9kZS5jZ1BpZWNlID0gcGllY2VOYW1lO1xuICAgICAgICBwaWVjZU5vZGUuY2dLZXkgPSBrO1xuICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgIHBpZWNlTm9kZS5jZ0FuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICAgcG9zWzBdICs9IGFuaW1bMl07XG4gICAgICAgICAgcG9zWzFdICs9IGFuaW1bM107XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNsYXRlKHBpZWNlTm9kZSwgcG9zVG9UcmFuc2xhdGUocG9zLCBhc1doaXRlKSk7XG5cbiAgICAgICAgaWYgKHMuYWRkUGllY2VaSW5kZXgpIHBpZWNlTm9kZS5zdHlsZS56SW5kZXggPSBwb3NaSW5kZXgocG9zLCBhc1doaXRlKTtcblxuICAgICAgICBib2FyZEVsLmFwcGVuZENoaWxkKHBpZWNlTm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gcmVtb3ZlIGFueSBlbGVtZW50IHRoYXQgcmVtYWlucyBpbiB0aGUgbW92ZWQgc2V0c1xuICBmb3IgKGNvbnN0IG5vZGVzIG9mIG1vdmVkUGllY2VzLnZhbHVlcygpKSByZW1vdmVOb2RlcyhzLCBub2Rlcyk7XG4gIGZvciAoY29uc3Qgbm9kZXMgb2YgbW92ZWRTcXVhcmVzLnZhbHVlcygpKSByZW1vdmVOb2RlcyhzLCBub2Rlcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJSZXNpemVkKHM6IFN0YXRlKTogdm9pZCB7XG4gIGNvbnN0IGFzV2hpdGU6IGJvb2xlYW4gPSB3aGl0ZVBvdihzKSxcbiAgICBwb3NUb1RyYW5zbGF0ZSA9IHBvc1RvVHJhbnNsYXRlRnJvbUJvdW5kcyhzLmRvbS5ib3VuZHMoKSwgcy5kaW1lbnNpb25zKTtcbiAgbGV0IGVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQuZmlyc3RDaGlsZCBhcyBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlIHwgdW5kZWZpbmVkO1xuICB3aGlsZSAoZWwpIHtcbiAgICBpZiAoKGlzUGllY2VOb2RlKGVsKSAmJiAhZWwuY2dBbmltYXRpbmcpIHx8IGlzU3F1YXJlTm9kZShlbCkpIHtcbiAgICAgIHRyYW5zbGF0ZShlbCwgcG9zVG9UcmFuc2xhdGUoa2V5MnBvcyhlbC5jZ0tleSksIGFzV2hpdGUpKTtcbiAgICB9XG4gICAgZWwgPSBlbC5uZXh0U2libGluZyBhcyBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlIHwgdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVCb3VuZHMoczogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgYm91bmRzID0gcy5kb20uZWxlbWVudHMud3JhcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgY29udGFpbmVyID0gcy5kb20uZWxlbWVudHMuY29udGFpbmVyO1xuICBjb25zdCByYXRpbyA9IGJvdW5kcy5oZWlnaHQgLyBib3VuZHMud2lkdGg7XG4gIGNvbnN0IHdpZHRoID1cbiAgICAoTWF0aC5mbG9vcigoYm91bmRzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pIC8gcy5kaW1lbnNpb25zLndpZHRoKSAqIHMuZGltZW5zaW9ucy53aWR0aCkgL1xuICAgIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICBjb25zdCBoZWlnaHQgPSB3aWR0aCAqIHJhdGlvO1xuICBjb250YWluZXIuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG4gIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICBzLmRvbS5ib3VuZHMuY2xlYXIoKTtcblxuICBzLmFkZERpbWVuc2lvbnNDc3NWYXJzVG8/LnN0eWxlLnNldFByb3BlcnR5KCctLWNnLXdpZHRoJywgd2lkdGggKyAncHgnKTtcbiAgcy5hZGREaW1lbnNpb25zQ3NzVmFyc1RvPy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jZy1oZWlnaHQnLCBoZWlnaHQgKyAncHgnKTtcbiAgcy5kb20uZWxlbWVudHMucG9ja2V0VG9wPy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jZy13aWR0aCcsIHdpZHRoICsgJ3B4Jyk7XG4gIHMuZG9tLmVsZW1lbnRzLnBvY2tldFRvcD8uc3R5bGUuc2V0UHJvcGVydHkoJy0tY2ctaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4Jyk7XG4gIHMuZG9tLmVsZW1lbnRzLnBvY2tldEJvdHRvbT8uc3R5bGUuc2V0UHJvcGVydHkoJy0tY2ctd2lkdGgnLCB3aWR0aCArICdweCcpO1xuICBzLmRvbS5lbGVtZW50cy5wb2NrZXRCb3R0b20/LnN0eWxlLnNldFByb3BlcnR5KCctLWNnLWhlaWdodCcsIGhlaWdodCArICdweCcpO1xufVxuXG5jb25zdCBpc1BpZWNlTm9kZSA9IChlbDogY2cuUGllY2VOb2RlIHwgY2cuU3F1YXJlTm9kZSk6IGVsIGlzIGNnLlBpZWNlTm9kZSA9PiBlbC50YWdOYW1lID09PSAnUElFQ0UnO1xuY29uc3QgaXNTcXVhcmVOb2RlID0gKGVsOiBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlKTogZWwgaXMgY2cuU3F1YXJlTm9kZSA9PiBlbC50YWdOYW1lID09PSAnU1FVQVJFJztcblxuZnVuY3Rpb24gcmVtb3ZlTm9kZXMoczogU3RhdGUsIG5vZGVzOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykgcy5kb20uZWxlbWVudHMuYm9hcmQucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cbmZ1bmN0aW9uIHBvc1pJbmRleChwb3M6IGNnLlBvcywgYXNXaGl0ZTogYm9vbGVhbik6IHN0cmluZyB7XG4gIGNvbnN0IG1pblogPSAzO1xuICBjb25zdCByYW5rID0gcG9zWzFdO1xuICBjb25zdCB6ID0gYXNXaGl0ZSA/IG1pblogKyA3IC0gcmFuayA6IG1pblogKyByYW5rO1xuXG4gIHJldHVybiBgJHt6fWA7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVTcXVhcmVDbGFzc2VzKHM6IFN0YXRlKTogU3F1YXJlQ2xhc3NlcyB7XG4gIGNvbnN0IHNxdWFyZXM6IFNxdWFyZUNsYXNzZXMgPSBuZXcgTWFwKCk7XG4gIGlmIChzLmxhc3RNb3ZlICYmIHMuaGlnaGxpZ2h0Lmxhc3RNb3ZlKVxuICAgIGZvciAoY29uc3QgayBvZiBzLmxhc3RNb3ZlKSB7XG4gICAgICBpZiAoaXNLZXkoaykgJiYgayAhPT0gJ2EwJykgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdsYXN0LW1vdmUnKTtcbiAgICB9XG4gIGlmIChzLmNoZWNrICYmIHMuaGlnaGxpZ2h0LmNoZWNrKSBhZGRTcXVhcmUoc3F1YXJlcywgcy5jaGVjaywgJ2NoZWNrJyk7XG4gIGNvbnN0IHNlbGVjdGVkID0gcy5zZWxlY3RhYmxlLnNlbGVjdGVkO1xuICBpZiAoc2VsZWN0ZWQpIHtcbiAgICBpZiAoaXNLZXkoc2VsZWN0ZWQpKSBhZGRTcXVhcmUoc3F1YXJlcywgc2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xuICAgIGlmIChzLm1vdmFibGUuc2hvd0Rlc3RzKSB7XG4gICAgICBjb25zdCBkZXN0cyA9IHMubW92YWJsZS5kZXN0cz8uZ2V0KGlzS2V5KHNlbGVjdGVkKSA/IHNlbGVjdGVkIDogZHJvcE9yaWdPZihzZWxlY3RlZC5yb2xlKSk7XG4gICAgICBpZiAoZGVzdHMpXG4gICAgICAgIGZvciAoY29uc3QgayBvZiBkZXN0cykge1xuICAgICAgICAgIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnbW92ZS1kZXN0JyArIChzLmJvYXJkU3RhdGUucGllY2VzLmhhcyhrKSA/ICcgb2MnIDogJycpKTtcbiAgICAgICAgfVxuICAgICAgY29uc3QgcERlc3RzID0gcy5wcmVtb3ZhYmxlLmRlc3RzO1xuICAgICAgaWYgKHBEZXN0cylcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHBEZXN0cykge1xuICAgICAgICAgIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAncHJlbW92ZS1kZXN0JyArIChzLmJvYXJkU3RhdGUucGllY2VzLmhhcyhrKSA/ICcgb2MnIDogJycpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBwcmVtb3ZlID0gcy5wcmVtb3ZhYmxlLmN1cnJlbnQ7XG4gIGlmIChwcmVtb3ZlKSBmb3IgKGNvbnN0IGsgb2YgcHJlbW92ZSkgaWYgKGlzS2V5KGspKSBhZGRTcXVhcmUoc3F1YXJlcywgaywgJ2N1cnJlbnQtcHJlbW92ZScpO1xuXG4gIGNvbnN0IG8gPSBzLmV4cGxvZGluZztcbiAgaWYgKG8pIGZvciAoY29uc3QgayBvZiBvLmtleXMpIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnZXhwbG9kaW5nJyArIG8uc3RhZ2UpO1xuXG4gIHJldHVybiBzcXVhcmVzO1xufVxuXG5mdW5jdGlvbiBhZGRTcXVhcmUoc3F1YXJlczogU3F1YXJlQ2xhc3Nlcywga2V5OiBjZy5LZXksIGtsYXNzOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgY2xhc3NlcyA9IHNxdWFyZXMuZ2V0KGtleSk7XG4gIGlmIChjbGFzc2VzKSBzcXVhcmVzLnNldChrZXksIGAke2NsYXNzZXN9ICR7a2xhc3N9YCk7XG4gIGVsc2Ugc3F1YXJlcy5zZXQoa2V5LCBrbGFzcyk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFZhbHVlPEssIFY+KG1hcDogTWFwPEssIFZbXT4sIGtleTogSywgdmFsdWU6IFYpOiB2b2lkIHtcbiAgY29uc3QgYXJyID0gbWFwLmdldChrZXkpO1xuICBpZiAoYXJyKSBhcnIucHVzaCh2YWx1ZSk7XG4gIGVsc2UgbWFwLnNldChrZXksIFt2YWx1ZV0pO1xufVxuIiwgImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZS5qcyc7XG5pbXBvcnQge1xuICBrZXkycG9zLFxuICBjcmVhdGVFbCxcbiAgcG9zVG9UcmFuc2xhdGUgYXMgcG9zVG9UcmFuc2xhdGVGcm9tQm91bmRzLFxuICB0cmFuc2xhdGVBbmRTY2FsZSxcbiAgcGllY2VDbGFzc2VzIGFzIHBpZWNlTmFtZU9mLFxufSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgd2hpdGVQb3YgfSBmcm9tICcuL2JvYXJkLmpzJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgRHJhd1NoYXBlIH0gZnJvbSAnLi9kcmF3LmpzJztcbmltcG9ydCB7IFN5bmNhYmxlU2hhcGUsIEhhc2gsIHN5bmNTaGFwZXMgfSBmcm9tICcuL3N5bmMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHN0YXRlOiBTdGF0ZSwgYXV0b1BpZWNlRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGNvbnN0IGF1dG9QaWVjZXMgPSBzdGF0ZS5kcmF3YWJsZS5hdXRvU2hhcGVzLmZpbHRlcihhdXRvU2hhcGUgPT4gYXV0b1NoYXBlLnBpZWNlKTtcbiAgY29uc3QgYXV0b1BpZWNlU2hhcGVzOiBTeW5jYWJsZVNoYXBlW10gPSBhdXRvUGllY2VzLm1hcCgoczogRHJhd1NoYXBlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNoYXBlOiBzLFxuICAgICAgaGFzaDogaGFzaChzKSxcbiAgICAgIGN1cnJlbnQ6IGZhbHNlLFxuICAgIH07XG4gIH0pO1xuXG4gIHN5bmNTaGFwZXMoYXV0b1BpZWNlU2hhcGVzLCBhdXRvUGllY2VFbCwgc2hhcGUgPT4gcmVuZGVyU2hhcGUoc3RhdGUsIHNoYXBlLCBzdGF0ZS5kb20uYm91bmRzKCkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclJlc2l6ZWQoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIGNvbnN0IGFzV2hpdGU6IGJvb2xlYW4gPSB3aGl0ZVBvdihzdGF0ZSksXG4gICAgcG9zVG9UcmFuc2xhdGUgPSBwb3NUb1RyYW5zbGF0ZUZyb21Cb3VuZHMoc3RhdGUuZG9tLmJvdW5kcygpLCBzdGF0ZS5kaW1lbnNpb25zKTtcbiAgbGV0IGVsID0gc3RhdGUuZG9tLmVsZW1lbnRzLmF1dG9QaWVjZXM/LmZpcnN0Q2hpbGQgYXMgY2cuUGllY2VOb2RlIHwgdW5kZWZpbmVkO1xuICB3aGlsZSAoZWwpIHtcbiAgICB0cmFuc2xhdGVBbmRTY2FsZShlbCwgcG9zVG9UcmFuc2xhdGUoa2V5MnBvcyhlbC5jZ0tleSksIGFzV2hpdGUpLCBlbC5jZ1NjYWxlKTtcbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nIGFzIGNnLlBpZWNlTm9kZSB8IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJTaGFwZShzdGF0ZTogU3RhdGUsIHsgc2hhcGUsIGhhc2ggfTogU3luY2FibGVTaGFwZSwgYm91bmRzOiBDbGllbnRSZWN0KTogY2cuUGllY2VOb2RlIHtcbiAgaWYgKHNoYXBlLnBpZWNlKSB7XG4gICAgY29uc3Qgb3JpZyA9IHNoYXBlLm9yaWc7XG4gICAgY29uc3Qgc2NhbGUgPSBzaGFwZS5waWVjZS5zY2FsZTtcblxuICAgIGNvbnN0IHBpZWNlRWwgPSBjcmVhdGVFbCgncGllY2UnLCBwaWVjZU5hbWVPZihzaGFwZS5waWVjZSwgc3RhdGUub3JpZW50YXRpb24pKSBhcyBjZy5QaWVjZU5vZGU7XG4gICAgcGllY2VFbC5zZXRBdHRyaWJ1dGUoJ2NnSGFzaCcsIGhhc2gpO1xuICAgIHBpZWNlRWwuY2dLZXkgPSBvcmlnO1xuICAgIHBpZWNlRWwuY2dTY2FsZSA9IHNjYWxlO1xuICAgIHRyYW5zbGF0ZUFuZFNjYWxlKFxuICAgICAgcGllY2VFbCxcbiAgICAgIHBvc1RvVHJhbnNsYXRlRnJvbUJvdW5kcyhib3VuZHMsIHN0YXRlLmRpbWVuc2lvbnMpKGtleTJwb3Mob3JpZyksIHdoaXRlUG92KHN0YXRlKSksXG4gICAgICBzY2FsZVxuICAgICk7XG5cbiAgICByZXR1cm4gcGllY2VFbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlRWwoJ3BpZWNlJywgJycpIGFzIGNnLlBpZWNlTm9kZTtcbiAgfVxufVxuXG5jb25zdCBoYXNoID0gKGF1dG9QaWVjZTogRHJhd1NoYXBlKTogSGFzaCA9PlxuICBbYXV0b1BpZWNlLm9yaWcsIGF1dG9QaWVjZS5waWVjZT8ucm9sZSwgYXV0b1BpZWNlLnBpZWNlPy5jb2xvciwgYXV0b1BpZWNlLnBpZWNlPy5zY2FsZV0uam9pbignLCcpO1xuIiwgImltcG9ydCB7IEFwaSwgc3RhcnQgfSBmcm9tICcuL2FwaS5qcyc7XG5pbXBvcnQgeyBDb25maWcsIGNvbmZpZ3VyZSB9IGZyb20gJy4vY29uZmlnLmpzJztcbmltcG9ydCB7IEhlYWRsZXNzU3RhdGUsIFN0YXRlLCBkZWZhdWx0cyB9IGZyb20gJy4vc3RhdGUuanMnO1xuXG5pbXBvcnQgeyByZW5kZXJXcmFwIH0gZnJvbSAnLi93cmFwLmpzJztcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyByZW5kZXIsIHJlbmRlclJlc2l6ZWQsIHVwZGF0ZUJvdW5kcyB9IGZyb20gJy4vcmVuZGVyLmpzJztcbmltcG9ydCAqIGFzIGF1dG9QaWVjZXMgZnJvbSAnLi9hdXRvUGllY2VzLmpzJztcbmltcG9ydCAqIGFzIHN2ZyBmcm9tICcuL3N2Zy5qcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyByZW5kZXJQb2NrZXRzLCByZW5kZXJQb2NrZXRzSW5pdGlhbCB9IGZyb20gJy4vcG9ja2V0LmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIENoZXNzZ3JvdW5kKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgY29uZmlnPzogQ29uZmlnLFxuICBwb2NrZXRUb3A/OiBIVE1MRWxlbWVudCxcbiAgcG9ja2V0Qm90dG9tPzogSFRNTEVsZW1lbnRcbik6IEFwaSB7XG4gIGNvbnN0IG1heWJlU3RhdGU6IFN0YXRlIHwgSGVhZGxlc3NTdGF0ZSA9IGRlZmF1bHRzKCk7XG4gIGNvbmZpZ3VyZShtYXliZVN0YXRlLCBjb25maWcgfHwge30pO1xuXG4gIGZ1bmN0aW9uIHJlZHJhd0FsbCgpOiBTdGF0ZSB7XG4gICAgY29uc3QgcHJldlVuYmluZCA9ICdkb20nIGluIG1heWJlU3RhdGUgPyBtYXliZVN0YXRlLmRvbS51bmJpbmQgOiB1bmRlZmluZWQ7XG4gICAgLy8gY29tcHV0ZSBib3VuZHMgZnJvbSBleGlzdGluZyBib2FyZCBlbGVtZW50IGlmIHBvc3NpYmxlXG4gICAgLy8gdGhpcyBhbGxvd3Mgbm9uLXNxdWFyZSBib2FyZHMgZnJvbSBDU1MgdG8gYmUgaGFuZGxlZCAoZm9yIDNEKVxuICAgIGNvbnN0IGVsZW1lbnRzID0gcmVuZGVyV3JhcChlbGVtZW50LCBtYXliZVN0YXRlKSxcbiAgICAgIGJvdW5kcyA9IHV0aWwubWVtbygoKSA9PiBlbGVtZW50cy5ib2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksXG4gICAgICByZWRyYXdOb3cgPSAoc2tpcFN2Zz86IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgICAgICAgcmVuZGVyKHN0YXRlKTtcbiAgICAgICAgcmVuZGVyUG9ja2V0cyhzdGF0ZSk7XG4gICAgICAgIGlmIChlbGVtZW50cy5hdXRvUGllY2VzKSBhdXRvUGllY2VzLnJlbmRlcihzdGF0ZSwgZWxlbWVudHMuYXV0b1BpZWNlcyk7XG4gICAgICAgIGlmICghc2tpcFN2ZyAmJiBlbGVtZW50cy5zdmcpIHN2Zy5yZW5kZXJTdmcoc3RhdGUsIGVsZW1lbnRzLnN2ZywgZWxlbWVudHMuY3VzdG9tU3ZnISk7XG4gICAgICB9LFxuICAgICAgb25SZXNpemUgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHVwZGF0ZUJvdW5kcyhzdGF0ZSk7XG4gICAgICAgIHJlbmRlclJlc2l6ZWQoc3RhdGUpO1xuICAgICAgICBpZiAoZWxlbWVudHMuYXV0b1BpZWNlcykgYXV0b1BpZWNlcy5yZW5kZXJSZXNpemVkKHN0YXRlKTtcbiAgICAgIH07XG4gICAgaWYgKGVsZW1lbnRzLnBvY2tldFRvcCkgcG9ja2V0VG9wID0gZWxlbWVudHMucG9ja2V0VG9wO1xuICAgIGlmIChlbGVtZW50cy5wb2NrZXRCb3R0b20pIHBvY2tldEJvdHRvbSA9IGVsZW1lbnRzLnBvY2tldEJvdHRvbTtcbiAgICByZW5kZXJQb2NrZXRzSW5pdGlhbChtYXliZVN0YXRlLCBlbGVtZW50cywgcG9ja2V0VG9wLCBwb2NrZXRCb3R0b20pO1xuICAgIGNvbnN0IHN0YXRlID0gbWF5YmVTdGF0ZSBhcyBTdGF0ZTtcbiAgICBzdGF0ZS5kb20gPSB7XG4gICAgICBlbGVtZW50cyxcbiAgICAgIGJvdW5kcyxcbiAgICAgIHJlZHJhdzogZGVib3VuY2VSZWRyYXcocmVkcmF3Tm93KSxcbiAgICAgIHJlZHJhd05vdyxcbiAgICAgIHVuYmluZDogcHJldlVuYmluZCxcbiAgICB9O1xuICAgIHN0YXRlLmRyYXdhYmxlLnByZXZTdmdIYXNoID0gJyc7XG4gICAgdXBkYXRlQm91bmRzKHN0YXRlKTtcbiAgICByZWRyYXdOb3coZmFsc2UpO1xuICAgIGV2ZW50cy5iaW5kQm9hcmQoc3RhdGUsIG9uUmVzaXplKTtcbiAgICBpZiAoIXByZXZVbmJpbmQpIHN0YXRlLmRvbS51bmJpbmQgPSBldmVudHMuYmluZERvY3VtZW50KHN0YXRlLCBvblJlc2l6ZSk7XG4gICAgc3RhdGUuZXZlbnRzLmluc2VydCAmJiBzdGF0ZS5ldmVudHMuaW5zZXJ0KGVsZW1lbnRzKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICByZXR1cm4gc3RhcnQocmVkcmF3QWxsKCksIHJlZHJhd0FsbCk7XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlUmVkcmF3KHJlZHJhd05vdzogKHNraXBTdmc/OiBib29sZWFuKSA9PiB2b2lkKTogKCkgPT4gdm9pZCB7XG4gIGxldCByZWRyYXdpbmcgPSBmYWxzZTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAocmVkcmF3aW5nKSByZXR1cm47XG4gICAgcmVkcmF3aW5nID0gdHJ1ZTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgcmVkcmF3Tm93KCk7XG4gICAgICByZWRyYXdpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfTtcbn1cbiIsICJcbnZhciBNb2R1bGUgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBfc2NyaXB0RGlyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ID8gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMgOiB1bmRlZmluZWQ7XG4gIFxuICByZXR1cm4gKFxuZnVuY3Rpb24oTW9kdWxlKSB7XG4gIE1vZHVsZSA9IE1vZHVsZSB8fCB7fTtcblxudmFyIE1vZHVsZT10eXBlb2YgTW9kdWxlIT09XCJ1bmRlZmluZWRcIj9Nb2R1bGU6e307dmFyIHJlYWR5UHJvbWlzZVJlc29sdmUscmVhZHlQcm9taXNlUmVqZWN0O01vZHVsZVtcInJlYWR5XCJdPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZWFkeVByb21pc2VSZXNvbHZlPXJlc29sdmU7cmVhZHlQcm9taXNlUmVqZWN0PXJlamVjdH0pO3ZhciBtb2R1bGVPdmVycmlkZXM9e307dmFyIGtleTtmb3Ioa2V5IGluIE1vZHVsZSl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpe21vZHVsZU92ZXJyaWRlc1trZXldPU1vZHVsZVtrZXldfX12YXIgYXJndW1lbnRzXz1bXTt2YXIgdGhpc1Byb2dyYW09XCIuL3RoaXMucHJvZ3JhbVwiO3ZhciBxdWl0Xz1mdW5jdGlvbihzdGF0dXMsdG9UaHJvdyl7dGhyb3cgdG9UaHJvd307dmFyIEVOVklST05NRU5UX0lTX1dFQj10eXBlb2Ygd2luZG93PT09XCJvYmplY3RcIjt2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT09XCJmdW5jdGlvblwiO3ZhciBFTlZJUk9OTUVOVF9JU19OT0RFPXR5cGVvZiBwcm9jZXNzPT09XCJvYmplY3RcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT09XCJzdHJpbmdcIjt2YXIgc2NyaXB0RGlyZWN0b3J5PVwiXCI7ZnVuY3Rpb24gbG9jYXRlRmlsZShwYXRoKXtpZihNb2R1bGVbXCJsb2NhdGVGaWxlXCJdKXtyZXR1cm4gTW9kdWxlW1wibG9jYXRlRmlsZVwiXShwYXRoLHNjcmlwdERpcmVjdG9yeSl9cmV0dXJuIHNjcmlwdERpcmVjdG9yeStwYXRofXZhciByZWFkXyxyZWFkQXN5bmMscmVhZEJpbmFyeSxzZXRXaW5kb3dUaXRsZTtpZihFTlZJUk9OTUVOVF9JU19XRUJ8fEVOVklST05NRU5UX0lTX1dPUktFUil7aWYoRU5WSVJPTk1FTlRfSVNfV09SS0VSKXtzY3JpcHREaXJlY3Rvcnk9c2VsZi5sb2NhdGlvbi5ocmVmfWVsc2UgaWYodHlwZW9mIGRvY3VtZW50IT09XCJ1bmRlZmluZWRcIiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCl7c2NyaXB0RGlyZWN0b3J5PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjfWlmKF9zY3JpcHREaXIpe3NjcmlwdERpcmVjdG9yeT1fc2NyaXB0RGlyfWlmKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKFwiYmxvYjpcIikhPT0wKXtzY3JpcHREaXJlY3Rvcnk9c2NyaXB0RGlyZWN0b3J5LnN1YnN0cigwLHNjcmlwdERpcmVjdG9yeS5yZXBsYWNlKC9bPyNdLiovLFwiXCIpLmxhc3RJbmRleE9mKFwiL1wiKSsxKX1lbHNle3NjcmlwdERpcmVjdG9yeT1cIlwifXtyZWFkXz1mdW5jdGlvbih1cmwpe3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKFwiR0VUXCIsdXJsLGZhbHNlKTt4aHIuc2VuZChudWxsKTtyZXR1cm4geGhyLnJlc3BvbnNlVGV4dH07aWYoRU5WSVJPTk1FTlRfSVNfV09SS0VSKXtyZWFkQmluYXJ5PWZ1bmN0aW9uKHVybCl7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO3hoci5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpfX1yZWFkQXN5bmM9ZnVuY3Rpb24odXJsLG9ubG9hZCxvbmVycm9yKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbihcIkdFVFwiLHVybCx0cnVlKTt4aHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIjt4aHIub25sb2FkPWZ1bmN0aW9uKCl7aWYoeGhyLnN0YXR1cz09MjAwfHx4aHIuc3RhdHVzPT0wJiZ4aHIucmVzcG9uc2Upe29ubG9hZCh4aHIucmVzcG9uc2UpO3JldHVybn1vbmVycm9yKCl9O3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9fXNldFdpbmRvd1RpdGxlPWZ1bmN0aW9uKHRpdGxlKXtkb2N1bWVudC50aXRsZT10aXRsZX19ZWxzZXt9dmFyIG91dD1Nb2R1bGVbXCJwcmludFwiXXx8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTt2YXIgZXJyPU1vZHVsZVtcInByaW50RXJyXCJdfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtmb3Ioa2V5IGluIG1vZHVsZU92ZXJyaWRlcyl7aWYobW9kdWxlT3ZlcnJpZGVzLmhhc093blByb3BlcnR5KGtleSkpe01vZHVsZVtrZXldPW1vZHVsZU92ZXJyaWRlc1trZXldfX1tb2R1bGVPdmVycmlkZXM9bnVsbDtpZihNb2R1bGVbXCJhcmd1bWVudHNcIl0pYXJndW1lbnRzXz1Nb2R1bGVbXCJhcmd1bWVudHNcIl07aWYoTW9kdWxlW1widGhpc1Byb2dyYW1cIl0pdGhpc1Byb2dyYW09TW9kdWxlW1widGhpc1Byb2dyYW1cIl07aWYoTW9kdWxlW1wicXVpdFwiXSlxdWl0Xz1Nb2R1bGVbXCJxdWl0XCJdO3ZhciB0ZW1wUmV0MD0wO3ZhciBzZXRUZW1wUmV0MD1mdW5jdGlvbih2YWx1ZSl7dGVtcFJldDA9dmFsdWV9O3ZhciB3YXNtQmluYXJ5O2lmKE1vZHVsZVtcIndhc21CaW5hcnlcIl0pd2FzbUJpbmFyeT1Nb2R1bGVbXCJ3YXNtQmluYXJ5XCJdO3ZhciBub0V4aXRSdW50aW1lPU1vZHVsZVtcIm5vRXhpdFJ1bnRpbWVcIl18fHRydWU7aWYodHlwZW9mIFdlYkFzc2VtYmx5IT09XCJvYmplY3RcIil7YWJvcnQoXCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkXCIpfXZhciB3YXNtTWVtb3J5O3ZhciBBQk9SVD1mYWxzZTt2YXIgRVhJVFNUQVRVUztmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLHRleHQpe2lmKCFjb25kaXRpb24pe2Fib3J0KFwiQXNzZXJ0aW9uIGZhaWxlZDogXCIrdGV4dCl9fXZhciBVVEY4RGVjb2Rlcj10eXBlb2YgVGV4dERlY29kZXIhPT1cInVuZGVmaW5lZFwiP25ldyBUZXh0RGVjb2RlcihcInV0ZjhcIik6dW5kZWZpbmVkO2Z1bmN0aW9uIFVURjhBcnJheVRvU3RyaW5nKGhlYXAsaWR4LG1heEJ5dGVzVG9SZWFkKXt2YXIgZW5kSWR4PWlkeCttYXhCeXRlc1RvUmVhZDt2YXIgZW5kUHRyPWlkeDt3aGlsZShoZWFwW2VuZFB0cl0mJiEoZW5kUHRyPj1lbmRJZHgpKSsrZW5kUHRyO2lmKGVuZFB0ci1pZHg+MTYmJmhlYXAuc3ViYXJyYXkmJlVURjhEZWNvZGVyKXtyZXR1cm4gVVRGOERlY29kZXIuZGVjb2RlKGhlYXAuc3ViYXJyYXkoaWR4LGVuZFB0cikpfWVsc2V7dmFyIHN0cj1cIlwiO3doaWxlKGlkeDxlbmRQdHIpe3ZhciB1MD1oZWFwW2lkeCsrXTtpZighKHUwJjEyOCkpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7Y29udGludWV9dmFyIHUxPWhlYXBbaWR4KytdJjYzO2lmKCh1MCYyMjQpPT0xOTIpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgodTAmMzEpPDw2fHUxKTtjb250aW51ZX12YXIgdTI9aGVhcFtpZHgrK10mNjM7aWYoKHUwJjI0MCk9PTIyNCl7dTA9KHUwJjE1KTw8MTJ8dTE8PDZ8dTJ9ZWxzZXt1MD0odTAmNyk8PDE4fHUxPDwxMnx1Mjw8NnxoZWFwW2lkeCsrXSY2M31pZih1MDw2NTUzNil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKX1lbHNle3ZhciBjaD11MC02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpfX19cmV0dXJuIHN0cn1mdW5jdGlvbiBVVEY4VG9TdHJpbmcocHRyLG1heEJ5dGVzVG9SZWFkKXtyZXR1cm4gcHRyP1VURjhBcnJheVRvU3RyaW5nKEhFQVBVOCxwdHIsbWF4Qnl0ZXNUb1JlYWQpOlwiXCJ9ZnVuY3Rpb24gc3RyaW5nVG9VVEY4QXJyYXkoc3RyLGhlYXAsb3V0SWR4LG1heEJ5dGVzVG9Xcml0ZSl7aWYoIShtYXhCeXRlc1RvV3JpdGU+MCkpcmV0dXJuIDA7dmFyIHN0YXJ0SWR4PW91dElkeDt2YXIgZW5kSWR4PW91dElkeCttYXhCeXRlc1RvV3JpdGUtMTtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgdT1zdHIuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMpe3ZhciB1MT1zdHIuY2hhckNvZGVBdCgrK2kpO3U9NjU1MzYrKCh1JjEwMjMpPDwxMCl8dTEmMTAyM31pZih1PD0xMjcpe2lmKG91dElkeD49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPXV9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2UgaWYodTw9NjU1MzUpe2lmKG91dElkeCsyPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MjI0fHU+PjEyO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2V7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfX1oZWFwW291dElkeF09MDtyZXR1cm4gb3V0SWR4LXN0YXJ0SWR4fWZ1bmN0aW9uIHN0cmluZ1RvVVRGOChzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7cmV0dXJuIHN0cmluZ1RvVVRGOEFycmF5KHN0cixIRUFQVTgsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEY4KHN0cil7dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciB1PXN0ci5jaGFyQ29kZUF0KGkpO2lmKHU+PTU1Mjk2JiZ1PD01NzM0Myl1PTY1NTM2KygodSYxMDIzKTw8MTApfHN0ci5jaGFyQ29kZUF0KCsraSkmMTAyMztpZih1PD0xMjcpKytsZW47ZWxzZSBpZih1PD0yMDQ3KWxlbis9MjtlbHNlIGlmKHU8PTY1NTM1KWxlbis9MztlbHNlIGxlbis9NH1yZXR1cm4gbGVufXZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT09XCJ1bmRlZmluZWRcIj9uZXcgVGV4dERlY29kZXIoXCJ1dGYtMTZsZVwiKTp1bmRlZmluZWQ7ZnVuY3Rpb24gVVRGMTZUb1N0cmluZyhwdHIsbWF4Qnl0ZXNUb1JlYWQpe3ZhciBlbmRQdHI9cHRyO3ZhciBpZHg9ZW5kUHRyPj4xO3ZhciBtYXhJZHg9aWR4K21heEJ5dGVzVG9SZWFkLzI7d2hpbGUoIShpZHg+PW1heElkeCkmJkhFQVBVMTZbaWR4XSkrK2lkeDtlbmRQdHI9aWR4PDwxO2lmKGVuZFB0ci1wdHI+MzImJlVURjE2RGVjb2Rlcil7cmV0dXJuIFVURjE2RGVjb2Rlci5kZWNvZGUoSEVBUFU4LnN1YmFycmF5KHB0cixlbmRQdHIpKX1lbHNle3ZhciBzdHI9XCJcIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpfXJldHVybiBzdHJ9fWZ1bmN0aW9uIHN0cmluZ1RvVVRGMTYoc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpe2lmKG1heEJ5dGVzVG9Xcml0ZT09PXVuZGVmaW5lZCl7bWF4Qnl0ZXNUb1dyaXRlPTIxNDc0ODM2NDd9aWYobWF4Qnl0ZXNUb1dyaXRlPDIpcmV0dXJuIDA7bWF4Qnl0ZXNUb1dyaXRlLT0yO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIG51bUNoYXJzVG9Xcml0ZT1tYXhCeXRlc1RvV3JpdGU8c3RyLmxlbmd0aCoyP21heEJ5dGVzVG9Xcml0ZS8yOnN0ci5sZW5ndGg7Zm9yKHZhciBpPTA7aTxudW1DaGFyc1RvV3JpdGU7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7SEVBUDE2W291dFB0cj4+MV09Y29kZVVuaXQ7b3V0UHRyKz0yfUhFQVAxNltvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjE2KHN0cil7cmV0dXJuIHN0ci5sZW5ndGgqMn1mdW5jdGlvbiBVVEYzMlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGk9MDt2YXIgc3RyPVwiXCI7d2hpbGUoIShpPj1tYXhCeXRlc1RvUmVhZC80KSl7dmFyIHV0ZjMyPUhFQVAzMltwdHIraSo0Pj4yXTtpZih1dGYzMj09MClicmVhazsrK2k7aWYodXRmMzI+PTY1NTM2KXt2YXIgY2g9dXRmMzItNjU1MzY7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGNoPj4xMCw1NjMyMHxjaCYxMDIzKX1lbHNle3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1dGYzMil9fXJldHVybiBzdHJ9ZnVuY3Rpb24gc3RyaW5nVG9VVEYzMihzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7aWYobWF4Qnl0ZXNUb1dyaXRlPT09dW5kZWZpbmVkKXttYXhCeXRlc1RvV3JpdGU9MjE0NzQ4MzY0N31pZihtYXhCeXRlc1RvV3JpdGU8NClyZXR1cm4gMDt2YXIgc3RhcnRQdHI9b3V0UHRyO3ZhciBlbmRQdHI9c3RhcnRQdHIrbWF4Qnl0ZXNUb1dyaXRlLTQ7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO2lmKGNvZGVVbml0Pj01NTI5NiYmY29kZVVuaXQ8PTU3MzQzKXt2YXIgdHJhaWxTdXJyb2dhdGU9c3RyLmNoYXJDb2RlQXQoKytpKTtjb2RlVW5pdD02NTUzNisoKGNvZGVVbml0JjEwMjMpPDwxMCl8dHJhaWxTdXJyb2dhdGUmMTAyM31IRUFQMzJbb3V0UHRyPj4yXT1jb2RlVW5pdDtvdXRQdHIrPTQ7aWYob3V0UHRyKzQ+ZW5kUHRyKWJyZWFrfUhFQVAzMltvdXRQdHI+PjJdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjMyKHN0cil7dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0MykrK2k7bGVuKz00fXJldHVybiBsZW59ZnVuY3Rpb24gd3JpdGVBcnJheVRvTWVtb3J5KGFycmF5LGJ1ZmZlcil7SEVBUDguc2V0KGFycmF5LGJ1ZmZlcil9ZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0cixidWZmZXIsZG9udEFkZE51bGwpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe0hFQVA4W2J1ZmZlcisrPj4wXT1zdHIuY2hhckNvZGVBdChpKX1pZighZG9udEFkZE51bGwpSEVBUDhbYnVmZmVyPj4wXT0wfWZ1bmN0aW9uIGFsaWduVXAoeCxtdWx0aXBsZSl7aWYoeCVtdWx0aXBsZT4wKXt4Kz1tdWx0aXBsZS14JW11bHRpcGxlfXJldHVybiB4fXZhciBidWZmZXIsSEVBUDgsSEVBUFU4LEhFQVAxNixIRUFQVTE2LEhFQVAzMixIRUFQVTMyLEhFQVBGMzIsSEVBUEY2NDtmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpe2J1ZmZlcj1idWY7TW9kdWxlW1wiSEVBUDhcIl09SEVBUDg9bmV3IEludDhBcnJheShidWYpO01vZHVsZVtcIkhFQVAxNlwiXT1IRUFQMTY9bmV3IEludDE2QXJyYXkoYnVmKTtNb2R1bGVbXCJIRUFQMzJcIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGJ1Zik7TW9kdWxlW1wiSEVBUFU4XCJdPUhFQVBVOD1uZXcgVWludDhBcnJheShidWYpO01vZHVsZVtcIkhFQVBVMTZcIl09SEVBUFUxNj1uZXcgVWludDE2QXJyYXkoYnVmKTtNb2R1bGVbXCJIRUFQVTMyXCJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGJ1Zik7TW9kdWxlW1wiSEVBUEYzMlwiXT1IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYnVmKTtNb2R1bGVbXCJIRUFQRjY0XCJdPUhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShidWYpfXZhciBJTklUSUFMX01FTU9SWT1Nb2R1bGVbXCJJTklUSUFMX01FTU9SWVwiXXx8MzM1NTQ0MzI7dmFyIHdhc21UYWJsZTt2YXIgX19BVFBSRVJVTl9fPVtdO3ZhciBfX0FUSU5JVF9fPVtdO3ZhciBfX0FUUE9TVFJVTl9fPVtdO3ZhciBydW50aW1lSW5pdGlhbGl6ZWQ9ZmFsc2U7dmFyIHJ1bnRpbWVFeGl0ZWQ9ZmFsc2U7dmFyIHJ1bnRpbWVLZWVwYWxpdmVDb3VudGVyPTA7ZnVuY3Rpb24ga2VlcFJ1bnRpbWVBbGl2ZSgpe3JldHVybiBub0V4aXRSdW50aW1lfHxydW50aW1lS2VlcGFsaXZlQ291bnRlcj4wfWZ1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVtcInByZVJ1blwiXSl7aWYodHlwZW9mIE1vZHVsZVtcInByZVJ1blwiXT09XCJmdW5jdGlvblwiKU1vZHVsZVtcInByZVJ1blwiXT1bTW9kdWxlW1wicHJlUnVuXCJdXTt3aGlsZShNb2R1bGVbXCJwcmVSdW5cIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbXCJwcmVSdW5cIl0uc2hpZnQoKSl9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQUkVSVU5fXyl9ZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKXtydW50aW1lSW5pdGlhbGl6ZWQ9dHJ1ZTtpZighTW9kdWxlW1wibm9GU0luaXRcIl0mJiFGUy5pbml0LmluaXRpYWxpemVkKUZTLmluaXQoKTtGUy5pZ25vcmVQZXJtaXNzaW9ucz1mYWxzZTtUVFkuaW5pdCgpO2NhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRJTklUX18pfWZ1bmN0aW9uIGV4aXRSdW50aW1lKCl7cnVudGltZUV4aXRlZD10cnVlfWZ1bmN0aW9uIHBvc3RSdW4oKXtpZihNb2R1bGVbXCJwb3N0UnVuXCJdKXtpZih0eXBlb2YgTW9kdWxlW1wicG9zdFJ1blwiXT09XCJmdW5jdGlvblwiKU1vZHVsZVtcInBvc3RSdW5cIl09W01vZHVsZVtcInBvc3RSdW5cIl1dO3doaWxlKE1vZHVsZVtcInBvc3RSdW5cIl0ubGVuZ3RoKXthZGRPblBvc3RSdW4oTW9kdWxlW1wicG9zdFJ1blwiXS5zaGlmdCgpKX19Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBPU1RSVU5fXyl9ZnVuY3Rpb24gYWRkT25QcmVSdW4oY2Ipe19fQVRQUkVSVU5fXy51bnNoaWZ0KGNiKX1mdW5jdGlvbiBhZGRPbkluaXQoY2Ipe19fQVRJTklUX18udW5zaGlmdChjYil9ZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKXtfX0FUUE9TVFJVTl9fLnVuc2hpZnQoY2IpfXZhciBydW5EZXBlbmRlbmNpZXM9MDt2YXIgcnVuRGVwZW5kZW5jeVdhdGNoZXI9bnVsbDt2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkPW51bGw7ZnVuY3Rpb24gZ2V0VW5pcXVlUnVuRGVwZW5kZW5jeShpZCl7cmV0dXJuIGlkfWZ1bmN0aW9uIGFkZFJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcysrO2lmKE1vZHVsZVtcIm1vbml0b3JSdW5EZXBlbmRlbmNpZXNcIl0pe01vZHVsZVtcIm1vbml0b3JSdW5EZXBlbmRlbmNpZXNcIl0ocnVuRGVwZW5kZW5jaWVzKX19ZnVuY3Rpb24gcmVtb3ZlUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzLS07aWYoTW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXSl7TW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXShydW5EZXBlbmRlbmNpZXMpfWlmKHJ1bkRlcGVuZGVuY2llcz09MCl7aWYocnVuRGVwZW5kZW5jeVdhdGNoZXIhPT1udWxsKXtjbGVhckludGVydmFsKHJ1bkRlcGVuZGVuY3lXYXRjaGVyKTtydW5EZXBlbmRlbmN5V2F0Y2hlcj1udWxsfWlmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpfX19TW9kdWxlW1wicHJlbG9hZGVkSW1hZ2VzXCJdPXt9O01vZHVsZVtcInByZWxvYWRlZEF1ZGlvc1wiXT17fTtmdW5jdGlvbiBhYm9ydCh3aGF0KXt7aWYoTW9kdWxlW1wib25BYm9ydFwiXSl7TW9kdWxlW1wib25BYm9ydFwiXSh3aGF0KX19d2hhdD1cIkFib3J0ZWQoXCIrd2hhdCtcIilcIjtlcnIod2hhdCk7QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPTE7d2hhdCs9XCIuIEJ1aWxkIHdpdGggLXMgQVNTRVJUSU9OUz0xIGZvciBtb3JlIGluZm8uXCI7dmFyIGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtyZWFkeVByb21pc2VSZWplY3QoZSk7dGhyb3cgZX12YXIgZGF0YVVSSVByZWZpeD1cImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCxcIjtmdW5jdGlvbiBpc0RhdGFVUkkoZmlsZW5hbWUpe3JldHVybiBmaWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpfXZhciB3YXNtQmluYXJ5RmlsZTt3YXNtQmluYXJ5RmlsZT1cImZmaXNoLndhc21cIjtpZighaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSl7d2FzbUJpbmFyeUZpbGU9bG9jYXRlRmlsZSh3YXNtQmluYXJ5RmlsZSl9ZnVuY3Rpb24gZ2V0QmluYXJ5KGZpbGUpe3RyeXtpZihmaWxlPT13YXNtQmluYXJ5RmlsZSYmd2FzbUJpbmFyeSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpfWlmKHJlYWRCaW5hcnkpe3JldHVybiByZWFkQmluYXJ5KGZpbGUpfWVsc2V7dGhyb3dcImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkXCJ9fWNhdGNoKGVycil7YWJvcnQoZXJyKX19ZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZSgpe2lmKCF3YXNtQmluYXJ5JiYoRU5WSVJPTk1FTlRfSVNfV0VCfHxFTlZJUk9OTUVOVF9JU19XT1JLRVIpKXtpZih0eXBlb2YgZmV0Y2g9PT1cImZ1bmN0aW9uXCIpe3JldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7aWYoIXJlc3BvbnNlW1wib2tcIl0pe3Rocm93XCJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICdcIit3YXNtQmluYXJ5RmlsZStcIidcIn1yZXR1cm4gcmVzcG9uc2VbXCJhcnJheUJ1ZmZlclwiXSgpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZ2V0QmluYXJ5KHdhc21CaW5hcnlGaWxlKX0pfX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpfSl9ZnVuY3Rpb24gY3JlYXRlV2FzbSgpe3ZhciBpbmZvPXtcImFcIjphc21MaWJyYXJ5QXJnfTtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXt2YXIgZXhwb3J0cz1pbnN0YW5jZS5leHBvcnRzO01vZHVsZVtcImFzbVwiXT1leHBvcnRzO3dhc21NZW1vcnk9TW9kdWxlW1wiYXNtXCJdW1wiTVwiXTt1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7d2FzbVRhYmxlPU1vZHVsZVtcImFzbVwiXVtcIlBcIl07YWRkT25Jbml0KE1vZHVsZVtcImFzbVwiXVtcIk5cIl0pO3JlbW92ZVJ1bkRlcGVuZGVuY3koXCJ3YXNtLWluc3RhbnRpYXRlXCIpfWFkZFJ1bkRlcGVuZGVuY3koXCJ3YXNtLWluc3RhbnRpYXRlXCIpO2Z1bmN0aW9uIHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KHJlc3VsdCl7cmVjZWl2ZUluc3RhbmNlKHJlc3VsdFtcImluc3RhbmNlXCJdKX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVyKXtyZXR1cm4gZ2V0QmluYXJ5UHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oYmluYXJ5KXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYmluYXJ5LGluZm8pfSkudGhlbihmdW5jdGlvbihpbnN0YW5jZSl7cmV0dXJuIGluc3RhbmNlfSkudGhlbihyZWNlaXZlcixmdW5jdGlvbihyZWFzb24pe2VycihcImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206IFwiK3JlYXNvbik7YWJvcnQocmVhc29uKX0pfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXN5bmMoKXtpZighd2FzbUJpbmFyeSYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT09XCJmdW5jdGlvblwiJiYhaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSYmdHlwZW9mIGZldGNoPT09XCJmdW5jdGlvblwiKXtyZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUse2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe3ZhciByZXN1bHQ9V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcocmVzcG9uc2UsaW5mbyk7cmV0dXJuIHJlc3VsdC50aGVuKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0LGZ1bmN0aW9uKHJlYXNvbil7ZXJyKFwid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6IFwiK3JlYXNvbik7ZXJyKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIik7cmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpfSl9KX1lbHNle3JldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KX19aWYoTW9kdWxlW1wiaW5zdGFudGlhdGVXYXNtXCJdKXt0cnl7dmFyIGV4cG9ydHM9TW9kdWxlW1wiaW5zdGFudGlhdGVXYXNtXCJdKGluZm8scmVjZWl2ZUluc3RhbmNlKTtyZXR1cm4gZXhwb3J0c31jYXRjaChlKXtlcnIoXCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiBcIitlKTtyZXR1cm4gZmFsc2V9fWluc3RhbnRpYXRlQXN5bmMoKS5jYXRjaChyZWFkeVByb21pc2VSZWplY3QpO3JldHVybnt9fXZhciB0ZW1wRG91YmxlO3ZhciB0ZW1wSTY0O2Z1bmN0aW9uIGNhbGxSdW50aW1lQ2FsbGJhY2tzKGNhbGxiYWNrcyl7d2hpbGUoY2FsbGJhY2tzLmxlbmd0aD4wKXt2YXIgY2FsbGJhY2s9Y2FsbGJhY2tzLnNoaWZ0KCk7aWYodHlwZW9mIGNhbGxiYWNrPT1cImZ1bmN0aW9uXCIpe2NhbGxiYWNrKE1vZHVsZSk7Y29udGludWV9dmFyIGZ1bmM9Y2FsbGJhY2suZnVuYztpZih0eXBlb2YgZnVuYz09PVwibnVtYmVyXCIpe2lmKGNhbGxiYWNrLmFyZz09PXVuZGVmaW5lZCl7Z2V0V2FzbVRhYmxlRW50cnkoZnVuYykoKX1lbHNle2dldFdhc21UYWJsZUVudHJ5KGZ1bmMpKGNhbGxiYWNrLmFyZyl9fWVsc2V7ZnVuYyhjYWxsYmFjay5hcmc9PT11bmRlZmluZWQ/bnVsbDpjYWxsYmFjay5hcmcpfX19dmFyIHdhc21UYWJsZU1pcnJvcj1bXTtmdW5jdGlvbiBnZXRXYXNtVGFibGVFbnRyeShmdW5jUHRyKXt2YXIgZnVuYz13YXNtVGFibGVNaXJyb3JbZnVuY1B0cl07aWYoIWZ1bmMpe2lmKGZ1bmNQdHI+PXdhc21UYWJsZU1pcnJvci5sZW5ndGgpd2FzbVRhYmxlTWlycm9yLmxlbmd0aD1mdW5jUHRyKzE7d2FzbVRhYmxlTWlycm9yW2Z1bmNQdHJdPWZ1bmM9d2FzbVRhYmxlLmdldChmdW5jUHRyKX1yZXR1cm4gZnVuY31mdW5jdGlvbiBfX19jeGFfYWxsb2NhdGVfZXhjZXB0aW9uKHNpemUpe3JldHVybiBfbWFsbG9jKHNpemUrMTYpKzE2fWZ1bmN0aW9uIEV4Y2VwdGlvbkluZm8oZXhjUHRyKXt0aGlzLmV4Y1B0cj1leGNQdHI7dGhpcy5wdHI9ZXhjUHRyLTE2O3RoaXMuc2V0X3R5cGU9ZnVuY3Rpb24odHlwZSl7SEVBUDMyW3RoaXMucHRyKzQ+PjJdPXR5cGV9O3RoaXMuZ2V0X3R5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUDMyW3RoaXMucHRyKzQ+PjJdfTt0aGlzLnNldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKGRlc3RydWN0b3Ipe0hFQVAzMlt0aGlzLnB0cis4Pj4yXT1kZXN0cnVjdG9yfTt0aGlzLmdldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVAzMlt0aGlzLnB0cis4Pj4yXX07dGhpcy5zZXRfcmVmY291bnQ9ZnVuY3Rpb24ocmVmY291bnQpe0hFQVAzMlt0aGlzLnB0cj4+Ml09cmVmY291bnR9O3RoaXMuc2V0X2NhdWdodD1mdW5jdGlvbihjYXVnaHQpe2NhdWdodD1jYXVnaHQ/MTowO0hFQVA4W3RoaXMucHRyKzEyPj4wXT1jYXVnaHR9O3RoaXMuZ2V0X2NhdWdodD1mdW5jdGlvbigpe3JldHVybiBIRUFQOFt0aGlzLnB0cisxMj4+MF0hPTB9O3RoaXMuc2V0X3JldGhyb3duPWZ1bmN0aW9uKHJldGhyb3duKXtyZXRocm93bj1yZXRocm93bj8xOjA7SEVBUDhbdGhpcy5wdHIrMTM+PjBdPXJldGhyb3dufTt0aGlzLmdldF9yZXRocm93bj1mdW5jdGlvbigpe3JldHVybiBIRUFQOFt0aGlzLnB0cisxMz4+MF0hPTB9O3RoaXMuaW5pdD1mdW5jdGlvbih0eXBlLGRlc3RydWN0b3Ipe3RoaXMuc2V0X3R5cGUodHlwZSk7dGhpcy5zZXRfZGVzdHJ1Y3RvcihkZXN0cnVjdG9yKTt0aGlzLnNldF9yZWZjb3VudCgwKTt0aGlzLnNldF9jYXVnaHQoZmFsc2UpO3RoaXMuc2V0X3JldGhyb3duKGZhbHNlKX07dGhpcy5hZGRfcmVmPWZ1bmN0aW9uKCl7dmFyIHZhbHVlPUhFQVAzMlt0aGlzLnB0cj4+Ml07SEVBUDMyW3RoaXMucHRyPj4yXT12YWx1ZSsxfTt0aGlzLnJlbGVhc2VfcmVmPWZ1bmN0aW9uKCl7dmFyIHByZXY9SEVBUDMyW3RoaXMucHRyPj4yXTtIRUFQMzJbdGhpcy5wdHI+PjJdPXByZXYtMTtyZXR1cm4gcHJldj09PTF9fXZhciBleGNlcHRpb25MYXN0PTA7dmFyIHVuY2F1Z2h0RXhjZXB0aW9uQ291bnQ9MDtmdW5jdGlvbiBfX19jeGFfdGhyb3cocHRyLHR5cGUsZGVzdHJ1Y3Rvcil7dmFyIGluZm89bmV3IEV4Y2VwdGlvbkluZm8ocHRyKTtpbmZvLmluaXQodHlwZSxkZXN0cnVjdG9yKTtleGNlcHRpb25MYXN0PXB0cjt1bmNhdWdodEV4Y2VwdGlvbkNvdW50Kys7dGhyb3cgcHRyfWZ1bmN0aW9uIHNldEVyck5vKHZhbHVlKXtIRUFQMzJbX19fZXJybm9fbG9jYXRpb24oKT4+Ml09dmFsdWU7cmV0dXJuIHZhbHVlfXZhciBQQVRIPXtzcGxpdFBhdGg6ZnVuY3Rpb24oZmlsZW5hbWUpe3ZhciBzcGxpdFBhdGhSZT0vXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztyZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSl9LG5vcm1hbGl6ZUFycmF5OmZ1bmN0aW9uKHBhcnRzLGFsbG93QWJvdmVSb290KXt2YXIgdXA9MDtmb3IodmFyIGk9cGFydHMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBsYXN0PXBhcnRzW2ldO2lmKGxhc3Q9PT1cIi5cIil7cGFydHMuc3BsaWNlKGksMSl9ZWxzZSBpZihsYXN0PT09XCIuLlwiKXtwYXJ0cy5zcGxpY2UoaSwxKTt1cCsrfWVsc2UgaWYodXApe3BhcnRzLnNwbGljZShpLDEpO3VwLS19fWlmKGFsbG93QWJvdmVSb290KXtmb3IoO3VwO3VwLS0pe3BhcnRzLnVuc2hpZnQoXCIuLlwiKX19cmV0dXJuIHBhcnRzfSxub3JtYWxpemU6ZnVuY3Rpb24ocGF0aCl7dmFyIGlzQWJzb2x1dGU9cGF0aC5jaGFyQXQoMCk9PT1cIi9cIix0cmFpbGluZ1NsYXNoPXBhdGguc3Vic3RyKC0xKT09PVwiL1wiO3BhdGg9UEFUSC5ub3JtYWxpemVBcnJheShwYXRoLnNwbGl0KFwiL1wiKS5maWx0ZXIoZnVuY3Rpb24ocCl7cmV0dXJuISFwfSksIWlzQWJzb2x1dGUpLmpvaW4oXCIvXCIpO2lmKCFwYXRoJiYhaXNBYnNvbHV0ZSl7cGF0aD1cIi5cIn1pZihwYXRoJiZ0cmFpbGluZ1NsYXNoKXtwYXRoKz1cIi9cIn1yZXR1cm4oaXNBYnNvbHV0ZT9cIi9cIjpcIlwiKStwYXRofSxkaXJuYW1lOmZ1bmN0aW9uKHBhdGgpe3ZhciByZXN1bHQ9UEFUSC5zcGxpdFBhdGgocGF0aCkscm9vdD1yZXN1bHRbMF0sZGlyPXJlc3VsdFsxXTtpZighcm9vdCYmIWRpcil7cmV0dXJuXCIuXCJ9aWYoZGlyKXtkaXI9ZGlyLnN1YnN0cigwLGRpci5sZW5ndGgtMSl9cmV0dXJuIHJvb3QrZGlyfSxiYXNlbmFtZTpmdW5jdGlvbihwYXRoKXtpZihwYXRoPT09XCIvXCIpcmV0dXJuXCIvXCI7cGF0aD1QQVRILm5vcm1hbGl6ZShwYXRoKTtwYXRoPXBhdGgucmVwbGFjZSgvXFwvJC8sXCJcIik7dmFyIGxhc3RTbGFzaD1wYXRoLmxhc3RJbmRleE9mKFwiL1wiKTtpZihsYXN0U2xhc2g9PT0tMSlyZXR1cm4gcGF0aDtyZXR1cm4gcGF0aC5zdWJzdHIobGFzdFNsYXNoKzEpfSxleHRuYW1lOmZ1bmN0aW9uKHBhdGgpe3JldHVybiBQQVRILnNwbGl0UGF0aChwYXRoKVszXX0sam9pbjpmdW5jdGlvbigpe3ZhciBwYXRocz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIFBBVEgubm9ybWFsaXplKHBhdGhzLmpvaW4oXCIvXCIpKX0sam9pbjI6ZnVuY3Rpb24obCxyKXtyZXR1cm4gUEFUSC5ub3JtYWxpemUobCtcIi9cIityKX19O2Z1bmN0aW9uIGdldFJhbmRvbURldmljZSgpe2lmKHR5cGVvZiBjcnlwdG89PT1cIm9iamVjdFwiJiZ0eXBlb2YgY3J5cHRvW1wiZ2V0UmFuZG9tVmFsdWVzXCJdPT09XCJmdW5jdGlvblwiKXt2YXIgcmFuZG9tQnVmZmVyPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiBmdW5jdGlvbigpe2NyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tQnVmZmVyKTtyZXR1cm4gcmFuZG9tQnVmZmVyWzBdfX1lbHNlIHJldHVybiBmdW5jdGlvbigpe2Fib3J0KFwicmFuZG9tRGV2aWNlXCIpfX12YXIgUEFUSF9GUz17cmVzb2x2ZTpmdW5jdGlvbigpe3ZhciByZXNvbHZlZFBhdGg9XCJcIixyZXNvbHZlZEFic29sdXRlPWZhbHNlO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLTE7aT49LTEmJiFyZXNvbHZlZEFic29sdXRlO2ktLSl7dmFyIHBhdGg9aT49MD9hcmd1bWVudHNbaV06RlMuY3dkKCk7aWYodHlwZW9mIHBhdGghPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3NcIil9ZWxzZSBpZighcGF0aCl7cmV0dXJuXCJcIn1yZXNvbHZlZFBhdGg9cGF0aCtcIi9cIityZXNvbHZlZFBhdGg7cmVzb2x2ZWRBYnNvbHV0ZT1wYXRoLmNoYXJBdCgwKT09PVwiL1wifXJlc29sdmVkUGF0aD1QQVRILm5vcm1hbGl6ZUFycmF5KHJlc29sdmVkUGF0aC5zcGxpdChcIi9cIikuZmlsdGVyKGZ1bmN0aW9uKHApe3JldHVybiEhcH0pLCFyZXNvbHZlZEFic29sdXRlKS5qb2luKFwiL1wiKTtyZXR1cm4ocmVzb2x2ZWRBYnNvbHV0ZT9cIi9cIjpcIlwiKStyZXNvbHZlZFBhdGh8fFwiLlwifSxyZWxhdGl2ZTpmdW5jdGlvbihmcm9tLHRvKXtmcm9tPVBBVEhfRlMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7dG89UEFUSF9GUy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7ZnVuY3Rpb24gdHJpbShhcnIpe3ZhciBzdGFydD0wO2Zvcig7c3RhcnQ8YXJyLmxlbmd0aDtzdGFydCsrKXtpZihhcnJbc3RhcnRdIT09XCJcIilicmVha312YXIgZW5kPWFyci5sZW5ndGgtMTtmb3IoO2VuZD49MDtlbmQtLSl7aWYoYXJyW2VuZF0hPT1cIlwiKWJyZWFrfWlmKHN0YXJ0PmVuZClyZXR1cm5bXTtyZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LGVuZC1zdGFydCsxKX12YXIgZnJvbVBhcnRzPXRyaW0oZnJvbS5zcGxpdChcIi9cIikpO3ZhciB0b1BhcnRzPXRyaW0odG8uc3BsaXQoXCIvXCIpKTt2YXIgbGVuZ3RoPU1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsdG9QYXJ0cy5sZW5ndGgpO3ZhciBzYW1lUGFydHNMZW5ndGg9bGVuZ3RoO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7aWYoZnJvbVBhcnRzW2ldIT09dG9QYXJ0c1tpXSl7c2FtZVBhcnRzTGVuZ3RoPWk7YnJlYWt9fXZhciBvdXRwdXRQYXJ0cz1bXTtmb3IodmFyIGk9c2FtZVBhcnRzTGVuZ3RoO2k8ZnJvbVBhcnRzLmxlbmd0aDtpKyspe291dHB1dFBhcnRzLnB1c2goXCIuLlwiKX1vdXRwdXRQYXJ0cz1vdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtyZXR1cm4gb3V0cHV0UGFydHMuam9pbihcIi9cIil9fTt2YXIgVFRZPXt0dHlzOltdLGluaXQ6ZnVuY3Rpb24oKXt9LHNodXRkb3duOmZ1bmN0aW9uKCl7fSxyZWdpc3RlcjpmdW5jdGlvbihkZXYsb3BzKXtUVFkudHR5c1tkZXZdPXtpbnB1dDpbXSxvdXRwdXQ6W10sb3BzOm9wc307RlMucmVnaXN0ZXJEZXZpY2UoZGV2LFRUWS5zdHJlYW1fb3BzKX0sc3RyZWFtX29wczp7b3BlbjpmdW5jdGlvbihzdHJlYW0pe3ZhciB0dHk9VFRZLnR0eXNbc3RyZWFtLm5vZGUucmRldl07aWYoIXR0eSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpfXN0cmVhbS50dHk9dHR5O3N0cmVhbS5zZWVrYWJsZT1mYWxzZX0sY2xvc2U6ZnVuY3Rpb24oc3RyZWFtKXtzdHJlYW0udHR5Lm9wcy5mbHVzaChzdHJlYW0udHR5KX0sZmx1c2g6ZnVuY3Rpb24oc3RyZWFtKXtzdHJlYW0udHR5Lm9wcy5mbHVzaChzdHJlYW0udHR5KX0scmVhZDpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKXtpZighc3RyZWFtLnR0eXx8IXN0cmVhbS50dHkub3BzLmdldF9jaGFyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2MCl9dmFyIGJ5dGVzUmVhZD0wO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIHJlc3VsdDt0cnl7cmVzdWx0PXN0cmVhbS50dHkub3BzLmdldF9jaGFyKHN0cmVhbS50dHkpfWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX1pZihyZXN1bHQ9PT11bmRlZmluZWQmJmJ5dGVzUmVhZD09PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYpfWlmKHJlc3VsdD09PW51bGx8fHJlc3VsdD09PXVuZGVmaW5lZClicmVhaztieXRlc1JlYWQrKztidWZmZXJbb2Zmc2V0K2ldPXJlc3VsdH1pZihieXRlc1JlYWQpe3N0cmVhbS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpfXJldHVybiBieXRlc1JlYWR9LHdyaXRlOmZ1bmN0aW9uKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3Mpe2lmKCFzdHJlYW0udHR5fHwhc3RyZWFtLnR0eS5vcHMucHV0X2NoYXIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYwKX10cnl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtzdHJlYW0udHR5Lm9wcy5wdXRfY2hhcihzdHJlYW0udHR5LGJ1ZmZlcltvZmZzZXQraV0pfX1jYXRjaChlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSl9aWYobGVuZ3RoKXtzdHJlYW0ubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKX1yZXR1cm4gaX19LGRlZmF1bHRfdHR5X29wczp7Z2V0X2NoYXI6ZnVuY3Rpb24odHR5KXtpZighdHR5LmlucHV0Lmxlbmd0aCl7dmFyIHJlc3VsdD1udWxsO2lmKHR5cGVvZiB3aW5kb3chPVwidW5kZWZpbmVkXCImJnR5cGVvZiB3aW5kb3cucHJvbXB0PT1cImZ1bmN0aW9uXCIpe3Jlc3VsdD13aW5kb3cucHJvbXB0KFwiSW5wdXQ6IFwiKTtpZihyZXN1bHQhPT1udWxsKXtyZXN1bHQrPVwiXFxuXCJ9fWVsc2UgaWYodHlwZW9mIHJlYWRsaW5lPT1cImZ1bmN0aW9uXCIpe3Jlc3VsdD1yZWFkbGluZSgpO2lmKHJlc3VsdCE9PW51bGwpe3Jlc3VsdCs9XCJcXG5cIn19aWYoIXJlc3VsdCl7cmV0dXJuIG51bGx9dHR5LmlucHV0PWludEFycmF5RnJvbVN0cmluZyhyZXN1bHQsdHJ1ZSl9cmV0dXJuIHR0eS5pbnB1dC5zaGlmdCgpfSxwdXRfY2hhcjpmdW5jdGlvbih0dHksdmFsKXtpZih2YWw9PT1udWxsfHx2YWw9PT0xMCl7b3V0KFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsMCkpO3R0eS5vdXRwdXQ9W119ZWxzZXtpZih2YWwhPTApdHR5Lm91dHB1dC5wdXNoKHZhbCl9fSxmbHVzaDpmdW5jdGlvbih0dHkpe2lmKHR0eS5vdXRwdXQmJnR0eS5vdXRwdXQubGVuZ3RoPjApe291dChVVEY4QXJyYXlUb1N0cmluZyh0dHkub3V0cHV0LDApKTt0dHkub3V0cHV0PVtdfX19LGRlZmF1bHRfdHR5MV9vcHM6e3B1dF9jaGFyOmZ1bmN0aW9uKHR0eSx2YWwpe2lmKHZhbD09PW51bGx8fHZhbD09PTEwKXtlcnIoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwwKSk7dHR5Lm91dHB1dD1bXX1lbHNle2lmKHZhbCE9MCl0dHkub3V0cHV0LnB1c2godmFsKX19LGZsdXNoOmZ1bmN0aW9uKHR0eSl7aWYodHR5Lm91dHB1dCYmdHR5Lm91dHB1dC5sZW5ndGg+MCl7ZXJyKFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsMCkpO3R0eS5vdXRwdXQ9W119fX19O2Z1bmN0aW9uIHplcm9NZW1vcnkoYWRkcmVzcyxzaXplKXtIRUFQVTguZmlsbCgwLGFkZHJlc3MsYWRkcmVzcytzaXplKX1mdW5jdGlvbiBhbGlnbk1lbW9yeShzaXplLGFsaWdubWVudCl7cmV0dXJuIE1hdGguY2VpbChzaXplL2FsaWdubWVudCkqYWxpZ25tZW50fWZ1bmN0aW9uIG1tYXBBbGxvYyhzaXplKXtzaXplPWFsaWduTWVtb3J5KHNpemUsNjU1MzYpO3ZhciBwdHI9X21lbWFsaWduKDY1NTM2LHNpemUpO2lmKCFwdHIpcmV0dXJuIDA7emVyb01lbW9yeShwdHIsc2l6ZSk7cmV0dXJuIHB0cn12YXIgTUVNRlM9e29wc190YWJsZTpudWxsLG1vdW50OmZ1bmN0aW9uKG1vdW50KXtyZXR1cm4gTUVNRlMuY3JlYXRlTm9kZShudWxsLFwiL1wiLDE2Mzg0fDUxMSwwKX0sY3JlYXRlTm9kZTpmdW5jdGlvbihwYXJlbnQsbmFtZSxtb2RlLGRldil7aWYoRlMuaXNCbGtkZXYobW9kZSl8fEZTLmlzRklGTyhtb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfWlmKCFNRU1GUy5vcHNfdGFibGUpe01FTUZTLm9wc190YWJsZT17ZGlyOntub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyLGxvb2t1cDpNRU1GUy5ub2RlX29wcy5sb29rdXAsbWtub2Q6TUVNRlMubm9kZV9vcHMubWtub2QscmVuYW1lOk1FTUZTLm5vZGVfb3BzLnJlbmFtZSx1bmxpbms6TUVNRlMubm9kZV9vcHMudW5saW5rLHJtZGlyOk1FTUZTLm5vZGVfb3BzLnJtZGlyLHJlYWRkaXI6TUVNRlMubm9kZV9vcHMucmVhZGRpcixzeW1saW5rOk1FTUZTLm5vZGVfb3BzLnN5bWxpbmt9LHN0cmVhbTp7bGxzZWVrOk1FTUZTLnN0cmVhbV9vcHMubGxzZWVrfX0sZmlsZTp7bm9kZTp7Z2V0YXR0cjpNRU1GUy5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6TUVNRlMubm9kZV9vcHMuc2V0YXR0cn0sc3RyZWFtOntsbHNlZWs6TUVNRlMuc3RyZWFtX29wcy5sbHNlZWsscmVhZDpNRU1GUy5zdHJlYW1fb3BzLnJlYWQsd3JpdGU6TUVNRlMuc3RyZWFtX29wcy53cml0ZSxhbGxvY2F0ZTpNRU1GUy5zdHJlYW1fb3BzLmFsbG9jYXRlLG1tYXA6TUVNRlMuc3RyZWFtX29wcy5tbWFwLG1zeW5jOk1FTUZTLnN0cmVhbV9vcHMubXN5bmN9fSxsaW5rOntub2RlOntnZXRhdHRyOk1FTUZTLm5vZGVfb3BzLmdldGF0dHIsc2V0YXR0cjpNRU1GUy5ub2RlX29wcy5zZXRhdHRyLHJlYWRsaW5rOk1FTUZTLm5vZGVfb3BzLnJlYWRsaW5rfSxzdHJlYW06e319LGNocmRldjp7bm9kZTp7Z2V0YXR0cjpNRU1GUy5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6TUVNRlMubm9kZV9vcHMuc2V0YXR0cn0sc3RyZWFtOkZTLmNocmRldl9zdHJlYW1fb3BzfX19dmFyIG5vZGU9RlMuY3JlYXRlTm9kZShwYXJlbnQsbmFtZSxtb2RlLGRldik7aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7bm9kZS5ub2RlX29wcz1NRU1GUy5vcHNfdGFibGUuZGlyLm5vZGU7bm9kZS5zdHJlYW1fb3BzPU1FTUZTLm9wc190YWJsZS5kaXIuc3RyZWFtO25vZGUuY29udGVudHM9e319ZWxzZSBpZihGUy5pc0ZpbGUobm9kZS5tb2RlKSl7bm9kZS5ub2RlX29wcz1NRU1GUy5vcHNfdGFibGUuZmlsZS5ub2RlO25vZGUuc3RyZWFtX29wcz1NRU1GUy5vcHNfdGFibGUuZmlsZS5zdHJlYW07bm9kZS51c2VkQnl0ZXM9MDtub2RlLmNvbnRlbnRzPW51bGx9ZWxzZSBpZihGUy5pc0xpbmsobm9kZS5tb2RlKSl7bm9kZS5ub2RlX29wcz1NRU1GUy5vcHNfdGFibGUubGluay5ub2RlO25vZGUuc3RyZWFtX29wcz1NRU1GUy5vcHNfdGFibGUubGluay5zdHJlYW19ZWxzZSBpZihGUy5pc0NocmRldihub2RlLm1vZGUpKXtub2RlLm5vZGVfb3BzPU1FTUZTLm9wc190YWJsZS5jaHJkZXYubm9kZTtub2RlLnN0cmVhbV9vcHM9TUVNRlMub3BzX3RhYmxlLmNocmRldi5zdHJlYW19bm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKTtpZihwYXJlbnQpe3BhcmVudC5jb250ZW50c1tuYW1lXT1ub2RlO3BhcmVudC50aW1lc3RhbXA9bm9kZS50aW1lc3RhbXB9cmV0dXJuIG5vZGV9LGdldEZpbGVEYXRhQXNUeXBlZEFycmF5OmZ1bmN0aW9uKG5vZGUpe2lmKCFub2RlLmNvbnRlbnRzKXJldHVybiBuZXcgVWludDhBcnJheSgwKTtpZihub2RlLmNvbnRlbnRzLnN1YmFycmF5KXJldHVybiBub2RlLmNvbnRlbnRzLnN1YmFycmF5KDAsbm9kZS51c2VkQnl0ZXMpO3JldHVybiBuZXcgVWludDhBcnJheShub2RlLmNvbnRlbnRzKX0sZXhwYW5kRmlsZVN0b3JhZ2U6ZnVuY3Rpb24obm9kZSxuZXdDYXBhY2l0eSl7dmFyIHByZXZDYXBhY2l0eT1ub2RlLmNvbnRlbnRzP25vZGUuY29udGVudHMubGVuZ3RoOjA7aWYocHJldkNhcGFjaXR5Pj1uZXdDYXBhY2l0eSlyZXR1cm47dmFyIENBUEFDSVRZX0RPVUJMSU5HX01BWD0xMDI0KjEwMjQ7bmV3Q2FwYWNpdHk9TWF0aC5tYXgobmV3Q2FwYWNpdHkscHJldkNhcGFjaXR5KihwcmV2Q2FwYWNpdHk8Q0FQQUNJVFlfRE9VQkxJTkdfTUFYPzI6MS4xMjUpPj4+MCk7aWYocHJldkNhcGFjaXR5IT0wKW5ld0NhcGFjaXR5PU1hdGgubWF4KG5ld0NhcGFjaXR5LDI1Nik7dmFyIG9sZENvbnRlbnRzPW5vZGUuY29udGVudHM7bm9kZS5jb250ZW50cz1uZXcgVWludDhBcnJheShuZXdDYXBhY2l0eSk7aWYobm9kZS51c2VkQnl0ZXM+MClub2RlLmNvbnRlbnRzLnNldChvbGRDb250ZW50cy5zdWJhcnJheSgwLG5vZGUudXNlZEJ5dGVzKSwwKX0scmVzaXplRmlsZVN0b3JhZ2U6ZnVuY3Rpb24obm9kZSxuZXdTaXplKXtpZihub2RlLnVzZWRCeXRlcz09bmV3U2l6ZSlyZXR1cm47aWYobmV3U2l6ZT09MCl7bm9kZS5jb250ZW50cz1udWxsO25vZGUudXNlZEJ5dGVzPTB9ZWxzZXt2YXIgb2xkQ29udGVudHM9bm9kZS5jb250ZW50cztub2RlLmNvbnRlbnRzPW5ldyBVaW50OEFycmF5KG5ld1NpemUpO2lmKG9sZENvbnRlbnRzKXtub2RlLmNvbnRlbnRzLnNldChvbGRDb250ZW50cy5zdWJhcnJheSgwLE1hdGgubWluKG5ld1NpemUsbm9kZS51c2VkQnl0ZXMpKSl9bm9kZS51c2VkQnl0ZXM9bmV3U2l6ZX19LG5vZGVfb3BzOntnZXRhdHRyOmZ1bmN0aW9uKG5vZGUpe3ZhciBhdHRyPXt9O2F0dHIuZGV2PUZTLmlzQ2hyZGV2KG5vZGUubW9kZSk/bm9kZS5pZDoxO2F0dHIuaW5vPW5vZGUuaWQ7YXR0ci5tb2RlPW5vZGUubW9kZTthdHRyLm5saW5rPTE7YXR0ci51aWQ9MDthdHRyLmdpZD0wO2F0dHIucmRldj1ub2RlLnJkZXY7aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7YXR0ci5zaXplPTQwOTZ9ZWxzZSBpZihGUy5pc0ZpbGUobm9kZS5tb2RlKSl7YXR0ci5zaXplPW5vZGUudXNlZEJ5dGVzfWVsc2UgaWYoRlMuaXNMaW5rKG5vZGUubW9kZSkpe2F0dHIuc2l6ZT1ub2RlLmxpbmsubGVuZ3RofWVsc2V7YXR0ci5zaXplPTB9YXR0ci5hdGltZT1uZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7YXR0ci5tdGltZT1uZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7YXR0ci5jdGltZT1uZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7YXR0ci5ibGtzaXplPTQwOTY7YXR0ci5ibG9ja3M9TWF0aC5jZWlsKGF0dHIuc2l6ZS9hdHRyLmJsa3NpemUpO3JldHVybiBhdHRyfSxzZXRhdHRyOmZ1bmN0aW9uKG5vZGUsYXR0cil7aWYoYXR0ci5tb2RlIT09dW5kZWZpbmVkKXtub2RlLm1vZGU9YXR0ci5tb2RlfWlmKGF0dHIudGltZXN0YW1wIT09dW5kZWZpbmVkKXtub2RlLnRpbWVzdGFtcD1hdHRyLnRpbWVzdGFtcH1pZihhdHRyLnNpemUhPT11bmRlZmluZWQpe01FTUZTLnJlc2l6ZUZpbGVTdG9yYWdlKG5vZGUsYXR0ci5zaXplKX19LGxvb2t1cDpmdW5jdGlvbihwYXJlbnQsbmFtZSl7dGhyb3cgRlMuZ2VuZXJpY0Vycm9yc1s0NF19LG1rbm9kOmZ1bmN0aW9uKHBhcmVudCxuYW1lLG1vZGUsZGV2KXtyZXR1cm4gTUVNRlMuY3JlYXRlTm9kZShwYXJlbnQsbmFtZSxtb2RlLGRldil9LHJlbmFtZTpmdW5jdGlvbihvbGRfbm9kZSxuZXdfZGlyLG5ld19uYW1lKXtpZihGUy5pc0RpcihvbGRfbm9kZS5tb2RlKSl7dmFyIG5ld19ub2RlO3RyeXtuZXdfbm9kZT1GUy5sb29rdXBOb2RlKG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe31pZihuZXdfbm9kZSl7Zm9yKHZhciBpIGluIG5ld19ub2RlLmNvbnRlbnRzKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSl9fX1kZWxldGUgb2xkX25vZGUucGFyZW50LmNvbnRlbnRzW29sZF9ub2RlLm5hbWVdO29sZF9ub2RlLnBhcmVudC50aW1lc3RhbXA9RGF0ZS5ub3coKTtvbGRfbm9kZS5uYW1lPW5ld19uYW1lO25ld19kaXIuY29udGVudHNbbmV3X25hbWVdPW9sZF9ub2RlO25ld19kaXIudGltZXN0YW1wPW9sZF9ub2RlLnBhcmVudC50aW1lc3RhbXA7b2xkX25vZGUucGFyZW50PW5ld19kaXJ9LHVubGluazpmdW5jdGlvbihwYXJlbnQsbmFtZSl7ZGVsZXRlIHBhcmVudC5jb250ZW50c1tuYW1lXTtwYXJlbnQudGltZXN0YW1wPURhdGUubm93KCl9LHJtZGlyOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXt2YXIgbm9kZT1GUy5sb29rdXBOb2RlKHBhcmVudCxuYW1lKTtmb3IodmFyIGkgaW4gbm9kZS5jb250ZW50cyl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTUpfWRlbGV0ZSBwYXJlbnQuY29udGVudHNbbmFtZV07cGFyZW50LnRpbWVzdGFtcD1EYXRlLm5vdygpfSxyZWFkZGlyOmZ1bmN0aW9uKG5vZGUpe3ZhciBlbnRyaWVzPVtcIi5cIixcIi4uXCJdO2Zvcih2YXIga2V5IGluIG5vZGUuY29udGVudHMpe2lmKCFub2RlLmNvbnRlbnRzLmhhc093blByb3BlcnR5KGtleSkpe2NvbnRpbnVlfWVudHJpZXMucHVzaChrZXkpfXJldHVybiBlbnRyaWVzfSxzeW1saW5rOmZ1bmN0aW9uKHBhcmVudCxuZXduYW1lLG9sZHBhdGgpe3ZhciBub2RlPU1FTUZTLmNyZWF0ZU5vZGUocGFyZW50LG5ld25hbWUsNTExfDQwOTYwLDApO25vZGUubGluaz1vbGRwYXRoO3JldHVybiBub2RlfSxyZWFkbGluazpmdW5jdGlvbihub2RlKXtpZighRlMuaXNMaW5rKG5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1yZXR1cm4gbm9kZS5saW5rfX0sc3RyZWFtX29wczp7cmVhZDpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24pe3ZhciBjb250ZW50cz1zdHJlYW0ubm9kZS5jb250ZW50cztpZihwb3NpdGlvbj49c3RyZWFtLm5vZGUudXNlZEJ5dGVzKXJldHVybiAwO3ZhciBzaXplPU1hdGgubWluKHN0cmVhbS5ub2RlLnVzZWRCeXRlcy1wb3NpdGlvbixsZW5ndGgpO2lmKHNpemU+OCYmY29udGVudHMuc3ViYXJyYXkpe2J1ZmZlci5zZXQoY29udGVudHMuc3ViYXJyYXkocG9zaXRpb24scG9zaXRpb24rc2l6ZSksb2Zmc2V0KX1lbHNle2Zvcih2YXIgaT0wO2k8c2l6ZTtpKyspYnVmZmVyW29mZnNldCtpXT1jb250ZW50c1twb3NpdGlvbitpXX1yZXR1cm4gc2l6ZX0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uLGNhbk93bil7aWYoYnVmZmVyLmJ1ZmZlcj09PUhFQVA4LmJ1ZmZlcil7Y2FuT3duPWZhbHNlfWlmKCFsZW5ndGgpcmV0dXJuIDA7dmFyIG5vZGU9c3RyZWFtLm5vZGU7bm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKTtpZihidWZmZXIuc3ViYXJyYXkmJighbm9kZS5jb250ZW50c3x8bm9kZS5jb250ZW50cy5zdWJhcnJheSkpe2lmKGNhbk93bil7bm9kZS5jb250ZW50cz1idWZmZXIuc3ViYXJyYXkob2Zmc2V0LG9mZnNldCtsZW5ndGgpO25vZGUudXNlZEJ5dGVzPWxlbmd0aDtyZXR1cm4gbGVuZ3RofWVsc2UgaWYobm9kZS51c2VkQnl0ZXM9PT0wJiZwb3NpdGlvbj09PTApe25vZGUuY29udGVudHM9YnVmZmVyLnNsaWNlKG9mZnNldCxvZmZzZXQrbGVuZ3RoKTtub2RlLnVzZWRCeXRlcz1sZW5ndGg7cmV0dXJuIGxlbmd0aH1lbHNlIGlmKHBvc2l0aW9uK2xlbmd0aDw9bm9kZS51c2VkQnl0ZXMpe25vZGUuY29udGVudHMuc2V0KGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsb2Zmc2V0K2xlbmd0aCkscG9zaXRpb24pO3JldHVybiBsZW5ndGh9fU1FTUZTLmV4cGFuZEZpbGVTdG9yYWdlKG5vZGUscG9zaXRpb24rbGVuZ3RoKTtpZihub2RlLmNvbnRlbnRzLnN1YmFycmF5JiZidWZmZXIuc3ViYXJyYXkpe25vZGUuY29udGVudHMuc2V0KGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsb2Zmc2V0K2xlbmd0aCkscG9zaXRpb24pfWVsc2V7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtub2RlLmNvbnRlbnRzW3Bvc2l0aW9uK2ldPWJ1ZmZlcltvZmZzZXQraV19fW5vZGUudXNlZEJ5dGVzPU1hdGgubWF4KG5vZGUudXNlZEJ5dGVzLHBvc2l0aW9uK2xlbmd0aCk7cmV0dXJuIGxlbmd0aH0sbGxzZWVrOmZ1bmN0aW9uKHN0cmVhbSxvZmZzZXQsd2hlbmNlKXt2YXIgcG9zaXRpb249b2Zmc2V0O2lmKHdoZW5jZT09PTEpe3Bvc2l0aW9uKz1zdHJlYW0ucG9zaXRpb259ZWxzZSBpZih3aGVuY2U9PT0yKXtpZihGUy5pc0ZpbGUoc3RyZWFtLm5vZGUubW9kZSkpe3Bvc2l0aW9uKz1zdHJlYW0ubm9kZS51c2VkQnl0ZXN9fWlmKHBvc2l0aW9uPDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1yZXR1cm4gcG9zaXRpb259LGFsbG9jYXRlOmZ1bmN0aW9uKHN0cmVhbSxvZmZzZXQsbGVuZ3RoKXtNRU1GUy5leHBhbmRGaWxlU3RvcmFnZShzdHJlYW0ubm9kZSxvZmZzZXQrbGVuZ3RoKTtzdHJlYW0ubm9kZS51c2VkQnl0ZXM9TWF0aC5tYXgoc3RyZWFtLm5vZGUudXNlZEJ5dGVzLG9mZnNldCtsZW5ndGgpfSxtbWFwOmZ1bmN0aW9uKHN0cmVhbSxhZGRyZXNzLGxlbmd0aCxwb3NpdGlvbixwcm90LGZsYWdzKXtpZihhZGRyZXNzIT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfWlmKCFGUy5pc0ZpbGUoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKX12YXIgcHRyO3ZhciBhbGxvY2F0ZWQ7dmFyIGNvbnRlbnRzPXN0cmVhbS5ub2RlLmNvbnRlbnRzO2lmKCEoZmxhZ3MmMikmJmNvbnRlbnRzLmJ1ZmZlcj09PWJ1ZmZlcil7YWxsb2NhdGVkPWZhbHNlO3B0cj1jb250ZW50cy5ieXRlT2Zmc2V0fWVsc2V7aWYocG9zaXRpb24+MHx8cG9zaXRpb24rbGVuZ3RoPGNvbnRlbnRzLmxlbmd0aCl7aWYoY29udGVudHMuc3ViYXJyYXkpe2NvbnRlbnRzPWNvbnRlbnRzLnN1YmFycmF5KHBvc2l0aW9uLHBvc2l0aW9uK2xlbmd0aCl9ZWxzZXtjb250ZW50cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250ZW50cyxwb3NpdGlvbixwb3NpdGlvbitsZW5ndGgpfX1hbGxvY2F0ZWQ9dHJ1ZTtwdHI9bW1hcEFsbG9jKGxlbmd0aCk7aWYoIXB0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDgpfUhFQVA4LnNldChjb250ZW50cyxwdHIpfXJldHVybntwdHI6cHRyLGFsbG9jYXRlZDphbGxvY2F0ZWR9fSxtc3luYzpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgsbW1hcEZsYWdzKXtpZighRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9aWYobW1hcEZsYWdzJjIpe3JldHVybiAwfXZhciBieXRlc1dyaXR0ZW49TUVNRlMuc3RyZWFtX29wcy53cml0ZShzdHJlYW0sYnVmZmVyLDAsbGVuZ3RoLG9mZnNldCxmYWxzZSk7cmV0dXJuIDB9fX07ZnVuY3Rpb24gYXN5bmNMb2FkKHVybCxvbmxvYWQsb25lcnJvcixub1J1bkRlcCl7dmFyIGRlcD0hbm9SdW5EZXA/Z2V0VW5pcXVlUnVuRGVwZW5kZW5jeShcImFsIFwiK3VybCk6XCJcIjtyZWFkQXN5bmModXJsLGZ1bmN0aW9uKGFycmF5QnVmZmVyKXthc3NlcnQoYXJyYXlCdWZmZXIsJ0xvYWRpbmcgZGF0YSBmaWxlIFwiJyt1cmwrJ1wiIGZhaWxlZCAobm8gYXJyYXlCdWZmZXIpLicpO29ubG9hZChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO2lmKGRlcClyZW1vdmVSdW5EZXBlbmRlbmN5KGRlcCl9LGZ1bmN0aW9uKGV2ZW50KXtpZihvbmVycm9yKXtvbmVycm9yKCl9ZWxzZXt0aHJvdydMb2FkaW5nIGRhdGEgZmlsZSBcIicrdXJsKydcIiBmYWlsZWQuJ319KTtpZihkZXApYWRkUnVuRGVwZW5kZW5jeShkZXApfXZhciBGUz17cm9vdDpudWxsLG1vdW50czpbXSxkZXZpY2VzOnt9LHN0cmVhbXM6W10sbmV4dElub2RlOjEsbmFtZVRhYmxlOm51bGwsY3VycmVudFBhdGg6XCIvXCIsaW5pdGlhbGl6ZWQ6ZmFsc2UsaWdub3JlUGVybWlzc2lvbnM6dHJ1ZSxFcnJub0Vycm9yOm51bGwsZ2VuZXJpY0Vycm9yczp7fSxmaWxlc3lzdGVtczpudWxsLHN5bmNGU1JlcXVlc3RzOjAsbG9va3VwUGF0aDpmdW5jdGlvbihwYXRoLG9wdHMpe3BhdGg9UEFUSF9GUy5yZXNvbHZlKEZTLmN3ZCgpLHBhdGgpO29wdHM9b3B0c3x8e307aWYoIXBhdGgpcmV0dXJue3BhdGg6XCJcIixub2RlOm51bGx9O3ZhciBkZWZhdWx0cz17Zm9sbG93X21vdW50OnRydWUscmVjdXJzZV9jb3VudDowfTtmb3IodmFyIGtleSBpbiBkZWZhdWx0cyl7aWYob3B0c1trZXldPT09dW5kZWZpbmVkKXtvcHRzW2tleV09ZGVmYXVsdHNba2V5XX19aWYob3B0cy5yZWN1cnNlX2NvdW50Pjgpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDMyKX12YXIgcGFydHM9UEFUSC5ub3JtYWxpemVBcnJheShwYXRoLnNwbGl0KFwiL1wiKS5maWx0ZXIoZnVuY3Rpb24ocCl7cmV0dXJuISFwfSksZmFsc2UpO3ZhciBjdXJyZW50PUZTLnJvb3Q7dmFyIGN1cnJlbnRfcGF0aD1cIi9cIjtmb3IodmFyIGk9MDtpPHBhcnRzLmxlbmd0aDtpKyspe3ZhciBpc2xhc3Q9aT09PXBhcnRzLmxlbmd0aC0xO2lmKGlzbGFzdCYmb3B0cy5wYXJlbnQpe2JyZWFrfWN1cnJlbnQ9RlMubG9va3VwTm9kZShjdXJyZW50LHBhcnRzW2ldKTtjdXJyZW50X3BhdGg9UEFUSC5qb2luMihjdXJyZW50X3BhdGgscGFydHNbaV0pO2lmKEZTLmlzTW91bnRwb2ludChjdXJyZW50KSl7aWYoIWlzbGFzdHx8aXNsYXN0JiZvcHRzLmZvbGxvd19tb3VudCl7Y3VycmVudD1jdXJyZW50Lm1vdW50ZWQucm9vdH19aWYoIWlzbGFzdHx8b3B0cy5mb2xsb3cpe3ZhciBjb3VudD0wO3doaWxlKEZTLmlzTGluayhjdXJyZW50Lm1vZGUpKXt2YXIgbGluaz1GUy5yZWFkbGluayhjdXJyZW50X3BhdGgpO2N1cnJlbnRfcGF0aD1QQVRIX0ZTLnJlc29sdmUoUEFUSC5kaXJuYW1lKGN1cnJlbnRfcGF0aCksbGluayk7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKGN1cnJlbnRfcGF0aCx7cmVjdXJzZV9jb3VudDpvcHRzLnJlY3Vyc2VfY291bnR9KTtjdXJyZW50PWxvb2t1cC5ub2RlO2lmKGNvdW50Kys+NDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDMyKX19fX1yZXR1cm57cGF0aDpjdXJyZW50X3BhdGgsbm9kZTpjdXJyZW50fX0sZ2V0UGF0aDpmdW5jdGlvbihub2RlKXt2YXIgcGF0aDt3aGlsZSh0cnVlKXtpZihGUy5pc1Jvb3Qobm9kZSkpe3ZhciBtb3VudD1ub2RlLm1vdW50Lm1vdW50cG9pbnQ7aWYoIXBhdGgpcmV0dXJuIG1vdW50O3JldHVybiBtb3VudFttb3VudC5sZW5ndGgtMV0hPT1cIi9cIj9tb3VudCtcIi9cIitwYXRoOm1vdW50K3BhdGh9cGF0aD1wYXRoP25vZGUubmFtZStcIi9cIitwYXRoOm5vZGUubmFtZTtub2RlPW5vZGUucGFyZW50fX0saGFzaE5hbWU6ZnVuY3Rpb24ocGFyZW50aWQsbmFtZSl7dmFyIGhhc2g9MDtmb3IodmFyIGk9MDtpPG5hbWUubGVuZ3RoO2krKyl7aGFzaD0oaGFzaDw8NSktaGFzaCtuYW1lLmNoYXJDb2RlQXQoaSl8MH1yZXR1cm4ocGFyZW50aWQraGFzaD4+PjApJUZTLm5hbWVUYWJsZS5sZW5ndGh9LGhhc2hBZGROb2RlOmZ1bmN0aW9uKG5vZGUpe3ZhciBoYXNoPUZTLmhhc2hOYW1lKG5vZGUucGFyZW50LmlkLG5vZGUubmFtZSk7bm9kZS5uYW1lX25leHQ9RlMubmFtZVRhYmxlW2hhc2hdO0ZTLm5hbWVUYWJsZVtoYXNoXT1ub2RlfSxoYXNoUmVtb3ZlTm9kZTpmdW5jdGlvbihub2RlKXt2YXIgaGFzaD1GUy5oYXNoTmFtZShub2RlLnBhcmVudC5pZCxub2RlLm5hbWUpO2lmKEZTLm5hbWVUYWJsZVtoYXNoXT09PW5vZGUpe0ZTLm5hbWVUYWJsZVtoYXNoXT1ub2RlLm5hbWVfbmV4dH1lbHNle3ZhciBjdXJyZW50PUZTLm5hbWVUYWJsZVtoYXNoXTt3aGlsZShjdXJyZW50KXtpZihjdXJyZW50Lm5hbWVfbmV4dD09PW5vZGUpe2N1cnJlbnQubmFtZV9uZXh0PW5vZGUubmFtZV9uZXh0O2JyZWFrfWN1cnJlbnQ9Y3VycmVudC5uYW1lX25leHR9fX0sbG9va3VwTm9kZTpmdW5jdGlvbihwYXJlbnQsbmFtZSl7dmFyIGVyckNvZGU9RlMubWF5TG9va3VwKHBhcmVudCk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSxwYXJlbnQpfXZhciBoYXNoPUZTLmhhc2hOYW1lKHBhcmVudC5pZCxuYW1lKTtmb3IodmFyIG5vZGU9RlMubmFtZVRhYmxlW2hhc2hdO25vZGU7bm9kZT1ub2RlLm5hbWVfbmV4dCl7dmFyIG5vZGVOYW1lPW5vZGUubmFtZTtpZihub2RlLnBhcmVudC5pZD09PXBhcmVudC5pZCYmbm9kZU5hbWU9PT1uYW1lKXtyZXR1cm4gbm9kZX19cmV0dXJuIEZTLmxvb2t1cChwYXJlbnQsbmFtZSl9LGNyZWF0ZU5vZGU6ZnVuY3Rpb24ocGFyZW50LG5hbWUsbW9kZSxyZGV2KXt2YXIgbm9kZT1uZXcgRlMuRlNOb2RlKHBhcmVudCxuYW1lLG1vZGUscmRldik7RlMuaGFzaEFkZE5vZGUobm9kZSk7cmV0dXJuIG5vZGV9LGRlc3Ryb3lOb2RlOmZ1bmN0aW9uKG5vZGUpe0ZTLmhhc2hSZW1vdmVOb2RlKG5vZGUpfSxpc1Jvb3Q6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGU9PT1ub2RlLnBhcmVudH0saXNNb3VudHBvaW50OmZ1bmN0aW9uKG5vZGUpe3JldHVybiEhbm9kZS5tb3VudGVkfSxpc0ZpbGU6ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNjE0NDApPT09MzI3Njh9LGlzRGlyOmZ1bmN0aW9uKG1vZGUpe3JldHVybihtb2RlJjYxNDQwKT09PTE2Mzg0fSxpc0xpbms6ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNjE0NDApPT09NDA5NjB9LGlzQ2hyZGV2OmZ1bmN0aW9uKG1vZGUpe3JldHVybihtb2RlJjYxNDQwKT09PTgxOTJ9LGlzQmxrZGV2OmZ1bmN0aW9uKG1vZGUpe3JldHVybihtb2RlJjYxNDQwKT09PTI0NTc2fSxpc0ZJRk86ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNjE0NDApPT09NDA5Nn0saXNTb2NrZXQ6ZnVuY3Rpb24obW9kZSl7cmV0dXJuKG1vZGUmNDkxNTIpPT09NDkxNTJ9LGZsYWdNb2Rlczp7XCJyXCI6MCxcInIrXCI6MixcIndcIjo1NzcsXCJ3K1wiOjU3OCxcImFcIjoxMDg5LFwiYStcIjoxMDkwfSxtb2RlU3RyaW5nVG9GbGFnczpmdW5jdGlvbihzdHIpe3ZhciBmbGFncz1GUy5mbGFnTW9kZXNbc3RyXTtpZih0eXBlb2YgZmxhZ3M9PT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGZpbGUgb3BlbiBtb2RlOiBcIitzdHIpfXJldHVybiBmbGFnc30sZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmc6ZnVuY3Rpb24oZmxhZyl7dmFyIHBlcm1zPVtcInJcIixcIndcIixcInJ3XCJdW2ZsYWcmM107aWYoZmxhZyY1MTIpe3Blcm1zKz1cIndcIn1yZXR1cm4gcGVybXN9LG5vZGVQZXJtaXNzaW9uczpmdW5jdGlvbihub2RlLHBlcm1zKXtpZihGUy5pZ25vcmVQZXJtaXNzaW9ucyl7cmV0dXJuIDB9aWYocGVybXMuaW5jbHVkZXMoXCJyXCIpJiYhKG5vZGUubW9kZSYyOTIpKXtyZXR1cm4gMn1lbHNlIGlmKHBlcm1zLmluY2x1ZGVzKFwid1wiKSYmIShub2RlLm1vZGUmMTQ2KSl7cmV0dXJuIDJ9ZWxzZSBpZihwZXJtcy5pbmNsdWRlcyhcInhcIikmJiEobm9kZS5tb2RlJjczKSl7cmV0dXJuIDJ9cmV0dXJuIDB9LG1heUxvb2t1cDpmdW5jdGlvbihkaXIpe3ZhciBlcnJDb2RlPUZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsXCJ4XCIpO2lmKGVyckNvZGUpcmV0dXJuIGVyckNvZGU7aWYoIWRpci5ub2RlX29wcy5sb29rdXApcmV0dXJuIDI7cmV0dXJuIDB9LG1heUNyZWF0ZTpmdW5jdGlvbihkaXIsbmFtZSl7dHJ5e3ZhciBub2RlPUZTLmxvb2t1cE5vZGUoZGlyLG5hbWUpO3JldHVybiAyMH1jYXRjaChlKXt9cmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsXCJ3eFwiKX0sbWF5RGVsZXRlOmZ1bmN0aW9uKGRpcixuYW1lLGlzZGlyKXt2YXIgbm9kZTt0cnl7bm9kZT1GUy5sb29rdXBOb2RlKGRpcixuYW1lKX1jYXRjaChlKXtyZXR1cm4gZS5lcnJub312YXIgZXJyQ29kZT1GUy5ub2RlUGVybWlzc2lvbnMoZGlyLFwid3hcIik7aWYoZXJyQ29kZSl7cmV0dXJuIGVyckNvZGV9aWYoaXNkaXIpe2lmKCFGUy5pc0Rpcihub2RlLm1vZGUpKXtyZXR1cm4gNTR9aWYoRlMuaXNSb290KG5vZGUpfHxGUy5nZXRQYXRoKG5vZGUpPT09RlMuY3dkKCkpe3JldHVybiAxMH19ZWxzZXtpZihGUy5pc0Rpcihub2RlLm1vZGUpKXtyZXR1cm4gMzF9fXJldHVybiAwfSxtYXlPcGVuOmZ1bmN0aW9uKG5vZGUsZmxhZ3Mpe2lmKCFub2RlKXtyZXR1cm4gNDR9aWYoRlMuaXNMaW5rKG5vZGUubW9kZSkpe3JldHVybiAzMn1lbHNlIGlmKEZTLmlzRGlyKG5vZGUubW9kZSkpe2lmKEZTLmZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nKGZsYWdzKSE9PVwiclwifHxmbGFncyY1MTIpe3JldHVybiAzMX19cmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhub2RlLEZTLmZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nKGZsYWdzKSl9LE1BWF9PUEVOX0ZEUzo0MDk2LG5leHRmZDpmdW5jdGlvbihmZF9zdGFydCxmZF9lbmQpe2ZkX3N0YXJ0PWZkX3N0YXJ0fHwwO2ZkX2VuZD1mZF9lbmR8fEZTLk1BWF9PUEVOX0ZEUztmb3IodmFyIGZkPWZkX3N0YXJ0O2ZkPD1mZF9lbmQ7ZmQrKyl7aWYoIUZTLnN0cmVhbXNbZmRdKXtyZXR1cm4gZmR9fXRocm93IG5ldyBGUy5FcnJub0Vycm9yKDMzKX0sZ2V0U3RyZWFtOmZ1bmN0aW9uKGZkKXtyZXR1cm4gRlMuc3RyZWFtc1tmZF19LGNyZWF0ZVN0cmVhbTpmdW5jdGlvbihzdHJlYW0sZmRfc3RhcnQsZmRfZW5kKXtpZighRlMuRlNTdHJlYW0pe0ZTLkZTU3RyZWFtPWZ1bmN0aW9uKCl7fTtGUy5GU1N0cmVhbS5wcm90b3R5cGU9e29iamVjdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZX0sc2V0OmZ1bmN0aW9uKHZhbCl7dGhpcy5ub2RlPXZhbH19LGlzUmVhZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZmxhZ3MmMjA5NzE1NSkhPT0xfX0saXNXcml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZmxhZ3MmMjA5NzE1NSkhPT0wfX0saXNBcHBlbmQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsYWdzJjEwMjR9fX19dmFyIG5ld1N0cmVhbT1uZXcgRlMuRlNTdHJlYW07Zm9yKHZhciBwIGluIHN0cmVhbSl7bmV3U3RyZWFtW3BdPXN0cmVhbVtwXX1zdHJlYW09bmV3U3RyZWFtO3ZhciBmZD1GUy5uZXh0ZmQoZmRfc3RhcnQsZmRfZW5kKTtzdHJlYW0uZmQ9ZmQ7RlMuc3RyZWFtc1tmZF09c3RyZWFtO3JldHVybiBzdHJlYW19LGNsb3NlU3RyZWFtOmZ1bmN0aW9uKGZkKXtGUy5zdHJlYW1zW2ZkXT1udWxsfSxjaHJkZXZfc3RyZWFtX29wczp7b3BlbjpmdW5jdGlvbihzdHJlYW0pe3ZhciBkZXZpY2U9RlMuZ2V0RGV2aWNlKHN0cmVhbS5ub2RlLnJkZXYpO3N0cmVhbS5zdHJlYW1fb3BzPWRldmljZS5zdHJlYW1fb3BzO2lmKHN0cmVhbS5zdHJlYW1fb3BzLm9wZW4pe3N0cmVhbS5zdHJlYW1fb3BzLm9wZW4oc3RyZWFtKX19LGxsc2VlazpmdW5jdGlvbigpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDcwKX19LG1ham9yOmZ1bmN0aW9uKGRldil7cmV0dXJuIGRldj4+OH0sbWlub3I6ZnVuY3Rpb24oZGV2KXtyZXR1cm4gZGV2JjI1NX0sbWFrZWRldjpmdW5jdGlvbihtYSxtaSl7cmV0dXJuIG1hPDw4fG1pfSxyZWdpc3RlckRldmljZTpmdW5jdGlvbihkZXYsb3BzKXtGUy5kZXZpY2VzW2Rldl09e3N0cmVhbV9vcHM6b3BzfX0sZ2V0RGV2aWNlOmZ1bmN0aW9uKGRldil7cmV0dXJuIEZTLmRldmljZXNbZGV2XX0sZ2V0TW91bnRzOmZ1bmN0aW9uKG1vdW50KXt2YXIgbW91bnRzPVtdO3ZhciBjaGVjaz1bbW91bnRdO3doaWxlKGNoZWNrLmxlbmd0aCl7dmFyIG09Y2hlY2sucG9wKCk7bW91bnRzLnB1c2gobSk7Y2hlY2sucHVzaC5hcHBseShjaGVjayxtLm1vdW50cyl9cmV0dXJuIG1vdW50c30sc3luY2ZzOmZ1bmN0aW9uKHBvcHVsYXRlLGNhbGxiYWNrKXtpZih0eXBlb2YgcG9wdWxhdGU9PT1cImZ1bmN0aW9uXCIpe2NhbGxiYWNrPXBvcHVsYXRlO3BvcHVsYXRlPWZhbHNlfUZTLnN5bmNGU1JlcXVlc3RzKys7aWYoRlMuc3luY0ZTUmVxdWVzdHM+MSl7ZXJyKFwid2FybmluZzogXCIrRlMuc3luY0ZTUmVxdWVzdHMrXCIgRlMuc3luY2ZzIG9wZXJhdGlvbnMgaW4gZmxpZ2h0IGF0IG9uY2UsIHByb2JhYmx5IGp1c3QgZG9pbmcgZXh0cmEgd29ya1wiKX12YXIgbW91bnRzPUZTLmdldE1vdW50cyhGUy5yb290Lm1vdW50KTt2YXIgY29tcGxldGVkPTA7ZnVuY3Rpb24gZG9DYWxsYmFjayhlcnJDb2RlKXtGUy5zeW5jRlNSZXF1ZXN0cy0tO3JldHVybiBjYWxsYmFjayhlcnJDb2RlKX1mdW5jdGlvbiBkb25lKGVyckNvZGUpe2lmKGVyckNvZGUpe2lmKCFkb25lLmVycm9yZWQpe2RvbmUuZXJyb3JlZD10cnVlO3JldHVybiBkb0NhbGxiYWNrKGVyckNvZGUpfXJldHVybn1pZigrK2NvbXBsZXRlZD49bW91bnRzLmxlbmd0aCl7ZG9DYWxsYmFjayhudWxsKX19bW91bnRzLmZvckVhY2goZnVuY3Rpb24obW91bnQpe2lmKCFtb3VudC50eXBlLnN5bmNmcyl7cmV0dXJuIGRvbmUobnVsbCl9bW91bnQudHlwZS5zeW5jZnMobW91bnQscG9wdWxhdGUsZG9uZSl9KX0sbW91bnQ6ZnVuY3Rpb24odHlwZSxvcHRzLG1vdW50cG9pbnQpe3ZhciByb290PW1vdW50cG9pbnQ9PT1cIi9cIjt2YXIgcHNldWRvPSFtb3VudHBvaW50O3ZhciBub2RlO2lmKHJvb3QmJkZTLnJvb3Qpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKX1lbHNlIGlmKCFyb290JiYhcHNldWRvKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobW91bnRwb2ludCx7Zm9sbG93X21vdW50OmZhbHNlfSk7bW91bnRwb2ludD1sb29rdXAucGF0aDtub2RlPWxvb2t1cC5ub2RlO2lmKEZTLmlzTW91bnRwb2ludChub2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApfWlmKCFGUy5pc0Rpcihub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCl9fXZhciBtb3VudD17dHlwZTp0eXBlLG9wdHM6b3B0cyxtb3VudHBvaW50Om1vdW50cG9pbnQsbW91bnRzOltdfTt2YXIgbW91bnRSb290PXR5cGUubW91bnQobW91bnQpO21vdW50Um9vdC5tb3VudD1tb3VudDttb3VudC5yb290PW1vdW50Um9vdDtpZihyb290KXtGUy5yb290PW1vdW50Um9vdH1lbHNlIGlmKG5vZGUpe25vZGUubW91bnRlZD1tb3VudDtpZihub2RlLm1vdW50KXtub2RlLm1vdW50Lm1vdW50cy5wdXNoKG1vdW50KX19cmV0dXJuIG1vdW50Um9vdH0sdW5tb3VudDpmdW5jdGlvbihtb3VudHBvaW50KXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobW91bnRwb2ludCx7Zm9sbG93X21vdW50OmZhbHNlfSk7aWYoIUZTLmlzTW91bnRwb2ludChsb29rdXAubm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgbm9kZT1sb29rdXAubm9kZTt2YXIgbW91bnQ9bm9kZS5tb3VudGVkO3ZhciBtb3VudHM9RlMuZ2V0TW91bnRzKG1vdW50KTtPYmplY3Qua2V5cyhGUy5uYW1lVGFibGUpLmZvckVhY2goZnVuY3Rpb24oaGFzaCl7dmFyIGN1cnJlbnQ9RlMubmFtZVRhYmxlW2hhc2hdO3doaWxlKGN1cnJlbnQpe3ZhciBuZXh0PWN1cnJlbnQubmFtZV9uZXh0O2lmKG1vdW50cy5pbmNsdWRlcyhjdXJyZW50Lm1vdW50KSl7RlMuZGVzdHJveU5vZGUoY3VycmVudCl9Y3VycmVudD1uZXh0fX0pO25vZGUubW91bnRlZD1udWxsO3ZhciBpZHg9bm9kZS5tb3VudC5tb3VudHMuaW5kZXhPZihtb3VudCk7bm9kZS5tb3VudC5tb3VudHMuc3BsaWNlKGlkeCwxKX0sbG9va3VwOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXtyZXR1cm4gcGFyZW50Lm5vZGVfb3BzLmxvb2t1cChwYXJlbnQsbmFtZSl9LG1rbm9kOmZ1bmN0aW9uKHBhdGgsbW9kZSxkZXYpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtwYXJlbnQ6dHJ1ZX0pO3ZhciBwYXJlbnQ9bG9va3VwLm5vZGU7dmFyIG5hbWU9UEFUSC5iYXNlbmFtZShwYXRoKTtpZighbmFtZXx8bmFtZT09PVwiLlwifHxuYW1lPT09XCIuLlwiKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9dmFyIGVyckNvZGU9RlMubWF5Q3JlYXRlKHBhcmVudCxuYW1lKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1pZighcGFyZW50Lm5vZGVfb3BzLm1rbm9kKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIHBhcmVudC5ub2RlX29wcy5ta25vZChwYXJlbnQsbmFtZSxtb2RlLGRldil9LGNyZWF0ZTpmdW5jdGlvbihwYXRoLG1vZGUpe21vZGU9bW9kZSE9PXVuZGVmaW5lZD9tb2RlOjQzODttb2RlJj00MDk1O21vZGV8PTMyNzY4O3JldHVybiBGUy5ta25vZChwYXRoLG1vZGUsMCl9LG1rZGlyOmZ1bmN0aW9uKHBhdGgsbW9kZSl7bW9kZT1tb2RlIT09dW5kZWZpbmVkP21vZGU6NTExO21vZGUmPTUxMXw1MTI7bW9kZXw9MTYzODQ7cmV0dXJuIEZTLm1rbm9kKHBhdGgsbW9kZSwwKX0sbWtkaXJUcmVlOmZ1bmN0aW9uKHBhdGgsbW9kZSl7dmFyIGRpcnM9cGF0aC5zcGxpdChcIi9cIik7dmFyIGQ9XCJcIjtmb3IodmFyIGk9MDtpPGRpcnMubGVuZ3RoOysraSl7aWYoIWRpcnNbaV0pY29udGludWU7ZCs9XCIvXCIrZGlyc1tpXTt0cnl7RlMubWtkaXIoZCxtb2RlKX1jYXRjaChlKXtpZihlLmVycm5vIT0yMCl0aHJvdyBlfX19LG1rZGV2OmZ1bmN0aW9uKHBhdGgsbW9kZSxkZXYpe2lmKHR5cGVvZiBkZXY9PT1cInVuZGVmaW5lZFwiKXtkZXY9bW9kZTttb2RlPTQzOH1tb2RlfD04MTkyO3JldHVybiBGUy5ta25vZChwYXRoLG1vZGUsZGV2KX0sc3ltbGluazpmdW5jdGlvbihvbGRwYXRoLG5ld3BhdGgpe2lmKCFQQVRIX0ZTLnJlc29sdmUob2xkcGF0aCkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX12YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgobmV3cGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO2lmKCFwYXJlbnQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KX12YXIgbmV3bmFtZT1QQVRILmJhc2VuYW1lKG5ld3BhdGgpO3ZhciBlcnJDb2RlPUZTLm1heUNyZWF0ZShwYXJlbnQsbmV3bmFtZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIXBhcmVudC5ub2RlX29wcy5zeW1saW5rKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9cmV0dXJuIHBhcmVudC5ub2RlX29wcy5zeW1saW5rKHBhcmVudCxuZXduYW1lLG9sZHBhdGgpfSxyZW5hbWU6ZnVuY3Rpb24ob2xkX3BhdGgsbmV3X3BhdGgpe3ZhciBvbGRfZGlybmFtZT1QQVRILmRpcm5hbWUob2xkX3BhdGgpO3ZhciBuZXdfZGlybmFtZT1QQVRILmRpcm5hbWUobmV3X3BhdGgpO3ZhciBvbGRfbmFtZT1QQVRILmJhc2VuYW1lKG9sZF9wYXRoKTt2YXIgbmV3X25hbWU9UEFUSC5iYXNlbmFtZShuZXdfcGF0aCk7dmFyIGxvb2t1cCxvbGRfZGlyLG5ld19kaXI7bG9va3VwPUZTLmxvb2t1cFBhdGgob2xkX3BhdGgse3BhcmVudDp0cnVlfSk7b2xkX2Rpcj1sb29rdXAubm9kZTtsb29rdXA9RlMubG9va3VwUGF0aChuZXdfcGF0aCx7cGFyZW50OnRydWV9KTtuZXdfZGlyPWxvb2t1cC5ub2RlO2lmKCFvbGRfZGlyfHwhbmV3X2Rpcil0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7aWYob2xkX2Rpci5tb3VudCE9PW5ld19kaXIubW91bnQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDc1KX12YXIgb2xkX25vZGU9RlMubG9va3VwTm9kZShvbGRfZGlyLG9sZF9uYW1lKTt2YXIgcmVsYXRpdmU9UEFUSF9GUy5yZWxhdGl2ZShvbGRfcGF0aCxuZXdfZGlybmFtZSk7aWYocmVsYXRpdmUuY2hhckF0KDApIT09XCIuXCIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1yZWxhdGl2ZT1QQVRIX0ZTLnJlbGF0aXZlKG5ld19wYXRoLG9sZF9kaXJuYW1lKTtpZihyZWxhdGl2ZS5jaGFyQXQoMCkhPT1cIi5cIil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTUpfXZhciBuZXdfbm9kZTt0cnl7bmV3X25vZGU9RlMubG9va3VwTm9kZShuZXdfZGlyLG5ld19uYW1lKX1jYXRjaChlKXt9aWYob2xkX25vZGU9PT1uZXdfbm9kZSl7cmV0dXJufXZhciBpc2Rpcj1GUy5pc0RpcihvbGRfbm9kZS5tb2RlKTt2YXIgZXJyQ29kZT1GUy5tYXlEZWxldGUob2xkX2RpcixvbGRfbmFtZSxpc2Rpcik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9ZXJyQ29kZT1uZXdfbm9kZT9GUy5tYXlEZWxldGUobmV3X2RpcixuZXdfbmFtZSxpc2Rpcik6RlMubWF5Q3JlYXRlKG5ld19kaXIsbmV3X25hbWUpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfWlmKCFvbGRfZGlyLm5vZGVfb3BzLnJlbmFtZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfWlmKEZTLmlzTW91bnRwb2ludChvbGRfbm9kZSl8fG5ld19ub2RlJiZGUy5pc01vdW50cG9pbnQobmV3X25vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCl9aWYobmV3X2RpciE9PW9sZF9kaXIpe2VyckNvZGU9RlMubm9kZVBlcm1pc3Npb25zKG9sZF9kaXIsXCJ3XCIpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfX1GUy5oYXNoUmVtb3ZlTm9kZShvbGRfbm9kZSk7dHJ5e29sZF9kaXIubm9kZV9vcHMucmVuYW1lKG9sZF9ub2RlLG5ld19kaXIsbmV3X25hbWUpfWNhdGNoKGUpe3Rocm93IGV9ZmluYWxseXtGUy5oYXNoQWRkTm9kZShvbGRfbm9kZSl9fSxybWRpcjpmdW5jdGlvbihwYXRoKXt2YXIgbG9va3VwPUZTLmxvb2t1cFBhdGgocGF0aCx7cGFyZW50OnRydWV9KTt2YXIgcGFyZW50PWxvb2t1cC5ub2RlO3ZhciBuYW1lPVBBVEguYmFzZW5hbWUocGF0aCk7dmFyIG5vZGU9RlMubG9va3VwTm9kZShwYXJlbnQsbmFtZSk7dmFyIGVyckNvZGU9RlMubWF5RGVsZXRlKHBhcmVudCxuYW1lLHRydWUpO2lmKGVyckNvZGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKGVyckNvZGUpfWlmKCFwYXJlbnQubm9kZV9vcHMucm1kaXIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1pZihGUy5pc01vdW50cG9pbnQobm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKX1wYXJlbnQubm9kZV9vcHMucm1kaXIocGFyZW50LG5hbWUpO0ZTLmRlc3Ryb3lOb2RlKG5vZGUpfSxyZWFkZGlyOmZ1bmN0aW9uKHBhdGgpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6dHJ1ZX0pO3ZhciBub2RlPWxvb2t1cC5ub2RlO2lmKCFub2RlLm5vZGVfb3BzLnJlYWRkaXIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU0KX1yZXR1cm4gbm9kZS5ub2RlX29wcy5yZWFkZGlyKG5vZGUpfSx1bmxpbms6ZnVuY3Rpb24ocGF0aCl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7dmFyIHBhcmVudD1sb29rdXAubm9kZTt2YXIgbmFtZT1QQVRILmJhc2VuYW1lKHBhdGgpO3ZhciBub2RlPUZTLmxvb2t1cE5vZGUocGFyZW50LG5hbWUpO3ZhciBlcnJDb2RlPUZTLm1heURlbGV0ZShwYXJlbnQsbmFtZSxmYWxzZSk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9aWYoIXBhcmVudC5ub2RlX29wcy51bmxpbmspe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1pZihGUy5pc01vdW50cG9pbnQobm9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKX1wYXJlbnQubm9kZV9vcHMudW5saW5rKHBhcmVudCxuYW1lKTtGUy5kZXN0cm95Tm9kZShub2RlKX0scmVhZGxpbms6ZnVuY3Rpb24ocGF0aCl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgpO3ZhciBsaW5rPWxvb2t1cC5ub2RlO2lmKCFsaW5rKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9aWYoIWxpbmsubm9kZV9vcHMucmVhZGxpbmspe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1yZXR1cm4gUEFUSF9GUy5yZXNvbHZlKEZTLmdldFBhdGgobGluay5wYXJlbnQpLGxpbmsubm9kZV9vcHMucmVhZGxpbmsobGluaykpfSxzdGF0OmZ1bmN0aW9uKHBhdGgsZG9udEZvbGxvdyl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udEZvbGxvd30pO3ZhciBub2RlPWxvb2t1cC5ub2RlO2lmKCFub2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9aWYoIW5vZGUubm9kZV9vcHMuZ2V0YXR0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfXJldHVybiBub2RlLm5vZGVfb3BzLmdldGF0dHIobm9kZSl9LGxzdGF0OmZ1bmN0aW9uKHBhdGgpe3JldHVybiBGUy5zdGF0KHBhdGgsdHJ1ZSl9LGNobW9kOmZ1bmN0aW9uKHBhdGgsbW9kZSxkb250Rm9sbG93KXt2YXIgbm9kZTtpZih0eXBlb2YgcGF0aD09PVwic3RyaW5nXCIpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6IWRvbnRGb2xsb3d9KTtub2RlPWxvb2t1cC5ub2RlfWVsc2V7bm9kZT1wYXRofWlmKCFub2RlLm5vZGVfb3BzLnNldGF0dHIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKX1ub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSx7bW9kZTptb2RlJjQwOTV8bm9kZS5tb2RlJn40MDk1LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG1vZDpmdW5jdGlvbihwYXRoLG1vZGUpe0ZTLmNobW9kKHBhdGgsbW9kZSx0cnVlKX0sZmNobW9kOmZ1bmN0aW9uKGZkLG1vZGUpe3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1GUy5jaG1vZChzdHJlYW0ubm9kZSxtb2RlKX0sY2hvd246ZnVuY3Rpb24ocGF0aCx1aWQsZ2lkLGRvbnRGb2xsb3cpe3ZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT09XCJzdHJpbmdcIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzohZG9udEZvbGxvd30pO25vZGU9bG9va3VwLm5vZGV9ZWxzZXtub2RlPXBhdGh9aWYoIW5vZGUubm9kZV9vcHMuc2V0YXR0cil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpfW5vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLHt0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxsY2hvd246ZnVuY3Rpb24ocGF0aCx1aWQsZ2lkKXtGUy5jaG93bihwYXRoLHVpZCxnaWQsdHJ1ZSl9LGZjaG93bjpmdW5jdGlvbihmZCx1aWQsZ2lkKXt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShmZCk7aWYoIXN0cmVhbSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9RlMuY2hvd24oc3RyZWFtLm5vZGUsdWlkLGdpZCl9LHRydW5jYXRlOmZ1bmN0aW9uKHBhdGgsbGVuKXtpZihsZW48MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBub2RlO2lmKHR5cGVvZiBwYXRoPT09XCJzdHJpbmdcIil7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7bm9kZT1sb29rdXAubm9kZX1lbHNle25vZGU9cGF0aH1pZighbm9kZS5ub2RlX29wcy5zZXRhdHRyKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myl9aWYoRlMuaXNEaXIobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzEpfWlmKCFGUy5pc0ZpbGUobm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpfXZhciBlcnJDb2RlPUZTLm5vZGVQZXJtaXNzaW9ucyhub2RlLFwid1wiKTtpZihlcnJDb2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKX1ub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSx7c2l6ZTpsZW4sdGltZXN0YW1wOkRhdGUubm93KCl9KX0sZnRydW5jYXRlOmZ1bmN0aW9uKGZkLGxlbil7dmFyIHN0cmVhbT1GUy5nZXRTdHJlYW0oZmQpO2lmKCFzdHJlYW0pe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKChzdHJlYW0uZmxhZ3MmMjA5NzE1NSk9PT0wKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9RlMudHJ1bmNhdGUoc3RyZWFtLm5vZGUsbGVuKX0sdXRpbWU6ZnVuY3Rpb24ocGF0aCxhdGltZSxtdGltZSl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7bm9kZS5ub2RlX29wcy5zZXRhdHRyKG5vZGUse3RpbWVzdGFtcDpNYXRoLm1heChhdGltZSxtdGltZSl9KX0sb3BlbjpmdW5jdGlvbihwYXRoLGZsYWdzLG1vZGUsZmRfc3RhcnQsZmRfZW5kKXtpZihwYXRoPT09XCJcIil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfWZsYWdzPXR5cGVvZiBmbGFncz09PVwic3RyaW5nXCI/RlMubW9kZVN0cmluZ1RvRmxhZ3MoZmxhZ3MpOmZsYWdzO21vZGU9dHlwZW9mIG1vZGU9PT1cInVuZGVmaW5lZFwiPzQzODptb2RlO2lmKGZsYWdzJjY0KXttb2RlPW1vZGUmNDA5NXwzMjc2OH1lbHNle21vZGU9MH12YXIgbm9kZTtpZih0eXBlb2YgcGF0aD09PVwib2JqZWN0XCIpe25vZGU9cGF0aH1lbHNle3BhdGg9UEFUSC5ub3JtYWxpemUocGF0aCk7dHJ5e3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6IShmbGFncyYxMzEwNzIpfSk7bm9kZT1sb29rdXAubm9kZX1jYXRjaChlKXt9fXZhciBjcmVhdGVkPWZhbHNlO2lmKGZsYWdzJjY0KXtpZihub2RlKXtpZihmbGFncyYxMjgpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDIwKX19ZWxzZXtub2RlPUZTLm1rbm9kKHBhdGgsbW9kZSwwKTtjcmVhdGVkPXRydWV9fWlmKCFub2RlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9aWYoRlMuaXNDaHJkZXYobm9kZS5tb2RlKSl7ZmxhZ3MmPX41MTJ9aWYoZmxhZ3MmNjU1MzYmJiFGUy5pc0Rpcihub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCl9aWYoIWNyZWF0ZWQpe3ZhciBlcnJDb2RlPUZTLm1heU9wZW4obm9kZSxmbGFncyk7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9fWlmKGZsYWdzJjUxMil7RlMudHJ1bmNhdGUobm9kZSwwKX1mbGFncyY9figxMjh8NTEyfDEzMTA3Mik7dmFyIHN0cmVhbT1GUy5jcmVhdGVTdHJlYW0oe25vZGU6bm9kZSxwYXRoOkZTLmdldFBhdGgobm9kZSksaWQ6bm9kZS5pZCxmbGFnczpmbGFncyxtb2RlOm5vZGUubW9kZSxzZWVrYWJsZTp0cnVlLHBvc2l0aW9uOjAsc3RyZWFtX29wczpub2RlLnN0cmVhbV9vcHMsbm9kZV9vcHM6bm9kZS5ub2RlX29wcyx1bmdvdHRlbjpbXSxlcnJvcjpmYWxzZX0sZmRfc3RhcnQsZmRfZW5kKTtpZihzdHJlYW0uc3RyZWFtX29wcy5vcGVuKXtzdHJlYW0uc3RyZWFtX29wcy5vcGVuKHN0cmVhbSl9aWYoTW9kdWxlW1wibG9nUmVhZEZpbGVzXCJdJiYhKGZsYWdzJjEpKXtpZighRlMucmVhZEZpbGVzKUZTLnJlYWRGaWxlcz17fTtpZighKHBhdGggaW4gRlMucmVhZEZpbGVzKSl7RlMucmVhZEZpbGVzW3BhdGhdPTF9fXJldHVybiBzdHJlYW19LGNsb3NlOmZ1bmN0aW9uKHN0cmVhbSl7aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoc3RyZWFtLmdldGRlbnRzKXN0cmVhbS5nZXRkZW50cz1udWxsO3RyeXtpZihzdHJlYW0uc3RyZWFtX29wcy5jbG9zZSl7c3RyZWFtLnN0cmVhbV9vcHMuY2xvc2Uoc3RyZWFtKX19Y2F0Y2goZSl7dGhyb3cgZX1maW5hbGx5e0ZTLmNsb3NlU3RyZWFtKHN0cmVhbS5mZCl9c3RyZWFtLmZkPW51bGx9LGlzQ2xvc2VkOmZ1bmN0aW9uKHN0cmVhbSl7cmV0dXJuIHN0cmVhbS5mZD09PW51bGx9LGxsc2VlazpmdW5jdGlvbihzdHJlYW0sb2Zmc2V0LHdoZW5jZSl7aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoIXN0cmVhbS5zZWVrYWJsZXx8IXN0cmVhbS5zdHJlYW1fb3BzLmxsc2Vlayl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfWlmKHdoZW5jZSE9MCYmd2hlbmNlIT0xJiZ3aGVuY2UhPTIpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1zdHJlYW0ucG9zaXRpb249c3RyZWFtLnN0cmVhbV9vcHMubGxzZWVrKHN0cmVhbSxvZmZzZXQsd2hlbmNlKTtzdHJlYW0udW5nb3R0ZW49W107cmV0dXJuIHN0cmVhbS5wb3NpdGlvbn0scmVhZDpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zaXRpb24pe2lmKGxlbmd0aDwwfHxwb3NpdGlvbjwwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCl9aWYoRlMuaXNDbG9zZWQoc3RyZWFtKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTEpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKEZTLmlzRGlyKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigzMSl9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLnJlYWQpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX12YXIgc2Vla2luZz10eXBlb2YgcG9zaXRpb24hPT1cInVuZGVmaW5lZFwiO2lmKCFzZWVraW5nKXtwb3NpdGlvbj1zdHJlYW0ucG9zaXRpb259ZWxzZSBpZighc3RyZWFtLnNlZWthYmxlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig3MCl9dmFyIGJ5dGVzUmVhZD1zdHJlYW0uc3RyZWFtX29wcy5yZWFkKHN0cmVhbSxidWZmZXIsb2Zmc2V0LGxlbmd0aCxwb3NpdGlvbik7aWYoIXNlZWtpbmcpc3RyZWFtLnBvc2l0aW9uKz1ieXRlc1JlYWQ7cmV0dXJuIGJ5dGVzUmVhZH0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uLGNhbk93bil7aWYobGVuZ3RoPDB8fHBvc2l0aW9uPDApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihGUy5pc0Nsb3NlZChzdHJlYW0pKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoRlMuaXNEaXIoc3RyZWFtLm5vZGUubW9kZSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDMxKX1pZighc3RyZWFtLnN0cmVhbV9vcHMud3JpdGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZihzdHJlYW0uc2Vla2FibGUmJnN0cmVhbS5mbGFncyYxMDI0KXtGUy5sbHNlZWsoc3RyZWFtLDAsMil9dmFyIHNlZWtpbmc9dHlwZW9mIHBvc2l0aW9uIT09XCJ1bmRlZmluZWRcIjtpZighc2Vla2luZyl7cG9zaXRpb249c3RyZWFtLnBvc2l0aW9ufWVsc2UgaWYoIXN0cmVhbS5zZWVrYWJsZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApfXZhciBieXRlc1dyaXR0ZW49c3RyZWFtLnN0cmVhbV9vcHMud3JpdGUoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uLGNhbk93bik7aWYoIXNlZWtpbmcpc3RyZWFtLnBvc2l0aW9uKz1ieXRlc1dyaXR0ZW47cmV0dXJuIGJ5dGVzV3JpdHRlbn0sYWxsb2NhdGU6ZnVuY3Rpb24oc3RyZWFtLG9mZnNldCxsZW5ndGgpe2lmKEZTLmlzQ2xvc2VkKHN0cmVhbSkpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpfWlmKG9mZnNldDwwfHxsZW5ndGg8PTApe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KX1pZigoc3RyZWFtLmZsYWdzJjIwOTcxNTUpPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCl9aWYoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSYmIUZTLmlzRGlyKHN0cmVhbS5ub2RlLm1vZGUpKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9aWYoIXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMzgpfXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKHN0cmVhbSxvZmZzZXQsbGVuZ3RoKX0sbW1hcDpmdW5jdGlvbihzdHJlYW0sYWRkcmVzcyxsZW5ndGgscG9zaXRpb24scHJvdCxmbGFncyl7aWYoKHByb3QmMikhPT0wJiYoZmxhZ3MmMik9PT0wJiYoc3RyZWFtLmZsYWdzJjIwOTcxNTUpIT09Mil7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMil9aWYoKHN0cmVhbS5mbGFncyYyMDk3MTU1KT09PTEpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDIpfWlmKCFzdHJlYW0uc3RyZWFtX29wcy5tbWFwKXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0Myl9cmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLm1tYXAoc3RyZWFtLGFkZHJlc3MsbGVuZ3RoLHBvc2l0aW9uLHByb3QsZmxhZ3MpfSxtc3luYzpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgsbW1hcEZsYWdzKXtpZighc3RyZWFtfHwhc3RyZWFtLnN0cmVhbV9vcHMubXN5bmMpe3JldHVybiAwfXJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5tc3luYyhzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgsbW1hcEZsYWdzKX0sbXVubWFwOmZ1bmN0aW9uKHN0cmVhbSl7cmV0dXJuIDB9LGlvY3RsOmZ1bmN0aW9uKHN0cmVhbSxjbWQsYXJnKXtpZighc3RyZWFtLnN0cmVhbV9vcHMuaW9jdGwpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDU5KX1yZXR1cm4gc3RyZWFtLnN0cmVhbV9vcHMuaW9jdGwoc3RyZWFtLGNtZCxhcmcpfSxyZWFkRmlsZTpmdW5jdGlvbihwYXRoLG9wdHMpe29wdHM9b3B0c3x8e307b3B0cy5mbGFncz1vcHRzLmZsYWdzfHwwO29wdHMuZW5jb2Rpbmc9b3B0cy5lbmNvZGluZ3x8XCJiaW5hcnlcIjtpZihvcHRzLmVuY29kaW5nIT09XCJ1dGY4XCImJm9wdHMuZW5jb2RpbmchPT1cImJpbmFyeVwiKXt0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW5jb2RpbmcgdHlwZSBcIicrb3B0cy5lbmNvZGluZysnXCInKX12YXIgcmV0O3ZhciBzdHJlYW09RlMub3BlbihwYXRoLG9wdHMuZmxhZ3MpO3ZhciBzdGF0PUZTLnN0YXQocGF0aCk7dmFyIGxlbmd0aD1zdGF0LnNpemU7dmFyIGJ1Zj1uZXcgVWludDhBcnJheShsZW5ndGgpO0ZTLnJlYWQoc3RyZWFtLGJ1ZiwwLGxlbmd0aCwwKTtpZihvcHRzLmVuY29kaW5nPT09XCJ1dGY4XCIpe3JldD1VVEY4QXJyYXlUb1N0cmluZyhidWYsMCl9ZWxzZSBpZihvcHRzLmVuY29kaW5nPT09XCJiaW5hcnlcIil7cmV0PWJ1Zn1GUy5jbG9zZShzdHJlYW0pO3JldHVybiByZXR9LHdyaXRlRmlsZTpmdW5jdGlvbihwYXRoLGRhdGEsb3B0cyl7b3B0cz1vcHRzfHx7fTtvcHRzLmZsYWdzPW9wdHMuZmxhZ3N8fDU3Nzt2YXIgc3RyZWFtPUZTLm9wZW4ocGF0aCxvcHRzLmZsYWdzLG9wdHMubW9kZSk7aWYodHlwZW9mIGRhdGE9PT1cInN0cmluZ1wiKXt2YXIgYnVmPW5ldyBVaW50OEFycmF5KGxlbmd0aEJ5dGVzVVRGOChkYXRhKSsxKTt2YXIgYWN0dWFsTnVtQnl0ZXM9c3RyaW5nVG9VVEY4QXJyYXkoZGF0YSxidWYsMCxidWYubGVuZ3RoKTtGUy53cml0ZShzdHJlYW0sYnVmLDAsYWN0dWFsTnVtQnl0ZXMsdW5kZWZpbmVkLG9wdHMuY2FuT3duKX1lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSl7RlMud3JpdGUoc3RyZWFtLGRhdGEsMCxkYXRhLmJ5dGVMZW5ndGgsdW5kZWZpbmVkLG9wdHMuY2FuT3duKX1lbHNle3Rocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGRhdGEgdHlwZVwiKX1GUy5jbG9zZShzdHJlYW0pfSxjd2Q6ZnVuY3Rpb24oKXtyZXR1cm4gRlMuY3VycmVudFBhdGh9LGNoZGlyOmZ1bmN0aW9uKHBhdGgpe3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6dHJ1ZX0pO2lmKGxvb2t1cC5ub2RlPT09bnVsbCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpfWlmKCFGUy5pc0Rpcihsb29rdXAubm9kZS5tb2RlKSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpfXZhciBlcnJDb2RlPUZTLm5vZGVQZXJtaXNzaW9ucyhsb29rdXAubm9kZSxcInhcIik7aWYoZXJyQ29kZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSl9RlMuY3VycmVudFBhdGg9bG9va3VwLnBhdGh9LGNyZWF0ZURlZmF1bHREaXJlY3RvcmllczpmdW5jdGlvbigpe0ZTLm1rZGlyKFwiL3RtcFwiKTtGUy5ta2RpcihcIi9ob21lXCIpO0ZTLm1rZGlyKFwiL2hvbWUvd2ViX3VzZXJcIil9LGNyZWF0ZURlZmF1bHREZXZpY2VzOmZ1bmN0aW9uKCl7RlMubWtkaXIoXCIvZGV2XCIpO0ZTLnJlZ2lzdGVyRGV2aWNlKEZTLm1ha2VkZXYoMSwzKSx7cmVhZDpmdW5jdGlvbigpe3JldHVybiAwfSx3cml0ZTpmdW5jdGlvbihzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW5ndGgscG9zKXtyZXR1cm4gbGVuZ3RofX0pO0ZTLm1rZGV2KFwiL2Rldi9udWxsXCIsRlMubWFrZWRldigxLDMpKTtUVFkucmVnaXN0ZXIoRlMubWFrZWRldig1LDApLFRUWS5kZWZhdWx0X3R0eV9vcHMpO1RUWS5yZWdpc3RlcihGUy5tYWtlZGV2KDYsMCksVFRZLmRlZmF1bHRfdHR5MV9vcHMpO0ZTLm1rZGV2KFwiL2Rldi90dHlcIixGUy5tYWtlZGV2KDUsMCkpO0ZTLm1rZGV2KFwiL2Rldi90dHkxXCIsRlMubWFrZWRldig2LDApKTt2YXIgcmFuZG9tX2RldmljZT1nZXRSYW5kb21EZXZpY2UoKTtGUy5jcmVhdGVEZXZpY2UoXCIvZGV2XCIsXCJyYW5kb21cIixyYW5kb21fZGV2aWNlKTtGUy5jcmVhdGVEZXZpY2UoXCIvZGV2XCIsXCJ1cmFuZG9tXCIscmFuZG9tX2RldmljZSk7RlMubWtkaXIoXCIvZGV2L3NobVwiKTtGUy5ta2RpcihcIi9kZXYvc2htL3RtcFwiKX0sY3JlYXRlU3BlY2lhbERpcmVjdG9yaWVzOmZ1bmN0aW9uKCl7RlMubWtkaXIoXCIvcHJvY1wiKTt2YXIgcHJvY19zZWxmPUZTLm1rZGlyKFwiL3Byb2Mvc2VsZlwiKTtGUy5ta2RpcihcIi9wcm9jL3NlbGYvZmRcIik7RlMubW91bnQoe21vdW50OmZ1bmN0aW9uKCl7dmFyIG5vZGU9RlMuY3JlYXRlTm9kZShwcm9jX3NlbGYsXCJmZFwiLDE2Mzg0fDUxMSw3Myk7bm9kZS5ub2RlX29wcz17bG9va3VwOmZ1bmN0aW9uKHBhcmVudCxuYW1lKXt2YXIgZmQ9K25hbWU7dmFyIHN0cmVhbT1GUy5nZXRTdHJlYW0oZmQpO2lmKCFzdHJlYW0pdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7dmFyIHJldD17cGFyZW50Om51bGwsbW91bnQ6e21vdW50cG9pbnQ6XCJmYWtlXCJ9LG5vZGVfb3BzOntyZWFkbGluazpmdW5jdGlvbigpe3JldHVybiBzdHJlYW0ucGF0aH19fTtyZXQucGFyZW50PXJldDtyZXR1cm4gcmV0fX07cmV0dXJuIG5vZGV9fSx7fSxcIi9wcm9jL3NlbGYvZmRcIil9LGNyZWF0ZVN0YW5kYXJkU3RyZWFtczpmdW5jdGlvbigpe2lmKE1vZHVsZVtcInN0ZGluXCJdKXtGUy5jcmVhdGVEZXZpY2UoXCIvZGV2XCIsXCJzdGRpblwiLE1vZHVsZVtcInN0ZGluXCJdKX1lbHNle0ZTLnN5bWxpbmsoXCIvZGV2L3R0eVwiLFwiL2Rldi9zdGRpblwiKX1pZihNb2R1bGVbXCJzdGRvdXRcIl0pe0ZTLmNyZWF0ZURldmljZShcIi9kZXZcIixcInN0ZG91dFwiLG51bGwsTW9kdWxlW1wic3Rkb3V0XCJdKX1lbHNle0ZTLnN5bWxpbmsoXCIvZGV2L3R0eVwiLFwiL2Rldi9zdGRvdXRcIil9aWYoTW9kdWxlW1wic3RkZXJyXCJdKXtGUy5jcmVhdGVEZXZpY2UoXCIvZGV2XCIsXCJzdGRlcnJcIixudWxsLE1vZHVsZVtcInN0ZGVyclwiXSl9ZWxzZXtGUy5zeW1saW5rKFwiL2Rldi90dHkxXCIsXCIvZGV2L3N0ZGVyclwiKX12YXIgc3RkaW49RlMub3BlbihcIi9kZXYvc3RkaW5cIiwwKTt2YXIgc3Rkb3V0PUZTLm9wZW4oXCIvZGV2L3N0ZG91dFwiLDEpO3ZhciBzdGRlcnI9RlMub3BlbihcIi9kZXYvc3RkZXJyXCIsMSl9LGVuc3VyZUVycm5vRXJyb3I6ZnVuY3Rpb24oKXtpZihGUy5FcnJub0Vycm9yKXJldHVybjtGUy5FcnJub0Vycm9yPWZ1bmN0aW9uIEVycm5vRXJyb3IoZXJybm8sbm9kZSl7dGhpcy5ub2RlPW5vZGU7dGhpcy5zZXRFcnJubz1mdW5jdGlvbihlcnJubyl7dGhpcy5lcnJubz1lcnJub307dGhpcy5zZXRFcnJubyhlcnJubyk7dGhpcy5tZXNzYWdlPVwiRlMgZXJyb3JcIn07RlMuRXJybm9FcnJvci5wcm90b3R5cGU9bmV3IEVycm9yO0ZTLkVycm5vRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZTLkVycm5vRXJyb3I7WzQ0XS5mb3JFYWNoKGZ1bmN0aW9uKGNvZGUpe0ZTLmdlbmVyaWNFcnJvcnNbY29kZV09bmV3IEZTLkVycm5vRXJyb3IoY29kZSk7RlMuZ2VuZXJpY0Vycm9yc1tjb2RlXS5zdGFjaz1cIjxnZW5lcmljIGVycm9yLCBubyBzdGFjaz5cIn0pfSxzdGF0aWNJbml0OmZ1bmN0aW9uKCl7RlMuZW5zdXJlRXJybm9FcnJvcigpO0ZTLm5hbWVUYWJsZT1uZXcgQXJyYXkoNDA5Nik7RlMubW91bnQoTUVNRlMse30sXCIvXCIpO0ZTLmNyZWF0ZURlZmF1bHREaXJlY3RvcmllcygpO0ZTLmNyZWF0ZURlZmF1bHREZXZpY2VzKCk7RlMuY3JlYXRlU3BlY2lhbERpcmVjdG9yaWVzKCk7RlMuZmlsZXN5c3RlbXM9e1wiTUVNRlNcIjpNRU1GU319LGluaXQ6ZnVuY3Rpb24oaW5wdXQsb3V0cHV0LGVycm9yKXtGUy5pbml0LmluaXRpYWxpemVkPXRydWU7RlMuZW5zdXJlRXJybm9FcnJvcigpO01vZHVsZVtcInN0ZGluXCJdPWlucHV0fHxNb2R1bGVbXCJzdGRpblwiXTtNb2R1bGVbXCJzdGRvdXRcIl09b3V0cHV0fHxNb2R1bGVbXCJzdGRvdXRcIl07TW9kdWxlW1wic3RkZXJyXCJdPWVycm9yfHxNb2R1bGVbXCJzdGRlcnJcIl07RlMuY3JlYXRlU3RhbmRhcmRTdHJlYW1zKCl9LHF1aXQ6ZnVuY3Rpb24oKXtGUy5pbml0LmluaXRpYWxpemVkPWZhbHNlO3ZhciBmZmx1c2g9TW9kdWxlW1wiX2ZmbHVzaFwiXTtpZihmZmx1c2gpZmZsdXNoKDApO2Zvcih2YXIgaT0wO2k8RlMuc3RyZWFtcy5sZW5ndGg7aSsrKXt2YXIgc3RyZWFtPUZTLnN0cmVhbXNbaV07aWYoIXN0cmVhbSl7Y29udGludWV9RlMuY2xvc2Uoc3RyZWFtKX19LGdldE1vZGU6ZnVuY3Rpb24oY2FuUmVhZCxjYW5Xcml0ZSl7dmFyIG1vZGU9MDtpZihjYW5SZWFkKW1vZGV8PTI5Mnw3MztpZihjYW5Xcml0ZSltb2RlfD0xNDY7cmV0dXJuIG1vZGV9LGZpbmRPYmplY3Q6ZnVuY3Rpb24ocGF0aCxkb250UmVzb2x2ZUxhc3RMaW5rKXt2YXIgcmV0PUZTLmFuYWx5emVQYXRoKHBhdGgsZG9udFJlc29sdmVMYXN0TGluayk7aWYocmV0LmV4aXN0cyl7cmV0dXJuIHJldC5vYmplY3R9ZWxzZXtyZXR1cm4gbnVsbH19LGFuYWx5emVQYXRoOmZ1bmN0aW9uKHBhdGgsZG9udFJlc29sdmVMYXN0TGluayl7dHJ5e3ZhciBsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6IWRvbnRSZXNvbHZlTGFzdExpbmt9KTtwYXRoPWxvb2t1cC5wYXRofWNhdGNoKGUpe312YXIgcmV0PXtpc1Jvb3Q6ZmFsc2UsZXhpc3RzOmZhbHNlLGVycm9yOjAsbmFtZTpudWxsLHBhdGg6bnVsbCxvYmplY3Q6bnVsbCxwYXJlbnRFeGlzdHM6ZmFsc2UscGFyZW50UGF0aDpudWxsLHBhcmVudE9iamVjdDpudWxsfTt0cnl7dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse3BhcmVudDp0cnVlfSk7cmV0LnBhcmVudEV4aXN0cz10cnVlO3JldC5wYXJlbnRQYXRoPWxvb2t1cC5wYXRoO3JldC5wYXJlbnRPYmplY3Q9bG9va3VwLm5vZGU7cmV0Lm5hbWU9UEFUSC5iYXNlbmFtZShwYXRoKTtsb29rdXA9RlMubG9va3VwUGF0aChwYXRoLHtmb2xsb3c6IWRvbnRSZXNvbHZlTGFzdExpbmt9KTtyZXQuZXhpc3RzPXRydWU7cmV0LnBhdGg9bG9va3VwLnBhdGg7cmV0Lm9iamVjdD1sb29rdXAubm9kZTtyZXQubmFtZT1sb29rdXAubm9kZS5uYW1lO3JldC5pc1Jvb3Q9bG9va3VwLnBhdGg9PT1cIi9cIn1jYXRjaChlKXtyZXQuZXJyb3I9ZS5lcnJub31yZXR1cm4gcmV0fSxjcmVhdGVQYXRoOmZ1bmN0aW9uKHBhcmVudCxwYXRoLGNhblJlYWQsY2FuV3JpdGUpe3BhcmVudD10eXBlb2YgcGFyZW50PT09XCJzdHJpbmdcIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpO3ZhciBwYXJ0cz1wYXRoLnNwbGl0KFwiL1wiKS5yZXZlcnNlKCk7d2hpbGUocGFydHMubGVuZ3RoKXt2YXIgcGFydD1wYXJ0cy5wb3AoKTtpZighcGFydCljb250aW51ZTt2YXIgY3VycmVudD1QQVRILmpvaW4yKHBhcmVudCxwYXJ0KTt0cnl7RlMubWtkaXIoY3VycmVudCl9Y2F0Y2goZSl7fXBhcmVudD1jdXJyZW50fXJldHVybiBjdXJyZW50fSxjcmVhdGVGaWxlOmZ1bmN0aW9uKHBhcmVudCxuYW1lLHByb3BlcnRpZXMsY2FuUmVhZCxjYW5Xcml0ZSl7dmFyIHBhdGg9UEFUSC5qb2luMih0eXBlb2YgcGFyZW50PT09XCJzdHJpbmdcIj9wYXJlbnQ6RlMuZ2V0UGF0aChwYXJlbnQpLG5hbWUpO3ZhciBtb2RlPUZTLmdldE1vZGUoY2FuUmVhZCxjYW5Xcml0ZSk7cmV0dXJuIEZTLmNyZWF0ZShwYXRoLG1vZGUpfSxjcmVhdGVEYXRhRmlsZTpmdW5jdGlvbihwYXJlbnQsbmFtZSxkYXRhLGNhblJlYWQsY2FuV3JpdGUsY2FuT3duKXt2YXIgcGF0aD1uYW1lP1BBVEguam9pbjIodHlwZW9mIHBhcmVudD09PVwic3RyaW5nXCI/cGFyZW50OkZTLmdldFBhdGgocGFyZW50KSxuYW1lKTpwYXJlbnQ7dmFyIG1vZGU9RlMuZ2V0TW9kZShjYW5SZWFkLGNhbldyaXRlKTt2YXIgbm9kZT1GUy5jcmVhdGUocGF0aCxtb2RlKTtpZihkYXRhKXtpZih0eXBlb2YgZGF0YT09PVwic3RyaW5nXCIpe3ZhciBhcnI9bmV3IEFycmF5KGRhdGEubGVuZ3RoKTtmb3IodmFyIGk9MCxsZW49ZGF0YS5sZW5ndGg7aTxsZW47KytpKWFycltpXT1kYXRhLmNoYXJDb2RlQXQoaSk7ZGF0YT1hcnJ9RlMuY2htb2Qobm9kZSxtb2RlfDE0Nik7dmFyIHN0cmVhbT1GUy5vcGVuKG5vZGUsNTc3KTtGUy53cml0ZShzdHJlYW0sZGF0YSwwLGRhdGEubGVuZ3RoLDAsY2FuT3duKTtGUy5jbG9zZShzdHJlYW0pO0ZTLmNobW9kKG5vZGUsbW9kZSl9cmV0dXJuIG5vZGV9LGNyZWF0ZURldmljZTpmdW5jdGlvbihwYXJlbnQsbmFtZSxpbnB1dCxvdXRwdXQpe3ZhciBwYXRoPVBBVEguam9pbjIodHlwZW9mIHBhcmVudD09PVwic3RyaW5nXCI/cGFyZW50OkZTLmdldFBhdGgocGFyZW50KSxuYW1lKTt2YXIgbW9kZT1GUy5nZXRNb2RlKCEhaW5wdXQsISFvdXRwdXQpO2lmKCFGUy5jcmVhdGVEZXZpY2UubWFqb3IpRlMuY3JlYXRlRGV2aWNlLm1ham9yPTY0O3ZhciBkZXY9RlMubWFrZWRldihGUy5jcmVhdGVEZXZpY2UubWFqb3IrKywwKTtGUy5yZWdpc3RlckRldmljZShkZXYse29wZW46ZnVuY3Rpb24oc3RyZWFtKXtzdHJlYW0uc2Vla2FibGU9ZmFsc2V9LGNsb3NlOmZ1bmN0aW9uKHN0cmVhbSl7aWYob3V0cHV0JiZvdXRwdXQuYnVmZmVyJiZvdXRwdXQuYnVmZmVyLmxlbmd0aCl7b3V0cHV0KDEwKX19LHJlYWQ6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvcyl7dmFyIGJ5dGVzUmVhZD0wO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIHJlc3VsdDt0cnl7cmVzdWx0PWlucHV0KCl9Y2F0Y2goZSl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpfWlmKHJlc3VsdD09PXVuZGVmaW5lZCYmYnl0ZXNSZWFkPT09MCl7dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNil9aWYocmVzdWx0PT09bnVsbHx8cmVzdWx0PT09dW5kZWZpbmVkKWJyZWFrO2J5dGVzUmVhZCsrO2J1ZmZlcltvZmZzZXQraV09cmVzdWx0fWlmKGJ5dGVzUmVhZCl7c3RyZWFtLm5vZGUudGltZXN0YW1wPURhdGUubm93KCl9cmV0dXJuIGJ5dGVzUmVhZH0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvcyl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt0cnl7b3V0cHV0KGJ1ZmZlcltvZmZzZXQraV0pfWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX19aWYobGVuZ3RoKXtzdHJlYW0ubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKX1yZXR1cm4gaX19KTtyZXR1cm4gRlMubWtkZXYocGF0aCxtb2RlLGRldil9LGZvcmNlTG9hZEZpbGU6ZnVuY3Rpb24ob2JqKXtpZihvYmouaXNEZXZpY2V8fG9iai5pc0ZvbGRlcnx8b2JqLmxpbmt8fG9iai5jb250ZW50cylyZXR1cm4gdHJ1ZTtpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QhPT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgRXJyb3IoXCJMYXp5IGxvYWRpbmcgc2hvdWxkIGhhdmUgYmVlbiBwZXJmb3JtZWQgKGNvbnRlbnRzIHNldCkgaW4gY3JlYXRlTGF6eUZpbGUsIGJ1dCBpdCB3YXMgbm90LiBMYXp5IGxvYWRpbmcgb25seSB3b3JrcyBpbiB3ZWIgd29ya2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjIG9uIHRoZSBtYWluIHRocmVhZC5cIil9ZWxzZSBpZihyZWFkXyl7dHJ5e29iai5jb250ZW50cz1pbnRBcnJheUZyb21TdHJpbmcocmVhZF8ob2JqLnVybCksdHJ1ZSk7b2JqLnVzZWRCeXRlcz1vYmouY29udGVudHMubGVuZ3RofWNhdGNoKGUpe3Rocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KX19ZWxzZXt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbG9hZCB3aXRob3V0IHJlYWQoKSBvciBYTUxIdHRwUmVxdWVzdC5cIil9fSxjcmVhdGVMYXp5RmlsZTpmdW5jdGlvbihwYXJlbnQsbmFtZSx1cmwsY2FuUmVhZCxjYW5Xcml0ZSl7ZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXkoKXt0aGlzLmxlbmd0aEtub3duPWZhbHNlO3RoaXMuY2h1bmtzPVtdfUxhenlVaW50OEFycmF5LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXlfZ2V0KGlkeCl7aWYoaWR4PnRoaXMubGVuZ3RoLTF8fGlkeDwwKXtyZXR1cm4gdW5kZWZpbmVkfXZhciBjaHVua09mZnNldD1pZHgldGhpcy5jaHVua1NpemU7dmFyIGNodW5rTnVtPWlkeC90aGlzLmNodW5rU2l6ZXwwO3JldHVybiB0aGlzLmdldHRlcihjaHVua051bSlbY2h1bmtPZmZzZXRdfTtMYXp5VWludDhBcnJheS5wcm90b3R5cGUuc2V0RGF0YUdldHRlcj1mdW5jdGlvbiBMYXp5VWludDhBcnJheV9zZXREYXRhR2V0dGVyKGdldHRlcil7dGhpcy5nZXR0ZXI9Z2V0dGVyfTtMYXp5VWludDhBcnJheS5wcm90b3R5cGUuY2FjaGVMZW5ndGg9ZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXlfY2FjaGVMZW5ndGgoKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbihcIkhFQURcIix1cmwsZmFsc2UpO3hoci5zZW5kKG51bGwpO2lmKCEoeGhyLnN0YXR1cz49MjAwJiZ4aHIuc3RhdHVzPDMwMHx8eGhyLnN0YXR1cz09PTMwNCkpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgbG9hZCBcIit1cmwrXCIuIFN0YXR1czogXCIreGhyLnN0YXR1cyk7dmFyIGRhdGFsZW5ndGg9TnVtYmVyKHhoci5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtbGVuZ3RoXCIpKTt2YXIgaGVhZGVyO3ZhciBoYXNCeXRlU2VydmluZz0oaGVhZGVyPXhoci5nZXRSZXNwb25zZUhlYWRlcihcIkFjY2VwdC1SYW5nZXNcIikpJiZoZWFkZXI9PT1cImJ5dGVzXCI7dmFyIHVzZXNHemlwPShoZWFkZXI9eGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1FbmNvZGluZ1wiKSkmJmhlYWRlcj09PVwiZ3ppcFwiO3ZhciBjaHVua1NpemU9MTAyNCoxMDI0O2lmKCFoYXNCeXRlU2VydmluZyljaHVua1NpemU9ZGF0YWxlbmd0aDt2YXIgZG9YSFI9ZnVuY3Rpb24oZnJvbSx0byl7aWYoZnJvbT50byl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHJhbmdlIChcIitmcm9tK1wiLCBcIit0bytcIikgb3Igbm8gYnl0ZXMgcmVxdWVzdGVkIVwiKTtpZih0bz5kYXRhbGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKFwib25seSBcIitkYXRhbGVuZ3RoK1wiIGJ5dGVzIGF2YWlsYWJsZSEgcHJvZ3JhbW1lciBlcnJvciFcIik7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsZmFsc2UpO2lmKGRhdGFsZW5ndGghPT1jaHVua1NpemUpeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJSYW5nZVwiLFwiYnl0ZXM9XCIrZnJvbStcIi1cIit0byk7aWYodHlwZW9mIFVpbnQ4QXJyYXkhPVwidW5kZWZpbmVkXCIpeGhyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7aWYoeGhyLm92ZXJyaWRlTWltZVR5cGUpe3hoci5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZFwiKX14aHIuc2VuZChudWxsKTtpZighKHhoci5zdGF0dXM+PTIwMCYmeGhyLnN0YXR1czwzMDB8fHhoci5zdGF0dXM9PT0zMDQpKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGxvYWQgXCIrdXJsK1wiLiBTdGF0dXM6IFwiK3hoci5zdGF0dXMpO2lmKHhoci5yZXNwb25zZSE9PXVuZGVmaW5lZCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZXx8W10pfWVsc2V7cmV0dXJuIGludEFycmF5RnJvbVN0cmluZyh4aHIucmVzcG9uc2VUZXh0fHxcIlwiLHRydWUpfX07dmFyIGxhenlBcnJheT10aGlzO2xhenlBcnJheS5zZXREYXRhR2V0dGVyKGZ1bmN0aW9uKGNodW5rTnVtKXt2YXIgc3RhcnQ9Y2h1bmtOdW0qY2h1bmtTaXplO3ZhciBlbmQ9KGNodW5rTnVtKzEpKmNodW5rU2l6ZS0xO2VuZD1NYXRoLm1pbihlbmQsZGF0YWxlbmd0aC0xKTtpZih0eXBlb2YgbGF6eUFycmF5LmNodW5rc1tjaHVua051bV09PT1cInVuZGVmaW5lZFwiKXtsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT1kb1hIUihzdGFydCxlbmQpfWlmKHR5cGVvZiBsYXp5QXJyYXkuY2h1bmtzW2NodW5rTnVtXT09PVwidW5kZWZpbmVkXCIpdGhyb3cgbmV3IEVycm9yKFwiZG9YSFIgZmFpbGVkIVwiKTtyZXR1cm4gbGF6eUFycmF5LmNodW5rc1tjaHVua051bV19KTtpZih1c2VzR3ppcHx8IWRhdGFsZW5ndGgpe2NodW5rU2l6ZT1kYXRhbGVuZ3RoPTE7ZGF0YWxlbmd0aD10aGlzLmdldHRlcigwKS5sZW5ndGg7Y2h1bmtTaXplPWRhdGFsZW5ndGg7b3V0KFwiTGF6eUZpbGVzIG9uIGd6aXAgZm9yY2VzIGRvd25sb2FkIG9mIHRoZSB3aG9sZSBmaWxlIHdoZW4gbGVuZ3RoIGlzIGFjY2Vzc2VkXCIpfXRoaXMuX2xlbmd0aD1kYXRhbGVuZ3RoO3RoaXMuX2NodW5rU2l6ZT1jaHVua1NpemU7dGhpcy5sZW5ndGhLbm93bj10cnVlfTtpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QhPT1cInVuZGVmaW5lZFwiKXtpZighRU5WSVJPTk1FTlRfSVNfV09SS0VSKXRocm93XCJDYW5ub3QgZG8gc3luY2hyb25vdXMgYmluYXJ5IFhIUnMgb3V0c2lkZSB3ZWJ3b3JrZXJzIGluIG1vZGVybiBicm93c2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjXCI7dmFyIGxhenlBcnJheT1uZXcgTGF6eVVpbnQ4QXJyYXk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGF6eUFycmF5LHtsZW5ndGg6e2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLmxlbmd0aEtub3duKXt0aGlzLmNhY2hlTGVuZ3RoKCl9cmV0dXJuIHRoaXMuX2xlbmd0aH19LGNodW5rU2l6ZTp7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMubGVuZ3RoS25vd24pe3RoaXMuY2FjaGVMZW5ndGgoKX1yZXR1cm4gdGhpcy5fY2h1bmtTaXplfX19KTt2YXIgcHJvcGVydGllcz17aXNEZXZpY2U6ZmFsc2UsY29udGVudHM6bGF6eUFycmF5fX1lbHNle3ZhciBwcm9wZXJ0aWVzPXtpc0RldmljZTpmYWxzZSx1cmw6dXJsfX12YXIgbm9kZT1GUy5jcmVhdGVGaWxlKHBhcmVudCxuYW1lLHByb3BlcnRpZXMsY2FuUmVhZCxjYW5Xcml0ZSk7aWYocHJvcGVydGllcy5jb250ZW50cyl7bm9kZS5jb250ZW50cz1wcm9wZXJ0aWVzLmNvbnRlbnRzfWVsc2UgaWYocHJvcGVydGllcy51cmwpe25vZGUuY29udGVudHM9bnVsbDtub2RlLnVybD1wcm9wZXJ0aWVzLnVybH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhub2RlLHt1c2VkQnl0ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRzLmxlbmd0aH19fSk7dmFyIHN0cmVhbV9vcHM9e307dmFyIGtleXM9T2JqZWN0LmtleXMobm9kZS5zdHJlYW1fb3BzKTtrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KXt2YXIgZm49bm9kZS5zdHJlYW1fb3BzW2tleV07c3RyZWFtX29wc1trZXldPWZ1bmN0aW9uIGZvcmNlTG9hZExhenlGaWxlKCl7RlMuZm9yY2VMb2FkRmlsZShub2RlKTtyZXR1cm4gZm4uYXBwbHkobnVsbCxhcmd1bWVudHMpfX0pO3N0cmVhbV9vcHMucmVhZD1mdW5jdGlvbiBzdHJlYW1fb3BzX3JlYWQoc3RyZWFtLGJ1ZmZlcixvZmZzZXQsbGVuZ3RoLHBvc2l0aW9uKXtGUy5mb3JjZUxvYWRGaWxlKG5vZGUpO3ZhciBjb250ZW50cz1zdHJlYW0ubm9kZS5jb250ZW50cztpZihwb3NpdGlvbj49Y29udGVudHMubGVuZ3RoKXJldHVybiAwO3ZhciBzaXplPU1hdGgubWluKGNvbnRlbnRzLmxlbmd0aC1wb3NpdGlvbixsZW5ndGgpO2lmKGNvbnRlbnRzLnNsaWNlKXtmb3IodmFyIGk9MDtpPHNpemU7aSsrKXtidWZmZXJbb2Zmc2V0K2ldPWNvbnRlbnRzW3Bvc2l0aW9uK2ldfX1lbHNle2Zvcih2YXIgaT0wO2k8c2l6ZTtpKyspe2J1ZmZlcltvZmZzZXQraV09Y29udGVudHMuZ2V0KHBvc2l0aW9uK2kpfX1yZXR1cm4gc2l6ZX07bm9kZS5zdHJlYW1fb3BzPXN0cmVhbV9vcHM7cmV0dXJuIG5vZGV9LGNyZWF0ZVByZWxvYWRlZEZpbGU6ZnVuY3Rpb24ocGFyZW50LG5hbWUsdXJsLGNhblJlYWQsY2FuV3JpdGUsb25sb2FkLG9uZXJyb3IsZG9udENyZWF0ZUZpbGUsY2FuT3duLHByZUZpbmlzaCl7QnJvd3Nlci5pbml0KCk7dmFyIGZ1bGxuYW1lPW5hbWU/UEFUSF9GUy5yZXNvbHZlKFBBVEguam9pbjIocGFyZW50LG5hbWUpKTpwYXJlbnQ7dmFyIGRlcD1nZXRVbmlxdWVSdW5EZXBlbmRlbmN5KFwiY3AgXCIrZnVsbG5hbWUpO2Z1bmN0aW9uIHByb2Nlc3NEYXRhKGJ5dGVBcnJheSl7ZnVuY3Rpb24gZmluaXNoKGJ5dGVBcnJheSl7aWYocHJlRmluaXNoKXByZUZpbmlzaCgpO2lmKCFkb250Q3JlYXRlRmlsZSl7RlMuY3JlYXRlRGF0YUZpbGUocGFyZW50LG5hbWUsYnl0ZUFycmF5LGNhblJlYWQsY2FuV3JpdGUsY2FuT3duKX1pZihvbmxvYWQpb25sb2FkKCk7cmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApfXZhciBoYW5kbGVkPWZhbHNlO01vZHVsZVtcInByZWxvYWRQbHVnaW5zXCJdLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKXtpZihoYW5kbGVkKXJldHVybjtpZihwbHVnaW5bXCJjYW5IYW5kbGVcIl0oZnVsbG5hbWUpKXtwbHVnaW5bXCJoYW5kbGVcIl0oYnl0ZUFycmF5LGZ1bGxuYW1lLGZpbmlzaCxmdW5jdGlvbigpe2lmKG9uZXJyb3Ipb25lcnJvcigpO3JlbW92ZVJ1bkRlcGVuZGVuY3koZGVwKX0pO2hhbmRsZWQ9dHJ1ZX19KTtpZighaGFuZGxlZClmaW5pc2goYnl0ZUFycmF5KX1hZGRSdW5EZXBlbmRlbmN5KGRlcCk7aWYodHlwZW9mIHVybD09XCJzdHJpbmdcIil7YXN5bmNMb2FkKHVybCxmdW5jdGlvbihieXRlQXJyYXkpe3Byb2Nlc3NEYXRhKGJ5dGVBcnJheSl9LG9uZXJyb3IpfWVsc2V7cHJvY2Vzc0RhdGEodXJsKX19LGluZGV4ZWREQjpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREJ9LERCX05BTUU6ZnVuY3Rpb24oKXtyZXR1cm5cIkVNX0ZTX1wiK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX0sREJfVkVSU0lPTjoyMCxEQl9TVE9SRV9OQU1FOlwiRklMRV9EQVRBXCIsc2F2ZUZpbGVzVG9EQjpmdW5jdGlvbihwYXRocyxvbmxvYWQsb25lcnJvcil7b25sb2FkPW9ubG9hZHx8ZnVuY3Rpb24oKXt9O29uZXJyb3I9b25lcnJvcnx8ZnVuY3Rpb24oKXt9O3ZhciBpbmRleGVkREI9RlMuaW5kZXhlZERCKCk7dHJ5e3ZhciBvcGVuUmVxdWVzdD1pbmRleGVkREIub3BlbihGUy5EQl9OQU1FKCksRlMuREJfVkVSU0lPTil9Y2F0Y2goZSl7cmV0dXJuIG9uZXJyb3IoZSl9b3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uIG9wZW5SZXF1ZXN0X29udXBncmFkZW5lZWRlZCgpe291dChcImNyZWF0aW5nIGRiXCIpO3ZhciBkYj1vcGVuUmVxdWVzdC5yZXN1bHQ7ZGIuY3JlYXRlT2JqZWN0U3RvcmUoRlMuREJfU1RPUkVfTkFNRSl9O29wZW5SZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbiBvcGVuUmVxdWVzdF9vbnN1Y2Nlc3MoKXt2YXIgZGI9b3BlblJlcXVlc3QucmVzdWx0O3ZhciB0cmFuc2FjdGlvbj1kYi50cmFuc2FjdGlvbihbRlMuREJfU1RPUkVfTkFNRV0sXCJyZWFkd3JpdGVcIik7dmFyIGZpbGVzPXRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO3ZhciBvaz0wLGZhaWw9MCx0b3RhbD1wYXRocy5sZW5ndGg7ZnVuY3Rpb24gZmluaXNoKCl7aWYoZmFpbD09MClvbmxvYWQoKTtlbHNlIG9uZXJyb3IoKX1wYXRocy5mb3JFYWNoKGZ1bmN0aW9uKHBhdGgpe3ZhciBwdXRSZXF1ZXN0PWZpbGVzLnB1dChGUy5hbmFseXplUGF0aChwYXRoKS5vYmplY3QuY29udGVudHMscGF0aCk7cHV0UmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24gcHV0UmVxdWVzdF9vbnN1Y2Nlc3MoKXtvaysrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfTtwdXRSZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24gcHV0UmVxdWVzdF9vbmVycm9yKCl7ZmFpbCsrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfX0pO3RyYW5zYWN0aW9uLm9uZXJyb3I9b25lcnJvcn07b3BlblJlcXVlc3Qub25lcnJvcj1vbmVycm9yfSxsb2FkRmlsZXNGcm9tREI6ZnVuY3Rpb24ocGF0aHMsb25sb2FkLG9uZXJyb3Ipe29ubG9hZD1vbmxvYWR8fGZ1bmN0aW9uKCl7fTtvbmVycm9yPW9uZXJyb3J8fGZ1bmN0aW9uKCl7fTt2YXIgaW5kZXhlZERCPUZTLmluZGV4ZWREQigpO3RyeXt2YXIgb3BlblJlcXVlc3Q9aW5kZXhlZERCLm9wZW4oRlMuREJfTkFNRSgpLEZTLkRCX1ZFUlNJT04pfWNhdGNoKGUpe3JldHVybiBvbmVycm9yKGUpfW9wZW5SZXF1ZXN0Lm9udXBncmFkZW5lZWRlZD1vbmVycm9yO29wZW5SZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbiBvcGVuUmVxdWVzdF9vbnN1Y2Nlc3MoKXt2YXIgZGI9b3BlblJlcXVlc3QucmVzdWx0O3RyeXt2YXIgdHJhbnNhY3Rpb249ZGIudHJhbnNhY3Rpb24oW0ZTLkRCX1NUT1JFX05BTUVdLFwicmVhZG9ubHlcIil9Y2F0Y2goZSl7b25lcnJvcihlKTtyZXR1cm59dmFyIGZpbGVzPXRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO3ZhciBvaz0wLGZhaWw9MCx0b3RhbD1wYXRocy5sZW5ndGg7ZnVuY3Rpb24gZmluaXNoKCl7aWYoZmFpbD09MClvbmxvYWQoKTtlbHNlIG9uZXJyb3IoKX1wYXRocy5mb3JFYWNoKGZ1bmN0aW9uKHBhdGgpe3ZhciBnZXRSZXF1ZXN0PWZpbGVzLmdldChwYXRoKTtnZXRSZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbiBnZXRSZXF1ZXN0X29uc3VjY2Vzcygpe2lmKEZTLmFuYWx5emVQYXRoKHBhdGgpLmV4aXN0cyl7RlMudW5saW5rKHBhdGgpfUZTLmNyZWF0ZURhdGFGaWxlKFBBVEguZGlybmFtZShwYXRoKSxQQVRILmJhc2VuYW1lKHBhdGgpLGdldFJlcXVlc3QucmVzdWx0LHRydWUsdHJ1ZSx0cnVlKTtvaysrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfTtnZXRSZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24gZ2V0UmVxdWVzdF9vbmVycm9yKCl7ZmFpbCsrO2lmKG9rK2ZhaWw9PXRvdGFsKWZpbmlzaCgpfX0pO3RyYW5zYWN0aW9uLm9uZXJyb3I9b25lcnJvcn07b3BlblJlcXVlc3Qub25lcnJvcj1vbmVycm9yfX07dmFyIFNZU0NBTExTPXttYXBwaW5nczp7fSxERUZBVUxUX1BPTExNQVNLOjUsY2FsY3VsYXRlQXQ6ZnVuY3Rpb24oZGlyZmQscGF0aCxhbGxvd0VtcHR5KXtpZihwYXRoWzBdPT09XCIvXCIpe3JldHVybiBwYXRofXZhciBkaXI7aWYoZGlyZmQ9PT0tMTAwKXtkaXI9RlMuY3dkKCl9ZWxzZXt2YXIgZGlyc3RyZWFtPUZTLmdldFN0cmVhbShkaXJmZCk7aWYoIWRpcnN0cmVhbSl0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTtkaXI9ZGlyc3RyZWFtLnBhdGh9aWYocGF0aC5sZW5ndGg9PTApe2lmKCFhbGxvd0VtcHR5KXt0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCl9cmV0dXJuIGRpcn1yZXR1cm4gUEFUSC5qb2luMihkaXIscGF0aCl9LGRvU3RhdDpmdW5jdGlvbihmdW5jLHBhdGgsYnVmKXt0cnl7dmFyIHN0YXQ9ZnVuYyhwYXRoKX1jYXRjaChlKXtpZihlJiZlLm5vZGUmJlBBVEgubm9ybWFsaXplKHBhdGgpIT09UEFUSC5ub3JtYWxpemUoRlMuZ2V0UGF0aChlLm5vZGUpKSl7cmV0dXJuLTU0fXRocm93IGV9SEVBUDMyW2J1Zj4+Ml09c3RhdC5kZXY7SEVBUDMyW2J1Zis0Pj4yXT0wO0hFQVAzMltidWYrOD4+Ml09c3RhdC5pbm87SEVBUDMyW2J1ZisxMj4+Ml09c3RhdC5tb2RlO0hFQVAzMltidWYrMTY+PjJdPXN0YXQubmxpbms7SEVBUDMyW2J1ZisyMD4+Ml09c3RhdC51aWQ7SEVBUDMyW2J1ZisyND4+Ml09c3RhdC5naWQ7SEVBUDMyW2J1ZisyOD4+Ml09c3RhdC5yZGV2O0hFQVAzMltidWYrMzI+PjJdPTA7dGVtcEk2ND1bc3RhdC5zaXplPj4+MCwodGVtcERvdWJsZT1zdGF0LnNpemUsK01hdGguYWJzKHRlbXBEb3VibGUpPj0xP3RlbXBEb3VibGU+MD8oTWF0aC5taW4oK01hdGguZmxvb3IodGVtcERvdWJsZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh0ZW1wRG91YmxlLSsofn50ZW1wRG91YmxlPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sSEVBUDMyW2J1Zis0MD4+Ml09dGVtcEk2NFswXSxIRUFQMzJbYnVmKzQ0Pj4yXT10ZW1wSTY0WzFdO0hFQVAzMltidWYrNDg+PjJdPTQwOTY7SEVBUDMyW2J1Zis1Mj4+Ml09c3RhdC5ibG9ja3M7SEVBUDMyW2J1Zis1Nj4+Ml09c3RhdC5hdGltZS5nZXRUaW1lKCkvMWUzfDA7SEVBUDMyW2J1Zis2MD4+Ml09MDtIRUFQMzJbYnVmKzY0Pj4yXT1zdGF0Lm10aW1lLmdldFRpbWUoKS8xZTN8MDtIRUFQMzJbYnVmKzY4Pj4yXT0wO0hFQVAzMltidWYrNzI+PjJdPXN0YXQuY3RpbWUuZ2V0VGltZSgpLzFlM3wwO0hFQVAzMltidWYrNzY+PjJdPTA7dGVtcEk2ND1bc3RhdC5pbm8+Pj4wLCh0ZW1wRG91YmxlPXN0YXQuaW5vLCtNYXRoLmFicyh0ZW1wRG91YmxlKT49MT90ZW1wRG91YmxlPjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHRlbXBEb3VibGUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgodGVtcERvdWJsZS0rKH5+dGVtcERvdWJsZT4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLEhFQVAzMltidWYrODA+PjJdPXRlbXBJNjRbMF0sSEVBUDMyW2J1Zis4ND4+Ml09dGVtcEk2NFsxXTtyZXR1cm4gMH0sZG9Nc3luYzpmdW5jdGlvbihhZGRyLHN0cmVhbSxsZW4sZmxhZ3Msb2Zmc2V0KXt2YXIgYnVmZmVyPUhFQVBVOC5zbGljZShhZGRyLGFkZHIrbGVuKTtGUy5tc3luYyhzdHJlYW0sYnVmZmVyLG9mZnNldCxsZW4sZmxhZ3MpfSxkb01rZGlyOmZ1bmN0aW9uKHBhdGgsbW9kZSl7cGF0aD1QQVRILm5vcm1hbGl6ZShwYXRoKTtpZihwYXRoW3BhdGgubGVuZ3RoLTFdPT09XCIvXCIpcGF0aD1wYXRoLnN1YnN0cigwLHBhdGgubGVuZ3RoLTEpO0ZTLm1rZGlyKHBhdGgsbW9kZSwwKTtyZXR1cm4gMH0sZG9Na25vZDpmdW5jdGlvbihwYXRoLG1vZGUsZGV2KXtzd2l0Y2gobW9kZSY2MTQ0MCl7Y2FzZSAzMjc2ODpjYXNlIDgxOTI6Y2FzZSAyNDU3NjpjYXNlIDQwOTY6Y2FzZSA0OTE1MjpicmVhaztkZWZhdWx0OnJldHVybi0yOH1GUy5ta25vZChwYXRoLG1vZGUsZGV2KTtyZXR1cm4gMH0sZG9SZWFkbGluazpmdW5jdGlvbihwYXRoLGJ1ZixidWZzaXplKXtpZihidWZzaXplPD0wKXJldHVybi0yODt2YXIgcmV0PUZTLnJlYWRsaW5rKHBhdGgpO3ZhciBsZW49TWF0aC5taW4oYnVmc2l6ZSxsZW5ndGhCeXRlc1VURjgocmV0KSk7dmFyIGVuZENoYXI9SEVBUDhbYnVmK2xlbl07c3RyaW5nVG9VVEY4KHJldCxidWYsYnVmc2l6ZSsxKTtIRUFQOFtidWYrbGVuXT1lbmRDaGFyO3JldHVybiBsZW59LGRvQWNjZXNzOmZ1bmN0aW9uKHBhdGgsYW1vZGUpe2lmKGFtb2RlJn43KXtyZXR1cm4tMjh9dmFyIGxvb2t1cD1GUy5sb29rdXBQYXRoKHBhdGgse2ZvbGxvdzp0cnVlfSk7dmFyIG5vZGU9bG9va3VwLm5vZGU7aWYoIW5vZGUpe3JldHVybi00NH12YXIgcGVybXM9XCJcIjtpZihhbW9kZSY0KXBlcm1zKz1cInJcIjtpZihhbW9kZSYyKXBlcm1zKz1cIndcIjtpZihhbW9kZSYxKXBlcm1zKz1cInhcIjtpZihwZXJtcyYmRlMubm9kZVBlcm1pc3Npb25zKG5vZGUscGVybXMpKXtyZXR1cm4tMn1yZXR1cm4gMH0sZG9EdXA6ZnVuY3Rpb24ocGF0aCxmbGFncyxzdWdnZXN0RkQpe3ZhciBzdWdnZXN0PUZTLmdldFN0cmVhbShzdWdnZXN0RkQpO2lmKHN1Z2dlc3QpRlMuY2xvc2Uoc3VnZ2VzdCk7cmV0dXJuIEZTLm9wZW4ocGF0aCxmbGFncywwLHN1Z2dlc3RGRCxzdWdnZXN0RkQpLmZkfSxkb1JlYWR2OmZ1bmN0aW9uKHN0cmVhbSxpb3YsaW92Y250LG9mZnNldCl7dmFyIHJldD0wO2Zvcih2YXIgaT0wO2k8aW92Y250O2krKyl7dmFyIHB0cj1IRUFQMzJbaW92K2kqOD4+Ml07dmFyIGxlbj1IRUFQMzJbaW92KyhpKjgrNCk+PjJdO3ZhciBjdXJyPUZTLnJlYWQoc3RyZWFtLEhFQVA4LHB0cixsZW4sb2Zmc2V0KTtpZihjdXJyPDApcmV0dXJuLTE7cmV0Kz1jdXJyO2lmKGN1cnI8bGVuKWJyZWFrfXJldHVybiByZXR9LGRvV3JpdGV2OmZ1bmN0aW9uKHN0cmVhbSxpb3YsaW92Y250LG9mZnNldCl7dmFyIHJldD0wO2Zvcih2YXIgaT0wO2k8aW92Y250O2krKyl7dmFyIHB0cj1IRUFQMzJbaW92K2kqOD4+Ml07dmFyIGxlbj1IRUFQMzJbaW92KyhpKjgrNCk+PjJdO3ZhciBjdXJyPUZTLndyaXRlKHN0cmVhbSxIRUFQOCxwdHIsbGVuLG9mZnNldCk7aWYoY3VycjwwKXJldHVybi0xO3JldCs9Y3Vycn1yZXR1cm4gcmV0fSx2YXJhcmdzOnVuZGVmaW5lZCxnZXQ6ZnVuY3Rpb24oKXtTWVNDQUxMUy52YXJhcmdzKz00O3ZhciByZXQ9SEVBUDMyW1NZU0NBTExTLnZhcmFyZ3MtND4+Ml07cmV0dXJuIHJldH0sZ2V0U3RyOmZ1bmN0aW9uKHB0cil7dmFyIHJldD1VVEY4VG9TdHJpbmcocHRyKTtyZXR1cm4gcmV0fSxnZXRTdHJlYW1Gcm9tRkQ6ZnVuY3Rpb24oZmQpe3ZhciBzdHJlYW09RlMuZ2V0U3RyZWFtKGZkKTtpZighc3RyZWFtKXRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO3JldHVybiBzdHJlYW19LGdldDY0OmZ1bmN0aW9uKGxvdyxoaWdoKXtyZXR1cm4gbG93fX07ZnVuY3Rpb24gX19fc3lzY2FsbF9mY250bDY0KGZkLGNtZCx2YXJhcmdzKXtTWVNDQUxMUy52YXJhcmdzPXZhcmFyZ3M7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtzd2l0Y2goY21kKXtjYXNlIDA6e3ZhciBhcmc9U1lTQ0FMTFMuZ2V0KCk7aWYoYXJnPDApe3JldHVybi0yOH12YXIgbmV3U3RyZWFtO25ld1N0cmVhbT1GUy5vcGVuKHN0cmVhbS5wYXRoLHN0cmVhbS5mbGFncywwLGFyZyk7cmV0dXJuIG5ld1N0cmVhbS5mZH1jYXNlIDE6Y2FzZSAyOnJldHVybiAwO2Nhc2UgMzpyZXR1cm4gc3RyZWFtLmZsYWdzO2Nhc2UgNDp7dmFyIGFyZz1TWVNDQUxMUy5nZXQoKTtzdHJlYW0uZmxhZ3N8PWFyZztyZXR1cm4gMH1jYXNlIDU6e3ZhciBhcmc9U1lTQ0FMTFMuZ2V0KCk7dmFyIG9mZnNldD0wO0hFQVAxNlthcmcrb2Zmc2V0Pj4xXT0yO3JldHVybiAwfWNhc2UgNjpjYXNlIDc6cmV0dXJuIDA7Y2FzZSAxNjpjYXNlIDg6cmV0dXJuLTI4O2Nhc2UgOTpzZXRFcnJObygyOCk7cmV0dXJuLTE7ZGVmYXVsdDp7cmV0dXJuLTI4fX19Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9mc3RhdDY0KGZkLGJ1Zil7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KEZTLnN0YXQsc3RyZWFtLnBhdGgsYnVmKX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX2ZzdGF0YXQ2NChkaXJmZCxwYXRoLGJ1ZixmbGFncyl7dHJ5e3BhdGg9U1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO3ZhciBub2ZvbGxvdz1mbGFncyYyNTY7dmFyIGFsbG93RW1wdHk9ZmxhZ3MmNDA5NjtmbGFncz1mbGFncyZ+NDM1MjtwYXRoPVNZU0NBTExTLmNhbGN1bGF0ZUF0KGRpcmZkLHBhdGgsYWxsb3dFbXB0eSk7cmV0dXJuIFNZU0NBTExTLmRvU3RhdChub2ZvbGxvdz9GUy5sc3RhdDpGUy5zdGF0LHBhdGgsYnVmKX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfX19zeXNjYWxsX2lvY3RsKGZkLG9wLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3N3aXRjaChvcCl7Y2FzZSAyMTUwOTpjYXNlIDIxNTA1OntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7cmV0dXJuIDB9Y2FzZSAyMTUxMDpjYXNlIDIxNTExOmNhc2UgMjE1MTI6Y2FzZSAyMTUwNjpjYXNlIDIxNTA3OmNhc2UgMjE1MDg6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTtyZXR1cm4gMH1jYXNlIDIxNTE5OntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7dmFyIGFyZ3A9U1lTQ0FMTFMuZ2V0KCk7SEVBUDMyW2FyZ3A+PjJdPTA7cmV0dXJuIDB9Y2FzZSAyMTUyMDp7aWYoIXN0cmVhbS50dHkpcmV0dXJuLTU5O3JldHVybi0yOH1jYXNlIDIxNTMxOnt2YXIgYXJncD1TWVNDQUxMUy5nZXQoKTtyZXR1cm4gRlMuaW9jdGwoc3RyZWFtLG9wLGFyZ3ApfWNhc2UgMjE1MjM6e2lmKCFzdHJlYW0udHR5KXJldHVybi01OTtyZXR1cm4gMH1jYXNlIDIxNTI0OntpZighc3RyZWFtLnR0eSlyZXR1cm4tNTk7cmV0dXJuIDB9ZGVmYXVsdDphYm9ydChcImJhZCBpb2N0bCBzeXNjYWxsIFwiK29wKX19Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gc3lzY2FsbE1tYXAyKGFkZHIsbGVuLHByb3QsZmxhZ3MsZmQsb2ZmKXtvZmY8PD0xMjt2YXIgcHRyO3ZhciBhbGxvY2F0ZWQ9ZmFsc2U7aWYoKGZsYWdzJjE2KSE9PTAmJmFkZHIlNjU1MzYhPT0wKXtyZXR1cm4tMjh9aWYoKGZsYWdzJjMyKSE9PTApe3B0cj1tbWFwQWxsb2MobGVuKTtpZighcHRyKXJldHVybi00ODthbGxvY2F0ZWQ9dHJ1ZX1lbHNle3ZhciBpbmZvPUZTLmdldFN0cmVhbShmZCk7aWYoIWluZm8pcmV0dXJuLTg7dmFyIHJlcz1GUy5tbWFwKGluZm8sYWRkcixsZW4sb2ZmLHByb3QsZmxhZ3MpO3B0cj1yZXMucHRyO2FsbG9jYXRlZD1yZXMuYWxsb2NhdGVkfVNZU0NBTExTLm1hcHBpbmdzW3B0cl09e21hbGxvYzpwdHIsbGVuOmxlbixhbGxvY2F0ZWQ6YWxsb2NhdGVkLGZkOmZkLHByb3Q6cHJvdCxmbGFnczpmbGFncyxvZmZzZXQ6b2ZmfTtyZXR1cm4gcHRyfWZ1bmN0aW9uIF9fX3N5c2NhbGxfbW1hcDIoYWRkcixsZW4scHJvdCxmbGFncyxmZCxvZmYpe3RyeXtyZXR1cm4gc3lzY2FsbE1tYXAyKGFkZHIsbGVuLHByb3QsZmxhZ3MsZmQsb2ZmKX1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBzeXNjYWxsTXVubWFwKGFkZHIsbGVuKXt2YXIgaW5mbz1TWVNDQUxMUy5tYXBwaW5nc1thZGRyXTtpZihsZW49PT0wfHwhaW5mbyl7cmV0dXJuLTI4fWlmKGxlbj09PWluZm8ubGVuKXt2YXIgc3RyZWFtPUZTLmdldFN0cmVhbShpbmZvLmZkKTtpZihzdHJlYW0pe2lmKGluZm8ucHJvdCYyKXtTWVNDQUxMUy5kb01zeW5jKGFkZHIsc3RyZWFtLGxlbixpbmZvLmZsYWdzLGluZm8ub2Zmc2V0KX1GUy5tdW5tYXAoc3RyZWFtKX1TWVNDQUxMUy5tYXBwaW5nc1thZGRyXT1udWxsO2lmKGluZm8uYWxsb2NhdGVkKXtfZnJlZShpbmZvLm1hbGxvYyl9fXJldHVybiAwfWZ1bmN0aW9uIF9fX3N5c2NhbGxfbXVubWFwKGFkZHIsbGVuKXt0cnl7cmV0dXJuIHN5c2NhbGxNdW5tYXAoYWRkcixsZW4pfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGxfb3BlbihwYXRoLGZsYWdzLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHBhdGhuYW1lPVNZU0NBTExTLmdldFN0cihwYXRoKTt2YXIgbW9kZT12YXJhcmdzP1NZU0NBTExTLmdldCgpOjA7dmFyIHN0cmVhbT1GUy5vcGVuKHBhdGhuYW1lLGZsYWdzLG1vZGUpO3JldHVybiBzdHJlYW0uZmR9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbF9zdGF0NjQocGF0aCxidWYpe3RyeXtwYXRoPVNZU0NBTExTLmdldFN0cihwYXRoKTtyZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KEZTLnN0YXQscGF0aCxidWYpfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludChwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSl7fWZ1bmN0aW9uIGdldFNoaWZ0RnJvbVNpemUoc2l6ZSl7c3dpdGNoKHNpemUpe2Nhc2UgMTpyZXR1cm4gMDtjYXNlIDI6cmV0dXJuIDE7Y2FzZSA0OnJldHVybiAyO2Nhc2UgODpyZXR1cm4gMztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIHR5cGUgc2l6ZTogXCIrc2l6ZSl9fWZ1bmN0aW9uIGVtYmluZF9pbml0X2NoYXJDb2Rlcygpe3ZhciBjb2Rlcz1uZXcgQXJyYXkoMjU2KTtmb3IodmFyIGk9MDtpPDI1NjsrK2kpe2NvZGVzW2ldPVN0cmluZy5mcm9tQ2hhckNvZGUoaSl9ZW1iaW5kX2NoYXJDb2Rlcz1jb2Rlc312YXIgZW1iaW5kX2NoYXJDb2Rlcz11bmRlZmluZWQ7ZnVuY3Rpb24gcmVhZExhdGluMVN0cmluZyhwdHIpe3ZhciByZXQ9XCJcIjt2YXIgYz1wdHI7d2hpbGUoSEVBUFU4W2NdKXtyZXQrPWVtYmluZF9jaGFyQ29kZXNbSEVBUFU4W2MrK11dfXJldHVybiByZXR9dmFyIGF3YWl0aW5nRGVwZW5kZW5jaWVzPXt9O3ZhciByZWdpc3RlcmVkVHlwZXM9e307dmFyIHR5cGVEZXBlbmRlbmNpZXM9e307dmFyIGNoYXJfMD00ODt2YXIgY2hhcl85PTU3O2Z1bmN0aW9uIG1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKXtpZih1bmRlZmluZWQ9PT1uYW1lKXtyZXR1cm5cIl91bmtub3duXCJ9bmFtZT1uYW1lLnJlcGxhY2UoL1teYS16QS1aMC05X10vZyxcIiRcIik7dmFyIGY9bmFtZS5jaGFyQ29kZUF0KDApO2lmKGY+PWNoYXJfMCYmZjw9Y2hhcl85KXtyZXR1cm5cIl9cIituYW1lfWVsc2V7cmV0dXJuIG5hbWV9fWZ1bmN0aW9uIGNyZWF0ZU5hbWVkRnVuY3Rpb24obmFtZSxib2R5KXtuYW1lPW1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKTtyZXR1cm4gbmV3IEZ1bmN0aW9uKFwiYm9keVwiLFwicmV0dXJuIGZ1bmN0aW9uIFwiK25hbWUrXCIoKSB7XFxuXCIrJyAgICBcInVzZSBzdHJpY3RcIjsnK1wiICAgIHJldHVybiBib2R5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XFxuXCIrXCJ9O1xcblwiKShib2R5KX1mdW5jdGlvbiBleHRlbmRFcnJvcihiYXNlRXJyb3JUeXBlLGVycm9yTmFtZSl7dmFyIGVycm9yQ2xhc3M9Y3JlYXRlTmFtZWRGdW5jdGlvbihlcnJvck5hbWUsZnVuY3Rpb24obWVzc2FnZSl7dGhpcy5uYW1lPWVycm9yTmFtZTt0aGlzLm1lc3NhZ2U9bWVzc2FnZTt2YXIgc3RhY2s9bmV3IEVycm9yKG1lc3NhZ2UpLnN0YWNrO2lmKHN0YWNrIT09dW5kZWZpbmVkKXt0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKStcIlxcblwiK3N0YWNrLnJlcGxhY2UoL15FcnJvcig6W15cXG5dKik/XFxuLyxcIlwiKX19KTtlcnJvckNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGJhc2VFcnJvclR5cGUucHJvdG90eXBlKTtlcnJvckNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lcnJvckNsYXNzO2Vycm9yQ2xhc3MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5tZXNzYWdlPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5uYW1lfWVsc2V7cmV0dXJuIHRoaXMubmFtZStcIjogXCIrdGhpcy5tZXNzYWdlfX07cmV0dXJuIGVycm9yQ2xhc3N9dmFyIEJpbmRpbmdFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gdGhyb3dCaW5kaW5nRXJyb3IobWVzc2FnZSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihtZXNzYWdlKX12YXIgSW50ZXJuYWxFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gdGhyb3dJbnRlcm5hbEVycm9yKG1lc3NhZ2Upe3Rocm93IG5ldyBJbnRlcm5hbEVycm9yKG1lc3NhZ2UpfWZ1bmN0aW9uIHdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKG15VHlwZXMsZGVwZW5kZW50VHlwZXMsZ2V0VHlwZUNvbnZlcnRlcnMpe215VHlwZXMuZm9yRWFjaChmdW5jdGlvbih0eXBlKXt0eXBlRGVwZW5kZW5jaWVzW3R5cGVdPWRlcGVuZGVudFR5cGVzfSk7ZnVuY3Rpb24gb25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl7dmFyIG15VHlwZUNvbnZlcnRlcnM9Z2V0VHlwZUNvbnZlcnRlcnModHlwZUNvbnZlcnRlcnMpO2lmKG15VHlwZUNvbnZlcnRlcnMubGVuZ3RoIT09bXlUeXBlcy5sZW5ndGgpe3Rocm93SW50ZXJuYWxFcnJvcihcIk1pc21hdGNoZWQgdHlwZSBjb252ZXJ0ZXIgY291bnRcIil9Zm9yKHZhciBpPTA7aTxteVR5cGVzLmxlbmd0aDsrK2kpe3JlZ2lzdGVyVHlwZShteVR5cGVzW2ldLG15VHlwZUNvbnZlcnRlcnNbaV0pfX12YXIgdHlwZUNvbnZlcnRlcnM9bmV3IEFycmF5KGRlcGVuZGVudFR5cGVzLmxlbmd0aCk7dmFyIHVucmVnaXN0ZXJlZFR5cGVzPVtdO3ZhciByZWdpc3RlcmVkPTA7ZGVwZW5kZW50VHlwZXMuZm9yRWFjaChmdW5jdGlvbihkdCxpKXtpZihyZWdpc3RlcmVkVHlwZXMuaGFzT3duUHJvcGVydHkoZHQpKXt0eXBlQ29udmVydGVyc1tpXT1yZWdpc3RlcmVkVHlwZXNbZHRdfWVsc2V7dW5yZWdpc3RlcmVkVHlwZXMucHVzaChkdCk7aWYoIWF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGR0KSl7YXdhaXRpbmdEZXBlbmRlbmNpZXNbZHRdPVtdfWF3YWl0aW5nRGVwZW5kZW5jaWVzW2R0XS5wdXNoKGZ1bmN0aW9uKCl7dHlwZUNvbnZlcnRlcnNbaV09cmVnaXN0ZXJlZFR5cGVzW2R0XTsrK3JlZ2lzdGVyZWQ7aWYocmVnaXN0ZXJlZD09PXVucmVnaXN0ZXJlZFR5cGVzLmxlbmd0aCl7b25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl9fSl9fSk7aWYoMD09PXVucmVnaXN0ZXJlZFR5cGVzLmxlbmd0aCl7b25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl9fWZ1bmN0aW9uIHJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O2lmKCEoXCJhcmdQYWNrQWR2YW5jZVwiaW4gcmVnaXN0ZXJlZEluc3RhbmNlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcInJlZ2lzdGVyVHlwZSByZWdpc3RlcmVkSW5zdGFuY2UgcmVxdWlyZXMgYXJnUGFja0FkdmFuY2VcIil9dmFyIG5hbWU9cmVnaXN0ZXJlZEluc3RhbmNlLm5hbWU7aWYoIXJhd1R5cGUpe3Rocm93QmluZGluZ0Vycm9yKCd0eXBlIFwiJytuYW1lKydcIiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyJyl9aWYocmVnaXN0ZXJlZFR5cGVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXtpZihvcHRpb25zLmlnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnMpe3JldHVybn1lbHNle3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJ1wiK25hbWUrXCInIHR3aWNlXCIpfX1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV09cmVnaXN0ZXJlZEluc3RhbmNlO2RlbGV0ZSB0eXBlRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2lmKGF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXt2YXIgY2FsbGJhY2tzPWF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2RlbGV0ZSBhd2FpdGluZ0RlcGVuZGVuY2llc1tyYXdUeXBlXTtjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbihjYil7Y2IoKX0pfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9ib29sKHJhd1R5cGUsbmFtZSxzaXplLHRydWVWYWx1ZSxmYWxzZVZhbHVlKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSxcImZyb21XaXJlVHlwZVwiOmZ1bmN0aW9uKHd0KXtyZXR1cm4hIXd0fSxcInRvV2lyZVR5cGVcIjpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gbz90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0sXCJhcmdQYWNrQWR2YW5jZVwiOjgsXCJyZWFkVmFsdWVGcm9tUG9pbnRlclwiOmZ1bmN0aW9uKHBvaW50ZXIpe3ZhciBoZWFwO2lmKHNpemU9PT0xKXtoZWFwPUhFQVA4fWVsc2UgaWYoc2l6ZT09PTIpe2hlYXA9SEVBUDE2fWVsc2UgaWYoc2l6ZT09PTQpe2hlYXA9SEVBUDMyfWVsc2V7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gYm9vbGVhbiB0eXBlIHNpemU6IFwiK25hbWUpfXJldHVybiB0aGlzW1wiZnJvbVdpcmVUeXBlXCJdKGhlYXBbcG9pbnRlcj4+c2hpZnRdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0FsaWFzT2Yob3RoZXIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIENsYXNzSGFuZGxlKSl7cmV0dXJuIGZhbHNlfWlmKCEob3RoZXIgaW5zdGFuY2VvZiBDbGFzc0hhbmRsZSkpe3JldHVybiBmYWxzZX12YXIgbGVmdENsYXNzPXRoaXMuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIGxlZnQ9dGhpcy4kJC5wdHI7dmFyIHJpZ2h0Q2xhc3M9b3RoZXIuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHJpZ2h0PW90aGVyLiQkLnB0cjt3aGlsZShsZWZ0Q2xhc3MuYmFzZUNsYXNzKXtsZWZ0PWxlZnRDbGFzcy51cGNhc3QobGVmdCk7bGVmdENsYXNzPWxlZnRDbGFzcy5iYXNlQ2xhc3N9d2hpbGUocmlnaHRDbGFzcy5iYXNlQ2xhc3Mpe3JpZ2h0PXJpZ2h0Q2xhc3MudXBjYXN0KHJpZ2h0KTtyaWdodENsYXNzPXJpZ2h0Q2xhc3MuYmFzZUNsYXNzfXJldHVybiBsZWZ0Q2xhc3M9PT1yaWdodENsYXNzJiZsZWZ0PT09cmlnaHR9ZnVuY3Rpb24gc2hhbGxvd0NvcHlJbnRlcm5hbFBvaW50ZXIobyl7cmV0dXJue2NvdW50Om8uY291bnQsZGVsZXRlU2NoZWR1bGVkOm8uZGVsZXRlU2NoZWR1bGVkLHByZXNlcnZlUG9pbnRlck9uRGVsZXRlOm8ucHJlc2VydmVQb2ludGVyT25EZWxldGUscHRyOm8ucHRyLHB0clR5cGU6by5wdHJUeXBlLHNtYXJ0UHRyOm8uc21hcnRQdHIsc21hcnRQdHJUeXBlOm8uc21hcnRQdHJUeXBlfX1mdW5jdGlvbiB0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQob2JqKXtmdW5jdGlvbiBnZXRJbnN0YW5jZVR5cGVOYW1lKGhhbmRsZSl7cmV0dXJuIGhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5uYW1lfXRocm93QmluZGluZ0Vycm9yKGdldEluc3RhbmNlVHlwZU5hbWUob2JqKStcIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWRcIil9dmFyIGZpbmFsaXphdGlvbkdyb3VwPWZhbHNlO2Z1bmN0aW9uIGRldGFjaEZpbmFsaXplcihoYW5kbGUpe31mdW5jdGlvbiBydW5EZXN0cnVjdG9yKCQkKXtpZigkJC5zbWFydFB0cil7JCQuc21hcnRQdHJUeXBlLnJhd0Rlc3RydWN0b3IoJCQuc21hcnRQdHIpfWVsc2V7JCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MucmF3RGVzdHJ1Y3RvcigkJC5wdHIpfX1mdW5jdGlvbiByZWxlYXNlQ2xhc3NIYW5kbGUoJCQpeyQkLmNvdW50LnZhbHVlLT0xO3ZhciB0b0RlbGV0ZT0wPT09JCQuY291bnQudmFsdWU7aWYodG9EZWxldGUpe3J1bkRlc3RydWN0b3IoJCQpfX1mdW5jdGlvbiBhdHRhY2hGaW5hbGl6ZXIoaGFuZGxlKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIEZpbmFsaXphdGlvbkdyb3VwKXthdHRhY2hGaW5hbGl6ZXI9ZnVuY3Rpb24oaGFuZGxlKXtyZXR1cm4gaGFuZGxlfTtyZXR1cm4gaGFuZGxlfWZpbmFsaXphdGlvbkdyb3VwPW5ldyBGaW5hbGl6YXRpb25Hcm91cChmdW5jdGlvbihpdGVyKXtmb3IodmFyIHJlc3VsdD1pdGVyLm5leHQoKTshcmVzdWx0LmRvbmU7cmVzdWx0PWl0ZXIubmV4dCgpKXt2YXIgJCQ9cmVzdWx0LnZhbHVlO2lmKCEkJC5wdHIpe2NvbnNvbGUud2FybihcIm9iamVjdCBhbHJlYWR5IGRlbGV0ZWQ6IFwiKyQkLnB0cil9ZWxzZXtyZWxlYXNlQ2xhc3NIYW5kbGUoJCQpfX19KTthdHRhY2hGaW5hbGl6ZXI9ZnVuY3Rpb24oaGFuZGxlKXtmaW5hbGl6YXRpb25Hcm91cC5yZWdpc3RlcihoYW5kbGUsaGFuZGxlLiQkLGhhbmRsZS4kJCk7cmV0dXJuIGhhbmRsZX07ZGV0YWNoRmluYWxpemVyPWZ1bmN0aW9uKGhhbmRsZSl7ZmluYWxpemF0aW9uR3JvdXAudW5yZWdpc3RlcihoYW5kbGUuJCQpfTtyZXR1cm4gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfY2xvbmUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aGlzLiQkLmNvdW50LnZhbHVlKz0xO3JldHVybiB0aGlzfWVsc2V7dmFyIGNsb25lPWF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOnNoYWxsb3dDb3B5SW50ZXJuYWxQb2ludGVyKHRoaXMuJCQpfX0pKTtjbG9uZS4kJC5jb3VudC52YWx1ZSs9MTtjbG9uZS4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7cmV0dXJuIGNsb25lfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3Rocm93QmluZGluZ0Vycm9yKFwiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvblwiKX1kZXRhY2hGaW5hbGl6ZXIodGhpcyk7cmVsZWFzZUNsYXNzSGFuZGxlKHRoaXMuJCQpO2lmKCF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aGlzLiQkLnNtYXJ0UHRyPXVuZGVmaW5lZDt0aGlzLiQkLnB0cj11bmRlZmluZWR9fWZ1bmN0aW9uIENsYXNzSGFuZGxlX2lzRGVsZXRlZCgpe3JldHVybiF0aGlzLiQkLnB0cn12YXIgZGVsYXlGdW5jdGlvbj11bmRlZmluZWQ7dmFyIGRlbGV0aW9uUXVldWU9W107ZnVuY3Rpb24gZmx1c2hQZW5kaW5nRGVsZXRlcygpe3doaWxlKGRlbGV0aW9uUXVldWUubGVuZ3RoKXt2YXIgb2JqPWRlbGV0aW9uUXVldWUucG9wKCk7b2JqLiQkLmRlbGV0ZVNjaGVkdWxlZD1mYWxzZTtvYmpbXCJkZWxldGVcIl0oKX19ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfZGVsZXRlTGF0ZXIoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3Rocm93QmluZGluZ0Vycm9yKFwiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvblwiKX1kZWxldGlvblF1ZXVlLnB1c2godGhpcyk7aWYoZGVsZXRpb25RdWV1ZS5sZW5ndGg9PT0xJiZkZWxheUZ1bmN0aW9uKXtkZWxheUZ1bmN0aW9uKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfXRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkPXRydWU7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gaW5pdF9DbGFzc0hhbmRsZSgpe0NsYXNzSGFuZGxlLnByb3RvdHlwZVtcImlzQWxpYXNPZlwiXT1DbGFzc0hhbmRsZV9pc0FsaWFzT2Y7Q2xhc3NIYW5kbGUucHJvdG90eXBlW1wiY2xvbmVcIl09Q2xhc3NIYW5kbGVfY2xvbmU7Q2xhc3NIYW5kbGUucHJvdG90eXBlW1wiZGVsZXRlXCJdPUNsYXNzSGFuZGxlX2RlbGV0ZTtDbGFzc0hhbmRsZS5wcm90b3R5cGVbXCJpc0RlbGV0ZWRcIl09Q2xhc3NIYW5kbGVfaXNEZWxldGVkO0NsYXNzSGFuZGxlLnByb3RvdHlwZVtcImRlbGV0ZUxhdGVyXCJdPUNsYXNzSGFuZGxlX2RlbGV0ZUxhdGVyfWZ1bmN0aW9uIENsYXNzSGFuZGxlKCl7fXZhciByZWdpc3RlcmVkUG9pbnRlcnM9e307ZnVuY3Rpb24gZW5zdXJlT3ZlcmxvYWRUYWJsZShwcm90byxtZXRob2ROYW1lLGh1bWFuTmFtZSl7aWYodW5kZWZpbmVkPT09cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZSl7dmFyIHByZXZGdW5jPXByb3RvW21ldGhvZE5hbWVdO3Byb3RvW21ldGhvZE5hbWVdPWZ1bmN0aW9uKCl7aWYoIXByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzLmxlbmd0aCkpe3Rocm93QmluZGluZ0Vycm9yKFwiRnVuY3Rpb24gJ1wiK2h1bWFuTmFtZStcIicgY2FsbGVkIHdpdGggYW4gaW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzIChcIithcmd1bWVudHMubGVuZ3RoK1wiKSAtIGV4cGVjdHMgb25lIG9mIChcIitwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlK1wiKSFcIil9cmV0dXJuIHByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJndW1lbnRzLmxlbmd0aF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlPVtdO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbcHJldkZ1bmMuYXJnQ291bnRdPXByZXZGdW5jfX1mdW5jdGlvbiBleHBvc2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKE1vZHVsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7aWYodW5kZWZpbmVkPT09bnVtQXJndW1lbnRzfHx1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcmVnaXN0ZXIgcHVibGljIG5hbWUgJ1wiK25hbWUrXCInIHR3aWNlXCIpfWVuc3VyZU92ZXJsb2FkVGFibGUoTW9kdWxlLG5hbWUsbmFtZSk7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KG51bUFyZ3VtZW50cykpe3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoXCIrbnVtQXJndW1lbnRzK1wiKSFcIil9TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXT12YWx1ZX1lbHNle01vZHVsZVtuYW1lXT12YWx1ZTtpZih1bmRlZmluZWQhPT1udW1Bcmd1bWVudHMpe01vZHVsZVtuYW1lXS5udW1Bcmd1bWVudHM9bnVtQXJndW1lbnRzfX19ZnVuY3Rpb24gUmVnaXN0ZXJlZENsYXNzKG5hbWUsY29uc3RydWN0b3IsaW5zdGFuY2VQcm90b3R5cGUscmF3RGVzdHJ1Y3RvcixiYXNlQ2xhc3MsZ2V0QWN0dWFsVHlwZSx1cGNhc3QsZG93bmNhc3Qpe3RoaXMubmFtZT1uYW1lO3RoaXMuY29uc3RydWN0b3I9Y29uc3RydWN0b3I7dGhpcy5pbnN0YW5jZVByb3RvdHlwZT1pbnN0YW5jZVByb3RvdHlwZTt0aGlzLnJhd0Rlc3RydWN0b3I9cmF3RGVzdHJ1Y3Rvcjt0aGlzLmJhc2VDbGFzcz1iYXNlQ2xhc3M7dGhpcy5nZXRBY3R1YWxUeXBlPWdldEFjdHVhbFR5cGU7dGhpcy51cGNhc3Q9dXBjYXN0O3RoaXMuZG93bmNhc3Q9ZG93bmNhc3Q7dGhpcy5wdXJlVmlydHVhbEZ1bmN0aW9ucz1bXX1mdW5jdGlvbiB1cGNhc3RQb2ludGVyKHB0cixwdHJDbGFzcyxkZXNpcmVkQ2xhc3Mpe3doaWxlKHB0ckNsYXNzIT09ZGVzaXJlZENsYXNzKXtpZighcHRyQ2xhc3MudXBjYXN0KXt0aHJvd0JpbmRpbmdFcnJvcihcIkV4cGVjdGVkIG51bGwgb3IgaW5zdGFuY2Ugb2YgXCIrZGVzaXJlZENsYXNzLm5hbWUrXCIsIGdvdCBhbiBpbnN0YW5jZSBvZiBcIitwdHJDbGFzcy5uYW1lKX1wdHI9cHRyQ2xhc3MudXBjYXN0KHB0cik7cHRyQ2xhc3M9cHRyQ2xhc3MuYmFzZUNsYXNzfXJldHVybiBwdHJ9ZnVuY3Rpb24gY29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcihcIm51bGwgaXMgbm90IGEgdmFsaWQgXCIrdGhpcy5uYW1lKX1yZXR1cm4gMH1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgXCInK19lbWJpbmRfcmVwcihoYW5kbGUpKydcIiBhcyBhICcrdGhpcy5uYW1lKX1pZighaGFuZGxlLiQkLnB0cil7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSBcIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gZ2VuZXJpY1BvaW50ZXJUb1dpcmVUeXBlKGRlc3RydWN0b3JzLGhhbmRsZSl7dmFyIHB0cjtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcihcIm51bGwgaXMgbm90IGEgdmFsaWQgXCIrdGhpcy5uYW1lKX1pZih0aGlzLmlzU21hcnRQb2ludGVyKXtwdHI9dGhpcy5yYXdDb25zdHJ1Y3RvcigpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3IscHRyKX1yZXR1cm4gcHRyfWVsc2V7cmV0dXJuIDB9fWlmKCFoYW5kbGUuJCQpe3Rocm93QmluZGluZ0Vycm9yKCdDYW5ub3QgcGFzcyBcIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJ1wiIGFzIGEgJyt0aGlzLm5hbWUpfWlmKCFoYW5kbGUuJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlIFwiK3RoaXMubmFtZSl9aWYoIXRoaXMuaXNDb25zdCYmaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlIFwiKyhoYW5kbGUuJCQuc21hcnRQdHJUeXBlP2hhbmRsZS4kJC5zbWFydFB0clR5cGUubmFtZTpoYW5kbGUuJCQucHRyVHlwZS5uYW1lKStcIiB0byBwYXJhbWV0ZXIgdHlwZSBcIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7cHRyPXVwY2FzdFBvaW50ZXIoaGFuZGxlLiQkLnB0cixoYW5kbGVDbGFzcyx0aGlzLnJlZ2lzdGVyZWRDbGFzcyk7aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7aWYodW5kZWZpbmVkPT09aGFuZGxlLiQkLnNtYXJ0UHRyKXt0aHJvd0JpbmRpbmdFcnJvcihcIlBhc3NpbmcgcmF3IHBvaW50ZXIgdG8gc21hcnQgcG9pbnRlciBpcyBpbGxlZ2FsXCIpfXN3aXRjaCh0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSBcIisoaGFuZGxlLiQkLnNtYXJ0UHRyVHlwZT9oYW5kbGUuJCQuc21hcnRQdHJUeXBlLm5hbWU6aGFuZGxlLiQkLnB0clR5cGUubmFtZSkrXCIgdG8gcGFyYW1ldGVyIHR5cGUgXCIrdGhpcy5uYW1lKX1icmVhaztjYXNlIDE6cHRyPWhhbmRsZS4kJC5zbWFydFB0cjticmVhaztjYXNlIDI6aWYoaGFuZGxlLiQkLnNtYXJ0UHRyVHlwZT09PXRoaXMpe3B0cj1oYW5kbGUuJCQuc21hcnRQdHJ9ZWxzZXt2YXIgY2xvbmVkSGFuZGxlPWhhbmRsZVtcImNsb25lXCJdKCk7cHRyPXRoaXMucmF3U2hhcmUocHRyLEVtdmFsLnRvSGFuZGxlKGZ1bmN0aW9uKCl7Y2xvbmVkSGFuZGxlW1wiZGVsZXRlXCJdKCl9KSk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixwdHIpfX1icmVhaztkZWZhdWx0OnRocm93QmluZGluZ0Vycm9yKFwiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5XCIpfX1yZXR1cm4gcHRyfWZ1bmN0aW9uIG5vbkNvbnN0Tm9TbWFydFB0clJhd1BvaW50ZXJUb1dpcmVUeXBlKGRlc3RydWN0b3JzLGhhbmRsZSl7aWYoaGFuZGxlPT09bnVsbCl7aWYodGhpcy5pc1JlZmVyZW5jZSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJudWxsIGlzIG5vdCBhIHZhbGlkIFwiK3RoaXMubmFtZSl9cmV0dXJuIDB9aWYoIWhhbmRsZS4kJCl7dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzIFwiJytfZW1iaW5kX3JlcHIoaGFuZGxlKSsnXCIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgXCIrdGhpcy5uYW1lKX1pZihoYW5kbGUuJCQucHRyVHlwZS5pc0NvbnN0KXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgXCIraGFuZGxlLiQkLnB0clR5cGUubmFtZStcIiB0byBwYXJhbWV0ZXIgdHlwZSBcIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gc2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIHRoaXNbXCJmcm9tV2lyZVR5cGVcIl0oSEVBUFUzMltwb2ludGVyPj4yXSl9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZ2V0UG9pbnRlZShwdHIpe2lmKHRoaXMucmF3R2V0UG9pbnRlZSl7cHRyPXRoaXMucmF3R2V0UG9pbnRlZShwdHIpfXJldHVybiBwdHJ9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZGVzdHJ1Y3RvcihwdHIpe2lmKHRoaXMucmF3RGVzdHJ1Y3Rvcil7dGhpcy5yYXdEZXN0cnVjdG9yKHB0cil9fWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2RlbGV0ZU9iamVjdChoYW5kbGUpe2lmKGhhbmRsZSE9PW51bGwpe2hhbmRsZVtcImRlbGV0ZVwiXSgpfX1mdW5jdGlvbiBkb3duY2FzdFBvaW50ZXIocHRyLHB0ckNsYXNzLGRlc2lyZWRDbGFzcyl7aWYocHRyQ2xhc3M9PT1kZXNpcmVkQ2xhc3Mpe3JldHVybiBwdHJ9aWYodW5kZWZpbmVkPT09ZGVzaXJlZENsYXNzLmJhc2VDbGFzcyl7cmV0dXJuIG51bGx9dmFyIHJ2PWRvd25jYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzLmJhc2VDbGFzcyk7aWYocnY9PT1udWxsKXtyZXR1cm4gbnVsbH1yZXR1cm4gZGVzaXJlZENsYXNzLmRvd25jYXN0KHJ2KX1mdW5jdGlvbiBnZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50KCl7cmV0dXJuIE9iamVjdC5rZXlzKHJlZ2lzdGVyZWRJbnN0YW5jZXMpLmxlbmd0aH1mdW5jdGlvbiBnZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzKCl7dmFyIHJ2PVtdO2Zvcih2YXIgayBpbiByZWdpc3RlcmVkSW5zdGFuY2VzKXtpZihyZWdpc3RlcmVkSW5zdGFuY2VzLmhhc093blByb3BlcnR5KGspKXtydi5wdXNoKHJlZ2lzdGVyZWRJbnN0YW5jZXNba10pfX1yZXR1cm4gcnZ9ZnVuY3Rpb24gc2V0RGVsYXlGdW5jdGlvbihmbil7ZGVsYXlGdW5jdGlvbj1mbjtpZihkZWxldGlvblF1ZXVlLmxlbmd0aCYmZGVsYXlGdW5jdGlvbil7ZGVsYXlGdW5jdGlvbihmbHVzaFBlbmRpbmdEZWxldGVzKX19ZnVuY3Rpb24gaW5pdF9lbWJpbmQoKXtNb2R1bGVbXCJnZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50XCJdPWdldEluaGVyaXRlZEluc3RhbmNlQ291bnQ7TW9kdWxlW1wiZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlc1wiXT1nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzO01vZHVsZVtcImZsdXNoUGVuZGluZ0RlbGV0ZXNcIl09Zmx1c2hQZW5kaW5nRGVsZXRlcztNb2R1bGVbXCJzZXREZWxheUZ1bmN0aW9uXCJdPXNldERlbGF5RnVuY3Rpb259dmFyIHJlZ2lzdGVyZWRJbnN0YW5jZXM9e307ZnVuY3Rpb24gZ2V0QmFzZXN0UG9pbnRlcihjbGFzc18scHRyKXtpZihwdHI9PT11bmRlZmluZWQpe3Rocm93QmluZGluZ0Vycm9yKFwicHRyIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkXCIpfXdoaWxlKGNsYXNzXy5iYXNlQ2xhc3Mpe3B0cj1jbGFzc18udXBjYXN0KHB0cik7Y2xhc3NfPWNsYXNzXy5iYXNlQ2xhc3N9cmV0dXJuIHB0cn1mdW5jdGlvbiBnZXRJbmhlcml0ZWRJbnN0YW5jZShjbGFzc18scHRyKXtwdHI9Z2V0QmFzZXN0UG9pbnRlcihjbGFzc18scHRyKTtyZXR1cm4gcmVnaXN0ZXJlZEluc3RhbmNlc1twdHJdfWZ1bmN0aW9uIG1ha2VDbGFzc0hhbmRsZShwcm90b3R5cGUscmVjb3JkKXtpZighcmVjb3JkLnB0clR5cGV8fCFyZWNvcmQucHRyKXt0aHJvd0ludGVybmFsRXJyb3IoXCJtYWtlQ2xhc3NIYW5kbGUgcmVxdWlyZXMgcHRyIGFuZCBwdHJUeXBlXCIpfXZhciBoYXNTbWFydFB0clR5cGU9ISFyZWNvcmQuc21hcnRQdHJUeXBlO3ZhciBoYXNTbWFydFB0cj0hIXJlY29yZC5zbWFydFB0cjtpZihoYXNTbWFydFB0clR5cGUhPT1oYXNTbWFydFB0cil7dGhyb3dJbnRlcm5hbEVycm9yKFwiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkXCIpfXJlY29yZC5jb3VudD17dmFsdWU6MX07cmV0dXJuIGF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKHByb3RvdHlwZSx7JCQ6e3ZhbHVlOnJlY29yZH19KSl9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlKHB0cil7dmFyIHJhd1BvaW50ZXI9dGhpcy5nZXRQb2ludGVlKHB0cik7aWYoIXJhd1BvaW50ZXIpe3RoaXMuZGVzdHJ1Y3RvcihwdHIpO3JldHVybiBudWxsfXZhciByZWdpc3RlcmVkSW5zdGFuY2U9Z2V0SW5oZXJpdGVkSW5zdGFuY2UodGhpcy5yZWdpc3RlcmVkQ2xhc3MscmF3UG9pbnRlcik7aWYodW5kZWZpbmVkIT09cmVnaXN0ZXJlZEluc3RhbmNlKXtpZigwPT09cmVnaXN0ZXJlZEluc3RhbmNlLiQkLmNvdW50LnZhbHVlKXtyZWdpc3RlcmVkSW5zdGFuY2UuJCQucHRyPXJhd1BvaW50ZXI7cmVnaXN0ZXJlZEluc3RhbmNlLiQkLnNtYXJ0UHRyPXB0cjtyZXR1cm4gcmVnaXN0ZXJlZEluc3RhbmNlW1wiY2xvbmVcIl0oKX1lbHNle3ZhciBydj1yZWdpc3RlcmVkSW5zdGFuY2VbXCJjbG9uZVwiXSgpO3RoaXMuZGVzdHJ1Y3RvcihwdHIpO3JldHVybiBydn19ZnVuY3Rpb24gbWFrZURlZmF1bHRIYW5kbGUoKXtpZih0aGlzLmlzU21hcnRQb2ludGVyKXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRoaXMucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRoaXMucG9pbnRlZVR5cGUscHRyOnJhd1BvaW50ZXIsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6cHRyfSl9ZWxzZXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRoaXMucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRoaXMscHRyOnB0cn0pfX12YXIgYWN0dWFsVHlwZT10aGlzLnJlZ2lzdGVyZWRDbGFzcy5nZXRBY3R1YWxUeXBlKHJhd1BvaW50ZXIpO3ZhciByZWdpc3RlcmVkUG9pbnRlclJlY29yZD1yZWdpc3RlcmVkUG9pbnRlcnNbYWN0dWFsVHlwZV07aWYoIXJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkKXtyZXR1cm4gbWFrZURlZmF1bHRIYW5kbGUuY2FsbCh0aGlzKX12YXIgdG9UeXBlO2lmKHRoaXMuaXNDb25zdCl7dG9UeXBlPXJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkLmNvbnN0UG9pbnRlclR5cGV9ZWxzZXt0b1R5cGU9cmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQucG9pbnRlclR5cGV9dmFyIGRwPWRvd25jYXN0UG9pbnRlcihyYXdQb2ludGVyLHRoaXMucmVnaXN0ZXJlZENsYXNzLHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MpO2lmKGRwPT09bnVsbCl7cmV0dXJuIG1ha2VEZWZhdWx0SGFuZGxlLmNhbGwodGhpcyl9aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7cmV0dXJuIG1ha2VDbGFzc0hhbmRsZSh0b1R5cGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnRvVHlwZSxwdHI6ZHAsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6cHRyfSl9ZWxzZXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dG9UeXBlLHB0cjpkcH0pfX1mdW5jdGlvbiBpbml0X1JlZ2lzdGVyZWRQb2ludGVyKCl7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlLmdldFBvaW50ZWU9UmVnaXN0ZXJlZFBvaW50ZXJfZ2V0UG9pbnRlZTtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuZGVzdHJ1Y3Rvcj1SZWdpc3RlcmVkUG9pbnRlcl9kZXN0cnVjdG9yO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVtcImFyZ1BhY2tBZHZhbmNlXCJdPTg7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlW1wicmVhZFZhbHVlRnJvbVBvaW50ZXJcIl09c2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXI7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlW1wiZGVsZXRlT2JqZWN0XCJdPVJlZ2lzdGVyZWRQb2ludGVyX2RlbGV0ZU9iamVjdDtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGVbXCJmcm9tV2lyZVR5cGVcIl09UmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUscmVnaXN0ZXJlZENsYXNzLGlzUmVmZXJlbmNlLGlzQ29uc3QsaXNTbWFydFBvaW50ZXIscG9pbnRlZVR5cGUsc2hhcmluZ1BvbGljeSxyYXdHZXRQb2ludGVlLHJhd0NvbnN0cnVjdG9yLHJhd1NoYXJlLHJhd0Rlc3RydWN0b3Ipe3RoaXMubmFtZT1uYW1lO3RoaXMucmVnaXN0ZXJlZENsYXNzPXJlZ2lzdGVyZWRDbGFzczt0aGlzLmlzUmVmZXJlbmNlPWlzUmVmZXJlbmNlO3RoaXMuaXNDb25zdD1pc0NvbnN0O3RoaXMuaXNTbWFydFBvaW50ZXI9aXNTbWFydFBvaW50ZXI7dGhpcy5wb2ludGVlVHlwZT1wb2ludGVlVHlwZTt0aGlzLnNoYXJpbmdQb2xpY3k9c2hhcmluZ1BvbGljeTt0aGlzLnJhd0dldFBvaW50ZWU9cmF3R2V0UG9pbnRlZTt0aGlzLnJhd0NvbnN0cnVjdG9yPXJhd0NvbnN0cnVjdG9yO3RoaXMucmF3U2hhcmU9cmF3U2hhcmU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7aWYoIWlzU21hcnRQb2ludGVyJiZyZWdpc3RlcmVkQ2xhc3MuYmFzZUNsYXNzPT09dW5kZWZpbmVkKXtpZihpc0NvbnN0KXt0aGlzW1widG9XaXJlVHlwZVwiXT1jb25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZTt0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsfWVsc2V7dGhpc1tcInRvV2lyZVR5cGVcIl09bm9uQ29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGU7dGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbH19ZWxzZXt0aGlzW1widG9XaXJlVHlwZVwiXT1nZW5lcmljUG9pbnRlclRvV2lyZVR5cGV9fWZ1bmN0aW9uIHJlcGxhY2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKCFNb2R1bGUuaGFzT3duUHJvcGVydHkobmFtZSkpe3Rocm93SW50ZXJuYWxFcnJvcihcIlJlcGxhY2luZyBub25leGlzdGFudCBwdWJsaWMgc3ltYm9sXCIpfWlmKHVuZGVmaW5lZCE9PU1vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlJiZ1bmRlZmluZWQhPT1udW1Bcmd1bWVudHMpe01vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlW251bUFyZ3VtZW50c109dmFsdWV9ZWxzZXtNb2R1bGVbbmFtZV09dmFsdWU7TW9kdWxlW25hbWVdLmFyZ0NvdW50PW51bUFyZ3VtZW50c319ZnVuY3Rpb24gZHluQ2FsbExlZ2FjeShzaWcscHRyLGFyZ3Mpe3ZhciBmPU1vZHVsZVtcImR5bkNhbGxfXCIrc2lnXTtyZXR1cm4gYXJncyYmYXJncy5sZW5ndGg/Zi5hcHBseShudWxsLFtwdHJdLmNvbmNhdChhcmdzKSk6Zi5jYWxsKG51bGwscHRyKX1mdW5jdGlvbiBkeW5DYWxsKHNpZyxwdHIsYXJncyl7aWYoc2lnLmluY2x1ZGVzKFwialwiKSl7cmV0dXJuIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKX1yZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkocHRyKS5hcHBseShudWxsLGFyZ3MpfWZ1bmN0aW9uIGdldER5bkNhbGxlcihzaWcscHRyKXt2YXIgYXJnQ2FjaGU9W107cmV0dXJuIGZ1bmN0aW9uKCl7YXJnQ2FjaGUubGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7YXJnQ2FjaGVbaV09YXJndW1lbnRzW2ldfXJldHVybiBkeW5DYWxsKHNpZyxwdHIsYXJnQ2FjaGUpfX1mdW5jdGlvbiBlbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihzaWduYXR1cmUscmF3RnVuY3Rpb24pe3NpZ25hdHVyZT1yZWFkTGF0aW4xU3RyaW5nKHNpZ25hdHVyZSk7ZnVuY3Rpb24gbWFrZUR5bkNhbGxlcigpe2lmKHNpZ25hdHVyZS5pbmNsdWRlcyhcImpcIikpe3JldHVybiBnZXREeW5DYWxsZXIoc2lnbmF0dXJlLHJhd0Z1bmN0aW9uKX1yZXR1cm4gZ2V0V2FzbVRhYmxlRW50cnkocmF3RnVuY3Rpb24pfXZhciBmcD1tYWtlRHluQ2FsbGVyKCk7aWYodHlwZW9mIGZwIT09XCJmdW5jdGlvblwiKXt0aHJvd0JpbmRpbmdFcnJvcihcInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSBcIitzaWduYXR1cmUrXCI6IFwiK3Jhd0Z1bmN0aW9uKX1yZXR1cm4gZnB9dmFyIFVuYm91bmRUeXBlRXJyb3I9dW5kZWZpbmVkO2Z1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpe3ZhciBwdHI9X19fZ2V0VHlwZU5hbWUodHlwZSk7dmFyIHJ2PXJlYWRMYXRpbjFTdHJpbmcocHRyKTtfZnJlZShwdHIpO3JldHVybiBydn1mdW5jdGlvbiB0aHJvd1VuYm91bmRUeXBlRXJyb3IobWVzc2FnZSx0eXBlcyl7dmFyIHVuYm91bmRUeXBlcz1bXTt2YXIgc2Vlbj17fTtmdW5jdGlvbiB2aXNpdCh0eXBlKXtpZihzZWVuW3R5cGVdKXtyZXR1cm59aWYocmVnaXN0ZXJlZFR5cGVzW3R5cGVdKXtyZXR1cm59aWYodHlwZURlcGVuZGVuY2llc1t0eXBlXSl7dHlwZURlcGVuZGVuY2llc1t0eXBlXS5mb3JFYWNoKHZpc2l0KTtyZXR1cm59dW5ib3VuZFR5cGVzLnB1c2godHlwZSk7c2Vlblt0eXBlXT10cnVlfXR5cGVzLmZvckVhY2godmlzaXQpO3Rocm93IG5ldyBVbmJvdW5kVHlwZUVycm9yKG1lc3NhZ2UrXCI6IFwiK3VuYm91bmRUeXBlcy5tYXAoZ2V0VHlwZU5hbWUpLmpvaW4oW1wiLCBcIl0pKX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzcyhyYXdUeXBlLHJhd1BvaW50ZXJUeXBlLHJhd0NvbnN0UG9pbnRlclR5cGUsYmFzZUNsYXNzUmF3VHlwZSxnZXRBY3R1YWxUeXBlU2lnbmF0dXJlLGdldEFjdHVhbFR5cGUsdXBjYXN0U2lnbmF0dXJlLHVwY2FzdCxkb3duY2FzdFNpZ25hdHVyZSxkb3duY2FzdCxuYW1lLGRlc3RydWN0b3JTaWduYXR1cmUscmF3RGVzdHJ1Y3Rvcil7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO2dldEFjdHVhbFR5cGU9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZ2V0QWN0dWFsVHlwZVNpZ25hdHVyZSxnZXRBY3R1YWxUeXBlKTtpZih1cGNhc3Qpe3VwY2FzdD1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbih1cGNhc3RTaWduYXR1cmUsdXBjYXN0KX1pZihkb3duY2FzdCl7ZG93bmNhc3Q9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZG93bmNhc3RTaWduYXR1cmUsZG93bmNhc3QpfXJhd0Rlc3RydWN0b3I9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZGVzdHJ1Y3RvclNpZ25hdHVyZSxyYXdEZXN0cnVjdG9yKTt2YXIgbGVnYWxGdW5jdGlvbk5hbWU9bWFrZUxlZ2FsRnVuY3Rpb25OYW1lKG5hbWUpO2V4cG9zZVB1YmxpY1N5bWJvbChsZWdhbEZ1bmN0aW9uTmFtZSxmdW5jdGlvbigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcihcIkNhbm5vdCBjb25zdHJ1Y3QgXCIrbmFtZStcIiBkdWUgdG8gdW5ib3VuZCB0eXBlc1wiLFtiYXNlQ2xhc3NSYXdUeXBlXSl9KTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbcmF3VHlwZSxyYXdQb2ludGVyVHlwZSxyYXdDb25zdFBvaW50ZXJUeXBlXSxiYXNlQ2xhc3NSYXdUeXBlP1tiYXNlQ2xhc3NSYXdUeXBlXTpbXSxmdW5jdGlvbihiYXNlKXtiYXNlPWJhc2VbMF07dmFyIGJhc2VDbGFzczt2YXIgYmFzZVByb3RvdHlwZTtpZihiYXNlQ2xhc3NSYXdUeXBlKXtiYXNlQ2xhc3M9YmFzZS5yZWdpc3RlcmVkQ2xhc3M7YmFzZVByb3RvdHlwZT1iYXNlQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGV9ZWxzZXtiYXNlUHJvdG90eXBlPUNsYXNzSGFuZGxlLnByb3RvdHlwZX12YXIgY29uc3RydWN0b3I9Y3JlYXRlTmFtZWRGdW5jdGlvbihsZWdhbEZ1bmN0aW9uTmFtZSxmdW5jdGlvbigpe2lmKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSE9PWluc3RhbmNlUHJvdG90eXBlKXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKFwiVXNlICduZXcnIHRvIGNvbnN0cnVjdCBcIituYW1lKX1pZih1bmRlZmluZWQ9PT1yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihuYW1lK1wiIGhhcyBubyBhY2Nlc3NpYmxlIGNvbnN0cnVjdG9yXCIpfXZhciBib2R5PXJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ3VtZW50cy5sZW5ndGhdO2lmKHVuZGVmaW5lZD09PWJvZHkpe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoXCJUcmllZCB0byBpbnZva2UgY3RvciBvZiBcIituYW1lK1wiIHdpdGggaW52YWxpZCBudW1iZXIgb2YgcGFyYW1ldGVycyAoXCIrYXJndW1lbnRzLmxlbmd0aCtcIikgLSBleHBlY3RlZCAoXCIrT2JqZWN0LmtleXMocmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpLnRvU3RyaW5nKCkrXCIpIHBhcmFtZXRlcnMgaW5zdGVhZCFcIil9cmV0dXJuIGJvZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dmFyIGluc3RhbmNlUHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYmFzZVByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmNvbnN0cnVjdG9yfX0pO2NvbnN0cnVjdG9yLnByb3RvdHlwZT1pbnN0YW5jZVByb3RvdHlwZTt2YXIgcmVnaXN0ZXJlZENsYXNzPW5ldyBSZWdpc3RlcmVkQ2xhc3MobmFtZSxjb25zdHJ1Y3RvcixpbnN0YW5jZVByb3RvdHlwZSxyYXdEZXN0cnVjdG9yLGJhc2VDbGFzcyxnZXRBY3R1YWxUeXBlLHVwY2FzdCxkb3duY2FzdCk7dmFyIHJlZmVyZW5jZUNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSxyZWdpc3RlcmVkQ2xhc3MsdHJ1ZSxmYWxzZSxmYWxzZSk7dmFyIHBvaW50ZXJDb252ZXJ0ZXI9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUrXCIqXCIscmVnaXN0ZXJlZENsYXNzLGZhbHNlLGZhbHNlLGZhbHNlKTt2YXIgY29uc3RQb2ludGVyQ29udmVydGVyPW5ldyBSZWdpc3RlcmVkUG9pbnRlcihuYW1lK1wiIGNvbnN0KlwiLHJlZ2lzdGVyZWRDbGFzcyxmYWxzZSx0cnVlLGZhbHNlKTtyZWdpc3RlcmVkUG9pbnRlcnNbcmF3VHlwZV09e3BvaW50ZXJUeXBlOnBvaW50ZXJDb252ZXJ0ZXIsY29uc3RQb2ludGVyVHlwZTpjb25zdFBvaW50ZXJDb252ZXJ0ZXJ9O3JlcGxhY2VQdWJsaWNTeW1ib2wobGVnYWxGdW5jdGlvbk5hbWUsY29uc3RydWN0b3IpO3JldHVybltyZWZlcmVuY2VDb252ZXJ0ZXIscG9pbnRlckNvbnZlcnRlcixjb25zdFBvaW50ZXJDb252ZXJ0ZXJdfSl9ZnVuY3Rpb24gaGVhcDMyVmVjdG9yVG9BcnJheShjb3VudCxmaXJzdEVsZW1lbnQpe3ZhciBhcnJheT1bXTtmb3IodmFyIGk9MDtpPGNvdW50O2krKyl7YXJyYXkucHVzaChIRUFQMzJbKGZpcnN0RWxlbWVudD4+MikraV0pfXJldHVybiBhcnJheX1mdW5jdGlvbiBydW5EZXN0cnVjdG9ycyhkZXN0cnVjdG9ycyl7d2hpbGUoZGVzdHJ1Y3RvcnMubGVuZ3RoKXt2YXIgcHRyPWRlc3RydWN0b3JzLnBvcCgpO3ZhciBkZWw9ZGVzdHJ1Y3RvcnMucG9wKCk7ZGVsKHB0cil9fWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yKHJhd0NsYXNzVHlwZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxpbnZva2VyLHJhd0NvbnN0cnVjdG9yKXthc3NlcnQoYXJnQ291bnQ+MCk7dmFyIHJhd0FyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTtpbnZva2VyPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGludm9rZXJTaWduYXR1cmUsaW52b2tlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW3Jhd0NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9XCJjb25zdHJ1Y3RvciBcIitjbGFzc1R5cGUubmFtZTtpZih1bmRlZmluZWQ9PT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keT1bXX1pZih1bmRlZmluZWQhPT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJnQ291bnQtMV0pe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzIChcIisoYXJnQ291bnQtMSkrXCIpIGZvciBjbGFzcyAnXCIrY2xhc3NUeXBlLm5hbWUrXCInISBPdmVybG9hZCByZXNvbHV0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHBlcmZvcm1lZCB1c2luZyB0aGUgcGFyYW1ldGVyIGNvdW50LCBub3QgYWN0dWFsIHR5cGUgaW5mbyFcIil9Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ0NvdW50LTFdPWZ1bmN0aW9uIHVuYm91bmRUeXBlSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcihcIkNhbm5vdCBjb25zdHJ1Y3QgXCIrY2xhc3NUeXBlLm5hbWUrXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixyYXdBcmdUeXBlcyl9O3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHJhd0FyZ1R5cGVzLGZ1bmN0aW9uKGFyZ1R5cGVzKXthcmdUeXBlcy5zcGxpY2UoMSwwLG51bGwpO2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmdDb3VudC0xXT1jcmFmdEludm9rZXJGdW5jdGlvbihodW1hbk5hbWUsYXJnVHlwZXMsbnVsbCxpbnZva2VyLHJhd0NvbnN0cnVjdG9yKTtyZXR1cm5bXX0pO3JldHVybltdfSl9ZnVuY3Rpb24gbmV3Xyhjb25zdHJ1Y3Rvcixhcmd1bWVudExpc3Qpe2lmKCEoY29uc3RydWN0b3IgaW5zdGFuY2VvZiBGdW5jdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJuZXdfIGNhbGxlZCB3aXRoIGNvbnN0cnVjdG9yIHR5cGUgXCIrdHlwZW9mIGNvbnN0cnVjdG9yK1wiIHdoaWNoIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfXZhciBkdW1teT1jcmVhdGVOYW1lZEZ1bmN0aW9uKGNvbnN0cnVjdG9yLm5hbWV8fFwidW5rbm93bkZ1bmN0aW9uTmFtZVwiLGZ1bmN0aW9uKCl7fSk7ZHVtbXkucHJvdG90eXBlPWNvbnN0cnVjdG9yLnByb3RvdHlwZTt2YXIgb2JqPW5ldyBkdW1teTt2YXIgcj1jb25zdHJ1Y3Rvci5hcHBseShvYmosYXJndW1lbnRMaXN0KTtyZXR1cm4gciBpbnN0YW5jZW9mIE9iamVjdD9yOm9ian1mdW5jdGlvbiBjcmFmdEludm9rZXJGdW5jdGlvbihodW1hbk5hbWUsYXJnVHlwZXMsY2xhc3NUeXBlLGNwcEludm9rZXJGdW5jLGNwcFRhcmdldEZ1bmMpe3ZhciBhcmdDb3VudD1hcmdUeXBlcy5sZW5ndGg7aWYoYXJnQ291bnQ8Mil7dGhyb3dCaW5kaW5nRXJyb3IoXCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyFcIil9dmFyIGlzQ2xhc3NNZXRob2RGdW5jPWFyZ1R5cGVzWzFdIT09bnVsbCYmY2xhc3NUeXBlIT09bnVsbDt2YXIgbmVlZHNEZXN0cnVjdG9yU3RhY2s9ZmFsc2U7Zm9yKHZhciBpPTE7aTxhcmdUeXBlcy5sZW5ndGg7KytpKXtpZihhcmdUeXBlc1tpXSE9PW51bGwmJmFyZ1R5cGVzW2ldLmRlc3RydWN0b3JGdW5jdGlvbj09PXVuZGVmaW5lZCl7bmVlZHNEZXN0cnVjdG9yU3RhY2s9dHJ1ZTticmVha319dmFyIHJldHVybnM9YXJnVHlwZXNbMF0ubmFtZSE9PVwidm9pZFwiO3ZhciBhcmdzTGlzdD1cIlwiO3ZhciBhcmdzTGlzdFdpcmVkPVwiXCI7Zm9yKHZhciBpPTA7aTxhcmdDb3VudC0yOysraSl7YXJnc0xpc3QrPShpIT09MD9cIiwgXCI6XCJcIikrXCJhcmdcIitpO2FyZ3NMaXN0V2lyZWQrPShpIT09MD9cIiwgXCI6XCJcIikrXCJhcmdcIitpK1wiV2lyZWRcIn12YXIgaW52b2tlckZuQm9keT1cInJldHVybiBmdW5jdGlvbiBcIittYWtlTGVnYWxGdW5jdGlvbk5hbWUoaHVtYW5OYW1lKStcIihcIithcmdzTGlzdCtcIikge1xcblwiK1wiaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IFwiKyhhcmdDb3VudC0yKStcIikge1xcblwiK1widGhyb3dCaW5kaW5nRXJyb3IoJ2Z1bmN0aW9uIFwiK2h1bWFuTmFtZStcIiBjYWxsZWQgd2l0aCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLCBleHBlY3RlZCBcIisoYXJnQ291bnQtMikrXCIgYXJncyEnKTtcXG5cIitcIn1cXG5cIjtpZihuZWVkc0Rlc3RydWN0b3JTdGFjayl7aW52b2tlckZuQm9keSs9XCJ2YXIgZGVzdHJ1Y3RvcnMgPSBbXTtcXG5cIn12YXIgZHRvclN0YWNrPW5lZWRzRGVzdHJ1Y3RvclN0YWNrP1wiZGVzdHJ1Y3RvcnNcIjpcIm51bGxcIjt2YXIgYXJnczE9W1widGhyb3dCaW5kaW5nRXJyb3JcIixcImludm9rZXJcIixcImZuXCIsXCJydW5EZXN0cnVjdG9yc1wiLFwicmV0VHlwZVwiLFwiY2xhc3NQYXJhbVwiXTt2YXIgYXJnczI9W3Rocm93QmluZGluZ0Vycm9yLGNwcEludm9rZXJGdW5jLGNwcFRhcmdldEZ1bmMscnVuRGVzdHJ1Y3RvcnMsYXJnVHlwZXNbMF0sYXJnVHlwZXNbMV1dO2lmKGlzQ2xhc3NNZXRob2RGdW5jKXtpbnZva2VyRm5Cb2R5Kz1cInZhciB0aGlzV2lyZWQgPSBjbGFzc1BhcmFtLnRvV2lyZVR5cGUoXCIrZHRvclN0YWNrK1wiLCB0aGlzKTtcXG5cIn1mb3IodmFyIGk9MDtpPGFyZ0NvdW50LTI7KytpKXtpbnZva2VyRm5Cb2R5Kz1cInZhciBhcmdcIitpK1wiV2lyZWQgPSBhcmdUeXBlXCIraStcIi50b1dpcmVUeXBlKFwiK2R0b3JTdGFjaytcIiwgYXJnXCIraStcIik7IC8vIFwiK2FyZ1R5cGVzW2krMl0ubmFtZStcIlxcblwiO2FyZ3MxLnB1c2goXCJhcmdUeXBlXCIraSk7YXJnczIucHVzaChhcmdUeXBlc1tpKzJdKX1pZihpc0NsYXNzTWV0aG9kRnVuYyl7YXJnc0xpc3RXaXJlZD1cInRoaXNXaXJlZFwiKyhhcmdzTGlzdFdpcmVkLmxlbmd0aD4wP1wiLCBcIjpcIlwiKSthcmdzTGlzdFdpcmVkfWludm9rZXJGbkJvZHkrPShyZXR1cm5zP1widmFyIHJ2ID0gXCI6XCJcIikrXCJpbnZva2VyKGZuXCIrKGFyZ3NMaXN0V2lyZWQubGVuZ3RoPjA/XCIsIFwiOlwiXCIpK2FyZ3NMaXN0V2lyZWQrXCIpO1xcblwiO2lmKG5lZWRzRGVzdHJ1Y3RvclN0YWNrKXtpbnZva2VyRm5Cb2R5Kz1cInJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtcXG5cIn1lbHNle2Zvcih2YXIgaT1pc0NsYXNzTWV0aG9kRnVuYz8xOjI7aTxhcmdUeXBlcy5sZW5ndGg7KytpKXt2YXIgcGFyYW1OYW1lPWk9PT0xP1widGhpc1dpcmVkXCI6XCJhcmdcIisoaS0yKStcIldpcmVkXCI7aWYoYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uIT09bnVsbCl7aW52b2tlckZuQm9keSs9cGFyYW1OYW1lK1wiX2R0b3IoXCIrcGFyYW1OYW1lK1wiKTsgLy8gXCIrYXJnVHlwZXNbaV0ubmFtZStcIlxcblwiO2FyZ3MxLnB1c2gocGFyYW1OYW1lK1wiX2R0b3JcIik7YXJnczIucHVzaChhcmdUeXBlc1tpXS5kZXN0cnVjdG9yRnVuY3Rpb24pfX19aWYocmV0dXJucyl7aW52b2tlckZuQm9keSs9XCJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xcblwiK1wicmV0dXJuIHJldDtcXG5cIn1lbHNle31pbnZva2VyRm5Cb2R5Kz1cIn1cXG5cIjthcmdzMS5wdXNoKGludm9rZXJGbkJvZHkpO3ZhciBpbnZva2VyRnVuY3Rpb249bmV3XyhGdW5jdGlvbixhcmdzMSkuYXBwbHkobnVsbCxhcmdzMik7cmV0dXJuIGludm9rZXJGdW5jdGlvbn1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbihyYXdDbGFzc1R5cGUsbWV0aG9kTmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyLGNvbnRleHQsaXNQdXJlVmlydHVhbCl7dmFyIHJhd0FyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTttZXRob2ROYW1lPXJlYWRMYXRpbjFTdHJpbmcobWV0aG9kTmFtZSk7cmF3SW52b2tlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihpbnZva2VyU2lnbmF0dXJlLHJhd0ludm9rZXIpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLFtyYXdDbGFzc1R5cGVdLGZ1bmN0aW9uKGNsYXNzVHlwZSl7Y2xhc3NUeXBlPWNsYXNzVHlwZVswXTt2YXIgaHVtYW5OYW1lPWNsYXNzVHlwZS5uYW1lK1wiLlwiK21ldGhvZE5hbWU7aWYobWV0aG9kTmFtZS5zdGFydHNXaXRoKFwiQEBcIikpe21ldGhvZE5hbWU9U3ltYm9sW21ldGhvZE5hbWUuc3Vic3RyaW5nKDIpXX1pZihpc1B1cmVWaXJ0dWFsKXtjbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLnB1cmVWaXJ0dWFsRnVuY3Rpb25zLnB1c2gobWV0aG9kTmFtZSl9ZnVuY3Rpb24gdW5ib3VuZFR5cGVzSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIFwiK2h1bWFuTmFtZStcIiBkdWUgdG8gdW5ib3VuZCB0eXBlc1wiLHJhd0FyZ1R5cGVzKX12YXIgcHJvdG89Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZTt2YXIgbWV0aG9kPXByb3RvW21ldGhvZE5hbWVdO2lmKHVuZGVmaW5lZD09PW1ldGhvZHx8dW5kZWZpbmVkPT09bWV0aG9kLm92ZXJsb2FkVGFibGUmJm1ldGhvZC5jbGFzc05hbWUhPT1jbGFzc1R5cGUubmFtZSYmbWV0aG9kLmFyZ0NvdW50PT09YXJnQ291bnQtMil7dW5ib3VuZFR5cGVzSGFuZGxlci5hcmdDb3VudD1hcmdDb3VudC0yO3VuYm91bmRUeXBlc0hhbmRsZXIuY2xhc3NOYW1lPWNsYXNzVHlwZS5uYW1lO3Byb3RvW21ldGhvZE5hbWVdPXVuYm91bmRUeXBlc0hhbmRsZXJ9ZWxzZXtlbnN1cmVPdmVybG9hZFRhYmxlKHByb3RvLG1ldGhvZE5hbWUsaHVtYW5OYW1lKTtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlW2FyZ0NvdW50LTJdPXVuYm91bmRUeXBlc0hhbmRsZXJ9d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10scmF3QXJnVHlwZXMsZnVuY3Rpb24oYXJnVHlwZXMpe3ZhciBtZW1iZXJGdW5jdGlvbj1jcmFmdEludm9rZXJGdW5jdGlvbihodW1hbk5hbWUsYXJnVHlwZXMsY2xhc3NUeXBlLHJhd0ludm9rZXIsY29udGV4dCk7aWYodW5kZWZpbmVkPT09cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZSl7bWVtYmVyRnVuY3Rpb24uYXJnQ291bnQ9YXJnQ291bnQtMjtwcm90b1ttZXRob2ROYW1lXT1tZW1iZXJGdW5jdGlvbn1lbHNle3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMl09bWVtYmVyRnVuY3Rpb259cmV0dXJuW119KTtyZXR1cm5bXX0pfXZhciBlbXZhbF9mcmVlX2xpc3Q9W107dmFyIGVtdmFsX2hhbmRsZV9hcnJheT1be30se3ZhbHVlOnVuZGVmaW5lZH0se3ZhbHVlOm51bGx9LHt2YWx1ZTp0cnVlfSx7dmFsdWU6ZmFsc2V9XTtmdW5jdGlvbiBfX2VtdmFsX2RlY3JlZihoYW5kbGUpe2lmKGhhbmRsZT40JiYwPT09LS1lbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXS5yZWZjb3VudCl7ZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV09dW5kZWZpbmVkO2VtdmFsX2ZyZWVfbGlzdC5wdXNoKGhhbmRsZSl9fWZ1bmN0aW9uIGNvdW50X2VtdmFsX2hhbmRsZXMoKXt2YXIgY291bnQ9MDtmb3IodmFyIGk9NTtpPGVtdmFsX2hhbmRsZV9hcnJheS5sZW5ndGg7KytpKXtpZihlbXZhbF9oYW5kbGVfYXJyYXlbaV0hPT11bmRlZmluZWQpeysrY291bnR9fXJldHVybiBjb3VudH1mdW5jdGlvbiBnZXRfZmlyc3RfZW12YWwoKXtmb3IodmFyIGk9NTtpPGVtdmFsX2hhbmRsZV9hcnJheS5sZW5ndGg7KytpKXtpZihlbXZhbF9oYW5kbGVfYXJyYXlbaV0hPT11bmRlZmluZWQpe3JldHVybiBlbXZhbF9oYW5kbGVfYXJyYXlbaV19fXJldHVybiBudWxsfWZ1bmN0aW9uIGluaXRfZW12YWwoKXtNb2R1bGVbXCJjb3VudF9lbXZhbF9oYW5kbGVzXCJdPWNvdW50X2VtdmFsX2hhbmRsZXM7TW9kdWxlW1wiZ2V0X2ZpcnN0X2VtdmFsXCJdPWdldF9maXJzdF9lbXZhbH12YXIgRW12YWw9e3RvVmFsdWU6ZnVuY3Rpb24oaGFuZGxlKXtpZighaGFuZGxlKXt0aHJvd0JpbmRpbmdFcnJvcihcIkNhbm5vdCB1c2UgZGVsZXRlZCB2YWwuIGhhbmRsZSA9IFwiK2hhbmRsZSl9cmV0dXJuIGVtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnZhbHVlfSx0b0hhbmRsZTpmdW5jdGlvbih2YWx1ZSl7c3dpdGNoKHZhbHVlKXtjYXNlIHVuZGVmaW5lZDp7cmV0dXJuIDF9Y2FzZSBudWxsOntyZXR1cm4gMn1jYXNlIHRydWU6e3JldHVybiAzfWNhc2UgZmFsc2U6e3JldHVybiA0fWRlZmF1bHQ6e3ZhciBoYW5kbGU9ZW12YWxfZnJlZV9saXN0Lmxlbmd0aD9lbXZhbF9mcmVlX2xpc3QucG9wKCk6ZW12YWxfaGFuZGxlX2FycmF5Lmxlbmd0aDtlbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXT17cmVmY291bnQ6MSx2YWx1ZTp2YWx1ZX07cmV0dXJuIGhhbmRsZX19fX07ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW12YWwocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSxcImZyb21XaXJlVHlwZVwiOmZ1bmN0aW9uKGhhbmRsZSl7dmFyIHJ2PUVtdmFsLnRvVmFsdWUoaGFuZGxlKTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpO3JldHVybiBydn0sXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe3JldHVybiBFbXZhbC50b0hhbmRsZSh2YWx1ZSl9LFwiYXJnUGFja0FkdmFuY2VcIjo4LFwicmVhZFZhbHVlRnJvbVBvaW50ZXJcIjpzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIGVudW1SZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0LHNpZ25lZCl7c3dpdGNoKHNoaWZ0KXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3ZhciBoZWFwPXNpZ25lZD9IRUFQODpIRUFQVTg7cmV0dXJuIHRoaXNbXCJmcm9tV2lyZVR5cGVcIl0oaGVhcFtwb2ludGVyXSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVAxNjpIRUFQVTE2O3JldHVybiB0aGlzW1wiZnJvbVdpcmVUeXBlXCJdKGhlYXBbcG9pbnRlcj4+MV0pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3ZhciBoZWFwPXNpZ25lZD9IRUFQMzI6SEVBUFUzMjtyZXR1cm4gdGhpc1tcImZyb21XaXJlVHlwZVwiXShoZWFwW3BvaW50ZXI+PjJdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBpbnRlZ2VyIHR5cGU6IFwiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9lbnVtKHJhd1R5cGUsbmFtZSxzaXplLGlzU2lnbmVkKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7ZnVuY3Rpb24gY3Rvcigpe31jdG9yLnZhbHVlcz17fTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLGNvbnN0cnVjdG9yOmN0b3IsXCJmcm9tV2lyZVR5cGVcIjpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci52YWx1ZXNbY119LFwidG9XaXJlVHlwZVwiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLGMpe3JldHVybiBjLnZhbHVlfSxcImFyZ1BhY2tBZHZhbmNlXCI6OCxcInJlYWRWYWx1ZUZyb21Qb2ludGVyXCI6ZW51bVJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsaXNTaWduZWQpLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSk7ZXhwb3NlUHVibGljU3ltYm9sKG5hbWUsY3Rvcil9ZnVuY3Rpb24gcmVxdWlyZVJlZ2lzdGVyZWRUeXBlKHJhd1R5cGUsaHVtYW5OYW1lKXt2YXIgaW1wbD1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV07aWYodW5kZWZpbmVkPT09aW1wbCl7dGhyb3dCaW5kaW5nRXJyb3IoaHVtYW5OYW1lK1wiIGhhcyB1bmtub3duIHR5cGUgXCIrZ2V0VHlwZU5hbWUocmF3VHlwZSkpfXJldHVybiBpbXBsfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2VudW1fdmFsdWUocmF3RW51bVR5cGUsbmFtZSxlbnVtVmFsdWUpe3ZhciBlbnVtVHlwZT1yZXF1aXJlUmVnaXN0ZXJlZFR5cGUocmF3RW51bVR5cGUsXCJlbnVtXCIpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgRW51bT1lbnVtVHlwZS5jb25zdHJ1Y3Rvcjt2YXIgVmFsdWU9T2JqZWN0LmNyZWF0ZShlbnVtVHlwZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUse3ZhbHVlOnt2YWx1ZTplbnVtVmFsdWV9LGNvbnN0cnVjdG9yOnt2YWx1ZTpjcmVhdGVOYW1lZEZ1bmN0aW9uKGVudW1UeXBlLm5hbWUrXCJfXCIrbmFtZSxmdW5jdGlvbigpe30pfX0pO0VudW0udmFsdWVzW2VudW1WYWx1ZV09VmFsdWU7RW51bVtuYW1lXT1WYWx1ZX1mdW5jdGlvbiBfZW1iaW5kX3JlcHIodil7aWYodj09PW51bGwpe3JldHVyblwibnVsbFwifXZhciB0PXR5cGVvZiB2O2lmKHQ9PT1cIm9iamVjdFwifHx0PT09XCJhcnJheVwifHx0PT09XCJmdW5jdGlvblwiKXtyZXR1cm4gdi50b1N0cmluZygpfWVsc2V7cmV0dXJuXCJcIit2fX1mdW5jdGlvbiBmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQpe3N3aXRjaChzaGlmdCl7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1tcImZyb21XaXJlVHlwZVwiXShIRUFQRjMyW3BvaW50ZXI+PjJdKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1tcImZyb21XaXJlVHlwZVwiXShIRUFQRjY0W3BvaW50ZXI+PjNdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBmbG9hdCB0eXBlOiBcIituYW1lKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZmxvYXQocmF3VHlwZSxuYW1lLHNpemUpe3ZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLFwiZnJvbVdpcmVUeXBlXCI6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe3JldHVybiB2YWx1ZX0sXCJhcmdQYWNrQWR2YW5jZVwiOjgsXCJyZWFkVmFsdWVGcm9tUG9pbnRlclwiOmZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9mdW5jdGlvbihuYW1lLGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcixzaWduYXR1cmUscmF3SW52b2tlcixmbil7dmFyIGFyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmF3SW52b2tlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihzaWduYXR1cmUscmF3SW52b2tlcik7ZXhwb3NlUHVibGljU3ltYm9sKG5hbWUsZnVuY3Rpb24oKXt0aHJvd1VuYm91bmRUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBcIituYW1lK1wiIGR1ZSB0byB1bmJvdW5kIHR5cGVzXCIsYXJnVHlwZXMpfSxhcmdDb3VudC0xKTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxhcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIGludm9rZXJBcmdzQXJyYXk9W2FyZ1R5cGVzWzBdLG51bGxdLmNvbmNhdChhcmdUeXBlcy5zbGljZSgxKSk7cmVwbGFjZVB1YmxpY1N5bWJvbChuYW1lLGNyYWZ0SW52b2tlckZ1bmN0aW9uKG5hbWUsaW52b2tlckFyZ3NBcnJheSxudWxsLHJhd0ludm9rZXIsZm4pLGFyZ0NvdW50LTEpO3JldHVybltdfSl9ZnVuY3Rpb24gaW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsc2lnbmVkKXtzd2l0Y2goc2hpZnQpe2Nhc2UgMDpyZXR1cm4gc2lnbmVkP2Z1bmN0aW9uIHJlYWRTOEZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQOFtwb2ludGVyXX06ZnVuY3Rpb24gcmVhZFU4RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVBVOFtwb2ludGVyXX07Y2FzZSAxOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMxNkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQMTZbcG9pbnRlcj4+MV19OmZ1bmN0aW9uIHJlYWRVMTZGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFUxNltwb2ludGVyPj4xXX07Y2FzZSAyOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMzMkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQMzJbcG9pbnRlcj4+Ml19OmZ1bmN0aW9uIHJlYWRVMzJGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFUzMltwb2ludGVyPj4yXX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBpbnRlZ2VyIHR5cGU6IFwiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyKHByaW1pdGl2ZVR5cGUsbmFtZSxzaXplLG1pblJhbmdlLG1heFJhbmdlKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7aWYobWF4UmFuZ2U9PT0tMSl7bWF4UmFuZ2U9NDI5NDk2NzI5NX12YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTt2YXIgZnJvbVdpcmVUeXBlPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWV9O2lmKG1pblJhbmdlPT09MCl7dmFyIGJpdHNoaWZ0PTMyLTgqc2l6ZTtmcm9tV2lyZVR5cGU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZTw8Yml0c2hpZnQ+Pj5iaXRzaGlmdH19dmFyIGlzVW5zaWduZWRUeXBlPW5hbWUuaW5jbHVkZXMoXCJ1bnNpZ25lZFwiKTtyZWdpc3RlclR5cGUocHJpbWl0aXZlVHlwZSx7bmFtZTpuYW1lLFwiZnJvbVdpcmVUeXBlXCI6ZnJvbVdpcmVUeXBlLFwidG9XaXJlVHlwZVwiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiJiZ0eXBlb2YgdmFsdWUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInK19lbWJpbmRfcmVwcih2YWx1ZSkrJ1wiIHRvICcrdGhpcy5uYW1lKX1pZih2YWx1ZTxtaW5SYW5nZXx8dmFsdWU+bWF4UmFuZ2Upe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1Bhc3NpbmcgYSBudW1iZXIgXCInK19lbWJpbmRfcmVwcih2YWx1ZSkrJ1wiIGZyb20gSlMgc2lkZSB0byBDL0MrKyBzaWRlIHRvIGFuIGFyZ3VtZW50IG9mIHR5cGUgXCInK25hbWUrJ1wiLCB3aGljaCBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSBbJyttaW5SYW5nZStcIiwgXCIrbWF4UmFuZ2UrXCJdIVwiKX1yZXR1cm4gaXNVbnNpZ25lZFR5cGU/dmFsdWU+Pj4wOnZhbHVlfDB9LFwiYXJnUGFja0FkdmFuY2VcIjo4LFwicmVhZFZhbHVlRnJvbVBvaW50ZXJcIjppbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaGlmdCxtaW5SYW5nZSE9PTApLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXcocmF3VHlwZSxkYXRhVHlwZUluZGV4LG5hbWUpe3ZhciB0eXBlTWFwcGluZz1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO3ZhciBUQT10eXBlTWFwcGluZ1tkYXRhVHlwZUluZGV4XTtmdW5jdGlvbiBkZWNvZGVNZW1vcnlWaWV3KGhhbmRsZSl7aGFuZGxlPWhhbmRsZT4+Mjt2YXIgaGVhcD1IRUFQVTMyO3ZhciBzaXplPWhlYXBbaGFuZGxlXTt2YXIgZGF0YT1oZWFwW2hhbmRsZSsxXTtyZXR1cm4gbmV3IFRBKGJ1ZmZlcixkYXRhLHNpemUpfW5hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLFwiZnJvbVdpcmVUeXBlXCI6ZGVjb2RlTWVtb3J5VmlldyxcImFyZ1BhY2tBZHZhbmNlXCI6OCxcInJlYWRWYWx1ZUZyb21Qb2ludGVyXCI6ZGVjb2RlTWVtb3J5Vmlld30se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6dHJ1ZX0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIHN0ZFN0cmluZ0lzVVRGOD1uYW1lPT09XCJzdGQ6OnN0cmluZ1wiO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsXCJmcm9tV2lyZVR5cGVcIjpmdW5jdGlvbih2YWx1ZSl7dmFyIGxlbmd0aD1IRUFQVTMyW3ZhbHVlPj4yXTt2YXIgc3RyO2lmKHN0ZFN0cmluZ0lzVVRGOCl7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraTtpZihpPT1sZW5ndGh8fEhFQVBVOFtjdXJyZW50Qnl0ZVB0cl09PTApe3ZhciBtYXhSZWFkPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PVVURjhUb1N0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50fWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudH1kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0cisxfX19ZWxzZXt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbdmFsdWUrNCtpXSl9c3RyPWEuam9pbihcIlwiKX1fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhbHVlPW5ldyBVaW50OEFycmF5KHZhbHVlKX12YXIgZ2V0TGVuZ3RoO3ZhciB2YWx1ZUlzT2ZUeXBlU3RyaW5nPXR5cGVvZiB2YWx1ZT09PVwic3RyaW5nXCI7aWYoISh2YWx1ZUlzT2ZUeXBlU3RyaW5nfHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgSW50OEFycmF5KSl7dGhyb3dCaW5kaW5nRXJyb3IoXCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIHN0ZDo6c3RyaW5nXCIpfWlmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7Z2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIGxlbmd0aEJ5dGVzVVRGOCh2YWx1ZSl9fWVsc2V7Z2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlLmxlbmd0aH19dmFyIGxlbmd0aD1nZXRMZW5ndGgoKTt2YXIgcHRyPV9tYWxsb2MoNCtsZW5ndGgrMSk7SEVBUFUzMltwdHI+PjJdPWxlbmd0aDtpZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe3N0cmluZ1RvVVRGOCh2YWx1ZSxwdHIrNCxsZW5ndGgrMSl9ZWxzZXtpZih2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe3ZhciBjaGFyQ29kZT12YWx1ZS5jaGFyQ29kZUF0KGkpO2lmKGNoYXJDb2RlPjI1NSl7X2ZyZWUocHRyKTt0aHJvd0JpbmRpbmdFcnJvcihcIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0c1wiKX1IRUFQVThbcHRyKzQraV09Y2hhckNvZGV9fWVsc2V7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXtIRUFQVThbcHRyKzQraV09dmFsdWVbaV19fX1pZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2goX2ZyZWUscHRyKX1yZXR1cm4gcHRyfSxcImFyZ1BhY2tBZHZhbmNlXCI6OCxcInJlYWRWYWx1ZUZyb21Qb2ludGVyXCI6c2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIsZGVzdHJ1Y3RvckZ1bmN0aW9uOmZ1bmN0aW9uKHB0cil7X2ZyZWUocHRyKX19KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyhyYXdUeXBlLGNoYXJTaXplLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgZGVjb2RlU3RyaW5nLGVuY29kZVN0cmluZyxnZXRIZWFwLGxlbmd0aEJ5dGVzVVRGLHNoaWZ0O2lmKGNoYXJTaXplPT09Mil7ZGVjb2RlU3RyaW5nPVVURjE2VG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMTY7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYxNjtnZXRIZWFwPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVBVMTZ9O3NoaWZ0PTF9ZWxzZSBpZihjaGFyU2l6ZT09PTQpe2RlY29kZVN0cmluZz1VVEYzMlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjMyO2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMzI7Z2V0SGVhcD1mdW5jdGlvbigpe3JldHVybiBIRUFQVTMyfTtzaGlmdD0yfXJlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsXCJmcm9tV2lyZVR5cGVcIjpmdW5jdGlvbih2YWx1ZSl7dmFyIGxlbmd0aD1IRUFQVTMyW3ZhbHVlPj4yXTt2YXIgSEVBUD1nZXRIZWFwKCk7dmFyIHN0cjt2YXIgZGVjb2RlU3RhcnRQdHI9dmFsdWUrNDtmb3IodmFyIGk9MDtpPD1sZW5ndGg7KytpKXt2YXIgY3VycmVudEJ5dGVQdHI9dmFsdWUrNCtpKmNoYXJTaXplO2lmKGk9PWxlbmd0aHx8SEVBUFtjdXJyZW50Qnl0ZVB0cj4+c2hpZnRdPT0wKXt2YXIgbWF4UmVhZEJ5dGVzPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PWRlY29kZVN0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkQnl0ZXMpO2lmKHN0cj09PXVuZGVmaW5lZCl7c3RyPXN0cmluZ1NlZ21lbnR9ZWxzZXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCk7c3RyKz1zdHJpbmdTZWdtZW50fWRlY29kZVN0YXJ0UHRyPWN1cnJlbnRCeXRlUHRyK2NoYXJTaXplfX1fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sXCJ0b1dpcmVUeXBlXCI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKCEodHlwZW9mIHZhbHVlPT09XCJzdHJpbmdcIikpe3Rocm93QmluZGluZ0Vycm9yKFwiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgXCIrbmFtZSl9dmFyIGxlbmd0aD1sZW5ndGhCeXRlc1VURih2YWx1ZSk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoK2NoYXJTaXplKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoPj5zaGlmdDtlbmNvZGVTdHJpbmcodmFsdWUscHRyKzQsbGVuZ3RoK2NoYXJTaXplKTtpZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2goX2ZyZWUscHRyKX1yZXR1cm4gcHRyfSxcImFyZ1BhY2tBZHZhbmNlXCI6OCxcInJlYWRWYWx1ZUZyb21Qb2ludGVyXCI6c2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIsZGVzdHJ1Y3RvckZ1bmN0aW9uOmZ1bmN0aW9uKHB0cil7X2ZyZWUocHRyKX19KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl92b2lkKHJhd1R5cGUsbmFtZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtpc1ZvaWQ6dHJ1ZSxuYW1lOm5hbWUsXCJhcmdQYWNrQWR2YW5jZVwiOjAsXCJmcm9tV2lyZVR5cGVcIjpmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWR9LFwidG9XaXJlVHlwZVwiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLG8pe3JldHVybiB1bmRlZmluZWR9fSl9ZnVuY3Rpb24gX2Fib3J0KCl7YWJvcnQoXCJcIil9dmFyIF9lbXNjcmlwdGVuX2dldF9ub3c7X2Vtc2NyaXB0ZW5fZ2V0X25vdz1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKX07dmFyIF9lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljPXRydWU7ZnVuY3Rpb24gX2Nsb2NrX2dldHRpbWUoY2xrX2lkLHRwKXt2YXIgbm93O2lmKGNsa19pZD09PTApe25vdz1EYXRlLm5vdygpfWVsc2UgaWYoKGNsa19pZD09PTF8fGNsa19pZD09PTQpJiZfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYyl7bm93PV9lbXNjcmlwdGVuX2dldF9ub3coKX1lbHNle3NldEVyck5vKDI4KTtyZXR1cm4tMX1IRUFQMzJbdHA+PjJdPW5vdy8xZTN8MDtIRUFQMzJbdHArND4+Ml09bm93JTFlMyoxZTMqMWUzfDA7cmV0dXJuIDB9ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LHNyYyxudW0pe0hFQVBVOC5jb3B5V2l0aGluKGRlc3Qsc3JjLHNyYytudW0pfWZ1bmN0aW9uIGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIoc2l6ZSl7dHJ5e3dhc21NZW1vcnkuZ3JvdyhzaXplLWJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpO3VwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTtyZXR1cm4gMX1jYXRjaChlKXt9fWZ1bmN0aW9uIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwKHJlcXVlc3RlZFNpemUpe3ZhciBvbGRTaXplPUhFQVBVOC5sZW5ndGg7cmVxdWVzdGVkU2l6ZT1yZXF1ZXN0ZWRTaXplPj4+MDt2YXIgbWF4SGVhcFNpemU9MTA3Mzc0MTgyNDtpZihyZXF1ZXN0ZWRTaXplPm1heEhlYXBTaXplKXtyZXR1cm4gZmFsc2V9Zm9yKHZhciBjdXREb3duPTE7Y3V0RG93bjw9NDtjdXREb3duKj0yKXt2YXIgb3Zlckdyb3duSGVhcFNpemU9b2xkU2l6ZSooMSsuMi9jdXREb3duKTtvdmVyR3Jvd25IZWFwU2l6ZT1NYXRoLm1pbihvdmVyR3Jvd25IZWFwU2l6ZSxyZXF1ZXN0ZWRTaXplKzEwMDY2MzI5Nik7dmFyIG5ld1NpemU9TWF0aC5taW4obWF4SGVhcFNpemUsYWxpZ25VcChNYXRoLm1heChyZXF1ZXN0ZWRTaXplLG92ZXJHcm93bkhlYXBTaXplKSw2NTUzNikpO3ZhciByZXBsYWNlbWVudD1lbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKG5ld1NpemUpO2lmKHJlcGxhY2VtZW50KXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfXZhciBFTlY9e307ZnVuY3Rpb24gZ2V0RXhlY3V0YWJsZU5hbWUoKXtyZXR1cm4gdGhpc1Byb2dyYW18fFwiLi90aGlzLnByb2dyYW1cIn1mdW5jdGlvbiBnZXRFbnZTdHJpbmdzKCl7aWYoIWdldEVudlN0cmluZ3Muc3RyaW5ncyl7dmFyIGxhbmc9KHR5cGVvZiBuYXZpZ2F0b3I9PT1cIm9iamVjdFwiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHxcIkNcIikucmVwbGFjZShcIi1cIixcIl9cIikrXCIuVVRGLThcIjt2YXIgZW52PXtcIlVTRVJcIjpcIndlYl91c2VyXCIsXCJMT0dOQU1FXCI6XCJ3ZWJfdXNlclwiLFwiUEFUSFwiOlwiL1wiLFwiUFdEXCI6XCIvXCIsXCJIT01FXCI6XCIvaG9tZS93ZWJfdXNlclwiLFwiTEFOR1wiOmxhbmcsXCJfXCI6Z2V0RXhlY3V0YWJsZU5hbWUoKX07Zm9yKHZhciB4IGluIEVOVil7aWYoRU5WW3hdPT09dW5kZWZpbmVkKWRlbGV0ZSBlbnZbeF07ZWxzZSBlbnZbeF09RU5WW3hdfXZhciBzdHJpbmdzPVtdO2Zvcih2YXIgeCBpbiBlbnYpe3N0cmluZ3MucHVzaCh4K1wiPVwiK2Vudlt4XSl9Z2V0RW52U3RyaW5ncy5zdHJpbmdzPXN0cmluZ3N9cmV0dXJuIGdldEVudlN0cmluZ3Muc3RyaW5nc31mdW5jdGlvbiBfZW52aXJvbl9nZXQoX19lbnZpcm9uLGVudmlyb25fYnVmKXt2YXIgYnVmU2l6ZT0wO2dldEVudlN0cmluZ3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHN0cmluZyxpKXt2YXIgcHRyPWVudmlyb25fYnVmK2J1ZlNpemU7SEVBUDMyW19fZW52aXJvbitpKjQ+PjJdPXB0cjt3cml0ZUFzY2lpVG9NZW1vcnkoc3RyaW5nLHB0cik7YnVmU2l6ZSs9c3RyaW5nLmxlbmd0aCsxfSk7cmV0dXJuIDB9ZnVuY3Rpb24gX2Vudmlyb25fc2l6ZXNfZ2V0KHBlbnZpcm9uX2NvdW50LHBlbnZpcm9uX2J1Zl9zaXplKXt2YXIgc3RyaW5ncz1nZXRFbnZTdHJpbmdzKCk7SEVBUDMyW3BlbnZpcm9uX2NvdW50Pj4yXT1zdHJpbmdzLmxlbmd0aDt2YXIgYnVmU2l6ZT0wO3N0cmluZ3MuZm9yRWFjaChmdW5jdGlvbihzdHJpbmcpe2J1ZlNpemUrPXN0cmluZy5sZW5ndGgrMX0pO0hFQVAzMltwZW52aXJvbl9idWZfc2l6ZT4+Ml09YnVmU2l6ZTtyZXR1cm4gMH1mdW5jdGlvbiBfZXhpdChzdGF0dXMpe2V4aXQoc3RhdHVzKX1mdW5jdGlvbiBfZmRfY2xvc2UoZmQpe3RyeXt2YXIgc3RyZWFtPVNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7RlMuY2xvc2Uoc3RyZWFtKTtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybiBlLmVycm5vfX1mdW5jdGlvbiBfZmRfcmVhZChmZCxpb3YsaW92Y250LHBudW0pe3RyeXt2YXIgc3RyZWFtPVNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7dmFyIG51bT1TWVNDQUxMUy5kb1JlYWR2KHN0cmVhbSxpb3YsaW92Y250KTtIRUFQMzJbcG51bT4+Ml09bnVtO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKXRocm93IGU7cmV0dXJuIGUuZXJybm99fWZ1bmN0aW9uIF9mZF9zZWVrKGZkLG9mZnNldF9sb3csb2Zmc2V0X2hpZ2gsd2hlbmNlLG5ld09mZnNldCl7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTt2YXIgSElHSF9PRkZTRVQ9NDI5NDk2NzI5Njt2YXIgb2Zmc2V0PW9mZnNldF9oaWdoKkhJR0hfT0ZGU0VUKyhvZmZzZXRfbG93Pj4+MCk7dmFyIERPVUJMRV9MSU1JVD05MDA3MTk5MjU0NzQwOTkyO2lmKG9mZnNldDw9LURPVUJMRV9MSU1JVHx8b2Zmc2V0Pj1ET1VCTEVfTElNSVQpe3JldHVybi02MX1GUy5sbHNlZWsoc3RyZWFtLG9mZnNldCx3aGVuY2UpO3RlbXBJNjQ9W3N0cmVhbS5wb3NpdGlvbj4+PjAsKHRlbXBEb3VibGU9c3RyZWFtLnBvc2l0aW9uLCtNYXRoLmFicyh0ZW1wRG91YmxlKT49MT90ZW1wRG91YmxlPjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHRlbXBEb3VibGUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgodGVtcERvdWJsZS0rKH5+dGVtcERvdWJsZT4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLEhFQVAzMltuZXdPZmZzZXQ+PjJdPXRlbXBJNjRbMF0sSEVBUDMyW25ld09mZnNldCs0Pj4yXT10ZW1wSTY0WzFdO2lmKHN0cmVhbS5nZXRkZW50cyYmb2Zmc2V0PT09MCYmd2hlbmNlPT09MClzdHJlYW0uZ2V0ZGVudHM9bnVsbDtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSl0aHJvdyBlO3JldHVybiBlLmVycm5vfX1mdW5jdGlvbiBfZmRfd3JpdGUoZmQsaW92LGlvdmNudCxwbnVtKXt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBudW09U1lTQ0FMTFMuZG9Xcml0ZXYoc3RyZWFtLGlvdixpb3ZjbnQpO0hFQVAzMltwbnVtPj4yXT1udW07cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpdGhyb3cgZTtyZXR1cm4gZS5lcnJub319ZnVuY3Rpb24gX3NldFRlbXBSZXQwKHZhbCl7c2V0VGVtcFJldDAodmFsKX1mdW5jdGlvbiBfX2lzTGVhcFllYXIoeWVhcil7cmV0dXJuIHllYXIlND09PTAmJih5ZWFyJTEwMCE9PTB8fHllYXIlNDAwPT09MCl9ZnVuY3Rpb24gX19hcnJheVN1bShhcnJheSxpbmRleCl7dmFyIHN1bT0wO2Zvcih2YXIgaT0wO2k8PWluZGV4O3N1bSs9YXJyYXlbaSsrXSl7fXJldHVybiBzdW19dmFyIF9fTU9OVEhfREFZU19MRUFQPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07dmFyIF9fTU9OVEhfREFZU19SRUdVTEFSPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gX19hZGREYXlzKGRhdGUsZGF5cyl7dmFyIG5ld0RhdGU9bmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO3doaWxlKGRheXM+MCl7dmFyIGxlYXA9X19pc0xlYXBZZWFyKG5ld0RhdGUuZ2V0RnVsbFllYXIoKSk7dmFyIGN1cnJlbnRNb250aD1uZXdEYXRlLmdldE1vbnRoKCk7dmFyIGRheXNJbkN1cnJlbnRNb250aD0obGVhcD9fX01PTlRIX0RBWVNfTEVBUDpfX01PTlRIX0RBWVNfUkVHVUxBUilbY3VycmVudE1vbnRoXTtpZihkYXlzPmRheXNJbkN1cnJlbnRNb250aC1uZXdEYXRlLmdldERhdGUoKSl7ZGF5cy09ZGF5c0luQ3VycmVudE1vbnRoLW5ld0RhdGUuZ2V0RGF0ZSgpKzE7bmV3RGF0ZS5zZXREYXRlKDEpO2lmKGN1cnJlbnRNb250aDwxMSl7bmV3RGF0ZS5zZXRNb250aChjdXJyZW50TW9udGgrMSl9ZWxzZXtuZXdEYXRlLnNldE1vbnRoKDApO25ld0RhdGUuc2V0RnVsbFllYXIobmV3RGF0ZS5nZXRGdWxsWWVhcigpKzEpfX1lbHNle25ld0RhdGUuc2V0RGF0ZShuZXdEYXRlLmdldERhdGUoKStkYXlzKTtyZXR1cm4gbmV3RGF0ZX19cmV0dXJuIG5ld0RhdGV9ZnVuY3Rpb24gX3N0cmZ0aW1lKHMsbWF4c2l6ZSxmb3JtYXQsdG0pe3ZhciB0bV96b25lPUhFQVAzMlt0bSs0MD4+Ml07dmFyIGRhdGU9e3RtX3NlYzpIRUFQMzJbdG0+PjJdLHRtX21pbjpIRUFQMzJbdG0rND4+Ml0sdG1faG91cjpIRUFQMzJbdG0rOD4+Ml0sdG1fbWRheTpIRUFQMzJbdG0rMTI+PjJdLHRtX21vbjpIRUFQMzJbdG0rMTY+PjJdLHRtX3llYXI6SEVBUDMyW3RtKzIwPj4yXSx0bV93ZGF5OkhFQVAzMlt0bSsyND4+Ml0sdG1feWRheTpIRUFQMzJbdG0rMjg+PjJdLHRtX2lzZHN0OkhFQVAzMlt0bSszMj4+Ml0sdG1fZ210b2ZmOkhFQVAzMlt0bSszNj4+Ml0sdG1fem9uZTp0bV96b25lP1VURjhUb1N0cmluZyh0bV96b25lKTpcIlwifTt2YXIgcGF0dGVybj1VVEY4VG9TdHJpbmcoZm9ybWF0KTt2YXIgRVhQQU5TSU9OX1JVTEVTXzE9e1wiJWNcIjpcIiVhICViICVkICVIOiVNOiVTICVZXCIsXCIlRFwiOlwiJW0vJWQvJXlcIixcIiVGXCI6XCIlWS0lbS0lZFwiLFwiJWhcIjpcIiViXCIsXCIlclwiOlwiJUk6JU06JVMgJXBcIixcIiVSXCI6XCIlSDolTVwiLFwiJVRcIjpcIiVIOiVNOiVTXCIsXCIleFwiOlwiJW0vJWQvJXlcIixcIiVYXCI6XCIlSDolTTolU1wiLFwiJUVjXCI6XCIlY1wiLFwiJUVDXCI6XCIlQ1wiLFwiJUV4XCI6XCIlbS8lZC8leVwiLFwiJUVYXCI6XCIlSDolTTolU1wiLFwiJUV5XCI6XCIleVwiLFwiJUVZXCI6XCIlWVwiLFwiJU9kXCI6XCIlZFwiLFwiJU9lXCI6XCIlZVwiLFwiJU9IXCI6XCIlSFwiLFwiJU9JXCI6XCIlSVwiLFwiJU9tXCI6XCIlbVwiLFwiJU9NXCI6XCIlTVwiLFwiJU9TXCI6XCIlU1wiLFwiJU91XCI6XCIldVwiLFwiJU9VXCI6XCIlVVwiLFwiJU9WXCI6XCIlVlwiLFwiJU93XCI6XCIld1wiLFwiJU9XXCI6XCIlV1wiLFwiJU95XCI6XCIleVwifTtmb3IodmFyIHJ1bGUgaW4gRVhQQU5TSU9OX1JVTEVTXzEpe3BhdHRlcm49cGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAocnVsZSxcImdcIiksRVhQQU5TSU9OX1JVTEVTXzFbcnVsZV0pfXZhciBXRUVLREFZUz1bXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXTt2YXIgTU9OVEhTPVtcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXTtmdW5jdGlvbiBsZWFkaW5nU29tZXRoaW5nKHZhbHVlLGRpZ2l0cyxjaGFyYWN0ZXIpe3ZhciBzdHI9dHlwZW9mIHZhbHVlPT09XCJudW1iZXJcIj92YWx1ZS50b1N0cmluZygpOnZhbHVlfHxcIlwiO3doaWxlKHN0ci5sZW5ndGg8ZGlnaXRzKXtzdHI9Y2hhcmFjdGVyWzBdK3N0cn1yZXR1cm4gc3RyfWZ1bmN0aW9uIGxlYWRpbmdOdWxscyh2YWx1ZSxkaWdpdHMpe3JldHVybiBsZWFkaW5nU29tZXRoaW5nKHZhbHVlLGRpZ2l0cyxcIjBcIil9ZnVuY3Rpb24gY29tcGFyZUJ5RGF5KGRhdGUxLGRhdGUyKXtmdW5jdGlvbiBzZ24odmFsdWUpe3JldHVybiB2YWx1ZTwwPy0xOnZhbHVlPjA/MTowfXZhciBjb21wYXJlO2lmKChjb21wYXJlPXNnbihkYXRlMS5nZXRGdWxsWWVhcigpLWRhdGUyLmdldEZ1bGxZZWFyKCkpKT09PTApe2lmKChjb21wYXJlPXNnbihkYXRlMS5nZXRNb250aCgpLWRhdGUyLmdldE1vbnRoKCkpKT09PTApe2NvbXBhcmU9c2duKGRhdGUxLmdldERhdGUoKS1kYXRlMi5nZXREYXRlKCkpfX1yZXR1cm4gY29tcGFyZX1mdW5jdGlvbiBnZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoKXtzd2l0Y2goamFuRm91cnRoLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gamFuRm91cnRoO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gZ2V0V2Vla0Jhc2VkWWVhcihkYXRlKXt2YXIgdGhpc0RhdGU9X19hZGREYXlzKG5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsMSksZGF0ZS50bV95ZGF5KTt2YXIgamFuRm91cnRoVGhpc1llYXI9bmV3IERhdGUodGhpc0RhdGUuZ2V0RnVsbFllYXIoKSwwLDQpO3ZhciBqYW5Gb3VydGhOZXh0WWVhcj1uZXcgRGF0ZSh0aGlzRGF0ZS5nZXRGdWxsWWVhcigpKzEsMCw0KTt2YXIgZmlyc3RXZWVrU3RhcnRUaGlzWWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoVGhpc1llYXIpO3ZhciBmaXJzdFdlZWtTdGFydE5leHRZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhOZXh0WWVhcik7aWYoY29tcGFyZUJ5RGF5KGZpcnN0V2Vla1N0YXJ0VGhpc1llYXIsdGhpc0RhdGUpPD0wKXtpZihjb21wYXJlQnlEYXkoZmlyc3RXZWVrU3RhcnROZXh0WWVhcix0aGlzRGF0ZSk8PTApe3JldHVybiB0aGlzRGF0ZS5nZXRGdWxsWWVhcigpKzF9ZWxzZXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKX19ZWxzZXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKS0xfX12YXIgRVhQQU5TSU9OX1JVTEVTXzI9e1wiJWFcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gV0VFS0RBWVNbZGF0ZS50bV93ZGF5XS5zdWJzdHJpbmcoMCwzKX0sXCIlQVwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBXRUVLREFZU1tkYXRlLnRtX3dkYXldfSxcIiViXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIE1PTlRIU1tkYXRlLnRtX21vbl0uc3Vic3RyaW5nKDAsMyl9LFwiJUJcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gTU9OVEhTW2RhdGUudG1fbW9uXX0sXCIlQ1wiOmZ1bmN0aW9uKGRhdGUpe3ZhciB5ZWFyPWRhdGUudG1feWVhcisxOTAwO3JldHVybiBsZWFkaW5nTnVsbHMoeWVhci8xMDB8MCwyKX0sXCIlZFwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9tZGF5LDIpfSxcIiVlXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdTb21ldGhpbmcoZGF0ZS50bV9tZGF5LDIsXCIgXCIpfSxcIiVnXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGdldFdlZWtCYXNlZFllYXIoZGF0ZSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LFwiJUdcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZ2V0V2Vla0Jhc2VkWWVhcihkYXRlKX0sXCIlSFwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9ob3VyLDIpfSxcIiVJXCI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHR3ZWx2ZUhvdXI9ZGF0ZS50bV9ob3VyO2lmKHR3ZWx2ZUhvdXI9PTApdHdlbHZlSG91cj0xMjtlbHNlIGlmKHR3ZWx2ZUhvdXI+MTIpdHdlbHZlSG91ci09MTI7cmV0dXJuIGxlYWRpbmdOdWxscyh0d2VsdmVIb3VyLDIpfSxcIiVqXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21kYXkrX19hcnJheVN1bShfX2lzTGVhcFllYXIoZGF0ZS50bV95ZWFyKzE5MDApP19fTU9OVEhfREFZU19MRUFQOl9fTU9OVEhfREFZU19SRUdVTEFSLGRhdGUudG1fbW9uLTEpLDMpfSxcIiVtXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21vbisxLDIpfSxcIiVNXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21pbiwyKX0sXCIlblwiOmZ1bmN0aW9uKCl7cmV0dXJuXCJcXG5cIn0sXCIlcFwiOmZ1bmN0aW9uKGRhdGUpe2lmKGRhdGUudG1faG91cj49MCYmZGF0ZS50bV9ob3VyPDEyKXtyZXR1cm5cIkFNXCJ9ZWxzZXtyZXR1cm5cIlBNXCJ9fSxcIiVTXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX3NlYywyKX0sXCIldFwiOmZ1bmN0aW9uKCl7cmV0dXJuXCJcXHRcIn0sXCIldVwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLnRtX3dkYXl8fDd9LFwiJVVcIjpmdW5jdGlvbihkYXRlKXt2YXIgamFuRmlyc3Q9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsMCwxKTt2YXIgZmlyc3RTdW5kYXk9amFuRmlyc3QuZ2V0RGF5KCk9PT0wP2phbkZpcnN0Ol9fYWRkRGF5cyhqYW5GaXJzdCw3LWphbkZpcnN0LmdldERheSgpKTt2YXIgZW5kRGF0ZT1uZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCxkYXRlLnRtX21vbixkYXRlLnRtX21kYXkpO2lmKGNvbXBhcmVCeURheShmaXJzdFN1bmRheSxlbmREYXRlKTwwKXt2YXIgZmVicnVhcnlGaXJzdFVudGlsRW5kTW9udGg9X19hcnJheVN1bShfX2lzTGVhcFllYXIoZW5kRGF0ZS5nZXRGdWxsWWVhcigpKT9fX01PTlRIX0RBWVNfTEVBUDpfX01PTlRIX0RBWVNfUkVHVUxBUixlbmREYXRlLmdldE1vbnRoKCktMSktMzE7dmFyIGZpcnN0U3VuZGF5VW50aWxFbmRKYW51YXJ5PTMxLWZpcnN0U3VuZGF5LmdldERhdGUoKTt2YXIgZGF5cz1maXJzdFN1bmRheVVudGlsRW5kSmFudWFyeStmZWJydWFyeUZpcnN0VW50aWxFbmRNb250aCtlbmREYXRlLmdldERhdGUoKTtyZXR1cm4gbGVhZGluZ051bGxzKE1hdGguY2VpbChkYXlzLzcpLDIpfXJldHVybiBjb21wYXJlQnlEYXkoZmlyc3RTdW5kYXksamFuRmlyc3QpPT09MD9cIjAxXCI6XCIwMFwifSxcIiVWXCI6ZnVuY3Rpb24oZGF0ZSl7dmFyIGphbkZvdXJ0aFRoaXNZZWFyPW5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsNCk7dmFyIGphbkZvdXJ0aE5leHRZZWFyPW5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAxLDAsNCk7dmFyIGZpcnN0V2Vla1N0YXJ0VGhpc1llYXI9Z2V0Rmlyc3RXZWVrU3RhcnREYXRlKGphbkZvdXJ0aFRoaXNZZWFyKTt2YXIgZmlyc3RXZWVrU3RhcnROZXh0WWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoTmV4dFllYXIpO3ZhciBlbmREYXRlPV9fYWRkRGF5cyhuZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCwwLDEpLGRhdGUudG1feWRheSk7aWYoY29tcGFyZUJ5RGF5KGVuZERhdGUsZmlyc3RXZWVrU3RhcnRUaGlzWWVhcik8MCl7cmV0dXJuXCI1M1wifWlmKGNvbXBhcmVCeURheShmaXJzdFdlZWtTdGFydE5leHRZZWFyLGVuZERhdGUpPD0wKXtyZXR1cm5cIjAxXCJ9dmFyIGRheXNEaWZmZXJlbmNlO2lmKGZpcnN0V2Vla1N0YXJ0VGhpc1llYXIuZ2V0RnVsbFllYXIoKTxkYXRlLnRtX3llYXIrMTkwMCl7ZGF5c0RpZmZlcmVuY2U9ZGF0ZS50bV95ZGF5KzMyLWZpcnN0V2Vla1N0YXJ0VGhpc1llYXIuZ2V0RGF0ZSgpfWVsc2V7ZGF5c0RpZmZlcmVuY2U9ZGF0ZS50bV95ZGF5KzEtZmlyc3RXZWVrU3RhcnRUaGlzWWVhci5nZXREYXRlKCl9cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmNlaWwoZGF5c0RpZmZlcmVuY2UvNyksMil9LFwiJXdcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV93ZGF5fSxcIiVXXCI6ZnVuY3Rpb24oZGF0ZSl7dmFyIGphbkZpcnN0PW5ldyBEYXRlKGRhdGUudG1feWVhciwwLDEpO3ZhciBmaXJzdE1vbmRheT1qYW5GaXJzdC5nZXREYXkoKT09PTE/amFuRmlyc3Q6X19hZGREYXlzKGphbkZpcnN0LGphbkZpcnN0LmdldERheSgpPT09MD8xOjctamFuRmlyc3QuZ2V0RGF5KCkrMSk7dmFyIGVuZERhdGU9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsZGF0ZS50bV9tb24sZGF0ZS50bV9tZGF5KTtpZihjb21wYXJlQnlEYXkoZmlyc3RNb25kYXksZW5kRGF0ZSk8MCl7dmFyIGZlYnJ1YXJ5Rmlyc3RVbnRpbEVuZE1vbnRoPV9fYXJyYXlTdW0oX19pc0xlYXBZZWFyKGVuZERhdGUuZ2V0RnVsbFllYXIoKSk/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIsZW5kRGF0ZS5nZXRNb250aCgpLTEpLTMxO3ZhciBmaXJzdE1vbmRheVVudGlsRW5kSmFudWFyeT0zMS1maXJzdE1vbmRheS5nZXREYXRlKCk7dmFyIGRheXM9Zmlyc3RNb25kYXlVbnRpbEVuZEphbnVhcnkrZmVicnVhcnlGaXJzdFVudGlsRW5kTW9udGgrZW5kRGF0ZS5nZXREYXRlKCk7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmNlaWwoZGF5cy83KSwyKX1yZXR1cm4gY29tcGFyZUJ5RGF5KGZpcnN0TW9uZGF5LGphbkZpcnN0KT09PTA/XCIwMVwiOlwiMDBcIn0sXCIleVwiOmZ1bmN0aW9uKGRhdGUpe3JldHVybihkYXRlLnRtX3llYXIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LFwiJVlcIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV95ZWFyKzE5MDB9LFwiJXpcIjpmdW5jdGlvbihkYXRlKXt2YXIgb2ZmPWRhdGUudG1fZ210b2ZmO3ZhciBhaGVhZD1vZmY+PTA7b2ZmPU1hdGguYWJzKG9mZikvNjA7b2ZmPW9mZi82MCoxMDArb2ZmJTYwO3JldHVybihhaGVhZD9cIitcIjpcIi1cIikrU3RyaW5nKFwiMDAwMFwiK29mZikuc2xpY2UoLTQpfSxcIiVaXCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fem9uZX0sXCIlJVwiOmZ1bmN0aW9uKCl7cmV0dXJuXCIlXCJ9fTtmb3IodmFyIHJ1bGUgaW4gRVhQQU5TSU9OX1JVTEVTXzIpe2lmKHBhdHRlcm4uaW5jbHVkZXMocnVsZSkpe3BhdHRlcm49cGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAocnVsZSxcImdcIiksRVhQQU5TSU9OX1JVTEVTXzJbcnVsZV0oZGF0ZSkpfX12YXIgYnl0ZXM9aW50QXJyYXlGcm9tU3RyaW5nKHBhdHRlcm4sZmFsc2UpO2lmKGJ5dGVzLmxlbmd0aD5tYXhzaXplKXtyZXR1cm4gMH13cml0ZUFycmF5VG9NZW1vcnkoYnl0ZXMscyk7cmV0dXJuIGJ5dGVzLmxlbmd0aC0xfWZ1bmN0aW9uIF9zdHJmdGltZV9sKHMsbWF4c2l6ZSxmb3JtYXQsdG0pe3JldHVybiBfc3RyZnRpbWUocyxtYXhzaXplLGZvcm1hdCx0bSl9dmFyIEZTTm9kZT1mdW5jdGlvbihwYXJlbnQsbmFtZSxtb2RlLHJkZXYpe2lmKCFwYXJlbnQpe3BhcmVudD10aGlzfXRoaXMucGFyZW50PXBhcmVudDt0aGlzLm1vdW50PXBhcmVudC5tb3VudDt0aGlzLm1vdW50ZWQ9bnVsbDt0aGlzLmlkPUZTLm5leHRJbm9kZSsrO3RoaXMubmFtZT1uYW1lO3RoaXMubW9kZT1tb2RlO3RoaXMubm9kZV9vcHM9e307dGhpcy5zdHJlYW1fb3BzPXt9O3RoaXMucmRldj1yZGV2fTt2YXIgcmVhZE1vZGU9MjkyfDczO3ZhciB3cml0ZU1vZGU9MTQ2O09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEZTTm9kZS5wcm90b3R5cGUse3JlYWQ6e2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLm1vZGUmcmVhZE1vZGUpPT09cmVhZE1vZGV9LHNldDpmdW5jdGlvbih2YWwpe3ZhbD90aGlzLm1vZGV8PXJlYWRNb2RlOnRoaXMubW9kZSY9fnJlYWRNb2RlfX0sd3JpdGU6e2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLm1vZGUmd3JpdGVNb2RlKT09PXdyaXRlTW9kZX0sc2V0OmZ1bmN0aW9uKHZhbCl7dmFsP3RoaXMubW9kZXw9d3JpdGVNb2RlOnRoaXMubW9kZSY9fndyaXRlTW9kZX19LGlzRm9sZGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRlMuaXNEaXIodGhpcy5tb2RlKX19LGlzRGV2aWNlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRlMuaXNDaHJkZXYodGhpcy5tb2RlKX19fSk7RlMuRlNOb2RlPUZTTm9kZTtGUy5zdGF0aWNJbml0KCk7ZW1iaW5kX2luaXRfY2hhckNvZGVzKCk7QmluZGluZ0Vycm9yPU1vZHVsZVtcIkJpbmRpbmdFcnJvclwiXT1leHRlbmRFcnJvcihFcnJvcixcIkJpbmRpbmdFcnJvclwiKTtJbnRlcm5hbEVycm9yPU1vZHVsZVtcIkludGVybmFsRXJyb3JcIl09ZXh0ZW5kRXJyb3IoRXJyb3IsXCJJbnRlcm5hbEVycm9yXCIpO2luaXRfQ2xhc3NIYW5kbGUoKTtpbml0X1JlZ2lzdGVyZWRQb2ludGVyKCk7aW5pdF9lbWJpbmQoKTtVbmJvdW5kVHlwZUVycm9yPU1vZHVsZVtcIlVuYm91bmRUeXBlRXJyb3JcIl09ZXh0ZW5kRXJyb3IoRXJyb3IsXCJVbmJvdW5kVHlwZUVycm9yXCIpO2luaXRfZW12YWwoKTtmdW5jdGlvbiBpbnRBcnJheUZyb21TdHJpbmcoc3RyaW5neSxkb250QWRkTnVsbCxsZW5ndGgpe3ZhciBsZW49bGVuZ3RoPjA/bGVuZ3RoOmxlbmd0aEJ5dGVzVVRGOChzdHJpbmd5KSsxO3ZhciB1OGFycmF5PW5ldyBBcnJheShsZW4pO3ZhciBudW1CeXRlc1dyaXR0ZW49c3RyaW5nVG9VVEY4QXJyYXkoc3RyaW5neSx1OGFycmF5LDAsdThhcnJheS5sZW5ndGgpO2lmKGRvbnRBZGROdWxsKXU4YXJyYXkubGVuZ3RoPW51bUJ5dGVzV3JpdHRlbjtyZXR1cm4gdThhcnJheX12YXIgYXNtTGlicmFyeUFyZz17XCJsXCI6X19fY3hhX2FsbG9jYXRlX2V4Y2VwdGlvbixcImtcIjpfX19jeGFfdGhyb3csXCJtXCI6X19fc3lzY2FsbF9mY250bDY0LFwiSFwiOl9fX3N5c2NhbGxfZnN0YXQ2NCxcIkZcIjpfX19zeXNjYWxsX2ZzdGF0YXQ2NCxcIkFcIjpfX19zeXNjYWxsX2lvY3RsLFwiSlwiOl9fX3N5c2NhbGxfbW1hcDIsXCJJXCI6X19fc3lzY2FsbF9tdW5tYXAsXCJwXCI6X19fc3lzY2FsbF9vcGVuLFwiR1wiOl9fX3N5c2NhbGxfc3RhdDY0LFwidlwiOl9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludCxcIkxcIjpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLFwic1wiOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzLFwiaFwiOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yLFwiYVwiOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2Z1bmN0aW9uLFwiS1wiOl9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsLFwiblwiOl9fZW1iaW5kX3JlZ2lzdGVyX2VudW0sXCJiXCI6X19lbWJpbmRfcmVnaXN0ZXJfZW51bV92YWx1ZSxcInFcIjpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCxcImNcIjpfX2VtYmluZF9yZWdpc3Rlcl9mdW5jdGlvbixcImVcIjpfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyLFwiZFwiOl9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3LFwiclwiOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcsXCJqXCI6X19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcsXCJ0XCI6X19lbWJpbmRfcmVnaXN0ZXJfdm9pZCxcImdcIjpfYWJvcnQsXCJDXCI6X2Nsb2NrX2dldHRpbWUsXCJ4XCI6X2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyxcInlcIjpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcCxcIkRcIjpfZW52aXJvbl9nZXQsXCJFXCI6X2Vudmlyb25fc2l6ZXNfZ2V0LFwiZlwiOl9leGl0LFwiaVwiOl9mZF9jbG9zZSxcIkJcIjpfZmRfcmVhZCxcInVcIjpfZmRfc2VlayxcIm9cIjpfZmRfd3JpdGUsXCJ3XCI6X3NldFRlbXBSZXQwLFwielwiOl9zdHJmdGltZV9sfTt2YXIgYXNtPWNyZWF0ZVdhc20oKTt2YXIgX19fd2FzbV9jYWxsX2N0b3JzPU1vZHVsZVtcIl9fX3dhc21fY2FsbF9jdG9yc1wiXT1mdW5jdGlvbigpe3JldHVybihfX193YXNtX2NhbGxfY3RvcnM9TW9kdWxlW1wiX19fd2FzbV9jYWxsX2N0b3JzXCJdPU1vZHVsZVtcImFzbVwiXVtcIk5cIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIF9tYWxsb2M9TW9kdWxlW1wiX21hbGxvY1wiXT1mdW5jdGlvbigpe3JldHVybihfbWFsbG9jPU1vZHVsZVtcIl9tYWxsb2NcIl09TW9kdWxlW1wiYXNtXCJdW1wiT1wiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX2ZyZWU9TW9kdWxlW1wiX2ZyZWVcIl09ZnVuY3Rpb24oKXtyZXR1cm4oX2ZyZWU9TW9kdWxlW1wiX2ZyZWVcIl09TW9kdWxlW1wiYXNtXCJdW1wiUVwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fZ2V0VHlwZU5hbWU9TW9kdWxlW1wiX19fZ2V0VHlwZU5hbWVcIl09ZnVuY3Rpb24oKXtyZXR1cm4oX19fZ2V0VHlwZU5hbWU9TW9kdWxlW1wiX19fZ2V0VHlwZU5hbWVcIl09TW9kdWxlW1wiYXNtXCJdW1wiUlwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcz1Nb2R1bGVbXCJfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9fX2VtYmluZF9yZWdpc3Rlcl9uYXRpdmVfYW5kX2J1aWx0aW5fdHlwZXM9TW9kdWxlW1wiX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlc1wiXT1Nb2R1bGVbXCJhc21cIl1bXCJTXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfX19lcnJub19sb2NhdGlvbj1Nb2R1bGVbXCJfX19lcnJub19sb2NhdGlvblwiXT1mdW5jdGlvbigpe3JldHVybihfX19lcnJub19sb2NhdGlvbj1Nb2R1bGVbXCJfX19lcnJub19sb2NhdGlvblwiXT1Nb2R1bGVbXCJhc21cIl1bXCJUXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBfbWVtYWxpZ249TW9kdWxlW1wiX21lbWFsaWduXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKF9tZW1hbGlnbj1Nb2R1bGVbXCJfbWVtYWxpZ25cIl09TW9kdWxlW1wiYXNtXCJdW1wiVVwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF92aWlqaWk9TW9kdWxlW1wiZHluQ2FsbF92aWlqaWlcIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF92aWlqaWk9TW9kdWxlW1wiZHluQ2FsbF92aWlqaWlcIl09TW9kdWxlW1wiYXNtXCJdW1wiVlwiXSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgZHluQ2FsbF9qaWppPU1vZHVsZVtcImR5bkNhbGxfamlqaVwiXT1mdW5jdGlvbigpe3JldHVybihkeW5DYWxsX2ppamk9TW9kdWxlW1wiZHluQ2FsbF9qaWppXCJdPU1vZHVsZVtcImFzbVwiXVtcIldcIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlqPU1vZHVsZVtcImR5bkNhbGxfaWlpaWlqXCJdPWZ1bmN0aW9uKCl7cmV0dXJuKGR5bkNhbGxfaWlpaWlqPU1vZHVsZVtcImR5bkNhbGxfaWlpaWlqXCJdPU1vZHVsZVtcImFzbVwiXVtcIlhcIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbXCJkeW5DYWxsX2lpaWlpampcIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWpqPU1vZHVsZVtcImR5bkNhbGxfaWlpaWlqalwiXT1Nb2R1bGVbXCJhc21cIl1bXCJZXCJdKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBkeW5DYWxsX2lpaWlpaWpqPU1vZHVsZVtcImR5bkNhbGxfaWlpaWlpampcIl09ZnVuY3Rpb24oKXtyZXR1cm4oZHluQ2FsbF9paWlpaWlqaj1Nb2R1bGVbXCJkeW5DYWxsX2lpaWlpaWpqXCJdPU1vZHVsZVtcImFzbVwiXVtcIlpcIl0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIGNhbGxlZFJ1bjtmdW5jdGlvbiBFeGl0U3RhdHVzKHN0YXR1cyl7dGhpcy5uYW1lPVwiRXhpdFN0YXR1c1wiO3RoaXMubWVzc2FnZT1cIlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoXCIrc3RhdHVzK1wiKVwiO3RoaXMuc3RhdHVzPXN0YXR1c31kZXBlbmRlbmNpZXNGdWxmaWxsZWQ9ZnVuY3Rpb24gcnVuQ2FsbGVyKCl7aWYoIWNhbGxlZFJ1bilydW4oKTtpZighY2FsbGVkUnVuKWRlcGVuZGVuY2llc0Z1bGZpbGxlZD1ydW5DYWxsZXJ9O2Z1bmN0aW9uIHJ1bihhcmdzKXthcmdzPWFyZ3N8fGFyZ3VtZW50c187aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1wcmVSdW4oKTtpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufWZ1bmN0aW9uIGRvUnVuKCl7aWYoY2FsbGVkUnVuKXJldHVybjtjYWxsZWRSdW49dHJ1ZTtNb2R1bGVbXCJjYWxsZWRSdW5cIl09dHJ1ZTtpZihBQk9SVClyZXR1cm47aW5pdFJ1bnRpbWUoKTtyZWFkeVByb21pc2VSZXNvbHZlKE1vZHVsZSk7aWYoTW9kdWxlW1wib25SdW50aW1lSW5pdGlhbGl6ZWRcIl0pTW9kdWxlW1wib25SdW50aW1lSW5pdGlhbGl6ZWRcIl0oKTtwb3N0UnVuKCl9aWYoTW9kdWxlW1wic2V0U3RhdHVzXCJdKXtNb2R1bGVbXCJzZXRTdGF0dXNcIl0oXCJSdW5uaW5nLi4uXCIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TW9kdWxlW1wic2V0U3RhdHVzXCJdKFwiXCIpfSwxKTtkb1J1bigpfSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVtcInJ1blwiXT1ydW47ZnVuY3Rpb24gZXhpdChzdGF0dXMsaW1wbGljaXQpe0VYSVRTVEFUVVM9c3RhdHVzO2lmKGtlZXBSdW50aW1lQWxpdmUoKSl7fWVsc2V7ZXhpdFJ1bnRpbWUoKX1wcm9jRXhpdChzdGF0dXMpfWZ1bmN0aW9uIHByb2NFeGl0KGNvZGUpe0VYSVRTVEFUVVM9Y29kZTtpZigha2VlcFJ1bnRpbWVBbGl2ZSgpKXtpZihNb2R1bGVbXCJvbkV4aXRcIl0pTW9kdWxlW1wib25FeGl0XCJdKGNvZGUpO0FCT1JUPXRydWV9cXVpdF8oY29kZSxuZXcgRXhpdFN0YXR1cyhjb2RlKSl9aWYoTW9kdWxlW1wicHJlSW5pdFwiXSl7aWYodHlwZW9mIE1vZHVsZVtcInByZUluaXRcIl09PVwiZnVuY3Rpb25cIilNb2R1bGVbXCJwcmVJbml0XCJdPVtNb2R1bGVbXCJwcmVJbml0XCJdXTt3aGlsZShNb2R1bGVbXCJwcmVJbml0XCJdLmxlbmd0aD4wKXtNb2R1bGVbXCJwcmVJbml0XCJdLnBvcCgpKCl9fXJ1bigpO1xuXG5cbiAgcmV0dXJuIE1vZHVsZS5yZWFkeVxufVxuKTtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBNb2R1bGU7IiwgImltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuXG5pbXBvcnQgKiBhcyBjZyBmcm9tICdjaGVzc2dyb3VuZHgvdHlwZXMnO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnY2hlc3Nncm91bmR4L2FwaSc7XG5cbmltcG9ydCB7IF8gfSBmcm9tICcuL2kxOG4nO1xuaW1wb3J0IHsgY2hhbmdlQm9hcmRDU1MsIGNoYW5nZVBpZWNlQ1NTIH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBTZXR0aW5ncywgTnVtYmVyU2V0dGluZ3MsIEJvb2xlYW5TZXR0aW5ncywgU3RyaW5nU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJztcbmltcG9ydCB7IHNsaWRlciwgY2hlY2tib3gsIG5udWVGaWxlIH0gZnJvbSAnLi92aWV3JztcbmltcG9ydCB7IFB5Q2hlc3NNb2RlbCB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBCT0FSRF9GQU1JTElFUywgUElFQ0VfRkFNSUxJRVMsIFZhcmlhbnQsIFZBUklBTlRTIH0gZnJvbSAnLi92YXJpYW50cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9hcmRDb250cm9sbGVyIHtcbiAgICByZWFkb25seSBjaGVzc2dyb3VuZDogQXBpO1xuXG4gICAgcmVhZG9ubHkgdmFyaWFudDogVmFyaWFudDtcbiAgICByZWFkb25seSBteWNvbG9yOiBjZy5Db2xvcjtcbiAgICByZWFkb25seSBvcHBjb2xvcjogY2cuQ29sb3I7XG4gICAgcmVhZG9ubHkgaGFzUG9ja2V0czogYm9vbGVhbjtcblxuICAgIG5vdGF0aW9uOiBjZy5Ob3RhdGlvbjtcbiAgICBmdWxsZmVuOiBzdHJpbmc7XG5cbiAgICBtb2RlbD86IFB5Q2hlc3NNb2RlbDtcbiAgICBhdXRvUHJvbW90ZT86IGJvb2xlYW47XG4gICAgYXJyb3c/OiBib29sZWFuO1xuICAgIG11bHRpcHY/OiBudW1iZXI7XG4gICAgZXZhbEZpbGU/OiBzdHJpbmc7XG4gICAgYmxpbmRmb2xkPzogYm9vbGVhbjtcbiAgICBtYXRlcmlhbERpZmZlcmVuY2U/OiBib29sZWFuO1xuICAgIHVwZGF0ZU1hdGVyaWFsPzogYW55O1xuICAgIHB2Ym94SW5pPzogYW55O1xuICAgIG5udWVJbmk/OiBhbnk7XG4gICAgY2hhcnRGdW5jdGlvbnM/OiBhbnlbXTtcbiAgICB2bWF0ZXJpYWwwPzogVk5vZGUgfCBIVE1MRWxlbWVudDtcbiAgICB2bWF0ZXJpYWwxPzogVk5vZGUgfCBIVE1MRWxlbWVudDtcblxuICAgIGZsaXBwZWQoKTogYm9vbGVhbjtcbn1cblxuY2xhc3MgQm9hcmRTZXR0aW5ncyB7XG4gICAgY3RybDogQm9hcmRDb250cm9sbGVyO1xuICAgIHNldHRpbmdzOiB7IFsga2V5OiBzdHJpbmddOiBTZXR0aW5nczxudW1iZXIgfCBib29sZWFuIHwgc3RyaW5nPiB9O1xuICAgIGFzc2V0VVJMOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHt9O1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wiYW5pbWF0aW9uXCJdID0gbmV3IEFuaW1hdGlvblNldHRpbmdzKHRoaXMpO1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wic2hvd0Rlc3RzXCJdID0gbmV3IFNob3dEZXN0c1NldHRpbmdzKHRoaXMpO1xuICAgICAgICB0aGlzLnNldHRpbmdzW1wiYXV0b1Byb21vdGVcIl0gPSBuZXcgQXV0b1Byb21vdGVTZXR0aW5ncyh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tcImFycm93XCJdID0gbmV3IEFycm93U2V0dGluZ3ModGhpcyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3NbXCJtdWx0aXB2XCJdID0gbmV3IE11bHRpUFZTZXR0aW5ncyh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tcImJsaW5kZm9sZFwiXSA9IG5ldyBCbGluZGZvbGRTZXR0aW5ncyh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tcIm1hdGVyaWFsRGlmZmVyZW5jZVwiXSA9IG5ldyBNYXRlcmlhbERpZmZlcmVuY2VTZXR0aW5ncyh0aGlzKTtcbiAgICB9XG5cbiAgICBnZXRTZXR0aW5ncyhzZXR0aW5nc1R5cGU6IHN0cmluZywgZmFtaWx5OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZnVsbE5hbWUgPSBmYW1pbHkgKyBzZXR0aW5nc1R5cGU7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5nc1tmdWxsTmFtZV0pIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc2V0dGluZ3NUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkJvYXJkU3R5bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1tmdWxsTmFtZV0gPSBuZXcgQm9hcmRTdHlsZVNldHRpbmdzKHRoaXMsIGZhbWlseSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQaWVjZVN0eWxlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NbZnVsbE5hbWVdID0gbmV3IFBpZWNlU3R5bGVTZXR0aW5ncyh0aGlzLCBmYW1pbHkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiWm9vbVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzW2Z1bGxOYW1lXSA9IG5ldyBab29tU2V0dGluZ3ModGhpcywgZmFtaWx5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5udWVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1tmdWxsTmFtZV0gPSBuZXcgTm51ZVNldHRpbmdzKHRoaXMsIGZhbWlseSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiVW5rbm93biBzZXR0aW5ncyB0eXBlIFwiICsgc2V0dGluZ3NUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzW2Z1bGxOYW1lXTtcbiAgICB9XG5cbiAgICB1cGRhdGVCb2FyZEFuZFBpZWNlU3R5bGVzKCkge1xuICAgICAgICBPYmplY3Qua2V5cyhCT0FSRF9GQU1JTElFUykuZm9yRWFjaChmYW1pbHkgPT4gdGhpcy51cGRhdGVCb2FyZFN0eWxlKGZhbWlseSkpO1xuICAgICAgICBPYmplY3Qua2V5cyhQSUVDRV9GQU1JTElFUykuZm9yRWFjaChmYW1pbHkgPT4gdGhpcy51cGRhdGVQaWVjZVN0eWxlKGZhbWlseSkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUJvYXJkU3R5bGUoZmFtaWx5OiBrZXlvZiB0eXBlb2YgQk9BUkRfRkFNSUxJRVMpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5nZXRTZXR0aW5ncyhcIkJvYXJkU3R5bGVcIiwgZmFtaWx5IGFzIHN0cmluZykudmFsdWUgYXMgbnVtYmVyO1xuICAgICAgICBjb25zdCBib2FyZCA9IEJPQVJEX0ZBTUlMSUVTW2ZhbWlseV0uYm9hcmRDU1NbaWR4XTtcbiAgICAgICAgY2hhbmdlQm9hcmRDU1ModGhpcy5hc3NldFVSTCAsIGZhbWlseSBhcyBzdHJpbmcsIGJvYXJkKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQaWVjZVN0eWxlKGZhbWlseToga2V5b2YgdHlwZW9mIFBJRUNFX0ZBTUlMSUVTKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZ2V0U2V0dGluZ3MoXCJQaWVjZVN0eWxlXCIsIGZhbWlseSBhcyBzdHJpbmcpLnZhbHVlIGFzIG51bWJlcjtcbiAgICAgICAgbGV0IGNzcyA9IFBJRUNFX0ZBTUlMSUVTW2ZhbWlseV0ucGllY2VDU1NbaWR4XTtcbiAgICAgICAgY2hhbmdlUGllY2VDU1ModGhpcy5hc3NldFVSTCwgZmFtaWx5IGFzIHN0cmluZywgY3NzKTtcbiAgICAgICAgdGhpcy51cGRhdGVEcm9wU3VnZ2VzdGlvbigpO1xuICAgIH1cblxuICAgIHVwZGF0ZURyb3BTdWdnZXN0aW9uKCkge1xuICAgICAgICAvLyBSZWRyYXcgdGhlIHBpZWNlIGJlaW5nIHN1Z2dlc3RlZCBmb3IgZHJvcHBpbmcgaW4gdGhlIG5ldyBwaWVjZSBzdHlsZVxuICAgICAgICBpZiAodGhpcy5jdHJsICYmIHRoaXMuY3RybC5oYXNQb2NrZXRzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGVzc2dyb3VuZCA9IHRoaXMuY3RybC5jaGVzc2dyb3VuZDtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnIGltYWdlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnlcbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgIGNoZXNzZ3JvdW5kLnJlZHJhd0FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlWm9vbShmYW1pbHk6IGtleW9mIHR5cGVvZiBCT0FSRF9GQU1JTElFUykge1xuICAgICAgICBjb25zdCB2YXJpYW50ID0gdGhpcy5jdHJsPy52YXJpYW50O1xuICAgICAgICBpZiAodmFyaWFudCAmJiB2YXJpYW50LmJvYXJkRmFtaWx5ID09PSBmYW1pbHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21TZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoXCJab29tXCIsIGZhbWlseSBhcyBzdHJpbmcpIGFzIFpvb21TZXR0aW5ncztcbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSB6b29tU2V0dGluZ3MudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZy13cmFwOm5vdCgucG9ja2V0KScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJy0tem9vbTonICsgem9vbSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hlc3Nncm91bmQucmVzaXplJykpO1xuXG4gICAgICAgICAgICAgICAgLy8gQW5hbHlzaXMgbmVlZHMgdG8gem9vbSBhbmFseXNpc0NoYXJ0IGFuZCBtb3ZldGltZUNoYXJ0IGFzIHdlbGxcbiAgICAgICAgICAgICAgICBpZiAoJ2NoYXJ0RnVuY3Rpb25zJyBpbiB0aGlzLmN0cmwgJiYgdGhpcy5jdHJsLmNoYXJ0RnVuY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3RybC5jaGFydEZ1bmN0aW9ucy5mb3JFYWNoKChmdW5jOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmModGhpcy5jdHJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQmxpbmRmb2xkICgpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tcImJsaW5kZm9sZFwiXS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB2aWV3KHZhcmlhbnROYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF2YXJpYW50TmFtZSkgcmV0dXJuIGgoXCJkaXYjYm9hcmQtc2V0dGluZ3NcIik7XG4gICAgICAgIGNvbnN0IHZhcmlhbnQgPSBWQVJJQU5UU1t2YXJpYW50TmFtZV07XG5cbiAgICAgICAgY29uc3Qgc2V0dGluZ3NMaXN0IDogVk5vZGVbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGJvYXJkRmFtaWx5ID0gVkFSSUFOVFNbdmFyaWFudE5hbWVdLmJvYXJkRmFtaWx5O1xuICAgICAgICBjb25zdCBwaWVjZUZhbWlseSA9IFZBUklBTlRTW3ZhcmlhbnROYW1lXS5waWVjZUZhbWlseTtcblxuICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLnNldHRpbmdzW1wiYW5pbWF0aW9uXCJdLnZpZXcoKSk7XG5cbiAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2godGhpcy5zZXR0aW5nc1tcInNob3dEZXN0c1wiXS52aWV3KCkpO1xuXG4gICAgICAgIGlmICh2YXJpYW50LnByb21vdGlvbi5hdXRvUHJvbW90ZWFibGUpXG4gICAgICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLnNldHRpbmdzW1wiYXV0b1Byb21vdGVcIl0udmlldygpKTtcblxuICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLnNldHRpbmdzW1wiYXJyb3dcIl0udmlldygpKTtcblxuICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLnNldHRpbmdzW1wibXVsdGlwdlwiXS52aWV3KCkpO1xuXG4gICAgICAgIGlmICh2YXJpYW50TmFtZSA9PT0gdGhpcy5jdHJsPy52YXJpYW50Lm5hbWUpXG4gICAgICAgICAgICBzZXR0aW5nc0xpc3QucHVzaCh0aGlzLmdldFNldHRpbmdzKFwiTm51ZVwiLCB2YXJpYW50TmFtZSBhcyBzdHJpbmcpLnZpZXcoKSk7XG5cbiAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2godGhpcy5zZXR0aW5nc1tcImJsaW5kZm9sZFwiXS52aWV3KCkpO1xuXG4gICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKHRoaXMuc2V0dGluZ3NbXCJtYXRlcmlhbERpZmZlcmVuY2VcIl0udmlldygpKTtcblxuICAgICAgICBpZiAodmFyaWFudE5hbWUgPT09IHRoaXMuY3RybD8udmFyaWFudC5uYW1lKVxuICAgICAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2godGhpcy5nZXRTZXR0aW5ncyhcIlpvb21cIiwgYm9hcmRGYW1pbHkgYXMgc3RyaW5nKS52aWV3KCkpO1xuXG4gICAgICAgIHNldHRpbmdzTGlzdC5wdXNoKGgoJ2RpdiNzdHlsZS1zZXR0aW5ncycsIFtcbiAgICAgICAgICAgIHRoaXMuZ2V0U2V0dGluZ3MoXCJCb2FyZFN0eWxlXCIsIGJvYXJkRmFtaWx5IGFzIHN0cmluZykudmlldygpLFxuICAgICAgICAgICAgdGhpcy5nZXRTZXR0aW5ncyhcIlBpZWNlU3R5bGVcIiwgcGllY2VGYW1pbHkgYXMgc3RyaW5nKS52aWV3KCksXG4gICAgICAgICAgICBdKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgc2V0dGluZ3NMaXN0LnB1c2goKTtcblxuICAgICAgICByZXR1cm4gaCgnZGl2I2JvYXJkLXNldHRpbmdzJywgc2V0dGluZ3NMaXN0KTtcbiAgICB9XG59XG5cbmNsYXNzIEFuaW1hdGlvblNldHRpbmdzIGV4dGVuZHMgQm9vbGVhblNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncykge1xuICAgICAgICBzdXBlcignYW5pbWF0aW9uJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MuY3RybD8uY2hlc3Nncm91bmQuc2V0KHsgYW5pbWF0aW9uOiB7IGVuYWJsZWQ6IHRoaXMudmFsdWUgfSB9KTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGNoZWNrYm94KHRoaXMsICdhbmltYXRpb24nLCBfKFwiUGllY2UgYW5pbWF0aW9uXCIpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBCb2FyZFN0eWxlU2V0dGluZ3MgZXh0ZW5kcyBOdW1iZXJTZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcbiAgICByZWFkb25seSBib2FyZEZhbWlseTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncywgYm9hcmRGYW1pbHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcihib2FyZEZhbWlseSArICctYm9hcmQnLCAwKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICAgICAgdGhpcy5ib2FyZEZhbWlseSA9IGJvYXJkRmFtaWx5O1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzLnVwZGF0ZUJvYXJkU3R5bGUodGhpcy5ib2FyZEZhbWlseSk7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIGNvbnN0IHZib2FyZCA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IGJvYXJkcyA6IFZOb2RlW10gPSBbXTtcblxuICAgICAgICBjb25zdCBib2FyZENTUyA9IEJPQVJEX0ZBTUlMSUVTW3RoaXMuYm9hcmRGYW1pbHldLmJvYXJkQ1NTO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkQ1NTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2FyZHMucHVzaChoKCdpbnB1dCNib2FyZCcgKyBpLCB7XG4gICAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBldnQgPT4gdGhpcy52YWx1ZSA9IE51bWJlcigoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSkgfSxcbiAgICAgICAgICAgICAgICBwcm9wczogeyB0eXBlOiBcInJhZGlvXCIsIG5hbWU6IFwiYm9hcmRcIiwgdmFsdWU6IGkgfSxcbiAgICAgICAgICAgICAgICBhdHRyczogeyBjaGVja2VkOiB2Ym9hcmQgPT09IGkgfSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGJvYXJkcy5wdXNoKGgoJ2xhYmVsLmJvYXJkLmJvYXJkJyArIGkgKyAnLicgKyB0aGlzLmJvYXJkRmFtaWx5LCB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgZm9yOiBcImJvYXJkXCIgKyBpIH0sXG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcvc3RhdGljL2ltYWdlcy9ib2FyZC8ke2JvYXJkQ1NTW2ldfScpYCB9LFxuICAgICAgICAgICAgfSwgXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoKCdzZXR0aW5ncy1ib2FyZCcsIGJvYXJkcyk7XG4gICAgfVxufVxuXG5jbGFzcyBQaWVjZVN0eWxlU2V0dGluZ3MgZXh0ZW5kcyBOdW1iZXJTZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcbiAgICByZWFkb25seSBwaWVjZUZhbWlseTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncywgcGllY2VGYW1pbHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcihwaWVjZUZhbWlseSArICctcGllY2UnLCAwKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICAgICAgdGhpcy5waWVjZUZhbWlseSA9IHBpZWNlRmFtaWx5O1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzLnVwZGF0ZVBpZWNlU3R5bGUodGhpcy5waWVjZUZhbWlseSk7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIGNvbnN0IHZwaWVjZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IHBpZWNlcyA6IFZOb2RlW10gPSBbXTtcblxuICAgICAgICBjb25zdCBwaWVjZUNTUyA9IFBJRUNFX0ZBTUlMSUVTW3RoaXMucGllY2VGYW1pbHldLnBpZWNlQ1NTO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpZWNlQ1NTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwaWVjZXMucHVzaChoKCdpbnB1dCNwaWVjZScgKyBpLCB7XG4gICAgICAgICAgICAgICAgb246IHsgY2hhbmdlOiBlID0+IHRoaXMudmFsdWUgPSBOdW1iZXIoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSB9LFxuICAgICAgICAgICAgICAgIHByb3BzOiB7IHR5cGU6IFwicmFkaW9cIiwgbmFtZTogXCJwaWVjZVwiLCB2YWx1ZTogaSB9LFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IGNoZWNrZWQ6IHZwaWVjZSA9PT0gaSB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcGllY2VzLnB1c2goaCgnbGFiZWwucGllY2UucGllY2UnICsgaSArICcuJyArIHRoaXMucGllY2VGYW1pbHksIHsgYXR0cnM6IHsgZm9yOiBcInBpZWNlXCIgKyBpIH0gfSwgXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoKCdzZXR0aW5ncy1waWVjZXMnLCBwaWVjZXMpO1xuICAgIH1cbn1cblxuY2xhc3MgWm9vbVNldHRpbmdzIGV4dGVuZHMgTnVtYmVyU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG4gICAgcmVhZG9ubHkgYm9hcmRGYW1pbHk6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3MsIGJvYXJkRmFtaWx5OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoYm9hcmRGYW1pbHkgKyAnLXpvb20nLCA4MCk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgICAgIHRoaXMuYm9hcmRGYW1pbHkgPSBib2FyZEZhbWlseTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncy51cGRhdGVab29tKHRoaXMuYm9hcmRGYW1pbHkpO1xuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2Jywgc2xpZGVyKHRoaXMsICd6b29tJywgMCwgMTAwLCB0aGlzLmJvYXJkRmFtaWx5LmluY2x1ZGVzKFwic2hvZ2lcIikgPyAxIDogMS4xNTYyNSwgXygnWm9vbScpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBTaG93RGVzdHNTZXR0aW5ncyBleHRlbmRzIEJvb2xlYW5TZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcblxuICAgIGNvbnN0cnVjdG9yKGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgc3VwZXIoJ3Nob3dEZXN0cycsIHRydWUpO1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MgPSBib2FyZFNldHRpbmdzO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzLmN0cmw/LmNoZXNzZ3JvdW5kLnNldCh7XG4gICAgICAgICAgICBtb3ZhYmxlOiB7XG4gICAgICAgICAgICAgICAgc2hvd0Rlc3RzOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBjaGVja2JveCh0aGlzLCAnc2hvd0Rlc3RzJywgXyhcIlNob3cgcGllY2UgZGVzdGluYXRpb25zXCIpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBBdXRvUHJvbW90ZVNldHRpbmdzIGV4dGVuZHMgQm9vbGVhblNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncykge1xuICAgICAgICBzdXBlcignYXV0b1Byb21vdGUnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjdHJsID0gdGhpcy5ib2FyZFNldHRpbmdzLmN0cmw7XG4gICAgICAgIGlmICgnYXV0b1Byb21vdGUnIGluIGN0cmwpXG4gICAgICAgICAgICBjdHJsLmF1dG9Qcm9tb3RlID0gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGNoZWNrYm94KHRoaXMsICdhdXRvUHJvbW90ZScsIF8oXCJQcm9tb3RlIHRvIHRoZSB0b3AgY2hvaWNlIGF1dG9tYXRpY2FsbHlcIikpKTtcbiAgICB9XG59XG5cbmNsYXNzIEFycm93U2V0dGluZ3MgZXh0ZW5kcyBCb29sZWFuU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKCdhcnJvdycsIHRydWUpO1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MgPSBib2FyZFNldHRpbmdzO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY3RybCA9IHRoaXMuYm9hcmRTZXR0aW5ncy5jdHJsO1xuICAgICAgICBpZiAoJ2Fycm93JyBpbiBjdHJsKVxuICAgICAgICAgICAgY3RybC5hcnJvdyA9IHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBjaGVja2JveCh0aGlzLCAnYXJyb3cnLCBfKFwiQmVzdCBtb3ZlIGFycm93IGluIGFuYWx5c2lzIGJvYXJkXCIpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBNdWx0aVBWU2V0dGluZ3MgZXh0ZW5kcyBOdW1iZXJTZXR0aW5ncyB7XG4gICAgcmVhZG9ubHkgYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncztcblxuICAgIGNvbnN0cnVjdG9yKGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgc3VwZXIoJ211bHRpcHYnLCAxKTtcbiAgICAgICAgdGhpcy5ib2FyZFNldHRpbmdzID0gYm9hcmRTZXR0aW5ncztcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN0cmwgPSB0aGlzLmJvYXJkU2V0dGluZ3MuY3RybDtcbiAgICAgICAgaWYgKCdtdWx0aXB2JyBpbiBjdHJsKVxuICAgICAgICAgICAgY3RybC5tdWx0aXB2ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIGN0cmwucHZib3hJbmkoKTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHNsaWRlcih0aGlzLCAnbXVsdGlwdicsIDEsIDUsIDEsIF8oJ011bHRpUFYnKSkpO1xuICAgIH1cbn1cblxuY2xhc3MgTm51ZVNldHRpbmdzIGV4dGVuZHMgU3RyaW5nU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG4gICAgcmVhZG9ubHkgdmFyaWFudDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncywgdmFyaWFudDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHZhcmlhbnQgKyAnLW5udWUnLCAnJyk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgICAgIHRoaXMudmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjdHJsID0gdGhpcy5ib2FyZFNldHRpbmdzLmN0cmw7XG4gICAgICAgIGlmICgnZXZhbEZpbGUnIGluIGN0cmwpXG4gICAgICAgICAgICBjdHJsLmV2YWxGaWxlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIGN0cmwubm51ZUluaSgpO1xuICAgIH1cblxuICAgIHZpZXcoKTogVk5vZGUge1xuICAgICAgICByZXR1cm4gaCgnZGl2Jywgbm51ZUZpbGUodGhpcywgJ2V2YWxGaWxlJywgJ05OVUUnLCB0aGlzLnZhcmlhbnQpKTtcbiAgICB9XG59XG5cbmNsYXNzIEJsaW5kZm9sZFNldHRpbmdzIGV4dGVuZHMgQm9vbGVhblNldHRpbmdzIHtcbiAgICByZWFkb25seSBib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3IoYm9hcmRTZXR0aW5nczogQm9hcmRTZXR0aW5ncykge1xuICAgICAgICBzdXBlcignYmxpbmRmb2xkJywgZmFsc2UpO1xuICAgICAgICB0aGlzLmJvYXJkU2V0dGluZ3MgPSBib2FyZFNldHRpbmdzO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY3RybCA9IHRoaXMuYm9hcmRTZXR0aW5ncy5jdHJsO1xuICAgICAgICBpZiAoJ2JsaW5kZm9sZCcgaW4gY3RybClcbiAgICAgICAgICAgIGN0cmwuYmxpbmRmb2xkID0gdGhpcy52YWx1ZTtcblxuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluYm9hcmQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmxpbmRmb2xkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2JsaW5kZm9sZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGNoZWNrYm94KHRoaXMsICdibGluZGZvbGQnLCBfKFwiSW52aXNpYmxlIHBpZWNlc1wiKSkpO1xuICAgIH1cbn1cblxuY2xhc3MgTWF0ZXJpYWxEaWZmZXJlbmNlU2V0dGluZ3MgZXh0ZW5kcyBCb29sZWFuU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IGJvYXJkU2V0dGluZ3M6IEJvYXJkU2V0dGluZ3M7XG5cbiAgICBjb25zdHJ1Y3Rvcihib2FyZFNldHRpbmdzOiBCb2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKCdtYXRlcmlhbERpZmZlcmVuY2UnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjdHJsID0gdGhpcy5ib2FyZFNldHRpbmdzLmN0cmw7XG4gICAgICAgIGlmICgnbWF0ZXJpYWxEaWZmZXJlbmNlJyBpbiBjdHJsKSB7XG4gICAgICAgICAgICBjdHJsLm1hdGVyaWFsRGlmZmVyZW5jZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICBpZiAoJ3VwZGF0ZU1hdGVyaWFsJyBpbiBjdHJsKSB7XG4gICAgICAgICAgICAgICAgY3RybC51cGRhdGVNYXRlcmlhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBjaGVja2JveCh0aGlzLCAnY2FwdHVyZWQnLCBfKFwiU2hvdyBtYXRlcmlhbCBkaWZmZXJlbmNlXCIpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGJvYXJkU2V0dGluZ3MgPSBuZXcgQm9hcmRTZXR0aW5ncygpO1xuIiwgImV4cG9ydCBjb25zdCB2YXJpYW50c0luaSA9IGBcbiMgSHlicmlkIHZhcmlhbnQgb2YgR3JhbmQtY2hlc3MgYW5kIGNyYXp5aG91c2UsIHVzaW5nIEdyYW5kLWNoZXNzIGFzIGEgdGVtcGxhdGVcbltncmFuZGhvdXNlOmdyYW5kXVxuc3RhcnRGZW4gPSByOHIvMW5icWtjYWJuMS9wcHBwcHBwcHBwLzEwLzEwLzEwLzEwL1BQUFBQUFBQUFAvMU5CUUtDQUJOMS9SOFJbXSB3IC0gLSAwIDFcbnBpZWNlRHJvcHMgPSB0cnVlXG5jYXB0dXJlc1RvSGFuZCA9IHRydWVcblxuIyBIeWJyaWQgdmFyaWFudCBvZiBHb3RoaWMtY2hlc3MgYW5kIGNyYXp5aG91c2UsIHVzaW5nIENhcGFibGFuY2EgYXMgYSB0ZW1wbGF0ZVxuW2dvdGhob3VzZTpjYXBhYmxhbmNhXVxuc3RhcnRGZW4gPSBybmJxY2thYm5yL3BwcHBwcHBwcHAvMTAvMTAvMTAvMTAvUFBQUFBQUFBQUC9STkJRQ0tBQk5SW10gdyBLUWtxIC0gMCAxXG5waWVjZURyb3BzID0gdHJ1ZVxuY2FwdHVyZXNUb0hhbmQgPSB0cnVlXG5cbiMgSHlicmlkIHZhcmlhbnQgb2YgRW1iYXNzeSBjaGVzcyBhbmQgY3Jhenlob3VzZSwgdXNpbmcgRW1iYXNzeSBhcyBhIHRlbXBsYXRlXG5bZW1iYXNzeWhvdXNlOmVtYmFzc3ldXG5zdGFydEZlbiA9IHJuYnFrY2FibnIvcHBwcHBwcHBwcC8xMC8xMC8xMC8xMC9QUFBQUFBQUFBQL1JOQlFLQ0FCTlJbXSB3IEtRa3EgLSAwIDFcbnBpZWNlRHJvcHMgPSB0cnVlXG5jYXB0dXJlc1RvSGFuZCA9IHRydWVcblxuW2dvcm9nb3JvcGx1czpnb3JvZ29yb11cbnN0YXJ0RmVuID0gc2drZ3MvNS8xcHBwMS8xUFBQMS81L1NHS0dTW0xObG5dIHcgMCAxXG5sYW5jZSA9IGxcbnNob2dpS25pZ2h0ID0gblxucHJvbW90ZWRQaWVjZVR5cGUgPSBsOmcgbjpnXG5cbltzaG9ndW46Y3Jhenlob3VzZV1cbnN0YXJ0RmVuID0gcm5iK2ZrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CK0ZLQk5SW10gdyBLUWtxIC0gMCAxXG5jb21tb25lciA9IGNcbmNlbnRhdXIgPSBnXG5hcmNoYmlzaG9wID0gYVxuY2hhbmNlbGxvciA9IG1cbmZlcnMgPSBmXG5wcm9tb3Rpb25SYW5rID0gNlxucHJvbW90aW9uTGltaXQgPSBnOjEgYToxIG06MSBxOjFcbnByb21vdGlvblBpZWNlVHlwZXMgPSAtXG5wcm9tb3RlZFBpZWNlVHlwZSA9IHA6YyBuOmcgYjphIHI6bSBmOnFcbm1hbmRhdG9yeVBhd25Qcm9tb3Rpb24gPSBmYWxzZVxuZmlyc3RSYW5rUGF3bkRyb3BzID0gdHJ1ZVxucHJvbW90aW9uWm9uZVBhd25Ecm9wcyA9IHRydWVcbndoaXRlRHJvcFJlZ2lvbiA9ICoxICoyICozICo0ICo1XG5ibGFja0Ryb3BSZWdpb24gPSAqNCAqNSAqNiAqNyAqOFxuaW1tb2JpbGl0eUlsbGVnYWwgPSB0cnVlXG5cbltvcmRhOmNoZXNzXVxuY2VudGF1ciA9IGhcbmtuaWJpcyA9IGFcbmtuaXJvbyA9IGxcbnNpbHZlciA9IHlcbnByb21vdGlvblBpZWNlVHlwZXMgPSBxaFxuc3RhcnRGZW4gPSBsaGF5a2FobC84L3BwcHBwcHBwLzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SIHcgS1EgLSAwIDFcbmZsYWdQaWVjZSA9IGtcbndoaXRlRmxhZyA9ICo4XG5ibGFja0ZsYWcgPSAqMVxuXG5bc3lub2NoZXNzOnBvY2tldGtuaWdodF1cbmphbmdnaUNhbm5vbiA9IGNcbnNvbGRpZXIgPSBzXG5ob3JzZSA9IGhcbmZlcnNBbGZpbCA9IGVcbmNvbW1vbmVyID0gYVxuc3RhcnRGZW4gPSBybmVha2Vuci84LzFjNGMxLzFzczJzczEvOC84L1BQUFBQUFBQL1JOQlFLQk5SW3NzXSB3IEtRIC0gMCAxXG5zdGFsZW1hdGVWYWx1ZSA9IGxvc3NcbnBlcnBldHVhbENoZWNrSWxsZWdhbCA9IHRydWVcbmZseWluZ0dlbmVyYWwgPSB0cnVlXG5ibGFja0Ryb3BSZWdpb24gPSAqNVxuZmxhZ1BpZWNlID0ga1xud2hpdGVGbGFnID0gKjhcbmJsYWNrRmxhZyA9ICoxXG5cbltzaGlub2JpOmNyYXp5aG91c2VdXG5jb21tb25lciA9IGNcbmJlcnMgPSBkXG5hcmNoYmlzaG9wID0galxuZmVycyA9IG1cbnNob2dpS25pZ2h0ID0gaFxubGFuY2UgPSBsXG5wcm9tb3Rpb25SYW5rID0gN1xucHJvbW90aW9uUGllY2VUeXBlcyA9IC1cbnByb21vdGVkUGllY2VUeXBlID0gcDpjIG06YiBoOm4gbDpyXG5tYW5kYXRvcnlQaWVjZVByb21vdGlvbiA9IHRydWVcbnN0YWxlbWF0ZVZhbHVlID0gbG9zc1xubkZvbGRSdWxlID0gNFxucGVycGV0dWFsQ2hlY2tJbGxlZ2FsID0gdHJ1ZVxuc3RhcnRGZW4gPSBybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL0xIMUNLMUhMW0xITU1ESl0gdyBrcSAtIDAgMVxuY2FwdHVyZXNUb0hhbmQgPSBmYWxzZVxud2hpdGVEcm9wUmVnaW9uID0gKjEgKjIgKjMgKjRcbmltbW9iaWxpdHlJbGxlZ2FsID0gdHJ1ZVxuZmxhZ1BpZWNlID0ga1xud2hpdGVGbGFnID0gKjhcbmJsYWNrRmxhZyA9ICoxXG5cbltvcmRhbWlycm9yOmNoZXNzXVxuY2VudGF1ciA9IGhcbmtuaWJpcyA9IGFcbmtuaXJvbyA9IGxcbmN1c3RvbVBpZWNlMSA9IGY6bVFjTlxucHJvbW90aW9uUGllY2VUeXBlcyA9IGxoYWZcbnN0YXJ0RmVuID0gbGhhZmthaGwvOC9wcHBwcHBwcC84LzgvUFBQUFBQUFAvOC9MSEFGS0FITCB3IC0gLSAwIDFcbmZsYWdQaWVjZSA9IGtcbndoaXRlRmxhZyA9ICo4XG5ibGFja0ZsYWcgPSAqMVxuXG5bZW1waXJlOmNoZXNzXVxuY3VzdG9tUGllY2UxID0gZTptUWNOXG5jdXN0b21QaWVjZTIgPSBjOm1RY0JcbmN1c3RvbVBpZWNlMyA9IHQ6bVFjUlxuY3VzdG9tUGllY2U0ID0gZDptUWNLXG5zb2xkaWVyID0gc1xucHJvbW90aW9uUGllY2VUeXBlcyA9IHFcbnN0YXJ0RmVuID0gcm5icWtibnIvcHBwcHBwcHAvOC84LzgvUFBQU1NQUFAvOC9URUNES0NFVCB3IGtxIC0gMCAxXG5zdGFsZW1hdGVWYWx1ZSA9IGxvc3Ncbm5Gb2xkVmFsdWUgPSBsb3NzXG5mbGFnUGllY2UgPSBrXG53aGl0ZUZsYWcgPSAqOFxuYmxhY2tGbGFnID0gKjFcbmZseWluZ0dlbmVyYWwgPSB0cnVlXG5cbltjaGFrXVxubWF4UmFuayA9IDlcbm1heEZpbGUgPSA5XG5yb29rID0gclxua25pZ2h0ID0gdlxuY2VudGF1ciA9IGpcbmltbW9iaWxlID0gb1xuY3VzdG9tUGllY2UxID0gczpGdldcbmN1c3RvbVBpZWNlMiA9IHE6cFFcbmN1c3RvbVBpZWNlMyA9IGQ6bVEyY1EyXG5jdXN0b21QaWVjZTQgPSBwOmZzbVdmY2VGXG5jdXN0b21QaWVjZTUgPSBrOldGXG5jdXN0b21QaWVjZTYgPSB3OkZ2V1xuc3RhcnRGZW4gPSBydnNxa2pzdnIvNG80L3AxcDFwMXAxcC85LzkvOS9QMVAxUDFQMVAvNE80L1JWU0pLUVNWUiB3IC0gLSAwIDFcbm1vYmlsaXR5UmVnaW9uV2hpdGVDdXN0b21QaWVjZTYgPSAqNSAqNiAqNyAqOCAqOVxubW9iaWxpdHlSZWdpb25XaGl0ZUN1c3RvbVBpZWNlMyA9ICo1ICo2ICo3ICo4ICo5XG5tb2JpbGl0eVJlZ2lvbkJsYWNrQ3VzdG9tUGllY2U2ID0gKjEgKjIgKjMgKjQgKjVcbm1vYmlsaXR5UmVnaW9uQmxhY2tDdXN0b21QaWVjZTMgPSAqMSAqMiAqMyAqNCAqNVxucHJvbW90aW9uUmFuayA9IDVcbnByb21vdGlvblBpZWNlVHlwZXMgPSAtXG5tYW5kYXRvcnlQaWVjZVByb21vdGlvbiA9IHRydWVcbnByb21vdGVkUGllY2VUeXBlID0gcDp3IGs6ZFxuZXh0aW5jdGlvblZhbHVlID0gbG9zc1xuZXh0aW5jdGlvblBpZWNlVHlwZXMgPSBrZFxuZXh0aW5jdGlvblBzZXVkb1JveWFsID0gdHJ1ZVxuZmxhZ1BpZWNlID0gZFxud2hpdGVGbGFnID0gZThcbmJsYWNrRmxhZyA9IGUyXG5uTW92ZVJ1bGUgPSA1MFxubkZvbGRSdWxlID0gM1xubkZvbGRWYWx1ZSA9IGRyYXdcbnN0YWxlbWF0ZVZhbHVlID0gbG9zc1xuXG5bY2hlbm5pc11cbm1heFJhbmsgPSA3XG5tYXhGaWxlID0gN1xubW9iaWxpdHlSZWdpb25XaGl0ZUtpbmcgPSBiMSBjMSBkMSBlMSBmMSBiMiBjMiBkMiBlMiBmMiBiMyBjMyBkMyBlMyBmMyBiNCBjNCBkNCBlNCBmNFxubW9iaWxpdHlSZWdpb25CbGFja0tpbmcgPSBiNCBjNCBkNCBlNCBmNCBiNSBjNSBkNSBlNSBmNSBiNiBjNiBkNiBlNiBmNiBiNyBjNyBkNyBlNyBmN1xuY3VzdG9tUGllY2UxID0gcDpmbVdmY2VGXG5jYW5ub24gPSBjXG5jb21tb25lciA9IG1cbmZlcnMgPSBmXG5zb2xkaWVyID0gc1xua2luZyA9IGtcbmJpc2hvcCA9IGJcbmtuaWdodCA9IG5cbnJvb2sgPSByXG5wcm9tb3Rpb25QaWVjZVR5cGVzID0gLVxucHJvbW90ZWRQaWVjZVR5cGUgPSBwOnIgZjpjIHM6YiBtOm5cbnByb21vdGlvblJhbmsgPSAxXG5zdGFydEZlbiA9IDFma20zLzFwMXMzLzcvNy83LzNTMVAxLzNNS0YxW10gdyAtIDAgMVxucGllY2VEcm9wcyA9IHRydWVcbmNhcHR1cmVzVG9IYW5kID0gdHJ1ZVxucGllY2VEZW1vdGlvbiA9IHRydWVcbm1hbmRhdG9yeVBpZWNlUHJvbW90aW9uID0gdHJ1ZVxuZHJvcFByb21vdGVkID0gdHJ1ZVxuY2FzdGxpbmcgPSBmYWxzZVxuc3RhbGVtYXRlVmFsdWUgPSBsb3NzYFxuIiwgImltcG9ydCAqIGFzIGNnIGZyb20gJ2NoZXNzZ3JvdW5keC90eXBlcyc7XG5pbXBvcnQgeyBDaGVzc2dyb3VuZCB9IGZyb20gJ2NoZXNzZ3JvdW5keCc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICdjaGVzc2dyb3VuZHgvYXBpJztcblxuaW1wb3J0IGZmaXNoTW9kdWxlLCB7IEZhaXJ5U3RvY2tmaXNoLCBCb2FyZCwgTm90YXRpb24gfSBmcm9tICdmZmlzaC1lczYnO1xuXG5pbXBvcnQgeyBib2FyZFNldHRpbmdzLCBCb2FyZENvbnRyb2xsZXIgfSBmcm9tICdAL2JvYXJkU2V0dGluZ3MnO1xuaW1wb3J0IHsgQ0dNb3ZlLCB1Y2kyY2cgfSBmcm9tICdAL2NoZXNzJztcbmltcG9ydCB7IFB5Q2hlc3NNb2RlbCB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgVmFyaWFudCwgVkFSSUFOVFMsIG5vdGF0aW9uLCBtb2RkZWRWYXJpYW50IH0gZnJvbSAnQC92YXJpYW50cyc7XG5pbXBvcnQgeyB2YXJpYW50c0luaSB9IGZyb20gJ0AvdmFyaWFudHNJbmknO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2hlc3Nncm91bmRDb250cm9sbGVyIGltcGxlbWVudHMgQm9hcmRDb250cm9sbGVyIHtcbiAgICByZWFkb25seSBob21lOiBzdHJpbmc7XG5cbiAgICBjaGVzc2dyb3VuZDogQXBpO1xuICAgIGZmaXNoOiBGYWlyeVN0b2NrZmlzaDtcbiAgICBmZmlzaEJvYXJkOiBCb2FyZDtcbiAgICBub3RhdGlvbkFzT2JqZWN0OiBOb3RhdGlvbjtcblxuICAgIHJlYWRvbmx5IHZhcmlhbnQgOiBWYXJpYW50O1xuICAgIHJlYWRvbmx5IGNoZXNzOTYwIDogYm9vbGVhbjtcbiAgICByZWFkb25seSBoYXNQb2NrZXRzOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGFub246IGJvb2xlYW47XG4gICAgbXljb2xvcjogY2cuQ29sb3I7XG4gICAgb3BwY29sb3I6IGNnLkNvbG9yO1xuXG4gICAgZnVsbGZlbjogc3RyaW5nO1xuICAgIG5vdGF0aW9uOiBjZy5Ob3RhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgbW9kZWw6IFB5Q2hlc3NNb2RlbCkge1xuICAgICAgICB0aGlzLmhvbWUgPSBtb2RlbC5ob21lO1xuXG4gICAgICAgIHRoaXMudmFyaWFudCA9IFZBUklBTlRTW21vZGVsLnZhcmlhbnRdO1xuICAgICAgICB0aGlzLmNoZXNzOTYwID0gbW9kZWwuY2hlc3M5NjAgPT09ICdUcnVlJztcbiAgICAgICAgdGhpcy5oYXNQb2NrZXRzID0gISF0aGlzLnZhcmlhbnQucG9ja2V0O1xuICAgICAgICB0aGlzLmFub24gPSBtb2RlbC5hbm9uID09PSAnVHJ1ZSc7XG4gICAgICAgIHRoaXMubXljb2xvciA9ICd3aGl0ZSc7XG4gICAgICAgIHRoaXMub3BwY29sb3IgPSAnYmxhY2snO1xuICAgICAgICB0aGlzLmZ1bGxmZW4gPSBtb2RlbC5mZW4gYXMgc3RyaW5nO1xuICAgICAgICB0aGlzLm5vdGF0aW9uID0gbm90YXRpb24odGhpcy52YXJpYW50KTtcblxuICAgICAgICBjb25zdCBwb2NrZXQwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvY2tldDAnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgcG9ja2V0MSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2NrZXQxJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLmZ1bGxmZW4uc3BsaXQoXCIgXCIpO1xuICAgICAgICBjb25zdCBmZW5fcGxhY2VtZW50OiBjZy5GRU4gPSBwYXJ0c1swXTtcblxuICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kID0gQ2hlc3Nncm91bmQoZWwsIHtcbiAgICAgICAgICAgIGZlbjogZmVuX3BsYWNlbWVudCBhcyBjZy5GRU4sXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB0aGlzLnZhcmlhbnQuYm9hcmQuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIG5vdGF0aW9uOiB0aGlzLm5vdGF0aW9uLFxuICAgICAgICAgICAgYWRkRGltZW5zaW9uc0Nzc1ZhcnNUbzogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgIGtpbmdSb2xlczogdGhpcy52YXJpYW50LmtpbmdSb2xlcyxcbiAgICAgICAgICAgIHBvY2tldFJvbGVzOiB0aGlzLnZhcmlhbnQucG9ja2V0Py5yb2xlcyxcbiAgICAgICAgfSwgcG9ja2V0MCwgcG9ja2V0MSk7XG5cbiAgICAgICAgYm9hcmRTZXR0aW5ncy5jdHJsID0gdGhpcztcbiAgICAgICAgYm9hcmRTZXR0aW5ncy5hc3NldFVSTCA9IG1vZGVsLmFzc2V0VVJMO1xuICAgICAgICBjb25zdCBib2FyZEZhbWlseSA9IHRoaXMudmFyaWFudC5ib2FyZEZhbWlseTtcbiAgICAgICAgY29uc3QgcGllY2VGYW1pbHkgPSB0aGlzLnZhcmlhbnQucGllY2VGYW1pbHk7XG4gICAgICAgIGJvYXJkU2V0dGluZ3MudXBkYXRlQm9hcmRTdHlsZShib2FyZEZhbWlseSk7XG4gICAgICAgIGJvYXJkU2V0dGluZ3MudXBkYXRlUGllY2VTdHlsZShwaWVjZUZhbWlseSk7XG4gICAgICAgIGJvYXJkU2V0dGluZ3MudXBkYXRlWm9vbShib2FyZEZhbWlseSk7XG4gICAgICAgIGJvYXJkU2V0dGluZ3MudXBkYXRlQmxpbmRmb2xkKCk7XG5cbiAgICAgICAgZmZpc2hNb2R1bGUoKS50aGVuKGxvYWRlZE1vZHVsZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZmaXNoID0gbG9hZGVkTW9kdWxlO1xuICAgICAgICAgICAgdGhpcy5mZmlzaC5sb2FkVmFyaWFudENvbmZpZyh2YXJpYW50c0luaSk7XG4gICAgICAgICAgICB0aGlzLm5vdGF0aW9uQXNPYmplY3QgPSB0aGlzLm5vdGF0aW9uMmZmaXNoanModGhpcy5ub3RhdGlvbik7XG4gICAgICAgICAgICB0aGlzLmZmaXNoQm9hcmQgPSBuZXcgdGhpcy5mZmlzaC5Cb2FyZChcbiAgICAgICAgICAgICAgICBtb2RkZWRWYXJpYW50KHRoaXMudmFyaWFudC5uYW1lLCB0aGlzLmNoZXNzOTYwLCB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzLCBwYXJ0c1syXSksXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsZmVuLFxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3M5NjApO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHRoaXMuZmZpc2hCb2FyZC5kZWxldGUoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvZ2dsZU9yaWVudGF0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnRvZ2dsZU9yaWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgZmxpcHBlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlc3Nncm91bmQuc3RhdGUub3JpZW50YXRpb24gPT09ICdibGFjayc7XG4gICAgfVxuXG4gICAgbGVnYWxNb3ZlcygpOiBDR01vdmVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZmaXNoQm9hcmQubGVnYWxNb3ZlcygpLnNwbGl0KFwiIFwiKS5tYXAodWNpMmNnKSBhcyBDR01vdmVbXTtcbiAgICB9XG5cbiAgICBub3RhdGlvbjJmZmlzaGpzKG46IGNnLk5vdGF0aW9uKTogTm90YXRpb24ge1xuICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICAgIGNhc2UgY2cuTm90YXRpb24uQUxHRUJSQUlDOiByZXR1cm4gdGhpcy5mZmlzaC5Ob3RhdGlvbi5TQU47XG4gICAgICAgICAgICBjYXNlIGNnLk5vdGF0aW9uLlNIT0dJX0FSQk5VTTogcmV0dXJuIHRoaXMuZmZpc2guTm90YXRpb24uU0hPR0lfSE9ER0VTX05VTUJFUjtcbiAgICAgICAgICAgIGNhc2UgY2cuTm90YXRpb24uSkFOR0dJOiByZXR1cm4gdGhpcy5mZmlzaC5Ob3RhdGlvbi5KQU5HR0k7XG4gICAgICAgICAgICBjYXNlIGNnLk5vdGF0aW9uLlhJQU5HUUlfQVJCTlVNOiByZXR1cm4gdGhpcy5mZmlzaC5Ob3RhdGlvbi5YSUFOR1FJX1dYRjtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB0aGlzLmZmaXNoLk5vdGF0aW9uLlNBTjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBoLCBWTm9kZSB9IGZyb20gJ3NuYWJiZG9tJztcblxuaW1wb3J0IHsgZ2V0Q291bnRpbmcsIGdldEphbmdnaVBvaW50cyB9IGZyb20gJy4vY2hlc3MnO1xuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICcuL2RvY3VtZW50JztcblxuLy8gQ291bnRpbmcgZm9yIG1ha3J1aywgY2FtYm9kaWFuLCBzaXR0dXlpblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNvdW50KGZlbjogc3RyaW5nLCB3aGl0ZUNvbnRhaW5lcjogVk5vZGUgfCBFbGVtZW50LCBibGFja0NvbnRhaW5lcjogVk5vZGUgfCBFbGVtZW50KSB7XG4gICAgY29uc3QgW2NvdW50aW5nUGx5LCBjb3VudGluZ0xpbWl0LCBjb3VudGluZ1NpZGUsIF0gPSBnZXRDb3VudGluZyhmZW4pO1xuICAgIHdoaXRlQ29udGFpbmVyID0gcGF0Y2god2hpdGVDb250YWluZXIsIGgoJ2RpdiNtaXNjLWluZm93JywgJycpKTtcbiAgICBibGFja0NvbnRhaW5lciA9IHBhdGNoKGJsYWNrQ29udGFpbmVyLCBoKCdkaXYjbWlzYy1pbmZvYicsICcnKSk7XG5cbiAgICBjb25zdCBjb3VudGluZ1N0ciA9IGAke01hdGguZmxvb3IoKGNvdW50aW5nUGx5ICsgMSkvMil9LyR7Y291bnRpbmdMaW1pdC8yICsgKGNvdW50aW5nTGltaXQvMiklMn1gO1xuXG4gICAgaWYgKGNvdW50aW5nTGltaXQgIT09IDAgJiYgY291bnRpbmdQbHkgIT09IDApIHtcbiAgICAgICAgaWYgKGNvdW50aW5nU2lkZSA9PT0gJ3cnKVxuICAgICAgICAgICAgd2hpdGVDb250YWluZXIgPSBwYXRjaCh3aGl0ZUNvbnRhaW5lciwgaCgnZGl2I21pc2MtaW5mb3cnLCBjb3VudGluZ1N0cikpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBibGFja0NvbnRhaW5lciA9IHBhdGNoKGJsYWNrQ29udGFpbmVyLCBoKCdkaXYjbWlzYy1pbmZvYicsIGNvdW50aW5nU3RyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt3aGl0ZUNvbnRhaW5lciwgYmxhY2tDb250YWluZXJdO1xufVxuXG4vLyBNYXRlcmlhbCBwb2ludCBmb3IgamFuZ2dpXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUG9pbnQoZmVuOiBzdHJpbmcsIGNob0NvbnRhaW5lcjogVk5vZGUgfCBFbGVtZW50LCBoYW5Db250YWluZXI6IFZOb2RlIHwgRWxlbWVudCkge1xuICAgIGNvbnN0IGJvYXJkID0gZmVuLnNwbGl0KFwiIFwiKVswXTtcbiAgICBjb25zdCBbY2hvUG9pbnQsIGhhblBvaW50XSA9IGdldEphbmdnaVBvaW50cyhib2FyZCk7XG4gICAgY2hvQ29udGFpbmVyID0gcGF0Y2goY2hvQ29udGFpbmVyLCBoKCdkaXYjbWlzYy1pbmZvdycsIHsgY2xhc3M6IHsndGV4dC1jb2xvci1ibHVlJzogdHJ1ZX0gfSwgY2hvUG9pbnQpKTtcbiAgICBoYW5Db250YWluZXIgPSBwYXRjaChoYW5Db250YWluZXIsIGgoJ2RpdiNtaXNjLWluZm9iJywgeyBjbGFzczogeyd0ZXh0LWNvbG9yLXJlZCc6IHRydWV9IH0sIGhhblBvaW50KSk7XG4gICAgcmV0dXJuIFtjaG9Db250YWluZXIsIGhhbkNvbnRhaW5lcl07XG59XG4iLCAiaW1wb3J0IHsgaCwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSc7XG5cbmltcG9ydCB7IEhvd2wgfSBmcm9tICdob3dsZXInO1xuXG5pbXBvcnQgeyBfIH0gZnJvbSAnLi9pMThuJztcbmltcG9ydCB7IFZhcmlhbnQgfSBmcm9tICcuL3ZhcmlhbnRzJztcbmltcG9ydCB7IFN0cmluZ1NldHRpbmdzLCBOdW1iZXJTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgcmFkaW9MaXN0LCBzbGlkZXIgfSBmcm9tICcuL3ZpZXcnO1xuXG5cbmNsYXNzIFNvdW5kcyB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSB0cmFja05hbWVzID0ge1xuICAgICAgICBHZW5lcmljTm90aWZ5OiAnR2VuZXJpY05vdGlmeScsXG4gICAgICAgIFNvY2lhbE5vdGlmeTogJ1NvY2lhbE5vdGlmeScsXG4gICAgICAgIE1vdmU6ICdNb3ZlJyxcbiAgICAgICAgQ2FwdHVyZTogJ0NhcHR1cmUnLFxuICAgICAgICBDaGVjazogJ0NoZWNrJyxcbiAgICAgICAgRHJhdzogJ0RyYXcnLFxuICAgICAgICBWaWN0b3J5OiAnVmljdG9yeScsXG4gICAgICAgIERlZmVhdDogJ0RlZmVhdCcsXG4gICAgICAgIFNob2dpTW92ZTogJ3Nob2dpc25hcCcsXG4gICAgICAgIFNob2dpQ2FwdHVyZTogJ3Nob2dpc2xhbScsXG4gICAgICAgIENoYXQ6ICdjaGF0JyxcbiAgICAgICAgU2V0dXA6ICdkaW5kaW5nJyxcbiAgICAgICAgTG93VGltZTogJ0xvd1RpbWUnLFxuICAgICAgICBUaWNrOiAnVGljaycsXG4gICAgICAgIEV4cGxvc2lvbjogJ0V4cGxvc2lvbicsXG4gICAgICAgIEJlcnNlcms6ICdCZXJzZXJrJyxcbiAgICB9O1xuXG4gICAgdHJhY2tzOiB7IFtrZXk6IHN0cmluZ106IEhvd2wgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRyYWNrcyA9IHt9O1xuICAgIH1cblxuICAgIHVwZGF0ZVZvbHVtZSgpIHtcbiAgICAgICAgY29uc3Qgdm9sdW1lID0gdm9sdW1lU2V0dGluZ3MudmFsdWU7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMudHJhY2tzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrc1trZXldLnZvbHVtZSh2b2x1bWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVTb3VuZFRoZW1lKGFzc2V0VVJMOiBzdHJpbmcpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoU291bmRzLnRyYWNrTmFtZXMpLmZvckVhY2goIChrZXk6IGtleW9mIHR5cGVvZiBTb3VuZHMudHJhY2tOYW1lcykgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFja3Nba2V5XSA9IHRoaXMuYnVpbGRTb3VuZChhc3NldFVSTCwgU291bmRzLnRyYWNrTmFtZXNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRTb3VuZChhc3NldFVSTDogc3RyaW5nLCB0cmFja05hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzb3VuZFRoZW1lID0gc291bmRUaGVtZVNldHRpbmdzLnZhbHVlO1xuICAgICAgICBjb25zdCBzb3VuZFRyYWNrID0gKHNvdW5kVGhlbWUgPT09ICdzaWxlbnQnKSA/ICdTaWxlbmNlJyA6IHRyYWNrTmFtZTtcbiAgICAgICAgY29uc3Qgc291bmQgPSBuZXcgSG93bCh7XG4gICAgICAgICAgICBzcmM6IFtcbiAgICAgICAgICAgICAgICBhc3NldFVSTCArICcvc291bmQvJyArIHNvdW5kVGhlbWUgKyAnLycgKyBzb3VuZFRyYWNrICsgJy5vZ2cnLFxuICAgICAgICAgICAgICAgIGFzc2V0VVJMICsgJy9zb3VuZC8nICsgc291bmRUaGVtZSArICcvJyArIHNvdW5kVHJhY2sgKyAnLm1wMydcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvbnBsYXllcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc291bmQub25jZSgndW5sb2NrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZvbHVtZTogdm9sdW1lU2V0dGluZ3MudmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc291bmQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhdWRpbygpIHtcbiAgICAgICAgcmV0dXJuIHNvdW5kVGhlbWVTZXR0aW5ncy52YWx1ZSAhPT0gJ3NpbGVudCc7XG4gICAgfVxuXG4gICAgZ2VuZXJpY05vdGlmeSgpIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuR2VuZXJpY05vdGlmeS5wbGF5KCk7IH1cbiAgICBzb2NpYWxOb3RpZnkoKSAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5Tb2NpYWxOb3RpZnkucGxheSgpOyB9XG4gICAgbW92ZSgpICAgICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuTW92ZS5wbGF5KCk7IH1cbiAgICBjYXB0dXJlKCkgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5DYXB0dXJlLnBsYXkoKTsgfVxuICAgIGNoZWNrKCkgICAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkNoZWNrLnBsYXkoKTsgfVxuICAgIGRyYXcoKSAgICAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkRyYXcucGxheSgpOyB9XG4gICAgdmljdG9yeSgpICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuVmljdG9yeS5wbGF5KCk7IH1cbiAgICBkZWZlYXQoKSAgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5EZWZlYXQucGxheSgpOyB9XG4gICAgc2hvZ2ltb3ZlKCkgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuU2hvZ2lNb3ZlLnBsYXkoKTsgfVxuICAgIHNob2dpY2FwdHVyZSgpICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLlNob2dpQ2FwdHVyZS5wbGF5KCk7IH1cbiAgICBjaGF0KCkgICAgICAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5DaGF0LnBsYXkoKTsgfVxuICAgIHNldHVwKCkgICAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLlNldHVwLnBsYXkoKTsgfVxuICAgIGxvd1RpbWUoKSAgICAgICB7IGlmICh0aGlzLmF1ZGlvKCkpIHRoaXMudHJhY2tzLkxvd1RpbWUucGxheSgpOyB9XG4gICAgdGljaygpICAgICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuVGljay5wbGF5KCk7IH1cbiAgICBleHBsb3Npb24oKSAgICAgeyBpZiAodGhpcy5hdWRpbygpKSB0aGlzLnRyYWNrcy5FeHBsb3Npb24ucGxheSgpOyB9XG4gICAgYmVyc2VyaygpICAgICAgIHsgaWYgKHRoaXMuYXVkaW8oKSkgdGhpcy50cmFja3MuQmVyc2Vyay5wbGF5KCk7IH1cblxuICAgIHByaXZhdGUgbW92ZVNvdW5kU2V0OiB7W2s6c3RyaW5nXTogeyBtb3ZlOiAoKT0+IHZvaWQ7IGNhcHR1cmU6ICgpPT52b2lkO319ID0ge1xuICAgICAgICByZWd1bGFyOiB7IG1vdmU6ICgpID0+IHRoaXMubW92ZSgpLCBjYXB0dXJlOiAoKSA9PiB0aGlzLmNhcHR1cmUoKSB9LFxuICAgICAgICBzaG9naTogeyBtb3ZlOiAoKSA9PiB0aGlzLnNob2dpbW92ZSgpLCBjYXB0dXJlOiAoKSA9PiB0aGlzLnNob2dpY2FwdHVyZSgpIH0sXG4gICAgICAgIGF0b21pYzogeyBtb3ZlOiAoKSA9PiB0aGlzLm1vdmUoKSwgY2FwdHVyZTogKCkgPT4gdGhpcy5leHBsb3Npb24oKSB9LFxuICAgIH07XG5cbiAgICBtb3ZlU291bmQodmFyaWFudDogVmFyaWFudCwgY2FwdHVyZTogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBzb3VuZFNldCA9IHZhcmlhbnQudWkucGllY2VTb3VuZCBpbiB0aGlzLm1vdmVTb3VuZFNldD8gdGhpcy5tb3ZlU291bmRTZXRbdmFyaWFudC51aS5waWVjZVNvdW5kXSA6IHRoaXMubW92ZVNvdW5kU2V0LnJlZ3VsYXI7XG4gICAgICAgIGlmIChjYXB0dXJlKVxuICAgICAgICAgICAgc291bmRTZXQuY2FwdHVyZSgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzb3VuZFNldC5tb3ZlKCk7XG4gICAgfVxuXG4gICAgZ2FtZUVuZFNvdW5kKHJlc3VsdDogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIHN3aXRjaCAocmVzdWx0KSB7XG4gICAgICAgICAgICBjYXNlIFwiMS8yLTEvMlwiOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjEtMFwiOlxuICAgICAgICAgICAgICAgIGlmIChjb2xvciA9PT0gXCJ3aGl0ZVwiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpY3RvcnkoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmZWF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMC0xXCI6XG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yID09PSBcImJsYWNrXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmljdG9yeSgpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZlYXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5jbGFzcyBWb2x1bWVTZXR0aW5ncyBleHRlbmRzIE51bWJlclNldHRpbmdzIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigndm9sdW1lJywgMSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBzb3VuZC51cGRhdGVWb2x1bWUoKTtcbiAgICB9XG5cbiAgICB2aWV3KCk6IFZOb2RlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHNsaWRlcih0aGlzLCAnc291bmQtdm9sdW1lJywgMCwgMSwgMC4wMSwgXygnVm9sdW1lJykpKTtcbiAgICB9XG59XG5cbmNvbnN0IHNvdW5kVGhlbWVzID0ge1xuICAgIHNpbGVudDogXCJTaWxlbnRcIixcbiAgICBzdGFuZGFyZDogXCJTdGFuZGFyZFwiLFxuICAgIHBpYW5vOiBcIlBpYW5vXCIsXG4gICAgbmVzOiBcIk5FU1wiLFxuICAgIHNmeDogXCJTRlhcIixcbiAgICBmdXR1cmlzdGljOiBcIkZ1dHVyaXN0aWNcIixcbiAgICBsaXNwOiBcIkxpc3BcIixcbiAgICByb2JvdDogXCJSb2JvdFwiLFxufTtcblxuY2xhc3MgU291bmRUaGVtZVNldHRpbmdzIGV4dGVuZHMgU3RyaW5nU2V0dGluZ3Mge1xuICAgIGFzc2V0VVJMOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ3NvdW5kdGhlbWUnLCAnc3RhbmRhcmQnKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHNvdW5kLnVwZGF0ZVNvdW5kVGhlbWUodGhpcy5hc3NldFVSTCk7XG4gICAgfVxuXG4gICAgdmlldygpOiBWTm9kZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYjc291bmR0aGVtZS5yYWRpby1saXN0JywgcmFkaW9MaXN0KHRoaXMsICdzb3VuZHRoZW1lJywgc291bmRUaGVtZXMsIChfLCBrZXkpID0+IHRoaXMudmFsdWUgPSBrZXkpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBzb3VuZCA9IG5ldyhTb3VuZHMpO1xuZXhwb3J0IGNvbnN0IHZvbHVtZVNldHRpbmdzID0gbmV3IFZvbHVtZVNldHRpbmdzKCk7XG5leHBvcnQgY29uc3Qgc291bmRUaGVtZVNldHRpbmdzID0gbmV3IFNvdW5kVGhlbWVTZXR0aW5ncygpO1xuIiwgImltcG9ydCB7IGggfSBmcm9tIFwic25hYmJkb21cIjtcblxuaW1wb3J0IHsgXyB9IGZyb20gJy4vaTE4bic7XG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJy4vZG9jdW1lbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb250cm9sbGVyIHtcbiAgICBhbm9uOiBib29sZWFuO1xuICAgIGRvU2VuZDogYW55O1xuICAgIHNwZWN0YXRvcj86IGJvb2xlYW47XG4gICAgZ2FtZUlkPzogc3RyaW5nO1xuICAgIHRvdXJuYW1lbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXRWaWV3KGN0cmw6IENoYXRDb250cm9sbGVyLCBjaGF0VHlwZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgc3BlY3RhdG9yID0gKFwic3BlY3RhdG9yXCIgaW4gY3RybCAmJiBjdHJsLnNwZWN0YXRvcik7XG5cbiAgICBmdW5jdGlvbiBvbktleVByZXNzIChlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmICghKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja2JveCcpKS5jaGVja2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgaWYgKChlLmtleUNvZGUgPT09IDEzIHx8IGUud2hpY2ggPT09IDEzKSAmJiBtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG06IGFueSA9IHt0eXBlOiBjaGF0VHlwZSwgbWVzc2FnZTogbWVzc2FnZSwgcm9vbTogc3BlY3RhdG9yID8gXCJzcGVjdGF0b3JcIiA6IFwicGxheWVyXCJ9O1xuICAgICAgICAgICAgaWYgKFwiZ2FtZUlkXCIgaW4gY3RybClcbiAgICAgICAgICAgICAgICBtW1wiZ2FtZUlkXCJdID0gY3RybC5nYW1lSWQ7XG4gICAgICAgICAgICBpZiAoXCJ0b3VybmFtZW50SWRcIiBpbiBjdHJsKVxuICAgICAgICAgICAgICAgIG1bXCJ0b3VybmFtZW50SWRcIl0gPSBjdHJsLnRvdXJuYW1lbnRJZFxuICAgICAgICAgICAgY3RybC5kb1NlbmQobSk7XG4gICAgICAgICAgICAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ2xpY2sgKCkge1xuICAgICAgICBjb25zdCBhY3RpdmF0ZWQgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrYm94JykpLmNoZWNrZWQ7XG4gICAgICAgIGNvbnN0IGNoYXRFbnRyeSA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1lbnRyeScpKTtcbiAgICAgICAgKDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGF0VHlwZSArIFwiLW1lc3NhZ2VzXCIpKS5zdHlsZS5kaXNwbGF5ID0gYWN0aXZhdGVkID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgIGNoYXRFbnRyeS5kaXNhYmxlZCA9ICFhY3RpdmF0ZWQ7XG4gICAgICAgIGNoYXRFbnRyeS5wbGFjZWhvbGRlciA9IGFjdGl2YXRlZCA/IChhbm9uID8gXygnU2lnbiBpbiB0byBjaGF0JykgOiBfKCdQbGVhc2UgYmUgbmljZSBpbiB0aGUgY2hhdCEnKSkgOiBfKFwiQ2hhdCBpcyBkaXNhYmxlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgYW5vbiA9IGN0cmwuYW5vbjtcbiAgICByZXR1cm4gaChgZGl2IyR7Y2hhdFR5cGV9LiR7Y2hhdFR5cGV9LmNoYXRgLCBbXG4gICAgICAgIGgoJ2Rpdi5jaGF0cm9vbScsIFtcbiAgICAgICAgICAgIChzcGVjdGF0b3IpID8gXygnU3BlY3RhdG9yIHJvb20nKSA6IF8oJ0NoYXQgcm9vbScpLFxuICAgICAgICAgICAgaCgnaW5wdXQjY2hlY2tib3gnLCB7IHByb3BzOiB7IHRpdGxlOiBfKFwiVG9nZ2xlIHRoZSBjaGF0XCIpLCBuYW1lOiBcImNoZWNrYm94XCIsIHR5cGU6IFwiY2hlY2tib3hcIiwgY2hlY2tlZDogXCJ0cnVlXCIgfSwgb246IHsgY2xpY2s6IG9uQ2xpY2sgfSB9KVxuICAgICAgICBdKSxcbiAgICAgICAgLy8gVE9ETzogbG9jay91bmxvY2sgY2hhdCB0byBzcGVjdGF0b3JzXG4gICAgICAgIGgoYG9sIyR7Y2hhdFR5cGV9LW1lc3NhZ2VzYCwgWyBoKCdkaXYjbWVzc2FnZXMnKSBdKSxcbiAgICAgICAgaCgnaW5wdXQjY2hhdC1lbnRyeScsIHtcbiAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbnRyeVwiLFxuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogKGFub24pID8gXygnU2lnbiBpbiB0byBjaGF0JykgOiBfKCdQbGVhc2UgYmUgbmljZSBpbiB0aGUgY2hhdCEnKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogYW5vbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMTQwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7IGtleXByZXNzOiBvbktleVByZXNzIH0sXG4gICAgICAgIH0pXG4gICAgXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGF0TWVzc2FnZSAodXNlcjogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGNoYXRUeXBlOiBzdHJpbmcsIHRpbWU/OiBudW1iZXIpIHtcbiAgICBjb25zdCBjaGF0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2hhdFR5cGUgKyAnLW1lc3NhZ2VzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgLy8gWW91IG11c3QgYWRkIGJvcmRlciB3aWR0aHMsIHBhZGRpbmcgYW5kIG1hcmdpbnMgdG8gdGhlIHJpZ2h0LlxuICAgIC8vIE9ubHkgc2Nyb2xsIHRoZSBjaGF0IG9uIGEgbmV3IG1lc3NhZ2UgaWYgdGhlIHVzZXIgaXMgYXQgdGhlIHZlcnkgYm90dG9tIG9mIHRoZSBjaGF0XG4gICAgY29uc3QgaXNCb3R0b20gPSBjaGF0RGl2LnNjcm9sbEhlaWdodCAtIChjaGF0RGl2LnNjcm9sbFRvcCArIGNoYXREaXYub2Zmc2V0SGVpZ2h0KSA8IDgwO1xuICAgIGNvbnN0IGxvY2FsVGltZSA9IHRpbWUgPyBuZXcgRGF0ZSh0aW1lICogMTAwMCkudG9Mb2NhbGVUaW1lU3RyaW5nKFwiZGVmYXVsdFwiLCB7IGhvdXI6IFwiMi1kaWdpdFwiLCBtaW51dGU6IFwiMi1kaWdpdFwiLCBob3VyMTI6IGZhbHNlIH0pIDogXCJcIjtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlcycpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh1c2VyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXRjaChjb250YWluZXIsIGgoJ2RpdiNtZXNzYWdlcycsIFsgaChcImxpLm1lc3NhZ2Uub2ZmZXJcIiwgW2goXCJ0XCIsIG1lc3NhZ2UpXSkgXSkpO1xuICAgIH0gZWxzZSBpZiAodXNlciA9PT0gJ19zZXJ2ZXInKSB7XG4gICAgICAgIHBhdGNoKGNvbnRhaW5lciwgaCgnZGl2I21lc3NhZ2VzJywgWyBoKFwibGkubWVzc2FnZS5zZXJ2ZXJcIiwgW2goXCJkaXYudGltZVwiLCBsb2NhbFRpbWUpLCBoKFwidXNlclwiLCBfKCdTZXJ2ZXInKSksIGgoXCJ0XCIsIG1lc3NhZ2UpXSkgXSkpO1xuICAgIH0gZWxzZSBpZiAodXNlciA9PT0gJ0Rpc2NvcmQtUmVsYXknKSB7XG4gICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSBtZXNzYWdlLmluZGV4T2YoJzonKTsgLy8gRGlzY29yZCBkb2Vzbid0IGFsbG93IGNvbG9ucyBpbiB1c2VybmFtZXMgc28gdGhlIGZpcnN0IGNvbG9uIHNpZ25pZmllcyB0aGUgc3RhcnQgb2YgdGhlIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgZGlzY29yZFVzZXIgPSBtZXNzYWdlLnN1YnN0cmluZygwLCBjb2xvbkluZGV4KTtcbiAgICAgICAgY29uc3QgZGlzY29yZE1lc3NhZ2UgPSBtZXNzYWdlLnN1YnN0cmluZyhjb2xvbkluZGV4ICsgMik7XG4gICAgICAgIHBhdGNoKGNvbnRhaW5lciwgaCgnZGl2I21lc3NhZ2VzJywgWyBoKFwibGkubWVzc2FnZVwiLCBbaChcImRpdi50aW1lXCIsIGxvY2FsVGltZSksIGgoXCJkaXYuZGlzY29yZC1pY29uLWNvbnRhaW5lclwiLCBoKFwiaW1nLmljb24tZGlzY29yZC1pY29uXCIsIHsgYXR0cnM6IHsgc3JjOiAnL3N0YXRpYy9pY29ucy9kaXNjb3JkLnN2ZycgfSB9KSksIGgoXCJ1c2VyXCIsIGRpc2NvcmRVc2VyKSwgaChcInRcIiwgZGlzY29yZE1lc3NhZ2UpXSkgXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoKGNvbnRhaW5lciwgaCgnZGl2I21lc3NhZ2VzJywgWyBoKFwibGkubWVzc2FnZVwiLCBbaChcImRpdi50aW1lXCIsIGxvY2FsVGltZSksIGgoXCJ1c2VyXCIsIGgoXCJhXCIsIHsgYXR0cnM6IHtocmVmOiBcIi9AL1wiICsgdXNlcn0gfSwgdXNlcikpLCBoKFwidFwiLCBtZXNzYWdlKV0pIF0pKTtcbiAgICB9XG5cbiAgICBpZiAoaXNCb3R0b20pIHNldFRpbWVvdXQoKCkgPT4ge2NoYXREaXYuc2Nyb2xsVG9wID0gY2hhdERpdi5zY3JvbGxIZWlnaHQ7fSwgMjAwKTtcbn1cbiIsICJpbXBvcnQgV2Vic29ja2V0SGVhcnRiZWF0SnMgZnJvbSAnd2Vic29ja2V0LWhlYXJ0YmVhdC1qcyc7XG5cbmltcG9ydCB7IGgsIFZOb2RlIH0gZnJvbSAnc25hYmJkb20nO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnY2hlc3Nncm91bmR4L3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnY2hlc3Nncm91bmR4L3V0aWwnO1xuXG5pbXBvcnQgeyBfIH0gZnJvbSAnLi9pMThuJztcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBTdGVwLCBNc2dDaGF0LCBNc2dGdWxsQ2hhdCwgTXNnU3BlY3RhdG9ycywgTXNnU2h1dGRvd24sTXNnR2FtZU5vdEZvdW5kIH0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyB1Y2kyTGFzdE1vdmUsIG1vdmVEZXN0cywgY2cydWNpLCB1bnByb21vdGVkUm9sZSwgVUNJTW92ZSB9IGZyb20gJy4vY2hlc3MnO1xuaW1wb3J0IHsgSW5wdXRUeXBlIH0gZnJvbSAnQC9pbnB1dC9pbnB1dCc7XG5pbXBvcnQgeyBHYXRpbmdJbnB1dCB9IGZyb20gJy4vaW5wdXQvZ2F0aW5nJztcbmltcG9ydCB7IFByb21vdGlvbklucHV0IH0gZnJvbSAnLi9pbnB1dC9wcm9tb3Rpb24nO1xuaW1wb3J0IHsgRHVja0lucHV0IH0gZnJvbSAnLi9pbnB1dC9kdWNrJztcbmltcG9ydCB7IENoZXNzZ3JvdW5kQ29udHJvbGxlciB9IGZyb20gJy4vY2dDdHJsJztcbmltcG9ydCB7IEpTT05PYmplY3QsIFB5Q2hlc3NNb2RlbCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgdXBkYXRlQ291bnQsIHVwZGF0ZVBvaW50IH0gZnJvbSAnLi9pbmZvJztcbmltcG9ydCB7IHNvdW5kIH0gZnJvbSAnLi9zb3VuZCc7XG5pbXBvcnQgeyBjaGF0TWVzc2FnZSwgQ2hhdENvbnRyb2xsZXIgfSBmcm9tICcuL2NoYXQnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR2FtZUNvbnRyb2xsZXIgZXh0ZW5kcyBDaGVzc2dyb3VuZENvbnRyb2xsZXIgaW1wbGVtZW50cyBDaGF0Q29udHJvbGxlciB7XG4gICAgc29jazogV2Vic29ja2V0SGVhcnRiZWF0SnM7XG5cbiAgICAvLyBJbmZvXG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBnYW1lSWQ6IHN0cmluZztcbiAgICB0b3VybmFtZW50SWQ6IHN0cmluZztcbiAgICBoYW5kaWNhcDogYm9vbGVhbjtcbiAgICB3cGxheWVyOiBzdHJpbmc7XG4gICAgYnBsYXllcjogc3RyaW5nO1xuICAgIGFpTGV2ZWw6IG51bWJlcjtcbiAgICByYXRlZDogc3RyaW5nO1xuXG4gICAgYmFzZTogbnVtYmVyO1xuICAgIGluYzogbnVtYmVyO1xuXG4gICAgcGxheWVyczogc3RyaW5nW107XG4gICAgdGl0bGVzOiBzdHJpbmdbXTtcbiAgICByYXRpbmdzOiBzdHJpbmdbXTtcbiAgICB3dGl0bGU6IHN0cmluZztcbiAgICBidGl0bGU6IHN0cmluZztcbiAgICB3cmF0aW5nOiBzdHJpbmc7XG4gICAgYnJhdGluZzogc3RyaW5nO1xuXG4gICAgLy8gSGVscGVyc1xuICAgIGdhdGluZzogR2F0aW5nSW5wdXQ7XG4gICAgcHJvbW90aW9uOiBQcm9tb3Rpb25JbnB1dDtcbiAgICBkdWNrOiBEdWNrSW5wdXQ7XG5cbiAgICAvLyBHYW1lIHN0YXRlXG4gICAgdHVybkNvbG9yOiBjZy5Db2xvcjtcbiAgICBzdWZmaXg6IHN0cmluZztcblxuICAgIHNldHVwRmVuOiBzdHJpbmc7XG5cbiAgICBwcmVtb3ZlPzogeyBvcmlnOiBjZy5PcmlnLCBkZXN0OiBjZy5LZXksIG1ldGFkYXRhPzogY2cuU2V0UHJlbW92ZU1ldGFkYXRhIH07XG4gICAgcHJlYWN0aW9uOiBib29sZWFuO1xuXG4gICAgc3RlcHM6IFN0ZXBbXTtcblxuICAgIC8vIFRPRE86IG1vdmVMaXN0OiBNb3ZlTGlzdDtcbiAgICBzdGF0dXM6IG51bWJlcjtcbiAgICBwZ246IHN0cmluZztcbiAgICBwbHk6IG51bWJlcjtcbiAgICByZXN1bHQ6IHN0cmluZztcblxuICAgIC8vIFVJIHN0YXRlXG4gICAgdnBsYXllcjA6IFZOb2RlO1xuICAgIHZwbGF5ZXIxOiBWTm9kZTtcbiAgICB2bW92ZWxpc3Q6IFZOb2RlIHwgSFRNTEVsZW1lbnQ7XG4gICAgZ2FtZUNvbnRyb2xzOiBWTm9kZTtcbiAgICBtb3ZlQ29udHJvbHM6IFZOb2RlO1xuICAgIGN0YWJsZUNvbnRhaW5lcjogVk5vZGUgfCBIVE1MRWxlbWVudDtcbiAgICBjbGlja0Ryb3A6IGNnLlBpZWNlIHwgdW5kZWZpbmVkO1xuXG4gICAgbGFzdG1vdmU6IGNnLktleVtdO1xuXG4gICAgc3BlY3RhdG9yOiBib29sZWFuO1xuXG4gICAgLy8gU2V0dGluZ3NcbiAgICBjbGlja0Ryb3BFbmFibGVkOiBib29sZWFuO1xuICAgIGF1dG9Qcm9tb3RlPzogYm9vbGVhbjtcbiAgICBkYmxDbGlja1Bhc3M/OiBib29sZWFuO1xuXG4gICAgLy8gTWFpbiBsaW5lIHBseSB3aGVyZSBhbmFseXNpcyB2YXJpYXRpb24gc3RhcnRzXG4gICAgcGx5VmFyaTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBtb2RlbDogUHlDaGVzc01vZGVsKSB7XG4gICAgICAgIHN1cGVyIChlbCwgbW9kZWwpO1xuXG4gICAgICAgIHRoaXMuZ2FtZUlkID0gbW9kZWxbXCJnYW1lSWRcIl0gYXMgc3RyaW5nO1xuICAgICAgICB0aGlzLnRvdXJuYW1lbnRJZCA9IG1vZGVsW1widG91cm5hbWVudElkXCJdXG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBtb2RlbFtcInVzZXJuYW1lXCJdO1xuICAgICAgICB0aGlzLndwbGF5ZXIgPSBtb2RlbFtcIndwbGF5ZXJcIl07XG4gICAgICAgIHRoaXMuYnBsYXllciA9IG1vZGVsW1wiYnBsYXllclwiXTtcbiAgICAgICAgdGhpcy5iYXNlID0gTnVtYmVyKG1vZGVsW1wiYmFzZVwiXSk7XG4gICAgICAgIHRoaXMuaW5jID0gTnVtYmVyKG1vZGVsW1wiaW5jXCJdKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBOdW1iZXIobW9kZWxbXCJzdGF0dXNcIl0pO1xuICAgICAgICB0aGlzLnN0ZXBzID0gW107XG4gICAgICAgIHRoaXMucGduID0gXCJcIjtcbiAgICAgICAgdGhpcy5wbHkgPSBpc05hTihtb2RlbFtcInBseVwiXSkgPyAwIDogbW9kZWxbXCJwbHlcIl07XG4gICAgICAgIHRoaXMud3RpdGxlID0gbW9kZWxbXCJ3dGl0bGVcIl07XG4gICAgICAgIHRoaXMuYnRpdGxlID0gbW9kZWxbXCJidGl0bGVcIl07XG4gICAgICAgIHRoaXMud3JhdGluZyA9IG1vZGVsW1wid3JhdGluZ1wiXTtcbiAgICAgICAgdGhpcy5icmF0aW5nID0gbW9kZWxbXCJicmF0aW5nXCJdO1xuICAgICAgICB0aGlzLnJhdGVkID0gbW9kZWxbXCJyYXRlZFwiXTtcblxuICAgICAgICB0aGlzLnNwZWN0YXRvciA9IHRoaXMudXNlcm5hbWUgIT09IHRoaXMud3BsYXllciAmJiB0aGlzLnVzZXJuYW1lICE9PSB0aGlzLmJwbGF5ZXI7XG5cbiAgICAgICAgdGhpcy5nYXRpbmcgPSBuZXcgR2F0aW5nSW5wdXQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvbW90aW9uID0gbmV3IFByb21vdGlvbklucHV0KHRoaXMpO1xuICAgICAgICB0aGlzLmR1Y2sgPSBuZXcgRHVja0lucHV0KHRoaXMpO1xuXG4gICAgICAgIC8vIG9yaWVudGF0aW9uID0gdGhpcy5teWNvbG9yXG4gICAgICAgIGlmICh0aGlzLnNwZWN0YXRvcikge1xuICAgICAgICAgICAgdGhpcy5teWNvbG9yID0gJ3doaXRlJztcbiAgICAgICAgICAgIHRoaXMub3BwY29sb3IgPSAnYmxhY2snO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5teWNvbG9yID0gdGhpcy51c2VybmFtZSA9PT0gdGhpcy53cGxheWVyID8gJ3doaXRlJyA6ICdibGFjayc7XG4gICAgICAgICAgICB0aGlzLm9wcGNvbG9yID0gdGhpcy51c2VybmFtZSA9PT0gdGhpcy53cGxheWVyID8gJ2JsYWNrJyA6ICd3aGl0ZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwbGF5ZXJzWzBdIGlzIHRvcCBwbGF5ZXIsIHBsYXllcnNbMV0gaXMgYm90dG9tIHBsYXllclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXG4gICAgICAgICAgICB0aGlzLm15Y29sb3IgPT09IFwid2hpdGVcIiA/IHRoaXMuYnBsYXllciA6IHRoaXMud3BsYXllcixcbiAgICAgICAgICAgIHRoaXMubXljb2xvciA9PT0gXCJ3aGl0ZVwiID8gdGhpcy53cGxheWVyIDogdGhpcy5icGxheWVyXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMudGl0bGVzID0gW1xuICAgICAgICAgICAgdGhpcy5teWNvbG9yID09PSBcIndoaXRlXCIgPyB0aGlzLmJ0aXRsZSA6IHRoaXMud3RpdGxlLFxuICAgICAgICAgICAgdGhpcy5teWNvbG9yID09PSBcIndoaXRlXCIgPyB0aGlzLnd0aXRsZSA6IHRoaXMuYnRpdGxlXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMucmF0aW5ncyA9IFtcbiAgICAgICAgICAgIHRoaXMubXljb2xvciA9PT0gXCJ3aGl0ZVwiID8gdGhpcy5icmF0aW5nIDogdGhpcy53cmF0aW5nLFxuICAgICAgICAgICAgdGhpcy5teWNvbG9yID09PSBcIndoaXRlXCIgPyB0aGlzLndyYXRpbmcgOiB0aGlzLmJyYXRpbmdcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLnJlc3VsdCA9IFwiKlwiO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuZnVsbGZlbi5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgdGhpcy50dXJuQ29sb3IgPSBwYXJ0c1sxXSA9PT0gXCJ3XCIgPyBcIndoaXRlXCIgOiBcImJsYWNrXCI7XG4gICAgICAgIHRoaXMuc3VmZml4ID0gJyc7XG5cbiAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZXQoe1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogbG9jYWxTdG9yYWdlLmFuaW1hdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGxvY2FsU3RvcmFnZS5hbmltYXRpb24gPT09IFwidHJ1ZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vdmFibGU6IHtcbiAgICAgICAgICAgICAgICBzaG93RGVzdHM6IGxvY2FsU3RvcmFnZS5zaG93RGVzdHMgPT09IHVuZGVmaW5lZCB8fCBsb2NhbFN0b3JhZ2Uuc2hvd0Rlc3RzID09PSBcInRydWVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAnZmVuJzogdGhpcy5mdWxsZmVuLFxuICAgICAgICAgICAgJ21vdmUnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAnY2hlY2snOiBmYWxzZSxcbiAgICAgICAgICAgICd0dXJuQ29sb3InOiB0aGlzLnR1cm5Db2xvcixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2V0RGVzdHMoKTtcbiAgICB9XG5cbiAgICBmbGlwcGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5vcmllbnRhdGlvbiAhPT0gdGhpcy5teWNvbG9yO1xuICAgIH1cblxuICAgIHNldERlc3RzID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5mZmlzaEJvYXJkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEF0IHZlcnkgZmlyc3QgdGltZSB3ZSBtYXkgaGF2ZSB0byB3YWl0IGZvciBmZmlzaCBtb2R1bGUgdG8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnNldERlc3RzLCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGVnYWxNb3ZlcyA9IHRoaXMuZmZpc2hCb2FyZC5sZWdhbE1vdmVzKCkuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgY29uc3QgZGVzdHMgPSBtb3ZlRGVzdHMobGVnYWxNb3ZlcyBhcyBVQ0lNb3ZlW10pO1xuICAgICAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZXQoeyBtb3ZhYmxlOiB7IGRlc3RzOiBkZXN0cyB9fSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldCh7IGNoZWNrOiAodGhpcy5mZmlzaEJvYXJkLmlzQ2hlY2soKSkgPyB0aGlzLnR1cm5Db2xvciA6IGZhbHNlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYnN0cmFjdCBkb1NlbmRNb3ZlKG1vdmU6IHN0cmluZyk6IHZvaWQ7XG5cbiAgICBwcm9jZXNzSW5wdXQocGllY2U6IGNnLlBpZWNlLCBvcmlnOiBjZy5PcmlnLCBkZXN0OiBjZy5LZXksIG1ldGE6IGNnLk1vdmVNZXRhZGF0YSwgbGFzdFN1ZmZpeD86IHN0cmluZywgbGFzdElucHV0VHlwZT86IElucHV0VHlwZSk6IHZvaWQge1xuICAgICAgICBzd2l0Y2ggKGxhc3RJbnB1dFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgIHRoaXMuc3VmZml4ID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5nYXRpbmcuc3RhcnQocGllY2UsIG9yaWcsIGRlc3QsIG1ldGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ2F0aW5nJzpcbiAgICAgICAgICAgICAgICBpZiAobGFzdFN1ZmZpeCA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvbW90aW9uLnN0YXJ0KHBpZWNlLCBvcmlnLCBkZXN0LCBtZXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1ZmZpeCArPSBsYXN0U3VmZml4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmR1Y2suc3RhcnQocGllY2UsIG9yaWcsIGRlc3QsIG1ldGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Byb21vdGlvbic6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWZmaXggKz0gbGFzdFN1ZmZpeDtcbiAgICAgICAgICAgICAgICB0aGlzLmR1Y2suc3RhcnQocGllY2UsIG9yaWcsIGRlc3QsIG1ldGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZHVjayc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWZmaXggKz0gbGFzdFN1ZmZpeDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNb3ZlKG9yaWcsIGRlc3QsIHRoaXMuc3VmZml4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbmRNb3ZlKG9yaWc6IGNnLk9yaWcsIGRlc3Q6IGNnLktleSwgcHJvbW86IHN0cmluZykge1xuICAgICAgICB0aGlzLmRvU2VuZE1vdmUoY2cydWNpKG9yaWcgKyBkZXN0ICsgcHJvbW8pKTtcbiAgICB9XG5cbiAgICBnb1BseShwbHk6IG51bWJlciwgcGx5VmFyaSA9IDApIHtcbiAgICAgICAgY29uc3QgdnYgPSB0aGlzLnN0ZXBzW3BseVZhcmldPy52YXJpO1xuICAgICAgICBjb25zdCBzdGVwID0gKHBseVZhcmkgPiAwICYmIHZ2KSA/IHZ2W3BseSAtIHBseVZhcmldIDogdGhpcy5zdGVwc1twbHldO1xuICAgICAgICBpZiAoc3RlcCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbW92ZSA9IHVjaTJMYXN0TW92ZShzdGVwLm1vdmUpO1xuICAgICAgICBsZXQgY2FwdHVyZSA9IGZhbHNlO1xuICAgICAgICBpZiAobW92ZSkge1xuICAgICAgICAgICAgLy8gOTYwIGtpbmcgdGFrZXMgcm9vayBjYXN0bGluZyBpcyBub3QgY2FwdHVyZVxuICAgICAgICAgICAgLy8gVE9ETyBEZWZlciB0aGlzIGxvZ2ljIHRvIGZmaXNoLmpzXG4gICAgICAgICAgICBjYXB0dXJlID0gKHRoaXMuY2hlc3Nncm91bmQuc3RhdGUuYm9hcmRTdGF0ZS5waWVjZXMuZ2V0KG1vdmVbMV0gYXMgY2cuS2V5KSAhPT0gdW5kZWZpbmVkICYmIHN0ZXAuc2FuPy5zbGljZSgwLCAyKSAhPT0gJ08tJykgfHwgKHN0ZXAuc2FuPy5zbGljZSgxLCAyKSA9PT0gJ3gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hlc3Nncm91bmQuc2V0KHtcbiAgICAgICAgICAgIGZlbjogc3RlcC5mZW4sXG4gICAgICAgICAgICB0dXJuQ29sb3I6IHN0ZXAudHVybkNvbG9yLFxuICAgICAgICAgICAgbW92YWJsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBzdGVwLnR1cm5Db2xvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hlY2s6IHN0ZXAuY2hlY2ssXG4gICAgICAgICAgICBsYXN0TW92ZTogbW92ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0RGVzdHMoKTtcblxuICAgICAgICB0aGlzLnR1cm5Db2xvciA9IHN0ZXAudHVybkNvbG9yO1xuICAgICAgICB0aGlzLmZ1bGxmZW4gPSBzdGVwLmZlbjtcbiAgICAgICAgdGhpcy5zdWZmaXggPSAnJztcbiAgICAgICAgdGhpcy5kdWNrLmlucHV0U3RhdGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMudmFyaWFudC51aS5jb3VudGluZykge1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoc3RlcC5mZW4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaXNjLWluZm93JykgYXMgSFRNTEVsZW1lbnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaXNjLWluZm9iJykgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFyaWFudC51aS5tYXRlcmlhbFBvaW50KSB7XG4gICAgICAgICAgICB1cGRhdGVQb2ludChzdGVwLmZlbiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pc2MtaW5mb3cnKSBhcyBIVE1MRWxlbWVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pc2MtaW5mb2InKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGx5ID09PSB0aGlzLnBseSArIDEpIHtcbiAgICAgICAgICAgIHNvdW5kLm1vdmVTb3VuZCh0aGlzLnZhcmlhbnQsIGNhcHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHkgPSBwbHlcbiAgICB9XG5cbiAgICBkb1NlbmQgPSAobWVzc2FnZTogSlNPTk9iamVjdCkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIi0tLT4gZG9TZW5kKCk6XCIsIG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNvY2suc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uTW92ZSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChfb3JpZzogY2cuS2V5LCBfZGVzdDogY2cuS2V5LCBjYXB0dXJlZFBpZWNlOiBjZy5QaWVjZSkgPT4ge1xuICAgICAgICAgICAgc291bmQubW92ZVNvdW5kKHRoaXMudmFyaWFudCwgISFjYXB0dXJlZFBpZWNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkRyb3AgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAocGllY2U6IGNnLlBpZWNlLCBfZGVzdDogY2cuS2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAocGllY2Uucm9sZSlcbiAgICAgICAgICAgICAgICBzb3VuZC5tb3ZlU291bmQodGhpcy52YXJpYW50LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25TZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgIGxldCBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBsZXQgbGFzdEtleTogY2cuS2V5IHwgdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gKGtleTogY2cuS2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kdWNrLmlucHV0U3RhdGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR1Y2suZmluaXNoKGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5tb3ZhYmxlLmRlc3RzID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgY3VyVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgICAgICAvLyBTaXR0dXlpbiBpbiBwbGFjZSBwcm9tb3Rpb24gb24gZG91YmxlIGNsaWNrXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5zdGF0cy5jdHJsS2V5IHx8IChsYXN0S2V5ID09PSBrZXkgJiYgY3VyVGltZSAtIGxhc3RUaW1lIDwgNTAwKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLm1vdmFibGUuZGVzdHMuZ2V0KGtleSk/LmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzLmdldChrZXkpITtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmFyaWFudC5uYW1lID09PSAnc2l0dHV5aW4nKSB7IC8vIFRPRE8gbWFrZSB0aGlzIG1vcmUgZ2VuZXJpY1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDdHJsIGluIHBsYWNlIHByb21vdGlvblwiLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZXRQaWVjZXMobmV3IE1hcChbW2tleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwaWVjZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnZi1waWVjZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW90ZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5tb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVzc2dyb3VuZC5zZWxlY3RTcXVhcmUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdW5kLm1vdmVTb3VuZCh0aGlzLnZhcmlhbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0lucHV0KHBpZWNlLCBrZXksIGtleSwgeyBwcmVtb3ZlOiBmYWxzZSB9LCAnZicsICdwcm9tb3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5zdGF0cy5jdHJsS2V5IHx8IHRoaXMuZGJsQ2xpY2tQYXNzKSAmJiB0aGlzLnZhcmlhbnQucnVsZXMucGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdEtleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFzdEtleSA9IGtleTtcbiAgICAgICAgICAgICAgICBsYXN0VGltZSA9IGN1clRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcGFzcyA9IChwYXNzS2V5PzogY2cuS2V5KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnR1cm5Db2xvciA9PT0gdGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5tb3ZhYmxlLmNvbG9yIHx8IHRoaXMuY2hlc3Nncm91bmQuc3RhdGUubW92YWJsZS5jb2xvciA9PT0gJ2JvdGgnKSB7XG4gICAgICAgICAgICBpZiAoIXBhc3NLZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaWVjZXMgPSB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc3RzID0gdGhpcy5jaGVzc2dyb3VuZC5zdGF0ZS5tb3ZhYmxlLmRlc3RzO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHBdIG9mIHBpZWNlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocC5yb2xlID09PSAnay1waWVjZScgJiYgcC5jb2xvciA9PT0gdGhpcy50dXJuQ29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0cz8uZ2V0KGspPy5pbmNsdWRlcyhrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NLZXkgPSBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhc3NLZXkpIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IGNhbGxpbmcgcGFzcygpIGFnYWluIGJ5IHNlbGVjdFNxdWFyZSgpIC0+IG9uU2VsZWN0KClcbiAgICAgICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnVuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgc291bmQubW92ZVNvdW5kKHRoaXMudmFyaWFudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1vdmUocGFzc0tleSwgcGFzc0tleSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAqIEN1c3RvbSB2YXJpYW50LXNwZWNpZmljIGxvZ2ljIHRvIGJlIHRyaWdnZXJlZCBvbiBtb3ZlIGFuZCBhbHRlciBzdGF0ZSBvZiBib2FyZC9wb2NrZXQgZGVwZW5kaW5nIG9uIHZhcmlhbnQgcnVsZXMuXG4gICAgICAqL1xuICAgIHByb3RlY3RlZCBvblVzZXJNb3ZlKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5LCBtZXRhOiBjZy5Nb3ZlTWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuZHVjay5pbnB1dFN0YXRlID09PSBcIm1vdmVcIikge1xuICAgICAgICAgICAgdGhpcy5kdWNrLmZpbmlzaChkZXN0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJlYWN0aW9uID0gbWV0YS5wcmVtb3ZlO1xuICAgICAgICBjb25zdCBwaWVjZXMgPSB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLmJvYXJkU3RhdGUucGllY2VzO1xuICAgICAgICBsZXQgbW92ZWQgPSBwaWVjZXMuZ2V0KGRlc3QpO1xuICAgICAgICAvLyBGaXgga2luZyB0byByb29rIDk2MCBjYXN0bGluZyBjYXNlXG4gICAgICAgIGlmIChtb3ZlZCA9PT0gdW5kZWZpbmVkKSBtb3ZlZCA9IHtyb2xlOiAnay1waWVjZScsIGNvbG9yOiB0aGlzLm15Y29sb3J9IGFzIGNnLlBpZWNlO1xuXG4gICAgICAgIC8vIGNoZXNzZ3JvdW5kIGRvZXNuJ3Qga25vdyBhYm91dCBlbiBwYXNzYW50LCBzbyB3ZSBoYXZlIHRvIHJlbW92ZSB0aGUgY2FwdHVyZWQgcGF3biBtYW51YWxseVxuICAgICAgICBpZiAobWV0YS5jYXB0dXJlZCA9PT0gdW5kZWZpbmVkICYmIG1vdmVkICE9PSB1bmRlZmluZWQgJiYgbW92ZWQucm9sZSA9PT0gXCJwLXBpZWNlXCIgJiYgb3JpZ1swXSAhPT0gZGVzdFswXSAmJiB0aGlzLnZhcmlhbnQucnVsZXMuZW5QYXNzYW50KSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSB1dGlsLmtleTJwb3MoZGVzdCksXG4gICAgICAgICAgICAgICAgcGF3bktleSA9IHV0aWwucG9zMmtleShbcG9zWzBdLCBwb3NbMV0gKyAodGhpcy5teWNvbG9yID09PSAnd2hpdGUnID8gLTEgOiAxKV0pO1xuICAgICAgICAgICAgbWV0YS5jYXB0dXJlZCA9IHBpZWNlcy5nZXQocGF3bktleSk7XG4gICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnNldFBpZWNlcyhuZXcgTWFwKFtbcGF3bktleSwgdW5kZWZpbmVkXV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGUgY2FwdHVyZWQgcGllY2UgdG8gdGhlIHBvY2tldFxuICAgICAgICAvLyBjaGVzc2dyb3VuZCBkb2Vzbid0IGtub3cgd2hhdCBwaWVjZSB0byByZXZlcnQgYSBjYXB0dXJlZCBwcm9tb3RlZCBwaWVjZSBpbnRvLCBzbyBpdCBuZWVkcyB0byBiZSBoYW5kbGVkIGhlcmVcbiAgICAgICAgaWYgKHRoaXMudmFyaWFudC5wb2NrZXQ/LmNhcHR1cmVUb0hhbmQgJiYgbWV0YS5jYXB0dXJlZCkge1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSB7XG4gICAgICAgICAgICAgICAgcm9sZTogdW5wcm9tb3RlZFJvbGUodGhpcy52YXJpYW50LCBtZXRhLmNhcHR1cmVkKSxcbiAgICAgICAgICAgICAgICBjb2xvcjogdXRpbC5vcHBvc2l0ZShtZXRhLmNhcHR1cmVkLmNvbG9yKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLmNoYW5nZVBvY2tldChwaWVjZSwgMSk7XG4gICAgICAgICAgICB0aGlzLmNoZXNzZ3JvdW5kLnN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc0lucHV0KG1vdmVkLCBvcmlnLCBkZXN0LCBtZXRhKTtcbiAgICAgICAgdGhpcy5wcmVhY3Rpb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYXJpYW50IHNwZWNpZmljIGxvZ2ljIGZvciB3aGVuIGRyb3BwaW5nIGEgcGllY2UgZnJvbSBwb2NrZXQgaXMgcGVyZm9ybWVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIG9uVXNlckRyb3AocGllY2U6IGNnLlBpZWNlLCBkZXN0OiBjZy5LZXksIG1ldGE6IGNnLk1vdmVNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLnByZWFjdGlvbiA9IG1ldGEucHJlbW92ZTtcbiAgICAgICAgY29uc3Qgcm9sZSA9IHBpZWNlLnJvbGU7XG4gICAgICAgIHRoaXMucHJvY2Vzc0lucHV0KHBpZWNlLCB1dGlsLmRyb3BPcmlnT2Yocm9sZSksIGRlc3QsIG1ldGEpO1xuICAgICAgICB0aGlzLnByZWFjdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Nc2dTcGVjdGF0b3JzID0gKG1zZzogTXNnU3BlY3RhdG9ycykgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlY3RhdG9ycycpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBwYXRjaChjb250YWluZXIsIGgoJ3VuZGVyLWxlZnQjc3BlY3RhdG9ycycsIF8oJ1NwZWN0YXRvcnM6ICcpICsgbXNnLnNwZWN0YXRvcnMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTXNnQ2hhdCA9IChtc2c6IE1zZ0NoYXQpID0+IHtcbiAgICAgICAgaWYgKCh0aGlzLnNwZWN0YXRvciAmJiBtc2cucm9vbSA9PT0gJ3NwZWN0YXRvcicpIHx8ICghdGhpcy5zcGVjdGF0b3IgJiYgbXNnLnJvb20gIT09ICdzcGVjdGF0b3InKSB8fCBtc2cudXNlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNoYXRNZXNzYWdlKG1zZy51c2VyLCBtc2cubWVzc2FnZSwgXCJyb3VuZGNoYXRcIiwgbXNnLnRpbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1zZ0Z1bGxDaGF0ID0gKG1zZzogTXNnRnVsbENoYXQpID0+IHtcbiAgICAgICAgLy8gVG8gcHJldmVudCBtdWx0aXBsaWNhdGlvbiBvZiBtZXNzYWdlcyB3ZSBoYXZlIHRvIHJlbW92ZSBvbGQgbWVzc2FnZXMgZGl2IGZpcnN0XG4gICAgICAgIHBhdGNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlcycpIGFzIEhUTUxFbGVtZW50LCBoKCdkaXYjbWVzc2FnZXMtY2xlYXInKSk7XG4gICAgICAgIC8vIHRoZW4gY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBwYXRjaChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZXMtY2xlYXInKSBhcyBIVE1MRWxlbWVudCwgaCgnZGl2I21lc3NhZ2VzJykpO1xuICAgICAgICBtc2cubGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCh0aGlzLnNwZWN0YXRvciAmJiBsaW5lLnJvb20gPT09ICdzcGVjdGF0b3InKSB8fCAoIXRoaXMuc3BlY3RhdG9yICYmIGxpbmUucm9vbSAhPT0gJ3NwZWN0YXRvcicpIHx8IGxpbmUudXNlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjaGF0TWVzc2FnZShsaW5lLnVzZXIsIGxpbmUubWVzc2FnZSwgXCJyb3VuZGNoYXRcIiwgbGluZS50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1zZ0dhbWVOb3RGb3VuZCA9IChtc2c6IE1zZ0dhbWVOb3RGb3VuZCkgPT4ge1xuICAgICAgICBhbGVydChfKFwiUmVxdWVzdGVkIGdhbWUgJTEgbm90IGZvdW5kIVwiLCBtc2dbJ2dhbWVJZCddKSk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odGhpcy5ob21lKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTXNnU2h1dGRvd24gPSAobXNnOiBNc2dTaHV0ZG93bikgPT4ge1xuICAgICAgICBhbGVydChtc2cubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uTWVzc2FnZShldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIjwrKysgb25NZXNzYWdlKCk6XCIsIGV2dC5kYXRhKTtcbiAgICAgICAgaWYgKGV2dC5kYXRhID09PSAnL24nKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG1zZyA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpO1xuICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwic3BlY3RhdG9yc1wiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nc2dTcGVjdGF0b3JzKG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgXCJyb3VuZGNoYXRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTXNnQ2hhdChtc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZ1bGxjaGF0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1zZ0Z1bGxDaGF0KG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZ2FtZV9ub3RfZm91bmRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTXNnR2FtZU5vdEZvdW5kKG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgXCJzaHV0ZG93blwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nc2dTaHV0ZG93bihtc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxvZ291dFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuZG9TZW5kKHt0eXBlOiBcImxvZ291dFwifSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAidHlwZSBVc2VySWQgPSBzdHJpbmc7XG5cbmV4cG9ydCB0eXBlIFB1enpsZSA9IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBmZW46IHN0cmluZztcbiAgICB2YXJpYW50OiBzdHJpbmc7XG4gICAgbW92ZXM6IHN0cmluZztcbiAgICBldmFsOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGdhbWVJZD86IHN0cmluZztcbiAgICB1cGxvYWRlZEJ5Pzogc3RyaW5nO1xuICAgIHNpdGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFNlcnZlckRhdGEgPSB7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBweWNoZXNzVVJMOiBzdHJpbmc7XG4gICAgaG9tZTogc3RyaW5nO1xuICAgIGFzc2V0VVJMOiBzdHJpbmc7XG4gICAgZmVuOiBzdHJpbmc7XG4gICAgdmFyaWFudDogc3RyaW5nO1xuICAgIGFsbDogYm9vbGVhbjtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBnYW1lSWQ/OiBzdHJpbmc7XG4gICAgc2l0ZT86IHN0cmluZztcbiAgICBtb3Zlczogc3RyaW5nO1xuICAgIGV2YWw6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgcGx5PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlldyB7XG4gIGJ5OiBVc2VySWQ7XG4gIGF0OiBEYXRlO1xuICBhcHByb3ZlZDogYm9vbGVhbjtcbn1cblxuY29uc3QgaWRDaGFycyA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7XG5jb25zdCBpZExlbmd0aCA9IDU7XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBmb3IgKGxldCBpID0gaWRMZW5ndGg7IGkgPiAwOyAtLWkpIHJlc3VsdCArPSBpZENoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGlkQ2hhcnMubGVuZ3RoKV07XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHsgaCwgVk5vZGUgfSBmcm9tICdzbmFiYmRvbSdcblxuaW1wb3J0IHsgVkFSSUFOVFMgfSBmcm9tICcuL3ZhcmlhbnRzJztcblxuaW1wb3J0IHsgU2VydmVyRGF0YSB9IGZyb20gJy4vcHV6emxlclR5cGVzJztcbmltcG9ydCBQdXp6bGVDb250cm9sbGVyIGZyb20gJy4vcHV6emxlckN0cmwnO1xuXG5mdW5jdGlvbiBydW5Hcm91bmQodm5vZGU6IFZOb2RlLCBkYXRhOiBTZXJ2ZXJEYXRhKSB7XG4gICAgY29uc3QgZWwgPSB2bm9kZS5lbG0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgbmV3IFB1enpsZUNvbnRyb2xsZXIoZWwsIGRhdGEpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkYXRhOiBTZXJ2ZXJEYXRhKTogVk5vZGUge1xuICAgIGNvbnN0IHZhcmlhbnQgPSBWQVJJQU5UU1tkYXRhLnZhcmlhbnRdO1xuICAgIGNvbnN0IHBhcnRzID0gZGF0YS5mZW4uc3BsaXQoJyAnKTtcbiAgICBjb25zdCBjb2xvciA9IHBhcnRzWzFdO1xuICAgIGNvbnN0IGZ1bGxtb3ZlID0gcGFyc2VJbnQocGFydHNbcGFydHMubGVuZ3RoIC0gMV0pO1xuICAgIGNvbnN0IHBseSA9IChmdWxsbW92ZSAtMSkgKiAyICsgKChjb2xvciA9PT0gXCJiXCIpID8gMSA6IDApO1xuICAgIGNvbnN0IGZlbiA9IHBhcnRzLmpvaW4oJ18nKS5yZXBsYWNlKC9cXCsvZywgJy4nKTtcblxuICAgIGxldCBnYW1lVXJsO1xuICAgIGlmIChkYXRhLmdhbWVJZCkge1xuICAgICAgICBnYW1lVXJsID0gYCR7ZGF0YS5weWNoZXNzVVJMfS8ke2RhdGEuZ2FtZUlkfT9wbHk9JHtwbHl9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnYW1lVXJsID0gYCR7ZGF0YS5weWNoZXNzVVJMfS9hbmFseXNpcy8ke2RhdGEudmFyaWFudH0/ZmVuPSR7ZmVufWA7XG4gICAgfVxuXG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgYC9wdXp6bGUvJHtkYXRhLl9pZH1gKTtcblxuICAgIHJldHVybiBoKCdtYWluJywgW1xuICAgICAgICBoKCdzZWN0aW9uLnRvcC1jb250cm9scycsIFtcbiAgICAgICAgICAgIGgoJ2Zvcm0udmFyaWFudCcsIHsgcHJvcHM6IHttZXRob2Q6IFwicG9zdFwiLCBhY3Rpb246ICcvdmFyaWFudCd9IH0sIFtcbiAgICAgICAgICAgICAgICBoKCdzZWxlY3QjdmFyaWFudCcpLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBoKCdmb3JtLmFsbCcsIHsgcHJvcHM6IHttZXRob2Q6IFwicG9zdFwiLCBhY3Rpb246ICcvYWxsJ30gfSwgW1xuICAgICAgICAgICAgICAgIGgoJ2xhYmVsJywgeyBhdHRyczogeyBmb3I6ICdhbGwnIH0gfSwgJ0FsbCcpLFxuICAgICAgICAgICAgICAgIGgoJ2lucHV0I2FsbCcpLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBoKCdzcGFuLndyYXBwZXInLCBbXG4gICAgICAgICAgICAgICAgaCgnbGFiZWwnLCB7IGF0dHJzOiB7IGZvcjogJ3B1enpsZWZpbGUnIH0gfSwgJ1VwbG9hZCBwdXp6bGUgZmlsZTogJyksXG4gICAgICAgICAgICAgICAgaCgnaW5wdXQjcHV6emxlZmlsZScpLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBoKCdkaXYjdXNlcm5hbWUnLCBkYXRhLnVzZXJuYW1lKSxcbiAgICAgICAgICAgIGgoJ2EnLCB7IGF0dHJzOiB7aHJlZjogJy9sb2dvdXQnfSB9LCAnTG9nIG91dCcpLFxuICAgICAgICBdKSxcbiAgICAgICAgaCgnZGl2LnB1enpsZScsIFtcbiAgICAgICAgICAgIGgoJ2Rpdi5wb2NrZXQtdG9wJywgW1xuICAgICAgICAgICAgICAgIGgoJ2Rpdi4nICsgdmFyaWFudC5waWVjZUZhbWlseSArICcuJyArIGRhdGEudmFyaWFudCwgW1xuICAgICAgICAgICAgICAgICAgICBoKCdkaXYuY2ctd3JhcC5wb2NrZXQnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBoKCdkaXYjcG9ja2V0MCcpLFxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgaChgc2VsZWN0aW9uI21haW5ib2FyZC4ke3ZhcmlhbnQuYm9hcmRGYW1pbHl9LiR7dmFyaWFudC5waWVjZUZhbWlseX0uJHt2YXJpYW50LnVpLmJvYXJkTWFya31gLCBbXG4gICAgICAgICAgICAgICAgaCgnZGl2LmNnLXdyYXAuJyArIHZhcmlhbnQuYm9hcmQuY2csIHsgaG9vazogeyBpbnNlcnQ6ICh2bm9kZSkgPT4gcnVuR3JvdW5kKHZub2RlLCBkYXRhKSB9IH0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBoKCdkaXYucG9ja2V0LWJvdCcsIFtcbiAgICAgICAgICAgICAgICBoKCdkaXYuJyArIHZhcmlhbnQucGllY2VGYW1pbHkgKyAnLicgKyBkYXRhLnZhcmlhbnQsIFtcbiAgICAgICAgICAgICAgICAgICAgaCgnZGl2LmNnLXdyYXAucG9ja2V0JywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgaCgnZGl2I3BvY2tldDEnKSxcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGgoJ2Rpdi5wdXp6bGUtdWknLCBbXG4gICAgICAgICAgICAgICAgaCgnZGl2LnB1enpsZS1pbmZvJywgW1xuICAgICAgICAgICAgICAgICAgICBoKCdwLnB1enpsZS1pbmZvLXRpdGxlJywgYENhbmRpZGF0ZSBpZDogJHtkYXRhLl9pZH1gKSxcbiAgICAgICAgICAgICAgICAgICAgaCgncCcsIFsnU2l0ZTogJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICgnc2l0ZScgaW4gZGF0YSkgPyBoKCdhLmFuYWx5c2UnLCB7IGF0dHJzOiB7IGhyZWY6IGAke2RhdGEuc2l0ZX1gLCB0YXJnZXQ6ICdfYmxhbmsnfSB9LCBgJHtkYXRhLnNpdGV9YCkgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIGgoJ3AnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnRnJvbSBnYW1lOiAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaCgnYS5hbmFseXNlJywgeyBhdHRyczogeyBocmVmOiBnYW1lVXJsLCB0YXJnZXQ6ICdfYmxhbmsnfSB9LCAoJ2dhbWVJZCcgaW4gZGF0YSkgPyBgJHtkYXRhLmdhbWVJZH1gIDogJ2FuYWx5c2lzJyksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBoKCdwJywgYFR5cGU6ICR7ZGF0YS50eXBlfWApLFxuICAgICAgICAgICAgICAgICAgICBoKCdwJywgYEV2YWw6ICR7ZGF0YS5ldmFsfWApLFxuICAgICAgICAgICAgICAgICAgICBoKCdwLnNvbHV0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGgoJ3AubW92ZXMnKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBoKCdkaXYucHV6emxlLXJldmlldycsIFtcbiAgICAgICAgICAgICAgICAgICAgaCgnYnV0dG9uLnJlamVjdCcpLFxuICAgICAgICAgICAgICAgICAgICBoKCdidXR0b24uYXBwcm92ZScpLFxuICAgICAgICAgICAgICAgICAgICBoKCdidXR0b24uYXBwZW5kJyksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgaCgnZGl2LnB1enpsZS1za2lwJyksXG4gICAgICAgICAgICAgICAgaCgnZGl2LnB1enpsZS1oZWxwJywgW1xuICAgICAgICAgICAgICAgICAgICBoKCdwJywgXCJEb2VzIHRoZSBwdXp6bGUgZmVlbCBhIGJpdCBvZmYsIGNvbXB1dGVyLWxpa2UsIG9yIGZydXN0cmF0aW5nPyBKdXN0IHJlamVjdCBpdC4gVG9vIGRpZmZpY3VsdCBhbmQgeW91J3JlIG5vdCBzdXJlIGlmIGludGVyZXN0aW5nPyBTa2lwIGl0LiBVc2UgYXJyb3cga2V5cyB0byByZXBsYXksIGJhY2tzcGFjZS9lbnRlciB0byByZXZpZXcsIGEgdG8gYW5hbHlzZS5cIilcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF0pLFxuICAgICAgICBoKCdkaXYucmVwbGF5JywgW1xuICAgICAgICAgICAgaCgnYnV0dG9uLnByZXYnKSxcbiAgICAgICAgICAgIGgoJ2J1dHRvbi5uZXh0JyksXG4gICAgICAgIF0pLFxuICAgIF0pO1xufVxuIiwgImltcG9ydCB7IFNlcnZlckRhdGEgfSBmcm9tICcuL3B1enpsZXJUeXBlcyc7XG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJy4vZG9jdW1lbnQnO1xuXG5pbXBvcnQgdmlldyBmcm9tICcuL3B1enpsZXJWaWV3JztcblxuZXhwb3J0IGZ1bmN0aW9uIHB1enpsZXJTdGFydChkYXRhOiBTZXJ2ZXJEYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKSBhcyBIVE1MRWxlbWVudDtcbiAgICBwYXRjaChlbGVtZW50LCB2aWV3KGRhdGEpKTtcbn07XG5cbndpbmRvdy5wdXp6bGVyU3RhcnQgPSBwdXp6bGVyU3RhcnQ7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFzQkEsT0FBQyxTQUFTQSxTQUFRQyxXQUFVQyxZQUFXO0FBR25DLFlBQUksQ0FBQ0YsU0FBUTtBQUNUO0FBQUEsUUFDSjtBQVdBLFlBQUksT0FBTztBQUFBLFVBQ1AsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osSUFBSTtBQUFBLFVBQ0osS0FBSztBQUFBLFFBQ1Q7QUFVQSxZQUFJLGVBQWU7QUFBQSxVQUNmLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQU07QUFBQSxVQUNOLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxRQUNUO0FBWUEsWUFBSSxhQUFhO0FBQUEsVUFDYixLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FB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QUFDLGNBQUksa0JBQWtCLElBQUksUUFBTyxDQUFDLENBQUM7QUFBRSxjQUFJLFNBQU8sQ0FBQztBQUFBLFFBQUM7QUFBQSxNQUFDLEVBQUMsRUFBQztBQUFFLGVBQVMsV0FBVyxTQUFRLE1BQUs7QUFBQyxlQUFPLEtBQUssR0FBRSxTQUFRLFVBQVEsSUFBSTtBQUFBLE1BQUM7QUFBQyxlQUFTLFlBQVksTUFBSyxXQUFVO0FBQUMsZUFBTyxLQUFLLEtBQUssT0FBSyxTQUFTLElBQUU7QUFBQSxNQUFTO0FBQUMsZUFBUyxVQUFVLE1BQUs7QUFBQyxlQUFLLFlBQVksTUFBSyxLQUFLO0FBQUUsWUFBSSxNQUFJLFVBQVUsT0FBTSxJQUFJO0FBQUUsWUFBRyxDQUFDO0FBQUksaUJBQU87QUFBRSxtQkFBVyxLQUFJLElBQUk7QUFBRSxlQUFPO0FBQUEsTUFBRztBQUFDLFVBQUksUUFBTSxFQUFDLFdBQVUsTUFBSyxPQUFNLFNBQVMsT0FBTTtBQUFDLGVBQU8sTUFBTSxXQUFXLE1BQUssS0FBSSxRQUFNLEtBQUksQ0FBQztBQUFBLE1BQUMsR0FBRSxZQUFXLFNBQVMsUUFBTyxNQUFLLE1BQUssS0FBSTtBQUFDLFlBQUcsR0FBRyxTQUFTLElBQUksS0FBRyxHQUFHLE9BQU8sSUFBSSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsTUFBTSxXQUFVO0FBQUMsZ0JBQU0sWUFBVSxFQUFDLEtBQUksRUFBQyxNQUFLLEVBQUMsU0FBUSxNQUFNLFNBQVMsU0FBUSxTQUFRLE1BQU0sU0FBUyxTQUFRLFFBQU8sTUFBTSxTQUFTLFFBQU8sT0FBTSxNQUFNLFNBQVMsT0FBTSxRQUFPLE1BQU0sU0FBUyxRQUFPLFFBQU8sTUFBTSxTQUFTLFFBQU8sT0FBTSxNQUFNLFNBQVMsT0FBTSxTQUFRLE1BQU0sU0FBUyxTQUFRLFNBQVEsTUFBTSxTQUFTLFFBQU8sR0FBRSxRQUFPLEVBQUMsUUFBTyxNQUFNLFdBQVcsT0FBTSxFQUFDLEdBQUUsTUFBSyxFQUFDLE1BQUssRUFBQyxTQUFRLE1BQU0sU0FBUyxTQUFRLFNBQVEsTUFBTSxTQUFTLFFBQU8sR0FBRSxRQUFPLEVBQUMsUUFBTyxNQUFNLFdBQVcsUUFBTyxNQUFLLE1BQU0sV0FBVyxNQUFLLE9BQU0sTUFBTSxXQUFXLE9BQU0sVUFBUyxNQUFNLFdBQVcsVUFBUyxNQUFLLE1BQU0sV0FBVyxNQUFLLE9BQU0sTUFBTSxXQUFXLE1BQUssRUFBQyxHQUFFLE1BQUssRUFBQyxNQUFLLEVBQUMsU0FBUSxNQUFNLFNBQVMsU0FBUSxTQUFRLE1BQU0sU0FBUyxTQUFRLFVBQVMsTUFBTSxTQUFTLFNBQVEsR0FBRSxRQUFPLENBQUMsRUFBQyxHQUFFLFFBQU8sRUFBQyxNQUFLLEVBQUMsU0FBUSxNQUFNLFNBQVMsU0FBUSxTQUFRLE1BQU0sU0FBUyxRQUFPLEdBQUUsUUFBTyxHQUFHLGtCQUFpQixFQUFDO0FBQUEsUUFBQztBQUFDLFlBQUksT0FBSyxHQUFHLFdBQVcsUUFBTyxNQUFLLE1BQUssR0FBRztBQUFFLFlBQUcsR0FBRyxNQUFNLEtBQUssSUFBSSxHQUFFO0FBQUMsZUFBSyxXQUFTLE1BQU0sVUFBVSxJQUFJO0FBQUssZUFBSyxhQUFXLE1BQU0sVUFBVSxJQUFJO0FBQU8sZUFBSyxXQUFTLENBQUM7QUFBQSxRQUFDLFdBQVMsR0FBRyxPQUFPLEtBQUssSUFBSSxHQUFFO0FBQUMsZUFBSyxXQUFTLE1BQU0sVUFBVSxLQUFLO0FBQUssZUFBSyxhQUFXLE1BQU0sVUFBVSxLQUFLO0FBQU8sZUFBSyxZQUFVO0FBQUUsZUFBSyxXQUFTO0FBQUEsUUFBSSxXQUFTLEdBQUcsT0FBTyxLQUFLLElBQUksR0FBRTtBQUFDLGVBQUssV0FBUyxNQUFNLFVBQVUsS0FBSztBQUFLLGVBQUssYUFBVyxNQUFNLFVBQVUsS0FBSztBQUFBLFFBQU0sV0FBUyxHQUFHLFNBQVMsS0FBSyxJQUFJLEdBQUU7QUFBQyxlQUFLLFdBQVMsTUFBTSxVQUFVLE9BQU87QUFBSyxlQUFLLGFBQVcsTUFBTSxVQUFVLE9BQU87QUFBQSxRQUFNO0FBQUMsYUFB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QUFBSyxZQUFHLENBQUMsV0FBUyxDQUFDO0FBQVEsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFFLFlBQUcsUUFBUSxVQUFRLFFBQVEsT0FBTTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBSSxXQUFTLEdBQUcsV0FBVyxTQUFRLFFBQVE7QUFBRSxZQUFJLFdBQVMsUUFBUSxTQUFTLFVBQVMsV0FBVztBQUFFLFlBQUcsU0FBUyxPQUFPLENBQUMsTUFBSSxLQUFJO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxtQkFBUyxRQUFRLFNBQVMsVUFBUyxXQUFXO0FBQUUsWUFBRyxTQUFTLE9BQU8sQ0FBQyxNQUFJLEtBQUk7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUk7QUFBUyxZQUFHO0FBQUMscUJBQVMsR0FBRyxXQUFXLFNBQVEsUUFBUTtBQUFBLFFBQUMsU0FBTyxHQUFOO0FBQUEsUUFBUztBQUFDLFlBQUcsYUFBVyxVQUFTO0FBQUM7QUFBQSxRQUFNO0FBQUMsWUFBSSxRQUFNLEdBQUcsTUFBTSxTQUFTLElBQUk7QUFBRSxZQUFJLFVBQVEsR0FBRyxVQUFVLFNBQVEsVUFBUyxLQUFLO0FBQUUsWUFBRyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsT0FBTztBQUFBLFFBQUM7QUFBQyxrQkFBUSxXQUFTLEdBQUcsVUFBVSxTQUFRLFVBQVMsS0FBSyxJQUFFLEdBQUcsVUFBVSxTQUFRLFFBQVE7QUFBRSxZQUFHLFNBQVE7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxPQUFPO0FBQUEsUUFBQztBQUFDLFlBQUcsQ0FBQyxRQUFRLFNBQVMsUUFBTztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxHQUFHLGFBQWEsUUFBUSxLQUFHLFlBQVUsR0FBRyxhQUFhLFFBQVEsR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxZQUFVLFNBQVE7QUFBQyxvQkFBUSxHQUFHLGdCQUFnQixTQUFRLEdBQUc7QUFBRSxjQUFHLFNBQVE7QUFBQyxrQkFBTSxJQUFJLEdBQUcsV0FBVyxPQUFPO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxXQUFHLGVBQWUsUUFBUTtBQUFFLFlBQUc7QUFBQyxrQkFBUSxTQUFTLE9BQU8sVUFBUyxTQUFRLFFBQVE7QUFBQSxRQUFDLFNBQU8sR0FBTjtBQUFTLGdCQUFNO0FBQUEsUUFBQyxVQUFDO0FBQVEsYUFBRyxZQUFZLFFBQVE7QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLE9BQU0sU0FBUyxNQUFLO0FBQUMsWUFBSSxTQUFPLEdBQUcsV0FBVyxNQUFLLEVBQUMsUUFBTyxLQUFJLENBQUM7QUFBRSxZQUFJLFNBQU8sT0FBTztBQUFLLFlBQUksT0FBSyxLQUFLLFNBQVMsSUFBSTtBQUFFLFlBQUksT0FBSyxHQUFHLFdBQVcsUUFBTyxJQUFJO0FBQUUsWUFBSSxVQUFRLEdBQUcsVUFBVSxRQUFPLE1BQUssSUFBSTtBQUFFLFlBQUcsU0FBUTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLE9BQU87QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLE9BQU8sU0FBUyxPQUFNO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLEdBQUcsYUFBYSxJQUFJLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sU0FBUyxNQUFNLFFBQU8sSUFBSTtBQUFFLFdBQUcsWUFBWSxJQUFJO0FBQUEsTUFBQyxHQUFFLFNBQVEsU0FBUyxNQUFLO0FBQUMsWUFBSSxTQUFPLEdBQUcsV0FBVyxNQUFLLEVBQUMsUUFBTyxLQUFJLENBQUM7QUFBRSxZQUFJLE9BQUssT0FBTztBQUFLLFlBQUcsQ0FBQyxLQUFLLFNBQVMsU0FBUTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsZUFBTyxLQUFLLFNBQVMsUUFBUSxJQUFJO0FBQUEsTUFBQyxHQUFFLFFBQU8sU0FBUyxNQUFLO0FBQUMsWUFBSSxTQUFPLEdBQUcsV0FBVyxNQUFLLEVBQUMsUUFBTyxLQUFJLENBQUM7QUFBRSxZQUFJLFNBQU8sT0FBTztBQUFLLFlBQUksT0FBSyxLQUFLLFNBQVMsSUFBSTtBQUFFLFlBQUksT0FBSyxHQUFHLFdBQVcsUUFBTyxJQUFJO0FBQUUsWUFBSSxVQUFRLEdBQUcsVUFBVSxRQUFPLE1BQUssS0FBSztBQUFFLFlBQUcsU0FBUTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLE9BQU87QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLE9BQU8sU0FBUyxRQUFPO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLEdBQUcsYUFBYSxJQUFJLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sU0FBUyxPQUFPLFFBQU8sSUFBSTtBQUFFLFdBQUcsWUFBWSxJQUFJO0FBQUEsTUFBQyxHQUFFLFVBQVMsU0FBUyxNQUFLO0FBQUMsWUFBSSxTQUFPLEdBQUcsV0FBVyxJQUFJO0FBQUUsWUFBSSxPQUFLLE9BQU87QUFBSyxZQUFHLENBQUMsTUFBSztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLEtBQUssU0FBUyxVQUFTO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPLFFBQVEsUUFBUSxHQUFHLFFBQVEsS0FBSyxNQUFNLEdBQUUsS0FBSyxTQUFTLFNBQVMsSUFBSSxDQUFDO0FBQUEsTUFBQyxHQUFFLE1BQUssU0FBUyxNQUFLLFlBQVc7QUFBQyxZQUFJLFNBQU8sR0FBRyxXQUFXLE1BQUssRUFBQyxRQUFPLENBQUMsV0FBVSxDQUFDO0FBQUUsWUFBSSxPQUFLLE9BQU87QUFBSyxZQUFHLENBQUMsTUFBSztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxDQUFDLEtBQUssU0FBUyxTQUFRO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxlQUFPLEtBQUssU0FBUyxRQUFRLElBQUk7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLE1BQUs7QUFBQyxlQUFPLEdBQUcsS0FBSyxNQUFLLElBQUk7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLE1BQUssTUFBSyxZQUFXO0FBQUMsWUFBSTtBQUFLLFlBQUcsT0FBTyxTQUFPLFVBQVM7QUFBQyxjQUFJLFNBQU8sR0FBRyxXQUFXLE1BQUssRUFBQyxRQUFPLENBQUMsV0FBVSxDQUFDO0FBQUUsaUJBQUssT0FBTztBQUFBLFFBQUksT0FBSztBQUFDLGlCQUFLO0FBQUEsUUFBSTtBQUFDLFlBQUcsQ0FBQyxLQUFLLFNBQVMsU0FBUTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsYUFBSyxTQUFTLFFBQVEsTUFBSyxFQUFDLE1BQUssT0FBSyxPQUFLLEtBQUssT0FBSyxDQUFDLE1BQUssV0FBVSxLQUFLLElBQUksRUFBQyxDQUFDO0FBQUEsTUFBQyxHQUFFLFFBQU8sU0FBUyxNQUFLLE1BQUs7QUFBQyxXQUFHLE1BQU0sTUFBSyxNQUFLLElBQUk7QUFBQSxNQUFDLEdBQUUsUUFBTyxTQUFTLElBQUcsTUFBSztBQUFDLFlBQUksU0FBTyxHQUFHLFVBQVUsRUFBRTtBQUFFLFlBQUcsQ0FBQyxRQUFPO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUFBLFFBQUM7QUFBQyxXQUFHLE1BQU0sT0FBTyxNQUFLLElBQUk7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLE1BQUssS0FBSSxLQUFJLFlBQVc7QUFBQyxZQUFJO0FBQUssWUFBRyxPQUFPLFNBQU8sVUFBUztBQUFDLGNBQUksU0FBTyxHQUFHLFdBQVcsTUFBSyxFQUFDLFFBQU8sQ0FBQyxXQUFVLENBQUM7QUFB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QU8sUUFBTSxhQUFXLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsR0FBRyxNQUFNLE9BQU8sS0FBSyxJQUFJLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLFlBQUcsQ0FBQyxPQUFPLFdBQVcsT0FBTTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxPQUFPLFlBQVUsT0FBTyxRQUFNLE1BQUs7QUFBQyxhQUFHLE9BQU8sUUFBTyxHQUFFLENBQUM7QUFBQSxRQUFDO0FBQUMsWUFBSSxVQUFRLE9BQU8sYUFBVztBQUFZLFlBQUcsQ0FBQyxTQUFRO0FBQUMscUJBQVMsT0FBTztBQUFBLFFBQVEsV0FBUyxDQUFDLE9BQU8sVUFBUztBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLEVBQUU7QUFBQSxRQUFDO0FBQUMsWUFBSSxlQUFhLE9BQU8sV0FBVyxNQUFNLFFBQU9BLFNBQU8sUUFBTyxRQUFPLFVBQVMsTUFBTTtBQUFFLFlBQUcsQ0FBQztBQUFRLGlCQUFPLFlBQVU7QUFBYSxlQUFPO0FBQUEsTUFBWSxHQUFFLFVBQVMsU0FBUyxRQUFPLFFBQU8sUUFBTztBQUFDLFlBQUcsR0FBRyxTQUFTLE1BQU0sR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLENBQUM7QUFBQSxRQUFDO0FBQUMsWUFBRyxTQUFPLEtBQUcsVUFBUSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxhQUFJLE9BQU8sUUFBTSxhQUFXLEdBQUU7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsQ0FBQyxHQUFHLE9BQU8sT0FBTyxLQUFLLElBQUksS0FBRyxDQUFDLEdBQUcsTUFBTSxPQUFPLEtBQUssSUFBSSxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsRUFBRTtBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsT0FBTyxXQUFXLFVBQVM7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxHQUFHO0FBQUEsUUFBQztBQUFDLGVBQU8sV0FBVyxTQUFTLFFBQU8sUUFBTyxNQUFNO0FBQUEsTUFBQyxHQUFFLE1BQUssU0FBUyxRQUFPLFNBQVEsUUFBTyxVQUFTLE1BQUssT0FBTTtBQUFDLGFBQUksT0FBSyxPQUFLLE1BQUksUUFBTSxPQUFLLE1BQUksT0FBTyxRQUFNLGFBQVcsR0FBRTtBQUFDLGdCQUFNLElBQUksR0FBRyxXQUFXLENBQUM7QUFBQSxRQUFDO0FBQUMsYUFBSSxPQUFPLFFBQU0sYUFBVyxHQUFFO0FBQUMsZ0JBQU0sSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUFBLFFBQUM7QUFBQyxZQUFHLENBQUMsT0FBTyxXQUFXLE1BQUs7QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sT0FBTyxXQUFXLEtBQUssUUFBTyxTQUFRLFFBQU8sVUFBUyxNQUFLLEtBQUs7QUFBQSxNQUFDLEdBQUUsT0FBTSxTQUFTLFFBQU9BLFNBQU8sUUFBTyxRQUFPLFdBQVU7QUFBQyxZQUFHLENBQUMsVUFBUSxDQUFDLE9BQU8sV0FBVyxPQUFNO0FBQUMsaUJBQU87QUFBQSxRQUFDO0FBQUMsZUFBTyxPQUFPLFdBQVcsTUFBTSxRQUFPQSxTQUFPLFFBQU8sUUFBTyxTQUFTO0FBQUEsTUFBQyxHQUFFLFFBQU8sU0FBUyxRQUFPO0FBQUMsZUFBTztBQUFBLE1BQUMsR0FBRSxPQUFNLFNBQVMsUUFBTyxLQUFJLEtBQUk7QUFBQyxZQUFHLENBQUMsT0FBTyxXQUFXLE9BQU07QUFBQyxnQkFBTSxJQUFJLEdBQUcsV0FBVyxFQUFFO0FBQUEsUUFBQztBQUFDLGVBQU8sT0FBTyxXQUFXLE1BQU0sUUFBTyxLQUFJLEdBQUc7QUFBQSxNQUFDLEdBQUUsVUFBUyxTQUFTLE1BQUssTUFBSztBQUFDLGVBQUssUUFBTSxDQUFDO0FBQUUsYUFBSyxRQUFNLEtBQUssU0FBTztBQUFFLGFBQUssV0FB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TUFBSSxNQUFJLENBQUMsSUFBRSxLQUFLO0FBQUksZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFLEtBQUs7QUFBSyxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUU7QUFBRSxrQkFBUSxDQUFDLEtBQUssU0FBTyxJQUFHLGFBQVcsS0FBSyxNQUFLLENBQUMsS0FBSyxJQUFJLFVBQVUsS0FBRyxJQUFFLGFBQVcsS0FBRyxLQUFLLElBQUksQ0FBQyxLQUFLLE1BQU0sYUFBVyxVQUFVLEdBQUUsVUFBVSxJQUFFLE9BQUssSUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLE1BQU0sYUFBVyxFQUFFLENBQUMsQ0FBQyxlQUFhLE1BQUksVUFBVSxNQUFJLElBQUUsRUFBRSxHQUFFLE9BQU8sTUFBSSxNQUFJLENBQUMsSUFBRSxRQUFRLENBQUMsR0FBRSxPQUFPLE1BQUksTUFBSSxDQUFDLElBQUUsUUFBUSxDQUFDO0FBQUUsZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFO0FBQUssZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFLEtBQUs7QUFBTyxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUUsS0FBSyxNQUFNLFFBQVEsSUFBRSxNQUFJO0FBQUUsZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFO0FBQUUsZUFBTyxNQUFJLE1BQUksQ0FBQyxJQUFFLEtBQUssTUFBTSxRQUFRLElBQUUsTUFBSTtBQUFFLGVBQU8sTUFBSSxNQUFJLENBQUMsSUFBRTtBQUFFLGVBQU8sTUFBSSxNQUFJLENBQUMsSUFBRSxLQUFLLE1BQU0sUUFBUSxJQUFFLE1BQUk7QUFBRSxlQUFPLE1BQUksTUFBSSxDQUFDLElBQUU7QUFBRSxrQkFBUSxDQUFDLEtBQUssUUFBTSxJQUFHLGFBQVcsS0FBSyxLQUFJLENBQUMsS0FBSyxJQUFJLFVBQVUsS0FBRyxJQUFFLGFBQVcsS0FBRyxLQUFLLElBQUksQ0FBQyxLQUFLLE1BQU0sYUFBVyxVQUFVLEdBQUUsVUFBVSxJQUFFLE9BQUssSUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLE1BQU0sYUFBVyxFQUFFLENBQUMsQ0FB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QUFJLFlBQVksT0FBUSxHQUFHLEtBQUssV0FBVyxVQUFVO0FBQUEsWUFDcEgsQ0FBQztBQUFBLFlBQ0QsRUFBRSxLQUFLLFNBQVMsS0FBSyxNQUFNO0FBQUEsWUFDM0IsRUFBRSxLQUFLLFNBQVMsS0FBSyxNQUFNO0FBQUEsWUFDM0IsRUFBRSxZQUFZO0FBQUEsWUFDZCxFQUFFLFNBQVM7QUFBQSxVQUNmLENBQUM7QUFBQSxVQUNELEVBQUUscUJBQXFCO0FBQUEsWUFDbkIsRUFBRSxlQUFlO0FBQUEsWUFDakIsRUFBRSxnQkFBZ0I7QUFBQSxZQUNsQixFQUFFLGVBQWU7QUFBQSxVQUNyQixDQUFDO0FBQUEsVUFDRCxFQUFFLGlCQUFpQjtBQUFBLFVBQ25CLEVBQUUsbUJBQW1CO0FBQUEsWUFDakIsRUFBRSxLQUFLLDhNQUE4TTtBQUFBLFVBQ3pOLENBQUM7QUFBQSxRQUNMLENBQUM7QUFBQSxNQUNMLENBQUM7QUFBQSxNQUNELEVBQUUsY0FBYztBQUFBLFFBQ1osRUFBRSxhQUFhO0FBQUEsUUFDZixFQUFFLGFBQWE7QUFBQSxNQUNuQixDQUFDO0FBQUEsSUFDTCxDQUFDO0FBQUEsRUFDTDs7O0FDekZPLFdBQVMsYUFBYSxNQUFrQjtBQUMzQyxZQUFRLElBQUksSUFBSTtBQUNoQixVQUFNLFVBQVUsU0FBUyxjQUFjLE1BQU07QUFDN0MsVUFBTSxTQUFTLG9CQUFLLElBQUksQ0FBQztBQUFBLEVBQzdCO0FBRUEsU0FBTyxlQUFlOyIsCiAgIm5hbWVzIjogWyJ3aW5kb3ciLCAiZG9jdW1lbnQiLCAidW5kZWZpbmVkIiwgImkiLCAiTW91c2V0cmFwIiwgInNlbGYiLCAibWV0aG9kIiwgIkhvd2xlckdsb2JhbCIsICJzZWxmIiwgIkhvd2xlciIsICJzb3VuZCIsICJlIiwgImkiLCAiSG93bCIsICJTb3VuZCIsICJzdGFydCIsICJzdG9wIiwgImVuZCIsICJkaWZmIiwgIm9yIiwgInRhZ05hbWUiLCAicGFyZW50Tm9kZSIsICJmcmFnbWVudCIsICJfYSIsICJfYSIsICJpc0VsZW1lbnQiLCAidm5vZGUiLCAiaXNEb2N1bWVudEZyYWdtZW50IiwgImluaXQiLCAiaGFzaCIsICJwYXRjaCIsICJ2bm9kZSIsICJ2bm9kZSIsICJ2bm9kZSIsICJ2bm9kZSIsICJ2bm9kZSIsICJ2bm9kZSIsICJfYSIsICJOb3RhdGlvbiIsICJmaWxlcyIsICJyYW5rcyIsICJfYSIsICJfYSIsICJ0YWdOYW1lIiwgImRlZmF1bHRzIiwgIl8iLCAib3B0aW9ucyIsICJfYSIsICJzdGVwIiwgInZhcmlhbnQiLCAiZmlsZXMiLCAidmFyaWFudCIsICJpMThuIiwgInJhbmtzIiwgImxldHRlcnMiLCAiX2EiLCAiXyIsICJfYSIsICJvbkNoYW5nZSIsICJ2YXJpYW50IiwgIm1vdmUiLCAidmFyaWFudCIsICJtb3ZlIiwgIm1vdmUiLCAidm5vZGUiLCAidmFyaWFudCIsICJtb3ZlIiwgInZub2RlIiwgIm1vdmUiLCAiYmFja3JhbmsiLCAiZmlsZXMiLCAieDEiLCAieTEiLCAieDIiLCAieTIiLCAidmFyaWFudCIsICJraW5nIiwgInJvb2siLCAiX2EiLCAibW92ZSIsICJfYSIsICJraW5nIiwgIm5vdyIsICJfYSIsICJzdGFydCIsICJfYSIsICJjYW5jZWwiLCAibW92ZSIsICJlbmQiLCAic3RhcnQiLCAidG9nZ2xlT3JpZW50YXRpb24iLCAic3RhdGUiLCAiX2EiLCAiY2FuY2VsIiwgInZhcmlhbnQiLCAiYnVpbHRpbk1vYmlsaXR5IiwgIl9hIiwgInJlbmRlclNoYXBlIiwgImVsIiwgImNyZWF0ZUVsZW1lbnQiLCAidGFnTmFtZSIsICJicnVzaGVzIiwgImJydXNoIiwgImgiLCAiaGFzaCIsICJjcmVhdGVFbGVtZW50IiwgImZpbGVzIiwgInJhbmtzIiwgIl9hIiwgIm1vdmUiLCAiZW5kIiwgImNhbmNlbCIsICJzdGFydCIsICJyZW5kZXIiLCAicG9zVG9UcmFuc2xhdGUiLCAiYW5pbSIsICJrIiwgIl9hIiwgInByZW1vdmUiLCAicmVuZGVyIiwgInJlbmRlclNoYXBlIiwgInJlbmRlclJlc2l6ZWQiLCAicG9zVG9UcmFuc2xhdGUiLCAiX2EiLCAiaGFzaCIsICJyZW5kZXIiLCAicmVuZGVyUmVzaXplZCIsICJzdGFydCIsICJNb2R1bGUiLCAiYXJyYXkiLCAiYnVmZmVyIiwgImVyciIsICJleHBvcnRzIiwgInN0YXJ0IiwgImVuZCIsICJrZXkiLCAiZGVmYXVsdHMiLCAiaGFzaCIsICJlcnJubyIsICJ4aHIiLCAibGF6eUFycmF5IiwgImJ5dGVBcnJheSIsICJpbmRleGVkREIiLCAiZmlsZXMiLCAidHlwZUNvbnZlcnRlcnMiLCAiaGFuZGxlIiwgImRlbCIsICJhcmdUeXBlcyIsICJkYXRlIiwgIl9hIiwgInZhcmlhbnQiLCAiYm9hcmRTZXR0aW5ncyIsICJfYSIsICJzb3VuZCIsICJ2YXJpYW50IiwgIl8iLCAiX2EiLCAic3RlcCIsICJtb3ZlIiwgIm1vdmUiLCAidmFyaWFudCIsICJmaWxlcyIsICJ2bm9kZSIsICJ2YXJpYW50Il0KfQo=
